(()=>{var Pb=Object.create;var Tl=Object.defineProperty;var jb=Object.getOwnPropertyDescriptor;var Mb=Object.getOwnPropertyNames,hm=Object.getOwnPropertySymbols,Bb=Object.getPrototypeOf,pm=Object.prototype.hasOwnProperty,Ub=Object.prototype.propertyIsEnumerable;var ym=Math.pow,dm=(e,t,r)=>t in e?Tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mm=(e,t)=>{for(var r in t||(t={}))pm.call(t,r)&&dm(e,r,t[r]);if(hm)for(var r of hm(t))Ub.call(t,r)&&dm(e,r,t[r]);return e};var zb=e=>Tl(e,"__esModule",{value:!0});var Vb=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Pr=(e,t)=>()=>(e&&(t=e(e=0)),t);var xe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var qb=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Mb(t))!pm.call(e,i)&&(r||i!=="default")&&Tl(e,i,{get:()=>t[i],enumerable:!(n=jb(t,i))||n.enumerable});return e},Rt=(e,t)=>qb(zb(Tl(e!=null?Pb(Bb(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var He=(e,t,r)=>new Promise((n,i)=>{var o=f=>{try{a(r.next(f))}catch(d){i(d)}},s=f=>{try{a(r.throw(f))}catch(d){i(d)}},a=f=>f.done?n(f.value):Promise.resolve(f.value).then(o,s);a((r=r.apply(e,t)).next())});var Pf=xe((t8,vm)=>{"use strict";var gm=Object.getOwnPropertySymbols,Wb=Object.prototype.hasOwnProperty,$b=Object.prototype.propertyIsEnumerable;function Hb(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Jb(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}vm.exports=Jb()?Object.assign:function(e,t){for(var r,n=Hb(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)Wb.call(r,s)&&(n[s]=r[s]);if(gm){i=gm(r);for(var a=0;a<i.length;a++)$b.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}});var Fm=xe(Me=>{"use strict";var Mf=Pf(),Oo=60103,Sm=60106;Me.Fragment=60107;Me.StrictMode=60108;Me.Profiler=60114;var Em=60109,bm=60110,Om=60112;Me.Suspense=60113;var xm=60115,Tm=60116;typeof Symbol=="function"&&Symbol.for&&(jr=Symbol.for,Oo=jr("react.element"),Sm=jr("react.portal"),Me.Fragment=jr("react.fragment"),Me.StrictMode=jr("react.strict_mode"),Me.Profiler=jr("react.profiler"),Em=jr("react.provider"),bm=jr("react.context"),Om=jr("react.forward_ref"),Me.Suspense=jr("react.suspense"),xm=jr("react.memo"),Tm=jr("react.lazy"));var jr,wm=typeof Symbol=="function"&&Symbol.iterator;function Gb(e){return e===null||typeof e!="object"?null:(e=wm&&e[wm]||e["@@iterator"],typeof e=="function"?e:null)}function Ms(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},km={};function xo(e,t,r){this.props=e,this.context=t,this.refs=km,this.updater=r||Nm}xo.prototype.isReactComponent={};xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Ms(85));this.updater.enqueueSetState(this,e,t,"setState")};xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Im(){}Im.prototype=xo.prototype;function Bf(e,t,r){this.props=e,this.context=t,this.refs=km,this.updater=r||Nm}var Uf=Bf.prototype=new Im;Uf.constructor=Bf;Mf(Uf,xo.prototype);Uf.isPureReactComponent=!0;var zf={current:null},Am=Object.prototype.hasOwnProperty,Rm={key:!0,ref:!0,__self:!0,__source:!0};function Dm(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Am.call(t,n)&&!Rm.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var f=Array(a),d=0;d<a;d++)f[d]=arguments[d+2];i.children=f}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Oo,type:e,key:o,ref:s,props:i,_owner:zf.current}}function Yb(e,t){return{$$typeof:Oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oo}function Kb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _m=/\/+/g;function jf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kb(""+e.key):t.toString(36)}function kl(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Oo:case Sm:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+jf(s,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(_m,"$&/")+"/"),kl(i,t,r,"",function(d){return d})):i!=null&&(Vf(i)&&(i=Yb(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(_m,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Array.isArray(e))for(var a=0;a<e.length;a++){o=e[a];var f=n+jf(o,a);s+=kl(o,t,r,f,i)}else if(f=Gb(e),typeof f=="function")for(e=f.call(e),a=0;!(o=e.next()).done;)o=o.value,f=n+jf(o,a++),s+=kl(o,t,r,f,i);else if(o==="object")throw t=""+e,Error(Ms(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function Nl(e,t,r){if(e==null)return e;var n=[],i=0;return kl(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Zb(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var Cm={current:null};function In(){var e=Cm.current;if(e===null)throw Error(Ms(321));return e}var Xb={ReactCurrentDispatcher:Cm,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:zf,IsSomeRendererActing:{current:!1},assign:Mf};Me.Children={map:Nl,forEach:function(e,t,r){Nl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Nl(e,function(){t++}),t},toArray:function(e){return Nl(e,function(t){return t})||[]},only:function(e){if(!Vf(e))throw Error(Ms(143));return e}};Me.Component=xo;Me.PureComponent=Bf;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xb;Me.cloneElement=function(e,t,r){if(e==null)throw Error(Ms(267,e));var n=Mf({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=zf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(f in t)Am.call(t,f)&&!Rm.hasOwnProperty(f)&&(n[f]=t[f]===void 0&&a!==void 0?a[f]:t[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){a=Array(f);for(var d=0;d<f;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:Oo,type:e.type,key:i,ref:o,props:n,_owner:s}};Me.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:bm,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:Em,_context:e},e.Consumer=e};Me.createElement=Dm;Me.createFactory=function(e){var t=Dm.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:Om,render:e}};Me.isValidElement=Vf;Me.lazy=function(e){return{$$typeof:Tm,_payload:{_status:-1,_result:e},_init:Zb}};Me.memo=function(e,t){return{$$typeof:xm,type:e,compare:t===void 0?null:t}};Me.useCallback=function(e,t){return In().useCallback(e,t)};Me.useContext=function(e,t){return In().useContext(e,t)};Me.useDebugValue=function(){};Me.useEffect=function(e,t){return In().useEffect(e,t)};Me.useImperativeHandle=function(e,t,r){return In().useImperativeHandle(e,t,r)};Me.useLayoutEffect=function(e,t){return In().useLayoutEffect(e,t)};Me.useMemo=function(e,t){return In().useMemo(e,t)};Me.useReducer=function(e,t,r){return In().useReducer(e,t,r)};Me.useRef=function(e){return In().useRef(e)};Me.useState=function(e){return In().useState(e)};Me.version="17.0.2"});var Fe=xe((n8,Lm)=>{"use strict";Lm.exports=Fm()});var zm=xe(Ue=>{"use strict";var No,zs,Dl,Yf;typeof performance=="object"&&typeof performance.now=="function"?(Pm=performance,Ue.unstable_now=function(){return Pm.now()}):(qf=Date,jm=qf.now(),Ue.unstable_now=function(){return qf.now()-jm});var Pm,qf,jm;typeof window>"u"||typeof MessageChannel!="function"?(To=null,Wf=null,$f=function(){if(To!==null)try{var e=Ue.unstable_now();To(!0,e),To=null}catch(t){throw setTimeout($f,0),t}},No=function(e){To!==null?setTimeout(No,0,e):(To=e,setTimeout($f,0))},zs=function(e,t){Wf=setTimeout(e,t)},Dl=function(){clearTimeout(Wf)},Ue.unstable_shouldYield=function(){return!1},Yf=Ue.unstable_forceFrameRate=function(){}):(Mm=window.setTimeout,Bm=window.clearTimeout,typeof console<"u"&&(Um=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Um!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Bs=!1,Us=null,Il=-1,Hf=5,Jf=0,Ue.unstable_shouldYield=function(){return Ue.unstable_now()>=Jf},Yf=function(){},Ue.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Hf=0<e?Math.floor(1e3/e):5},Gf=new MessageChannel,Al=Gf.port2,Gf.port1.onmessage=function(){if(Us!==null){var e=Ue.unstable_now();Jf=e+Hf;try{Us(!0,e)?Al.postMessage(null):(Bs=!1,Us=null)}catch(t){throw Al.postMessage(null),t}}else Bs=!1},No=function(e){Us=e,Bs||(Bs=!0,Al.postMessage(null))},zs=function(e,t){Il=Mm(function(){e(Ue.unstable_now())},t)},Dl=function(){Bm(Il),Il=-1});var To,Wf,$f,Mm,Bm,Um,Bs,Us,Il,Hf,Jf,Gf,Al;function Kf(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<Rl(i,t))e[n]=t,e[r]=i,r=n;else break e}}function Zr(e){return e=e[0],e===void 0?null:e}function Cl(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,s=e[o],a=o+1,f=e[a];if(s!==void 0&&0>Rl(s,r))f!==void 0&&0>Rl(f,s)?(e[n]=f,e[a]=r,n=a):(e[n]=s,e[o]=r,n=o);else if(f!==void 0&&0>Rl(f,r))e[n]=f,e[a]=r,n=a;else break e}}return t}return null}function Rl(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var yn=[],zn=[],Qb=1,Mr=null,Kt=3,Fl=!1,Fi=!1,Vs=!1;function Zf(e){for(var t=Zr(zn);t!==null;){if(t.callback===null)Cl(zn);else if(t.startTime<=e)Cl(zn),t.sortIndex=t.expirationTime,Kf(yn,t);else break;t=Zr(zn)}}function Xf(e){if(Vs=!1,Zf(e),!Fi)if(Zr(yn)!==null)Fi=!0,No(Qf);else{var t=Zr(zn);t!==null&&zs(Xf,t.startTime-e)}}function Qf(e,t){Fi=!1,Vs&&(Vs=!1,Dl()),Fl=!0;var r=Kt;try{for(Zf(t),Mr=Zr(yn);Mr!==null&&(!(Mr.expirationTime>t)||e&&!Ue.unstable_shouldYield());){var n=Mr.callback;if(typeof n=="function"){Mr.callback=null,Kt=Mr.priorityLevel;var i=n(Mr.expirationTime<=t);t=Ue.unstable_now(),typeof i=="function"?Mr.callback=i:Mr===Zr(yn)&&Cl(yn),Zf(t)}else Cl(yn);Mr=Zr(yn)}if(Mr!==null)var o=!0;else{var s=Zr(zn);s!==null&&zs(Xf,s.startTime-t),o=!1}return o}finally{Mr=null,Kt=r,Fl=!1}}var e3=Yf;Ue.unstable_IdlePriority=5;Ue.unstable_ImmediatePriority=1;Ue.unstable_LowPriority=4;Ue.unstable_NormalPriority=3;Ue.unstable_Profiling=null;Ue.unstable_UserBlockingPriority=2;Ue.unstable_cancelCallback=function(e){e.callback=null};Ue.unstable_continueExecution=function(){Fi||Fl||(Fi=!0,No(Qf))};Ue.unstable_getCurrentPriorityLevel=function(){return Kt};Ue.unstable_getFirstCallbackNode=function(){return Zr(yn)};Ue.unstable_next=function(e){switch(Kt){case 1:case 2:case 3:var t=3;break;default:t=Kt}var r=Kt;Kt=t;try{return e()}finally{Kt=r}};Ue.unstable_pauseExecution=function(){};Ue.unstable_requestPaint=e3;Ue.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=Kt;Kt=e;try{return t()}finally{Kt=r}};Ue.unstable_scheduleCallback=function(e,t,r){var n=Ue.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,e={id:Qb++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,Kf(zn,e),Zr(yn)===null&&e===Zr(zn)&&(Vs?Dl():Vs=!0,zs(Xf,r-n))):(e.sortIndex=i,Kf(yn,e),Fi||Fl||(Fi=!0,No(Qf))),e};Ue.unstable_wrapCallback=function(e){var t=Kt;return function(){var r=Kt;Kt=t;try{return e.apply(this,arguments)}finally{Kt=r}}}});var qm=xe((o8,Vm)=>{"use strict";Vm.exports=zm()});var Av=xe(Wr=>{"use strict";var Nu=Fe(),st=Pf(),Lt=qm();function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Nu)throw Error(me(227));var r1=new Set,va={};function $i(e,t){Go(e,t),Go(e+"Capture",t)}function Go(e,t){for(va[e]=t,e=0;e<t.length;e++)r1.add(t[e])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wm=Object.prototype.hasOwnProperty,$m={},Hm={};function r3(e){return Wm.call(Hm,e)?!0:Wm.call($m,e)?!1:t3.test(e)?Hm[e]=!0:($m[e]=!0,!1)}function n3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i3(e,t,r,n){if(t===null||typeof t>"u"||n3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nr(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ld=/[\-:]([a-z])/g;function ud(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ld,ud);$t[t]=new nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ld,ud);$t[t]=new nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ld,ud);$t[t]=new nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new nr(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new nr(e,1,!1,e.toLowerCase(),null,!0,!0)});function cd(e,t,r,n){var i=$t.hasOwnProperty(t)?$t[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(i3(t,r,i,n)&&(r=null),n||i===null?r3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Hi=Nu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ta=60103,Pi=60106,qn=60107,fd=60108,sa=60114,hd=60109,dd=60110,ku=60112,aa=60113,iu=60120,Iu=60115,pd=60116,yd=60121,md=60128,n1=60129,gd=60130,Eh=60131;typeof Symbol=="function"&&Symbol.for&&(Dt=Symbol.for,ta=Dt("react.element"),Pi=Dt("react.portal"),qn=Dt("react.fragment"),fd=Dt("react.strict_mode"),sa=Dt("react.profiler"),hd=Dt("react.provider"),dd=Dt("react.context"),ku=Dt("react.forward_ref"),aa=Dt("react.suspense"),iu=Dt("react.suspense_list"),Iu=Dt("react.memo"),pd=Dt("react.lazy"),yd=Dt("react.block"),Dt("react.scope"),md=Dt("react.opaque.id"),n1=Dt("react.debug_trace_mode"),gd=Dt("react.offscreen"),Eh=Dt("react.legacy_hidden"));var Dt,Jm=typeof Symbol=="function"&&Symbol.iterator;function qs(e){return e===null||typeof e!="object"?null:(e=Jm&&e[Jm]||e["@@iterator"],typeof e=="function"?e:null)}var eh;function ra(e){if(eh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);eh=t&&t[1]||""}return`
`+eh+e}var th=!1;function Ll(e,t){if(!e||th)return"";th=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{th=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ra(e):""}function o3(e){switch(e.tag){case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return ra("Suspense");case 19:return ra("SuspenseList");case 0:case 2:case 15:return e=Ll(e.type,!1),e;case 11:return e=Ll(e.type.render,!1),e;case 22:return e=Ll(e.type._render,!1),e;case 1:return e=Ll(e.type,!0),e;default:return""}}function Mo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Pi:return"Portal";case sa:return"Profiler";case fd:return"StrictMode";case aa:return"Suspense";case iu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dd:return(e.displayName||"Context")+".Consumer";case hd:return(e._context.displayName||"Context")+".Provider";case ku:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Iu:return Mo(e.type);case yd:return Mo(e._render);case pd:t=e._payload,e=e._init;try{return Mo(e(t))}catch{}}return null}function ti(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function i1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s3(e){var t=i1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pl(e){e._valueTracker||(e._valueTracker=s3(e))}function o1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=i1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ou(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bh(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ti(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function s1(e,t){t=t.checked,t!=null&&cd(e,"checked",t,!1)}function Oh(e,t){s1(e,t);var r=ti(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xh(e,t.type,r):t.hasOwnProperty("defaultValue")&&xh(e,t.type,ti(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ym(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xh(e,t,r){(t!=="number"||ou(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function a3(e){var t="";return Nu.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function Th(e,t){return e=st({children:void 0},t),(t=a3(t.children))&&(e.children=t),e}function Bo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ti(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Km(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(me(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(me(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ti(r)}}function a1(e,t){var r=ti(t.value),n=ti(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var kh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function l1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ih(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?l1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jl,u1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==kh.svg||"innerHTML"in e)e.innerHTML=t;else{for(jl=jl||document.createElement("div"),jl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var la={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l3=["Webkit","ms","Moz","O"];Object.keys(la).forEach(function(e){l3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),la[t]=la[e]})});function c1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||la.hasOwnProperty(e)&&la[e]?(""+t).trim():t+"px"}function f1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=c1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var u3=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ah(e,t){if(t){if(u3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function Rh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function vd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dh=null,Uo=null,zo=null;function Xm(e){if(e=Ca(e)){if(typeof Dh!="function")throw Error(me(280));var t=e.stateNode;t&&(t=Lu(t),Dh(e.stateNode,e.type,t))}}function h1(e){Uo?zo?zo.push(e):zo=[e]:Uo=e}function d1(){if(Uo){var e=Uo,t=zo;if(zo=Uo=null,Xm(e),t)for(e=0;e<t.length;e++)Xm(t[e])}}function wd(e,t){return e(t)}function p1(e,t,r,n,i){return e(t,r,n,i)}function _d(){}var y1=wd,ji=!1,rh=!1;function Sd(){(Uo!==null||zo!==null)&&(_d(),d1())}function c3(e,t,r){if(rh)return e(t,r);rh=!0;try{return y1(e,t,r)}finally{rh=!1,Sd()}}function _a(e,t){var r=e.stateNode;if(r===null)return null;var n=Lu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(me(231,t,typeof r));return r}var Ch=!1;if(Ln)try{ko={},Object.defineProperty(ko,"passive",{get:function(){Ch=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{Ch=!1}var ko;function f3(e,t,r,n,i,o,s,a,f){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(m){this.onError(m)}}var ua=!1,su=null,au=!1,Fh=null,h3={onError:function(e){ua=!0,su=e}};function d3(e,t,r,n,i,o,s,a,f){ua=!1,su=null,f3.apply(h3,arguments)}function p3(e,t,r,n,i,o,s,a,f){if(d3.apply(this,arguments),ua){if(ua){var d=su;ua=!1,su=null}else throw Error(me(198));au||(au=!0,Fh=d)}}function Ji(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function m1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qm(e){if(Ji(e)!==e)throw Error(me(188))}function y3(e){var t=e.alternate;if(!t){if(t=Ji(e),t===null)throw Error(me(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Qm(i),e;if(o===n)return Qm(i),t;o=o.sibling}throw Error(me(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?e:t}function g1(e){if(e=y3(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function eg(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var v1,Ed,w1,_1,Lh=!1,mn=[],Jn=null,Gn=null,Yn=null,Sa=new Map,Ea=new Map,Ws=[],tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ph(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function rg(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":Sa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(t.pointerId)}}function $s(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=Ph(t,r,n,i,o),t!==null&&(t=Ca(t),t!==null&&Ed(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function m3(e,t,r,n,i){switch(t){case"focusin":return Jn=$s(Jn,e,t,r,n,i),!0;case"dragenter":return Gn=$s(Gn,e,t,r,n,i),!0;case"mouseover":return Yn=$s(Yn,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Sa.set(o,$s(Sa.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ea.set(o,$s(Ea.get(o)||null,e,t,r,n,i)),!0}return!1}function g3(e){var t=Mi(e.target);if(t!==null){var r=Ji(t);if(r!==null){if(t=r.tag,t===13){if(t=m1(r),t!==null){e.blockedOn=t,_1(e.lanePriority,function(){Lt.unstable_runWithPriority(e.priority,function(){w1(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Td(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=Ca(r),t!==null&&Ed(t),e.blockedOn=r,!1;t.shift()}return!0}function ng(e,t,r){Gl(e)&&r.delete(t)}function v3(){for(Lh=!1;0<mn.length;){var e=mn[0];if(e.blockedOn!==null){e=Ca(e.blockedOn),e!==null&&v1(e);break}for(var t=e.targetContainers;0<t.length;){var r=Td(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&mn.shift()}Jn!==null&&Gl(Jn)&&(Jn=null),Gn!==null&&Gl(Gn)&&(Gn=null),Yn!==null&&Gl(Yn)&&(Yn=null),Sa.forEach(ng),Ea.forEach(ng)}function Hs(e,t){e.blockedOn===t&&(e.blockedOn=null,Lh||(Lh=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,v3)))}function S1(e){function t(i){return Hs(i,e)}if(0<mn.length){Hs(mn[0],e);for(var r=1;r<mn.length;r++){var n=mn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Jn!==null&&Hs(Jn,e),Gn!==null&&Hs(Gn,e),Yn!==null&&Hs(Yn,e),Sa.forEach(t),Ea.forEach(t),r=0;r<Ws.length;r++)n=Ws[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ws.length&&(r=Ws[0],r.blockedOn===null);)g3(r),r.blockedOn===null&&Ws.shift()}function Ml(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Do={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},nh={},E1={};Ln&&(E1=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Au(e){if(nh[e])return nh[e];if(!Do[e])return e;var t=Do[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in E1)return nh[e]=t[r];return e}var b1=Au("animationend"),O1=Au("animationiteration"),x1=Au("animationstart"),T1=Au("transitionend"),N1=new Map,bd=new Map,w3=["abort","abort",b1,"animationEnd",O1,"animationIteration",x1,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",T1,"transitionEnd","waiting","waiting"];function Od(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),bd.set(n,t),N1.set(n,i),$i(i,[n])}}var _3=Lt.unstable_now;_3();var Ze=8;function Ao(e){if((1&e)!==0)return Ze=15,1;if((2&e)!==0)return Ze=14,2;if((4&e)!==0)return Ze=13,4;var t=24&e;return t!==0?(Ze=12,t):(e&32)!==0?(Ze=11,32):(t=192&e,t!==0?(Ze=10,t):(e&256)!==0?(Ze=9,256):(t=3584&e,t!==0?(Ze=8,t):(e&4096)!==0?(Ze=7,4096):(t=4186112&e,t!==0?(Ze=6,t):(t=62914560&e,t!==0?(Ze=5,t):e&67108864?(Ze=4,67108864):(e&134217728)!==0?(Ze=3,134217728):(t=805306368&e,t!==0?(Ze=2,t):(1073741824&e)!==0?(Ze=1,1073741824):(Ze=8,e))))))}function S3(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function E3(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(me(358,e))}}function ba(e,t){var r=e.pendingLanes;if(r===0)return Ze=0;var n=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(o!==0)n=o,i=Ze=15;else if(o=r&134217727,o!==0){var f=o&~s;f!==0?(n=Ao(f),i=Ze):(a&=o,a!==0&&(n=Ao(a),i=Ze))}else o=r&~s,o!==0?(n=Ao(o),i=Ze):a!==0&&(n=Ao(a),i=Ze);if(n===0)return 0;if(n=31-ri(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&s)===0){if(Ao(t),i<=Ze)return t;Ze=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ri(t),i=1<<r,n|=e[r],t&=~i;return n}function k1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lu(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Ro(24&~t),e===0?lu(10,t):e;case 10:return e=Ro(192&~t),e===0?lu(8,t):e;case 8:return e=Ro(3584&~t),e===0&&(e=Ro(4186112&~t),e===0&&(e=512)),e;case 2:return t=Ro(805306368&~t),t===0&&(t=268435456),t}throw Error(me(358,e))}function Ro(e){return e&-e}function ih(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ru(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-ri(t),e[t]=r}var ri=Math.clz32?Math.clz32:x3,b3=Math.log,O3=Math.LN2;function x3(e){return e===0?32:31-(b3(e)/O3|0)|0}var T3=Lt.unstable_UserBlockingPriority,N3=Lt.unstable_runWithPriority,Yl=!0;function k3(e,t,r,n){ji||_d();var i=xd,o=ji;ji=!0;try{p1(i,e,t,r,n)}finally{(ji=o)||Sd()}}function I3(e,t,r,n){N3(T3,xd.bind(null,e,t,r,n))}function xd(e,t,r,n){if(Yl){var i;if((i=(t&4)===0)&&0<mn.length&&-1<tg.indexOf(e))e=Ph(null,e,t,r,n),mn.push(e);else{var o=Td(e,t,r,n);if(o===null)i&&rg(e,n);else{if(i){if(-1<tg.indexOf(e)){e=Ph(o,e,t,r,n),mn.push(e);return}if(m3(o,e,t,r,n))return;rg(e,n)}z1(e,t,n,null,r)}}}}function Td(e,t,r,n){var i=vd(n);if(i=Mi(i),i!==null){var o=Ji(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=m1(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return z1(e,t,n,i,r),null}var Wn=null,Nd=null,Kl=null;function I1(){if(Kl)return Kl;var e,t=Nd,r=t.length,n,i="value"in Wn?Wn.value:Wn.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return Kl=i.slice(e,1<n?1-n:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bl(){return!0}function ig(){return!1}function Nr(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bl:ig,this.isPropagationStopped=ig,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),t}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kd=Nr(Xo),Da=st({},Xo,{view:0,detail:0}),A3=Nr(Da),oh,sh,Js,Du=st({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Id,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Js&&(Js&&e.type==="mousemove"?(oh=e.screenX-Js.screenX,sh=e.screenY-Js.screenY):sh=oh=0,Js=e),oh)},movementY:function(e){return"movementY"in e?e.movementY:sh}}),og=Nr(Du),R3=st({},Du,{dataTransfer:0}),D3=Nr(R3),C3=st({},Da,{relatedTarget:0}),ah=Nr(C3),F3=st({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),L3=Nr(F3),P3=st({},Xo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),j3=Nr(P3),M3=st({},Xo,{data:0}),sg=Nr(M3),B3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z3[e])?!!t[e]:!1}function Id(){return V3}var q3=st({},Da,{key:function(e){if(e.key){var t=B3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Id,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W3=Nr(q3),$3=st({},Du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=Nr($3),H3=st({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Id}),J3=Nr(H3),G3=st({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y3=Nr(G3),K3=st({},Du,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z3=Nr(K3),X3=[9,13,27,32],Ad=Ln&&"CompositionEvent"in window,ca=null;Ln&&"documentMode"in document&&(ca=document.documentMode);var Q3=Ln&&"TextEvent"in window&&!ca,A1=Ln&&(!Ad||ca&&8<ca&&11>=ca),lg=String.fromCharCode(32),ug=!1;function R1(e,t){switch(e){case"keyup":return X3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Co=!1;function e4(e,t){switch(e){case"compositionend":return D1(t);case"keypress":return t.which!==32?null:(ug=!0,lg);case"textInput":return e=t.data,e===lg&&ug?null:e;default:return null}}function t4(e,t){if(Co)return e==="compositionend"||!Ad&&R1(e,t)?(e=I1(),Kl=Nd=Wn=null,Co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A1&&t.locale!=="ko"?null:t.data;default:return null}}var r4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!r4[e.type]:t==="textarea"}function C1(e,t,r,n){h1(n),t=uu(t,"onChange"),0<t.length&&(r=new kd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fa=null,Oa=null;function n4(e){M1(e,0)}function Cu(e){var t=Lo(e);if(o1(t))return e}function i4(e,t){if(e==="change")return t}var F1=!1;Ln&&(Ln?(zl="oninput"in document,zl||(lh=document.createElement("div"),lh.setAttribute("oninput","return;"),zl=typeof lh.oninput=="function"),Ul=zl):Ul=!1,F1=Ul&&(!document.documentMode||9<document.documentMode));var Ul,zl,lh;function fg(){fa&&(fa.detachEvent("onpropertychange",L1),Oa=fa=null)}function L1(e){if(e.propertyName==="value"&&Cu(Oa)){var t=[];if(C1(t,Oa,e,vd(e)),e=n4,ji)e(t);else{ji=!0;try{wd(e,t)}finally{ji=!1,Sd()}}}}function o4(e,t,r){e==="focusin"?(fg(),fa=t,Oa=r,fa.attachEvent("onpropertychange",L1)):e==="focusout"&&fg()}function s4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(Oa)}function a4(e,t){if(e==="click")return Cu(t)}function l4(e,t){if(e==="input"||e==="change")return Cu(t)}function u4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Br=typeof Object.is=="function"?Object.is:u4,c4=Object.prototype.hasOwnProperty;function xa(e,t){if(Br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!c4.call(t,r[n])||!Br(e[r[n]],t[r[n]]))return!1;return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dg(e,t){var r=hg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hg(r)}}function P1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pg(){for(var e=window,t=ou();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ou(e.document)}return t}function jh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var f4=Ln&&"documentMode"in document&&11>=document.documentMode,Fo=null,Mh=null,ha=null,Bh=!1;function yg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bh||Fo==null||Fo!==ou(n)||(n=Fo,"selectionStart"in n&&jh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ha&&xa(ha,n)||(ha=n,n=uu(Mh,"onSelect"),0<n.length&&(t=new kd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fo)))}Od("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Od("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Od(w3,2);for(uh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vl=0;Vl<uh.length;Vl++)bd.set(uh[Vl],0);var uh,Vl;Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j1=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function mg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,p3(n,t,void 0,e),e.currentTarget=null}function M1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],f=a.instance,d=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;mg(i,a,d),o=f}else for(s=0;s<n.length;s++){if(a=n[s],f=a.instance,d=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;mg(i,a,d),o=f}}}if(au)throw e=Fh,au=!1,Fh=null,e}function rt(e,t){var r=q1(t),n=e+"__bubble";r.has(n)||(U1(t,e,2,!1),r.add(n))}var gg="_reactListening"+Math.random().toString(36).slice(2);function B1(e){e[gg]||(e[gg]=!0,r1.forEach(function(t){j1.has(t)||vg(t,!1,e,null),vg(t,!0,e,null)}))}function vg(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&j1.has(e)){if(e!=="scroll")return;i|=2,o=n}var s=q1(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),U1(o,e,i,t),s.add(a))}function U1(e,t,r,n){var i=bd.get(t);switch(i===void 0?2:i){case 0:i=k3;break;case 1:i=I3;break;default:i=xd}r=i.bind(null,t,r,e),i=void 0,!Ch||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function z1(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Mi(a),s===null)return;if(f=s.tag,f===5||f===6){n=o=s;continue e}a=a.parentNode}}n=n.return}c3(function(){var d=o,m=vd(r),g=[];e:{var y=N1.get(e);if(y!==void 0){var S=kd,N=e;switch(e){case"keypress":if(Zl(r)===0)break e;case"keydown":case"keyup":S=W3;break;case"focusin":N="focus",S=ah;break;case"focusout":N="blur",S=ah;break;case"beforeblur":case"afterblur":S=ah;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=D3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=J3;break;case b1:case O1:case x1:S=L3;break;case T1:S=Y3;break;case"scroll":S=A3;break;case"wheel":S=Z3;break;case"copy":case"cut":case"paste":S=j3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=ag}var A=(t&4)!==0,T=!A&&e==="scroll",I=A?y!==null?y+"Capture":null:y;A=[];for(var C=d,K;C!==null;){K=C;var H=K.stateNode;if(K.tag===5&&H!==null&&(K=H,I!==null&&(H=_a(C,I),H!=null&&A.push(Ta(C,H,K)))),T)break;C=C.return}0<A.length&&(y=new S(y,N,null,r,m),g.push({event:y,listeners:A}))}}if((t&7)===0){e:{if(y=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",y&&(t&16)===0&&(N=r.relatedTarget||r.fromElement)&&(Mi(N)||N[Qo]))break e;if((S||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,S?(N=r.relatedTarget||r.toElement,S=d,N=N?Mi(N):null,N!==null&&(T=Ji(N),N!==T||N.tag!==5&&N.tag!==6)&&(N=null)):(S=null,N=d),S!==N)){if(A=og,H="onMouseLeave",I="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(A=ag,H="onPointerLeave",I="onPointerEnter",C="pointer"),T=S==null?y:Lo(S),K=N==null?y:Lo(N),y=new A(H,C+"leave",S,r,m),y.target=T,y.relatedTarget=K,H=null,Mi(m)===d&&(A=new A(I,C+"enter",N,r,m),A.target=K,A.relatedTarget=T,H=A),T=H,S&&N)t:{for(A=S,I=N,C=0,K=A;K;K=Io(K))C++;for(K=0,H=I;H;H=Io(H))K++;for(;0<C-K;)A=Io(A),C--;for(;0<K-C;)I=Io(I),K--;for(;C--;){if(A===I||I!==null&&A===I.alternate)break t;A=Io(A),I=Io(I)}A=null}else A=null;S!==null&&wg(g,y,S,A,!1),N!==null&&T!==null&&wg(g,T,N,A,!0)}}e:{if(y=d?Lo(d):window,S=y.nodeName&&y.nodeName.toLowerCase(),S==="select"||S==="input"&&y.type==="file")var J=i4;else if(cg(y))if(F1)J=l4;else{J=s4;var M=o4}else(S=y.nodeName)&&S.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(J=a4);if(J&&(J=J(e,d))){C1(g,J,r,m);break e}M&&M(e,y,d),e==="focusout"&&(M=y._wrapperState)&&M.controlled&&y.type==="number"&&xh(y,"number",y.value)}switch(M=d?Lo(d):window,e){case"focusin":(cg(M)||M.contentEditable==="true")&&(Fo=M,Mh=d,ha=null);break;case"focusout":ha=Mh=Fo=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,yg(g,r,m);break;case"selectionchange":if(f4)break;case"keydown":case"keyup":yg(g,r,m)}var V;if(Ad)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Co?R1(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(A1&&r.locale!=="ko"&&(Co||_!=="onCompositionStart"?_==="onCompositionEnd"&&Co&&(V=I1()):(Wn=m,Nd="value"in Wn?Wn.value:Wn.textContent,Co=!0)),M=uu(d,_),0<M.length&&(_=new sg(_,e,null,r,m),g.push({event:_,listeners:M}),V?_.data=V:(V=D1(r),V!==null&&(_.data=V)))),(V=Q3?e4(e,r):t4(e,r))&&(d=uu(d,"onBeforeInput"),0<d.length&&(m=new sg("onBeforeInput","beforeinput",null,r,m),g.push({event:m,listeners:d}),m.data=V))}M1(g,t)})}function Ta(e,t,r){return{instance:e,listener:t,currentTarget:r}}function uu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_a(e,r),o!=null&&n.unshift(Ta(e,o,i)),o=_a(e,t),o!=null&&n.push(Ta(e,o,i))),e=e.return}return n}function Io(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wg(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,f=a.alternate,d=a.stateNode;if(f!==null&&f===n)break;a.tag===5&&d!==null&&(a=d,i?(f=_a(r,o),f!=null&&s.unshift(Ta(r,f,a))):i||(f=_a(r,o),f!=null&&s.push(Ta(r,f,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}function cu(){}var ch=null,fh=null;function V1(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Uh(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,h4=typeof clearTimeout=="function"?clearTimeout:void 0;function Rd(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function Sg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hh=0;function d4(e){return{$$typeof:md,toString:e,valueOf:e}}var Fu=Math.random().toString(36).slice(2),$n="__reactFiber$"+Fu,fu="__reactProps$"+Fu,Qo="__reactContainer$"+Fu,Eg="__reactEvents$"+Fu;function Mi(e){var t=e[$n];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qo]||r[$n]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Sg(e);e!==null;){if(r=e[$n])return r;e=Sg(e)}return t}e=r,r=e.parentNode}return null}function Ca(e){return e=e[$n]||e[Qo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function Lu(e){return e[fu]||null}function q1(e){var t=e[Eg];return t===void 0&&(t=e[Eg]=new Set),t}var zh=[],Po=-1;function si(e){return{current:e}}function nt(e){0>Po||(e.current=zh[Po],zh[Po]=null,Po--)}function yt(e,t){Po++,zh[Po]=e.current,e.current=t}var ni={},er=si(ni),dr=si(!1),Vi=ni;function Yo(e,t){var r=e.type.contextTypes;if(!r)return ni;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function pr(e){return e=e.childContextTypes,e!=null}function hu(){nt(dr),nt(er)}function bg(e,t,r){if(er.current!==ni)throw Error(me(168));yt(er,t),yt(dr,r)}function W1(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(me(108,Mo(t)||"Unknown",i));return st({},r,n)}function Xl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ni,Vi=er.current,yt(er,e),yt(dr,dr.current),!0}function Og(e,t,r){var n=e.stateNode;if(!n)throw Error(me(169));r?(e=W1(e,t,Vi),n.__reactInternalMemoizedMergedChildContext=e,nt(dr),nt(er),yt(er,e)):nt(dr),yt(dr,r)}var Dd=null,zi=null,p4=Lt.unstable_runWithPriority,Cd=Lt.unstable_scheduleCallback,Vh=Lt.unstable_cancelCallback,y4=Lt.unstable_shouldYield,xg=Lt.unstable_requestPaint,qh=Lt.unstable_now,m4=Lt.unstable_getCurrentPriorityLevel,Pu=Lt.unstable_ImmediatePriority,$1=Lt.unstable_UserBlockingPriority,H1=Lt.unstable_NormalPriority,J1=Lt.unstable_LowPriority,G1=Lt.unstable_IdlePriority,dh={},g4=xg!==void 0?xg:function(){},An=null,Ql=null,ph=!1,Tg=qh(),Xt=1e4>Tg?qh:function(){return qh()-Tg};function Ko(){switch(m4()){case Pu:return 99;case $1:return 98;case H1:return 97;case J1:return 96;case G1:return 95;default:throw Error(me(332))}}function Y1(e){switch(e){case 99:return Pu;case 98:return $1;case 97:return H1;case 96:return J1;case 95:return G1;default:throw Error(me(332))}}function qi(e,t){return e=Y1(e),p4(e,t)}function Na(e,t,r){return e=Y1(e),Cd(e,t,r)}function Sn(){if(Ql!==null){var e=Ql;Ql=null,Vh(e)}K1()}function K1(){if(!ph&&An!==null){ph=!0;var e=0;try{var t=An;qi(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),An=null}catch(r){throw An!==null&&(An=An.slice(e+1)),Cd(Pu,Sn),r}finally{ph=!1}}}var v4=Hi.ReactCurrentBatchConfig;function Xr(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var du=si(null),pu=null,jo=null,yu=null;function Fd(){yu=jo=pu=null}function Ld(e){var t=du.current;nt(du),e.type._context._currentValue=t}function Z1(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function qo(e,t){pu=e,yu=jo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Qr=!0),e.firstContext=null)}function Vr(e,t){if(yu!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(yu=e,t=1073741823),t={context:e,observedBits:t,next:null},jo===null){if(pu===null)throw Error(me(308));jo=t,pu.dependencies={lanes:0,firstContext:t,responders:null}}else jo=jo.next=t;return e._currentValue}var Vn=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function X1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function Ng(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ka(e,t,r,n){var i=e.updateQueue;Vn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,d=f.next;f.next=null,s===null?o=d:s.next=d,s=f;var m=e.alternate;if(m!==null){m=m.updateQueue;var g=m.lastBaseUpdate;g!==s&&(g===null?m.firstBaseUpdate=d:g.next=d,m.lastBaseUpdate=f)}}if(o!==null){g=i.baseState,s=0,m=d=f=null;do{a=o.lane;var y=o.eventTime;if((n&a)===a){m!==null&&(m=m.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=e,N=o;switch(a=t,y=r,N.tag){case 1:if(S=N.payload,typeof S=="function"){g=S.call(y,g,a);break e}g=S;break e;case 3:S.flags=S.flags&-4097|64;case 0:if(S=N.payload,a=typeof S=="function"?S.call(y,g,a):S,a==null)break e;g=st({},g,a);break e;case 2:Vn=!0}}o.callback!==null&&(e.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else y={eventTime:y,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=y,f=g):m=m.next=y,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);m===null&&(f=g),i.baseState=f,i.firstBaseUpdate=d,i.lastBaseUpdate=m,La|=s,e.lanes=s,e.memoizedState=g}}function kg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(me(191,i));i.call(n)}}}var Q1=new Nu.Component().refs;function mu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ju={isMounted:function(e){return(e=e._reactInternals)?Ji(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tr(),i=Xn(e),o=Kn(n,i);o.payload=t,r!=null&&(o.callback=r),Zn(e,o),Qn(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tr(),i=Xn(e),o=Kn(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),Zn(e,o),Qn(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tr(),n=Xn(e),i=Kn(r,n);i.tag=2,t!=null&&(i.callback=t),Zn(e,i),Qn(e,n,r)}};function Ig(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!xa(r,n)||!xa(i,o):!0}function tv(e,t,r){var n=!1,i=ni,o=t.contextType;return typeof o=="object"&&o!==null?o=Vr(o):(i=pr(t)?Vi:er.current,n=t.contextTypes,o=(n=n!=null)?Yo(e,i):ni),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ju,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ag(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ju.enqueueReplaceState(t,t.state,null)}function Wh(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Q1,Pd(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Vr(o):(o=pr(t)?Vi:er.current,i.context=Yo(e,o)),ka(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(mu(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ju.enqueueReplaceState(i,i.state,null),ka(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var ql=Array.isArray;function Gs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=n.refs;s===Q1&&(s=n.refs={}),o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,e))}return e}function Wl(e,t){if(e.type!=="textarea")throw Error(me(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function rv(e){function t(T,I){if(e){var C=T.lastEffect;C!==null?(C.nextEffect=I,T.lastEffect=I):T.firstEffect=T.lastEffect=I,I.nextEffect=null,I.flags=8}}function r(T,I){if(!e)return null;for(;I!==null;)t(T,I),I=I.sibling;return null}function n(T,I){for(T=new Map;I!==null;)I.key!==null?T.set(I.key,I):T.set(I.index,I),I=I.sibling;return T}function i(T,I){return T=oi(T,I),T.index=0,T.sibling=null,T}function o(T,I,C){return T.index=C,e?(C=T.alternate,C!==null?(C=C.index,C<I?(T.flags=2,I):C):(T.flags=2,I)):I}function s(T){return e&&T.alternate===null&&(T.flags=2),T}function a(T,I,C,K){return I===null||I.tag!==6?(I=wh(C,T.mode,K),I.return=T,I):(I=i(I,C),I.return=T,I)}function f(T,I,C,K){return I!==null&&I.elementType===C.type?(K=i(I,C.props),K.ref=Gs(T,I,C),K.return=T,K):(K=nu(C.type,C.key,C.props,null,T.mode,K),K.ref=Gs(T,I,C),K.return=T,K)}function d(T,I,C,K){return I===null||I.tag!==4||I.stateNode.containerInfo!==C.containerInfo||I.stateNode.implementation!==C.implementation?(I=_h(C,T.mode,K),I.return=T,I):(I=i(I,C.children||[]),I.return=T,I)}function m(T,I,C,K,H){return I===null||I.tag!==7?(I=Jo(C,T.mode,K,H),I.return=T,I):(I=i(I,C),I.return=T,I)}function g(T,I,C){if(typeof I=="string"||typeof I=="number")return I=wh(""+I,T.mode,C),I.return=T,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ta:return C=nu(I.type,I.key,I.props,null,T.mode,C),C.ref=Gs(T,null,I),C.return=T,C;case Pi:return I=_h(I,T.mode,C),I.return=T,I}if(ql(I)||qs(I))return I=Jo(I,T.mode,C,null),I.return=T,I;Wl(T,I)}return null}function y(T,I,C,K){var H=I!==null?I.key:null;if(typeof C=="string"||typeof C=="number")return H!==null?null:a(T,I,""+C,K);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ta:return C.key===H?C.type===qn?m(T,I,C.props.children,K,H):f(T,I,C,K):null;case Pi:return C.key===H?d(T,I,C,K):null}if(ql(C)||qs(C))return H!==null?null:m(T,I,C,K,null);Wl(T,C)}return null}function S(T,I,C,K,H){if(typeof K=="string"||typeof K=="number")return T=T.get(C)||null,a(I,T,""+K,H);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ta:return T=T.get(K.key===null?C:K.key)||null,K.type===qn?m(I,T,K.props.children,H,K.key):f(I,T,K,H);case Pi:return T=T.get(K.key===null?C:K.key)||null,d(I,T,K,H)}if(ql(K)||qs(K))return T=T.get(C)||null,m(I,T,K,H,null);Wl(I,K)}return null}function N(T,I,C,K){for(var H=null,J=null,M=I,V=I=0,_=null;M!==null&&V<C.length;V++){M.index>V?(_=M,M=null):_=M.sibling;var q=y(T,M,C[V],K);if(q===null){M===null&&(M=_);break}e&&M&&q.alternate===null&&t(T,M),I=o(q,I,V),J===null?H=q:J.sibling=q,J=q,M=_}if(V===C.length)return r(T,M),H;if(M===null){for(;V<C.length;V++)M=g(T,C[V],K),M!==null&&(I=o(M,I,V),J===null?H=M:J.sibling=M,J=M);return H}for(M=n(T,M);V<C.length;V++)_=S(M,T,V,C[V],K),_!==null&&(e&&_.alternate!==null&&M.delete(_.key===null?V:_.key),I=o(_,I,V),J===null?H=_:J.sibling=_,J=_);return e&&M.forEach(function(te){return t(T,te)}),H}function A(T,I,C,K){var H=qs(C);if(typeof H!="function")throw Error(me(150));if(C=H.call(C),C==null)throw Error(me(151));for(var J=H=null,M=I,V=I=0,_=null,q=C.next();M!==null&&!q.done;V++,q=C.next()){M.index>V?(_=M,M=null):_=M.sibling;var te=y(T,M,q.value,K);if(te===null){M===null&&(M=_);break}e&&M&&te.alternate===null&&t(T,M),I=o(te,I,V),J===null?H=te:J.sibling=te,J=te,M=_}if(q.done)return r(T,M),H;if(M===null){for(;!q.done;V++,q=C.next())q=g(T,q.value,K),q!==null&&(I=o(q,I,V),J===null?H=q:J.sibling=q,J=q);return H}for(M=n(T,M);!q.done;V++,q=C.next())q=S(M,T,V,q.value,K),q!==null&&(e&&q.alternate!==null&&M.delete(q.key===null?V:q.key),I=o(q,I,V),J===null?H=q:J.sibling=q,J=q);return e&&M.forEach(function(X){return t(T,X)}),H}return function(T,I,C,K){var H=typeof C=="object"&&C!==null&&C.type===qn&&C.key===null;H&&(C=C.props.children);var J=typeof C=="object"&&C!==null;if(J)switch(C.$$typeof){case ta:e:{for(J=C.key,H=I;H!==null;){if(H.key===J){switch(H.tag){case 7:if(C.type===qn){r(T,H.sibling),I=i(H,C.props.children),I.return=T,T=I;break e}break;default:if(H.elementType===C.type){r(T,H.sibling),I=i(H,C.props),I.ref=Gs(T,H,C),I.return=T,T=I;break e}}r(T,H);break}else t(T,H);H=H.sibling}C.type===qn?(I=Jo(C.props.children,T.mode,K,C.key),I.return=T,T=I):(K=nu(C.type,C.key,C.props,null,T.mode,K),K.ref=Gs(T,I,C),K.return=T,T=K)}return s(T);case Pi:e:{for(H=C.key;I!==null;){if(I.key===H)if(I.tag===4&&I.stateNode.containerInfo===C.containerInfo&&I.stateNode.implementation===C.implementation){r(T,I.sibling),I=i(I,C.children||[]),I.return=T,T=I;break e}else{r(T,I);break}else t(T,I);I=I.sibling}I=_h(C,T.mode,K),I.return=T,T=I}return s(T)}if(typeof C=="string"||typeof C=="number")return C=""+C,I!==null&&I.tag===6?(r(T,I.sibling),I=i(I,C),I.return=T,T=I):(r(T,I),I=wh(C,T.mode,K),I.return=T,T=I),s(T);if(ql(C))return N(T,I,C,K);if(qs(C))return A(T,I,C,K);if(J&&Wl(T,C),typeof C>"u"&&!H)switch(T.tag){case 1:case 22:case 0:case 11:case 15:throw Error(me(152,Mo(T.type)||"Component"))}return r(T,I)}}var gu=rv(!0),nv=rv(!1),Fa={},wn=si(Fa),Ia=si(Fa),Aa=si(Fa);function Bi(e){if(e===Fa)throw Error(me(174));return e}function $h(e,t){switch(yt(Aa,t),yt(Ia,e),yt(wn,Fa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ih(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ih(t,e)}nt(wn),yt(wn,t)}function Zo(){nt(wn),nt(Ia),nt(Aa)}function Rg(e){Bi(Aa.current);var t=Bi(wn.current),r=Ih(t,e.type);t!==r&&(yt(Ia,e),yt(wn,r))}function jd(e){Ia.current===e&&(nt(wn),nt(Ia))}var pt=si(0);function vu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dn=null,Hn=null,_n=!1;function iv(e,t){var r=Ur(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Dg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Hh(e){if(_n){var t=Hn;if(t){var r=t;if(!Dg(e,t)){if(t=Vo(r.nextSibling),!t||!Dg(e,t)){e.flags=e.flags&-1025|2,_n=!1,Dn=e;return}iv(Dn,r)}Dn=e,Hn=Vo(t.firstChild)}else e.flags=e.flags&-1025|2,_n=!1,Dn=e}}function Cg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dn=e}function $l(e){if(e!==Dn)return!1;if(!_n)return Cg(e),_n=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Uh(t,e.memoizedProps))for(t=Hn;t;)iv(e,t),t=Vo(t.nextSibling);if(Cg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hn=Vo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hn=null}}else Hn=Dn?Vo(e.stateNode.nextSibling):null;return!0}function yh(){Hn=Dn=null,_n=!1}var Wo=[];function Md(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var da=Hi.ReactCurrentDispatcher,zr=Hi.ReactCurrentBatchConfig,Ra=0,Tt=null,Zt=null,qt=null,wu=!1,pa=!1;function fr(){throw Error(me(321))}function Bd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Br(e[r],t[r]))return!1;return!0}function Ud(e,t,r,n,i,o){if(Ra=o,Tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=e===null||e.memoizedState===null?_4:S4,e=r(n,i),pa){o=0;do{if(pa=!1,!(25>o))throw Error(me(301));o+=1,qt=Zt=null,t.updateQueue=null,da.current=E4,e=r(n,i)}while(pa)}if(da.current=bu,t=Zt!==null&&Zt.next!==null,Ra=0,qt=Zt=Tt=null,wu=!1,t)throw Error(me(300));return e}function Ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Tt.memoizedState=qt=e:qt=qt.next=e,qt}function Gi(){if(Zt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var t=qt===null?Tt.memoizedState:qt.next;if(t!==null)qt=t,Zt=e;else{if(e===null)throw Error(me(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},qt===null?Tt.memoizedState=qt=e:qt=qt.next=e}return qt}function gn(e,t){return typeof t=="function"?t(e):t}function Ys(e){var t=Gi(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=Zt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var a=s=o=null,f=i;do{var d=f.lane;if((Ra&d)===d)a!==null&&(a=a.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),n=f.eagerReducer===e?f.eagerState:e(n,f.action);else{var m={lane:d,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};a===null?(s=a=m,o=n):a=a.next=m,Tt.lanes|=d,La|=d}f=f.next}while(f!==null&&f!==i);a===null?o=n:a.next=s,Br(n,t.memoizedState)||(Qr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=a,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Ks(e){var t=Gi(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Br(o,t.memoizedState)||(Qr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Fg(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(Ra&e)===e)&&(t._workInProgressVersionPrimary=n,Wo.push(t))),e)return r(t._source);throw Wo.push(t),Error(me(350))}function ov(e,t,r,n){var i=rr;if(i===null)throw Error(me(349));var o=t._getVersion,s=o(t._source),a=da.current,f=a.useState(function(){return Fg(i,t,r)}),d=f[1],m=f[0];f=qt;var g=e.memoizedState,y=g.refs,S=y.getSnapshot,N=g.source;g=g.subscribe;var A=Tt;return e.memoizedState={refs:y,source:t,subscribe:n},a.useEffect(function(){y.getSnapshot=r,y.setSnapshot=d;var T=o(t._source);if(!Br(s,T)){T=r(t._source),Br(m,T)||(d(T),T=Xn(A),i.mutableReadLanes|=T&i.pendingLanes),T=i.mutableReadLanes,i.entangledLanes|=T;for(var I=i.entanglements,C=T;0<C;){var K=31-ri(C),H=1<<K;I[K]|=T,C&=~H}}},[r,t,n]),a.useEffect(function(){return n(t._source,function(){var T=y.getSnapshot,I=y.setSnapshot;try{I(T(t._source));var C=Xn(A);i.mutableReadLanes|=C&i.pendingLanes}catch(K){I(function(){throw K})}})},[t,n]),Br(S,r)&&Br(N,t)&&Br(g,n)||(e={pending:null,dispatch:null,lastRenderedReducer:gn,lastRenderedState:m},e.dispatch=d=qd.bind(null,Tt,e),f.queue=e,f.baseQueue=null,m=Fg(i,t,r),f.memoizedState=f.baseState=m),m}function sv(e,t,r){var n=Gi();return ov(n,e,t,r)}function Zs(e){var t=Ui();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:gn,lastRenderedState:e},e=e.dispatch=qd.bind(null,Tt,e),[t.memoizedState,e]}function _u(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Tt.updateQueue,t===null?(t={lastEffect:null},Tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Lg(e){var t=Ui();return e={current:e},t.memoizedState=e}function Su(){return Gi().memoizedState}function Jh(e,t,r,n){var i=Ui();Tt.flags|=e,i.memoizedState=_u(1|t,r,void 0,n===void 0?null:n)}function zd(e,t,r,n){var i=Gi();n=n===void 0?null:n;var o=void 0;if(Zt!==null){var s=Zt.memoizedState;if(o=s.destroy,n!==null&&Bd(n,s.deps)){_u(t,r,o,n);return}}Tt.flags|=e,i.memoizedState=_u(1|t,r,o,n)}function Pg(e,t){return Jh(516,4,e,t)}function Eu(e,t){return zd(516,4,e,t)}function av(e,t){return zd(4,2,e,t)}function lv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uv(e,t,r){return r=r!=null?r.concat([e]):null,zd(4,2,lv.bind(null,t,e),r)}function Vd(){}function cv(e,t){var r=Gi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fv(e,t){var r=Gi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function w4(e,t){var r=Ko();qi(98>r?98:r,function(){e(!0)}),qi(97<r?97:r,function(){var n=zr.transition;zr.transition=1;try{e(!1),t()}finally{zr.transition=n}})}function qd(e,t,r){var n=Tr(),i=Xn(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Tt||s!==null&&s===Tt)pa=wu=!0;else{if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,f=s(a,r);if(o.eagerReducer=s,o.eagerState=f,Br(f,a))return}catch{}finally{}Qn(e,i,n)}}var bu={readContext:Vr,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useOpaqueIdentifier:fr,unstable_isNewReconciler:!1},_4={readContext:Vr,useCallback:function(e,t){return Ui().memoizedState=[e,t===void 0?null:t],e},useContext:Vr,useEffect:Pg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Jh(4,2,lv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Jh(4,2,e,t)},useMemo:function(e,t){var r=Ui();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ui();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=qd.bind(null,Tt,e),[n.memoizedState,e]},useRef:Lg,useState:Zs,useDebugValue:Vd,useDeferredValue:function(e){var t=Zs(e),r=t[0],n=t[1];return Pg(function(){var i=zr.transition;zr.transition=1;try{n(e)}finally{zr.transition=i}},[e]),r},useTransition:function(){var e=Zs(!1),t=e[0];return e=w4.bind(null,e[1]),Lg(e),[e,t]},useMutableSource:function(e,t,r){var n=Ui();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},ov(n,e,t,r)},useOpaqueIdentifier:function(){if(_n){var e=!1,t=d4(function(){throw e||(e=!0,r("r:"+(hh++).toString(36))),Error(me(355))}),r=Zs(t)[1];return(Tt.mode&2)===0&&(Tt.flags|=516,_u(5,function(){r("r:"+(hh++).toString(36))},void 0,null)),t}return t="r:"+(hh++).toString(36),Zs(t),t},unstable_isNewReconciler:!1},S4={readContext:Vr,useCallback:cv,useContext:Vr,useEffect:Eu,useImperativeHandle:uv,useLayoutEffect:av,useMemo:fv,useReducer:Ys,useRef:Su,useState:function(){return Ys(gn)},useDebugValue:Vd,useDeferredValue:function(e){var t=Ys(gn),r=t[0],n=t[1];return Eu(function(){var i=zr.transition;zr.transition=1;try{n(e)}finally{zr.transition=i}},[e]),r},useTransition:function(){var e=Ys(gn)[0];return[Su().current,e]},useMutableSource:sv,useOpaqueIdentifier:function(){return Ys(gn)[0]},unstable_isNewReconciler:!1},E4={readContext:Vr,useCallback:cv,useContext:Vr,useEffect:Eu,useImperativeHandle:uv,useLayoutEffect:av,useMemo:fv,useReducer:Ks,useRef:Su,useState:function(){return Ks(gn)},useDebugValue:Vd,useDeferredValue:function(e){var t=Ks(gn),r=t[0],n=t[1];return Eu(function(){var i=zr.transition;zr.transition=1;try{n(e)}finally{zr.transition=i}},[e]),r},useTransition:function(){var e=Ks(gn)[0];return[Su().current,e]},useMutableSource:sv,useOpaqueIdentifier:function(){return Ks(gn)[0]},unstable_isNewReconciler:!1},b4=Hi.ReactCurrentOwner,Qr=!1;function hr(e,t,r,n){t.child=e===null?nv(t,null,r,n):gu(t,e.child,r,n)}function jg(e,t,r,n,i){r=r.render;var o=t.ref;return qo(t,i),n=Ud(e,t,r,n,o,i),e!==null&&!Qr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Cn(e,t,i)):(t.flags|=1,hr(e,t,n,i),t.child)}function Mg(e,t,r,n,i,o){if(e===null){var s=r.type;return typeof s=="function"&&!Yd(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,hv(e,t,s,n,i,o)):(e=nu(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return s=e.child,(i&o)===0&&(i=s.memoizedProps,r=r.compare,r=r!==null?r:xa,r(i,n)&&e.ref===t.ref)?Cn(e,t,o):(t.flags|=1,e=oi(s,n),e.ref=t.ref,e.return=t,t.child=e)}function hv(e,t,r,n,i,o){if(e!==null&&xa(e.memoizedProps,n)&&e.ref===t.ref)if(Qr=!1,(o&i)!==0)(e.flags&16384)!==0&&(Qr=!0);else return t.lanes=e.lanes,Cn(e,t,o);return Gh(e,t,r,n,o)}function mh(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},Jl(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},Jl(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Jl(t,e),null;else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Jl(t,n);return hr(e,t,i,r),t.child}function dv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function Gh(e,t,r,n,i){var o=pr(r)?Vi:er.current;return o=Yo(t,o),qo(t,i),r=Ud(e,t,r,n,o,i),e!==null&&!Qr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Cn(e,t,i)):(t.flags|=1,hr(e,t,r,i),t.child)}function Bg(e,t,r,n,i){if(pr(r)){var o=!0;Xl(t)}else o=!1;if(qo(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),tv(t,r,n),Wh(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var f=s.context,d=r.contextType;typeof d=="object"&&d!==null?d=Vr(d):(d=pr(r)?Vi:er.current,d=Yo(t,d));var m=r.getDerivedStateFromProps,g=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||f!==d)&&Ag(t,s,n,d),Vn=!1;var y=t.memoizedState;s.state=y,ka(t,n,s,i),f=t.memoizedState,a!==n||y!==f||dr.current||Vn?(typeof m=="function"&&(mu(t,r,m,n),f=t.memoizedState),(a=Vn||Ig(t,r,a,n,y,f,d))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4)):(typeof s.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=f),s.props=n,s.state=f,s.context=d,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{s=t.stateNode,X1(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:Xr(t.type,a),s.props=d,g=t.pendingProps,y=s.context,f=r.contextType,typeof f=="object"&&f!==null?f=Vr(f):(f=pr(r)?Vi:er.current,f=Yo(t,f));var S=r.getDerivedStateFromProps;(m=typeof S=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||y!==f)&&Ag(t,s,n,f),Vn=!1,y=t.memoizedState,s.state=y,ka(t,n,s,i);var N=t.memoizedState;a!==g||y!==N||dr.current||Vn?(typeof S=="function"&&(mu(t,r,S,n),N=t.memoizedState),(d=Vn||Ig(t,r,d,n,y,N,f))?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,N,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,N,f)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=N),s.props=n,s.state=N,s.context=f,n=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=256),n=!1)}return Yh(e,t,r,n,o,i)}function Yh(e,t,r,n,i,o){dv(e,t);var s=(t.flags&64)!==0;if(!n&&!s)return i&&Og(t,r,!1),Cn(e,t,o);n=t.stateNode,b4.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=gu(t,e.child,null,o),t.child=gu(t,null,a,o)):hr(e,t,a,o),t.memoizedState=n.state,i&&Og(t,r,!0),t.child}function Ug(e){var t=e.stateNode;t.pendingContext?bg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bg(e,t.context,!1),$h(e,t.containerInfo)}var Hl={dehydrated:null,retryLane:0};function zg(e,t,r){var n=t.pendingProps,i=pt.current,o=!1,s;return(s=(t.flags&64)!==0)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),yt(pt,i&1),e===null?(n.fallback!==void 0&&Hh(t),e=n.children,i=n.fallback,o?(e=Vg(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Hl,e):typeof n.unstable_expectedLoadTime=="number"?(e=Vg(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Hl,t.lanes=33554432,e):(r=Kd({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=Wg(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Hl,n):(r=qg(e,t,n.children,r),t.memoizedState=null,r):o?(n=Wg(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Hl,n):(r=qg(e,t,n.children,r),t.memoizedState=null,r)}function Vg(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=Kd(t,i,0,null),r=Jo(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function qg(e,t,r,n){var i=e.child;return e=i.sibling,r=oi(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function Wg(e,t,r,n,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:r};return(o&2)===0&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,s=r.lastEffect,s!==null?(t.firstEffect=r.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):r=oi(s,a),e!==null?n=oi(e,n):(n=Jo(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function $g(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Z1(e.return,t)}function gh(e,t,r,n,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.lastEffect=o)}function Hg(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(hr(e,t,n.children,r),n=pt.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$g(e,r);else if(e.tag===19)$g(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(yt(pt,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&vu(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),gh(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vu(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}gh(t,!0,r,null,o,t.lastEffect);break;case"together":gh(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Cn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),La|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,r=oi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=oi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var pv,Kh,yv,mv;pv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kh=function(){};yv=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Bi(wn.current);var o=null;switch(r){case"input":i=bh(e,i),n=bh(e,n),o=[];break;case"option":i=Th(e,i),n=Th(e,n),o=[];break;case"select":i=st({},i,{value:void 0}),n=st({},n,{value:void 0}),o=[];break;case"textarea":i=Nh(e,i),n=Nh(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=cu)}Ah(r,n);var s;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(va.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var f=n[d];if(a=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&f!==a&&(f!=null||a!=null))if(d==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(r||(r={}),r[s]=f[s])}else r||(o||(o=[]),o.push(d,r)),r=f;else d==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(d,f)):d==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(d,""+f):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(va.hasOwnProperty(d)?(f!=null&&d==="onScroll"&&rt("scroll",e),o||a===f||(o=[])):typeof f=="object"&&f!==null&&f.$$typeof===md?f.toString():(o=o||[]).push(d,f))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};mv=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xs(e,t){if(!_n)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function O4(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pr(t.type)&&hu(),null;case 3:return Zo(),nt(dr),nt(er),Md(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($l(t)?t.flags|=4:n.hydrate||(t.flags|=256)),Kh(t),null;case 5:jd(t);var i=Bi(Aa.current);if(r=t.type,e!==null&&t.stateNode!=null)yv(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(me(166));return null}if(e=Bi(wn.current),$l(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[$n]=t,n[fu]=o,r){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(e=0;e<na.length;e++)rt(na[e],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":Gm(n,o),rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},rt("invalid",n);break;case"textarea":Km(n,o),rt("invalid",n)}Ah(r,o),e=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):va.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&rt("scroll",n));switch(r){case"input":Pl(n),Ym(n,o,!0);break;case"textarea":Pl(n),Zm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=cu)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,e===kh.html&&(e=l1(r)),e===kh.html?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[$n]=t,e[fu]=n,pv(e,t,!1,!1),t.stateNode=e,s=Rh(r,n),r){case"dialog":rt("cancel",e),rt("close",e),i=n;break;case"iframe":case"object":case"embed":rt("load",e),i=n;break;case"video":case"audio":for(i=0;i<na.length;i++)rt(na[i],e);i=n;break;case"source":rt("error",e),i=n;break;case"img":case"image":case"link":rt("error",e),rt("load",e),i=n;break;case"details":rt("toggle",e),i=n;break;case"input":Gm(e,n),i=bh(e,n),rt("invalid",e);break;case"option":i=Th(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=st({},n,{value:void 0}),rt("invalid",e);break;case"textarea":Km(e,n),i=Nh(e,n),rt("invalid",e);break;default:i=n}Ah(r,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?f1(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&u1(e,f)):o==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&wa(e,f):typeof f=="number"&&wa(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(va.hasOwnProperty(o)?f!=null&&o==="onScroll"&&rt("scroll",e):f!=null&&cd(e,o,f,s))}switch(r){case"input":Pl(e),Ym(e,n,!1);break;case"textarea":Pl(e),Zm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ti(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Bo(e,!!n.multiple,o,!1):n.defaultValue!=null&&Bo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=cu)}V1(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)mv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(me(166));r=Bi(Aa.current),Bi(wn.current),$l(t)?(n=t.stateNode,r=t.memoizedProps,n[$n]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$n]=t,t.stateNode=n)}return null;case 13:return nt(pt),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&$l(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(pt.current&1)!==0?Wt===0&&(Wt=3):((Wt===0||Wt===3)&&(Wt=4),rr===null||(La&134217727)===0&&(ts&134217727)===0||$o(rr,Qt))),(n||r)&&(t.flags|=4),null);case 4:return Zo(),Kh(t),e===null&&B1(t.stateNode.containerInfo),null;case 10:return Ld(t),null;case 17:return pr(t.type)&&hu(),null;case 19:if(nt(pt),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,s=n.rendering,s===null)if(o)Xs(n,!1);else{if(Wt!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(s=vu(e),s!==null){for(t.flags|=64,Xs(n,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return yt(pt,pt.current&1|2),t.child}e=e.sibling}n.tail!==null&&Xt()>rd&&(t.flags|=64,o=!0,Xs(n,!1),t.lanes=33554432)}else{if(!o)if(e=vu(s),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!_n)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Xt()-n.renderingStartTime>rd&&r!==1073741824&&(t.flags|=64,o=!0,Xs(n,!1),t.lanes=33554432);n.isBackwards?(s.sibling=t.child,t.child=s):(r=n.last,r!==null?r.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Xt(),r.sibling=null,t=pt.current,yt(pt,o?t&1|2:t&1),r):null;case 23:case 24:return Gd(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(me(156,t.tag))}function x4(e){switch(e.tag){case 1:pr(e.type)&&hu();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Zo(),nt(dr),nt(er),Md(),t=e.flags,(t&64)!==0)throw Error(me(285));return e.flags=t&-4097|64,e;case 5:return jd(e),null;case 13:return nt(pt),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return nt(pt),null;case 4:return Zo(),null;case 10:return Ld(e),null;case 23:case 24:return Gd(),null;default:return null}}function Wd(e,t){try{var r="",n=t;do r+=o3(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function Zh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var T4=typeof WeakMap=="function"?WeakMap:Map;function gv(e,t,r){r=Kn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){xu||(xu=!0,nd=n),Zh(e,t)},r}function vv(e,t,r){r=Kn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return Zh(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(vn===null?vn=new Set([this]):vn.add(this),Zh(e,t));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}var N4=typeof WeakSet=="function"?WeakSet:Set;function Jg(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ei(e,r)}else t.current=null}function k4(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:Xr(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&Rd(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(me(163))}function I4(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(Nv(r,e),j4(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Xr(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&kg(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}kg(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&V1(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&S1(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(me(163))}function Gg(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=c1("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Yg(e,t){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(Dd,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)Nv(t,r);else{n=t;try{i()}catch(o){ei(n,o)}}r=r.next}while(r!==e)}break;case 1:if(Jg(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){ei(t,o)}break;case 5:Jg(t);break;case 4:wv(e,t)}}function Kg(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Zg(e){return e.tag===5||e.tag===3||e.tag===4}function Xg(e){e:{for(var t=e.return;t!==null;){if(Zg(t))break e;t=t.return}throw Error(me(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(me(161))}r.flags&16&&(wa(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||Zg(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Xh(e,r,t):Qh(e,r,t)}function Xh(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=cu));else if(n!==4&&(e=e.child,e!==null))for(Xh(e,t,r),e=e.sibling;e!==null;)Xh(e,t,r),e=e.sibling}function Qh(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Qh(e,t,r),e=e.sibling;e!==null;)Qh(e,t,r),e=e.sibling}function wv(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(me(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var s=e,a=r,f=a;;)if(Yg(s,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(s=i,a=r.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(Yg(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function vh(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[fu]=n,e==="input"&&n.type==="radio"&&n.name!=null&&s1(r,n),Rh(e,i),t=Rh(e,n),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?f1(r,a):s==="dangerouslySetInnerHTML"?u1(r,a):s==="children"?wa(r,a):cd(r,s,a,t)}switch(e){case"input":Oh(r,n);break;case"textarea":a1(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Bo(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?Bo(r,!!n.multiple,n.defaultValue,!0):Bo(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(me(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,S1(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(Jd=Xt(),Gg(t.child,!0)),Qg(t);return;case 19:Qg(t);return;case 17:return;case 23:case 24:Gg(t,t.memoizedState!==null);return}throw Error(me(163))}function Qg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new N4),t.forEach(function(n){var i=U4.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function A4(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var R4=Math.ceil,Ou=Hi.ReactCurrentDispatcher,$d=Hi.ReactCurrentOwner,Ae=0,rr=null,Ct=null,Qt=0,Wi=0,ed=si(0),Wt=0,Mu=null,es=0,La=0,ts=0,Hd=0,td=null,Jd=0,rd=1/0;function rs(){rd=Xt()+500}var Oe=null,xu=!1,nd=null,vn=null,ii=!1,ya=null,ia=90,id=[],od=[],Fn=null,ma=0,sd=null,eu=-1,Rn=0,tu=0,ga=null,ru=!1;function Tr(){return(Ae&48)!==0?Xt():eu!==-1?eu:eu=Xt()}function Xn(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return Ko()===99?1:2;if(Rn===0&&(Rn=es),v4.transition!==0){tu!==0&&(tu=td!==null?td.pendingLanes:0),e=Rn;var t=4186112&~tu;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Ko(),(Ae&4)!==0&&e===98?e=lu(12,Rn):(e=S3(e),e=lu(e,Rn)),e}function Qn(e,t,r){if(50<ma)throw ma=0,sd=null,Error(me(185));if(e=Bu(e,t),e===null)return null;Ru(e,t,r),e===rr&&(ts|=t,Wt===4&&$o(e,Qt));var n=Ko();t===1?(Ae&8)!==0&&(Ae&48)===0?ad(e):(qr(e,r),Ae===0&&(rs(),Sn())):((Ae&4)===0||n!==98&&n!==99||(Fn===null?Fn=new Set([e]):Fn.add(e)),qr(e,r)),td=e}function Bu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function qr(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ri(s),f=1<<a,d=o[a];if(d===-1){if((f&n)===0||(f&i)!==0){d=t,Ao(f);var m=Ze;o[a]=10<=m?d+250:6<=m?d+5e3:-1}}else d<=t&&(e.expiredLanes|=f);s&=~f}if(n=ba(e,e===rr?Qt:0),t=Ze,n===0)r!==null&&(r!==dh&&Vh(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==dh&&Vh(r)}t===15?(r=ad.bind(null,e),An===null?(An=[r],Ql=Cd(Pu,K1)):An.push(r),r=dh):t===14?r=Na(99,ad.bind(null,e)):(r=E3(t),r=Na(r,_v.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function _v(e){if(eu=-1,tu=Rn=0,(Ae&48)!==0)throw Error(me(327));var t=e.callbackNode;if(ai()&&e.callbackNode!==t)return null;var r=ba(e,e===rr?Qt:0);if(r===0)return null;var n=r,i=Ae;Ae|=16;var o=Ov();(rr!==e||Qt!==n)&&(rs(),Ho(e,n));do try{F4();break}catch(a){bv(e,a)}while(1);if(Fd(),Ou.current=o,Ae=i,Ct!==null?n=0:(rr=null,Qt=0,n=Wt),(es&ts)!==0)Ho(e,0);else if(n!==0){if(n===2&&(Ae|=64,e.hydrate&&(e.hydrate=!1,Rd(e.containerInfo)),r=k1(e),r!==0&&(n=oa(e,r))),n===1)throw t=Mu,Ho(e,0),$o(e,r),qr(e,Xt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(me(345));case 2:Li(e);break;case 3:if($o(e,r),(r&62914560)===r&&(n=Jd+500-Xt(),10<n)){if(ba(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Tr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_g(Li.bind(null,e),n);break}Li(e);break;case 4:if($o(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var s=31-ri(r);o=1<<s,s=n[s],s>i&&(i=s),r&=~o}if(r=i,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R4(r/1960))-r,10<r){e.timeoutHandle=_g(Li.bind(null,e),r);break}Li(e);break;case 5:Li(e);break;default:throw Error(me(329))}}return qr(e,Xt()),e.callbackNode===t?_v.bind(null,e):null}function $o(e,t){for(t&=~Hd,t&=~ts,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ri(t),n=1<<r;e[r]=-1,t&=~n}}function ad(e){if((Ae&48)!==0)throw Error(me(327));if(ai(),e===rr&&(e.expiredLanes&Qt)!==0){var t=Qt,r=oa(e,t);(es&ts)!==0&&(t=ba(e,t),r=oa(e,t))}else t=ba(e,0),r=oa(e,t);if(e.tag!==0&&r===2&&(Ae|=64,e.hydrate&&(e.hydrate=!1,Rd(e.containerInfo)),t=k1(e),t!==0&&(r=oa(e,t))),r===1)throw r=Mu,Ho(e,0),$o(e,t),qr(e,Xt()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Li(e),qr(e,Xt()),null}function D4(){if(Fn!==null){var e=Fn;Fn=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,qr(t,Xt())})}Sn()}function Sv(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(rs(),Sn())}}function Ev(e,t){var r=Ae;Ae&=-2,Ae|=8;try{return e(t)}finally{Ae=r,Ae===0&&(rs(),Sn())}}function Jl(e,t){yt(ed,Wi),Wi|=t,es|=t}function Gd(){Wi=ed.current,nt(ed)}function Ho(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,h4(r)),Ct!==null)for(r=Ct.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&hu();break;case 3:Zo(),nt(dr),nt(er),Md();break;case 5:jd(n);break;case 4:Zo();break;case 13:nt(pt);break;case 19:nt(pt);break;case 10:Ld(n);break;case 23:case 24:Gd()}r=r.return}rr=e,Ct=oi(e.current,null),Qt=Wi=es=t,Wt=0,Mu=null,Hd=ts=La=0}function bv(e,t){do{var r=Ct;try{if(Fd(),da.current=bu,wu){for(var n=Tt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}wu=!1}if(Ra=0,qt=Zt=Tt=null,pa=!1,$d.current=null,r===null||r.return===null){Wt=1,Mu=t,Ct=null;break}e:{var o=e,s=r.return,a=r,f=t;if(t=Qt,a.flags|=2048,a.firstEffect=a.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var d=f;if((a.mode&2)===0){var m=a.alternate;m?(a.updateQueue=m.updateQueue,a.memoizedState=m.memoizedState,a.lanes=m.lanes):(a.updateQueue=null,a.memoizedState=null)}var g=(pt.current&1)!==0,y=s;do{var S;if(S=y.tag===13){var N=y.memoizedState;if(N!==null)S=N.dehydrated!==null;else{var A=y.memoizedProps;S=A.fallback===void 0?!1:A.unstable_avoidThisFallback!==!0?!0:!g}}if(S){var T=y.updateQueue;if(T===null){var I=new Set;I.add(d),y.updateQueue=I}else T.add(d);if((y.mode&2)===0){if(y.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var C=Kn(-1,1);C.tag=2,Zn(a,C)}a.lanes|=1;break e}f=void 0,a=t;var K=o.pingCache;if(K===null?(K=o.pingCache=new T4,f=new Set,K.set(d,f)):(f=K.get(d),f===void 0&&(f=new Set,K.set(d,f))),!f.has(a)){f.add(a);var H=B4.bind(null,o,d,a);d.then(H,H)}y.flags|=4096,y.lanes=t;break e}y=y.return}while(y!==null);f=Error((Mo(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Wt!==5&&(Wt=2),f=Wd(f,a),y=s;do{switch(y.tag){case 3:o=f,y.flags|=4096,t&=-t,y.lanes|=t;var J=gv(y,o,t);Ng(y,J);break e;case 1:o=f;var M=y.type,V=y.stateNode;if((y.flags&64)===0&&(typeof M.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(vn===null||!vn.has(V)))){y.flags|=4096,t&=-t,y.lanes|=t;var _=vv(y,o,t);Ng(y,_);break e}}y=y.return}while(y!==null)}Tv(r)}catch(q){t=q,Ct===r&&r!==null&&(Ct=r=r.return);continue}break}while(1)}function Ov(){var e=Ou.current;return Ou.current=bu,e===null?bu:e}function oa(e,t){var r=Ae;Ae|=16;var n=Ov();rr===e&&Qt===t||Ho(e,t);do try{C4();break}catch(i){bv(e,i)}while(1);if(Fd(),Ae=r,Ou.current=n,Ct!==null)throw Error(me(261));return rr=null,Qt=0,Wt}function C4(){for(;Ct!==null;)xv(Ct)}function F4(){for(;Ct!==null&&!y4();)xv(Ct)}function xv(e){var t=kv(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,t===null?Tv(e):Ct=t,$d.current=null}function Tv(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=O4(r,t,Wi),r!==null){Ct=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Wi&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=x4(t),r!==null){r.flags&=2047,Ct=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);Wt===0&&(Wt=5)}function Li(e){var t=Ko();return qi(99,L4.bind(null,e,t)),null}function L4(e,t){do ai();while(ya!==null);if((Ae&48)!==0)throw Error(me(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(me(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,a=e.expirationTimes;0<o;){var f=31-ri(o),d=1<<f;i[f]=0,s[f]=-1,a[f]=-1,o&=~d}if(Fn!==null&&(n&24)===0&&Fn.has(e)&&Fn.delete(e),e===rr&&(Ct=rr=null,Qt=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Ae,Ae|=32,$d.current=null,ch=Yl,s=pg(),jh(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(d=a.getSelection&&a.getSelection())&&d.rangeCount!==0){a=d.anchorNode,o=d.anchorOffset,f=d.focusNode,d=d.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var m=0,g=-1,y=-1,S=0,N=0,A=s,T=null;t:for(;;){for(var I;A!==a||o!==0&&A.nodeType!==3||(g=m+o),A!==f||d!==0&&A.nodeType!==3||(y=m+d),A.nodeType===3&&(m+=A.nodeValue.length),(I=A.firstChild)!==null;)T=A,A=I;for(;;){if(A===s)break t;if(T===a&&++S===o&&(g=m),T===f&&++N===d&&(y=m),(I=A.nextSibling)!==null)break;A=T,T=A.parentNode}A=I}a=g===-1||y===-1?null:{start:g,end:y}}else a=null;a=a||{start:0,end:0}}else a=null;fh={focusedElem:s,selectionRange:a},Yl=!1,ga=null,ru=!1,Oe=n;do try{P4()}catch(q){if(Oe===null)throw Error(me(330));ei(Oe,q),Oe=Oe.nextEffect}while(Oe!==null);ga=null,Oe=n;do try{for(s=e;Oe!==null;){var C=Oe.flags;if(C&16&&wa(Oe.stateNode,""),C&128){var K=Oe.alternate;if(K!==null){var H=K.ref;H!==null&&(typeof H=="function"?H(null):H.current=null)}}switch(C&1038){case 2:Xg(Oe),Oe.flags&=-3;break;case 6:Xg(Oe),Oe.flags&=-3,vh(Oe.alternate,Oe);break;case 1024:Oe.flags&=-1025;break;case 1028:Oe.flags&=-1025,vh(Oe.alternate,Oe);break;case 4:vh(Oe.alternate,Oe);break;case 8:a=Oe,wv(s,a);var J=a.alternate;Kg(a),J!==null&&Kg(J)}Oe=Oe.nextEffect}}catch(q){if(Oe===null)throw Error(me(330));ei(Oe,q),Oe=Oe.nextEffect}while(Oe!==null);if(H=fh,K=pg(),C=H.focusedElem,s=H.selectionRange,K!==C&&C&&C.ownerDocument&&P1(C.ownerDocument.documentElement,C)){for(s!==null&&jh(C)&&(K=s.start,H=s.end,H===void 0&&(H=K),"selectionStart"in C?(C.selectionStart=K,C.selectionEnd=Math.min(H,C.value.length)):(H=(K=C.ownerDocument||document)&&K.defaultView||window,H.getSelection&&(H=H.getSelection(),a=C.textContent.length,J=Math.min(s.start,a),s=s.end===void 0?J:Math.min(s.end,a),!H.extend&&J>s&&(a=s,s=J,J=a),a=dg(C,J),o=dg(C,s),a&&o&&(H.rangeCount!==1||H.anchorNode!==a.node||H.anchorOffset!==a.offset||H.focusNode!==o.node||H.focusOffset!==o.offset)&&(K=K.createRange(),K.setStart(a.node,a.offset),H.removeAllRanges(),J>s?(H.addRange(K),H.extend(o.node,o.offset)):(K.setEnd(o.node,o.offset),H.addRange(K)))))),K=[],H=C;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<K.length;C++)H=K[C],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}Yl=!!ch,fh=ch=null,e.current=r,Oe=n;do try{for(C=e;Oe!==null;){var M=Oe.flags;if(M&36&&I4(C,Oe.alternate,Oe),M&128){K=void 0;var V=Oe.ref;if(V!==null){var _=Oe.stateNode;switch(Oe.tag){case 5:K=_;break;default:K=_}typeof V=="function"?V(K):V.current=K}}Oe=Oe.nextEffect}}catch(q){if(Oe===null)throw Error(me(330));ei(Oe,q),Oe=Oe.nextEffect}while(Oe!==null);Oe=null,g4(),Ae=i}else e.current=r;if(ii)ii=!1,ya=e,ia=t;else for(Oe=n;Oe!==null;)t=Oe.nextEffect,Oe.nextEffect=null,Oe.flags&8&&(M=Oe,M.sibling=null,M.stateNode=null),Oe=t;if(n=e.pendingLanes,n===0&&(vn=null),n===1?e===sd?ma++:(ma=0,sd=e):ma=0,r=r.stateNode,zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(Dd,r,void 0,(r.current.flags&64)===64)}catch{}if(qr(e,Xt()),xu)throw xu=!1,e=nd,nd=null,e;return(Ae&8)!==0||Sn(),null}function P4(){for(;Oe!==null;){var e=Oe.alternate;ru||ga===null||((Oe.flags&8)!==0?eg(Oe,ga)&&(ru=!0):Oe.tag===13&&A4(e,Oe)&&eg(Oe,ga)&&(ru=!0));var t=Oe.flags;(t&256)!==0&&k4(e,Oe),(t&512)===0||ii||(ii=!0,Na(97,function(){return ai(),null})),Oe=Oe.nextEffect}}function ai(){if(ia!==90){var e=97<ia?97:ia;return ia=90,qi(e,M4)}return!1}function j4(e,t){id.push(t,e),ii||(ii=!0,Na(97,function(){return ai(),null}))}function Nv(e,t){od.push(t,e),ii||(ii=!0,Na(97,function(){return ai(),null}))}function M4(){if(ya===null)return!1;var e=ya;if(ya=null,(Ae&48)!==0)throw Error(me(331));var t=Ae;Ae|=32;var r=od;od=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(f){if(o===null)throw Error(me(330));ei(o,f)}}for(r=id,id=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var a=i.create;i.destroy=a()}catch(f){if(o===null)throw Error(me(330));ei(o,f)}}for(a=e.current.firstEffect;a!==null;)e=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=e;return Ae=t,Sn(),!0}function e1(e,t,r){t=Wd(r,t),t=gv(e,t,1),Zn(e,t),t=Tr(),e=Bu(e,1),e!==null&&(Ru(e,1,t),qr(e,t))}function ei(e,t){if(e.tag===3)e1(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){e1(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vn===null||!vn.has(n))){e=Wd(t,e);var i=vv(r,e,1);if(Zn(r,i),i=Tr(),r=Bu(r,1),r!==null)Ru(r,1,i),qr(r,i);else if(typeof n.componentDidCatch=="function"&&(vn===null||!vn.has(n)))try{n.componentDidCatch(t,e)}catch{}break}}r=r.return}}function B4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Tr(),e.pingedLanes|=e.suspendedLanes&r,rr===e&&(Qt&r)===r&&(Wt===4||Wt===3&&(Qt&62914560)===Qt&&500>Xt()-Jd?Ho(e,0):Hd|=r),qr(e,t)}function U4(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=Ko()===99?1:2:(Rn===0&&(Rn=es),t=Ro(62914560&~Rn),t===0&&(t=4194304))),r=Tr(),e=Bu(e,t),e!==null&&(Ru(e,t,r),qr(e,r))}var kv;kv=function(e,t,r){var n=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||dr.current)Qr=!0;else if((r&n)!==0)Qr=(e.flags&16384)!==0;else{switch(Qr=!1,t.tag){case 3:Ug(t),yh();break;case 5:Rg(t);break;case 1:pr(t.type)&&Xl(t);break;case 4:$h(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;yt(du,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?zg(e,t,r):(yt(pt,pt.current&1),t=Cn(e,t,r),t!==null?t.sibling:null);yt(pt,pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return Hg(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yt(pt,pt.current),n)break;return null;case 23:case 24:return t.lanes=0,mh(e,t,r)}return Cn(e,t,r)}else Qr=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Yo(t,er.current),qo(t,r),i=Ud(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pr(n)){var o=!0;Xl(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pd(t);var s=n.getDerivedStateFromProps;typeof s=="function"&&mu(t,n,s,e),i.updater=ju,t.stateNode=i,i._reactInternals=t,Wh(t,n,e,r),t=Yh(null,t,n,!0,o,r)}else t.tag=0,hr(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=V4(i),e=Xr(i,e),o){case 0:t=Gh(null,t,i,e,r);break e;case 1:t=Bg(null,t,i,e,r);break e;case 11:t=jg(null,t,i,e,r);break e;case 14:t=Mg(null,t,i,Xr(i.type,e),n,r);break e}throw Error(me(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xr(n,i),Gh(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xr(n,i),Bg(e,t,n,i,r);case 3:if(Ug(t),n=t.updateQueue,e===null||n===null)throw Error(me(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,X1(e,t),ka(t,n,null,r),n=t.memoizedState.element,n===i)yh(),t=Cn(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(Hn=Vo(t.stateNode.containerInfo.firstChild),Dn=t,o=_n=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],Wo.push(o);for(r=nv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else hr(e,t,n,r),yh();t=t.child}return t;case 5:return Rg(t),e===null&&Hh(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Uh(n,i)?s=null:o!==null&&Uh(n,o)&&(t.flags|=16),dv(e,t),hr(e,t,s,r),t.child;case 6:return e===null&&Hh(t),null;case 13:return zg(e,t,r);case 4:return $h(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gu(t,null,n,r):hr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xr(n,i),jg(e,t,n,i,r);case 7:return hr(e,t,t.pendingProps,r),t.child;case 8:return hr(e,t,t.pendingProps.children,r),t.child;case 12:return hr(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var a=t.type._context;if(yt(du,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=Br(a,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!dr.current){t=Cn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var f=a.dependencies;if(f!==null){s=a.child;for(var d=f.firstContext;d!==null;){if(d.context===n&&(d.observedBits&o)!==0){a.tag===1&&(d=Kn(-1,r&-r),d.tag=2,Zn(a,d)),a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),Z1(a.return,r),f.lanes|=r;break}d=d.next}}else s=a.tag===10&&a.type===t.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}hr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,qo(t,r),i=Vr(i,o.unstable_observedBits),n=n(i),t.flags|=1,hr(e,t,n,r),t.child;case 14:return i=t.type,o=Xr(i,t.pendingProps),o=Xr(i.type,o),Mg(e,t,i,o,n,r);case 15:return hv(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xr(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pr(n)?(e=!0,Xl(t)):e=!1,qo(t,r),tv(t,n,i),Wh(t,n,i,r),Yh(null,t,n,!0,e,r);case 19:return Hg(e,t,r);case 23:return mh(e,t,r);case 24:return mh(e,t,r)}throw Error(me(156,t.tag))};function z4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,r,n){return new z4(e,t,r,n)}function Yd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function V4(e){if(typeof e=="function")return Yd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ku)return 11;if(e===Iu)return 14}return 2}function oi(e,t){var r=e.alternate;return r===null?(r=Ur(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function nu(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")Yd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case qn:return Jo(r.children,i,o,t);case n1:s=8,i|=16;break;case fd:s=8,i|=1;break;case sa:return e=Ur(12,r,t,i|8),e.elementType=sa,e.type=sa,e.lanes=o,e;case aa:return e=Ur(13,r,t,i),e.type=aa,e.elementType=aa,e.lanes=o,e;case iu:return e=Ur(19,r,t,i),e.elementType=iu,e.lanes=o,e;case gd:return Kd(r,i,o,t);case Eh:return e=Ur(24,r,t,i),e.elementType=Eh,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hd:s=10;break e;case dd:s=9;break e;case ku:s=11;break e;case Iu:s=14;break e;case pd:s=16,n=null;break e;case yd:s=22;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=Ur(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Jo(e,t,r,n){return e=Ur(7,e,n,t),e.lanes=r,e}function Kd(e,t,r,n){return e=Ur(23,e,n,t),e.elementType=gd,e.lanes=r,e}function wh(e,t,r){return e=Ur(6,e,null,t),e.lanes=r,e}function _h(e,t,r){return t=Ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function q4(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ih(0),this.expirationTimes=ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ih(0),this.mutableSourceEagerHydrationData=null}function W4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Tu(e,t,r,n){var i=t.current,o=Tr(),s=Xn(i);e:if(r){r=r._reactInternals;t:{if(Ji(r)!==r||r.tag!==1)throw Error(me(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(pr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(me(171))}if(r.tag===1){var f=r.type;if(pr(f)){r=W1(r,f,a);break e}}r=a}else r=ni;return t.context===null?t.context=r:t.pendingContext=r,t=Kn(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),Zn(i,t),Qn(i,s,o),s}function Sh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function t1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zd(e,t){t1(e,t),(e=e.alternate)&&t1(e,t)}function $4(){return null}function Xd(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new q4(e,t,r!=null&&r.hydrate===!0),t=Ur(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,Pd(t),e[Qo]=r.current,B1(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}Xd.prototype.render=function(e){Tu(e,this._internalRoot,null,null)};Xd.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Tu(null,e,null,function(){t[Qo]=null})};function Pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function H4(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Xd(e,0,t?{hydrate:!0}:void 0)}function Uu(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var d=Sh(s);a.call(d)}}Tu(t,s,e,i)}else{if(o=r._reactRootContainer=H4(r,n),s=o._internalRoot,typeof i=="function"){var f=i;i=function(){var d=Sh(s);f.call(d)}}Ev(function(){Tu(t,s,e,i)})}return Sh(s)}v1=function(e){if(e.tag===13){var t=Tr();Qn(e,4,t),Zd(e,4)}};Ed=function(e){if(e.tag===13){var t=Tr();Qn(e,67108864,t),Zd(e,67108864)}};w1=function(e){if(e.tag===13){var t=Tr(),r=Xn(e);Qn(e,r,t),Zd(e,r)}};_1=function(e,t){return t()};Dh=function(e,t,r){switch(t){case"input":if(Oh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Lu(n);if(!i)throw Error(me(90));o1(n),Oh(n,i)}}}break;case"textarea":a1(e,r);break;case"select":t=r.value,t!=null&&Bo(e,!!r.multiple,t,!1)}};wd=Sv;p1=function(e,t,r,n,i){var o=Ae;Ae|=4;try{return qi(98,e.bind(null,t,r,n,i))}finally{Ae=o,Ae===0&&(rs(),Sn())}};_d=function(){(Ae&49)===0&&(D4(),ai())};y1=function(e,t){var r=Ae;Ae|=2;try{return e(t)}finally{Ae=r,Ae===0&&(rs(),Sn())}};function Iv(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pa(t))throw Error(me(200));return W4(e,t,null,r)}var J4={Events:[Ca,Lo,Lu,h1,d1,ai,{current:!1}]},Qs={findFiberByHostInstance:Mi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},G4={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=g1(e),e===null?null:e.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||$4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ea=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ea.isDisabled&&ea.supportsFiber))try{Dd=ea.inject(G4),zi=ea}catch{}var ea;Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J4;Wr.createPortal=Iv;Wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):Error(me(268,Object.keys(e)));return e=g1(t),e=e===null?null:e.stateNode,e};Wr.flushSync=function(e,t){var r=Ae;if((r&48)!==0)return e(t);Ae|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Ae=r,Sn()}};Wr.hydrate=function(e,t,r){if(!Pa(t))throw Error(me(200));return Uu(null,e,t,!0,r)};Wr.render=function(e,t,r){if(!Pa(t))throw Error(me(200));return Uu(null,e,t,!1,r)};Wr.unmountComponentAtNode=function(e){if(!Pa(e))throw Error(me(40));return e._reactRootContainer?(Ev(function(){Uu(null,null,e,!1,function(){e._reactRootContainer=null,e[Qo]=null})}),!0):!1};Wr.unstable_batchedUpdates=Sv;Wr.unstable_createPortal=function(e,t){return Iv(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Wr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pa(r))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return Uu(e,t,r,!1,n)};Wr.version="17.0.2"});var Cv=xe((a8,Dv)=>{"use strict";function Rv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rv)}catch(e){console.error(e)}}Rv(),Dv.exports=Av()});var is=xe(qv=>{var rO={debug:!1,protocol:"http",host:"localhost",port:8080,socket_protocol:"ws",hotreload:5e3,python:void 0,python_node:7001,startpage:"src/index.html",errpage:"src/other/404.html",certpath:"node_server/ssl/cert.pem",keypath:"node_server/ssl/key.pem",dataserver:"http://localhost:4000",realmapp:"buckleup-ilscy",googleclientid:"406817559914-boi30d05dk9jtj55frgi1dg8gkp6rrj9.apps.googleusercontent.com"};qv.settings=rO});var $v,Hv,Wv,Jv=Pr(()=>{$v=Rt(is()),Wv={log:console.log,gAuth:new Promise(e=>Hv=e)};Object.keys(Wv).forEach(e=>{window[e]=Wv[e]});(function(){if(location.hostname==="localhost"&&location.port!=="4000")return;function t(){gapi.load("auth2",()=>{gapi.auth2.init({client_id:$v.settings.googleclientid,scope:"https://www.googleapis.com/auth/drive"}).then(i=>{Hv(()=>i)},i=>{console.log("UNHANDLED"),console.error(i)})})}let r=document.createElement("script");r.type="text/javascript",r.src="https://apis.google.com/js/platform.js",r.onload=t,document.head.appendChild(r)})()});var Yv=xe(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0})});var e0=xe(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.arrHas=ze.arrLast=ze.arrToBoolDict=ze.arrToIdxDict=ze.arrToDict=ze.arrRemoveValues=ze.arrReplace=ze.arrDeepFlatten=ze.arrFlatten=ze.arrDivide=ze.arrGetByIds=ze.arrRemoveById=ze.arrGen=void 0;var ui=ci(),nO=e=>Array(e).fill(null);ze.arrGen=nO;function iO(e,t,r="id"){let n=Kv(e,r),i=ui.objRemoveKeys(n,t);return ui.objVals(i)}ze.arrRemoveById=iO;function oO(e,t,r="id"){let n=Zv(t);return e.filter(i=>n[i[r]])}ze.arrGetByIds=oO;function sO(e,t){let r=Math.ceil(e.length/t),n=ze.arrGen(r).map(()=>[]);return e.forEach((i,o)=>n[Math.floor(o/t)].push(i)),n}ze.arrDivide=sO;function aO(e){return[].concat.apply([],e)}ze.arrFlatten=aO;var lO=e=>e.reduce((t,r)=>t.concat(ui.isType(r,"array")?ze.arrDeepFlatten(r):r),[]);ze.arrDeepFlatten=lO;function uO(e){let t=[...e];return{all:r=>{let n=[];return e.forEach((i,o)=>ui.equal(r,i)?n[o]=o:null),{with:i=>n.length?(n.forEach(o=>t[o]=i),t):e}},first:r=>{let n=e.findIndex(i=>ui.equal(r,i));return{with:i=>ui.nonValue(n)?e:(t[n]=i,t)}}}}ze.arrReplace=uO;function cO(e,t){let r=[...e];return t.forEach(n=>r=r.filter(i=>!ui.equal(i,n))),r}ze.arrRemoveValues=cO;function Kv(e,t){let r={};return e.forEach(n=>r[n[t]]=n),r}ze.arrToDict=Kv;function fO(e){let t={};return e.forEach((r,n)=>t[r]=n+""),t}ze.arrToIdxDict=fO;function Zv(e){let t={};return e.forEach(r=>t[r]=!0),t}ze.arrToBoolDict=Zv;var hO=e=>e[e.length-1];ze.arrLast=hO;function dO(e,t,r=!1){let n=r?i=>ui.equal(i,t):i=>i===t;return e.findIndex(n)!==-1}ze.arrHas=dO});var Xv=xe(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.clone=void 0;function t0(e){let t,r,n,i,o,s,a;if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e);if(r=Object.keys(e),n=r.length,Array.isArray(e)){for(s=new Array(n),i=0;i<n;i++)o=r[i],t=e[o],typeof t!="object"||t===null?s[o]=t:t instanceof Date?s[o]=new Date(t):s[o]=t0(t);return s}for(a={},i=0;i<n;i++)o=r[i],t=e[o],Object.hasOwnProperty.call(e,o)!==!1&&(typeof t!="object"||t===null?a[o]=t:t instanceof Date?a[o]=new Date(t):a[o]=t0(t));return a}zu.clone=t0});var Qv=xe(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.equal=void 0;function Vu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Vu(e[n],t[n]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(n of e.entries())if(!t.has(n[0]))return!1;for(n of e.entries())if(!Vu(n[1],t.get(n[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(n of e.entries())if(!t.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Vu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}qu.equal=Vu});var tw=xe(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.promiseOut=mt.debounceTimeOut=mt.randomColorHex=mt.uiid=mt.assertType=mt.type=mt.cloneLog=mt.unsubAll=mt.wait=mt.interval=void 0;var Pn=ci(),pO=(e,t,r)=>{if(Pn.isType(r,"number")&&r<1)throw Error(`argument "times" can't be less than 1`);let n=0,i=setInterval(()=>{e(n),n++,r&&n>=r&&clearInterval(i)},t);return{stop:()=>clearInterval(i)}};mt.interval=pO;var yO=e=>new Promise(t=>setTimeout(()=>t(),e));mt.wait=yO;var ew=(e,t="unsubscribe")=>Pn.isType(e,"object")&&Pn.hasKey(e,t)?e[t]():null;function mO(e,t="unsubscribe"){if(Pn.isType(e,"array"))e.forEach(r=>ew(r,t));else if(Pn.isType(e,"object"))Pn.objMap(e,({val:r})=>ew(r,t));else throw Error('argument "objOrArr" must be of type "object" or "array"')}mt.unsubAll=mO;var gO=e=>console.log(Pn.clone(e));mt.cloneLog=gO;function vO(e){return typeof e=="object"?Array.isArray(e)?"array":e===null?"null":"object":e!==e?"NaN":typeof e}mt.type=vO;function wO(e,t){Pn.isType(t,"array")||(t=[t]);for(let r of t)if(Pn.isType(e,r))return;throw Error(`value needs to be of type ${t.join(" || ")}`)}mt.assertType=wO;var _O=()=>{let e=new Date().getTime(),t=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=Math.random()*16;return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),(n==="x"?i:i&3|8).toString(16)})};mt.uiid=_O;var SO=()=>"#"+((1<<24)*Math.random()|0).toString(16);mt.randomColorHex=SO;function EO(){let e=null;return(t,r)=>{e&&clearTimeout(e),e=setTimeout(t,r)}}mt.debounceTimeOut=EO;function bO(){let e,t=new Promise(r=>e=r);return{resolve:e,promise:t}}mt.promiseOut=bO});var rw=xe(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.iterate=void 0;var r0=e0();function OO(e,t,r){let n=(i,o=!1)=>{let s=[];for(let a=0;a<e;a++)if(!t)s.push(i({x:a}));else for(let f=0;f<t;f++)if(!r)s.push(i({x:a,y:f}));else for(let d=0;d<r;d++)s.push(i({x:a,y:f,z:d}));return o?r&&t?r0.arrDivide(s,t*r).map(f=>r0.arrDivide(f,r)):t?r0.arrDivide(s,t):s:s};return{for:i=>{n(i)},map:i=>n(i),nestedMap:i=>n(i,!0)}}Wu.iterate=OO});var iw=xe(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.newNumFromRange=kr.numberWithCommas=kr.decPlace=kr.average=kr.rand=void 0;var nw=ci(),xO=(e,t)=>Math.floor(Math.random()*(t+1-e))+e;kr.rand=xO;var TO=e=>e.reduce((t=0,r=0)=>t+r,0)/e.length;kr.average=TO;var NO=(e,t)=>parseFloat(e.toFixed(t));kr.decPlace=NO;var kO=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");kr.numberWithCommas=kO;function IO(e,t,r){let n,i=0,o=nw.isType(e,"array")?nw.arrToBoolDict(e):{[e]:!0};do if(n=kr.rand(t,r),i++,i>1e6)throw console.error("Check for infinite loops"),new Error("Looped 1 million times");while(o[n]);return n}kr.newNumFromRange=IO});var ow=xe(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.objPromiseAll=ut.objSortKeys=ut.objResolve=ut.objExtract=ut.objKeyVals=ut.objVals=ut.objKeys=ut.objRemoveKeys=ut.objFilter=ut.objMap=void 0;function AO(e,t){let r={};for(let n in e)r[n]=t({key:n,val:e[n]});return r}ut.objMap=AO;function RO(e,t){let r=Object.assign({},e);for(let n in e)t({key:n,val:e[n]})||delete r[n];return r}ut.objFilter=RO;function DO(e,t){let r=Object.assign({},e);return t.forEach(n=>delete r[n]),r}ut.objRemoveKeys=DO;function $u(e){if(Object.keys)return Object.keys(e);let t=[];for(let r in e)t.push(r);return t}ut.objKeys=$u;var CO=e=>Object.values?Object.values(e):$u(e).map(t=>e[t]);ut.objVals=CO;var FO=e=>$u(e).map(t=>({key:t,val:e[t]}));ut.objKeyVals=FO;function LO(e,t){let r={};return t.forEach(n=>r[n]=e[n]),r}ut.objExtract=LO;var PO=(e,t)=>t.split(".").reduce((r,n)=>r[n],e);ut.objResolve=PO;var jO=(e,t)=>{let r={};return $u(e).sort(t).map(i=>r[i]=e[i]),r};ut.objSortKeys=jO;function MO(e){let t=ut.objKeyVals(e),r=t.length,n={},i=0;return new Promise(o=>t.forEach(({key:s,val:a})=>a.then(f=>{n[s]=f,i++,r===i&&o(n)})))}ut.objPromiseAll=MO});var sw=xe(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.minAppend=fi.strRemove=fi.strIncludes=void 0;var BO=(e,t)=>e.indexOf(t)!==-1;fi.strIncludes=BO;var UO=(e,t)=>e.replace(new RegExp(t,"g"),"");fi.strRemove=UO;var zO=(e,t,r="0")=>{if(e=e+"",t<1)throw Error("length can not be less than 1");if(e.length>t)throw Error("item can not exceed length");return(r.repeat(t-1)+e).slice(-t)};fi.minAppend=zO});var lw=xe(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.isValidEmail=gt.nonValue=gt.nullOrEmpty=gt.isType=gt.hasKeys=gt.hasKey=gt.equalAny=void 0;var VO=ci(),aw=ci(),qO=(e,t)=>!!t.find(r=>VO.equal(e,r));gt.equalAny=qO;var WO=(e,t)=>gt.isType(e,"object")&&e.hasOwnProperty(t);gt.hasKey=WO;function $O(e,t){if(!gt.isType(e,"object"))return!1;for(let r of t)if(!e.hasOwnProperty(r))return!1;return!0}gt.hasKeys=$O;var HO=(e,t)=>aw.type(e)===t;gt.isType=HO;function JO(e){return gt.nonValue(e)?!0:gt.isType(e,"string")||gt.isType(e,"array")?!e.length:gt.isType(e,"object")?!aw.objVals(e).length:!1}gt.nullOrEmpty=JO;var GO=e=>e==null;gt.nonValue=GO;var YO=e=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e);gt.isValidEmail=YO});var uw=xe(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.yearStartEnd=Se.monthStartEnd=Se.weekStartEnd=Se.getDayStartEnd=Se.wks=Se.weeks=Se.dys=Se.days=Se.hrs=Se.hours=Se.min=Se.minutes=Se.sec=Se.seconds=Se.msToTime=Se.msToWks=Se.msToDys=Se.msToHrs=Se.msToMin=Se.msToSec=Se.dateTimeToString=Se.weekTuple=Se.msTime=void 0;var Hu=ci();Se.msTime={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};Se.weekTuple=["sun","mon","tue","wed","thu","fri","sat"];function KO(e=new Date){let t=("0"+e.getHours()).slice(-2),r=("0"+e.getMinutes()).slice(-2),n=("0"+e.getSeconds()).slice(-2),i=("00"+e.getMilliseconds()).slice(-3);return`${t}:${r}:${n}:${i}`}Se.dateTimeToString=KO;var ZO=e=>e/Se.msTime.s;Se.msToSec=ZO;var XO=e=>e/Se.msTime.m;Se.msToMin=XO;var QO=e=>e/Se.msTime.h;Se.msToHrs=QO;var ex=e=>e/Se.msTime.d;Se.msToDys=ex;var tx=e=>e/Se.msTime.w;Se.msToWks=tx;function rx(e,t=!1){let r=e%1e3,n=Math.floor(e/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);o=o%24;let a=("00"+s).slice(-3),f=("0"+o).slice(-2),d=("0"+i).slice(-2),m=("0"+n).slice(-2),g=("00"+r).slice(-3);return t?{d:s,h:o,m:i,s:n,ms:r}:`${s?a+":":""}${f}:${d}:${m}:${g}`}Se.msToTime=rx;var nx=e=>e*Se.msTime.s;Se.seconds=nx;Se.sec=Se.seconds;var ix=e=>e*Se.msTime.m;Se.minutes=ix;Se.min=Se.minutes;var ox=e=>e*Se.msTime.h;Se.hours=ox;Se.hrs=Se.hours;var sx=e=>e*Se.msTime.d;Se.days=sx;Se.dys=Se.days;var ax=e=>e*Se.msTime.w;Se.weeks=ax;Se.wks=Se.weeks;function lx(e,t="local"){Hu.isType(e,"number")&&(e=new Date(e));let r=e.getFullYear(),n=e.getMonth(),i=e.getDate(),o=new Date(r,n,i),s=new Date(r,n,i,23,59,59,999);if(t==="unix"){let a=Se.min(o.getTimezoneOffset());o=new Date(o.getTime()+a),s=new Date(s.getTime()+a)}return{start:o,end:s}}Se.getDayStartEnd=lx;function ux(e,t="sun",r="local"){Hu.isType(e,"number")&&(e=new Date(e));let i=e.getDay()*-1+(t==="mon"?1:0),o=6+i,s=new Date(e.getTime()+Se.days(i)),a=new Date(e.getTime()+Se.days(o)),f=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999);if(r==="unix"){let m=Se.min(f.getTimezoneOffset());f=new Date(f.getTime()+m),d=new Date(d.getTime()+m)}return{start:f,end:d}}Se.weekStartEnd=ux;function cx(e,t="local"){Hu.isType(e,"number")&&(e=new Date(e));let r=e.getFullYear(),n=e.getMonth(),i=new Date(r,n,1),o=new Date(r,n,0,23,59,59,999);if(t==="unix"){let s=Se.min(i.getTimezoneOffset());i=new Date(i.getTime()+s),o=new Date(o.getTime()+s)}return{start:i,end:o}}Se.monthStartEnd=cx;function fx(e,t="local"){Hu.isType(e,"number")&&(e=new Date(e));let r=e.getFullYear(),n=new Date(r,0,1),i=new Date(r,12,0,23,59,59,999);if(t==="unix"){let o=Se.min(n.getTimezoneOffset());n=new Date(n.getTime()+o),i=new Date(i.getTime()+o)}return{start:n,end:i}}Se.yearStartEnd=fx});var ci=xe(Ht=>{"use strict";var hx=Ht&&Ht.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tn=Ht&&Ht.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hx(t,e,r)};Object.defineProperty(Ht,"__esModule",{value:!0});tn(Yv(),Ht);tn(e0(),Ht);tn(Xv(),Ht);tn(Qv(),Ht);tn(tw(),Ht);tn(rw(),Ht);tn(iw(),Ht);tn(ow(),Ht);tn(sw(),Ht);tn(lw(),Ht);tn(uw(),Ht)});var cw,fw,hw,dw=Pr(()=>{cw=class{constructor(t=!1,r=!1){this.debug=t,this.listeners=[],this.synchronous=r,this.syncInterval="FRAMERATE",this.syncAnim=void 0,r===!0&&this.startSync()}addListener(t=null,r,n=void 0,i=void 0,o=void 0,s=this.debug,a=!0){if(r===void 0){console.error("You must assign an object");return}var f=t;f==null&&(f=Math.floor(Math.random()*1e5)),this.synchronous===!0&&(a=!1);var d={key:f,listener:new fw(r,n,i,o,s,a)};this.listeners.push(d)}getListener(t){return this.listeners.find((n,i)=>{if(n.key===t)return!0})}hasKey(t){var r=!1;return this.listeners.forEach((n,i)=>{if(n.key===t)return r=!0,!0}),r}getKeyIndices(t){var r=[];return this.listeners.find((n,i)=>{n.key===t&&r.push(i)}),r}onchange(t=null,r=null){if(t==null)this.listeners.forEach((i,o)=>{i.listener.onchange=r});else var n=this.listeners.find((i,o)=>{i.name===t&&(i.listener.onchange=r)})}addFunc=(t=null,r=null,n=!0)=>{var i=null;if(r!==null)if(t==null)this.listeners.forEach((s,a)=>{i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start()});else var o=this.listeners.find((s,a)=>{s.key===t&&(i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start())});return i};getFuncs=(t=void 0)=>{if(t){var r=this.listeners.find((n,i)=>{if(n.key===t)return!0});return r.onchangeFuncs}else return};removeFuncs=(t=null,r=null,n=!1)=>{if(t==null)this.listeners.forEach((o,s)=>{o.listener.removeFuncs(r)});else var i=this.listeners.find((o,s)=>{o.key===t&&(o.listener.removeFuncs(r),(o.listener.onchangeFuncs.length===0||n===!0)&&o.listener.stop())})};stop(t=null){if(this.synchronous&&this.stopSync(),t==null)this.listeners.forEach((n,i)=>{n.listener.stop()});else var r=this.listeners.find((n,i)=>{n.name===t&&n.listener.stop()})}start(t=null){if(this.synchronous&&this.stopSync(),t==null)this.listeners.forEach((n,i)=>{n.listener.start()});else var r=this.listeners.find((n,i)=>{n.name===t&&n.listener.start()})}startSync(){if(this.synchronous===!1){this.synchronous=!0,this.stop();let t=()=>{this.synchronous===!0&&(this.listeners.forEach(r=>{r.listener.check()}),this.syncInterval==="FRAMERATE"?this.syncAnim=requestAnimationFrame(t):typeof this.syncInterval=="number"&&setTimeout(t,this.syncInterval))};t()}}stopSync(){this.synchronous=!1,this.syncAnim&&cancelAnimationFrame(this.syncAnim)}remove(t=null){if(t==null)this.listeners.forEach(i=>{i.listener.stop()}),this.listeners.splice(0,this.listeners.length);else{var r=[],n=this.listeners.forEach((i,o)=>{i.key===t&&r.push(o)});r.reverse().forEach(i=>{this.listeners[i].listener.stop(),this.listeners.splice(i,1)})}}},fw=class{constructor(t,r="__ANY__",n=this.onchange,i="FRAMERATE",o=!1,s=!0){this.debug=o,this.onchange=n,this.onchangeFuncs=[],this.object=t,this.propName=r,this.propOld=void 0,this.setListenerRef(r),this.running=s,this.funcs=0,this.interval,i<10?(this.interval=10,console.log("Min recommended interval set: 10ms")):this.interval=i,s===!0&&(typeof window>"u"?setTimeout(()=>{this.check()},60):this.checker=requestAnimationFrame(this.check))}onchange=t=>{console.log(this.propName," changed from: ",this.propOld," to: ",this.object[this.propName])};addFunc=(t=null)=>{let r=0;return t!==null&&(this.onchangeFuncs.push({idx:this.funcs,onchange:t}),r=this.funcs,this.funcs++),r};removeFuncs(t=null){let r=0;t===null?this.onchangeFuncs=[]:this.onchangeFuncs.find((n,i)=>{if(n.idx===t)return r=i,!0})!==void 0&&this.onchangeFuncs.splice(r,1)}onchangeMulti=t=>{[...this.onchangeFuncs].forEach((n,i)=>{this.debug===!0&&console.log(n.onchange),n.onchange(t)})};setListenerRef=t=>{t==="__ANY__"||t===null||t===void 0?this.propOld=JSON.stringifyFast(this.object):Array.isArray(this.object[t])?this.propOld=JSON.stringifyFast(this.object[t].slice(this.object[t].length-20)):typeof this.object[t]=="object"?this.propOld=JSON.stringifyFast(this.object[t]):typeof this.object[t]=="function"?this.propOld=this.object[t].toString():this.propOld=this.object[t],this.debug===!0&&console.log("propname",t,", new assignment: ",this.propOld)};check=()=>{let t=!1;if(this.propName==="__ANY__"||this.propName===null||this.propName===void 0)this.propOld!==JSON.stringifyFast(this.object)&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object),this.setListenerRef(this.propName),t=!0);else if(Array.isArray(this.object[this.propName]))this.propOld!==JSON.stringifyFast(this.object[this.propName].slice(this.object[this.propName].length-20))&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),t=!0);else if(typeof this.object[this.propName]=="object"){let r=JSON.stringifyFast(this.object[this.propName]);this.propOld!==r&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),t=!0)}else typeof this.object[this.propName]=="function"?this.propOld!==this.object[this.propName].toString()&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName].toString()),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName].toString()),this.setListenerRef(this.propName),t=!0):this.object[this.propName]!==this.propOld&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),t=!0);return this.running===!0&&(this.debug===!0&&console.log("checking",this.object,this.propName),this.interval==="FRAMERATE"?typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check):setTimeout(()=>{this.check()},this.interval)),t};start(){this.running=!0,typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check)}stop(){this.running=!1,cancelAnimationFrame(this.checker)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let e=new Map,t=[],r=["this"];function n(){e.clear(),t.length=0,r.length=1}function i(s,a){var f=t.length-1;if(t[f]){var d=t[f];if(typeof d=="object")if(d[s]===a||f===0)r.push(s),t.push(a.pushed);else for(;f-->=0;){if(d=t[f],typeof d=="object"&&d[s]===a){f+=2,t.length=f,r.length=f,--f,t[f]=a,r[f]=s;break}f--}}}function o(s,a){let f;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let m=e.get(a);if(m)return"[Circular Reference]"+m;if(e.set(a,r.join(".")),d==="Array")a.length>20?f=a.slice(a.length-20):f=a;else if(d.includes("Set"))f=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")f="instanceof_"+d;else if(d==="Object"){let g={};for(let y in a)if(a[y]==null)g[y]=a[y];else if(Array.isArray(a[y]))a[y].length>20?g[y]=a[y].slice(a[y].length-20):g[y]=a[y];else if(a[y].constructor.name==="Object"){g[y]={};for(let S in a[y])if(Array.isArray(a[y][S]))a[y][S].length>20?g[y][S]=a[y][S].slice(a[y][S].length-20):g[y][S]=a[y][S];else if(a[y][S]!=null){let N=a[y][S].constructor.name;N.includes("Set")?g[y][S]=Array.from(a[y][S]):N!=="Number"&&N!=="String"&&N!=="Boolean"?g[y][S]="instanceof_"+N:g[y][S]=a[y][S]}else g[y][S]=a[y][S]}else{let S=a[y].constructor.name;S.includes("Set")?g[y]=Array.from(a[y]):S!=="Number"&&S!=="String"&&S!=="Boolean"?g[y]="instanceof_"+S:g[y]=a[y]}f=g}else f=a}else f=a;return f}return function(a,f){t.push(a);let d=JSON.stringify(a,o,f);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let e=new Map,t=[],r=["this"];function n(){e.clear(),t.length=0,r.length=1}function i(s,a){var f=t.length-1,d=t[f];if(d[s]===a||f===0)r.push(s),t.push(a);else for(;f-->=0;)if(d=t[f],d[s]===a){f+=2,t.length=f,r.length=f,--f,t[f]=a,r[f]=s;break}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let f=e.get(a);if(f)return"[Circular Reference]"+f;e.set(a,r.join("."))}return a}return function(a,f){try{return t.push(a),JSON.stringify(a,o,f)}finally{n()}}}());hw=cw});var n0,pw=Pr(()=>{dw();n0=class{constructor(t={},r="FRAMERATE",n=!0){this.data=t,this.interval=r,this.pushToState={},this.pushRecord={pushed:[]},this.pushCallbacks={},this.triggers={},this.prev={},this.listener=new hw,this.defaultStartListenerEventLoop=n}subscribe(t,r,n=this.defaultStartListenerEventLoop){if(t&&t!=="state")if(this.data[t]===void 0)this.addToState(t,null,r,n);else return this.addSecondaryKeyResponse(t,r,void 0,n);else return this.addSecondaryKeyResponse(t,r,void 0,n)}subscribeOnce(t=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribe(t,n)};n=this.subscribe(t,i)}unsubscribe(t,r=null){r!==null?this.removeSecondaryKeyResponse(t,r,!0):console.error("Specify a subcription function index")}unsubscribeAll(t){this.unsubscribeAllSequential(t),this.unsubscribeAllTriggers(t),this.clearAllKeyResponses(t),this.data[t]&&delete this.data[t],this.listener.hasKey("pushToState")&&this.setSequentialState({stateRemoved:t})}setInterval(t="FRAMERATE"){this.interval=t,this.listener.listeners.forEach((r,n)=>{r.interval=this.interval})}updateState(t,r){this.data[t]==null?this.addToState(t,r):this.data[t]=r}setupSynchronousUpdates=()=>{if(!this.listener.hasKey("pushToState")){let t=()=>{if(Object.keys(this.pushToState).length>0){Object.assign(this.data,this.pushToState);for(let r of Object.getOwnPropertyNames(this.pushToState))delete this.pushToState[r]}};this.listener.addListener("pushToState",this.pushToState,"__ANY__",t,this.interval),this.addToState("pushRecord",this.pushRecord,r=>{let n=r.pushed.length;for(let i=0;i<n;i++){let o=r.pushed[i];this.pushCallbacks.state&&this.pushCallbacks.state.forEach(s=>{s.onchange(o)});for(let s in o)this.pushCallbacks[s]&&this.pushCallbacks[s].forEach(a=>{typeof a=="object"&&a.onchange(o[s])})}this.pushRecord.pushed.splice(0,n)})}};addToState(t,r,n=null,i=this.defaultStartListenerEventLoop,o=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&this.setupSynchronousUpdates(),this.data[t]=r,this.setSequentialState({stateAdded:t}),n!==null)return this.addSecondaryKeyResponse(t,n,o,i)}get(t){return this.data[t]}getState(){return JSON.parse(JSON.stringifyFast(this.data))}setState(t={},r=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&(this.setupSynchronousUpdates(),this.pushRecord.pushed.push(JSON.parse(JSON.stringifyWithCircularRefs(t)))),t.stateUpdateTimeStamp=Date.now(),r){for(let n in t)if(n in this.pushToState){if(Array.isArray(this.pushToState[n])&&Array.isArray(t[n]))t[n]=this.pushToState[n].push(...t[n]);else if(typeof this.pushToState[n]=="object"&&typeof t[n]=="object"){for(let i in t[n])if(this.pushToState[n][i]){if(Array.isArray(this.pushToState[n][i])&&Array.isArray(t[n][i]))t[n][i]=this.pushToState[n][i].push(...t[n][i]);else if(typeof this.pushToState[n][i]=="object"&&typeof t[n][i]=="object"){for(let o in t[n][i])if(this.pushToState[n][i][o])Array.isArray(this.pushToState[n][i][o])&&Array.isArray(t[n][i][o])&&(t[n][i][o]=this.pushToState[n][i][o].push(...t[n][i][o]));else if(typeof this.pushToState[n][i][o]=="object"&&typeof t[n][i][o]=="object")for(let s in t[n][i][o])this.pushToState[n][i][o][s]&&Array.isArray(this.pushToState[n][i][o][s])&&Array.isArray(t[n][i][o][s])&&(t[n][i][o][s]=this.pushToState[n][i][o][s].push(...t[n][i][o][s]))}}}}}if(Object.assign(this.pushToState,t),Object.keys(this.triggers).length>0){this.triggers.state&&this.triggers.state.forEach(n=>{n.onchange(this.data)});for(let n of Object.getOwnPropertyNames(this.triggers))n in this.pushToState&&(this.data[n]=this.pushToState[n],delete this.pushToState[n],this.triggers[n].forEach(i=>{i.onchange(this.data[n])}))}return this.pushToState}subscribeTrigger(t=void 0,r=n=>{}){if(t){this.triggers[t]||(this.triggers[t]=[]);let n=this.triggers[t].length;return this.triggers[t].push({idx:n,onchange:r}),this.triggers[t].length-1}else return}subscribeTriggerOnce(t=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeTrigger(t,n)};n=this.subscribeTrigger(t,i)}unsubscribeTrigger(t=void 0,r=0){let n,i=this.triggers[t];i&&i.find(s=>{if(s.idx===r)return!0})&&i.splice(n,1)}unsubscribeAllTriggers(t){t&&this.triggers[t]&&delete this.triggers[t]}setSequentialState(t={}){this.listener.hasKey("pushToState")||this.setupSynchronousUpdates(),t.stateUpdateTimeStamp=Date.now(),this.pushRecord.pushed.push(JSON.parse(JSON.stringify(t)))}subscribeSequential(t=void 0,r=void 0){if(t)if(this.data[t]===void 0&&t!=="state"&&this.addToState(t,null,void 0),this.pushCallbacks[t]||(this.pushCallbacks[t]=[]),r){let n=this.pushCallbacks[t].length;return this.pushCallbacks[t].push({idx:n,onchange:r}),this.pushCallbacks[t].length-1}else return;else return}subscribeSequentialOnce(t=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeSequential(t,n)};n=this.subscribeSequential(t,i)}unsubscribeSequential(t=void 0,r=0){t&&this.pushCallbacks[t]&&this.pushCallbacks[t].find((n,i)=>{if(n.idx===r)return this.pushCallbacks[t].splice(i,1),!0})}unsubscribeAllSequential(t){t&&this.pushCallbacks[t]&&this.pushCallbacks[t]&&delete this.pushCallbacks[t]}setPrimaryKeyResponse(t=null,r=null,n=!1,i=this.defaultStartListenerEventLoop){if(r!==null)if(this.listener.hasKey(t))this.listener.onchange(t,r);else if(t!=null&&t!=="state")this.listener.addListener(t,this.data,t,r,this.data.stateUpdateInterval,n,i);else{if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}}addSecondaryKeyResponse=(t=null,r=null,n=!1,i=this.defaultStartListenerEventLoop)=>{if(r!=null){if(this.listener.hasKey(t))return this.listener.addFunc(t,r);if(t!=null&&t!=="state")return this.listener.addListener(t,this.data,t,()=>{},this.data.stateUpdateInterval,n,i),this.listener.addFunc(t,r);if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}};removeSecondaryKeyResponse(t=null,r=null,n=!0){t!==null?this.listener.hasKey(t)?this.listener.removeFuncs(t,r,n):console.error("key does not exist"):console.error("provide key")}clearAllKeyResponses(t=null){t===null?this.listener.remove(null):this.listener.hasKey(t)&&this.listener.remove(t)}getKeySubCallbacks(t){return this.listener.getFuncs(t)}removeState=this.unsubscribeAll;runSynchronousListeners(){this.defaultStartListenerEventLoop=!1,this.listener.startSync()}stop(t=null){this.listener.stop(t)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let e=new Map,t=[],r=["this"];function n(){e.clear(),t.length=0,r.length=1}function i(s,a){var f=t.length-1;if(t[f]){var d=t[f];if(typeof d=="object")if(d[s]===a||f===0)r.push(s),t.push(a.pushed);else for(;f-->=0;){if(d=t[f],typeof d=="object"&&d[s]===a){f+=2,t.length=f,r.length=f,--f,t[f]=a,r[f]=s;break}f++}}}function o(s,a){let f;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let m=e.get(a);if(m)return"[Circular Reference]"+m;if(e.set(a,r.join(".")),d==="Array")a.length>20?f=a.slice(a.length-20):f=a;else if(d.includes("Set"))f=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")f="instanceof_"+d;else if(d==="Object"){let g={};for(let y in a)if(a[y]==null)g[y]=a[y];else if(Array.isArray(a[y]))a[y].length>20?g[y]=a[y].slice(a[y].length-20):g[y]=a[y];else if(a[y].constructor.name==="Object"){g[y]={};for(let S in a[y])if(Array.isArray(a[y][S]))a[y][S].length>20?g[y][S]=a[y][S].slice(a[y][S].length-20):g[y][S]=a[y][S];else if(a[y][S]!=null){let N=a[y][S].constructor.name;N.includes("Set")?g[y][S]=Array.from(a[y][S]):N!=="Number"&&N!=="String"&&N!=="Boolean"?g[y][S]="instanceof_"+N:g[y][S]=a[y][S]}else g[y][S]=a[y][S]}else{let S=a[y].constructor.name;S.includes("Set")?g[y]=Array.from(a[y]):S!=="Number"&&S!=="String"&&S!=="Boolean"?g[y]="instanceof_"+S:g[y]=a[y]}f=g}else f=a}else f=a;return f}return function(a,f){t.push(a);let d=JSON.stringify(a,o,f);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let e=new Map,t=[],r=["this"];function n(){e.clear(),t.length=0,r.length=1}function i(s,a){var f=t.length-1,d=t[f];if(typeof d=="object")if(d[s]===a||f===0)r.push(s),t.push(a.pushed);else for(;f-->=0;){if(d=t[f],typeof d=="object"&&d[s]===a){f+=2,t.length=f,r.length=f,--f,t[f]=a,r[f]=s;break}f--}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let f=e.get(a);if(f)return"[Circular Reference]"+f;e.set(a,r.join("."))}return a}return function(a,f){try{return t.push(a),JSON.stringify(a,o,f)}finally{n()}}}())});async function mw(e="sessionName",t="data",r=0,n=5120,i=o=>{}){return e!=""?new Promise(async o=>{Ge.open("/"+t+"/"+e,"r",(s,a)=>{if(s)throw s;Ge.read(a,n,r,"utf-8",(f,d,m)=>{if(f)throw f;if(m!==0){let g=d.toString();Ge.close(a,()=>{i(g,e),o(g)})}else o(void 0)})})}):void console.error("Path name is not defined")}function a0(e=t=>{}){window.gapi.client.drive.files.list({q:"name='Brainsatplay_Data' and mimeType='application/vnd.google-apps.folder'"}).then(t=>{t.result.files.length===0&&this.createDriveFolder(),e&&e(t.result)})}function ww(e=t=>{}){a0(t=>{window.gapi.client.drive.files.list({q:`'${t.files[0].id}' in parents`,pageSize:10,fields:"nextPageToken, files(id, name)"}).then(r=>{var n=r.result.files;n&&n.length>0&&e(n)})})}function l0(e){return!!e.match(l0.regex)}var ja,yw,M8,Ma,Ju,Ge,i0,o0,gw,vw,os,s0,Yi,B8,U8,Sw,Ew,bw,dx,_w,z8,Ow=Pr(()=>{ja=class{constructor(t=this.onOpen,r=null,n=null){this.onOpen=t,this.notes=[{idx:0,text:"comment"}],r!==null&&document.getElementById(r).addEventListener("click",this.saveCSV),n!==null&&document.getElementById(n).addEventListener("click",this.openCSV)}processArraysForCSV(t=["1|2|3","3|2|1"],r="|",n="a,b,c",i=!1){let o=n+`
`,s=0;return t.forEach((a,f)=>{t[f]==="string"&&r!==","?o+=a.split(r).join(","):csvData+=a.join(","),i===!0&&this.notes[s].idx===f&&(a+=this.notes[s].text,s++),a.indexOf(`
`)<0&&(o+=`
`)}),o}static saveCSV(t=`a,b,c
1,2,3
3,2,1
`,r=new Date().toISOString()){var n=document.createElement("a");n.href="data:text/csv;charset=utf-8,"+encodeURI(t),n.target="_blank",n.download=r!==""?r+".csv":Date().toISOString()+".csv",n.click()}static openCSV(t=",",r=(n,i,o)=>o){var n=document.createElement("input");n.accept=".csv",n.type="file",n.onchange=i=>{var o=i.target.files[0],s=new FileReader;s.onload=a=>{var f=a.target.result.split(`
`);let d=[];var m=[];f.pop(),f.forEach((g,y)=>{if(y==0)d=g.split(t);else{var S=g.split(t);m.push(S)}}),r(m,d,n.value),n.value=""},s.readAsText(o)},n.click()}static openCSVRaw(t=(r,n)=>n){var r=document.createElement("input");r.accept=".csv",r.type="file",r.onchange=n=>{var i=n.target.files[0],o=new FileReader;o.onload=s=>{var a=s.target.result;t(a,r.value),r.value=""},o.readAsText(i)},r.click()}onOpen(t=[],r=[]){console.log("CSV Opened!",r,t)}},M8=Object.freeze({__proto__:null,CSV:ja,parseCSVData:(e,t,r,n=!0,i=(o,s,a)=>{let f={filename:a,head:s},d=s;typeof s=="string"&&(d=s.split(","));for(let m=0;m<o.length;m++){let g=o[m].split(",");for(let y=0;y<g.length;y++)f[d[y]]||f[d[y]],f[d[y]]=g[y]}return f})=>{let o=e.split(`
`);return o.shift(),n===!1&&o.pop(),i(o,t,r)},processDataForCSV:(e={})=>{let t="";typeof e.data[0]!="object"||Array.isArray(e.data[0])||(e.data[0].x?t="x,":e.data[0].timestamp&&(t="timestamp,localtime,"));let r=0,n={};e.data.forEach((s,a)=>{if(Array.isArray(s))for(let f=0;f<s.length;f++)n[f]||(n[f]=""),Array.isArray(s[f])?(f===0&&(t[r]+=e.header[r]+new Array(s[f].length-1).fill("").join(",")),n[f]+=s[f].join(",")+",",r+=s[f].length):(f===0&&(t[r]+=e.header[r]+","),n[f]+=s[f]+",",r++);else if(typeof s=="object"){let f;s.x?f=s.x:s.timestamp&&(f=s.timestamp);for(let d=0;d<f.length;d++){n[f[d]]||(n[f[d]]=f[d]+","),s.timestamp&&(n[f[d]]+=toISOLocal(s.timestamp[d])+",");for(let m in s)m!=="x"&&(n[f[d]]||(n[f[d]]=""),Array.isArray(s[m][d])?(d===0&&(t[r]+=e.header[r]+Array(s[m][d].length-1).fill("").join(",")),n[f[d]]+=s[m][d].join(",")+",",r+=s[m][d].length):(d===0&&(t[r]+=e.header[r]+","),n[f[d]]+=s[m][d]+",",r++))}}}),t.splice(t.length-1,1),t+=`
`;let i="";for(let s in n)n[s].splice(n[s].length-1,1),i+=n[s]+`
`;let o={filename:e.filename,header:t,body:i};return e.save&&ja.saveCSV(t+i,e.filename),e.write&&fs.exists(e.filename,s=>{s?appendFile(e.filename,i,e.dir):appendFile(e.filename,t+i,e.dir)}),o}}),Ma=(typeof globalThis<"u"||typeof window<"u"||(typeof global<"u"?global:typeof self<"u"),{exports:{}});yw=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){(function(n,i,o,s){Object.defineProperty(t,"__esModule",{value:!0});var a,f=r(2),d=r(9);(function(c){c[c.EPERM=1]="EPERM",c[c.ENOENT=2]="ENOENT",c[c.EIO=5]="EIO",c[c.EBADF=9]="EBADF",c[c.EACCES=13]="EACCES",c[c.EBUSY=16]="EBUSY",c[c.EEXIST=17]="EEXIST",c[c.ENOTDIR=20]="ENOTDIR",c[c.EISDIR=21]="EISDIR",c[c.EINVAL=22]="EINVAL",c[c.EFBIG=27]="EFBIG",c[c.ENOSPC=28]="ENOSPC",c[c.EROFS=30]="EROFS",c[c.ENOTEMPTY=39]="ENOTEMPTY",c[c.ENOTSUP=95]="ENOTSUP"})(a||(a={}));var m={};m[a.EPERM]="Operation not permitted.",m[a.ENOENT]="No such file or directory.",m[a.EIO]="Input/output error.",m[a.EBADF]="Bad file descriptor.",m[a.EACCES]="Permission denied.",m[a.EBUSY]="Resource busy or locked.",m[a.EEXIST]="File exists.",m[a.ENOTDIR]="File is not a directory.",m[a.EISDIR]="File is a directory.",m[a.EINVAL]="Invalid argument.",m[a.EFBIG]="File is too big.",m[a.ENOSPC]="No space left on disk.",m[a.EROFS]="Cannot modify a read-only file system.",m[a.ENOTEMPTY]="Directory is not empty.",m[a.ENOTSUP]="Operation is not supported.";var g,y=function(c){function u(l,h,p){h===void 0&&(h=m[l]),c.call(this,h),this.syscall="",this.errno=l,this.code=a[l],this.path=p,this.stack=new c().stack,this.message="Error: "+this.code+": "+h+(this.path?", '"+this.path+"'":"")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.fromJSON=function(l){var h=new u(0);return h.errno=l.errno,h.code=l.code,h.path=l.path,h.stack=l.stack,h.message=l.message,h},u.fromBuffer=function(l,h){return h===void 0&&(h=0),u.fromJSON(JSON.parse(l.toString("utf8",h+4,h+4+l.readUInt32LE(h))))},u.FileError=function(l,h){return new u(l,m[l],h)},u.ENOENT=function(l){return this.FileError(a.ENOENT,l)},u.EEXIST=function(l){return this.FileError(a.EEXIST,l)},u.EISDIR=function(l){return this.FileError(a.EISDIR,l)},u.ENOTDIR=function(l){return this.FileError(a.ENOTDIR,l)},u.EPERM=function(l){return this.FileError(a.EPERM,l)},u.ENOTEMPTY=function(l){return this.FileError(a.ENOTEMPTY,l)},u.prototype.toString=function(){return this.message},u.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},u.prototype.writeToBuffer=function(l,h){l===void 0&&(l=n.alloc(this.bufferSize())),h===void 0&&(h=0);var p=l.write(JSON.stringify(this.toJSON()),h+4);return l.writeUInt32LE(p,h),l},u.prototype.bufferSize=function(){return 4+n.byteLength(JSON.stringify(this.toJSON()))},u}(Error),S=Object.freeze({get ErrorCode(){return a},ErrorStrings:m,ApiError:y});(function(c){c[c.NOP=0]="NOP",c[c.THROW_EXCEPTION=1]="THROW_EXCEPTION",c[c.TRUNCATE_FILE=2]="TRUNCATE_FILE",c[c.CREATE_FILE=3]="CREATE_FILE"})(g||(g={}));var N,A=function c(u){if(this.flagStr=u,c.validFlagStrs.indexOf(u)<0)throw new y(a.EINVAL,"Invalid flag: "+u)};A.getFileFlag=function(c){return A.flagCache.hasOwnProperty(c)?A.flagCache[c]:A.flagCache[c]=new A(c)},A.prototype.getFlagString=function(){return this.flagStr},A.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},A.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},A.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},A.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},A.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},A.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},A.prototype.pathExistsAction=function(){return this.isExclusive()?g.THROW_EXCEPTION:this.isTruncating()?g.TRUNCATE_FILE:g.NOP},A.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?g.CREATE_FILE:g.THROW_EXCEPTION},A.flagCache={},A.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"],function(c){c[c.FILE=32768]="FILE",c[c.DIRECTORY=16384]="DIRECTORY",c[c.SYMLINK=40960]="SYMLINK"}(N||(N={}));var T=function(c,u,l,h,p,v){if(h===void 0&&(h=new Date),p===void 0&&(p=new Date),v===void 0&&(v=new Date),this.size=u,this.atime=h,this.mtime=p,this.ctime=v,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,l)this.mode=l;else switch(c){case N.FILE:this.mode=420;break;case N.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(u/512),this.mode<4096&&(this.mode|=c)};T.fromBuffer=function(c){var u=c.readUInt32LE(0),l=c.readUInt32LE(4),h=c.readDoubleLE(8),p=c.readDoubleLE(16),v=c.readDoubleLE(24);return new T(61440&l,u,4095&l,new Date(h),new Date(p),new Date(v))},T.prototype.toBuffer=function(){var c=n.alloc(32);return c.writeUInt32LE(this.size,0),c.writeUInt32LE(this.mode,4),c.writeDoubleLE(this.atime.getTime(),8),c.writeDoubleLE(this.mtime.getTime(),16),c.writeDoubleLE(this.ctime.getTime(),24),c},T.prototype.clone=function(){return new T(61440&this.mode,this.size,4095&this.mode,this.atime,this.mtime,this.ctime)},T.prototype.isFile=function(){return(61440&this.mode)===N.FILE},T.prototype.isDirectory=function(){return(61440&this.mode)===N.DIRECTORY},T.prototype.isSymbolicLink=function(){return(61440&this.mode)===N.SYMLINK},T.prototype.chmod=function(c){this.mode=61440&this.mode|c},T.prototype.isSocket=function(){return!1},T.prototype.isBlockDevice=function(){return!1},T.prototype.isCharacterDevice=function(){return!1},T.prototype.isFIFO=function(){return!1};var I=function(c,u){return c};function C(c){if(c)return c;throw new y(a.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function K(c,u){switch(typeof c){case"number":return c;case"string":var l=parseInt(c,8);return isNaN(l)?u:l;default:return u}}function H(c){if(c instanceof Date)return c;if(typeof c=="number")return new Date(1e3*c);throw new y(a.EINVAL,"Invalid time.")}function J(c){if(c.indexOf("\0")>=0)throw new y(a.EINVAL,"Path must be a string without null bytes.");if(c==="")throw new y(a.EINVAL,"Path must not be empty.");return d.resolve(c)}function M(c,u,l,h){switch(typeof c){case"object":return{encoding:c.encoding!==void 0?c.encoding:u,flag:c.flag!==void 0?c.flag:l,mode:K(c.mode,h)};case"string":return{encoding:c,flag:l,mode:h};default:return{encoding:u,flag:l,mode:h}}}function V(){}var _=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};_.prototype.initialize=function(c){if(!c.constructor.isAvailable())throw new y(a.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=c},_.prototype._toUnixTimestamp=function(c){if(typeof c=="number")return c;if(c instanceof Date)return c.getTime()/1e3;throw new Error("Cannot parse time: "+c)},_.prototype.getRootFS=function(){return this.root?this.root:null},_.prototype.rename=function(c,u,l){l===void 0&&(l=V);var h=I(l,1);try{C(this.root).rename(J(c),J(u),h)}catch(p){h(p)}},_.prototype.renameSync=function(c,u){C(this.root).renameSync(J(c),J(u))},_.prototype.exists=function(c,u){u===void 0&&(u=V);var l=I(u,1);try{return C(this.root).exists(J(c),l)}catch{return l(!1)}},_.prototype.existsSync=function(c){try{return C(this.root).existsSync(J(c))}catch{return!1}},_.prototype.stat=function(c,u){u===void 0&&(u=V);var l=I(u,2);try{return C(this.root).stat(J(c),!1,l)}catch(h){return l(h)}},_.prototype.statSync=function(c){return C(this.root).statSync(J(c),!1)},_.prototype.lstat=function(c,u){u===void 0&&(u=V);var l=I(u,2);try{return C(this.root).stat(J(c),!0,l)}catch(h){return l(h)}},_.prototype.lstatSync=function(c){return C(this.root).statSync(J(c),!0)},_.prototype.truncate=function(c,u,l){u===void 0&&(u=0),l===void 0&&(l=V);var h=0;typeof u=="function"?l=u:typeof u=="number"&&(h=u);var p=I(l,1);try{if(h<0)throw new y(a.EINVAL);return C(this.root).truncate(J(c),h,p)}catch(v){return p(v)}},_.prototype.truncateSync=function(c,u){if(u===void 0&&(u=0),u<0)throw new y(a.EINVAL);return C(this.root).truncateSync(J(c),u)},_.prototype.unlink=function(c,u){u===void 0&&(u=V);var l=I(u,1);try{return C(this.root).unlink(J(c),l)}catch(h){return l(h)}},_.prototype.unlinkSync=function(c){return C(this.root).unlinkSync(J(c))},_.prototype.open=function(c,u,l,h){var p=this;h===void 0&&(h=V);var v=K(l,420),w=I(h=typeof l=="function"?l:h,2);try{C(this.root).open(J(c),A.getFileFlag(u),v,function(k,L){L?w(k,p.getFdForFile(L)):w(k)})}catch(k){w(k)}},_.prototype.openSync=function(c,u,l){return l===void 0&&(l=420),this.getFdForFile(C(this.root).openSync(J(c),A.getFileFlag(u),K(l,420)))},_.prototype.readFile=function(c,u,l){u===void 0&&(u={}),l===void 0&&(l=V);var h=M(u,null,"r",null),p=I(l=typeof u=="function"?u:l,2);try{var v=A.getFileFlag(h.flag);return v.isReadable()?C(this.root).readFile(J(c),h.encoding,v,p):p(new y(a.EINVAL,"Flag passed to readFile must allow for reading."))}catch(w){return p(w)}},_.prototype.readFileSync=function(c,u){u===void 0&&(u={});var l=M(u,null,"r",null),h=A.getFileFlag(l.flag);if(!h.isReadable())throw new y(a.EINVAL,"Flag passed to readFile must allow for reading.");return C(this.root).readFileSync(J(c),l.encoding,h)},_.prototype.writeFile=function(c,u,l,h){l===void 0&&(l={}),h===void 0&&(h=V);var p=M(l,"utf8","w",420),v=I(h=typeof l=="function"?l:h,1);try{var w=A.getFileFlag(p.flag);return w.isWriteable()?C(this.root).writeFile(J(c),u,p.encoding,w,p.mode,v):v(new y(a.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(k){return v(k)}},_.prototype.writeFileSync=function(c,u,l){var h=M(l,"utf8","w",420),p=A.getFileFlag(h.flag);if(!p.isWriteable())throw new y(a.EINVAL,"Flag passed to writeFile must allow for writing.");return C(this.root).writeFileSync(J(c),u,h.encoding,p,h.mode)},_.prototype.appendFile=function(c,u,l,h){h===void 0&&(h=V);var p=M(l,"utf8","a",420),v=I(h=typeof l=="function"?l:h,1);try{var w=A.getFileFlag(p.flag);if(!w.isAppendable())return v(new y(a.EINVAL,"Flag passed to appendFile must allow for appending."));C(this.root).appendFile(J(c),u,p.encoding,w,p.mode,v)}catch(k){v(k)}},_.prototype.appendFileSync=function(c,u,l){var h=M(l,"utf8","a",420),p=A.getFileFlag(h.flag);if(!p.isAppendable())throw new y(a.EINVAL,"Flag passed to appendFile must allow for appending.");return C(this.root).appendFileSync(J(c),u,h.encoding,p,h.mode)},_.prototype.fstat=function(c,u){u===void 0&&(u=V);var l=I(u,2);try{this.fd2file(c).stat(l)}catch(h){l(h)}},_.prototype.fstatSync=function(c){return this.fd2file(c).statSync()},_.prototype.close=function(c,u){var l=this;u===void 0&&(u=V);var h=I(u,1);try{this.fd2file(c).close(function(p){p||l.closeFd(c),h(p)})}catch(p){h(p)}},_.prototype.closeSync=function(c){this.fd2file(c).closeSync(),this.closeFd(c)},_.prototype.ftruncate=function(c,u,l){l===void 0&&(l=V);var h=typeof u=="number"?u:0,p=I(l=typeof u=="function"?u:l,1);try{var v=this.fd2file(c);if(h<0)throw new y(a.EINVAL);v.truncate(h,p)}catch(w){p(w)}},_.prototype.ftruncateSync=function(c,u){u===void 0&&(u=0);var l=this.fd2file(c);if(u<0)throw new y(a.EINVAL);l.truncateSync(u)},_.prototype.fsync=function(c,u){u===void 0&&(u=V);var l=I(u,1);try{this.fd2file(c).sync(l)}catch(h){l(h)}},_.prototype.fsyncSync=function(c){this.fd2file(c).syncSync()},_.prototype.fdatasync=function(c,u){u===void 0&&(u=V);var l=I(u,1);try{this.fd2file(c).datasync(l)}catch(h){l(h)}},_.prototype.fdatasyncSync=function(c){this.fd2file(c).datasyncSync()},_.prototype.write=function(c,u,l,h,p,v){v===void 0&&(v=V);var w,k,L,W=null;if(typeof u=="string"){var Q="utf8";switch(typeof l){case"function":v=l;break;case"number":W=l,Q=typeof h=="string"?h:"utf8",v=typeof p=="function"?p:v;break;default:return(v=typeof h=="function"?h:typeof p=="function"?p:v)(new y(a.EINVAL,"Invalid arguments."))}k=0,L=(w=n.from(u,Q)).length}else w=u,k=l,L=h,W=typeof p=="number"?p:null,v=typeof p=="function"?p:v;var ce=I(v,3);try{var de=this.fd2file(c);W==null&&(W=de.getPos()),de.write(w,k,L,W,ce)}catch(ge){ce(ge)}},_.prototype.writeSync=function(c,u,l,h,p){var v,w,k,L=0;if(typeof u=="string"){k=typeof l=="number"?l:null;var W=typeof h=="string"?h:"utf8";L=0,w=(v=n.from(u,W)).length}else v=u,L=l,w=h,k=typeof p=="number"?p:null;var Q=this.fd2file(c);return k==null&&(k=Q.getPos()),Q.writeSync(v,L,w,k)},_.prototype.read=function(c,u,l,h,p,v){var w,k,L,W,Q;if(v===void 0&&(v=V),typeof u=="number"){L=u,w=l;var ce=h;v=typeof p=="function"?p:v,k=0,W=n.alloc(L),Q=I(function(ge,ve,Ne){if(ge)return v(ge);v(ge,Ne.toString(ce),ve)},3)}else W=u,k=l,L=h,w=p,Q=I(v,3);try{var de=this.fd2file(c);w==null&&(w=de.getPos()),de.read(W,k,L,w,Q)}catch(ge){Q(ge)}},_.prototype.readSync=function(c,u,l,h,p){var v,w,k,L,W=!1,Q="utf8";typeof u=="number"?(k=u,L=l,Q=h,w=0,v=n.alloc(k),W=!0):(v=u,w=l,k=h,L=p);var ce=this.fd2file(c);L==null&&(L=ce.getPos());var de=ce.readSync(v,w,k,L);return W?[v.toString(Q),de]:de},_.prototype.fchown=function(c,u,l,h){h===void 0&&(h=V);var p=I(h,1);try{this.fd2file(c).chown(u,l,p)}catch(v){p(v)}},_.prototype.fchownSync=function(c,u,l){this.fd2file(c).chownSync(u,l)},_.prototype.fchmod=function(c,u,l){var h=I(l,1);try{var p=typeof u=="string"?parseInt(u,8):u;this.fd2file(c).chmod(p,h)}catch(v){h(v)}},_.prototype.fchmodSync=function(c,u){var l=typeof u=="string"?parseInt(u,8):u;this.fd2file(c).chmodSync(l)},_.prototype.futimes=function(c,u,l,h){h===void 0&&(h=V);var p=I(h,1);try{var v=this.fd2file(c);typeof u=="number"&&(u=new Date(1e3*u)),typeof l=="number"&&(l=new Date(1e3*l)),v.utimes(u,l,p)}catch(w){p(w)}},_.prototype.futimesSync=function(c,u,l){this.fd2file(c).utimesSync(H(u),H(l))},_.prototype.rmdir=function(c,u){u===void 0&&(u=V);var l=I(u,1);try{c=J(c),C(this.root).rmdir(c,l)}catch(h){l(h)}},_.prototype.rmdirSync=function(c){return c=J(c),C(this.root).rmdirSync(c)},_.prototype.mkdir=function(c,u,l){l===void 0&&(l=V),typeof u=="function"&&(l=u,u=511);var h=I(l,1);try{c=J(c),C(this.root).mkdir(c,u,h)}catch(p){h(p)}},_.prototype.mkdirSync=function(c,u){C(this.root).mkdirSync(J(c),K(u,511))},_.prototype.readdir=function(c,u){u===void 0&&(u=V);var l=I(u,2);try{c=J(c),C(this.root).readdir(c,l)}catch(h){l(h)}},_.prototype.readdirSync=function(c){return c=J(c),C(this.root).readdirSync(c)},_.prototype.link=function(c,u,l){l===void 0&&(l=V);var h=I(l,1);try{c=J(c),u=J(u),C(this.root).link(c,u,h)}catch(p){h(p)}},_.prototype.linkSync=function(c,u){return c=J(c),u=J(u),C(this.root).linkSync(c,u)},_.prototype.symlink=function(c,u,l,h){h===void 0&&(h=V);var p=typeof l=="string"?l:"file",v=I(h=typeof l=="function"?l:h,1);try{if(p!=="file"&&p!=="dir")return v(new y(a.EINVAL,"Invalid type: "+p));c=J(c),u=J(u),C(this.root).symlink(c,u,p,v)}catch(w){v(w)}},_.prototype.symlinkSync=function(c,u,l){if(l){if(l!=="file"&&l!=="dir")throw new y(a.EINVAL,"Invalid type: "+l)}else l="file";return c=J(c),u=J(u),C(this.root).symlinkSync(c,u,l)},_.prototype.readlink=function(c,u){u===void 0&&(u=V);var l=I(u,2);try{c=J(c),C(this.root).readlink(c,l)}catch(h){l(h)}},_.prototype.readlinkSync=function(c){return c=J(c),C(this.root).readlinkSync(c)},_.prototype.chown=function(c,u,l,h){h===void 0&&(h=V);var p=I(h,1);try{c=J(c),C(this.root).chown(c,!1,u,l,p)}catch(v){p(v)}},_.prototype.chownSync=function(c,u,l){c=J(c),C(this.root).chownSync(c,!1,u,l)},_.prototype.lchown=function(c,u,l,h){h===void 0&&(h=V);var p=I(h,1);try{c=J(c),C(this.root).chown(c,!0,u,l,p)}catch(v){p(v)}},_.prototype.lchownSync=function(c,u,l){c=J(c),C(this.root).chownSync(c,!0,u,l)},_.prototype.chmod=function(c,u,l){l===void 0&&(l=V);var h=I(l,1);try{var p=K(u,-1);if(p<0)throw new y(a.EINVAL,"Invalid mode.");C(this.root).chmod(J(c),!1,p,h)}catch(v){h(v)}},_.prototype.chmodSync=function(c,u){var l=K(u,-1);if(l<0)throw new y(a.EINVAL,"Invalid mode.");c=J(c),C(this.root).chmodSync(c,!1,l)},_.prototype.lchmod=function(c,u,l){l===void 0&&(l=V);var h=I(l,1);try{var p=K(u,-1);if(p<0)throw new y(a.EINVAL,"Invalid mode.");C(this.root).chmod(J(c),!0,p,h)}catch(v){h(v)}},_.prototype.lchmodSync=function(c,u){var l=K(u,-1);if(l<1)throw new y(a.EINVAL,"Invalid mode.");C(this.root).chmodSync(J(c),!0,l)},_.prototype.utimes=function(c,u,l,h){h===void 0&&(h=V);var p=I(h,1);try{C(this.root).utimes(J(c),H(u),H(l),p)}catch(v){p(v)}},_.prototype.utimesSync=function(c,u,l){C(this.root).utimesSync(J(c),H(u),H(l))},_.prototype.realpath=function(c,u,l){l===void 0&&(l=V);var h=typeof u=="object"?u:{},p=I(l=typeof u=="function"?u:V,2);try{c=J(c),C(this.root).realpath(c,h,p)}catch(v){p(v)}},_.prototype.realpathSync=function(c,u){return u===void 0&&(u={}),c=J(c),C(this.root).realpathSync(c,u)},_.prototype.watchFile=function(c,u,l){throw new y(a.ENOTSUP)},_.prototype.unwatchFile=function(c,u){throw new y(a.ENOTSUP)},_.prototype.watch=function(c,u,l){throw new y(a.ENOTSUP)},_.prototype.access=function(c,u,l){throw new y(a.ENOTSUP)},_.prototype.accessSync=function(c,u){throw new y(a.ENOTSUP)},_.prototype.createReadStream=function(c,u){throw new y(a.ENOTSUP)},_.prototype.createWriteStream=function(c,u){throw new y(a.ENOTSUP)},_.prototype.wrapCallbacks=function(c){I=c},_.prototype.getFdForFile=function(c){var u=this.nextFd++;return this.fdMap[u]=c,u},_.prototype.fd2file=function(c){var u=this.fdMap[c];if(u)return u;throw new y(a.EBADF,"Invalid file descriptor.")},_.prototype.closeFd=function(c){delete this.fdMap[c]},_.Stats=T;var q=new _,te={},X=_.prototype;function le(c,u,l,h,p){return c<u||l<u?c>l?l+1:c+1:h===p?u:u+1}function se(c,u){if(c===u)return 0;if(c.length>u.length){var l=c;c=u,u=l}for(var h=c.length,p=u.length;h>0&&c.charCodeAt(h-1)===u.charCodeAt(p-1);)h--,p--;for(var v=0;v<h&&c.charCodeAt(v)===u.charCodeAt(v);)v++;if(p-=v,(h-=v)==0||p===1)return p;for(var w,k,L,W,Q,ce=new Array(h<<1),de=0;de<h;)ce[h+de]=c.charCodeAt(v+de),ce[de]=++de;for(w=0;w+3<p;)for(var ge=u.charCodeAt(v+(k=w)),ve=u.charCodeAt(v+(L=w+1)),Ne=u.charCodeAt(v+(W=w+2)),Be=u.charCodeAt(v+(Q=w+3)),xt=w+=4,Kr=0;Kr<h;){var xr=ce[h+Kr],bo=ce[Kr];k=le(bo,k,L,ge,xr),L=le(k,L,W,ve,xr),W=le(L,W,Q,Ne,xr),xt=le(W,Q,xt,Be,xr),ce[Kr++]=xt,Q=W,W=L,L=k,k=bo}for(var cr=0;w<p;){var Ff=u.charCodeAt(v+(k=w));cr=++w;for(var Di=0;Di<h;Di++){var Ci=ce[Di];ce[Di]=cr=Ci<k||cr<k?Ci>cr?cr+1:Ci+1:Ff===ce[h+Di]?k:k+1,k=Ci}}return cr}function ye(c,u,l){c&&console.warn("["+u+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+u+".Create("+JSON.stringify(l)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}Object.keys(X).forEach(function(c){typeof q[c]=="function"?te[c]=function(){return q[c].apply(q,arguments)}:te[c]=q[c]}),te.changeFSModule=function(c){q=c},te.getFSModule=function(){return q},te.FS=_;var P=typeof navigator<"u"&&!(!/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&navigator.userAgent.indexOf("Trident")===-1),D=typeof window>"u";function ne(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function U(c,u,l){l.existsSync(c)||(U(d.dirname(c),u,l),l.mkdirSync(c,u))}function z(c){var u=G(c),l=u.byteOffset,h=u.byteLength;return l===0&&h===u.buffer.byteLength?u.buffer:u.buffer.slice(l,l+h)}function G(c){return c instanceof Uint8Array?c:new Uint8Array(c)}function ue(c){return c instanceof n?c:c instanceof Uint8Array?ie(c):n.from(c)}function ie(c){return c instanceof n?c:c.byteOffset===0&&c.byteLength===c.buffer.byteLength?re(c.buffer):n.from(c.buffer,c.byteOffset,c.byteLength)}function re(c){return n.from(c)}function oe(c,u,l){if(u===void 0&&(u=0),l===void 0&&(l=c.length),u<0||l<0||l>c.length||u>l)throw new TypeError("Invalid slice bounds on buffer of length "+c.length+": ["+u+", "+l+"]");if(c.length===0)return Ee();var h=G(c),p=c[0],v=(p+1)%255;return c[0]=v,h[0]===v?(h[0]=p,ie(h.slice(u,l))):(c[0]=p,ie(h.subarray(u,l)))}var pe=null;function Ee(){return pe||(pe=n.alloc(0))}function Ie(c,u){n.isBuffer(c)?u():u(new y(a.EINVAL,"option must be a Buffer."))}function b(c,u,l){var h=c.Options,p=c.Name,v=0,w=!1,k=!1;function L(de){w||(de&&(w=!0,l(de)),--v==0&&k&&l())}var W=function(de){if(h.hasOwnProperty(de)){var ge=h[de],ve=u[de];if(ve==null){if(!ge.optional){var Ne=Object.keys(u).filter(function(Be){return!(Be in h)}).map(function(Be){return{str:Be,distance:se(de,Be)}}).filter(function(Be){return Be.distance<5}).sort(function(Be,xt){return Be.distance-xt.distance});return w?{}:(w=!0,{v:l(new y(a.EINVAL,"["+p+"] Required option '"+de+"' not provided."+(Ne.length>0?" You provided unrecognized option '"+Ne[0].str+"'; perhaps you meant to type '"+de+"'.":"")+`
Option description: `+ge.description))})}}else{if(!(Array.isArray(ge.type)?ge.type.indexOf(typeof ve)!==-1:typeof ve===ge.type))return w?{}:(w=!0,{v:l(new y(a.EINVAL,"["+p+"] Value provided for option "+de+" is not the proper type. Expected "+(Array.isArray(ge.type)?"one of {"+ge.type.join(", ")+"}":ge.type)+", but received "+typeof ve+`
Option description: `+ge.description))});ge.validator&&(v++,ge.validator(ve,L))}}};for(var Q in h){var ce=W(Q);if(ce)return ce.v}k=!0,v!==0||w||l()}var R=Object.freeze({deprecationMessage:ye,isIE:P,isWebWorker:D,fail:ne,mkdirpSync:U,buffer2ArrayBuffer:z,buffer2Uint8array:G,arrayish2Buffer:ue,uint8Array2Buffer:ie,arrayBuffer2Buffer:re,copyingSlice:oe,emptyBuffer:Ee,bufferValidator:Ie,checkOptions:b}),j=function(c){this.fs=c,this.nodefs=c.getNodeFS(),this.FS=c.getFS(),this.PATH=c.getPATH(),this.ERRNO_CODES=c.getERRNO_CODES()};j.prototype.open=function(c){var u=this.fs.realPath(c.node),l=this.FS;try{l.isFile(c.node.mode)&&(c.nfd=this.nodefs.openSync(u,this.fs.flagsToPermissionString(c.flags)))}catch(h){throw h.code?new l.ErrnoError(this.ERRNO_CODES[h.code]):h}},j.prototype.close=function(c){var u=this.FS;try{u.isFile(c.node.mode)&&c.nfd&&this.nodefs.closeSync(c.nfd)}catch(l){throw l.code?new u.ErrnoError(this.ERRNO_CODES[l.code]):l}},j.prototype.read=function(c,u,l,h,p){try{return this.nodefs.readSync(c.nfd,ie(u),l,h,p)}catch(v){throw new this.FS.ErrnoError(this.ERRNO_CODES[v.code])}},j.prototype.write=function(c,u,l,h,p){try{return this.nodefs.writeSync(c.nfd,ie(u),l,h,p)}catch(v){throw new this.FS.ErrnoError(this.ERRNO_CODES[v.code])}},j.prototype.llseek=function(c,u,l){var h=u;if(l===1)h+=c.position;else if(l===2&&this.FS.isFile(c.node.mode))try{h+=this.nodefs.fstatSync(c.nfd).size}catch(p){throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(h<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return c.position=h,h};var $=function(c){this.fs=c,this.nodefs=c.getNodeFS(),this.FS=c.getFS(),this.PATH=c.getPATH(),this.ERRNO_CODES=c.getERRNO_CODES()};$.prototype.getattr=function(c){var u,l=this.fs.realPath(c);try{u=this.nodefs.lstatSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}return{dev:u.dev,ino:u.ino,mode:u.mode,nlink:u.nlink,uid:u.uid,gid:u.gid,rdev:u.rdev,size:u.size,atime:u.atime,mtime:u.mtime,ctime:u.ctime,blksize:u.blksize,blocks:u.blocks}},$.prototype.setattr=function(c,u){var l=this.fs.realPath(c);try{if(u.mode!==void 0&&(this.nodefs.chmodSync(l,u.mode),c.mode=u.mode),u.timestamp!==void 0){var h=new Date(u.timestamp);this.nodefs.utimesSync(l,h,h)}}catch(p){if(!p.code)throw p;if(p.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(u.size!==void 0)try{this.nodefs.truncateSync(l,u.size)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},$.prototype.lookup=function(c,u){var l=this.PATH.join2(this.fs.realPath(c),u),h=this.fs.getMode(l);return this.fs.createNode(c,u,h)},$.prototype.mknod=function(c,u,l,h){var p=this.fs.createNode(c,u,l,h),v=this.fs.realPath(p);try{this.FS.isDir(p.mode)?this.nodefs.mkdirSync(v,p.mode):this.nodefs.writeFileSync(v,"",{mode:p.mode})}catch(w){throw w.code?new this.FS.ErrnoError(this.ERRNO_CODES[w.code]):w}return p},$.prototype.rename=function(c,u,l){var h=this.fs.realPath(c),p=this.PATH.join2(this.fs.realPath(u),l);try{this.nodefs.renameSync(h,p),c.name=l,c.parent=u}catch(v){throw v.code?new this.FS.ErrnoError(this.ERRNO_CODES[v.code]):v}},$.prototype.unlink=function(c,u){var l=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.unlinkSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.rmdir=function(c,u){var l=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.rmdirSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.readdir=function(c){var u=this.fs.realPath(c);try{var l=this.nodefs.readdirSync(u);return l.push(".",".."),l}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.symlink=function(c,u,l){var h=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.symlinkSync(l,h)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},$.prototype.readlink=function(c){var u=this.fs.realPath(c);try{return this.nodefs.readlinkSync(u)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}};var Z=function(c,u,l,h){c===void 0&&(c=self.FS),u===void 0&&(u=self.PATH),l===void 0&&(l=self.ERRNO_CODES),h===void 0&&(h=te),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=h,this.FS=c,this.PATH=u,this.ERRNO_CODES=l,this.node_ops=new $(this),this.stream_ops=new j(this)};Z.prototype.mount=function(c){return this.createNode(null,"/",this.getMode(c.opts.root),0)},Z.prototype.createNode=function(c,u,l,h){var p=this.FS;if(!p.isDir(l)&&!p.isFile(l)&&!p.isLink(l))throw new p.ErrnoError(this.ERRNO_CODES.EINVAL);var v=p.createNode(c,u,l);return v.node_ops=this.node_ops,v.stream_ops=this.stream_ops,v},Z.prototype.getMode=function(c){var u;try{u=this.nodefs.lstatSync(c)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}return u.mode},Z.prototype.realPath=function(c){for(var u=[];c.parent!==c;)u.push(c.name),c=c.parent;return u.push(c.mount.opts.root),u.reverse(),this.PATH.join.apply(null,u)},Z.prototype.flagsToPermissionString=function(c){var u=typeof c=="string"?parseInt(c,10):c;return(u&=8191)in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[u]:c},Z.prototype.getNodeFS=function(){return this.nodefs},Z.prototype.getFS=function(){return this.FS},Z.prototype.getPATH=function(){return this.PATH},Z.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var Y=function(){};Y.prototype.supportsLinks=function(){return!1},Y.prototype.diskSpace=function(c,u){u(0,0)},Y.prototype.openFile=function(c,u,l){throw new y(a.ENOTSUP)},Y.prototype.createFile=function(c,u,l,h){throw new y(a.ENOTSUP)},Y.prototype.open=function(c,u,l,h){var p=this;this.stat(c,!1,function(v,w){if(v)switch(u.pathNotExistsAction()){case g.CREATE_FILE:return p.stat(d.dirname(c),!1,function(k,L){k?h(k):L&&!L.isDirectory()?h(y.ENOTDIR(d.dirname(c))):p.createFile(c,u,l,h)});case g.THROW_EXCEPTION:return h(y.ENOENT(c));default:return h(new y(a.EINVAL,"Invalid FileFlag object."))}else{if(w&&w.isDirectory())return h(y.EISDIR(c));switch(u.pathExistsAction()){case g.THROW_EXCEPTION:return h(y.EEXIST(c));case g.TRUNCATE_FILE:return p.openFile(c,u,function(k,L){k?h(k):L?L.truncate(0,function(){L.sync(function(){h(null,L)})}):ne()});case g.NOP:return p.openFile(c,u,h);default:return h(new y(a.EINVAL,"Invalid FileFlag object."))}}})},Y.prototype.rename=function(c,u,l){l(new y(a.ENOTSUP))},Y.prototype.renameSync=function(c,u){throw new y(a.ENOTSUP)},Y.prototype.stat=function(c,u,l){l(new y(a.ENOTSUP))},Y.prototype.statSync=function(c,u){throw new y(a.ENOTSUP)},Y.prototype.openFileSync=function(c,u,l){throw new y(a.ENOTSUP)},Y.prototype.createFileSync=function(c,u,l){throw new y(a.ENOTSUP)},Y.prototype.openSync=function(c,u,l){var h;try{h=this.statSync(c,!1)}catch{switch(u.pathNotExistsAction()){case g.CREATE_FILE:if(!this.statSync(d.dirname(c),!1).isDirectory())throw y.ENOTDIR(d.dirname(c));return this.createFileSync(c,u,l);case g.THROW_EXCEPTION:throw y.ENOENT(c);default:throw new y(a.EINVAL,"Invalid FileFlag object.")}}if(h.isDirectory())throw y.EISDIR(c);switch(u.pathExistsAction()){case g.THROW_EXCEPTION:throw y.EEXIST(c);case g.TRUNCATE_FILE:return this.unlinkSync(c),this.createFileSync(c,u,h.mode);case g.NOP:return this.openFileSync(c,u,l);default:throw new y(a.EINVAL,"Invalid FileFlag object.")}},Y.prototype.unlink=function(c,u){u(new y(a.ENOTSUP))},Y.prototype.unlinkSync=function(c){throw new y(a.ENOTSUP)},Y.prototype.rmdir=function(c,u){u(new y(a.ENOTSUP))},Y.prototype.rmdirSync=function(c){throw new y(a.ENOTSUP)},Y.prototype.mkdir=function(c,u,l){l(new y(a.ENOTSUP))},Y.prototype.mkdirSync=function(c,u){throw new y(a.ENOTSUP)},Y.prototype.readdir=function(c,u){u(new y(a.ENOTSUP))},Y.prototype.readdirSync=function(c){throw new y(a.ENOTSUP)},Y.prototype.exists=function(c,u){this.stat(c,null,function(l){u(!l)})},Y.prototype.existsSync=function(c){try{return this.statSync(c,!0),!0}catch{return!1}},Y.prototype.realpath=function(c,u,l){if(this.supportsLinks())for(var h=c.split(d.sep),p=0;p<h.length;p++){var v=h.slice(0,p+1);h[p]=d.join.apply(null,v)}else this.exists(c,function(w){w?l(null,c):l(y.ENOENT(c))})},Y.prototype.realpathSync=function(c,u){if(this.supportsLinks()){for(var l=c.split(d.sep),h=0;h<l.length;h++){var p=l.slice(0,h+1);l[h]=d.join.apply(d,p)}return l.join(d.sep)}if(this.existsSync(c))return c;throw y.ENOENT(c)},Y.prototype.truncate=function(c,u,l){this.open(c,A.getFileFlag("r+"),420,function(h,p){if(h)return l(h);p.truncate(u,function(v){p.close(function(w){l(v||w)})})})},Y.prototype.truncateSync=function(c,u){var l=this.openSync(c,A.getFileFlag("r+"),420);try{l.truncateSync(u)}catch(h){throw h}finally{l.closeSync()}},Y.prototype.readFile=function(c,u,l,h){var p=h;this.open(c,l,420,function(v,w){if(v)return h(v);h=function(k,L){w.close(function(W){return k||(k=W),p(k,L)})},w.stat(function(k,L){if(k)return h(k);var W=n.alloc(L.size);w.read(W,0,L.size,0,function(Q){if(Q)return h(Q);if(u===null)return h(Q,W);try{h(null,W.toString(u))}catch(ce){h(ce)}})})})},Y.prototype.readFileSync=function(c,u,l){var h=this.openSync(c,l,420);try{var p=h.statSync(),v=n.alloc(p.size);return h.readSync(v,0,p.size,0),h.closeSync(),u===null?v:v.toString(u)}finally{h.closeSync()}},Y.prototype.writeFile=function(c,u,l,h,p,v){var w=v;this.open(c,h,420,function(k,L){if(k)return v(k);v=function(W){L.close(function(Q){w(W||Q)})};try{typeof u=="string"&&(u=n.from(u,l))}catch(W){return v(W)}L.write(u,0,u.length,0,v)})},Y.prototype.writeFileSync=function(c,u,l,h,p){var v=this.openSync(c,h,p);try{typeof u=="string"&&(u=n.from(u,l)),v.writeSync(u,0,u.length,0)}finally{v.closeSync()}},Y.prototype.appendFile=function(c,u,l,h,p,v){var w=v;this.open(c,h,p,function(k,L){if(k)return v(k);v=function(W){L.close(function(Q){w(W||Q)})},typeof u=="string"&&(u=n.from(u,l)),L.write(u,0,u.length,null,v)})},Y.prototype.appendFileSync=function(c,u,l,h,p){var v=this.openSync(c,h,p);try{typeof u=="string"&&(u=n.from(u,l)),v.writeSync(u,0,u.length,null)}finally{v.closeSync()}},Y.prototype.chmod=function(c,u,l,h){h(new y(a.ENOTSUP))},Y.prototype.chmodSync=function(c,u,l){throw new y(a.ENOTSUP)},Y.prototype.chown=function(c,u,l,h,p){p(new y(a.ENOTSUP))},Y.prototype.chownSync=function(c,u,l,h){throw new y(a.ENOTSUP)},Y.prototype.utimes=function(c,u,l,h){h(new y(a.ENOTSUP))},Y.prototype.utimesSync=function(c,u,l){throw new y(a.ENOTSUP)},Y.prototype.link=function(c,u,l){l(new y(a.ENOTSUP))},Y.prototype.linkSync=function(c,u){throw new y(a.ENOTSUP)},Y.prototype.symlink=function(c,u,l,h){h(new y(a.ENOTSUP))},Y.prototype.symlinkSync=function(c,u,l){throw new y(a.ENOTSUP)},Y.prototype.readlink=function(c,u){u(new y(a.ENOTSUP))},Y.prototype.readlinkSync=function(c){throw new y(a.ENOTSUP)};var _e=function(c){function u(){c.apply(this,arguments)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.supportsSynch=function(){return!0},u.prototype.rename=function(l,h,p){try{this.renameSync(l,h),p()}catch(v){p(v)}},u.prototype.stat=function(l,h,p){try{p(null,this.statSync(l,h))}catch(v){p(v)}},u.prototype.open=function(l,h,p,v){try{v(null,this.openSync(l,h,p))}catch(w){v(w)}},u.prototype.unlink=function(l,h){try{this.unlinkSync(l),h()}catch(p){h(p)}},u.prototype.rmdir=function(l,h){try{this.rmdirSync(l),h()}catch(p){h(p)}},u.prototype.mkdir=function(l,h,p){try{this.mkdirSync(l,h),p()}catch(v){p(v)}},u.prototype.readdir=function(l,h){try{h(null,this.readdirSync(l))}catch(p){h(p)}},u.prototype.chmod=function(l,h,p,v){try{this.chmodSync(l,h,p),v()}catch(w){v(w)}},u.prototype.chown=function(l,h,p,v,w){try{this.chownSync(l,h,p,v),w()}catch(k){w(k)}},u.prototype.utimes=function(l,h,p,v){try{this.utimesSync(l,h,p),v()}catch(w){v(w)}},u.prototype.link=function(l,h,p){try{this.linkSync(l,h),p()}catch(v){p(v)}},u.prototype.symlink=function(l,h,p,v){try{this.symlinkSync(l,h,p),v()}catch(w){v(w)}},u.prototype.readlink=function(l,h){try{h(null,this.readlinkSync(l))}catch(p){h(p)}},u}(Y),F=function(){};F.prototype.sync=function(c){c(new y(a.ENOTSUP))},F.prototype.syncSync=function(){throw new y(a.ENOTSUP)},F.prototype.datasync=function(c){this.sync(c)},F.prototype.datasyncSync=function(){return this.syncSync()},F.prototype.chown=function(c,u,l){l(new y(a.ENOTSUP))},F.prototype.chownSync=function(c,u){throw new y(a.ENOTSUP)},F.prototype.chmod=function(c,u){u(new y(a.ENOTSUP))},F.prototype.chmodSync=function(c){throw new y(a.ENOTSUP)},F.prototype.utimes=function(c,u,l){l(new y(a.ENOTSUP))},F.prototype.utimesSync=function(c,u){throw new y(a.ENOTSUP)};var E=function(c){function u(l,h,p,v,w){if(c.call(this),this._pos=0,this._dirty=!1,this._fs=l,this._path=h,this._flag=p,this._stat=v,this._buffer=w||Ee(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getBuffer=function(){return this._buffer},u.prototype.getStats=function(){return this._stat},u.prototype.getFlag=function(){return this._flag},u.prototype.getPath=function(){return this._path},u.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},u.prototype.advancePos=function(l){return this._pos+=l},u.prototype.setPos=function(l){return this._pos=l},u.prototype.sync=function(l){try{this.syncSync(),l()}catch(h){l(h)}},u.prototype.syncSync=function(){throw new y(a.ENOTSUP)},u.prototype.close=function(l){try{this.closeSync(),l()}catch(h){l(h)}},u.prototype.closeSync=function(){throw new y(a.ENOTSUP)},u.prototype.stat=function(l){try{l(null,this._stat.clone())}catch(h){l(h)}},u.prototype.statSync=function(){return this._stat.clone()},u.prototype.truncate=function(l,h){try{this.truncateSync(l),this._flag.isSynchronous()&&!te.getRootFS().supportsSynch()&&this.sync(h),h()}catch(p){return h(p)}},u.prototype.truncateSync=function(l){if(this._dirty=!0,!this._flag.isWriteable())throw new y(a.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,l>this._buffer.length){var h=n.alloc(l-this._buffer.length,0);return this.writeSync(h,0,h.length,this._buffer.length),void(this._flag.isSynchronous()&&te.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=l;var p=n.alloc(l);this._buffer.copy(p,0,0,l),this._buffer=p,this._flag.isSynchronous()&&te.getRootFS().supportsSynch()&&this.syncSync()},u.prototype.write=function(l,h,p,v,w){try{w(null,this.writeSync(l,h,p,v),l)}catch(k){w(k)}},u.prototype.writeSync=function(l,h,p,v){if(this._dirty=!0,v==null&&(v=this.getPos()),!this._flag.isWriteable())throw new y(a.EPERM,"File not opened with a writeable mode.");var w=v+p;if(w>this._stat.size&&(this._stat.size=w,w>this._buffer.length)){var k=n.alloc(w);this._buffer.copy(k),this._buffer=k}var L=l.copy(this._buffer,v,h,h+p);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),L):(this.setPos(v+L),L)},u.prototype.read=function(l,h,p,v,w){try{w(null,this.readSync(l,h,p,v),l)}catch(k){w(k)}},u.prototype.readSync=function(l,h,p,v){if(!this._flag.isReadable())throw new y(a.EPERM,"File not opened with a readable mode.");v==null&&(v=this.getPos()),v+p>this._stat.size&&(p=this._stat.size-v);var w=this._buffer.copy(l,h,v,v+p);return this._stat.atime=new Date,this._pos=v+p,w},u.prototype.chmod=function(l,h){try{this.chmodSync(l),h()}catch(p){h(p)}},u.prototype.chmodSync=function(l){if(!this._fs.supportsProps())throw new y(a.ENOTSUP);this._dirty=!0,this._stat.chmod(l),this.syncSync()},u.prototype.isDirty=function(){return this._dirty},u.prototype.resetDirty=function(){this._dirty=!1},u}(F),O=function(c){function u(l,h,p,v,w){c.call(this,l,h,p,v,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){l()},u.prototype.syncSync=function(){},u.prototype.close=function(l){l()},u.prototype.closeSync=function(){},u}(E),B=function(c){function u(l,h,p,v,w){c.call(this,l,h,p,v,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(E),ee=function(c){function u(l,h,p){if(p===void 0&&(p=!0),c.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=l,this._async=h,!l.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");ye(p,u.Name,{sync:"sync file system instance",async:"async file system instance"})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{var p=new u(l.sync,l.async,!1);p.initialize(function(v){v?h(v):h(null,p)},!1)}catch(v){h(v)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){return u.Name},u.prototype._syncSync=function(l){this._sync.writeFileSync(l.getPath(),l.getBuffer(),null,A.getFileFlag("w"),l.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[l.getPath(),l.getBuffer(),null,l.getFlag(),l.getStats().mode]})},u.prototype.initialize=function(l,h){var p=this;h===void 0&&(h=!0),h&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var v=this._initializeCallbacks;if(this._isInitialized)l();else if(v.push(l)===1){var w=function(L,W,Q){L!=="/"&&p._sync.mkdirSync(L,W),p._async.readdir(L,function(ce,de){var ge=0;ce?Q(ce):function ve(Ne){Ne?Q(Ne):ge<de.length?(k(d.join(L,de[ge]),ve),ge++):Q()}()})},k=function(L,W){p._async.stat(L,!1,function(Q,ce){Q?W(Q):ce.isDirectory()?w(L,ce.mode,W):function(de,ge,ve){p._async.readFile(de,null,A.getFileFlag("r"),function(Ne,Be){if(Ne)ve(Ne);else try{p._sync.writeFileSync(de,Be,null,A.getFileFlag("w"),ge)}catch(xt){Ne=xt}finally{ve(Ne)}})}(L,ce.mode,W)})};w("/",0,function(L){p._isInitialized=!L,p._initializeCallbacks=[],v.forEach(function(W){return W(L)})})}},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},u.prototype.renameSync=function(l,h){this.checkInitialized(),this._sync.renameSync(l,h),this.enqueueOp({apiMethod:"rename",arguments:[l,h]})},u.prototype.statSync=function(l,h){return this.checkInitialized(),this._sync.statSync(l,h)},u.prototype.openSync=function(l,h,p){return this.checkInitialized(),this._sync.openSync(l,h,p).closeSync(),new B(this,l,h,this._sync.statSync(l,!1),this._sync.readFileSync(l,null,A.getFileFlag("r")))},u.prototype.unlinkSync=function(l){this.checkInitialized(),this._sync.unlinkSync(l),this.enqueueOp({apiMethod:"unlink",arguments:[l]})},u.prototype.rmdirSync=function(l){this.checkInitialized(),this._sync.rmdirSync(l),this.enqueueOp({apiMethod:"rmdir",arguments:[l]})},u.prototype.mkdirSync=function(l,h){this.checkInitialized(),this._sync.mkdirSync(l,h),this.enqueueOp({apiMethod:"mkdir",arguments:[l,h]})},u.prototype.readdirSync=function(l){return this.checkInitialized(),this._sync.readdirSync(l)},u.prototype.existsSync=function(l){return this.checkInitialized(),this._sync.existsSync(l)},u.prototype.chmodSync=function(l,h,p){this.checkInitialized(),this._sync.chmodSync(l,h,p),this.enqueueOp({apiMethod:"chmod",arguments:[l,h,p]})},u.prototype.chownSync=function(l,h,p,v){this.checkInitialized(),this._sync.chownSync(l,h,p,v),this.enqueueOp({apiMethod:"chown",arguments:[l,h,p,v]})},u.prototype.utimesSync=function(l,h,p){this.checkInitialized(),this._sync.utimesSync(l,h,p),this.enqueueOp({apiMethod:"utimes",arguments:[l,h,p]})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new y(a.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},u.prototype.enqueueOp=function(l){var h=this;if(this._queue.push(l),!this._queueRunning){this._queueRunning=!0;var p=function(v){if(v&&console.error("WARNING: File system has desynchronized. Received following error: "+v+`
$`),h._queue.length>0){var w=h._queue.shift(),k=w.arguments;k.push(p),h._async[w.apiMethod].apply(h._async,k)}else h._queueRunning=!1};p()}},u}(_e);function fe(c,u,l){switch(l.length){case 0:return c.call(u);case 1:return c.call(u,l[0]);case 2:return c.call(u,l[0],l[1]);case 3:return c.call(u,l[0],l[1],l[2])}return c.apply(u,l)}ee.Name="AsyncMirror",ee.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};var he=Math.max;function Ce(c){return c}function Re(c,u){return function(l,h,p){return h=he(h===void 0?l.length-1:h,0),function(){for(var v=arguments,w=-1,k=he(v.length-h,0),L=Array(k);++w<k;)L[w]=v[h+w];w=-1;for(var W=Array(h+1);++w<h;)W[w]=v[w];return W[h]=p(L),fe(l,this,W)}}(c,u,Ce)}var Je=function(c){return Re(function(u){var l=u.pop();c.call(this,u,l)})};function At(c){return Re(function(u,l){var h=Je(function(p,v){var w=this;return c(u,function(k,L){k.apply(w,p.concat(L))},v)});return l.length?h.apply(this,l):h})}var Qe=typeof i=="object"&&i&&i.Object===Object&&i,yo=typeof self=="object"&&self&&self.Object===Object&&self,Os=Qe||yo||Function("return this")(),Oi=Os.Symbol,$p=Object.prototype,JE=$p.hasOwnProperty,GE=$p.toString,xs=Oi?Oi.toStringTag:void 0,YE=Object.prototype.toString,Hp=Oi?Oi.toStringTag:void 0;function yf(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":Hp&&Hp in Object(c)?function(u){var l=JE.call(u,xs),h=u[xs];try{u[xs]=void 0;var p=!0}catch{}var v=GE.call(u);return p&&(l?u[xs]=h:delete u[xs]),v}(c):function(u){return YE.call(u)}(c)}function Jp(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}function mf(c){return c!=null&&Jp(c.length)&&!function(u){if(!function(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}(u))return!1;var l=yf(u);return l=="[object Function]"||l=="[object GeneratorFunction]"||l=="[object AsyncFunction]"||l=="[object Proxy]"}(c)}var Gp={};function Ts(){}function gf(c){return function(){if(c!==null){var u=c;c=null,u.apply(this,arguments)}}}var vf=typeof Symbol=="function"&&Symbol.iterator;function wf(c){return c!=null&&typeof c=="object"}function Yp(c){return wf(c)&&yf(c)=="[object Arguments]"}var Kp=Object.prototype,KE=Kp.hasOwnProperty,ZE=Kp.propertyIsEnumerable,XE=Yp(function(){return arguments}())?Yp:function(c){return wf(c)&&KE.call(c,"callee")&&!ZE.call(c,"callee")},QE=Array.isArray,Zp=typeof t=="object"&&t&&!t.nodeType&&t,Xp=Zp&&typeof o=="object"&&o&&!o.nodeType&&o,Qp=Xp&&Xp.exports===Zp?Os.Buffer:void 0,eb=(Qp?Qp.isBuffer:void 0)||function(){return!1},tb=/^(?:0|[1-9]\d*)$/;function rb(c,u){return!!(u=u??9007199254740991)&&(typeof c=="number"||tb.test(c))&&c>-1&&c%1==0&&c<u}var et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var ey,ty=typeof t=="object"&&t&&!t.nodeType&&t,ry=ty&&typeof o=="object"&&o&&!o.nodeType&&o,_f=ry&&ry.exports===ty&&Qe.process,ny=function(){try{return _f&&_f.binding&&_f.binding("util")}catch{}}(),iy=ny&&ny.isTypedArray,nb=iy?(ey=iy,function(c){return ey(c)}):function(c){return wf(c)&&Jp(c.length)&&!!et[yf(c)]},ib=Object.prototype.hasOwnProperty;function ob(c,u){var l=QE(c),h=!l&&XE(c),p=!l&&!h&&eb(c),v=!l&&!h&&!p&&nb(c),w=l||h||p||v,k=w?function(Q,ce){for(var de=-1,ge=Array(Q);++de<Q;)ge[de]=ce(de);return ge}(c.length,String):[],L=k.length;for(var W in c)!u&&!ib.call(c,W)||w&&(W=="length"||p&&(W=="offset"||W=="parent")||v&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||rb(W,L))||k.push(W);return k}var sb=Object.prototype,ab=function(c,u){return function(l){return c(u(l))}}(Object.keys,Object),lb=Object.prototype.hasOwnProperty;function ub(c){if(l=(u=c)&&u.constructor,u!==(typeof l=="function"&&l.prototype||sb))return ab(c);var u,l,h=[];for(var p in Object(c))lb.call(c,p)&&p!="constructor"&&h.push(p);return h}function cb(c){var u,l=mf(u=c)?ob(u):ub(u),h=-1,p=l.length;return function(){var v=l[++h];return h<p?{value:c[v],key:v}:null}}function fb(c){if(mf(c))return function(l){var h=-1,p=l.length;return function(){return++h<p?{value:l[h],key:h}:null}}(c);var u=function(l){return vf&&l[vf]&&l[vf]()}(c);return u?function(l){var h=-1;return function(){var p=l.next();return p.done?null:(h++,{value:p.value,key:h})}}(u):cb(c)}function oy(c){return function(){if(c===null)throw new Error("Callback was already called.");var u=c;c=null,u.apply(this,arguments)}}function sy(c){return function(u,l,h){if(h=gf(h||Ts),c<=0||!u)return h(null);var p=fb(u),v=!1,w=0;function k(W,Q){if(w-=1,W)v=!0,h(W);else{if(Q===Gp||v&&w<=0)return v=!0,h(null);L()}}function L(){for(;w<c&&!v;){var W=p();if(W===null)return v=!0,void(w<=0&&h(null));w+=1,l(W.value,W.key,oy(k))}}L()}}function ay(c,u,l,h){sy(u)(c,l,h)}function Sf(c,u){return function(l,h,p){return c(l,u,h,p)}}function hb(c,u,l){l=gf(l||Ts);var h=0,p=0,v=c.length;function w(k,L){k?l(k):++p!==v&&L!==Gp||l(null)}for(v===0&&l(null);h<v;h++)u(c[h],h,oy(w))}var ly,db=Sf(ay,1/0),uy=function(c,u,l){(mf(c)?hb:db)(c,u,l)};function cy(c,u,l,h){h=h||Ts;var p=[],v=0;c(u=u||[],function(w,k,L){var W=v++;l(w,function(Q,ce){p[W]=ce,L(Q)})},function(w){h(w,p)})}At((ly=cy,function(c,u,l){return ly(uy,c,u,l)}));var pb=function(c){return function(u,l,h,p){return c(sy(l),u,h,p)}}(cy);At(Sf(pb,1)),Re(function(c,u){return Re(function(l){return c.apply(null,u.concat(l))})});var fy=typeof setImmediate=="function"&&setImmediate,hy=typeof s=="object"&&typeof s.nextTick=="function";function dy(c){setTimeout(c,0)}function py(c){return Re(function(u,l){c(function(){u.apply(null,l)})})}py(fy?setImmediate:hy?s.nextTick:dy);var Sr,yb=Sf(ay,1),mb=Re(function(c){return Re(function(u){var l,h,p,v,w=this,k=u[u.length-1];typeof k=="function"?u.pop():k=Ts,l=c,h=u,p=function(L,W,Q){W.apply(w,L.concat(Re(function(ce,de){Q(ce,de)})))},v=gf((v=function(L,W){k.apply(w,[L].concat(W))})||Ts),yb(l,function(L,W,Q){p(h,L,function(ce,de){h=de,Q(ce)})},function(L){v(L,h)})})});function yy(c){return Re(function(u,l){u.apply(null,l.concat(Re(function(h,p){typeof console=="object"&&(h?console.error&&console.error(h):console[c]&&function(v,w){for(var k=-1,L=v==null?0:v.length;++k<L&&w(v[k],k,v)!==!1;);}(p,function(v){console[c](v)}))})))})}function my(c,u,l){uy(c,function(h){return function(p,v,w){return h(p,w)}}(u),l)}Re(function(c){return mb.apply(null,c.reverse())}),Re(function(c){var u=[null].concat(c);return Je(function(l,h){return h.apply(this,u)})}),yy("dir"),yy("log"),py(hy?s.nextTick:fy?setImmediate:dy);var Vt=function(c){this._cache={},this._client=c};Vt.prototype.readdir=function(c,u){var l=this,h=this.getCachedDirInfo(c);this._wrap(function(p){h!==null&&h.contents?l._client.readdir(c,{contentHash:h.stat.contentHash},p):l._client.readdir(c,p)},function(p,v,w,k){p?p.status===Dropbox.ApiError.NO_CONTENT&&h!==null?u(null,h.contents.slice(0)):u(p):(l.updateCachedDirInfo(c,w,v.slice(0)),k.forEach(function(L){l.updateCachedInfo(d.join(c,L.name),L)}),u(null,v))})},Vt.prototype.remove=function(c,u){var l=this;this._wrap(function(h){l._client.remove(c,h)},function(h,p){h||l.updateCachedInfo(c,p),u(h)})},Vt.prototype.move=function(c,u,l){var h=this;this._wrap(function(p){h._client.move(c,u,p)},function(p,v){p||(h.deleteCachedInfo(c),h.updateCachedInfo(u,v)),l(p)})},Vt.prototype.stat=function(c,u){var l=this;this._wrap(function(h){l._client.stat(c,h)},function(h,p){h||l.updateCachedInfo(c,p),u(h,p)})},Vt.prototype.readFile=function(c,u){var l=this,h=this.getCachedFileInfo(c);h!==null&&h.contents!==null?this.stat(c,function(p,v){p?u(p):v.contentHash===h.stat.contentHash?u(p,h.contents.slice(0),h.stat):l.readFile(c,u)}):this._wrap(function(p){l._client.readFile(c,{arrayBuffer:!0},p)},function(p,v,w){p||l.updateCachedInfo(c,w,v.slice(0)),u(p,v,w)})},Vt.prototype.writeFile=function(c,u,l){var h=this;this._wrap(function(p){h._client.writeFile(c,u,p)},function(p,v){p||h.updateCachedInfo(c,v,u.slice(0)),l(p,v)})},Vt.prototype.mkdir=function(c,u){var l=this;this._wrap(function(h){l._client.mkdir(c,h)},function(h,p){h||l.updateCachedInfo(c,p,[]),u(h)})},Vt.prototype._wrap=function(c,u){var l=0,h=function(p){var v=2;if(p&&3>++l)switch(p.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){c(h)},1e3*v);break;default:u.apply(null,arguments)}else u.apply(null,arguments)};c(h)},Vt.prototype.getCachedInfo=function(c){return this._cache[c.toLowerCase()]},Vt.prototype.putCachedInfo=function(c,u){this._cache[c.toLowerCase()]=u},Vt.prototype.deleteCachedInfo=function(c){delete this._cache[c.toLowerCase()]},Vt.prototype.getCachedDirInfo=function(c){var u,l=this.getCachedInfo(c);return(u=l)&&u.stat.isFolder?l:null},Vt.prototype.getCachedFileInfo=function(c){var u,l=this.getCachedInfo(c);return(u=l)&&u.stat.isFile?l:null},Vt.prototype.updateCachedDirInfo=function(c,u,l){l===void 0&&(l=null);var h=this.getCachedInfo(c);u.contentHash===null||h!==void 0&&h.stat.contentHash===u.contentHash||this.putCachedInfo(c,{stat:u,contents:l})},Vt.prototype.updateCachedFileInfo=function(c,u,l){l===void 0&&(l=null);var h=this.getCachedInfo(c);u.versionTag===null||h!==void 0&&h.stat.versionTag===u.versionTag||this.putCachedInfo(c,{stat:u,contents:l})},Vt.prototype.updateCachedInfo=function(c,u,l){var h;l===void 0&&(l=null),u.isFile&&((h=l)==null||typeof h=="object"&&typeof h.byteLength=="number")?this.updateCachedFileInfo(c,u,l):u.isFolder&&Array.isArray(l)&&this.updateCachedDirInfo(c,u,l)};var gb=function(c){function u(l,h,p,v,w){c.call(this,l,h,p,v,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;if(this.isDirty()){var p=z(this.getBuffer());this._fs._writeFileStrict(this.getPath(),p,function(v){v||h.resetDirty(),l(v)})}else l()},u.prototype.close=function(l){this.sync(l)},u}(E),hl=function(c){function u(l,h){h===void 0&&(h=!0),c.call(this),this._client=new Vt(l),ye(h,u.Name,{client:"authenticated dropbox client instance"}),Sr||((Sr={})[Dropbox.ApiError.NETWORK_ERROR]=a.EIO,Sr[Dropbox.ApiError.INVALID_PARAM]=a.EINVAL,Sr[Dropbox.ApiError.INVALID_TOKEN]=a.EPERM,Sr[Dropbox.ApiError.OAUTH_ERROR]=a.EPERM,Sr[Dropbox.ApiError.NOT_FOUND]=a.ENOENT,Sr[Dropbox.ApiError.INVALID_METHOD]=a.EINVAL,Sr[Dropbox.ApiError.NOT_ACCEPTABLE]=a.EINVAL,Sr[Dropbox.ApiError.CONFLICT]=a.EINVAL,Sr[Dropbox.ApiError.RATE_LIMITED]=a.EBUSY,Sr[Dropbox.ApiError.SERVER_ERROR]=a.EBUSY,Sr[Dropbox.ApiError.OVER_QUOTA]=a.ENOSPC)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.client,!1))},u.isAvailable=function(){return typeof Dropbox<"u"},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(l){var h=this;this._client.readdir("/",function(p,v){p?l(h.convert(p,"/")):my(v,function(w,k){var L=d.join("/",w);h._client.remove(L,function(W){k(W?h.convert(W,L):null)})},function(w){w?l(w):l()})})},u.prototype.rename=function(l,h,p){var v=this;this._client.move(l,h,function(w){w?v._client.stat(h,function(k,L){if(k||L.isFolder){var W=w.response.error.indexOf(l)>-1?l:h;p(v.convert(w,W))}else v._client.remove(h,function(Q){Q?p(v.convert(Q,h)):v.rename(l,h,p)})}):p()})},u.prototype.stat=function(l,h,p){var v=this;this._client.stat(l,function(w,k){if(w)p(v.convert(w,l));else{if(!k||!k.isRemoved){var L=new T(v._statType(k),k.size);return p(null,L)}p(y.FileError(a.ENOENT,l))}})},u.prototype.open=function(l,h,p,v){var w=this;this._client.readFile(l,function(k,L,W){if(!k){var Q;Q=L===null?Ee():re(L);var ce=w._makeFile(l,h,W,Q);return v(null,ce)}if(!h.isReadable()){if(k.status===Dropbox.ApiError.NOT_FOUND){var de=new ArrayBuffer(0);return w._writeFileStrict(l,de,function(ge,ve){if(ge)v(ge);else{var Ne=w._makeFile(l,h,ve,re(de));v(null,Ne)}})}return v(w.convert(k,l))}v(w.convert(k,l))})},u.prototype._writeFileStrict=function(l,h,p){var v=this,w=d.dirname(l);this.stat(w,!1,function(k,L){k?p(y.FileError(a.ENOENT,w)):v._client.writeFile(l,h,function(W,Q){W?p(v.convert(W,l)):p(null,Q)})})},u.prototype._statType=function(l){return l.isFile?N.FILE:N.DIRECTORY},u.prototype._makeFile=function(l,h,p,v){var w=this._statType(p),k=new T(w,p.size);return new gb(this,l,h,k,v)},u.prototype._remove=function(l,h,p){var v=this;this._client.stat(l,function(w,k){w?h(v.convert(w,l)):k.isFile&&!p?h(y.FileError(a.ENOTDIR,l)):!k.isFile&&p?h(y.FileError(a.EISDIR,l)):v._client.remove(l,function(L){h(L?v.convert(L,l):null)})})},u.prototype.unlink=function(l,h){this._remove(l,h,!0)},u.prototype.rmdir=function(l,h){this._remove(l,h,!1)},u.prototype.mkdir=function(l,h,p){var v=this,w=d.dirname(l);this._client.stat(w,function(k,L){k?p(v.convert(k,w)):v._client.mkdir(l,function(W){p(W?y.FileError(a.EEXIST,l):null)})})},u.prototype.readdir=function(l,h){var p=this;this._client.readdir(l,function(v,w){return v?h(p.convert(v)):h(null,w)})},u.prototype.convert=function(l,h){h===void 0&&(h=null);var p=Sr[l.status];return p===void 0&&(p=a.EIO),h?y.FileError(p,h):new y(p)},u}(Y);function lt(c,u){u===void 0&&(u="");for(var l=c.errno,h=c.node,p=[];h&&(p.unshift(h.name),h!==h.parent);)h=h.parent;return new y(l,m[l],p.length>0?"/"+p.join("/"):u)}hl.Name="Dropbox",hl.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(c,u){c.isAuthenticated&&c.isAuthenticated()?u():u(new y(a.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};var vb=function(c){function u(l,h,p,v){c.call(this),this._fs=l,this._FS=h,this._path=p,this._stream=v}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getPos=function(){},u.prototype.close=function(l){var h=null;try{this.closeSync()}catch(p){h=p}finally{l(h)}},u.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(l){throw lt(l,this._path)}},u.prototype.stat=function(l){try{l(null,this.statSync())}catch(h){l(h)}},u.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(l){throw lt(l,this._path)}},u.prototype.truncate=function(l,h){var p=null;try{this.truncateSync(l)}catch(v){p=v}finally{h(p)}},u.prototype.truncateSync=function(l){try{this._FS.ftruncate(this._stream.fd,l)}catch(h){throw lt(h,this._path)}},u.prototype.write=function(l,h,p,v,w){try{w(null,this.writeSync(l,h,p,v),l)}catch(k){w(k)}},u.prototype.writeSync=function(l,h,p,v){try{var w=G(l),k=v===null?void 0:v;return this._FS.write(this._stream,w,h,p,k)}catch(L){throw lt(L,this._path)}},u.prototype.read=function(l,h,p,v,w){try{w(null,this.readSync(l,h,p,v),l)}catch(k){w(k)}},u.prototype.readSync=function(l,h,p,v){try{var w=G(l),k=v===null?void 0:v;return this._FS.read(this._stream,w,h,p,k)}catch(L){throw lt(L,this._path)}},u.prototype.sync=function(l){l()},u.prototype.syncSync=function(){},u.prototype.chown=function(l,h,p){var v=null;try{this.chownSync(l,h)}catch(w){v=w}finally{p(v)}},u.prototype.chownSync=function(l,h){try{this._FS.fchown(this._stream.fd,l,h)}catch(p){throw lt(p,this._path)}},u.prototype.chmod=function(l,h){var p=null;try{this.chmodSync(l)}catch(v){p=v}finally{h(p)}},u.prototype.chmodSync=function(l){try{this._FS.fchmod(this._stream.fd,l)}catch(h){throw lt(h,this._path)}},u.prototype.utimes=function(l,h,p){var v=null;try{this.utimesSync(l,h)}catch(w){v=w}finally{p(v)}},u.prototype.utimesSync=function(l,h){this._fs.utimesSync(this._path,l,h)},u}(F),dl=function(c){function u(l){c.call(this),this._FS=l}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.FS))},u.isAvailable=function(){return!0},u.prototype.getName=function(){return this._FS.DB_NAME()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!0},u.prototype.supportsProps=function(){return!0},u.prototype.supportsSynch=function(){return!0},u.prototype.renameSync=function(l,h){try{this._FS.rename(l,h)}catch(p){throw p.errno===a.ENOENT?lt(p,this.existsSync(l)?h:l):lt(p)}},u.prototype.statSync=function(l,h){try{var p=h?this._FS.lstat(l):this._FS.stat(l),v=this.modeToFileType(p.mode);return new T(v,p.size,p.mode,p.atime,p.mtime,p.ctime)}catch(w){throw lt(w,l)}},u.prototype.openSync=function(l,h,p){try{var v=this._FS.open(l,h.getFlagString(),p);if(this._FS.isDir(v.node.mode))throw this._FS.close(v),y.EISDIR(l);return new vb(this,this._FS,l,v)}catch(w){throw lt(w,l)}},u.prototype.unlinkSync=function(l){try{this._FS.unlink(l)}catch(h){throw lt(h,l)}},u.prototype.rmdirSync=function(l){try{this._FS.rmdir(l)}catch(h){throw lt(h,l)}},u.prototype.mkdirSync=function(l,h){try{this._FS.mkdir(l,h)}catch(p){throw lt(p,l)}},u.prototype.readdirSync=function(l){try{return this._FS.readdir(l).filter(function(h){return h!=="."&&h!==".."})}catch(h){throw lt(h,l)}},u.prototype.truncateSync=function(l,h){try{this._FS.truncate(l,h)}catch(p){throw lt(p,l)}},u.prototype.readFileSync=function(l,h,p){try{var v=ie(this._FS.readFile(l,{flags:p.getFlagString()}));return h?v.toString(h):v}catch(w){throw lt(w,l)}},u.prototype.writeFileSync=function(l,h,p,v,w){try{p&&(h=n.from(h,p));var k=G(h);this._FS.writeFile(l,k,{flags:v.getFlagString(),encoding:"binary"}),this._FS.chmod(l,w)}catch(L){throw lt(L,l)}},u.prototype.chmodSync=function(l,h,p){try{h?this._FS.lchmod(l,p):this._FS.chmod(l,p)}catch(v){throw lt(v,l)}},u.prototype.chownSync=function(l,h,p,v){try{h?this._FS.lchown(l,p,v):this._FS.chown(l,p,v)}catch(w){throw lt(w,l)}},u.prototype.symlinkSync=function(l,h,p){try{this._FS.symlink(l,h)}catch(v){throw lt(v)}},u.prototype.readlinkSync=function(l){try{return this._FS.readlink(l)}catch(h){throw lt(h,l)}},u.prototype.utimesSync=function(l,h,p){try{this._FS.utime(l,h.getTime(),p.getTime())}catch(v){throw lt(v,l)}},u.prototype.modeToFileType=function(l){if(this._FS.isDir(l))return N.DIRECTORY;if(this._FS.isFile(l))return N.FILE;if(this._FS.isLink(l))return N.SYMLINK;throw y.EPERM("Invalid mode: "+l)},u}(_e);dl.Name="EmscriptenFileSystem",dl.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var mo=function(c){function u(l,h){c.call(this),this._folder=l,this._wrapped=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.folder,l.wrapped))},u.isAvailable=function(){return!0},u.prototype.initialize=function(l){var h=this;this._wrapped.exists(this._folder,function(p){p?l():h._wrapped.isReadOnly()?l(y.ENOENT(h._folder)):h._wrapped.mkdir(h._folder,511,l)})},u.prototype.getName=function(){return this._wrapped.getName()},u.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},u.prototype.supportsProps=function(){return this._wrapped.supportsProps()},u.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u}(Y);function gy(c,u){if(u!==null&&typeof u=="object"){var l=u,h=l.path;h&&(h="/"+d.relative(c,h),l.message=l.message.replace(l.path,h),l.path=h)}return u}function wb(c,u){return typeof u=="function"?function(l){arguments.length>0&&(arguments[0]=gy(c,l)),u.apply(null,arguments)}:u}function vy(c,u,l){return c.slice(c.length-4)!=="Sync"?function(){return arguments.length>0&&(u&&(arguments[0]=d.join(this._folder,arguments[0])),l&&(arguments[1]=d.join(this._folder,arguments[1])),arguments[arguments.length-1]=wb(this._folder,arguments[arguments.length-1])),this._wrapped[c].apply(this._wrapped,arguments)}:function(){try{return u&&(arguments[0]=d.join(this._folder,arguments[0])),l&&(arguments[1]=d.join(this._folder,arguments[1])),this._wrapped[c].apply(this._wrapped,arguments)}catch(h){throw gy(this._folder,h)}}}mo.Name="FolderAdapter",mo.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}},["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(c){mo.prototype[c]=vy(c,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(c){mo.prototype[c]=vy(c,!0,!0)});var bt=typeof window<"u"?window:typeof self<"u"?self:i,Ef=bt.webkitRequestFileSystem||bt.requestFileSystem||null;function hn(c,u,l){switch(c.name){case"PathExistsError":return y.EEXIST(u);case"QuotaExceededError":return y.FileError(a.ENOSPC,u);case"NotFoundError":return y.ENOENT(u);case"SecurityError":return y.FileError(a.EACCES,u);case"InvalidModificationError":return y.FileError(a.EPERM,u);case"TypeMismatchError":return y.FileError(l?a.ENOTDIR:a.EISDIR,u);default:return y.FileError(a.EINVAL,u)}}var _b=function(c){function u(l,h,p,v,w,k){c.call(this,l,p,v,w,k),this._entry=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;if(!this.isDirty())return l();this._entry.createWriter(function(p){var v=h.getBuffer(),w=new Blob([z(v)]),k=w.size;p.onwriteend=function(L){p.onwriteend=null,p.onerror=null,p.truncate(k),h.resetDirty(),l()},p.onerror=function(L){l(hn(L,h.getPath(),!1))},p.write(w)})},u.prototype.close=function(l){this.sync(l)},u}(E),pl=function(c){function u(l,h,p){l===void 0&&(l=5),h===void 0&&(h=bt.PERSISTENT),p===void 0&&(p=!0),c.call(this),this.size=1048576*l,this.type=h,ye(p,u.Name,{size:l,type:h})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u(l.size,l.type,!1);p.allocate(function(v){return v?h(v):h(null,p)},!1)},u.isAvailable=function(){return!!Ef},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.allocate=function(l,h){var p=this;l===void 0&&(l=function(){}),h===void 0&&(h=!0),h&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var v=function(k){p.fs=k,l()},w=function(k){l(hn(k,"/",!0))};this.type===bt.PERSISTENT?function(k,L,W,Q){if(navigator.webkitPersistentStorage!==void 0)switch(k){case bt.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(L,W,Q);break;case bt.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(L,W,Q);break;default:Q(new TypeError("Invalid storage type: "+k))}else bt.webkitStorageInfo.requestQuota(k,L,W,Q)}(this.type,this.size,function(k){Ef(p.type,k,v,w)},w):Ef(this.type,this.size,v,w)},u.prototype.empty=function(l){this._readdir("/",function(h,p){h?(console.error("Failed to empty FS"),l(h)):my(p,function(v,w){var k=function(){w()},L=function(W){w(hn(W,v.fullPath,!v.isDirectory))};(function(W){return W.isDirectory})(v)?v.removeRecursively(k,L):v.remove(k,L)},function(v){h?(console.error("Failed to empty FS"),l(h)):l()})})},u.prototype.rename=function(l,h,p){var v=this,w=2,k=0,L=this.fs.root,W=l,Q=function(de){--w<=0&&p(hn(de,W,!1))},ce=function(de){return++k==2?p(new y(a.EINVAL,"Something was identified as both a file and a directory. This should never happen.")):l===h?p():(W=d.dirname(h),void L.getDirectory(W,{},function(ge){W=d.basename(h),de.moveTo(ge,W,function(ve){p()},function(ve){de.isDirectory?(W=h,v.unlink(h,function(Ne){Ne?Q(ve):v.rename(l,h,p)})):Q(ve)})},Q))};L.getFile(l,{},ce,Q),L.getDirectory(l,{},ce,Q)},u.prototype.stat=function(l,h,p){var v=this,w={create:!1},k=function(W){var Q=new T(N.DIRECTORY,4096);p(null,Q)},L=function(W){p(hn(W,l,!1))};this.fs.root.getFile(l,w,function(W){W.file(function(Q){var ce=new T(N.FILE,Q.size);p(null,ce)},L)},function(){v.fs.root.getDirectory(l,w,k,L)})},u.prototype.open=function(l,h,p,v){var w=this,k=function(L){L.name==="InvalidModificationError"&&h.isExclusive()?v(y.EEXIST(l)):v(hn(L,l,!1))};this.fs.root.getFile(l,{create:h.pathNotExistsAction()===g.CREATE_FILE,exclusive:h.isExclusive()},function(L){L.file(function(W){var Q=new FileReader;Q.onloadend=function(ce){var de=w._makeFile(l,L,h,W,Q.result);v(null,de)},Q.onerror=function(ce){k(Q.error)},Q.readAsArrayBuffer(W)},k)},k)},u.prototype.unlink=function(l,h){this._remove(l,h,!0)},u.prototype.rmdir=function(l,h){var p=this;this.readdir(l,function(v,w){v?h(v):w.length>0?h(y.ENOTEMPTY(l)):p._remove(l,h,!1)})},u.prototype.mkdir=function(l,h,p){this.fs.root.getDirectory(l,{create:!0,exclusive:!0},function(v){p()},function(v){p(hn(v,l,!0))})},u.prototype.readdir=function(l,h){this._readdir(l,function(p,v){if(!v)return h(p);for(var w=[],k=0,L=v;k<L.length;k+=1){var W=L[k];w.push(W.name)}h(null,w)})},u.prototype._makeFile=function(l,h,p,v,w){w===void 0&&(w=new ArrayBuffer(0));var k=new T(N.FILE,v.size),L=re(w);return new _b(this,h,l,p,k,L)},u.prototype._readdir=function(l,h){var p=function(v){h(hn(v,l,!0))};this.fs.root.getDirectory(l,{create:!1},function(v){var w=v.createReader(),k=[],L=function(){w.readEntries(function(W){W.length?(k=k.concat(function(Q){return Array.prototype.slice.call(Q||[],0)}(W)),L()):h(null,k)},p)};L()},p)},u.prototype._remove=function(l,h,p){var v=function(L){L.remove(function(){h()},function(W){h(hn(W,l,!p))})},w=function(L){h(hn(L,l,!p))},k={create:!1};p?this.fs.root.getFile(l,k,v,w):this.fs.root.getDirectory(l,k,v,w)},u}(Y);pl.Name="HTML5FS",pl.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var ar=function(c,u,l,h,p,v){this.id=c,this.size=u,this.mode=l,this.atime=h,this.mtime=p,this.ctime=v};ar.fromBuffer=function(c){if(c===void 0)throw new Error("NO");return new ar(c.toString("ascii",30),c.readUInt32LE(0),c.readUInt16LE(4),c.readDoubleLE(6),c.readDoubleLE(14),c.readDoubleLE(22))},ar.prototype.toStats=function(){return new T((61440&this.mode)===N.DIRECTORY?N.DIRECTORY:N.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},ar.prototype.getSize=function(){return 30+this.id.length},ar.prototype.toBuffer=function(c){return c===void 0&&(c=n.alloc(this.getSize())),c.writeUInt32LE(this.size,0),c.writeUInt16LE(this.mode,4),c.writeDoubleLE(this.atime,6),c.writeDoubleLE(this.mtime,14),c.writeDoubleLE(this.ctime,22),c.write(this.id,30,this.id.length,"ascii"),c},ar.prototype.update=function(c){var u=!1;this.size!==c.size&&(this.size=c.size,u=!0),this.mode!==c.mode&&(this.mode=c.mode,u=!0);var l=c.atime.getTime();this.atime!==l&&(this.atime=l,u=!0);var h=c.mtime.getTime();this.mtime!==h&&(this.mtime=h,u=!0);var p=c.ctime.getTime();return this.ctime!==p&&(this.ctime=p,u=!0),u},ar.prototype.isFile=function(){return(61440&this.mode)===N.FILE},ar.prototype.isDirectory=function(){return(61440&this.mode)===N.DIRECTORY};var Bn="/",wy=null;function _y(){return wy||(wy=n.from("{}"))}function yl(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var u=16*Math.random()|0;return(c==="x"?u:3&u|8).toString(16)})}function Er(c,u){return!c||(u(c),!1)}function It(c,u,l){return!c||(u.abort(function(){l(c)}),!1)}var Tn=function(c){this.store=c,this.originalData={},this.modifiedKeys=[]};Tn.prototype.get=function(c){var u=this.store.get(c);return this.stashOldValue(c,u),u},Tn.prototype.put=function(c,u,l){return this.markModified(c),this.store.put(c,u,l)},Tn.prototype.del=function(c){this.markModified(c),this.store.del(c)},Tn.prototype.commit=function(){},Tn.prototype.abort=function(){for(var c=this,u=0,l=c.modifiedKeys;u<l.length;u+=1){var h=l[u],p=c.originalData[h];p?c.store.put(h,p,!0):c.store.del(h)}},Tn.prototype.stashOldValue=function(c,u){this.originalData.hasOwnProperty(c)||(this.originalData[c]=u)},Tn.prototype.markModified=function(c){this.modifiedKeys.indexOf(c)===-1&&(this.modifiedKeys.push(c),this.originalData.hasOwnProperty(c)||(this.originalData[c]=this.store.get(c)))};var Sy=function(c){function u(l,h,p,v,w){c.call(this,l,h,p,v,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(E),Ey=function(c){function u(l){c.call(this),this.store=l.store,this.makeRootDirectory()}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},u.prototype.renameSync=function(l,h){var p=this.store.beginTransaction("readwrite"),v=d.dirname(l),w=d.basename(l),k=d.dirname(h),L=d.basename(h),W=this.findINode(p,v),Q=this.getDirListing(p,v,W);if(!Q[w])throw y.ENOENT(l);var ce,de,ge=Q[w];if(delete Q[w],(k+"/").indexOf(l+"/")===0)throw new y(a.EBUSY,v);if(k===v?(ce=W,de=Q):(ce=this.findINode(p,k),de=this.getDirListing(p,k,ce)),de[L]){var ve=this.getINode(p,h,de[L]);if(!ve.isFile())throw y.EPERM(h);try{p.del(ve.id),p.del(de[L])}catch(Ne){throw p.abort(),Ne}}de[L]=ge;try{p.put(W.id,n.from(JSON.stringify(Q)),!0),p.put(ce.id,n.from(JSON.stringify(de)),!0)}catch(Ne){throw p.abort(),Ne}p.commit()},u.prototype.statSync=function(l,h){return this.findINode(this.store.beginTransaction("readonly"),l).toStats()},u.prototype.createFileSync=function(l,h,p){var v=this.store.beginTransaction("readwrite"),w=Ee(),k=this.commitNewFile(v,l,N.FILE,p,w);return new Sy(this,l,h,k.toStats(),w)},u.prototype.openFileSync=function(l,h){var p=this.store.beginTransaction("readonly"),v=this.findINode(p,l),w=p.get(v.id);if(w===void 0)throw y.ENOENT(l);return new Sy(this,l,h,v.toStats(),w)},u.prototype.unlinkSync=function(l){this.removeEntry(l,!1)},u.prototype.rmdirSync=function(l){if(this.readdirSync(l).length>0)throw y.ENOTEMPTY(l);this.removeEntry(l,!0)},u.prototype.mkdirSync=function(l,h){var p=this.store.beginTransaction("readwrite"),v=n.from("{}");this.commitNewFile(p,l,N.DIRECTORY,h,v)},u.prototype.readdirSync=function(l){var h=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(h,l,this.findINode(h,l)))},u.prototype._syncSync=function(l,h,p){var v=this.store.beginTransaction("readwrite"),w=this._findINode(v,d.dirname(l),d.basename(l)),k=this.getINode(v,l,w),L=k.update(p);try{v.put(k.id,h,!0),L&&v.put(w,k.toBuffer(),!0)}catch(W){throw v.abort(),W}v.commit()},u.prototype.makeRootDirectory=function(){var l=this.store.beginTransaction("readwrite");if(l.get(Bn)===void 0){var h=new Date().getTime(),p=new ar(yl(),4096,511|N.DIRECTORY,h,h,h);l.put(p.id,_y(),!1),l.put(Bn,p.toBuffer(),!1),l.commit()}},u.prototype._findINode=function(l,h,p){var v=this,w=function(k){var L=v.getDirListing(l,h,k);if(L[p])return L[p];throw y.ENOENT(d.resolve(h,p))};return h==="/"?p===""?Bn:w(this.getINode(l,h,Bn)):w(this.getINode(l,h+d.sep+p,this._findINode(l,d.dirname(h),d.basename(h))))},u.prototype.findINode=function(l,h){return this.getINode(l,h,this._findINode(l,d.dirname(h),d.basename(h)))},u.prototype.getINode=function(l,h,p){var v=l.get(p);if(v===void 0)throw y.ENOENT(h);return ar.fromBuffer(v)},u.prototype.getDirListing=function(l,h,p){if(!p.isDirectory())throw y.ENOTDIR(h);var v=l.get(p.id);if(v===void 0)throw y.ENOENT(h);return JSON.parse(v.toString())},u.prototype.addNewNode=function(l,h){for(var p;;)try{return p=yl(),l.put(p,h,!1),p}catch{}throw new y(a.EIO,"Unable to commit data to key-value store.")},u.prototype.commitNewFile=function(l,h,p,v,w){var k,L=d.dirname(h),W=d.basename(h),Q=this.findINode(l,L),ce=this.getDirListing(l,L,Q),de=new Date().getTime();if(h==="/"||ce[W])throw y.EEXIST(h);try{var ge=this.addNewNode(l,w);k=new ar(ge,w.length,v|p,de,de,de);var ve=this.addNewNode(l,k.toBuffer());ce[W]=ve,l.put(Q.id,n.from(JSON.stringify(ce)),!0)}catch(Ne){throw l.abort(),Ne}return l.commit(),k},u.prototype.removeEntry=function(l,h){var p=this.store.beginTransaction("readwrite"),v=d.dirname(l),w=this.findINode(p,v),k=this.getDirListing(p,v,w),L=d.basename(l);if(!k[L])throw y.ENOENT(l);var W=k[L];delete k[L];var Q=this.getINode(p,l,W);if(!h&&Q.isDirectory())throw y.EISDIR(l);if(h&&!Q.isDirectory())throw y.ENOTDIR(l);try{p.del(Q.id),p.del(W),p.put(w.id,n.from(JSON.stringify(k)),!0)}catch(ce){throw p.abort(),ce}p.commit()},u}(_e),by=function(c){function u(l,h,p,v,w){c.call(this,l,h,p,v,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(p){p||h.resetDirty(),l(p)}):l()},u.prototype.close=function(l){this.sync(l)},u}(E),Sb=function(c){function u(){c.apply(this,arguments)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.init=function(l,h){this.store=l,this.makeRootDirectory(h)},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(l){var h=this;this.store.clear(function(p){Er(p,l)&&h.makeRootDirectory(l)})},u.prototype.rename=function(l,h,p){var v=this,w=this.store.beginTransaction("readwrite"),k=d.dirname(l),L=d.basename(l),W=d.dirname(h),Q=d.basename(h),ce={},de={},ge=!1;if((W+"/").indexOf(l+"/")===0)return p(new y(a.EBUSY,k));var ve=function(Ne){v.findINodeAndDirListing(w,Ne,function(Be,xt,Kr){Be?ge||(ge=!0,w.abort(function(){p(Be)})):(ce[Ne]=xt,de[Ne]=Kr,function(){if(!ge&&de.hasOwnProperty(k)&&de.hasOwnProperty(W)){var xr=de[k],bo=ce[k],cr=de[W],Ff=ce[W];if(xr[L]){var Di=xr[L];delete xr[L];var Ci=function(){cr[Q]=Di,w.put(bo.id,n.from(JSON.stringify(xr)),!0,function(Lf){It(Lf,w,p)&&(k===W?w.commit(p):w.put(Ff.id,n.from(JSON.stringify(cr)),!0,function(xl){It(xl,w,p)&&w.commit(p)}))})};cr[Q]?v.getINode(w,h,cr[Q],function(Lf,xl){It(Lf,w,p)&&(xl.isFile()?w.del(xl.id,function(fm){It(fm,w,p)&&w.del(cr[Q],function(Lb){It(Lb,w,p)&&Ci()})}):w.abort(function(fm){p(y.EPERM(h))}))}):Ci()}else p(y.ENOENT(l))}}())})};ve(k),k!==W&&ve(W)},u.prototype.stat=function(l,h,p){var v=this.store.beginTransaction("readonly");this.findINode(v,l,function(w,k){Er(w,p)&&p(null,k.toStats())})},u.prototype.createFile=function(l,h,p,v){var w=this,k=this.store.beginTransaction("readwrite"),L=Ee();this.commitNewFile(k,l,N.FILE,p,L,function(W,Q){Er(W,v)&&v(null,new by(w,l,h,Q.toStats(),L))})},u.prototype.openFile=function(l,h,p){var v=this,w=this.store.beginTransaction("readonly");this.findINode(w,l,function(k,L){Er(k,p)&&w.get(L.id,function(W,Q){Er(W,p)&&(Q===void 0?p(y.ENOENT(l)):p(null,new by(v,l,h,L.toStats(),Q)))})})},u.prototype.unlink=function(l,h){this.removeEntry(l,!1,h)},u.prototype.rmdir=function(l,h){var p=this;this.readdir(l,function(v,w){v?h(v):w.length>0?h(y.ENOTEMPTY(l)):p.removeEntry(l,!0,h)})},u.prototype.mkdir=function(l,h,p){var v=this.store.beginTransaction("readwrite"),w=n.from("{}");this.commitNewFile(v,l,N.DIRECTORY,h,w,p)},u.prototype.readdir=function(l,h){var p=this,v=this.store.beginTransaction("readonly");this.findINode(v,l,function(w,k){Er(w,h)&&p.getDirListing(v,l,k,function(L,W){Er(L,h)&&h(null,Object.keys(W))})})},u.prototype._sync=function(l,h,p,v){var w=this,k=this.store.beginTransaction("readwrite");this._findINode(k,d.dirname(l),d.basename(l),function(L,W){It(L,k,v)&&w.getINode(k,l,W,function(Q,ce){if(It(Q,k,v)){var de=ce.update(p);k.put(ce.id,h,!0,function(ge){It(ge,k,v)&&(de?k.put(W,ce.toBuffer(),!0,function(ve){It(ve,k,v)&&k.commit(v)}):k.commit(v))})}})})},u.prototype.makeRootDirectory=function(l){var h=this.store.beginTransaction("readwrite");h.get(Bn,function(p,v){if(p||v===void 0){var w=new Date().getTime(),k=new ar(yl(),4096,511|N.DIRECTORY,w,w,w);h.put(k.id,_y(),!1,function(L){It(L,h,l)&&h.put(Bn,k.toBuffer(),!1,function(W){W?h.abort(function(){l(W)}):h.commit(l)})})}else h.commit(l)})},u.prototype._findINode=function(l,h,p,v){var w=this,k=function(L,W,Q){L?v(L):Q[p]?v(null,Q[p]):v(y.ENOENT(d.resolve(h,p)))};h==="/"?p===""?v(null,Bn):this.getINode(l,h,Bn,function(L,W){Er(L,v)&&w.getDirListing(l,h,W,function(Q,ce){k(Q,0,ce)})}):this.findINodeAndDirListing(l,h,k)},u.prototype.findINode=function(l,h,p){var v=this;this._findINode(l,d.dirname(h),d.basename(h),function(w,k){Er(w,p)&&v.getINode(l,h,k,p)})},u.prototype.getINode=function(l,h,p,v){l.get(p,function(w,k){Er(w,v)&&(k===void 0?v(y.ENOENT(h)):v(null,ar.fromBuffer(k)))})},u.prototype.getDirListing=function(l,h,p,v){p.isDirectory()?l.get(p.id,function(w,k){if(Er(w,v))try{v(null,JSON.parse(k.toString()))}catch{v(y.ENOENT(h))}}):v(y.ENOTDIR(h))},u.prototype.findINodeAndDirListing=function(l,h,p){var v=this;this.findINode(l,h,function(w,k){Er(w,p)&&v.getDirListing(l,h,k,function(L,W){Er(L,p)&&p(null,k,W)})})},u.prototype.addNewNode=function(l,h,p){var v,w=0,k=function(){++w==5?p(new y(a.EIO,"Unable to commit data to key-value store.")):(v=yl(),l.put(v,h,!1,function(L,W){L||!W?k():p(null,v)}))};k()},u.prototype.commitNewFile=function(l,h,p,v,w,k){var L=this,W=d.dirname(h),Q=d.basename(h),ce=new Date().getTime();if(h==="/")return k(y.EEXIST(h));this.findINodeAndDirListing(l,W,function(de,ge,ve){It(de,l,k)&&(ve[Q]?l.abort(function(){k(y.EEXIST(h))}):L.addNewNode(l,w,function(Ne,Be){if(It(Ne,l,k)){var xt=new ar(Be,w.length,v|p,ce,ce,ce);L.addNewNode(l,xt.toBuffer(),function(Kr,xr){It(Kr,l,k)&&(ve[Q]=xr,l.put(ge.id,n.from(JSON.stringify(ve)),!0,function(bo){It(bo,l,k)&&l.commit(function(cr){It(cr,l,k)&&k(null,xt)})}))})}}))})},u.prototype.removeEntry=function(l,h,p){var v=this,w=this.store.beginTransaction("readwrite"),k=d.dirname(l),L=d.basename(l);this.findINodeAndDirListing(w,k,function(W,Q,ce){if(It(W,w,p))if(ce[L]){var de=ce[L];delete ce[L],v.getINode(w,l,de,function(ge,ve){It(ge,w,p)&&(!h&&ve.isDirectory()?w.abort(function(){p(y.EISDIR(l))}):h&&!ve.isDirectory()?w.abort(function(){p(y.ENOTDIR(l))}):w.del(ve.id,function(Ne){It(Ne,w,p)&&w.del(de,function(Be){It(Be,w,p)&&w.put(Q.id,n.from(JSON.stringify(ce)),!0,function(xt){It(xt,w,p)&&w.commit(p)})})}))})}else w.abort(function(){p(y.ENOENT(l))})})},u}(Y),xi=function(){this.store={}};xi.prototype.name=function(){return go.Name},xi.prototype.clear=function(){this.store={}},xi.prototype.beginTransaction=function(c){return new Tn(this)},xi.prototype.get=function(c){return this.store[c]},xi.prototype.put=function(c,u,l){return!(!l&&this.store.hasOwnProperty(c)||(this.store[c]=u,0))},xi.prototype.del=function(c){delete this.store[c]};var go=function(c){function u(){c.call(this,{store:new xi})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u)},u}(Ey);go.Name="InMemory",go.Options={};var bf=bt.indexedDB||bt.mozIndexedDB||bt.webkitIndexedDB||bt.msIndexedDB;function Ns(c,u){switch(u===void 0&&(u=c.toString()),c.name){case"NotFoundError":return new y(a.ENOENT,u);case"QuotaExceededError":return new y(a.ENOSPC,u);default:return new y(a.EIO,u)}}function ks(c,u,l){return u===void 0&&(u=a.EIO),l===void 0&&(l=null),function(h){h.preventDefault(),c(new y(u,l!==null?l:void 0))}}var Of=function(c,u){this.tx=c,this.store=u};Of.prototype.get=function(c,u){try{var l=this.store.get(c);l.onerror=ks(u),l.onsuccess=function(h){var p=h.target.result;u(null,p===void 0?p:re(p))}}catch(h){u(Ns(h))}};var Eb=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.put=function(l,h,p,v){try{var w,k=z(h);(w=p?this.store.put(k,l):this.store.add(k,l)).onerror=ks(v),w.onsuccess=function(L){v(null,!0)}}catch(L){v(Ns(L))}},u.prototype.del=function(l,h){try{var p=this.store.delete(l);p.onerror=ks(h),p.onsuccess=function(v){h()}}catch(v){h(Ns(v))}},u.prototype.commit=function(l){setTimeout(l,0)},u.prototype.abort=function(l){var h=null;try{this.tx.abort()}catch(p){h=Ns(p)}finally{l(h)}},u}(Of),ml=function(c,u){var l=this;u===void 0&&(u="browserfs"),this.storeName=u;var h=bf.open(this.storeName,1);h.onupgradeneeded=function(p){var v=p.target.result;v.objectStoreNames.contains(l.storeName)&&v.deleteObjectStore(l.storeName),v.createObjectStore(l.storeName)},h.onsuccess=function(p){l.db=p.target.result,c(null,l)},h.onerror=ks(c,a.EACCES)};ml.prototype.name=function(){return Is.Name+" - "+this.storeName},ml.prototype.clear=function(c){try{var u=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();u.onsuccess=function(l){setTimeout(c,0)},u.onerror=ks(c)}catch(l){c(Ns(l))}},ml.prototype.beginTransaction=function(c){c===void 0&&(c="readonly");var u=this.db.transaction(this.storeName,c),l=u.objectStore(this.storeName);if(c==="readwrite")return new Eb(u,l);if(c==="readonly")return new Of(u,l);throw new y(a.EINVAL,"Invalid transaction type.")};var Is=function(c){function u(l,h,p){var v=this;p===void 0&&(p=!0),c.call(this),this.store=new ml(function(w){w?l(w):v.init(v.store,function(k){l(k,v)})},h),ye(p,u.Name,{storeName:h})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){new u(h,l.storeName,!1)},u.isAvailable=function(){try{return bf!==void 0&&bf.open("__browserfs_test__")!==null}catch{return!1}},u}(Sb);Is.Name="IndexedDB",Is.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var As,xf=!1;try{bt.localStorage.setItem("__test__",String.fromCharCode(55296)),xf=bt.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{xf=!1}As=xf?"binary_string":"binary_string_ie",n.isEncoding(As)||(As="base64");var Ti=function(){};Ti.prototype.name=function(){return Rs.Name},Ti.prototype.clear=function(){bt.localStorage.clear()},Ti.prototype.beginTransaction=function(c){return new Tn(this)},Ti.prototype.get=function(c){try{var u=bt.localStorage.getItem(c);if(u!==null)return n.from(u,As)}catch{}},Ti.prototype.put=function(c,u,l){try{return!(!l&&bt.localStorage.getItem(c)!==null||(bt.localStorage.setItem(c,u.toString(As)),0))}catch{throw new y(a.ENOSPC,"LocalStorage is full.")}},Ti.prototype.del=function(c){try{bt.localStorage.removeItem(c)}catch(u){throw new y(a.EIO,"Unable to delete key "+c+": "+u)}};var Rs=function(c){function u(){c.call(this,{store:new Ti})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u)},u.isAvailable=function(){return bt.localStorage!==void 0},u}(Ey);Rs.Name="LocalStorage",Rs.Options={};var vo=function(c){function u(){c.call(this),this.mountList=[],this.mntMap={},this.rootFs=new go}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u;Object.keys(l).forEach(function(v){p.mount(v,l[v])}),h(null,p)},u.isAvailable=function(){return!0},u.prototype.mount=function(l,h){if(l[0]!=="/"&&(l="/"+l),l=d.resolve(l),this.mntMap[l])throw new y(a.EINVAL,"Mount point "+l+" is already taken.");U(l,511,this.rootFs),this.mntMap[l]=h,this.mountList.push(l),this.mountList=this.mountList.sort(function(p,v){return v.length-p.length})},u.prototype.umount=function(l){if(l[0]!=="/"&&(l="/"+l),l=d.resolve(l),!this.mntMap[l])throw new y(a.EINVAL,"Mount point "+l+" is already unmounted.");for(delete this.mntMap[l],this.mountList.splice(this.mountList.indexOf(l),1);l!=="/"&&this.rootFs.readdirSync(l).length===0;)this.rootFs.rmdirSync(l),l=d.dirname(l)},u.prototype._getFs=function(l){for(var h=this.mountList,p=h.length,v=0;v<p;v++){var w=h[v];if(w.length<=l.length&&l.indexOf(w)===0)return(l=l.substr(w.length>1?w.length:0))===""&&(l="/"),{fs:this.mntMap[w],path:l}}return{fs:this.rootFs,path:l}},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(l,h){h(0,0)},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.standardizeError=function(l,h,p){var v=l.message.indexOf(h);return v!==-1&&(l.message=l.message.substr(0,v)+p+l.message.substr(v+h.length),l.path=p),l},u.prototype.rename=function(l,h,p){var v=this,w=this._getFs(l),k=this._getFs(h);return w.fs===k.fs?w.fs.rename(w.path,k.path,function(L){L&&v.standardizeError(v.standardizeError(L,w.path,l),k.path,h),p(L)}):te.readFile(l,function(L,W){if(L)return p(L);te.writeFile(h,W,function(Q){if(Q)return p(Q);te.unlink(l,p)})})},u.prototype.renameSync=function(l,h){var p=this._getFs(l),v=this._getFs(h);if(p.fs===v.fs)try{return p.fs.renameSync(p.path,v.path)}catch(k){throw this.standardizeError(this.standardizeError(k,p.path,l),v.path,h),k}var w=te.readFileSync(l);return te.writeFileSync(h,w),te.unlinkSync(l)},u.prototype.readdirSync=function(l){var h=this._getFs(l),p=null;if(h.fs!==this.rootFs)try{p=this.rootFs.readdirSync(l)}catch{}try{var v=h.fs.readdirSync(h.path);return p===null?v:v.concat(p.filter(function(w){return v.indexOf(w)===-1}))}catch(w){if(p===null)throw this.standardizeError(w,h.path,l);return p}},u.prototype.readdir=function(l,h){var p=this,v=this._getFs(l);v.fs.readdir(v.path,function(w,k){if(v.fs!==p.rootFs)try{var L=p.rootFs.readdirSync(l);k=k?k.concat(L.filter(function(W){return k.indexOf(W)===-1})):L}catch{if(w)return h(p.standardizeError(w,v.path,l))}else if(w)return h(p.standardizeError(w,v.path,l));h(null,k)})},u.prototype.rmdirSync=function(l){var h=this._getFs(l);if(this._containsMountPt(l))throw y.ENOTEMPTY(l);try{h.fs.rmdirSync(h.path)}catch(p){throw this.standardizeError(p,h.path,l)}},u.prototype.rmdir=function(l,h){var p=this,v=this._getFs(l);this._containsMountPt(l)?h(y.ENOTEMPTY(l)):v.fs.rmdir(v.path,function(w){h(w?p.standardizeError(w,v.path,l):null)})},u.prototype._containsMountPt=function(l){for(var h=this.mountList,p=h.length,v=0;v<p;v++){var w=h[v];if(w.length>=l.length&&w.slice(0,l.length)===l)return!0}return!1},u}(Y);function Oy(c,u,l){return u?function(){for(var h=[],p=arguments.length;p--;)h[p]=arguments[p];var v=h[0],w=this._getFs(v);h[0]=w.path;try{return w.fs[c].apply(w.fs,h)}catch(k){throw this.standardizeError(k,w.path,v),k}}:function(){for(var h=this,p=[],v=arguments.length;v--;)p[v]=arguments[v];var w=p[0],k=this._getFs(w);if(p[0]=k.path,typeof p[p.length-1]=="function"){var L=p[p.length-1];p[p.length-1]=function(){for(var W=[],Q=arguments.length;Q--;)W[Q]=arguments[Q];W.length>0&&W[0]instanceof y&&h.standardizeError(W[0],k.path,w),L.apply(null,W)}}return k.fs[c].apply(k.fs,p)}}vo.Name="MountableFileSystem",vo.Options={};for(var Ds,xy=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Tf=0;Tf<xy.length;Tf++)for(var Nf=0,Ty=xy[Tf];Nf<Ty.length;Nf+=1){var gl=Ty[Nf];vo.prototype[gl]=Oy(gl,!1),vo.prototype[gl+"Sync"]=Oy(gl+"Sync",!0)}if(typeof setImmediate<"u")Ds=setImmediate;else{var Fr=bt,wo=[],Ny="zero-timeout-message";if(function(){if(Fr.importScripts!==void 0||!Fr.postMessage)return!1;var c=!0,u=Fr.onmessage;return Fr.onmessage=function(){c=!1},Fr.postMessage("","*"),Fr.onmessage=u,c}()){Ds=function(c){wo.push(c),Fr.postMessage(Ny,"*")};var ky=function(c){if(c.source===self&&c.data===Ny&&(c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,wo.length>0))return wo.shift()()};Fr.addEventListener?Fr.addEventListener("message",ky,!0):Fr.attachEvent("onmessage",ky)}else if(Fr.MessageChannel){var Iy=new Fr.MessageChannel;Iy.port1.onmessage=function(c){if(wo.length>0)return wo.shift()()},Ds=function(c){wo.push(c),Iy.port2.postMessage("")}}else Ds=function(c){return setTimeout(c,0)}}var kf=Ds,Cs=function(){this._locked=!1,this._waiters=[]};Cs.prototype.lock=function(c){this._locked?this._waiters.push(c):(this._locked=!0,c())},Cs.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var c=this._waiters.shift();c?kf(c):this._locked=!1},Cs.prototype.tryLock=function(){return!this._locked&&(this._locked=!0,!0)},Cs.prototype.isLocked=function(){return this._locked};var ke=function(c){this._fs=c,this._mu=new Cs};ke.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},ke.prototype.getFSUnlocked=function(){return this._fs},ke.prototype.initialize=function(c){this._fs.initialize(c)},ke.prototype.diskSpace=function(c,u){this._fs.diskSpace(c,u)},ke.prototype.isReadOnly=function(){return this._fs.isReadOnly()},ke.prototype.supportsLinks=function(){return this._fs.supportsLinks()},ke.prototype.supportsProps=function(){return this._fs.supportsProps()},ke.prototype.supportsSynch=function(){return this._fs.supportsSynch()},ke.prototype.rename=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.rename(c,u,function(p){h._mu.unlock(),l(p)})})},ke.prototype.renameSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(c,u)},ke.prototype.stat=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.stat(c,u,function(p,v){h._mu.unlock(),l(p,v)})})},ke.prototype.statSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(c,u)},ke.prototype.open=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.open(c,u,l,function(v,w){p._mu.unlock(),h(v,w)})})},ke.prototype.openSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(c,u,l)},ke.prototype.unlink=function(c,u){var l=this;this._mu.lock(function(){l._fs.unlink(c,function(h){l._mu.unlock(),u(h)})})},ke.prototype.unlinkSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(c)},ke.prototype.rmdir=function(c,u){var l=this;this._mu.lock(function(){l._fs.rmdir(c,function(h){l._mu.unlock(),u(h)})})},ke.prototype.rmdirSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(c)},ke.prototype.mkdir=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.mkdir(c,u,function(p){h._mu.unlock(),l(p)})})},ke.prototype.mkdirSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(c,u)},ke.prototype.readdir=function(c,u){var l=this;this._mu.lock(function(){l._fs.readdir(c,function(h,p){l._mu.unlock(),u(h,p)})})},ke.prototype.readdirSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(c)},ke.prototype.exists=function(c,u){var l=this;this._mu.lock(function(){l._fs.exists(c,function(h){l._mu.unlock(),u(h)})})},ke.prototype.existsSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(c)},ke.prototype.realpath=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.realpath(c,u,function(p,v){h._mu.unlock(),l(p,v)})})},ke.prototype.realpathSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(c,u)},ke.prototype.truncate=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.truncate(c,u,function(p){h._mu.unlock(),l(p)})})},ke.prototype.truncateSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(c,u)},ke.prototype.readFile=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.readFile(c,u,l,function(v,w){p._mu.unlock(),h(v,w)})})},ke.prototype.readFileSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(c,u,l)},ke.prototype.writeFile=function(c,u,l,h,p,v){var w=this;this._mu.lock(function(){w._fs.writeFile(c,u,l,h,p,function(k){w._mu.unlock(),v(k)})})},ke.prototype.writeFileSync=function(c,u,l,h,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(c,u,l,h,p)},ke.prototype.appendFile=function(c,u,l,h,p,v){var w=this;this._mu.lock(function(){w._fs.appendFile(c,u,l,h,p,function(k){w._mu.unlock(),v(k)})})},ke.prototype.appendFileSync=function(c,u,l,h,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(c,u,l,h,p)},ke.prototype.chmod=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.chmod(c,u,l,function(v){p._mu.unlock(),h(v)})})},ke.prototype.chmodSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(c,u,l)},ke.prototype.chown=function(c,u,l,h,p){var v=this;this._mu.lock(function(){v._fs.chown(c,u,l,h,function(w){v._mu.unlock(),p(w)})})},ke.prototype.chownSync=function(c,u,l,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(c,u,l,h)},ke.prototype.utimes=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.utimes(c,u,l,function(v){p._mu.unlock(),h(v)})})},ke.prototype.utimesSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(c,u,l)},ke.prototype.link=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.link(c,u,function(p){h._mu.unlock(),l(p)})})},ke.prototype.linkSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(c,u)},ke.prototype.symlink=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.symlink(c,u,l,function(v){p._mu.unlock(),h(v)})})},ke.prototype.symlinkSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(c,u,l)},ke.prototype.readlink=function(c,u){var l=this;this._mu.lock(function(){l._fs.readlink(c,function(h,p){l._mu.unlock(),u(h,p)})})},ke.prototype.readlinkSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(c)};var Nn="/.deletedFiles.log";function Ay(c){return 146|c}function br(c){return A.getFileFlag(c)}var ot,Ry=function(c){function u(l,h,p,v,w){c.call(this,l,h,p,v,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;this.isDirty()?this._fs._syncAsync(this,function(p){h.resetDirty(),l(p)}):l(null)},u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.close=function(l){this.sync(l)},u.prototype.closeSync=function(){this.syncSync()},u}(E),Dy=function(c){function u(l,h){if(c.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=l,this._readable=h,this._writable.isReadOnly())throw new y(a.EINVAL,"Writable file system must be writable.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},u.prototype._syncAsync=function(l,h){var p=this;this.createParentDirectoriesAsync(l.getPath(),function(v){if(v)return h(v);p._writable.writeFile(l.getPath(),l.getBuffer(),null,br("w"),l.getStats().mode,h)})},u.prototype._syncSync=function(l){this.createParentDirectories(l.getPath()),this._writable.writeFileSync(l.getPath(),l.getBuffer(),null,br("w"),l.getStats().mode)},u.prototype.getName=function(){return Fs.Name},u.prototype.initialize=function(l){var h=this,p=this._initializeCallbacks,v=function(w){h._isInitialized=!w,h._initializeCallbacks=[],p.forEach(function(k){return k(w)})};if(this._isInitialized)return l();p.push(l),p.length===1&&this._writable.readFile(Nn,"utf8",br("r"),function(w,k){if(w){if(w.errno!==a.ENOENT)return v(w)}else h._deleteLog=k;h._reparseDeletionLog(),v()})},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},u.prototype.getDeletionLog=function(){return this._deleteLog},u.prototype.restoreDeletionLog=function(l){this._deleteLog=l,this._reparseDeletionLog(),this.updateLog("")},u.prototype.rename=function(l,h,p){var v=this;if(this.checkInitAsync(p)&&!this.checkPathAsync(l,p)&&!this.checkPathAsync(h,p))return l===Nn||h===Nn?p(y.EPERM("Cannot rename deletion log.")):l===h?p():void this.stat(l,!1,function(w,k){return w?p(w):v.stat(h,!1,function(L,W){var Q=v;function ce(ge){var ve=ge.shift();if(!ve)return p();var Ne=d.resolve(l,ve),Be=d.resolve(h,ve);Q.rename(Ne,Be,function(xt){if(xt)return p(xt);ce(ge)})}var de=511;if(k.isDirectory()){if(L)return L.errno!==a.ENOENT?p(L):v._writable.exists(l,function(ge){if(ge)return v._writable.rename(l,h,p);v._writable.mkdir(h,de,function(ve){if(ve)return p(ve);v._readable.readdir(l,function(Ne,Be){if(Ne)return p();ce(Be)})})});if(de=W.mode,!W.isDirectory())return p(y.ENOTDIR(h));v.readdir(h,function(ge,ve){if(ve&&ve.length)return p(y.ENOTEMPTY(h));v._readable.readdir(l,function(Ne,Be){if(Ne)return p();ce(Be)})})}if(W&&W.isDirectory())return p(y.EISDIR(h));v.readFile(l,null,br("r"),function(ge,ve){return ge?p(ge):v.writeFile(h,ve,null,br("w"),k.mode,function(Ne){return Ne?p(Ne):v.unlink(l,p)})})})})},u.prototype.renameSync=function(l,h){var p=this;if(this.checkInitialized(),this.checkPath(l),this.checkPath(h),l===Nn||h===Nn)throw y.EPERM("Cannot rename deletion log.");var v=this.statSync(l,!1);if(v.isDirectory()){if(l===h)return;var w=511;if(this.existsSync(h)){var k=this.statSync(h,!1);if(w=k.mode,!k.isDirectory())throw y.ENOTDIR(h);if(this.readdirSync(h).length>0)throw y.ENOTEMPTY(h)}this._writable.existsSync(l)?this._writable.renameSync(l,h):this._writable.existsSync(h)||this._writable.mkdirSync(h,w),this._readable.existsSync(l)&&this._readable.readdirSync(l).forEach(function(L){p.renameSync(d.resolve(l,L),d.resolve(h,L))})}else{if(this.existsSync(h)&&this.statSync(h,!1).isDirectory())throw y.EISDIR(h);this.writeFileSync(h,this.readFileSync(l,null,br("r")),null,br("w"),v.mode)}l!==h&&this.existsSync(l)&&this.unlinkSync(l)},u.prototype.stat=function(l,h,p){var v=this;this.checkInitAsync(p)&&this._writable.stat(l,h,function(w,k){w&&w.errno===a.ENOENT?(v._deletedFiles[l]&&p(y.ENOENT(l)),v._readable.stat(l,h,function(L,W){W&&((W=W.clone()).mode=Ay(W.mode)),p(L,W)})):p(w,k)})},u.prototype.statSync=function(l,h){this.checkInitialized();try{return this._writable.statSync(l,h)}catch{if(this._deletedFiles[l])throw y.ENOENT(l);var p=this._readable.statSync(l,h).clone();return p.mode=Ay(p.mode),p}},u.prototype.open=function(l,h,p,v){var w=this;this.checkInitAsync(v)&&!this.checkPathAsync(l,v)&&this.stat(l,!1,function(k,L){if(!L)return h.pathNotExistsAction()===g.CREATE_FILE?w.createParentDirectoriesAsync(l,function(W){return W?v(W):w._writable.open(l,h,p,v)}):v(y.ENOENT(l));switch(h.pathExistsAction()){case g.TRUNCATE_FILE:return w.createParentDirectoriesAsync(l,function(W){if(W)return v(W);w._writable.open(l,h,p,v)});case g.NOP:return w._writable.exists(l,function(W){W?w._writable.open(l,h,p,v):((L=L.clone()).mode=p,w._readable.readFile(l,null,br("r"),function(Q,ce){if(Q)return v(Q);L.size===-1&&(L.size=ce.length);var de=new Ry(w,l,h,L,ce);v(null,de)}))});default:return v(y.EEXIST(l))}})},u.prototype.openSync=function(l,h,p){if(this.checkInitialized(),this.checkPath(l),l===Nn)throw y.EPERM("Cannot open deletion log.");if(!this.existsSync(l)){if(h.pathNotExistsAction()===g.CREATE_FILE)return this.createParentDirectories(l),this._writable.openSync(l,h,p);throw y.ENOENT(l)}switch(h.pathExistsAction()){case g.TRUNCATE_FILE:return this.createParentDirectories(l),this._writable.openSync(l,h,p);case g.NOP:if(this._writable.existsSync(l))return this._writable.openSync(l,h,p);var v=this._readable.readFileSync(l,null,br("r")),w=this._readable.statSync(l,!1).clone();return w.mode=p,new Ry(this,l,h,w,v);default:throw y.EEXIST(l)}},u.prototype.unlink=function(l,h){var p=this;this.checkInitAsync(h)&&!this.checkPathAsync(l,h)&&this.exists(l,function(v){if(!v)return h(y.ENOENT(l));p._writable.exists(l,function(w){if(w)return p._writable.unlink(l,function(k){if(k)return h(k);p.exists(l,function(L){L&&p.deletePath(l),h(null)})});p.deletePath(l),h(null)})})},u.prototype.unlinkSync=function(l){if(this.checkInitialized(),this.checkPath(l),!this.existsSync(l))throw y.ENOENT(l);this._writable.existsSync(l)&&this._writable.unlinkSync(l),this.existsSync(l)&&this.deletePath(l)},u.prototype.rmdir=function(l,h){var p=this;if(this.checkInitAsync(h)){var v=function(){p.readdir(l,function(w,k){return w?h(w):k.length?h(y.ENOTEMPTY(l)):(p.deletePath(l),void h(null))})};this.exists(l,function(w){if(!w)return h(y.ENOENT(l));p._writable.exists(l,function(k){k?p._writable.rmdir(l,function(L){if(L)return h(L);p._readable.exists(l,function(W){W?v():h()})}):v()})})}},u.prototype.rmdirSync=function(l){if(this.checkInitialized(),!this.existsSync(l))throw y.ENOENT(l);if(this._writable.existsSync(l)&&this._writable.rmdirSync(l),this.existsSync(l)){if(this.readdirSync(l).length>0)throw y.ENOTEMPTY(l);this.deletePath(l)}},u.prototype.mkdir=function(l,h,p){var v=this;this.checkInitAsync(p)&&this.exists(l,function(w){if(w)return p(y.EEXIST(l));v.createParentDirectoriesAsync(l,function(k){if(k)return p(k);v._writable.mkdir(l,h,p)})})},u.prototype.mkdirSync=function(l,h){if(this.checkInitialized(),this.existsSync(l))throw y.EEXIST(l);this.createParentDirectories(l),this._writable.mkdirSync(l,h)},u.prototype.readdir=function(l,h){var p=this;this.checkInitAsync(h)&&this.stat(l,!1,function(v,w){return v?h(v):w.isDirectory()?void p._writable.readdir(l,function(k,L){if(k&&k.code!=="ENOENT")return h(k);!k&&L||(L=[]),p._readable.readdir(l,function(W,Q){!W&&Q||(Q=[]);var ce={},de=L.concat(Q.filter(function(ge){return!p._deletedFiles[l+"/"+ge]})).filter(function(ge){var ve=!ce[ge];return ce[ge]=!0,ve});h(null,de)})}):h(y.ENOTDIR(l))})},u.prototype.readdirSync=function(l){var h=this;if(this.checkInitialized(),!this.statSync(l,!1).isDirectory())throw y.ENOTDIR(l);var p=[];try{p=p.concat(this._writable.readdirSync(l))}catch{}try{p=p.concat(this._readable.readdirSync(l).filter(function(w){return!h._deletedFiles[l+"/"+w]}))}catch{}var v={};return p.filter(function(w){var k=!v[w];return v[w]=!0,k})},u.prototype.exists=function(l,h){var p=this;this.checkInitialized(),this._writable.exists(l,function(v){if(v)return h(!0);p._readable.exists(l,function(w){h(w&&p._deletedFiles[l]!==!0)})})},u.prototype.existsSync=function(l){return this.checkInitialized(),this._writable.existsSync(l)||this._readable.existsSync(l)&&this._deletedFiles[l]!==!0},u.prototype.chmod=function(l,h,p,v){var w=this;this.checkInitAsync(v)&&this.operateOnWritableAsync(l,function(k){if(k)return v(k);w._writable.chmod(l,h,p,v)})},u.prototype.chmodSync=function(l,h,p){var v=this;this.checkInitialized(),this.operateOnWritable(l,function(){v._writable.chmodSync(l,h,p)})},u.prototype.chown=function(l,h,p,v,w){var k=this;this.checkInitAsync(w)&&this.operateOnWritableAsync(l,function(L){if(L)return w(L);k._writable.chown(l,h,p,v,w)})},u.prototype.chownSync=function(l,h,p,v){var w=this;this.checkInitialized(),this.operateOnWritable(l,function(){w._writable.chownSync(l,h,p,v)})},u.prototype.utimes=function(l,h,p,v){var w=this;this.checkInitAsync(v)&&this.operateOnWritableAsync(l,function(k){if(k)return v(k);w._writable.utimes(l,h,p,v)})},u.prototype.utimesSync=function(l,h,p){var v=this;this.checkInitialized(),this.operateOnWritable(l,function(){v._writable.utimesSync(l,h,p)})},u.prototype.deletePath=function(l){this._deletedFiles[l]=!0,this.updateLog("d"+l+`
`)},u.prototype.updateLog=function(l){var h=this;this._deleteLog+=l,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Nn,this._deleteLog,"utf8",A.getFileFlag("w"),420,function(p){h._deleteLogUpdatePending=!1,p?h._deleteLogError=p:h._deleteLogUpdateNeeded&&(h._deleteLogUpdateNeeded=!1,h.updateLog(""))}))},u.prototype._reparseDeletionLog=function(){var l=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(h){l._deletedFiles[h.slice(1)]=h.slice(0,1)==="d"})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new y(a.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(this._deleteLogError!==null){var l=this._deleteLogError;throw this._deleteLogError=null,l}},u.prototype.checkInitAsync=function(l){if(!this._isInitialized)return l(new y(a.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;if(this._deleteLogError!==null){var h=this._deleteLogError;return this._deleteLogError=null,l(h),!1}return!0},u.prototype.checkPath=function(l){if(l===Nn)throw y.EPERM(l)},u.prototype.checkPathAsync=function(l,h){return l===Nn&&(h(y.EPERM(l)),!0)},u.prototype.createParentDirectoriesAsync=function(l,h){var p=d.dirname(l),v=[],w=this;function k(){if(!v.length)return h();var L=v.pop();w._readable.stat(L,!1,function(W,Q){if(!Q)return h();w._writable.mkdir(L,Q.mode,function(ce){if(ce)return h(ce);k()})})}this._writable.stat(p,!1,function L(W,Q){W?(v.push(p),p=d.dirname(p),w._writable.stat(p,!1,L)):k()})},u.prototype.createParentDirectories=function(l){for(var h=this,p=d.dirname(l),v=[];!this._writable.existsSync(p);)v.push(p),p=d.dirname(p);(v=v.reverse()).forEach(function(w){h._writable.mkdirSync(w,h.statSync(w,!1).mode)})},u.prototype.operateOnWritable=function(l,h){if(!this.existsSync(l))throw y.ENOENT(l);this._writable.existsSync(l)||this.copyToWritable(l),h()},u.prototype.operateOnWritableAsync=function(l,h){var p=this;this.exists(l,function(v){if(!v)return h(y.ENOENT(l));p._writable.exists(l,function(w){if(!w)return p.copyToWritableAsync(l,h);h()})})},u.prototype.copyToWritable=function(l){var h=this.statSync(l,!1);h.isDirectory()?this._writable.mkdirSync(l,h.mode):this.writeFileSync(l,this._readable.readFileSync(l,null,br("r")),null,br("w"),this.statSync(l,!1).mode)},u.prototype.copyToWritableAsync=function(l,h){var p=this;this.stat(l,!1,function(v,w){return v?h(v):w.isDirectory()?p._writable.mkdir(l,w.mode,h):void p._readable.readFile(l,null,br("r"),function(k,L){if(k)return h(k);p.writeFile(l,L,null,br("w"),w.mode,h)})})},u}(Y),Fs=function(c){function u(l,h,p){p===void 0&&(p=!0),c.call(this,new Dy(l,h)),ye(p,u.Name,{readable:"readable file system",writable:"writable file system"})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{var p=new u(l.writable,l.readable,!1);p.initialize(function(v){h(v,p)},!1)}catch(v){h(v)}},u.isAvailable=function(){return Dy.isAvailable()},u.prototype.initialize=function(l,h){h===void 0&&(h=!0),h&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),c.prototype.initialize.call(this,l)},u.prototype.getOverlayedFileSystems=function(){return c.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},u.prototype.unwrap=function(){return c.prototype.getFSUnlocked.call(this)},u}(ke);Fs.Name="OverlayFS",Fs.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}},function(c){c[c.CB=0]="CB",c[c.FD=1]="FD",c[c.API_ERROR=2]="API_ERROR",c[c.STATS=3]="STATS",c[c.PROBE=4]="PROBE",c[c.FILEFLAG=5]="FILEFLAG",c[c.BUFFER=6]="BUFFER",c[c.ERROR=7]="ERROR"}(ot||(ot={}));var If=function(){this._callbacks={},this._nextId=0};If.prototype.toRemoteArg=function(c){var u=this._nextId++;return this._callbacks[u]=c,{type:ot.CB,id:u}},If.prototype.toLocalArg=function(c){var u=this._callbacks[c];return delete this._callbacks[c],u};var vl=function(){this._fileDescriptors={},this._nextId=0};function wl(c){return{type:ot.API_ERROR,errorData:Ni(c.writeToBuffer())}}function Cy(c){return y.fromBuffer(ki(c.errorData))}function Fy(c){return{type:ot.ERROR,name:c.name,message:c.message,stack:c.stack}}function Ly(c){var u=bt[c.name];typeof u!="function"&&(u=Error);var l=new u(c.message);return l.stack=c.stack,l}function Py(c){return{type:ot.STATS,statsData:Ni(c.toBuffer())}}function jy(c){return T.fromBuffer(ki(c.statsData))}function My(c){return{type:ot.FILEFLAG,flagStr:c.getFlagString()}}function By(c){return A.getFileFlag(c.flagStr)}function Ni(c){return z(c)}function ki(c){return re(c)}function Uy(c){return{type:ot.BUFFER,data:Ni(c)}}function zy(c){return ki(c.data)}vl.prototype.toRemoteArg=function(c,u,l,h){var p,v,w=this._nextId++;this._fileDescriptors[w]=c,c.stat(function(k,L){k?h(k):(v=Ni(L.toBuffer()),l.isReadable()?c.read(n.alloc(L.size),0,L.size,0,function(W,Q,ce){W?h(W):(p=Ni(ce),h(null,{type:ot.FD,id:w,data:p,stat:v,path:u,flag:l.getFlagString()}))}):h(null,{type:ot.FD,id:w,data:new ArrayBuffer(0),stat:v,path:u,flag:l.getFlagString()}))})},vl.prototype.applyFdAPIRequest=function(c,u){var l=this,h=c.args[0];this._applyFdChanges(h,function(p,v){p?u(p):v[c.method](function(w){c.method==="close"&&delete l._fileDescriptors[h.id],u(w)})})},vl.prototype._applyFdChanges=function(c,u){var l=this._fileDescriptors[c.id],h=ki(c.data),p=T.fromBuffer(ki(c.stat)),v=A.getFileFlag(c.flag);v.isWriteable()?l.write(h,0,h.length,v.isAppendable()?l.getPos():0,function(w){function k(){l.stat(function(L,W){L?u(L):W.mode!==p.mode?l.chmod(p.mode,function(Q){u(Q,l)}):u(L,l)})}w?u(w):v.isAppendable()?k():l.truncate(h.length,function(){k()})}):u(null,l)};var Vy=function(c){function u(l,h,p,v,w,k){c.call(this,l,h,p,v,k),this._remoteFdId=w}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getRemoteFdId=function(){return this._remoteFdId},u.prototype.toRemoteArg=function(){return{type:ot.FD,id:this._remoteFdId,data:Ni(this.getBuffer()),stat:Ni(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},u.prototype.sync=function(l){this._syncClose("sync",l)},u.prototype.close=function(l){this._syncClose("close",l)},u.prototype._syncClose=function(l,h){var p=this;this.isDirty()?this._fs.syncClose(l,this,function(v){v||p.resetDirty(),h(v)}):h()},u}(E),_l=function(c){function u(l,h){var p=this;h===void 0&&(h=!0),c.call(this),this._callbackConverter=new If,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=l,ye(h,u.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(v){var w,k=v.data;if((w=k)&&typeof w=="object"&&w.hasOwnProperty("browserfsMessage")&&w.browserfsMessage){var L,W=k.args,Q=new Array(W.length);for(L=0;L<Q.length;L++)Q[L]=p._argRemote2Local(W[L]);p._callbackConverter.toLocalArg(k.cbId).apply(null,Q)}})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u(l.worker,!1);p.initialize(function(){h(null,p)})},u.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},u.attachRemoteListener=function(l){var h=new vl;function p(w,k,L){typeof w=="object"?w instanceof T?L(null,Py(w)):w instanceof y?L(null,wl(w)):w instanceof F?L(null,h.toRemoteArg(w,k[0],k[1],L)):w instanceof A?L(null,My(w)):w instanceof n?L(null,Uy(w)):w instanceof Error?L(null,Fy(w)):L(null,w):L(null,w)}function v(w,k){if(!w)return w;if(typeof w=="object"){if(typeof w.type!="number")return w;var L=w;switch(L.type){case ot.CB:var W=w.id;return function(){var Q,ce,de=arguments,ge=new Array(arguments.length),ve=arguments.length;function Ne(Be){ve>0&&(ve=-1,ce={browserfsMessage:!0,cbId:W,args:[wl(Be)]},l.postMessage(ce))}for(Q=0;Q<arguments.length;Q++)(function(Be,xt){p(xt,k,function(Kr,xr){ge[Be]=xr,Kr?Ne(Kr):--ve==0&&(ce={browserfsMessage:!0,cbId:W,args:ge},l.postMessage(ce))})})(Q,de[Q]);arguments.length===0&&(ce={browserfsMessage:!0,cbId:W,args:ge},l.postMessage(ce))};case ot.API_ERROR:return Cy(L);case ot.STATS:return jy(L);case ot.FILEFLAG:return By(L);case ot.BUFFER:return zy(L);case ot.ERROR:return Ly(L);default:return w}}return w}l.addEventListener("message",function(w){var k,L,W=w.data;if((L=W)&&typeof L=="object"&&L.hasOwnProperty("browserfsMessage")&&L.browserfsMessage){var Q=W.args,ce=new Array(Q.length);switch(W.method){case"close":case"sync":k=Q[1],h.applyFdAPIRequest(W,function(ve){var Ne={browserfsMessage:!0,cbId:k.id,args:ve?[wl(ve)]:[]};l.postMessage(Ne)});break;case"probe":(function(){var ve=te.getRootFS(),Ne=Q[1],Be={type:ot.PROBE,isReadOnly:ve.isReadOnly(),supportsLinks:ve.supportsLinks(),supportsProps:ve.supportsProps()},xt={browserfsMessage:!0,cbId:Ne.id,args:[Be]};l.postMessage(xt)})();break;default:for(var de=0;de<Q.length;de++)ce[de]=v(Q[de],ce);var ge=te.getRootFS();ge[W.method].apply(ge,ce)}}})},u.prototype.getName=function(){return u.Name},u.prototype.initialize=function(l){var h=this;if(this._isInitialized)l();else{var p={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Ee()),this._callbackConverter.toRemoteArg(function(v){h._isInitialized=!0,h._isReadOnly=v.isReadOnly,h._supportLinks=v.supportsLinks,h._supportProps=v.supportsProps,l()})]};this._worker.postMessage(p)}},u.prototype.isReadOnly=function(){return this._isReadOnly},u.prototype.supportsSynch=function(){return!1},u.prototype.supportsLinks=function(){return this._supportLinks},u.prototype.supportsProps=function(){return this._supportProps},u.prototype.rename=function(l,h,p){this._rpc("rename",arguments)},u.prototype.stat=function(l,h,p){this._rpc("stat",arguments)},u.prototype.open=function(l,h,p,v){this._rpc("open",arguments)},u.prototype.unlink=function(l,h){this._rpc("unlink",arguments)},u.prototype.rmdir=function(l,h){this._rpc("rmdir",arguments)},u.prototype.mkdir=function(l,h,p){this._rpc("mkdir",arguments)},u.prototype.readdir=function(l,h){this._rpc("readdir",arguments)},u.prototype.exists=function(l,h){this._rpc("exists",arguments)},u.prototype.realpath=function(l,h,p){this._rpc("realpath",arguments)},u.prototype.truncate=function(l,h,p){this._rpc("truncate",arguments)},u.prototype.readFile=function(l,h,p,v){this._rpc("readFile",arguments)},u.prototype.writeFile=function(l,h,p,v,w,k){this._rpc("writeFile",arguments)},u.prototype.appendFile=function(l,h,p,v,w,k){this._rpc("appendFile",arguments)},u.prototype.chmod=function(l,h,p,v){this._rpc("chmod",arguments)},u.prototype.chown=function(l,h,p,v,w){this._rpc("chown",arguments)},u.prototype.utimes=function(l,h,p,v){this._rpc("utimes",arguments)},u.prototype.link=function(l,h,p){this._rpc("link",arguments)},u.prototype.symlink=function(l,h,p,v){this._rpc("symlink",arguments)},u.prototype.readlink=function(l,h){this._rpc("readlink",arguments)},u.prototype.syncClose=function(l,h,p){this._worker.postMessage({browserfsMessage:!0,method:l,args:[h.toRemoteArg(),this._callbackConverter.toRemoteArg(p)]})},u.prototype._argRemote2Local=function(l){if(!l)return l;if(typeof l=="object"){if(typeof l.type!="number")return l;var h=l;switch(h.type){case ot.API_ERROR:return Cy(h);case ot.FD:var p=h;return new Vy(this,p.path,A.getFileFlag(p.flag),T.fromBuffer(ki(p.stat)),p.id,ki(p.data));case ot.STATS:return jy(h);case ot.FILEFLAG:return By(h);case ot.BUFFER:return zy(h);case ot.ERROR:return Ly(h);default:return l}}return l},u.prototype._rpc=function(l,h){for(var p=new Array(h.length),v=0;v<h.length;v++)p[v]=this._argLocal2Remote(h[v]);var w={browserfsMessage:!0,method:l,args:p};this._worker.postMessage(w)},u.prototype._argLocal2Remote=function(l){if(!l)return l;switch(typeof l){case"object":return l instanceof T?Py(l):l instanceof y?wl(l):l instanceof Vy?l.toRemoteArg():l instanceof A?My(l):l instanceof n?Uy(l):l instanceof Error?Fy(l):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(l);default:return l}},u}(Y);function qy(c,u,l){var h=new XMLHttpRequest;h.open("HEAD",u,c),h.onreadystatechange=function(p){if(h.readyState===4){if(h.status!==200)return l(new y(h.status,"XHR HEAD error."));try{return l(null,parseInt(h.getResponseHeader("Content-Length")||"-1",10))}catch{return l(new y(a.EIO,"XHR HEAD error: Could not read content-length."))}}},h.send()}_l.Name="WorkerFS",_l.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(c,u){c.postMessage?u():u(new y(a.EINVAL,"option must be a Web Worker instance."))}}};var Wy=function(c,u,l){var h=new XMLHttpRequest;h.open("GET",c,!0);var p=!0;switch(u){case"buffer":h.responseType="arraybuffer";break;case"json":try{h.responseType="json",p=h.responseType==="json"}catch{p=!1}break;default:return l(new y(a.EINVAL,"Invalid download type: "+u))}h.onreadystatechange=function(v){if(h.readyState===4){if(h.status!==200)return l(new y(h.status,"XHR error."));switch(u){case"buffer":return l(null,h.response?n.from(h.response):Ee());case"json":return l(null,p?h.response:JSON.parse(h.responseText))}}},h.send()},bb=P&&typeof Blob<"u"?function(c,u){var l,h,p=new XMLHttpRequest;switch(p.open("GET",c,!1),u){case"buffer":p.responseType="arraybuffer";break;case"json":break;default:throw new y(a.EINVAL,"Invalid download type: "+u)}if(p.onreadystatechange=function(v){if(p.readyState===4)if(p.status===200)switch(u){case"buffer":l=n.from(p.response);break;case"json":l=JSON.parse(p.response)}else h=new y(p.status,"XHR error.")},p.send(),h)throw h;return l}:function(c,u){var l=new XMLHttpRequest;l.open("GET",c,!1);var h=null,p=null;if(l.overrideMimeType("text/plain; charset=x-user-defined"),l.onreadystatechange=function(v){if(l.readyState===4){if(l.status!==200)return void(p=new y(l.status,"XHR error."));switch(u){case"buffer":var w=l.responseText;h=n.alloc(w.length);for(var k=0;k<w.length;k++)h[k]=w.charCodeAt(k);return;case"json":return void(h=JSON.parse(l.responseText))}}},l.send(),p)throw p;return h},Lr=function(){this._index={},this.addPath("/",new lr)};Lr.fromListing=function(c){var u=new Lr,l=new lr;u._index["/"]=l;for(var h=[["",c,l]];h.length>0;){var p=void 0,v=h.pop(),w=v[0],k=v[1],L=v[2];for(var W in k)if(k.hasOwnProperty(W)){var Q=k[W],ce=w+"/"+W;Q?(u._index[ce]=p=new lr,h.push([ce,Q,p])):p=new _o(new T(N.FILE,-1,365)),L&&(L._ls[W]=p)}}return u},Lr.prototype.fileIterator=function(c){var u=this;for(var l in u._index)if(u._index.hasOwnProperty(l))for(var h=u._index[l],p=0,v=h.getListing();p<v.length;p+=1){var w=v[p],k=h.getItem(w);kn(k)&&c(k.getData())}},Lr.prototype.addPath=function(c,u){if(!u)throw new Error("Inode must be specified");if(c[0]!=="/")throw new Error("Path must be absolute, got: "+c);if(this._index.hasOwnProperty(c))return this._index[c]===u;var l=this._split_path(c),h=l[0],p=l[1],v=this._index[h];return!(v===void 0&&c!=="/"&&(v=new lr,!this.addPath(h,v))||c!=="/"&&!v.addItem(p,u)||(Un(u)&&(this._index[c]=u),0))},Lr.prototype.addPathFast=function(c,u){var l=c.lastIndexOf("/"),h=l===0?"/":c.substring(0,l),p=c.substring(l+1),v=this._index[h];return v===void 0&&(v=new lr,this.addPathFast(h,v)),!!v.addItem(p,u)&&(u.isDir()&&(this._index[c]=u),!0)},Lr.prototype.removePath=function(c){var u=this._split_path(c),l=u[0],h=u[1],p=this._index[l];if(p===void 0)return null;var v=p.remItem(h);if(v===null)return null;if(Un(v)){for(var w=0,k=v.getListing();w<k.length;w+=1){var L=k[w];this.removePath(c+"/"+L)}c!=="/"&&delete this._index[c]}return v},Lr.prototype.ls=function(c){var u=this._index[c];return u===void 0?null:u.getListing()},Lr.prototype.getInode=function(c){var u=this._split_path(c),l=u[0],h=u[1],p=this._index[l];return p===void 0?null:l===c?p:p.getItem(h)},Lr.prototype._split_path=function(c){var u=d.dirname(c);return[u,c.substr(u.length+(u==="/"?0:1))]};var _o=function(c){this.data=c};_o.prototype.isFile=function(){return!0},_o.prototype.isDir=function(){return!1},_o.prototype.getData=function(){return this.data},_o.prototype.setData=function(c){this.data=c};var lr=function(c){c===void 0&&(c=null),this.data=c,this._ls={}};function kn(c){return!!c&&c.isFile()}function Un(c){return!!c&&c.isDir()}lr.prototype.isFile=function(){return!1},lr.prototype.isDir=function(){return!0},lr.prototype.getData=function(){return this.data},lr.prototype.getStats=function(){return new T(N.DIRECTORY,4096,365)},lr.prototype.getListing=function(){return Object.keys(this._ls)},lr.prototype.getItem=function(c){var u=this._ls[c];return u||null},lr.prototype.addItem=function(c,u){return!(c in this._ls)&&(this._ls[c]=u,!0)},lr.prototype.remItem=function(c){var u=this._ls[c];return u===void 0?null:(delete this._ls[c],u)};var Sl=function(c){function u(l,h,p){h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),l||(l="index.json"),h.length>0&&h.charAt(h.length-1)!=="/"&&(h+="/"),this.prefixUrl=h;var v=null;if(typeof l=="string"){if(!(v=this._requestFileSync(l,"json")))throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else v=l;ye(p,u.Name,{index:typeof l=="string"?l:"file index as an object",baseUrl:h}),this._index=Lr.fromListing(v)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){l.index===void 0&&(l.index="index.json"),typeof l.index=="string"?u.FromURL(l.index,h,l.baseUrl,!1):h(null,new u(l.index,l.baseUrl,!1))},u.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},u.FromURL=function(l,h,p,v){p===void 0&&(p=l.slice(0,l.lastIndexOf("/")+1)),v===void 0&&(v=!0),v&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+l+'", baseUrl: "'+p+`" }, cb)' instead.`),Wy(l,"json",function(w,k){w?h(w):h(null,new u(k,p,!1))})},u.prototype.empty=function(){this._index.fileIterator(function(l){l.fileData=null})},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(l,h){h(0,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.preloadFile=function(l,h){var p=this._index.getInode(l);if(!kn(p))throw y.EISDIR(l);if(p===null)throw y.ENOENT(l);var v=p.getData();v.size=h.length,v.fileData=h},u.prototype.stat=function(l,h,p){var v,w=this._index.getInode(l);if(w===null)return p(y.ENOENT(l));kn(w)?(v=w.getData()).size<0?this._requestFileSizeAsync(l,function(k,L){if(k)return p(k);v.size=L,p(null,v.clone())}):p(null,v.clone()):Un(w)?(v=w.getStats(),p(null,v)):p(y.FileError(a.EINVAL,l))},u.prototype.statSync=function(l,h){var p,v=this._index.getInode(l);if(v===null)throw y.ENOENT(l);if(kn(v))(p=v.getData()).size<0&&(p.size=this._requestFileSizeSync(l));else{if(!Un(v))throw y.FileError(a.EINVAL,l);p=v.getStats()}return p},u.prototype.open=function(l,h,p,v){if(h.isWriteable())return v(new y(a.EPERM,l));var w=this,k=this._index.getInode(l);if(k===null)return v(y.ENOENT(l));if(!kn(k))return v(y.EISDIR(l));var L=k.getData();switch(h.pathExistsAction()){case g.THROW_EXCEPTION:case g.TRUNCATE_FILE:return v(y.EEXIST(l));case g.NOP:if(L.fileData)return v(null,new O(w,l,h,L.clone(),L.fileData));this._requestFileAsync(l,"buffer",function(W,Q){return W?v(W):(L.size=Q.length,L.fileData=Q,v(null,new O(w,l,h,L.clone(),Q)))});break;default:return v(new y(a.EINVAL,"Invalid FileMode object."))}},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var v=this._index.getInode(l);if(v===null)throw y.ENOENT(l);if(!kn(v))throw y.EISDIR(l);var w=v.getData();switch(h.pathExistsAction()){case g.THROW_EXCEPTION:case g.TRUNCATE_FILE:throw y.EEXIST(l);case g.NOP:if(w.fileData)return new O(this,l,h,w.clone(),w.fileData);var k=this._requestFileSync(l,"buffer");return w.size=k.length,w.fileData=k,new O(this,l,h,w.clone(),k);default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdir=function(l,h){try{h(null,this.readdirSync(l))}catch(p){h(p)}},u.prototype.readdirSync=function(l){var h=this._index.getInode(l);if(h===null)throw y.ENOENT(l);if(Un(h))return h.getListing();throw y.ENOTDIR(l)},u.prototype.readFile=function(l,h,p,v){var w=v;this.open(l,p,420,function(k,L){if(k)return v(k);v=function(Q,ce){L.close(function(de){return Q||(Q=de),w(Q,ce)})};var W=L.getBuffer();h===null?v(k,oe(W)):function(Q,ce,de){try{de(null,Q.toString(ce))}catch(ge){de(ge)}}(W,h,v)})},u.prototype.readFileSync=function(l,h,p){var v=this.openSync(l,p,420);try{var w=v.getBuffer();return h===null?oe(w):w.toString(h)}finally{v.closeSync()}},u.prototype.getXhrPath=function(l){return l.charAt(0)==="/"&&(l=l.slice(1)),this.prefixUrl+l},u.prototype._requestFileAsync=function(l,h,p){Wy(this.getXhrPath(l),h,p)},u.prototype._requestFileSync=function(l,h){return bb(this.getXhrPath(l),h)},u.prototype._requestFileSizeAsync=function(l,h){(function(p,v){qy(!0,p,v)})(this.getXhrPath(l),h)},u.prototype._requestFileSizeSync=function(l){return h=this.getXhrPath(l),p=-1,qy(!1,h,function(v,w){if(v)throw v;p=w}),p;var h,p},u}(Y);Sl.Name="XmlHttpRequest",Sl.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Ii=function(){};Ii.str2byte=function(c,u){for(var l=c.length>u.length?u.length:c.length,h=0;h<l;h++){var p=c.charCodeAt(h);if(p>127){var v=Ii.extendedChars.indexOf(c.charAt(h));v>-1&&(p=v+128)}u[p]=h}return l},Ii.byte2str=function(c){for(var u=new Array(c.length),l=0;l<c.length;l++){var h=c[l];u[l]=h>127?Ii.extendedChars[h-128]:String.fromCharCode(h)}return u.join("")},Ii.byteLength=function(c){return c.length},Ii.extendedChars=["\xC7","\xFC","\xE9","\xE2","\xE4","\xE0","\xE5","\xE7","\xEA","\xEB","\xE8","\xEF","\xEE","\xEC","\xC4","\xC5","\xC9","\xE6","\xC6","\xF4","\xF6","\xF2","\xFB","\xF9","\xFF","\xD6","\xDC","\xF8","\xA3","\xD8","\xD7","\u0192","\xE1","\xED","\xF3","\xFA","\xF1","\xD1","\xAA","\xBA","\xBF","\xAE","\xAC","\xBD","\xBC","\xA1","\xAB","\xBB","_","_","_","\xA6","\xA6","\xC1","\xC2","\xC0","\xA9","\xA6","\xA6","+","+","\xA2","\xA5","+","+","-","-","+","-","+","\xE3","\xC3","+","+","-","-","\xA6","-","+","\xA4","\xF0","\xD0","\xCA","\xCB","\xC8","i","\xCD","\xCE","\xCF","+","+","_","_","\xA6","\xCC","_","\xD3","\xDF","\xD4","\xD2","\xF5","\xD5","\xB5","\xFE","\xDE","\xDA","\xDB","\xD9","\xFD","\xDD","\xAF","\xB4","\xAD","\xB1","_","\xBE","\xB6","\xA7","\xF7","\xB8","\xB0","\xA8","\xB7","\xB9","\xB3","\xB2","_"," "];var $y,So,Ob=r(31).inflateRaw,Hy={};function Jy(c,u){return new Date(1980+(u>>9),(u>>5&15)-1,31&u,c>>11,c>>5&63,31&c)}function El(c,u,l,h){return h===0?"":u?c.toString("utf8",l,l+h):Ii.byte2str(c.slice(l,l+h))}(function(c){c[c.MSDOS=0]="MSDOS",c[c.AMIGA=1]="AMIGA",c[c.OPENVMS=2]="OPENVMS",c[c.UNIX=3]="UNIX",c[c.VM_CMS=4]="VM_CMS",c[c.ATARI_ST=5]="ATARI_ST",c[c.OS2_HPFS=6]="OS2_HPFS",c[c.MAC=7]="MAC",c[c.Z_SYSTEM=8]="Z_SYSTEM",c[c.CP_M=9]="CP_M",c[c.NTFS=10]="NTFS",c[c.MVS=11]="MVS",c[c.VSE=12]="VSE",c[c.ACORN_RISC=13]="ACORN_RISC",c[c.VFAT=14]="VFAT",c[c.ALT_MVS=15]="ALT_MVS",c[c.BEOS=16]="BEOS",c[c.TANDEM=17]="TANDEM",c[c.OS_400=18]="OS_400",c[c.OSX=19]="OSX"})($y||($y={})),function(c){c[c.STORED=0]="STORED",c[c.SHRUNK=1]="SHRUNK",c[c.REDUCED_1=2]="REDUCED_1",c[c.REDUCED_2=3]="REDUCED_2",c[c.REDUCED_3=4]="REDUCED_3",c[c.REDUCED_4=5]="REDUCED_4",c[c.IMPLODE=6]="IMPLODE",c[c.DEFLATE=8]="DEFLATE",c[c.DEFLATE64=9]="DEFLATE64",c[c.TERSE_OLD=10]="TERSE_OLD",c[c.BZIP2=12]="BZIP2",c[c.LZMA=14]="LZMA",c[c.TERSE_NEW=18]="TERSE_NEW",c[c.LZ77=19]="LZ77",c[c.WAVPACK=97]="WAVPACK",c[c.PPMD=98]="PPMD"}(So||(So={}));var Or=function(c){if(this.data=c,c.readUInt32LE(0)!==67324752)throw new y(a.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Or.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Or.prototype.flags=function(){return this.data.readUInt16LE(6)},Or.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Or.prototype.lastModFileTime=function(){return Jy(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Or.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Or.prototype.crc32=function(){return this.data.readUInt32LE(14)},Or.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Or.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Or.prototype.fileName=function(){return El(this.data,this.useUTF8(),30,this.fileNameLength())},Or.prototype.extraField=function(){var c=30+this.fileNameLength();return this.data.slice(c,c+this.extraFieldLength())},Or.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Or.prototype.useUTF8=function(){return(2048&this.flags())==2048};var Ls=function(c,u,l){this.header=c,this.record=u,this.data=l};Ls.prototype.decompress=function(){var c=this.header.compressionMethod(),u=Hy[c];if(u)return u(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var l=So[c];throw l||(l="Unknown: "+c),new y(a.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+l)},Ls.prototype.getHeader=function(){return this.header},Ls.prototype.getRecord=function(){return this.record},Ls.prototype.getRawData=function(){return this.data};var je=function(c,u){if(this.zipData=c,this.data=u,this.data.readUInt32LE(0)!==33639248)throw new y(a.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};je.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},je.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},je.prototype.flag=function(){return this.data.readUInt16LE(8)},je.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},je.prototype.lastModFileTime=function(){return Jy(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},je.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},je.prototype.crc32=function(){return this.data.readUInt32LE(16)},je.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},je.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},je.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},je.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},je.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},je.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},je.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},je.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},je.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},je.prototype.produceFilename=function(){return El(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},je.prototype.fileName=function(){return this._filename},je.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},je.prototype.extraField=function(){var c=44+this.fileNameLength();return this.data.slice(c,c+this.extraFieldLength())},je.prototype.fileComment=function(){var c=46+this.fileNameLength()+this.extraFieldLength();return El(this.data,this.useUTF8(),c,this.fileCommentLength())},je.prototype.rawFileComment=function(){var c=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(c,c+this.fileCommentLength())},je.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},je.prototype.isDirectory=function(){var c=this.fileName();return!!(16&this.externalAttributes())||c.charAt(c.length-1)==="/"},je.prototype.isFile=function(){return!this.isDirectory()},je.prototype.useUTF8=function(){return(2048&this.flag())==2048},je.prototype.isEncrypted=function(){return(1&this.flag())==1},je.prototype.getFileData=function(){var c=this.headerRelativeOffset(),u=new Or(this.zipData.slice(c));return new Ls(u,this,this.zipData.slice(c+u.totalSize()))},je.prototype.getData=function(){return this.getFileData().decompress()},je.prototype.getRawData=function(){return this.getFileData().getRawData()},je.prototype.getStats=function(){return new T(N.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var dn=function(c){if(this.data=c,this.data.readUInt32LE(0)!==101010256)throw new y(a.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};dn.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},dn.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},dn.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},dn.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},dn.prototype.cdSize=function(){return this.data.readUInt32LE(12)},dn.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},dn.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},dn.prototype.cdZipComment=function(){return El(this.data,!0,22,this.cdZipCommentLength())},dn.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Gy=function(c,u,l,h){this.index=c,this.directoryEntries=u,this.eocd=l,this.data=h},Ai=function(c){function u(l,h,p){h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),this.name=h,this._index=new Lr,this._directoryEntries=[],this._eocd=null,ye(p,u.Name,{zipData:"zip data as a Buffer",name:h}),l instanceof Gy?(this._index=l.index,this._directoryEntries=l.directoryEntries,this._eocd=l.eocd,this.data=l.data):(this.data=l,this.populateIndex())}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{u.computeIndex(l.zipData,function(p){var v=new u(p,l.name,!1);h(null,v)},!1)}catch(p){h(p)}},u.isAvailable=function(){return!0},u.RegisterDecompressionMethod=function(l,h){Hy[l]=h},u.computeIndex=function(l,h,p){p===void 0&&(p=!0),p&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var v=new Lr,w=u.getEOCD(l);if(w.diskNumber()!==w.cdDiskNumber())throw new y(a.EINVAL,"ZipFS does not support spanned zip files.");var k=w.cdOffset();if(k===4294967295)throw new y(a.EINVAL,"ZipFS does not support Zip64.");var L=k+w.cdSize();u.computeIndexResponsive(l,v,k,L,h,[],w)},u.getEOCD=function(l){for(var h=Math.min(65557,l.length-1),p=22;p<h;p++)if(l.readUInt32LE(l.length-p)===101010256)return new dn(l.slice(l.length-p));throw new y(a.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},u.addToIndex=function(l,h){var p=l.fileName();if(p.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");p.charAt(p.length-1)==="/"&&(p=p.substr(0,p.length-1)),l.isDirectory()?h.addPathFast("/"+p,new lr(l)):h.addPathFast("/"+p,new _o(l))},u.computeIndexResponsive=function(l,h,p,v,w,k,L){if(p<v){for(var W=0;W++<200&&p<v;){var Q=new je(l,l.slice(p));u.addToIndex(Q,h),p+=Q.totalSize(),k.push(Q)}kf(function(){u.computeIndexResponsive(l,h,p,v,w,k,L)})}else w(new Gy(h,k,L,l))},u.prototype.getName=function(){return u.Name+(this.name!==""?" "+this.name:"")},u.prototype.getCentralDirectoryEntry=function(l){var h=this._index.getInode(l);if(h===null)throw y.ENOENT(l);if(kn(h)||Un(h))return h.getData();throw y.EPERM("Invalid inode: "+h)},u.prototype.getCentralDirectoryEntryAt=function(l){var h=this._directoryEntries[l];if(!h)throw new RangeError("Invalid directory index: "+l+".");return h},u.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},u.prototype.getEndOfCentralDirectory=function(){return this._eocd},u.prototype.diskSpace=function(l,h){h(this.data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(l,h){var p,v=this._index.getInode(l);if(v===null)throw y.ENOENT(l);if(kn(v))p=v.getData().getStats();else{if(!Un(v))throw new y(a.EINVAL,"Invalid inode.");p=v.getStats()}return p},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var v=this._index.getInode(l);if(!v)throw y.ENOENT(l);if(!kn(v))throw y.EISDIR(l);var w=v.getData(),k=w.getStats();switch(h.pathExistsAction()){case g.THROW_EXCEPTION:case g.TRUNCATE_FILE:throw y.EEXIST(l);case g.NOP:return new O(this,l,h,k,w.getData());default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(l){var h=this._index.getInode(l);if(h){if(Un(h))return h.getListing();throw y.ENOTDIR(l)}throw y.ENOENT(l)},u.prototype.readFileSync=function(l,h,p){var v=this.openSync(l,p,420);try{var w=v.getBuffer();return h===null?oe(w):w.toString(h)}finally{v.closeSync()}},u.prototype.populateIndex=function(){var l=this,h=this._eocd=u.getEOCD(this.data);if(h.diskNumber()!==h.cdDiskNumber())throw new y(a.EINVAL,"ZipFS does not support spanned zip files.");var p=h.cdOffset();if(p===4294967295)throw new y(a.EINVAL,"ZipFS does not support Zip64.");for(var v=p+h.cdSize();p<v;){var w=new je(l.data,l.data.slice(p));p+=w.totalSize(),u.addToIndex(w,l._index),l._directoryEntries.push(w)}},u}(_e);function ur(c,u,l){return c.toString("ascii",u,u+l).trim()}function Af(c,u,l){if(l===1)return String.fromCharCode(c[u]);for(var h=Math.floor(l/2),p=new Array(h),v=0;v<h;v++){var w=u+(v<<1);p[v]=String.fromCharCode(c[w+1]|c[w]<<8)}return p.join("")}function pn(c,u){var l=parseInt(ur(c,u,4),10),h=parseInt(ur(c,u+4,2),10),p=parseInt(ur(c,u+6,2),10),v=parseInt(ur(c,u+8,2),10),w=parseInt(ur(c,u+10,2),10),k=parseInt(ur(c,u+12,2),10),L=parseInt(ur(c,u+14,2),10);return new Date(l,h,p,v,w,k,100*L)}function Ri(c,u){var l=c[u],h=c[u+1],p=c[u+2],v=c[u+3],w=c[u+4],k=c[u+5];return new Date(l,h-1,p,v,w,k)}function xb(c,u){var l=c.slice(u),h=new Ot(l);switch(h.signatureWord()){case 17221:return new Qy(l);case 20548:return new kb(l);case 21328:return new em(l);case 21332:return new tm(l);case 17746:return new rm(l);case 17747:return new Ib(l);case 20568:return new im(l);case 20558:return new Ab(l);case 21324:return new Rf(l);case 20045:return new om(l);case 17228:return new Df(l);case 20556:return new Rb(l);case 21061:return new sm(l);case 21574:return new am(l);case 21318:return new Db(l);case 21074:return new nm(l);default:return h}}function Yy(c,u,l,h){l-=4;for(var p=new Array;u<l;){var v=xb(c,u),w=v.length();if(w===0)return p;if(u+=w,v instanceof tm)break;v instanceof Qy?p=p.concat(v.getEntries(h)):p.push(v)}return p}Ai.Name="ZipFS",Ai.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:Ie},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Ai.CompressionMethod=So,Ai.RegisterDecompressionMethod(So.DEFLATE,function(c,u,l){return ue(Ob(c.slice(0,u),{chunkSize:l}))}),Ai.RegisterDecompressionMethod(So.STORED,function(c,u,l){return oe(c,0,l)});var Eo=function(c){this._data=c};Eo.prototype.type=function(){return this._data[0]},Eo.prototype.standardIdentifier=function(){return ur(this._data,1,5)},Eo.prototype.version=function(){return this._data[6]},Eo.prototype.data=function(){return this._data.slice(7,2048)};var Ky=function(c){function u(l){c.call(this,l),this._root=null}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.systemIdentifier=function(){return this._getString32(8)},u.prototype.volumeIdentifier=function(){return this._getString32(40)},u.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},u.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},u.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},u.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},u.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},u.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},u.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},u.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},u.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},u.prototype.rootDirectoryEntry=function(l){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(l)),this._root},u.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},u.prototype.publisherIdentifier=function(){return this._getString(318,128)},u.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},u.prototype.applicationIdentifier=function(){return this._getString(574,128)},u.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},u.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},u.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},u.prototype.volumeCreationDate=function(){return pn(this._data,813)},u.prototype.volumeModificationDate=function(){return pn(this._data,830)},u.prototype.volumeExpirationDate=function(){return pn(this._data,847)},u.prototype.volumeEffectiveDate=function(){return pn(this._data,864)},u.prototype.fileStructureVersion=function(){return this._data[881]},u.prototype.applicationUsed=function(){return this._data.slice(883,1395)},u.prototype.reserved=function(){return this._data.slice(1395,2048)},u.prototype._getString32=function(l){return this._getString(l,32)},u}(Eo),Tb=function(c){function u(l){if(c.call(this,l),this.type()!==1)throw new y(a.EIO,"Invalid primary volume descriptor.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"ISO9660"},u.prototype._constructRootDirectoryRecord=function(l){return new Zy(l,-1)},u.prototype._getString=function(l,h){return this._getString(l,h)},u}(Ky),Nb=function(c){function u(l){if(c.call(this,l),this.type()!==2)throw new y(a.EIO,"Invalid supplementary volume descriptor.");var h=this.escapeSequence(),p=h[2];if(h[0]!==37||h[1]!==47||p!==64&&p!==67&&p!==69)throw new y(a.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+h.toString())}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"Joliet"},u.prototype.escapeSequence=function(){return this._data.slice(88,120)},u.prototype._constructRootDirectoryRecord=function(l){return new Xy(l,-1)},u.prototype._getString=function(l,h){return Af(this._data,l,h)},u}(Ky),tt=function(c,u){this._suEntries=null,this._fileOrDir=null,this._data=c,this._rockRidgeOffset=u};tt.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},tt.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},tt.prototype.rootCheckForRockRidge=function(c){var u=this.getDirectory(c);this._rockRidgeOffset=u.getDotEntry(c)._getRockRidgeOffset(c),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},tt.prototype.length=function(){return this._data[0]},tt.prototype.extendedAttributeRecordLength=function(){return this._data[1]},tt.prototype.lba=function(){return 2048*this._data.readUInt32LE(2)},tt.prototype.dataLength=function(){return this._data.readUInt32LE(10)},tt.prototype.recordingDate=function(){return Ri(this._data,18)},tt.prototype.fileFlags=function(){return this._data[25]},tt.prototype.fileUnitSize=function(){return this._data[26]},tt.prototype.interleaveGapSize=function(){return this._data[27]},tt.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},tt.prototype.identifier=function(){return this._getString(33,this._data[32])},tt.prototype.fileName=function(c){if(this.hasRockRidge()){var u=this._rockRidgeFilename(c);if(u!==null)return u}var l=this.identifier();if(this.isDirectory(c))return l;var h=l.indexOf(";");return h===-1?l:l[h-1]==="."?l.slice(0,h-1):l.slice(0,h)},tt.prototype.isDirectory=function(c){var u=!!(2&this.fileFlags());return!u&&this.hasRockRidge()&&(u=this.getSUEntries(c).filter(function(l){return l instanceof Df}).length>0),u},tt.prototype.isSymlink=function(c){return this.hasRockRidge()&&this.getSUEntries(c).filter(function(u){return u instanceof Rf}).length>0},tt.prototype.getSymlinkPath=function(c){for(var u="",l=this.getSUEntries(c),h=this._getGetString(),p=0,v=l;p<v.length;p+=1){var w=v[p];if(w instanceof Rf){for(var k=0,L=w.componentRecords();k<L.length;k+=1){var W=L[k],Q=W.flags();2&Q?u+="./":4&Q?u+="../":8&Q?u+="/":(u+=W.content(h),1&Q||(u+="/"))}if(!w.continueFlag())break}}return u.length>1&&u[u.length-1]==="/"?u.slice(0,u.length-1):u},tt.prototype.getFile=function(c){if(this.isDirectory(c))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=c.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},tt.prototype.getDirectory=function(c){if(!this.isDirectory(c))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(c)),this._fileOrDir},tt.prototype.getSUEntries=function(c){return this._suEntries||this._constructSUEntries(c),this._suEntries},tt.prototype._rockRidgeFilename=function(c){var u=this.getSUEntries(c).filter(function(k){return k instanceof om});if(u.length===0||6&u[0].flags())return null;for(var l="",h=this._getGetString(),p=0,v=u;p<v.length;p+=1){var w=v[p];if(l+=w.name(h),!(1&w.flags()))break}return l},tt.prototype._constructSUEntries=function(c){var u=33+this._data[32];u%2==1&&u++,u+=this._rockRidgeOffset,this._suEntries=Yy(this._data,u,this.length(),c)},tt.prototype._getRockRidgeOffset=function(c){this._rockRidgeOffset=0;var u=this.getSUEntries(c);if(u.length>0){var l=u[0];if(l instanceof em&&l.checkBytesPass())for(var h=1;h<u.length;h++){var p=u[h];if(p instanceof nm||p instanceof rm&&p.extensionIdentifier()==="IEEE_P1282")return l.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Zy=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._getString=function(l,h){return ur(this._data,l,h)},u.prototype._constructDirectory=function(l){return new Cb(this,l)},u.prototype._getGetString=function(){return ur},u}(tt),Xy=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._getString=function(l,h){return Af(this._data,l,h)},u.prototype._constructDirectory=function(l){return new Fb(this,l)},u.prototype._getGetString=function(){return Af},u}(tt),Ot=function(c){this._data=c};Ot.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},Ot.prototype.signatureWordString=function(){return ur(this._data,0,2)},Ot.prototype.length=function(){return this._data[2]},Ot.prototype.suVersion=function(){return this._data[3]};var Qy=function(c){function u(l){c.call(this,l),this._entries=null}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},u.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},u.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},u.prototype.getEntries=function(l){if(!this._entries){var h=2048*this.continuationLba()+this.continuationLbaOffset();this._entries=Yy(l,h,this.continuationLength(),l)}return this._entries},u}(Ot),kb=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(Ot),em=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},u.prototype.bytesSkipped=function(){return this._data[6]},u}(Ot),tm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(Ot),rm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.identifierLength=function(){return this._data[4]},u.prototype.descriptorLength=function(){return this._data[5]},u.prototype.sourceLength=function(){return this._data[6]},u.prototype.extensionVersion=function(){return this._data[7]},u.prototype.extensionIdentifier=function(){return ur(this._data,8,this.identifierLength())},u.prototype.extensionDescriptor=function(){return ur(this._data,8+this.identifierLength(),this.descriptorLength())},u.prototype.extensionSource=function(){return ur(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},u}(Ot),Ib=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.extensionSequence=function(){return this._data[4]},u}(Ot),nm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(Ot),im=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.mode=function(){return this._data.readUInt32LE(4)},u.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},u.prototype.uid=function(){return this._data.readUInt32LE(20)},u.prototype.gid=function(){return this._data.readUInt32LE(28)},u.prototype.inode=function(){return this._data.readUInt32LE(36)},u}(Ot),Ab=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},u.prototype.devTLow=function(){return this._data.readUInt32LE(12)},u}(Ot),Rf=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.continueFlag=function(){return 1&this.flags()},u.prototype.componentRecords=function(){for(var l=new Array,h=5;h<this.length();){var p=new Ps(this._data.slice(h));l.push(p),h+=p.length()}return l},u}(Ot),Ps=function(c){this._data=c};Ps.prototype.flags=function(){return this._data[0]},Ps.prototype.length=function(){return 2+this.componentLength()},Ps.prototype.componentLength=function(){return this._data[1]},Ps.prototype.content=function(c){return c(this._data,2,this.componentLength())};var om=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.name=function(l){return l(this._data,5,this.length()-5)},u}(Ot),Df=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(Ot),Rb=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(Ot),sm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(Ot),am=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.creation=function(){return 1&this.flags()?this._longFormDates()?pn(this._data,5):Ri(this._data,5):null},u.prototype.modify=function(){if(2&this.flags()){var l=1&this.flags()?1:0;return this._longFormDates?pn(this._data,5+17*l):Ri(this._data,5+7*l)}return null},u.prototype.access=function(){if(4&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,this._longFormDates?pn(this._data,5+17*l):Ri(this._data,5+7*l)}return null},u.prototype.backup=function(){if(16&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,this._longFormDates?pn(this._data,5+17*l):Ri(this._data,5+7*l)}return null},u.prototype.expiration=function(){if(32&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,this._longFormDates?pn(this._data,5+17*l):Ri(this._data,5+7*l)}return null},u.prototype.effective=function(){if(64&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,l+=32&this.flags()?1:0,this._longFormDates?pn(this._data,5+17*l):Ri(this._data,5+7*l)}return null},u.prototype._longFormDates=function(){return!!this.flags()},u}(Ot),Db=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},u.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},u.prototype.tableDepth=function(){return this._data[20]},u}(Ot),js=function(c,u){var l=this;this._fileList=[],this._fileMap={},this._record=c;var h=c.lba(),p=h+c.dataLength();for(2&c.fileFlags()||(h=2048*c.getSUEntries(u).filter(function(k){return k instanceof Df})[0].childDirectoryLba(),p=1/0);h<p;)if(u[h]!==0){var v=l._constructDirectoryRecord(u.slice(h)),w=v.fileName(u);w!=="\0"&&w!==""?v.hasRockRidge()&&v.getSUEntries(u).filter(function(k){return k instanceof sm}).length!==0||(l._fileMap[w]=v,l._fileList.push(w)):p===1/0&&(p=h+v.dataLength()),h+=v.length()}else h++};js.prototype.getRecord=function(c){return this._fileMap[c]},js.prototype.getFileList=function(){return this._fileList},js.prototype.getDotEntry=function(c){return this._constructDirectoryRecord(c.slice(this._record.lba()))};var Cb=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(l){return new Zy(l,this._record.getRockRidgeOffset())},u}(js),Fb=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(l){return new Xy(l,this._record.getRockRidgeOffset())},u}(js),bl=function(c){function u(l,h,p){var v=this;h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),this._data=l,ye(p,u.Name,{data:"ISO data as a Buffer",name:h});for(var w=!1,k=32768,L=new Array;!w;){var W=l.slice(k);switch(new Eo(W).type()){case 1:L.push(new Tb(W));break;case 2:L.push(new Nb(W));break;case 255:w=!0}k+=2048}if(L.length===0)throw new y(a.EIO,"Unable to find a suitable volume descriptor.");L.forEach(function(Q){v._pvd&&v._pvd.type()===2||(v._pvd=Q)}),this._root=this._pvd.rootDirectoryEntry(l),this._name=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p,v;try{p=new u(l.data,l.name,!1)}catch(w){w=w}finally{h(void 0,p)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){var l="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(l+="-RockRidge"),l},u.prototype.diskSpace=function(l,h){h(this._data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(l,h){var p=this._getDirectoryRecord(l);if(p===null)throw y.ENOENT(l);return this._getStats(l,p)},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var v=this._getDirectoryRecord(l);if(!v)throw y.ENOENT(l);if(v.isSymlink(this._data))return this.openSync(d.resolve(l,v.getSymlinkPath(this._data)),h,p);if(v.isDirectory(this._data))throw y.EISDIR(l);var w=v.getFile(this._data),k=this._getStats(l,v);switch(h.pathExistsAction()){case g.THROW_EXCEPTION:case g.TRUNCATE_FILE:throw y.EEXIST(l);case g.NOP:return new O(this,l,h,k,w);default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(l){var h=this._getDirectoryRecord(l);if(h){if(h.isDirectory(this._data))return h.getDirectory(this._data).getFileList().slice(0);throw y.ENOTDIR(l)}throw y.ENOENT(l)},u.prototype.readFileSync=function(l,h,p){var v=this.openSync(l,p,420);try{var w=v.getBuffer();return h===null?oe(w):w.toString(h)}finally{v.closeSync()}},u.prototype._getDirectoryRecord=function(l){if(l==="/")return this._root;for(var h=l.split("/").slice(1),p=this._root,v=0,w=h;v<w.length;v+=1){var k=w[v];if(!p.isDirectory(this._data)||!(p=p.getDirectory(this._data).getRecord(k)))return null}return p},u.prototype._getStats=function(l,h){if(h.isSymlink(this._data)){var p=d.resolve(l,h.getSymlinkPath(this._data)),v=this._getDirectoryRecord(p);return v?this._getStats(p,v):null}var w=h.dataLength(),k=365,L=h.recordingDate(),W=L,Q=L,ce=L;if(h.hasRockRidge())for(var de=0,ge=h.getSUEntries(this._data);de<ge.length;de+=1){var ve=ge[de];if(ve instanceof im)k=ve.mode();else if(ve instanceof am){var Ne=ve.flags();4&Ne&&(W=ve.access()),2&Ne&&(Q=ve.modify()),1&Ne&&(ce=ve.creation())}}return k&=365,new T(h.isDirectory(this._data)?N.DIRECTORY:N.FILE,w,k,W,Q,ce)},u}(_e);bl.Name="IsoFS",bl.Options={data:{type:"object",description:"The ISO file in a buffer",validator:Ie}},[ee,hl,dl,mo,pl,go,Is,bl,Rs,vo,Fs,_l,Sl,Ai].forEach(function(c){var u=c.Create;c.Create=function(l,h){var p=typeof l=="function",v=p?l:h,w=p?{}:l;b(c,w,function(k){k?v(k):u.call(c,w,v)})}});var lm,Ol={AsyncMirror:ee,Dropbox:hl,Emscripten:dl,FolderAdapter:mo,HTML5FS:pl,InMemory:go,IndexedDB:Is,IsoFS:bl,LocalStorage:Rs,MountableFileSystem:vo,OverlayFS:Fs,WorkerFS:_l,XmlHttpRequest:Sl,ZipFS:Ai};function um(c){switch(c){case"fs":return te;case"path":return d;case"buffer":return f;case"process":return s;case"bfs_utils":return R;default:return Ol[c]}}function cm(c){return te.initialize(c)}function Cf(c,u){var l=c.fs;if(!l)return u(new y(a.EPERM,'Missing "fs" property on configuration object.'));var h=c.options,p=0,v=!1;function w(){if(!v){v=!0;var L=Ol[l];L?L.Create(h,u):u(new y(a.EPERM,"File system "+l+" is not available in BrowserFS."))}}if(h!==null&&typeof h=="object"){var k=!1;Object.keys(h).filter(function(L){return L!=="fs"}).forEach(function(L){var W=h[L];W!==null&&typeof W=="object"&&W.fs&&(p++,Cf(W,function(Q,ce){if(p--,Q){if(v)return;v=!0,u(Q)}else h[L]=ce,p===0&&k&&w()}))}),k=!0}p===0&&w()}s.initializeTTYs&&s.initializeTTYs(),"ab".substr(-1)!=="b"&&(String.prototype.substr=(lm=String.prototype.substr,function(c,u){return c<0&&(c=this.length+c),lm.call(this,c,u)})),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(c,u){return c===void 0&&(c=0),u===void 0&&(u=this.length),c<0&&(c=this.length+c)<0&&(c=0),u<0&&(u=this.length+u)<0&&(u=0),u<c&&(u=c),new Uint8Array(this.buffer,this.byteOffset+c,u-c)})),t.install=function(c){c.Buffer=n,c.process=s;var u=c.require?c.require:null;c.require=function(l){var h=um(l);return h||u.apply(null,Array.prototype.slice.call(arguments,0))}},t.registerFileSystem=function(c,u){Ol[c]=u},t.BFSRequire=um,t.initialize=cm,t.configure=function(c,u){Cf(c,function(l,h){h?(cm(h),u()):u(l)})},t.getFileSystem=Cf,t.EmscriptenFS=Z,t.FileSystem=Ol,t.Errors=S,t.setImmediate=kf}).call(t,r(1),function(){return this}(),r(5)(e),r(6))},function(e,t,r){e.exports=r(2).Buffer},function(e,t,r){(function(f){var i=r(3),o=r(4);t.Buffer=f,t.SlowBuffer=function(b){return+b!=b&&(b=0),f.alloc(+b)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function a(b){if(b>s)throw new RangeError("Invalid typed array length");var R=new Uint8Array(b);return R.__proto__=f.prototype,R}function f(b,R,j){if(typeof b=="number"){if(typeof R=="string")throw new Error("If encoding is specified then the first argument must be a string");return g(b)}return d(b,R,j)}function d(b,R,j){if(typeof b=="number")throw new TypeError('"value" argument must not be a number');return pe(b)?function($,Z,Y){if(Z<0||$.byteLength<Z)throw new RangeError("'offset' is out of bounds");if($.byteLength<Z+(Y||0))throw new RangeError("'length' is out of bounds");var _e;return(_e=Z===void 0&&Y===void 0?new Uint8Array($):Y===void 0?new Uint8Array($,Z):new Uint8Array($,Z,Y)).__proto__=f.prototype,_e}(b,R,j):typeof b=="string"?function($,Z){if(typeof Z=="string"&&Z!==""||(Z="utf8"),!f.isEncoding(Z))throw new TypeError('"encoding" must be a valid string encoding');var Y=0|N($,Z),_e=a(Y),F=_e.write($,Z);return F!==Y&&(_e=_e.slice(0,F)),_e}(b,R):function($){if(f.isBuffer($)){var Z=0|S($.length),Y=a(Z);return Y.length===0||$.copy(Y,0,0,Z),Y}if($){if(Ee($)||"length"in $)return typeof $.length!="number"||Ie($.length)?a(0):y($);if($.type==="Buffer"&&Array.isArray($.data))return y($.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(b)}function m(b){if(typeof b!="number")throw new TypeError('"size" argument must be a number');if(b<0)throw new RangeError('"size" argument must not be negative')}function g(b){return m(b),a(b<0?0:0|S(b))}function y(b){for(var R=b.length<0?0:0|S(b.length),j=a(R),$=0;$<R;$+=1)j[$]=255&b[$];return j}function S(b){if(b>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|b}function N(b,R){if(f.isBuffer(b))return b.length;if(Ee(b)||pe(b))return b.byteLength;typeof b!="string"&&(b=""+b);var j=b.length;if(j===0)return 0;for(var $=!1;;)switch(R){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":case void 0:return ie(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return re(b).length;default:if($)return ie(b).length;R=(""+R).toLowerCase(),$=!0}}function A(b,R,j){var $=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(R>>>=0))return"";for(b||(b="utf8");;)switch(b){case"hex":return ye(this,R,j);case"utf8":case"utf-8":return te(this,R,j);case"ascii":return le(this,R,j);case"latin1":case"binary":return se(this,R,j);case"base64":return q(this,R,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,R,j);default:if($)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),$=!0}}function T(b,R,j){var $=b[R];b[R]=b[j],b[j]=$}function I(b,R,j,$,Z){if(b.length===0)return-1;if(typeof j=="string"?($=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),Ie(j=+j)&&(j=Z?0:b.length-1),j<0&&(j=b.length+j),j>=b.length){if(Z)return-1;j=b.length-1}else if(j<0){if(!Z)return-1;j=0}if(typeof R=="string"&&(R=f.from(R,$)),f.isBuffer(R))return R.length===0?-1:C(b,R,j,$,Z);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(b,R,j):Uint8Array.prototype.lastIndexOf.call(b,R,j):C(b,[R],j,$,Z);throw new TypeError("val must be string, number or Buffer")}function C(b,R,j,$,Z){var Y,_e=1,F=b.length,E=R.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(b.length<2||R.length<2)return-1;_e=2,F/=2,E/=2,j/=2}function O(he,Ce){return _e===1?he[Ce]:he.readUInt16BE(Ce*_e)}if(Z){var B=-1;for(Y=j;Y<F;Y++)if(O(b,Y)===O(R,B===-1?0:Y-B)){if(B===-1&&(B=Y),Y-B+1===E)return B*_e}else B!==-1&&(Y-=Y-B),B=-1}else for(j+E>F&&(j=F-E),Y=j;Y>=0;Y--){for(var ee=!0,fe=0;fe<E;fe++)if(O(b,Y+fe)!==O(R,fe)){ee=!1;break}if(ee)return Y}return-1}function K(b,R,j,$){j=Number(j)||0;var Z=b.length-j;$?($=Number($))>Z&&($=Z):$=Z;var Y=R.length;if(Y%2!=0)throw new TypeError("Invalid hex string");$>Y/2&&($=Y/2);for(var _e=0;_e<$;++_e){var F=parseInt(R.substr(2*_e,2),16);if(Ie(F))return _e;b[j+_e]=F}return _e}function H(b,R,j,$){return oe(ie(R,b.length-j),b,j,$)}function J(b,R,j,$){return oe(function(Z){for(var Y=[],_e=0;_e<Z.length;++_e)Y.push(255&Z.charCodeAt(_e));return Y}(R),b,j,$)}function M(b,R,j,$){return J(b,R,j,$)}function V(b,R,j,$){return oe(re(R),b,j,$)}function _(b,R,j,$){return oe(function(Z,Y){for(var _e,F,E,O=[],B=0;B<Z.length&&!((Y-=2)<0);++B)F=(_e=Z.charCodeAt(B))>>8,E=_e%256,O.push(E),O.push(F);return O}(R,b.length-j),b,j,$)}function q(b,R,j){return R===0&&j===b.length?i.fromByteArray(b):i.fromByteArray(b.slice(R,j))}function te(b,R,j){j=Math.min(b.length,j);for(var $=[],Z=R;Z<j;){var Y,_e,F,E,O=b[Z],B=null,ee=O>239?4:O>223?3:O>191?2:1;if(Z+ee<=j)switch(ee){case 1:O<128&&(B=O);break;case 2:(192&(Y=b[Z+1]))==128&&(E=(31&O)<<6|63&Y)>127&&(B=E);break;case 3:Y=b[Z+1],_e=b[Z+2],(192&Y)==128&&(192&_e)==128&&(E=(15&O)<<12|(63&Y)<<6|63&_e)>2047&&(E<55296||E>57343)&&(B=E);break;case 4:Y=b[Z+1],_e=b[Z+2],F=b[Z+3],(192&Y)==128&&(192&_e)==128&&(192&F)==128&&(E=(15&O)<<18|(63&Y)<<12|(63&_e)<<6|63&F)>65535&&E<1114112&&(B=E)}B===null?(B=65533,ee=1):B>65535&&(B-=65536,$.push(B>>>10&1023|55296),B=56320|1023&B),$.push(B),Z+=ee}return function(fe){var he=fe.length;if(he<=X)return String.fromCharCode.apply(String,fe);for(var Ce="",Re=0;Re<he;)Ce+=String.fromCharCode.apply(String,fe.slice(Re,Re+=X));return Ce}($)}t.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=function(){try{var b=new Uint8Array(1);return b.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},b.foo()===42}catch{return!1}}(),f.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(b,R,j){return d(b,R,j)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(b,R,j){return function($,Z,Y){return m($),$<=0?a($):Z!==void 0?typeof Y=="string"?a($).fill(Z,Y):a($).fill(Z):a($)}(b,R,j)},f.allocUnsafe=function(b){return g(b)},f.allocUnsafeSlow=function(b){return g(b)},f.isBuffer=function(b){return b!=null&&b._isBuffer===!0},f.compare=function(b,R){if(!f.isBuffer(b)||!f.isBuffer(R))throw new TypeError("Arguments must be Buffers");if(b===R)return 0;for(var j=b.length,$=R.length,Z=0,Y=Math.min(j,$);Z<Y;++Z)if(b[Z]!==R[Z]){j=b[Z],$=R[Z];break}return j<$?-1:$<j?1:0},f.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(b,R){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return f.alloc(0);var j;if(R===void 0)for(R=0,j=0;j<b.length;++j)R+=b[j].length;var $=f.allocUnsafe(R),Z=0;for(j=0;j<b.length;++j){var Y=b[j];if(!f.isBuffer(Y))throw new TypeError('"list" argument must be an Array of Buffers');Y.copy($,Z),Z+=Y.length}return $},f.byteLength=N,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var b=this.length;if(b%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<b;R+=2)T(this,R,R+1);return this},f.prototype.swap32=function(){var b=this.length;if(b%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<b;R+=4)T(this,R,R+3),T(this,R+1,R+2);return this},f.prototype.swap64=function(){var b=this.length;if(b%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<b;R+=8)T(this,R,R+7),T(this,R+1,R+6),T(this,R+2,R+5),T(this,R+3,R+4);return this},f.prototype.toString=function(){var b=this.length;return b===0?"":arguments.length===0?te(this,0,b):A.apply(this,arguments)},f.prototype.equals=function(b){if(!f.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||f.compare(this,b)===0},f.prototype.inspect=function(){var b="",R=t.INSPECT_MAX_BYTES;return this.length>0&&(b=this.toString("hex",0,R).match(/.{2}/g).join(" "),this.length>R&&(b+=" ... ")),"<Buffer "+b+">"},f.prototype.compare=function(b,R,j,$,Z){if(!f.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(R===void 0&&(R=0),j===void 0&&(j=b?b.length:0),$===void 0&&($=0),Z===void 0&&(Z=this.length),R<0||j>b.length||$<0||Z>this.length)throw new RangeError("out of range index");if($>=Z&&R>=j)return 0;if($>=Z)return-1;if(R>=j)return 1;if(this===b)return 0;for(var Y=(Z>>>=0)-($>>>=0),_e=(j>>>=0)-(R>>>=0),F=Math.min(Y,_e),E=this.slice($,Z),O=b.slice(R,j),B=0;B<F;++B)if(E[B]!==O[B]){Y=E[B],_e=O[B];break}return Y<_e?-1:_e<Y?1:0},f.prototype.includes=function(b,R,j){return this.indexOf(b,R,j)!==-1},f.prototype.indexOf=function(b,R,j){return I(this,b,R,j,!0)},f.prototype.lastIndexOf=function(b,R,j){return I(this,b,R,j,!1)},f.prototype.write=function(b,R,j,$){if(R===void 0)$="utf8",j=this.length,R=0;else if(j===void 0&&typeof R=="string")$=R,j=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(j)?(j>>>=0,$===void 0&&($="utf8")):($=j,j=void 0)}var Z=this.length-R;if((j===void 0||j>Z)&&(j=Z),b.length>0&&(j<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var Y=!1;;)switch($){case"hex":return K(this,b,R,j);case"utf8":case"utf-8":return H(this,b,R,j);case"ascii":return J(this,b,R,j);case"latin1":case"binary":return M(this,b,R,j);case"base64":return V(this,b,R,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,b,R,j);default:if(Y)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),Y=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function le(b,R,j){var $="";j=Math.min(b.length,j);for(var Z=R;Z<j;++Z)$+=String.fromCharCode(127&b[Z]);return $}function se(b,R,j){var $="";j=Math.min(b.length,j);for(var Z=R;Z<j;++Z)$+=String.fromCharCode(b[Z]);return $}function ye(b,R,j){var $,Z=b.length;(!R||R<0)&&(R=0),(!j||j<0||j>Z)&&(j=Z);for(var Y="",_e=R;_e<j;++_e)Y+=($=b[_e])<16?"0"+$.toString(16):$.toString(16);return Y}function P(b,R,j){for(var $=b.slice(R,j),Z="",Y=0;Y<$.length;Y+=2)Z+=String.fromCharCode($[Y]+256*$[Y+1]);return Z}function D(b,R,j){if(b%1!=0||b<0)throw new RangeError("offset is not uint");if(b+R>j)throw new RangeError("Trying to access beyond buffer length")}function ne(b,R,j,$,Z,Y){if(!f.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>Z||R<Y)throw new RangeError('"value" argument is out of bounds');if(j+$>b.length)throw new RangeError("Index out of range")}function U(b,R,j,$,Z,Y){if(j+$>b.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function z(b,R,j,$,Z){return R=+R,j>>>=0,Z||U(b,0,j,4),o.write(b,R,j,$,23,4),j+4}function G(b,R,j,$,Z){return R=+R,j>>>=0,Z||U(b,0,j,8),o.write(b,R,j,$,52,8),j+8}f.prototype.slice=function(b,R){var j=this.length;(b=~~b)<0?(b+=j)<0&&(b=0):b>j&&(b=j),(R=R===void 0?j:~~R)<0?(R+=j)<0&&(R=0):R>j&&(R=j),R<b&&(R=b);var $=this.subarray(b,R);return $.__proto__=f.prototype,$},f.prototype.readUIntLE=function(b,R,j){b>>>=0,R>>>=0,j||D(b,R,this.length);for(var $=this[b],Z=1,Y=0;++Y<R&&(Z*=256);)$+=this[b+Y]*Z;return $},f.prototype.readUIntBE=function(b,R,j){b>>>=0,R>>>=0,j||D(b,R,this.length);for(var $=this[b+--R],Z=1;R>0&&(Z*=256);)$+=this[b+--R]*Z;return $},f.prototype.readUInt8=function(b,R){return b>>>=0,R||D(b,1,this.length),this[b]},f.prototype.readUInt16LE=function(b,R){return b>>>=0,R||D(b,2,this.length),this[b]|this[b+1]<<8},f.prototype.readUInt16BE=function(b,R){return b>>>=0,R||D(b,2,this.length),this[b]<<8|this[b+1]},f.prototype.readUInt32LE=function(b,R){return b>>>=0,R||D(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]},f.prototype.readUInt32BE=function(b,R){return b>>>=0,R||D(b,4,this.length),16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])},f.prototype.readIntLE=function(b,R,j){b>>>=0,R>>>=0,j||D(b,R,this.length);for(var $=this[b],Z=1,Y=0;++Y<R&&(Z*=256);)$+=this[b+Y]*Z;return $>=(Z*=128)&&($-=Math.pow(2,8*R)),$},f.prototype.readIntBE=function(b,R,j){b>>>=0,R>>>=0,j||D(b,R,this.length);for(var $=R,Z=1,Y=this[b+--$];$>0&&(Z*=256);)Y+=this[b+--$]*Z;return Y>=(Z*=128)&&(Y-=Math.pow(2,8*R)),Y},f.prototype.readInt8=function(b,R){return b>>>=0,R||D(b,1,this.length),128&this[b]?-1*(255-this[b]+1):this[b]},f.prototype.readInt16LE=function(b,R){b>>>=0,R||D(b,2,this.length);var j=this[b]|this[b+1]<<8;return 32768&j?4294901760|j:j},f.prototype.readInt16BE=function(b,R){b>>>=0,R||D(b,2,this.length);var j=this[b+1]|this[b]<<8;return 32768&j?4294901760|j:j},f.prototype.readInt32LE=function(b,R){return b>>>=0,R||D(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},f.prototype.readInt32BE=function(b,R){return b>>>=0,R||D(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},f.prototype.readFloatLE=function(b,R){return b>>>=0,R||D(b,4,this.length),o.read(this,b,!0,23,4)},f.prototype.readFloatBE=function(b,R){return b>>>=0,R||D(b,4,this.length),o.read(this,b,!1,23,4)},f.prototype.readDoubleLE=function(b,R){return b>>>=0,R||D(b,8,this.length),o.read(this,b,!0,52,8)},f.prototype.readDoubleBE=function(b,R){return b>>>=0,R||D(b,8,this.length),o.read(this,b,!1,52,8)},f.prototype.writeUIntLE=function(b,R,j,$){b=+b,R>>>=0,j>>>=0,$||ne(this,b,R,j,Math.pow(2,8*j)-1,0);var Z=1,Y=0;for(this[R]=255&b;++Y<j&&(Z*=256);)this[R+Y]=b/Z&255;return R+j},f.prototype.writeUIntBE=function(b,R,j,$){b=+b,R>>>=0,j>>>=0,$||ne(this,b,R,j,Math.pow(2,8*j)-1,0);var Z=j-1,Y=1;for(this[R+Z]=255&b;--Z>=0&&(Y*=256);)this[R+Z]=b/Y&255;return R+j},f.prototype.writeUInt8=function(b,R,j){return b=+b,R>>>=0,j||ne(this,b,R,1,255,0),this[R]=255&b,R+1},f.prototype.writeUInt16LE=function(b,R,j){return b=+b,R>>>=0,j||ne(this,b,R,2,65535,0),this[R]=255&b,this[R+1]=b>>>8,R+2},f.prototype.writeUInt16BE=function(b,R,j){return b=+b,R>>>=0,j||ne(this,b,R,2,65535,0),this[R]=b>>>8,this[R+1]=255&b,R+2},f.prototype.writeUInt32LE=function(b,R,j){return b=+b,R>>>=0,j||ne(this,b,R,4,4294967295,0),this[R+3]=b>>>24,this[R+2]=b>>>16,this[R+1]=b>>>8,this[R]=255&b,R+4},f.prototype.writeUInt32BE=function(b,R,j){return b=+b,R>>>=0,j||ne(this,b,R,4,4294967295,0),this[R]=b>>>24,this[R+1]=b>>>16,this[R+2]=b>>>8,this[R+3]=255&b,R+4},f.prototype.writeIntLE=function(b,R,j,$){if(b=+b,R>>>=0,!$){var Z=Math.pow(2,8*j-1);ne(this,b,R,j,Z-1,-Z)}var Y=0,_e=1,F=0;for(this[R]=255&b;++Y<j&&(_e*=256);)b<0&&F===0&&this[R+Y-1]!==0&&(F=1),this[R+Y]=(b/_e>>0)-F&255;return R+j},f.prototype.writeIntBE=function(b,R,j,$){if(b=+b,R>>>=0,!$){var Z=Math.pow(2,8*j-1);ne(this,b,R,j,Z-1,-Z)}var Y=j-1,_e=1,F=0;for(this[R+Y]=255&b;--Y>=0&&(_e*=256);)b<0&&F===0&&this[R+Y+1]!==0&&(F=1),this[R+Y]=(b/_e>>0)-F&255;return R+j},f.prototype.writeInt8=function(b,R,j){return b=+b,R>>>=0,j||ne(this,b,R,1,127,-128),b<0&&(b=255+b+1),this[R]=255&b,R+1},f.prototype.writeInt16LE=function(b,R,j){return b=+b,R>>>=0,j||ne(this,b,R,2,32767,-32768),this[R]=255&b,this[R+1]=b>>>8,R+2},f.prototype.writeInt16BE=function(b,R,j){return b=+b,R>>>=0,j||ne(this,b,R,2,32767,-32768),this[R]=b>>>8,this[R+1]=255&b,R+2},f.prototype.writeInt32LE=function(b,R,j){return b=+b,R>>>=0,j||ne(this,b,R,4,2147483647,-2147483648),this[R]=255&b,this[R+1]=b>>>8,this[R+2]=b>>>16,this[R+3]=b>>>24,R+4},f.prototype.writeInt32BE=function(b,R,j){return b=+b,R>>>=0,j||ne(this,b,R,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[R]=b>>>24,this[R+1]=b>>>16,this[R+2]=b>>>8,this[R+3]=255&b,R+4},f.prototype.writeFloatLE=function(b,R,j){return z(this,b,R,!0,j)},f.prototype.writeFloatBE=function(b,R,j){return z(this,b,R,!1,j)},f.prototype.writeDoubleLE=function(b,R,j){return G(this,b,R,!0,j)},f.prototype.writeDoubleBE=function(b,R,j){return G(this,b,R,!1,j)},f.prototype.copy=function(b,R,j,$){if(j||(j=0),$||$===0||($=this.length),R>=b.length&&(R=b.length),R||(R=0),$>0&&$<j&&($=j),$===j||b.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("sourceStart out of bounds");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),b.length-R<$-j&&($=b.length-R+j);var Z,Y=$-j;if(this===b&&j<R&&R<$)for(Z=Y-1;Z>=0;--Z)b[Z+R]=this[Z+j];else if(Y<1e3)for(Z=0;Z<Y;++Z)b[Z+R]=this[Z+j];else Uint8Array.prototype.set.call(b,this.subarray(j,j+Y),R);return Y},f.prototype.fill=function(b,R,j,$){if(typeof b=="string"){if(typeof R=="string"?($=R,R=0,j=this.length):typeof j=="string"&&($=j,j=this.length),b.length===1){var Z=b.charCodeAt(0);Z<256&&(b=Z)}if($!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!f.isEncoding($))throw new TypeError("Unknown encoding: "+$)}else typeof b=="number"&&(b&=255);if(R<0||this.length<R||this.length<j)throw new RangeError("Out of range index");if(j<=R)return this;var Y;if(R>>>=0,j=j===void 0?this.length:j>>>0,b||(b=0),typeof b=="number")for(Y=R;Y<j;++Y)this[Y]=b;else{var _e=f.isBuffer(b)?b:new f(b,$),F=_e.length;for(Y=0;Y<j-R;++Y)this[Y+R]=_e[Y%F]}return this};var ue=/[^+/0-9A-Za-z-_]/g;function ie(b,R){var j;R=R||1/0;for(var $=b.length,Z=null,Y=[],_e=0;_e<$;++_e){if((j=b.charCodeAt(_e))>55295&&j<57344){if(!Z){if(j>56319){(R-=3)>-1&&Y.push(239,191,189);continue}if(_e+1===$){(R-=3)>-1&&Y.push(239,191,189);continue}Z=j;continue}if(j<56320){(R-=3)>-1&&Y.push(239,191,189),Z=j;continue}j=65536+(Z-55296<<10|j-56320)}else Z&&(R-=3)>-1&&Y.push(239,191,189);if(Z=null,j<128){if((R-=1)<0)break;Y.push(j)}else if(j<2048){if((R-=2)<0)break;Y.push(j>>6|192,63&j|128)}else if(j<65536){if((R-=3)<0)break;Y.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;Y.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return Y}function re(b){return i.toByteArray(function(R){if((R=R.trim().replace(ue,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(b))}function oe(b,R,j,$){for(var Z=0;Z<$&&!(Z+j>=R.length||Z>=b.length);++Z)R[Z+j]=b[Z];return Z}function pe(b){return b instanceof ArrayBuffer||b!=null&&b.constructor!=null&&b.constructor.name==="ArrayBuffer"&&typeof b.byteLength=="number"}function Ee(b){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(b)}function Ie(b){return b!=b}}).call(t,r(1))},function(e,t){t.byteLength=function(m){return 3*m.length/4-f(m)},t.toByteArray=function(m){var g,y,S,N,A,T,I=m.length;A=f(m),T=new i(3*I/4-A),S=A>0?I-4:I;var C=0;for(g=0,y=0;g<S;g+=4,y+=3)N=n[m.charCodeAt(g)]<<18|n[m.charCodeAt(g+1)]<<12|n[m.charCodeAt(g+2)]<<6|n[m.charCodeAt(g+3)],T[C++]=N>>16&255,T[C++]=N>>8&255,T[C++]=255&N;return A===2?(N=n[m.charCodeAt(g)]<<2|n[m.charCodeAt(g+1)]>>4,T[C++]=255&N):A===1&&(N=n[m.charCodeAt(g)]<<10|n[m.charCodeAt(g+1)]<<4|n[m.charCodeAt(g+2)]>>2,T[C++]=N>>8&255,T[C++]=255&N),T},t.fromByteArray=function(m){for(var g,y=m.length,S=y%3,N="",A=[],T=16383,I=0,C=y-S;I<C;I+=T)A.push(d(m,I,I+T>C?C:I+T));return S===1?(g=m[y-1],N+=r[g>>2],N+=r[g<<4&63],N+="=="):S===2&&(g=(m[y-2]<<8)+m[y-1],N+=r[g>>10],N+=r[g>>4&63],N+=r[g<<2&63],N+="="),A.push(N),A.join("")};for(var r=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function f(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return m[g-2]==="="?2:m[g-1]==="="?1:0}function d(m,g,y){for(var S,N,A=[],T=g;T<y;T+=3)S=(m[T]<<16)+(m[T+1]<<8)+m[T+2],A.push(r[(N=S)>>18&63]+r[N>>12&63]+r[N>>6&63]+r[63&N]);return A.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(e,t){t.read=function(r,n,i,o,s){var a,f,d=8*s-o-1,m=(1<<d)-1,g=m>>1,y=-7,S=i?s-1:0,N=i?-1:1,A=r[n+S];for(S+=N,a=A&(1<<-y)-1,A>>=-y,y+=d;y>0;a=256*a+r[n+S],S+=N,y-=8);for(f=a&(1<<-y)-1,a>>=-y,y+=o;y>0;f=256*f+r[n+S],S+=N,y-=8);if(a===0)a=1-g;else{if(a===m)return f?NaN:1/0*(A?-1:1);f+=Math.pow(2,o),a-=g}return(A?-1:1)*f*Math.pow(2,a-o)},t.write=function(r,n,i,o,s,a){var f,d,m,g=8*a-s-1,y=(1<<g)-1,S=y>>1,N=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=o?0:a-1,T=o?1:-1,I=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(d=isNaN(n)?1:0,f=y):(f=Math.floor(Math.log(n)/Math.LN2),n*(m=Math.pow(2,-f))<1&&(f--,m*=2),(n+=f+S>=1?N/m:N*Math.pow(2,1-S))*m>=2&&(f++,m/=2),f+S>=y?(d=0,f=y):f+S>=1?(d=(n*m-1)*Math.pow(2,s),f+=S):(d=n*Math.pow(2,S-1)*Math.pow(2,s),f=0));s>=8;r[i+A]=255&d,A+=T,d/=256,s-=8);for(f=f<<s|d,g+=s;g>0;r[i+A]=255&f,A+=T,f/=256,g-=8);r[i+A-T]|=128*I}},function(e,t){e.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children=[],r.webpackPolyfill=1),r}},function(e,t,r){var n=new(r(7)),i={};function o(a){i[a]||(typeof n[a]=="function"?i[a]=function(){return n[a].apply(n,arguments)}:i[a]=n[a])}for(var s in n)o(s);i.initializeTTYs=function(){n.stdin===null&&(n.initializeTTYs(),i.stdin=n.stdin,i.stdout=n.stdout,i.stderr=n.stderr)},n.nextTick(function(){i.initializeTTYs()}),e.exports=i},function(e,t,r){(function(n){var i=this&&this.__extends||function(m,g){for(var y in g)g.hasOwnProperty(y)&&(m[y]=g[y]);function S(){this.constructor=m}m.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)},o=r(8),s=null,a=function(){function m(g,y){this.fun=g,this.array=y}return m.prototype.run=function(){this.fun.apply(null,this.array)},m}(),f=function(){function m(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return m.prototype.push=function(g){var y=this;this._queue.push(g)!==1||this._draining||setTimeout(function(){return y._drainQueue()},0)},m.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},m.prototype._drainQueue=function(){var g=this;if(!this._draining){var y=setTimeout(function(){return g._cleanUpNextTick()});this._draining=!0;for(var S=this._queue.length;S;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<S;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,S=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(y)}},m}(),d=function(m){function g(){m.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new f,this.execPath=n,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=1e3*Math.random()|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return i(g,m),g.prototype.chdir=function(y){s===null&&(s=r(9)),this._cwd=s.resolve(y)},g.prototype.cwd=function(){return this._cwd},g.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},g.prototype.nextTick=function(y){for(var S=[],N=1;N<arguments.length;N++)S[N-1]=arguments[N];this._queue.push(new a(y,S))},g.prototype.abort=function(){this.emit("abort")},g.prototype.exit=function(y){this.exitCode=y,this.emit("exit",[y])},g.prototype.getgid=function(){return this._gid},g.prototype.setgid=function(y){this._gid=typeof y=="number"?y:1},g.prototype.getuid=function(){return this._uid},g.prototype.setuid=function(y){this._uid=typeof y=="number"?y:1},g.prototype.kill=function(y,S){this.emit("kill",[y,S])},g.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},g.prototype.umask=function(y){y===void 0&&(y=this._mask);var S=this._mask;return this._mask=y,this.emit("umask",[y]),S},g.prototype.hrtime=function(){var y,S=(y=typeof performance<"u"?performance.now():Date.now?Date.now():new Date().getTime())/1e3|0;return[S,y=1e6*(y-=1e3*S)|0]},g.prototype.initializeTTYs=function(){if(this.stdout===null){var y=r(10);this.stdout=new y,this.stderr=new y,this.stdin=new y}},g.prototype.disconnect=function(){},g}(o.EventEmitter);e.exports=d}).call(t,"/")},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(s){return typeof s=="function"}function i(s){return typeof s=="object"&&s!==null}function o(s){return s===void 0}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(s){if(typeof s!="number"||s<0||isNaN(s))throw TypeError("n must be a positive number");return this._maxListeners=s,this},r.prototype.emit=function(s){var a,f,d,m,g,y;if(this._events||(this._events={}),s==="error"&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((a=arguments[1])instanceof Error)throw a;var S=new Error('Uncaught, unspecified "error" event. ('+a+")");throw S.context=a,S}if(o(f=this._events[s]))return!1;if(n(f))switch(arguments.length){case 1:f.call(this);break;case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:m=Array.prototype.slice.call(arguments,1),f.apply(this,m)}else if(i(f))for(m=Array.prototype.slice.call(arguments,1),d=(y=f.slice()).length,g=0;g<d;g++)y[g].apply(this,m);return!0},r.prototype.addListener=function(s,a){var f;if(!n(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",s,n(a.listener)?a.listener:a),this._events[s]?i(this._events[s])?this._events[s].push(a):this._events[s]=[this._events[s],a]:this._events[s]=a,i(this._events[s])&&!this._events[s].warned&&(f=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&f>0&&this._events[s].length>f&&(this._events[s].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s].length),typeof console.trace=="function"&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(s,a){if(!n(a))throw TypeError("listener must be a function");var f=!1;function d(){this.removeListener(s,d),f||(f=!0,a.apply(this,arguments))}return d.listener=a,this.on(s,d),this},r.prototype.removeListener=function(s,a){var f,d,m,g;if(!n(a))throw TypeError("listener must be a function");if(!this._events||!this._events[s])return this;if(m=(f=this._events[s]).length,d=-1,f===a||n(f.listener)&&f.listener===a)delete this._events[s],this._events.removeListener&&this.emit("removeListener",s,a);else if(i(f)){for(g=m;g-- >0;)if(f[g]===a||f[g].listener&&f[g].listener===a){d=g;break}if(d<0)return this;f.length===1?(f.length=0,delete this._events[s]):f.splice(d,1),this._events.removeListener&&this.emit("removeListener",s,a)}return this},r.prototype.removeAllListeners=function(s){var a,f;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[s]&&delete this._events[s],this;if(arguments.length===0){for(a in this._events)a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events={},this}if(n(f=this._events[s]))this.removeListener(s,f);else if(f)for(;f.length;)this.removeListener(s,f[f.length-1]);return delete this._events[s],this},r.prototype.listeners=function(s){return this._events&&this._events[s]?n(this._events[s])?[this._events[s]]:this._events[s].slice():[]},r.prototype.listenerCount=function(s){if(this._events){var a=this._events[s];if(n(a))return 1;if(a)return a.length}return 0},r.listenerCount=function(s,a){return s.listenerCount(a)}},function(e,t,r){(function(n){var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(){function s(){}return s.normalize=function(a){a===""&&(a=".");for(var f=a.charAt(0)===s.sep,d=(a=s._removeDuplicateSeps(a)).split(s.sep),m=[],g=0;g<d.length;g++){var y=d[g];y!=="."&&(y===".."&&(f||!f&&m.length>0&&m[0]!=="..")?m.pop():m.push(y))}return!f&&m.length<2&&(m.length===1?m[0]===""&&m.unshift("."):m.push(".")),a=m.join(s.sep),f&&a.charAt(0)!==s.sep&&(a=s.sep+a),a},s.join=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];for(var d=[],m=0;m<a.length;m++){var g=a[m];if(typeof g!="string")throw new TypeError("Invalid argument type to path.join: "+typeof g);g!==""&&d.push(g)}return s.normalize(d.join(s.sep))},s.resolve=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];for(var d=[],m=0;m<a.length;m++){var g=a[m];if(typeof g!="string")throw new TypeError("Invalid argument type to path.join: "+typeof g);g!==""&&(g.charAt(0)===s.sep&&(d=[]),d.push(g))}var y=s.normalize(d.join(s.sep));if(y.length>1&&y.charAt(y.length-1)===s.sep)return y.substr(0,y.length-1);if(y.charAt(0)!==s.sep){y.charAt(0)!=="."||y.length!==1&&y.charAt(1)!==s.sep||(y=y.length===1?"":y.substr(2));var S=n.cwd();y=y!==""?this.normalize(S+(S!=="/"?s.sep:"")+y):S}return y},s.relative=function(a,f){var d;a=s.resolve(a),f=s.resolve(f);var m=a.split(s.sep),g=f.split(s.sep);g.shift(),m.shift();var y=0,S=[];for(d=0;d<m.length;d++)if(m[d]!==g[d]){y=m.length-d;break}S=g.slice(d),m.length===1&&m[0]===""&&(y=0),y>m.length&&(y=m.length);var N="";for(d=0;d<y;d++)N+="../";return(N+=S.join(s.sep)).length>1&&N.charAt(N.length-1)===s.sep&&(N=N.substr(0,N.length-1)),N},s.dirname=function(a){var f=(a=s._removeDuplicateSeps(a)).charAt(0)===s.sep,d=a.split(s.sep);return d.pop()===""&&d.length>0&&d.pop(),d.length>1||d.length===1&&!f?d.join(s.sep):f?s.sep:"."},s.basename=function(a,f){if(f===void 0&&(f=""),a==="")return a;var d=(a=s.normalize(a)).split(s.sep),m=d[d.length-1];return m===""&&d.length>1?d[d.length-2]:f.length>0&&m.substr(m.length-f.length)===f?m.substr(0,m.length-f.length):m},s.extname=function(a){var f=(a=s.normalize(a)).split(s.sep);if((a=f.pop())===""&&f.length>0&&(a=f.pop()),a==="..")return"";var d=a.lastIndexOf(".");return d===-1||d===0?"":a.substr(d)},s.isAbsolute=function(a){return a.length>0&&a.charAt(0)===s.sep},s._makeLong=function(a){return a},s.parse=function(a){var f=function(d){var m=i.exec(d);return m.shift(),m}(a);return{root:f[0],dir:f[0]+f[1].slice(0,-1),base:f[2],ext:f[3],name:f[2].slice(0,f[2].length-f[3].length)}},s.format=function(a){if(a===null||typeof a!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);if(typeof(a.root||"")!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+s.sep:"")+(a.base||"")},s._removeDuplicateSeps=function(a){return a=a.replace(this._replaceRegex,this.sep)},s.sep="/",s._replaceRegex=new RegExp("//+","g"),s.delimiter=":",s.posix=s,s.win32=s,s}();e.exports=o}).call(t,r(6))},function(e,t,r){(function(n){var i=this&&this.__extends||function(s,a){for(var f in a)a.hasOwnProperty(f)&&(s[f]=a[f]);function d(){this.constructor=s}s.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)},o=function(s){function a(){s.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return i(a,s),a.prototype.setRawMode=function(f){this.isRaw!==f&&(this.isRaw=f,this.emit("modeChange"))},a.prototype.changeColumns=function(f){f!==this.columns&&(this.columns=f,this.emit("resize"))},a.prototype.changeRows=function(f){f!==this.rows&&(this.rows=f,this.emit("resize"))},a.isatty=function(f){return f&&f instanceof a},a.prototype._write=function(f,d,m){var g;try{var y;y=typeof f=="string"?new n(f,d):f,this._bufferedWrites.push(y),this._waitingForWrites&&this._read(1024)}catch(S){g=S}finally{m(g)}},a.prototype._read=function(f){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),this._waitingForWrites););},a}(r(11).Duplex);e.exports=o}).call(t,r(1))},function(e,t,r){e.exports=i;var n=r(8).EventEmitter;function i(){n.call(this)}r(12)(i,n),i.Readable=r(13),i.Writable=r(27),i.Duplex=r(28),i.Transform=r(29),i.PassThrough=r(30),i.Stream=i,i.prototype.pipe=function(o,s){var a=this;function f(A){o.writable&&o.write(A)===!1&&a.pause&&a.pause()}function d(){a.readable&&a.resume&&a.resume()}a.on("data",f),o.on("drain",d),o._isStdio||s&&s.end===!1||(a.on("end",g),a.on("close",y));var m=!1;function g(){m||(m=!0,o.end())}function y(){m||(m=!0,typeof o.destroy=="function"&&o.destroy())}function S(A){if(N(),n.listenerCount(this,"error")===0)throw A}function N(){a.removeListener("data",f),o.removeListener("drain",d),a.removeListener("end",g),a.removeListener("close",y),a.removeListener("error",S),o.removeListener("error",S),a.removeListener("end",N),a.removeListener("close",N),o.removeListener("close",N)}return a.on("error",S),o.on("error",S),a.on("end",N),a.on("close",N),o.on("close",N),o.emit("pipe",a),o}},function(e,t){typeof Object.create=="function"?e.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(r,n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},function(e,t,r){(function(n){var i=function(){try{return r(11)}catch{}}();(t=e.exports=r(14)).Stream=i||t,t.Readable=t,t.Writable=r(22),t.Duplex=r(21),t.Transform=r(25),t.PassThrough=r(26),!n.browser&&n.env.READABLE_STREAM==="disable"&&i&&(e.exports=i)}).call(t,r(6))},function(e,t,r){(function(n){e.exports=I;var i,o=r(15),s=r(16);I.ReadableState=T,r(8).EventEmitter;var a,f=function(P,D){return P.listeners(D).length};(function(){try{a=r(11)}catch{}finally{a||(a=r(8).EventEmitter)}})();var d=r(2).Buffer,m=r(17),g=r(18);g.inherits=r(12);var y=r(19),S=void 0;S=y&&y.debuglog?y.debuglog("stream"):function(){};var N,A=r(20);function T(P,D){i=i||r(21),P=P||{},this.objectMode=!!P.objectMode,D instanceof i&&(this.objectMode=this.objectMode||!!P.readableObjectMode);var ne=P.highWaterMark,U=this.objectMode?16:16384;this.highWaterMark=ne||ne===0?ne:U,this.highWaterMark=~~this.highWaterMark,this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(N||(N=r(24).StringDecoder),this.decoder=new N(P.encoding),this.encoding=P.encoding)}function I(P){if(i=i||r(21),!(this instanceof I))return new I(P);this._readableState=new T(P,this),this.readable=!0,P&&typeof P.read=="function"&&(this._read=P.read),a.call(this)}function C(P,D,ne,U,z){var G=function(oe,pe){var Ee=null;return d.isBuffer(pe)||typeof pe=="string"||pe==null||oe.objectMode||(Ee=new TypeError("Invalid non-string/buffer chunk")),Ee}(D,ne);if(G)P.emit("error",G);else if(ne===null)D.reading=!1,function(oe,pe){if(!pe.ended){if(pe.decoder){var Ee=pe.decoder.end();Ee&&Ee.length&&(pe.buffer.push(Ee),pe.length+=pe.objectMode?1:Ee.length)}pe.ended=!0,J(oe)}}(P,D);else if(D.objectMode||ne&&ne.length>0)if(D.ended&&!z){var ue=new Error("stream.push() after EOF");P.emit("error",ue)}else if(D.endEmitted&&z){var ie=new Error("stream.unshift() after end event");P.emit("error",ie)}else{var re;!D.decoder||z||U||(ne=D.decoder.write(ne),re=!D.objectMode&&ne.length===0),z||(D.reading=!1),re||(D.flowing&&D.length===0&&!D.sync?(P.emit("data",ne),P.read(0)):(D.length+=D.objectMode?1:ne.length,z?D.buffer.unshift(ne):D.buffer.push(ne),D.needReadable&&J(P))),function(oe,pe){pe.readingMore||(pe.readingMore=!0,o(V,oe,pe))}(P,D)}else z||(D.reading=!1);return function(oe){return!oe.ended&&(oe.needReadable||oe.length<oe.highWaterMark||oe.length===0)}(D)}g.inherits(I,a),I.prototype.push=function(P,D){var ne=this._readableState;return ne.objectMode||typeof P!="string"||(D=D||ne.defaultEncoding)!==ne.encoding&&(P=m.from(P,D),D=""),C(this,ne,P,D,!1)},I.prototype.unshift=function(P){return C(this,this._readableState,P,"",!0)},I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(P){return N||(N=r(24).StringDecoder),this._readableState.decoder=new N(P),this._readableState.encoding=P,this};var K=8388608;function H(P,D){return P<=0||D.length===0&&D.ended?0:D.objectMode?1:P!=P?D.flowing&&D.length?D.buffer.head.data.length:D.length:(P>D.highWaterMark&&(D.highWaterMark=function(ne){return ne>=K?ne=K:(ne--,ne|=ne>>>1,ne|=ne>>>2,ne|=ne>>>4,ne|=ne>>>8,ne|=ne>>>16,ne++),ne}(P)),P<=D.length?P:D.ended?D.length:(D.needReadable=!0,0))}function J(P){var D=P._readableState;D.needReadable=!1,D.emittedReadable||(S("emitReadable",D.flowing),D.emittedReadable=!0,D.sync?o(M,P):M(P))}function M(P){S("emit readable"),P.emit("readable"),te(P)}function V(P,D){for(var ne=D.length;!D.reading&&!D.flowing&&!D.ended&&D.length<D.highWaterMark&&(S("maybeReadMore read 0"),P.read(0),ne!==D.length);)ne=D.length;D.readingMore=!1}function _(P){S("readable nexttick read 0"),P.read(0)}function q(P,D){D.reading||(S("resume read 0"),P.read(0)),D.resumeScheduled=!1,D.awaitDrain=0,P.emit("resume"),te(P),D.flowing&&!D.reading&&P.read(0)}function te(P){var D=P._readableState;for(S("flow",D.flowing);D.flowing&&P.read()!==null;);}function X(P,D){return D.length===0?null:(D.objectMode?ne=D.buffer.shift():!P||P>=D.length?(ne=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.head.data:D.buffer.concat(D.length),D.buffer.clear()):ne=function(U,z,G){var ue;return U<z.head.data.length?(ue=z.head.data.slice(0,U),z.head.data=z.head.data.slice(U)):ue=U===z.head.data.length?z.shift():G?function(ie,re){var oe=re.head,pe=1,Ee=oe.data;for(ie-=Ee.length;oe=oe.next;){var Ie=oe.data,b=ie>Ie.length?Ie.length:ie;if(b===Ie.length?Ee+=Ie:Ee+=Ie.slice(0,ie),(ie-=b)==0){b===Ie.length?(++pe,oe.next?re.head=oe.next:re.head=re.tail=null):(re.head=oe,oe.data=Ie.slice(b));break}++pe}return re.length-=pe,Ee}(U,z):function(ie,re){var oe=m.allocUnsafe(ie),pe=re.head,Ee=1;for(pe.data.copy(oe),ie-=pe.data.length;pe=pe.next;){var Ie=pe.data,b=ie>Ie.length?Ie.length:ie;if(Ie.copy(oe,oe.length-ie,0,b),(ie-=b)==0){b===Ie.length?(++Ee,pe.next?re.head=pe.next:re.head=re.tail=null):(re.head=pe,pe.data=Ie.slice(b));break}++Ee}return re.length-=Ee,oe}(U,z),ue}(P,D.buffer,D.decoder),ne);var ne}function le(P){var D=P._readableState;if(D.length>0)throw new Error('"endReadable()" called on non-empty stream');D.endEmitted||(D.ended=!0,o(se,D,P))}function se(P,D){P.endEmitted||P.length!==0||(P.endEmitted=!0,D.readable=!1,D.emit("end"))}function ye(P,D){for(var ne=0,U=P.length;ne<U;ne++)if(P[ne]===D)return ne;return-1}I.prototype.read=function(P){S("read",P),P=parseInt(P,10);var D=this._readableState,ne=P;if(P!==0&&(D.emittedReadable=!1),P===0&&D.needReadable&&(D.length>=D.highWaterMark||D.ended))return S("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?le(this):J(this),null;if((P=H(P,D))===0&&D.ended)return D.length===0&&le(this),null;var U,z=D.needReadable;return S("need readable",z),(D.length===0||D.length-P<D.highWaterMark)&&S("length less than watermark",z=!0),D.ended||D.reading?S("reading or ended",z=!1):z&&(S("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(P=H(ne,D))),(U=P>0?X(P,D):null)===null?(D.needReadable=!0,P=0):D.length-=P,D.length===0&&(D.ended||(D.needReadable=!0),ne!==P&&D.ended&&le(this)),U!==null&&this.emit("data",U),U},I.prototype._read=function(P){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(P,D){var ne=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=P;break;case 1:U.pipes=[U.pipes,P];break;default:U.pipes.push(P)}U.pipesCount+=1,S("pipe count=%d opts=%j",U.pipesCount,D);var z=D&&D.end===!1||P===n.stdout||P===n.stderr?oe:ue;function G($){S("onunpipe"),$===ne&&oe()}function ue(){S("onend"),P.end()}U.endEmitted?o(z):ne.once("end",z),P.on("unpipe",G);var ie=function($){return function(){var Z=$._readableState;S("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&f($,"data")&&(Z.flowing=!0,te($))}}(ne);P.on("drain",ie);var re=!1;function oe(){S("cleanup"),P.removeListener("close",b),P.removeListener("finish",R),P.removeListener("drain",ie),P.removeListener("error",Ie),P.removeListener("unpipe",G),ne.removeListener("end",ue),ne.removeListener("end",oe),ne.removeListener("data",Ee),re=!0,!U.awaitDrain||P._writableState&&!P._writableState.needDrain||ie()}var pe=!1;function Ee($){S("ondata"),pe=!1,P.write($)!==!1||pe||((U.pipesCount===1&&U.pipes===P||U.pipesCount>1&&ye(U.pipes,P)!==-1)&&!re&&(S("false write response, pause",ne._readableState.awaitDrain),ne._readableState.awaitDrain++,pe=!0),ne.pause())}function Ie($){S("onerror",$),j(),P.removeListener("error",Ie),f(P,"error")===0&&P.emit("error",$)}function b(){P.removeListener("finish",R),j()}function R(){S("onfinish"),P.removeListener("close",b),j()}function j(){S("unpipe"),ne.unpipe(P)}return ne.on("data",Ee),function($,Z,Y){if(typeof $.prependListener=="function")return $.prependListener(Z,Y);$._events&&$._events[Z]?s($._events[Z])?$._events[Z].unshift(Y):$._events[Z]=[Y,$._events[Z]]:$.on(Z,Y)}(P,"error",Ie),P.once("close",b),P.once("finish",R),P.emit("pipe",ne),U.flowing||(S("pipe resume"),ne.resume()),P},I.prototype.unpipe=function(P){var D=this._readableState;if(D.pipesCount===0)return this;if(D.pipesCount===1)return P&&P!==D.pipes||(P||(P=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,P&&P.emit("unpipe",this)),this;if(!P){var ne=D.pipes,U=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var z=0;z<U;z++)ne[z].emit("unpipe",this);return this}var G=ye(D.pipes,P);return G===-1||(D.pipes.splice(G,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),P.emit("unpipe",this)),this},I.prototype.on=function(P,D){var ne=a.prototype.on.call(this,P,D);if(P==="data")this._readableState.flowing!==!1&&this.resume();else if(P==="readable"){var U=this._readableState;U.endEmitted||U.readableListening||(U.readableListening=U.needReadable=!0,U.emittedReadable=!1,U.reading?U.length&&J(this):o(_,this))}return ne},I.prototype.addListener=I.prototype.on,I.prototype.resume=function(){var P=this._readableState;return P.flowing||(S("resume"),P.flowing=!0,function(D,ne){ne.resumeScheduled||(ne.resumeScheduled=!0,o(q,D,ne))}(this,P)),this},I.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this},I.prototype.wrap=function(P){var D=this._readableState,ne=!1,U=this;for(var z in P.on("end",function(){if(S("wrapped end"),D.decoder&&!D.ended){var G=D.decoder.end();G&&G.length&&U.push(G)}U.push(null)}),P.on("data",function(G){S("wrapped data"),D.decoder&&(G=D.decoder.write(G)),D.objectMode&&G==null||(D.objectMode||G&&G.length)&&(U.push(G)||(ne=!0,P.pause()))}),P)this[z]===void 0&&typeof P[z]=="function"&&(this[z]=function(G){return function(){return P[G].apply(P,arguments)}}(z));return function(G,ue){for(var ie=0,re=G.length;ie<re;ie++)ue(G[ie],ie)}(["error","close","destroy","pause","resume"],function(G){P.on(G,U.emit.bind(U,G))}),U._read=function(G){S("wrapped _read",G),ne&&(ne=!1,P.resume())},U},I._fromList=X}).call(t,r(6))},function(e,t,r){(function(n){!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?e.exports=function(i,o,s,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var f,d,m=arguments.length;switch(m){case 0:case 1:return n.nextTick(i);case 2:return n.nextTick(function(){i.call(null,o)});case 3:return n.nextTick(function(){i.call(null,o,s)});case 4:return n.nextTick(function(){i.call(null,o,s,a)});default:for(f=new Array(m-1),d=0;d<f.length;)f[d++]=arguments[d];return n.nextTick(function(){i.apply(null,f)})}}:e.exports=n.nextTick}).call(t,r(6))},function(e,t){var r={}.toString;e.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(e,t,r){(function(n){var i=r(2),o=i.Buffer,s=i.SlowBuffer,a=i.kMaxLength||2147483647;t.alloc=function(f,d,m){if(typeof o.alloc=="function")return o.alloc(f,d,m);if(typeof m=="number")throw new TypeError("encoding must not be number");if(typeof f!="number")throw new TypeError("size must be a number");if(f>a)throw new RangeError("size is too large");var g=m,y=d;y===void 0&&(g=void 0,y=0);var S=new o(f);if(typeof y=="string")for(var N=new o(y,g),A=N.length,T=-1;++T<f;)S[T]=N[T%A];else S.fill(y);return S},t.allocUnsafe=function(f){if(typeof o.allocUnsafe=="function")return o.allocUnsafe(f);if(typeof f!="number")throw new TypeError("size must be a number");if(f>a)throw new RangeError("size is too large");return new o(f)},t.from=function(f,d,m){if(typeof o.from=="function"&&(!n.Uint8Array||Uint8Array.from!==o.from))return o.from(f,d,m);if(typeof f=="number")throw new TypeError('"value" argument must not be a number');if(typeof f=="string")return new o(f,d);if(typeof ArrayBuffer<"u"&&f instanceof ArrayBuffer){var g=d;if(arguments.length===1)return new o(f);g===void 0&&(g=0);var y=m;if(y===void 0&&(y=f.byteLength-g),g>=f.byteLength)throw new RangeError("'offset' is out of bounds");if(y>f.byteLength-g)throw new RangeError("'length' is out of bounds");return new o(f.slice(g,g+y))}if(o.isBuffer(f)){var S=new o(f.length);return f.copy(S,0,0,f.length),S}if(f){if(Array.isArray(f)||typeof ArrayBuffer<"u"&&f.buffer instanceof ArrayBuffer||"length"in f)return new o(f);if(f.type==="Buffer"&&Array.isArray(f.data))return new o(f.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},t.allocUnsafeSlow=function(f){if(typeof o.allocUnsafeSlow=="function")return o.allocUnsafeSlow(f);if(typeof f!="number")throw new TypeError("size must be a number");if(f>=a)throw new RangeError("size is too large");return new s(f)}}).call(t,function(){return this}())},function(e,t,r){(function(n){function i(o){return Object.prototype.toString.call(o)}t.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},t.isBoolean=function(o){return typeof o=="boolean"},t.isNull=function(o){return o===null},t.isNullOrUndefined=function(o){return o==null},t.isNumber=function(o){return typeof o=="number"},t.isString=function(o){return typeof o=="string"},t.isSymbol=function(o){return typeof o=="symbol"},t.isUndefined=function(o){return o===void 0},t.isRegExp=function(o){return i(o)==="[object RegExp]"},t.isObject=function(o){return typeof o=="object"&&o!==null},t.isDate=function(o){return i(o)==="[object Date]"},t.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},t.isFunction=function(o){return typeof o=="function"},t.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},t.isBuffer=n.isBuffer}).call(t,r(1))},function(e,t){},function(e,t,r){r(2).Buffer;var n=r(17);function i(){this.head=null,this.tail=null,this.length=0}e.exports=i,i.prototype.push=function(o){var s={data:o,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},i.prototype.unshift=function(o){var s={data:o,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},i.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(o){if(this.length===0)return"";for(var s=this.head,a=""+s.data;s=s.next;)a+=o+s.data;return a},i.prototype.concat=function(o){if(this.length===0)return n.alloc(0);if(this.length===1)return this.head.data;for(var s=n.allocUnsafe(o>>>0),a=this.head,f=0;a;)a.data.copy(s,f),f+=a.data.length,a=a.next;return s}},function(e,t,r){var n=Object.keys||function(N){var A=[];for(var T in N)A.push(T);return A};e.exports=g;var i=r(15),o=r(18);o.inherits=r(12);var s=r(14),a=r(22);o.inherits(g,s);for(var f=n(a.prototype),d=0;d<f.length;d++){var m=f[d];g.prototype[m]||(g.prototype[m]=a.prototype[m])}function g(N){if(!(this instanceof g))return new g(N);s.call(this,N),a.call(this,N),N&&N.readable===!1&&(this.readable=!1),N&&N.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,N&&N.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||i(S,this)}function S(N){N.end()}},function(e,t,r){(function(n){e.exports=T;var i,o=r(15),s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:o;T.WritableState=A;var a=r(18);a.inherits=r(12);var f,d={deprecate:r(23)};(function(){try{f=r(11)}catch{}finally{f||(f=r(8).EventEmitter)}})();var m,g=r(2).Buffer,y=r(17);function S(){}function N(_,q,te){this.chunk=_,this.encoding=q,this.callback=te,this.next=null}function A(_,q){i=i||r(21),_=_||{},this.objectMode=!!_.objectMode,q instanceof i&&(this.objectMode=this.objectMode||!!_.writableObjectMode);var te=_.highWaterMark,X=this.objectMode?16:16384;this.highWaterMark=te||te===0?te:X,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var le=_.decodeStrings===!1;this.decodeStrings=!le,this.defaultEncoding=_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){(function(ye,P){var D=ye._writableState,ne=D.sync,U=D.writecb;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(D),P)(function(G,ue,ie,re,oe){--ue.pendingcb,ie?o(oe,re):oe(re),G._writableState.errorEmitted=!0,G.emit("error",re)})(ye,D,ne,P,U);else{var z=H(D);z||D.corked||D.bufferProcessing||!D.bufferedRequest||K(ye,D),ne?s(C,ye,D,z,U):C(ye,D,z,U)}})(q,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new V(this)}function T(_){if(i=i||r(21),!(m.call(T,this)||this instanceof i))return new T(_);this._writableState=new A(_,this),this.writable=!0,_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev)),f.call(this)}function I(_,q,te,X,le,se,ye){q.writelen=X,q.writecb=ye,q.writing=!0,q.sync=!0,te?_._writev(le,q.onwrite):_._write(le,se,q.onwrite),q.sync=!1}function C(_,q,te,X){te||function(le,se){se.length===0&&se.needDrain&&(se.needDrain=!1,le.emit("drain"))}(_,q),q.pendingcb--,X(),M(_,q)}function K(_,q){q.bufferProcessing=!0;var te=q.bufferedRequest;if(_._writev&&te&&te.next){var X=q.bufferedRequestCount,le=new Array(X),se=q.corkedRequestsFree;se.entry=te;for(var ye=0;te;)le[ye]=te,te=te.next,ye+=1;I(_,q,!0,q.length,le,"",se.finish),q.pendingcb++,q.lastBufferedRequest=null,se.next?(q.corkedRequestsFree=se.next,se.next=null):q.corkedRequestsFree=new V(q)}else{for(;te;){var P=te.chunk,D=te.encoding,ne=te.callback;if(I(_,q,!1,q.objectMode?1:P.length,P,D,ne),te=te.next,q.writing)break}te===null&&(q.lastBufferedRequest=null)}q.bufferedRequestCount=0,q.bufferedRequest=te,q.bufferProcessing=!1}function H(_){return _.ending&&_.length===0&&_.bufferedRequest===null&&!_.finished&&!_.writing}function J(_,q){q.prefinished||(q.prefinished=!0,_.emit("prefinish"))}function M(_,q){var te=H(q);return te&&(q.pendingcb===0?(J(_,q),q.finished=!0,_.emit("finish")):J(_,q)),te}function V(_){var q=this;this.next=null,this.entry=null,this.finish=function(te){var X=q.entry;for(q.entry=null;X;){var le=X.callback;_.pendingcb--,le(te),X=X.next}_.corkedRequestsFree?_.corkedRequestsFree.next=q:_.corkedRequestsFree=q}}a.inherits(T,f),A.prototype.getBuffer=function(){for(var _=this.bufferedRequest,q=[];_;)q.push(_),_=_.next;return q},function(){try{Object.defineProperty(A.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(_){return!!m.call(this,_)||_&&_._writableState instanceof A}})):m=function(_){return _ instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(_,q,te){var X=this._writableState,le=!1,se=g.isBuffer(_);return typeof q=="function"&&(te=q,q=null),se?q="buffer":q||(q=X.defaultEncoding),typeof te!="function"&&(te=S),X.ended?function(ye,P){var D=new Error("write after end");ye.emit("error",D),o(P,D)}(this,te):(se||function(ye,P,D,ne){var U=!0,z=!1;return D===null?z=new TypeError("May not write null values to stream"):typeof D=="string"||D===void 0||P.objectMode||(z=new TypeError("Invalid non-string/buffer chunk")),z&&(ye.emit("error",z),o(ne,z),U=!1),U}(this,X,_,te))&&(X.pendingcb++,le=function(ye,P,D,ne,U,z){D||(ne=function(re,oe,pe){return re.objectMode||re.decodeStrings===!1||typeof oe!="string"||(oe=y.from(oe,pe)),oe}(P,ne,U),g.isBuffer(ne)&&(U="buffer"));var G=P.objectMode?1:ne.length;P.length+=G;var ue=P.length<P.highWaterMark;if(ue||(P.needDrain=!0),P.writing||P.corked){var ie=P.lastBufferedRequest;P.lastBufferedRequest=new N(ne,U,z),ie?ie.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else I(ye,P,!1,G,ne,U,z);return ue}(this,X,se,_,q,te)),le},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var _=this._writableState;_.corked&&(_.corked--,_.writing||_.corked||_.finished||_.bufferProcessing||!_.bufferedRequest||K(this,_))},T.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+_);return this._writableState.defaultEncoding=_,this},T.prototype._write=function(_,q,te){te(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(_,q,te){var X=this._writableState;typeof _=="function"?(te=_,_=null,q=null):typeof q=="function"&&(te=q,q=null),_!=null&&this.write(_,q),X.corked&&(X.corked=1,this.uncork()),X.ending||X.finished||function(le,se,ye){se.ending=!0,M(le,se),ye&&(se.finished?o(ye):le.once("finish",ye)),se.ended=!0,le.writable=!1}(this,X,te)}}).call(t,r(6))},function(e,t){(function(r){function n(i){try{if(!r.localStorage)return!1}catch{return!1}var o=r.localStorage[i];return o!=null&&String(o).toLowerCase()==="true"}e.exports=function(i,o){if(n("noDeprecation"))return i;var s=!1;return function(){if(!s){if(n("throwDeprecation"))throw new Error(o);n("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return i.apply(this,arguments)}}}).call(t,function(){return this}())},function(e,t,r){var n=r(2).Buffer,i=n.isEncoding||function(d){switch(d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=t.StringDecoder=function(d){switch(this.encoding=(d||"utf8").toLowerCase().replace(/[-_]/,""),function(m){if(m&&!i(m))throw new Error("Unknown encoding: "+m)}(d),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=f;break;default:return void(this.write=s)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function s(d){return d.toString(this.encoding)}function a(d){this.charReceived=d.length%2,this.charLength=this.charReceived?2:0}function f(d){this.charReceived=d.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(d){for(var m="";this.charLength;){var g=d.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:d.length;if(d.copy(this.charBuffer,this.charReceived,0,g),this.charReceived+=g,this.charReceived<this.charLength)return"";if(d=d.slice(g,d.length),!((y=(m=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(m.length-1))>=55296&&y<=56319)){if(this.charReceived=this.charLength=0,d.length===0)return m;break}this.charLength+=this.surrogateSize,m=""}this.detectIncompleteChar(d);var y,S=d.length;if(this.charLength&&(d.copy(this.charBuffer,0,d.length-this.charReceived,S),S-=this.charReceived),S=(m+=d.toString(this.encoding,0,S)).length-1,(y=m.charCodeAt(S))>=55296&&y<=56319){var N=this.surrogateSize;return this.charLength+=N,this.charReceived+=N,this.charBuffer.copy(this.charBuffer,N,0,N),d.copy(this.charBuffer,0,0,N),m.substring(0,S)}return m},o.prototype.detectIncompleteChar=function(d){for(var m=d.length>=3?3:d.length;m>0;m--){var g=d[d.length-m];if(m==1&&g>>5==6){this.charLength=2;break}if(m<=2&&g>>4==14){this.charLength=3;break}if(m<=3&&g>>3==30){this.charLength=4;break}}this.charReceived=m},o.prototype.end=function(d){var m="";if(d&&d.length&&(m=this.write(d)),this.charReceived){var g=this.charReceived,y=this.charBuffer,S=this.encoding;m+=y.slice(0,g).toString(S)}return m}},function(e,t,r){e.exports=s;var n=r(21),i=r(18);function o(f){this.afterTransform=function(d,m){return function(g,y,S){var N=g._transformState;N.transforming=!1;var A=N.writecb;if(!A)return g.emit("error",new Error("no writecb in Transform class"));N.writechunk=null,N.writecb=null,S!=null&&g.push(S),A(y);var T=g._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&g._read(T.highWaterMark)}(f,d,m)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(f){if(!(this instanceof s))return new s(f);n.call(this,f),this._transformState=new o(this);var d=this;this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(m,g){a(d,m,g)}):a(d)})}function a(f,d,m){if(d)return f.emit("error",d);m!=null&&f.push(m);var g=f._writableState,y=f._transformState;if(g.length)throw new Error("Calling transform done when ws.length != 0");if(y.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}i.inherits=r(12),i.inherits(s,n),s.prototype.push=function(f,d){return this._transformState.needTransform=!1,n.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,m){throw new Error("_transform() is not implemented")},s.prototype._write=function(f,d,m){var g=this._transformState;if(g.writecb=m,g.writechunk=f,g.writeencoding=d,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0}},function(e,t,r){e.exports=o;var n=r(25),i=r(18);function o(s){if(!(this instanceof o))return new o(s);n.call(this,s)}i.inherits=r(12),i.inherits(o,n),o.prototype._transform=function(s,a,f){f(null,s)}},function(e,t,r){e.exports=r(22)},function(e,t,r){e.exports=r(21)},function(e,t,r){e.exports=r(25)},function(e,t,r){e.exports=r(26)},function(e,t,r){var n=r(32),i=r(33),o=r(38),s=r(39),a=r(40),f=r(41),d=r(42),m=Object.prototype.toString;function g(S){if(!(this instanceof g))return new g(S);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},S||{});var N=this.options;N.raw&&N.windowBits>=0&&N.windowBits<16&&(N.windowBits=-N.windowBits,N.windowBits===0&&(N.windowBits=-15)),!(N.windowBits>=0&&N.windowBits<16)||S&&S.windowBits||(N.windowBits+=32),N.windowBits>15&&N.windowBits<48&&(15&N.windowBits)==0&&(N.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var A=n.inflateInit2(this.strm,N.windowBits);if(A!==s.Z_OK)throw new Error(a[A]);this.header=new d,n.inflateGetHeader(this.strm,this.header)}function y(S,N){var A=new g(N);if(A.push(S,!0),A.err)throw A.msg||a[A.err];return A.result}g.prototype.push=function(S,N){var A,T,I,C,K,H,J=this.strm,M=this.options.chunkSize,V=this.options.dictionary,_=!1;if(this.ended)return!1;T=N===~~N?N:N===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof S=="string"?J.input=o.binstring2buf(S):m.call(S)==="[object ArrayBuffer]"?J.input=new Uint8Array(S):J.input=S,J.next_in=0,J.avail_in=J.input.length;do{if(J.avail_out===0&&(J.output=new i.Buf8(M),J.next_out=0,J.avail_out=M),(A=n.inflate(J,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&V&&(H=typeof V=="string"?o.string2buf(V):m.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,A=n.inflateSetDictionary(this.strm,H)),A===s.Z_BUF_ERROR&&_===!0&&(A=s.Z_OK,_=!1),A!==s.Z_STREAM_END&&A!==s.Z_OK)return this.onEnd(A),this.ended=!0,!1;J.next_out&&(J.avail_out!==0&&A!==s.Z_STREAM_END&&(J.avail_in!==0||T!==s.Z_FINISH&&T!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=o.utf8border(J.output,J.next_out),C=J.next_out-I,K=o.buf2string(J.output,I),J.next_out=C,J.avail_out=M-C,C&&i.arraySet(J.output,J.output,I,C,0),this.onData(K)):this.onData(i.shrinkBuf(J.output,J.next_out)))),J.avail_in===0&&J.avail_out===0&&(_=!0)}while((J.avail_in>0||J.avail_out===0)&&A!==s.Z_STREAM_END);return A===s.Z_STREAM_END&&(T=s.Z_FINISH),T===s.Z_FINISH?(A=n.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===s.Z_OK):T!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),J.avail_out=0,!0)},g.prototype.onData=function(S){this.chunks.push(S)},g.prototype.onEnd=function(S){S===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},t.Inflate=g,t.inflate=y,t.inflateRaw=function(S,N){return(N=N||{}).raw=!0,y(S,N)},t.ungzip=y},function(e,t,r){var n=r(33),i=r(34),o=r(35),s=r(36),a=r(37),f=-2,d=12,m=30;function g(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(M){var V;return M&&M.state?(V=M.state,M.total_in=M.total_out=V.total=0,M.msg="",V.wrap&&(M.adler=1&V.wrap),V.mode=1,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new n.Buf32(852),V.distcode=V.distdyn=new n.Buf32(592),V.sane=1,V.back=-1,0):f}function N(M){var V;return M&&M.state?((V=M.state).wsize=0,V.whave=0,V.wnext=0,S(M)):f}function A(M,V){var _,q;return M&&M.state?(q=M.state,V<0?(_=0,V=-V):(_=1+(V>>4),V<48&&(V&=15)),V&&(V<8||V>15)?f:(q.window!==null&&q.wbits!==V&&(q.window=null),q.wrap=_,q.wbits=V,N(M))):f}function T(M,V){var _,q;return M?(q=new y,M.state=q,q.window=null,(_=A(M,V))!==0&&(M.state=null),_):f}var I,C,K=!0;function H(M){if(K){var V;for(I=new n.Buf32(512),C=new n.Buf32(32),V=0;V<144;)M.lens[V++]=8;for(;V<256;)M.lens[V++]=9;for(;V<280;)M.lens[V++]=7;for(;V<288;)M.lens[V++]=8;for(a(1,M.lens,0,288,I,0,M.work,{bits:9}),V=0;V<32;)M.lens[V++]=5;a(2,M.lens,0,32,C,0,M.work,{bits:5}),K=!1}M.lencode=I,M.lenbits=9,M.distcode=C,M.distbits=5}function J(M,V,_,q){var te,X=M.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new n.Buf8(X.wsize)),q>=X.wsize?(n.arraySet(X.window,V,_-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):((te=X.wsize-X.wnext)>q&&(te=q),n.arraySet(X.window,V,_-q,te,X.wnext),(q-=te)?(n.arraySet(X.window,V,_-q,q,0),X.wnext=q,X.whave=X.wsize):(X.wnext+=te,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=te))),0}t.inflateReset=N,t.inflateReset2=A,t.inflateResetKeep=S,t.inflateInit=function(M){return T(M,15)},t.inflateInit2=T,t.inflate=function(M,V){var _,q,te,X,le,se,ye,P,D,ne,U,z,G,ue,ie,re,oe,pe,Ee,Ie,b,R,j,$,Z=0,Y=new n.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return f;(_=M.state).mode===d&&(_.mode=13),le=M.next_out,te=M.output,ye=M.avail_out,X=M.next_in,q=M.input,se=M.avail_in,P=_.hold,D=_.bits,ne=se,U=ye,R=0;e:for(;;)switch(_.mode){case 1:if(_.wrap===0){_.mode=13;break}for(;D<16;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}if(2&_.wrap&&P===35615){_.check=0,Y[0]=255&P,Y[1]=P>>>8&255,_.check=o(_.check,Y,2,0),P=0,D=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&P)<<8)+(P>>8))%31){M.msg="incorrect header check",_.mode=m;break}if((15&P)!=8){M.msg="unknown compression method",_.mode=m;break}if(D-=4,b=8+(15&(P>>>=4)),_.wbits===0)_.wbits=b;else if(b>_.wbits){M.msg="invalid window size",_.mode=m;break}_.dmax=1<<b,M.adler=_.check=1,_.mode=512&P?10:d,P=0,D=0;break;case 2:for(;D<16;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}if(_.flags=P,(255&_.flags)!=8){M.msg="unknown compression method",_.mode=m;break}if(57344&_.flags){M.msg="unknown header flags set",_.mode=m;break}_.head&&(_.head.text=P>>8&1),512&_.flags&&(Y[0]=255&P,Y[1]=P>>>8&255,_.check=o(_.check,Y,2,0)),P=0,D=0,_.mode=3;case 3:for(;D<32;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}_.head&&(_.head.time=P),512&_.flags&&(Y[0]=255&P,Y[1]=P>>>8&255,Y[2]=P>>>16&255,Y[3]=P>>>24&255,_.check=o(_.check,Y,4,0)),P=0,D=0,_.mode=4;case 4:for(;D<16;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}_.head&&(_.head.xflags=255&P,_.head.os=P>>8),512&_.flags&&(Y[0]=255&P,Y[1]=P>>>8&255,_.check=o(_.check,Y,2,0)),P=0,D=0,_.mode=5;case 5:if(1024&_.flags){for(;D<16;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}_.length=P,_.head&&(_.head.extra_len=P),512&_.flags&&(Y[0]=255&P,Y[1]=P>>>8&255,_.check=o(_.check,Y,2,0)),P=0,D=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&((z=_.length)>se&&(z=se),z&&(_.head&&(b=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),n.arraySet(_.head.extra,q,X,z,b)),512&_.flags&&(_.check=o(_.check,q,z,X)),se-=z,X+=z,_.length-=z),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(se===0)break e;z=0;do b=q[X+z++],_.head&&b&&_.length<65536&&(_.head.name+=String.fromCharCode(b));while(b&&z<se);if(512&_.flags&&(_.check=o(_.check,q,z,X)),se-=z,X+=z,b)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(se===0)break e;z=0;do b=q[X+z++],_.head&&b&&_.length<65536&&(_.head.comment+=String.fromCharCode(b));while(b&&z<se);if(512&_.flags&&(_.check=o(_.check,q,z,X)),se-=z,X+=z,b)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;D<16;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}if(P!==(65535&_.check)){M.msg="header crc mismatch",_.mode=m;break}P=0,D=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),M.adler=_.check=0,_.mode=d;break;case 10:for(;D<32;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}M.adler=_.check=g(P),P=0,D=0,_.mode=11;case 11:if(_.havedict===0)return M.next_out=le,M.avail_out=ye,M.next_in=X,M.avail_in=se,_.hold=P,_.bits=D,2;M.adler=_.check=1,_.mode=d;case d:if(V===5||V===6)break e;case 13:if(_.last){P>>>=7&D,D-=7&D,_.mode=27;break}for(;D<3;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}switch(_.last=1&P,D-=1,3&(P>>>=1)){case 0:_.mode=14;break;case 1:if(H(_),_.mode=20,V===6){P>>>=2,D-=2;break e}break;case 2:_.mode=17;break;case 3:M.msg="invalid block type",_.mode=m}P>>>=2,D-=2;break;case 14:for(P>>>=7&D,D-=7&D;D<32;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}if((65535&P)!=(P>>>16^65535)){M.msg="invalid stored block lengths",_.mode=m;break}if(_.length=65535&P,P=0,D=0,_.mode=15,V===6)break e;case 15:_.mode=16;case 16:if(z=_.length){if(z>se&&(z=se),z>ye&&(z=ye),z===0)break e;n.arraySet(te,q,X,z,le),se-=z,X+=z,ye-=z,le+=z,_.length-=z;break}_.mode=d;break;case 17:for(;D<14;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}if(_.nlen=257+(31&P),P>>>=5,D-=5,_.ndist=1+(31&P),P>>>=5,D-=5,_.ncode=4+(15&P),P>>>=4,D-=4,_.nlen>286||_.ndist>30){M.msg="too many length or distance symbols",_.mode=m;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;D<3;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}_.lens[_e[_.have++]]=7&P,P>>>=3,D-=3}for(;_.have<19;)_.lens[_e[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,j={bits:_.lenbits},R=a(0,_.lens,0,19,_.lencode,0,_.work,j),_.lenbits=j.bits,R){M.msg="invalid code lengths set",_.mode=m;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;re=(Z=_.lencode[P&(1<<_.lenbits)-1])>>>16&255,oe=65535&Z,!((ie=Z>>>24)<=D);){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}if(oe<16)P>>>=ie,D-=ie,_.lens[_.have++]=oe;else{if(oe===16){for($=ie+2;D<$;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}if(P>>>=ie,D-=ie,_.have===0){M.msg="invalid bit length repeat",_.mode=m;break}b=_.lens[_.have-1],z=3+(3&P),P>>>=2,D-=2}else if(oe===17){for($=ie+3;D<$;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}D-=ie,b=0,z=3+(7&(P>>>=ie)),P>>>=3,D-=3}else{for($=ie+7;D<$;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}D-=ie,b=0,z=11+(127&(P>>>=ie)),P>>>=7,D-=7}if(_.have+z>_.nlen+_.ndist){M.msg="invalid bit length repeat",_.mode=m;break}for(;z--;)_.lens[_.have++]=b}}if(_.mode===m)break;if(_.lens[256]===0){M.msg="invalid code -- missing end-of-block",_.mode=m;break}if(_.lenbits=9,j={bits:_.lenbits},R=a(1,_.lens,0,_.nlen,_.lencode,0,_.work,j),_.lenbits=j.bits,R){M.msg="invalid literal/lengths set",_.mode=m;break}if(_.distbits=6,_.distcode=_.distdyn,j={bits:_.distbits},R=a(2,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,j),_.distbits=j.bits,R){M.msg="invalid distances set",_.mode=m;break}if(_.mode=20,V===6)break e;case 20:_.mode=21;case 21:if(se>=6&&ye>=258){M.next_out=le,M.avail_out=ye,M.next_in=X,M.avail_in=se,_.hold=P,_.bits=D,s(M,U),le=M.next_out,te=M.output,ye=M.avail_out,X=M.next_in,q=M.input,se=M.avail_in,P=_.hold,D=_.bits,_.mode===d&&(_.back=-1);break}for(_.back=0;re=(Z=_.lencode[P&(1<<_.lenbits)-1])>>>16&255,oe=65535&Z,!((ie=Z>>>24)<=D);){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}if(re&&(240&re)==0){for(pe=ie,Ee=re,Ie=oe;re=(Z=_.lencode[Ie+((P&(1<<pe+Ee)-1)>>pe)])>>>16&255,oe=65535&Z,!(pe+(ie=Z>>>24)<=D);){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}P>>>=pe,D-=pe,_.back+=pe}if(P>>>=ie,D-=ie,_.back+=ie,_.length=oe,re===0){_.mode=26;break}if(32&re){_.back=-1,_.mode=d;break}if(64&re){M.msg="invalid literal/length code",_.mode=m;break}_.extra=15&re,_.mode=22;case 22:if(_.extra){for($=_.extra;D<$;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}_.length+=P&(1<<_.extra)-1,P>>>=_.extra,D-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;re=(Z=_.distcode[P&(1<<_.distbits)-1])>>>16&255,oe=65535&Z,!((ie=Z>>>24)<=D);){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}if((240&re)==0){for(pe=ie,Ee=re,Ie=oe;re=(Z=_.distcode[Ie+((P&(1<<pe+Ee)-1)>>pe)])>>>16&255,oe=65535&Z,!(pe+(ie=Z>>>24)<=D);){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}P>>>=pe,D-=pe,_.back+=pe}if(P>>>=ie,D-=ie,_.back+=ie,64&re){M.msg="invalid distance code",_.mode=m;break}_.offset=oe,_.extra=15&re,_.mode=24;case 24:if(_.extra){for($=_.extra;D<$;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}_.offset+=P&(1<<_.extra)-1,P>>>=_.extra,D-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){M.msg="invalid distance too far back",_.mode=m;break}_.mode=25;case 25:if(ye===0)break e;if(z=U-ye,_.offset>z){if((z=_.offset-z)>_.whave&&_.sane){M.msg="invalid distance too far back",_.mode=m;break}z>_.wnext?(z-=_.wnext,G=_.wsize-z):G=_.wnext-z,z>_.length&&(z=_.length),ue=_.window}else ue=te,G=le-_.offset,z=_.length;z>ye&&(z=ye),ye-=z,_.length-=z;do te[le++]=ue[G++];while(--z);_.length===0&&(_.mode=21);break;case 26:if(ye===0)break e;te[le++]=_.length,ye--,_.mode=21;break;case 27:if(_.wrap){for(;D<32;){if(se===0)break e;se--,P|=q[X++]<<D,D+=8}if(U-=ye,M.total_out+=U,_.total+=U,U&&(M.adler=_.check=_.flags?o(_.check,te,U,le-U):i(_.check,te,U,le-U)),U=ye,(_.flags?P:g(P))!==_.check){M.msg="incorrect data check",_.mode=m;break}P=0,D=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;D<32;){if(se===0)break e;se--,P+=q[X++]<<D,D+=8}if(P!==(4294967295&_.total)){M.msg="incorrect length check",_.mode=m;break}P=0,D=0}_.mode=29;case 29:R=1;break e;case m:R=-3;break e;case 31:return-4;default:return f}return M.next_out=le,M.avail_out=ye,M.next_in=X,M.avail_in=se,_.hold=P,_.bits=D,(_.wsize||U!==M.avail_out&&_.mode<m&&(_.mode<27||V!==4))&&J(M,M.output,M.next_out,U-M.avail_out),ne-=M.avail_in,U-=M.avail_out,M.total_in+=ne,M.total_out+=U,_.total+=U,_.wrap&&U&&(M.adler=_.check=_.flags?o(_.check,te,U,M.next_out-U):i(_.check,te,U,M.next_out-U)),M.data_type=_.bits+(_.last?64:0)+(_.mode===d?128:0)+(_.mode===20||_.mode===15?256:0),(ne===0&&U===0||V===4)&&R===0&&(R=-5),R},t.inflateEnd=function(M){if(!M||!M.state)return f;var V=M.state;return V.window&&(V.window=null),M.state=null,0},t.inflateGetHeader=function(M,V){var _;return M&&M.state?(2&(_=M.state).wrap)==0?f:(_.head=V,V.done=!1,0):f},t.inflateSetDictionary=function(M,V){var _,q=V.length;return M&&M.state?(_=M.state).wrap!==0&&_.mode!==11?f:_.mode===11&&i(1,V,q,0)!==_.check?-3:J(M,V,q,q)?(_.mode=31,-4):(_.havedict=1,0):f},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";t.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var f in a)a.hasOwnProperty(f)&&(o[f]=a[f])}}return o},t.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var n={arraySet:function(o,s,a,f,d){if(s.subarray&&o.subarray)o.set(s.subarray(a,a+f),d);else for(var m=0;m<f;m++)o[d+m]=s[a+m]},flattenChunks:function(o){var s,a,f,d,m,g;for(f=0,s=0,a=o.length;s<a;s++)f+=o[s].length;for(g=new Uint8Array(f),d=0,s=0,a=o.length;s<a;s++)m=o[s],g.set(m,d),d+=m.length;return g}},i={arraySet:function(o,s,a,f,d){for(var m=0;m<f;m++)o[d+m]=s[a+m]},flattenChunks:function(o){return[].concat.apply([],o)}};t.setTyped=function(o){o?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(r)},function(e,t){e.exports=function(r,n,i,o){for(var s=65535&r|0,a=r>>>16&65535|0,f=0;i!==0;){i-=f=i>2e3?2e3:i;do a=a+(s=s+n[o++]|0)|0;while(--f);s%=65521,a%=65521}return s|a<<16|0}},function(e,t){var r=function(){for(var n,i=[],o=0;o<256;o++){n=o;for(var s=0;s<8;s++)n=1&n?3988292384^n>>>1:n>>>1;i[o]=n}return i}();e.exports=function(n,i,o,s){var a=r,f=s+o;n^=-1;for(var d=s;d<f;d++)n=n>>>8^a[255&(n^i[d])];return-1^n}},function(e,t){e.exports=function(r,n){var i,o,s,a,f,d,m,g,y,S,N,A,T,I,C,K,H,J,M,V,_,q,te,X,le;i=r.state,o=r.next_in,X=r.input,s=o+(r.avail_in-5),a=r.next_out,le=r.output,f=a-(n-r.avail_out),d=a+(r.avail_out-257),m=i.dmax,g=i.wsize,y=i.whave,S=i.wnext,N=i.window,A=i.hold,T=i.bits,I=i.lencode,C=i.distcode,K=(1<<i.lenbits)-1,H=(1<<i.distbits)-1;e:do{T<15&&(A+=X[o++]<<T,T+=8,A+=X[o++]<<T,T+=8),J=I[A&K];t:for(;;){if(A>>>=M=J>>>24,T-=M,(M=J>>>16&255)==0)le[a++]=65535&J;else{if(!(16&M)){if((64&M)==0){J=I[(65535&J)+(A&(1<<M)-1)];continue t}if(32&M){i.mode=12;break e}r.msg="invalid literal/length code",i.mode=30;break e}V=65535&J,(M&=15)&&(T<M&&(A+=X[o++]<<T,T+=8),V+=A&(1<<M)-1,A>>>=M,T-=M),T<15&&(A+=X[o++]<<T,T+=8,A+=X[o++]<<T,T+=8),J=C[A&H];r:for(;;){if(A>>>=M=J>>>24,T-=M,!(16&(M=J>>>16&255))){if((64&M)==0){J=C[(65535&J)+(A&(1<<M)-1)];continue r}r.msg="invalid distance code",i.mode=30;break e}if(_=65535&J,T<(M&=15)&&(A+=X[o++]<<T,(T+=8)<M&&(A+=X[o++]<<T,T+=8)),(_+=A&(1<<M)-1)>m){r.msg="invalid distance too far back",i.mode=30;break e}if(A>>>=M,T-=M,_>(M=a-f)){if((M=_-M)>y&&i.sane){r.msg="invalid distance too far back",i.mode=30;break e}if(q=0,te=N,S===0){if(q+=g-M,M<V){V-=M;do le[a++]=N[q++];while(--M);q=a-_,te=le}}else if(S<M){if(q+=g+S-M,(M-=S)<V){V-=M;do le[a++]=N[q++];while(--M);if(q=0,S<V){V-=M=S;do le[a++]=N[q++];while(--M);q=a-_,te=le}}}else if(q+=S-M,M<V){V-=M;do le[a++]=N[q++];while(--M);q=a-_,te=le}for(;V>2;)le[a++]=te[q++],le[a++]=te[q++],le[a++]=te[q++],V-=3;V&&(le[a++]=te[q++],V>1&&(le[a++]=te[q++]))}else{q=a-_;do le[a++]=le[q++],le[a++]=le[q++],le[a++]=le[q++],V-=3;while(V>2);V&&(le[a++]=le[q++],V>1&&(le[a++]=le[q++]))}break}}break}}while(o<s&&a<d);o-=V=T>>3,A&=(1<<(T-=V<<3))-1,r.next_in=o,r.next_out=a,r.avail_in=o<s?s-o+5:5-(o-s),r.avail_out=a<d?d-a+257:257-(a-d),i.hold=A,i.bits=T}},function(e,t,r){var n=r(33),i=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(d,m,g,y,S,N,A,T){var I,C,K,H,J,M,V,_,q,te=T.bits,X=0,le=0,se=0,ye=0,P=0,D=0,ne=0,U=0,z=0,G=0,ue=null,ie=0,re=new n.Buf16(16),oe=new n.Buf16(16),pe=null,Ee=0;for(X=0;X<=i;X++)re[X]=0;for(le=0;le<y;le++)re[m[g+le]]++;for(P=te,ye=i;ye>=1&&re[ye]===0;ye--);if(P>ye&&(P=ye),ye===0)return S[N++]=20971520,S[N++]=20971520,T.bits=1,0;for(se=1;se<ye&&re[se]===0;se++);for(P<se&&(P=se),U=1,X=1;X<=i;X++)if(U<<=1,(U-=re[X])<0)return-1;if(U>0&&(d===0||ye!==1))return-1;for(oe[1]=0,X=1;X<i;X++)oe[X+1]=oe[X]+re[X];for(le=0;le<y;le++)m[g+le]!==0&&(A[oe[m[g+le]]++]=le);if(d===0?(ue=pe=A,M=19):d===1?(ue=o,ie-=257,pe=s,Ee-=257,M=256):(ue=a,pe=f,M=-1),G=0,le=0,X=se,J=N,D=P,ne=0,K=-1,H=(z=1<<P)-1,d===1&&z>852||d===2&&z>592)return 1;for(;;){V=X-ne,A[le]<M?(_=0,q=A[le]):A[le]>M?(_=pe[Ee+A[le]],q=ue[ie+A[le]]):(_=96,q=0),I=1<<X-ne,se=C=1<<D;do S[J+(G>>ne)+(C-=I)]=V<<24|_<<16|q|0;while(C!==0);for(I=1<<X-1;G&I;)I>>=1;if(I!==0?(G&=I-1,G+=I):G=0,le++,--re[X]==0){if(X===ye)break;X=m[g+A[le]]}if(X>P&&(G&H)!==K){for(ne===0&&(ne=P),J+=se,U=1<<(D=X-ne);D+ne<ye&&!((U-=re[D+ne])<=0);)D++,U<<=1;if(z+=1<<D,d===1&&z>852||d===2&&z>592)return 1;S[K=G&H]=P<<24|D<<16|J-N|0}}return G!==0&&(S[J+G]=X-ne<<24|64<<16|0),T.bits=P,0}},function(e,t,r){var n=r(33),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var s=new n.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function f(d,m){if(m<65537&&(d.subarray&&o||!d.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(d,m));for(var g="",y=0;y<m;y++)g+=String.fromCharCode(d[y]);return g}s[254]=s[254]=1,t.string2buf=function(d){var m,g,y,S,N,A=d.length,T=0;for(S=0;S<A;S++)(64512&(g=d.charCodeAt(S)))==55296&&S+1<A&&(64512&(y=d.charCodeAt(S+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),S++),T+=g<128?1:g<2048?2:g<65536?3:4;for(m=new n.Buf8(T),N=0,S=0;N<T;S++)(64512&(g=d.charCodeAt(S)))==55296&&S+1<A&&(64512&(y=d.charCodeAt(S+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),S++),g<128?m[N++]=g:g<2048?(m[N++]=192|g>>>6,m[N++]=128|63&g):g<65536?(m[N++]=224|g>>>12,m[N++]=128|g>>>6&63,m[N++]=128|63&g):(m[N++]=240|g>>>18,m[N++]=128|g>>>12&63,m[N++]=128|g>>>6&63,m[N++]=128|63&g);return m},t.buf2binstring=function(d){return f(d,d.length)},t.binstring2buf=function(d){for(var m=new n.Buf8(d.length),g=0,y=m.length;g<y;g++)m[g]=d.charCodeAt(g);return m},t.buf2string=function(d,m){var g,y,S,N,A=m||d.length,T=new Array(2*A);for(y=0,g=0;g<A;)if((S=d[g++])<128)T[y++]=S;else if((N=s[S])>4)T[y++]=65533,g+=N-1;else{for(S&=N===2?31:N===3?15:7;N>1&&g<A;)S=S<<6|63&d[g++],N--;N>1?T[y++]=65533:S<65536?T[y++]=S:(S-=65536,T[y++]=55296|S>>10&1023,T[y++]=56320|1023&S)}return f(T,y)},t.utf8border=function(d,m){var g;for((m=m||d.length)>d.length&&(m=d.length),g=m-1;g>=0&&(192&d[g])==128;)g--;return g<0||g===0?m:g+s[d[g]]>m?g:m}},function(e,t){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}])},Ma.exports=yw();Ju=!1,Ge=Ma.exports.BFSRequire("fs");Ma.exports.BFSRequire("buffer").Buffer;i0=async(e=["data","projects","extensions","settings","plugins"],t=()=>{},r=()=>{})=>!!Ju||new Promise(n=>{Ge.getRootFS(),Ma.exports.FileSystem.IndexedDB.Create({},(i,o)=>{if(i)throw i;if(!o)throw r(),new Error("Error creating BrowserFS");Ma.exports.initialize(o);let s=[];e.forEach(async a=>{s.push(s0(Ge,a))}),Promise.all(s).then(a=>{t(),Ju=!0,n(!0)})})});o0=async(e,t="data",r=n=>{console.log(n)})=>new Promise(n=>{Ge.stat("/"+t+"/"+e,(i,o)=>{if(i)throw i;let s=o.size;r(s),n(s)})}),gw=async(e="",t="data",r=(n,i)=>{console.log(n,i)})=>new Promise(n=>{Ge.open("/"+t+"/"+e,"r",(i,o)=>{if(i)throw i;Ge.read(o,65535,0,"utf-8",(s,a,f)=>{if(s)throw s;if(f!==0){let d=a.toString().split(`
`)[0];Ge.close(o,()=>{r(d,e),n(d)})}else n(void 0)})})}),vw=async(e="data",t=n=>{},r)=>new Promise(n=>{Ge.readdir("/"+e,(i,o)=>{if(i)throw i;o&&(console.log("files",o),t(o)),n(o)})}),os={},s0=async(e,t)=>new Promise(r=>{os[t]==="exists"||os[t]==="created"?r():e.exists(`/${t}`,n=>{n?(os[t]="exists",console.log(`/${t} exists!`),r()):os[t]==="creating"?(console.log(t+" is still being created."),r()):(console.log("creating "+t),os[t]="creating",e.mkdir(t,i=>{if(i)throw i;os[t]="created",setTimeout(r,500)}))})}),Yi=Object.freeze({__proto__:null,fs:Ge,initFS:i0,exists:async(e="",t="data")=>new Promise(r=>{Ge.exists("/"+t+"/"+e,function(n){r(n)})}),readFile:async(e="sessionName",t="data")=>(Ju||await i0(),new Promise(r=>{Ge.readFile("/"+t+"/"+e,function(n,i){r(i)})})),readFileChunk:mw,getFilenames:(e=r=>{},t="/data")=>new Promise(r=>{Ge.readdir(t,(n,i)=>{if(n)throw n;i?(console.log("files",i),e(i),r(i)):r(void 0)})}),writeFile:async(e,t,r="data",n=i=>{})=>new Promise(i=>{Ge.writeFile("/"+r+"/"+e,t,o=>{if(o)throw o;n(t),i(!0)})}),appendFile:async(e,t,r="data",n=i=>{})=>new Promise(i=>{Ge.appendFile("/"+r+"/"+e,t,o=>{if(o)throw o;n(t),i(!0)})}),deleteFile:(e="sessionName",t="data",r=vw)=>new Promise(n=>{e!=""?Ge.unlink("/"+t+"/"+e,i=>{i&&console.error(i),r(),n(!0)}):(console.error("Path name is not defined"),n(!1))}),readFileAsText:async(e="sessionName.csv",t="data",r="end",n=0,i=(o,s)=>{})=>new Promise(async o=>{let s=await o0(e,t);(r==="end"||typeof r=="number"&&r>s)&&(r=s),Ge.open("/"+t+"/"+e,"r",(a,f)=>{if(a)throw a;Ge.read(f,r,n,"utf-8",(d,m,g)=>{if(d)throw d;if(g!==0){let y=m.toString();Ge.close(f,()=>{i(y,e),o(y)})}else o(void 0)})})}),getFileSize:o0,getCSVHeader:gw,listFiles:vw,writeToCSVFromDB:async(e="sessionName",t="data",r=10)=>new Promise(n=>{e!=""?Ge.stat("/"+t+"/"+e,(i,o)=>{if(i)throw i;let s=o.size;console.log(s),Ge.open(t+"/"+e,"r",(a,f)=>{if(a)throw a;let d=1024*r*1024,m=d;s<d&&(m=s,Ge.read(f,m,0,"utf-8",(g,y,S)=>{if(g)throw g;S!==0&&ja.saveCSV(y.toString(),e),Ge.close(f),n(!0)}))})}):(console.error("File name is not defined."),n(!1))}),readCSVChunkFromDB:async function(e,t="data",r=0,n="end"){let i=await gw(e);if(!i)return;i=i.split(",");let o=[],s=[],a={};i.forEach(g=>{g?(s.push(g),o.push(1)):o[o.length-1]++});let f=await o0(e,t);n==="end"?n=f:n>f&&(r=f-(n-r),n=f);let d=await mw(e,t,r,n),m=0;return d.forEach((g,y)=>{let S=g.split(",");for(;m<S.length-1;){let N=o[0];N===1?(a[s[0]].push(S[m]),m++):(a[s[0]].push(S[m].slice(m,N)),m+=N)}}),a},saveToFS:async(e,t="sessionName",r="data")=>(Ju||await i0(),new Promise(async n=>{await s0(Ge,r),Ge.writeFile("/"+r+"/"+t,e,i=>{if(i)throw i;n(e)})})),dirExists:s0});B8=Object.freeze({__proto__:null,checkFolder:a0,createDriveFolder:function(e="Brainsatplay_Data"){let t=new Object;t.name=e,t.mimeType="application/vnd.google-apps.folder",window.gapi.client.drive.files.create({resource:t}).then(r=>{console.log(r.result)})},backupToDrive:(e,t="/data")=>{window.gapi.auth2.getAuthInstance().isSignedIn.get()?Ge.readFile(t+"/"+e,(r,n)=>{if(r)throw r;let i=new Blob([n.toString()],{type:"text/csv"});a0(o=>{let s={name:e+".csv",mimeType:"application/vnd.google-apps.spreadsheet",parents:[o.files[0].id]},a=window.gapi.auth.getToken().access_token;var f=new FormData;f.append("metadata",new Blob([JSON.stringify(s)],{type:"application/json"})),f.append("file",i);var d=new XMLHttpRequest;d.open("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id"),d.setRequestHeader("Authorization","Bearer "+a),d.responseType="json",d.onload=()=>{console.log("Uploaded file id: ",d.response.id),ww()},d.send(f)})}):alert("Sign in with Google first!")},listDriveFiles:ww});l0.regex=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;U8=Object.freeze({__proto__:null,dataURLtoBlob:function(e){if(l0(e)){for(var t=e.split(","),r=t[0].match(/:(.*?);/)[1],n=atob(t[1]),i=n.length,o=new Uint8Array(i);i--;)o[i]=n.charCodeAt(i);return new Blob([o],{type:r})}},blobToDataURL:function(e,t){var r=new FileReader;r.onload=function(n){t(n.target.result)},r.readAsDataURL(e)},dataToBlob:async function(e,t="text/plain",r=256e3){let n={filename,data:new Blob([e],{filetype:t})};if(Object.assign(n,props),n.data.size>r){let i=n.data.size,o=0,s=0,a=[];for(;o<i;){let f,d=o+r;if(d>i&&(d=i),f=t==="text/plain"?await n.data.slice(o,d).text():await n.data.slice(o,d).arrayBuffer(),f){let m={filename,data:new Blob([f],{type:t}),chunk:s,start:o,end:d};Object.assign(m,props),a.push(m)}o+=r,s++}return a}return n}});typeof minimongo<"u"&&(Sw=Ew());Ew=e=>{try{e=new minimongo.IndexedDb}catch{try{e=new minimongo.LocalStorageDb}catch{try{e=new minimongo.MemoryDb}catch{console.error("No DB created!")}}}return e},bw=async(e,t)=>{let r=e[t].find(),n=[];return await r.count()>0&&await Promise.all(r.map(async i=>{i.chunk!==void 0?i.chunk===0&&n.push(i.filename):n.push(i.filename)})),n},dx=bw,_w=async(e,t,r)=>{let n,i=e[t].find({filename:r});if(await i.count()>0){let o={};await Promise.all(i.map(async a=>{let f=await a.data.text();a.chunk!==void 0?o[a.chunk]=f:o[0]=f}));let s=Object.keys(o).length;for(let a=0;a<s;a++)n+=o[a]}return n},z8=Object.freeze({__proto__:null,get db(){return Sw},localDB:Ew,remoteDB:(e,t,r,n,i,o)=>new minimongo.RemoteDb(t,r,n,i,o),connectDB:(e,t,r,n,i,o)=>{let s=new minimongo.RemoteDb(t,r,n,i,o);return e=new minimongo.HybridDb(e,s)},readData:async(e,t="",r={})=>{if(t)return e[t]||e.addCollection(t),await e[t].findOne(r)},writeData:async(e,t,r={},n=o=>{},i=o=>{})=>{if(t)return e[t]||e.addCollection(t),await e[t].upsert(r,n,i)},readFile:async(e,t,r="")=>{if(!e[t])return;let n,i={filename:r},o=e[t].find(i);return await o.count()>0&&(n=[],await Promise.all(o.map(async s=>{n.push(s)}))),n},readFileChunk:async(e,t,r="",n,i,o,s=d=>{},a=d=>{},f)=>{if(!e[t])return;let d={filename:r};return n&&(d.chunk=n),i&&(d.start=i),o&&(d.end=o),n||i&&o?await e[t].findOne(d,f,s,a):void 0},writeFile:async(e,t,r="",n,i=d=>{},o=d=>{},s={},a="text/plain",f=256e3)=>{let d=e[t].find({filename:r});await d.count()>0&&await Promise.all(d.map(async g=>{e[t].remove(g._id)}));let m={filename:r,data:new Blob([n],{filetype:a})};if(Object.assign(m,s),m.data.size>f){let g=m.data.size,y=0,S=0;for(;y<g;){let N,A=y+f;if(A>g&&(A=g),N=a==="text/plain"?await m.data.slice(y,A).text():await m.data.slice(y,A).arrayBuffer(),N){let T={filename:r,data:new Blob([N],{type:a}),chunk:S,start:y,end:A};Object.assign(T,s),e[t].upsert(T,i,o)}y+=f,S++}}else e[t].upsert(m,i,o)},appendFile:async(e,t,r="",n,i=d=>{},o=d=>{},s={},a="text/plain",f=256e3)=>{let d=e[t].find({filename:r}),m=await d.count(),g=0,y={filename:r,data:new Blob([n],{filetype:a})};if(Object.assign(y,s),m>0)if(await Promise.all(d.map(async S=>{g+=S.size})),y.data.size>f){let S=g,N=m;for(;S<y.data.size+g;){let A,T=S+f;if(T>g&&(T=g),A=a==="text/plain"?await y.data.slice(S,T).text():await y.data.slice(S,T).arrayBuffer(),A){let I={filename:r,data:new Blob([A],{type:a}),chunk:N,start:S,end:T,size:T-S};Object.assign(I,s),e[t].upsert(I,i,o)}S+=f,N++}}else y.chunk=m,y.start=g,y.end=g+y.data.size,e[t].upsert(y,i,o);else e[t].upsert(y,i,o)},getFilenames:bw,listFiles:dx,getFileSize:async(e,t,r)=>{let n=e[t].find({filename:r}),i=await n.count(),o=0;return i>0&&await Promise.all(n.map(async s=>{o+=s.size})),o},deleteFile:async(e,t,r)=>await e[t].remove(r),writeToCSVFromDB:async(e,t,r)=>{let n=await _w(t,r);ja.saveCSV(n,r)},getCSVHeader:async(e,t,r)=>{let n,i=e[t].find({filename:r});return await i.count()>0&&await Promise.all(i.map(async o=>{if(o.chunk!==void 0&&o.chunk===0){let s=await o.data.text();n=s.substring(0,s.indexOf(`
`))}})),n},readFileAsText:_w})});function ss(e,t="state.json"){return He(this,null,function*(){yield Yi.initFS(["data"]),yield Yi.dirExists(Yi.fs,"data");let r=yield new Promise(i=>{Yi.fs.exists("/data/"+t,o=>{i(o)})}),n;if(r){n=yield Yi.readFileAsText("state.json","data");try{let i=JSON.parse(n);typeof i=="object"&&(i.loggedInId&&i.loggedInId===e._id||!i.loggedInId)&&$r.setState(i)}catch(i){console.error(i)}}return $r.subscribe("state",i=>{Yi.writeFile("state.json",JSON.stringify(i),"data")}),n})}var $r,Ba=Pr(()=>{pw();Ow();$r=new n0({route:"/",isLoggedIn:!1,appInitialized:!1,loggedInId:void 0})});function px(e,t){return t={exports:{}},e(t,t.exports),t.exports}function Bw(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function wx(e){var t=Bw(e),r=t[0],n=t[1];return(r+n)*3/4-n}function _x(e,t,r){return(t+r)*3/4-r}function Sx(e){var t,r=Bw(e),n=r[0],i=r[1],o=new vx(_x(e,n,i)),s=0,a=i>0?n-4:n,f;for(f=0;f<a;f+=4)t=Jr[e.charCodeAt(f)]<<18|Jr[e.charCodeAt(f+1)]<<12|Jr[e.charCodeAt(f+2)]<<6|Jr[e.charCodeAt(f+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return i===2&&(t=Jr[e.charCodeAt(f)]<<2|Jr[e.charCodeAt(f+1)]>>4,o[s++]=t&255),i===1&&(t=Jr[e.charCodeAt(f)]<<10|Jr[e.charCodeAt(f+1)]<<4|Jr[e.charCodeAt(f+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function Ex(e){return En[e>>18&63]+En[e>>12&63]+En[e>>6&63]+En[e&63]}function bx(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(Ex(n));return i.join("")}function Ox(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(bx(e,s,s+o>a?a:s+o));return n===1?(t=e[r-1],i.push(En[t>>2]+En[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(En[t>>10]+En[t>>4&63]+En[t<<2&63]+"=")),i.join("")}function g0(e,t){y0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Gu(e){return e&&e.Math==Math&&e}function Uw(){return Gu(typeof globalThis=="object"&&globalThis)||Gu(typeof window=="object"&&window)||Gu(typeof self=="object"&&self)||Gu(typeof global=="object"&&global)||Function("return this")()}function Nx(){var e=Uw();return typeof e.navigator=="object"&&e.navigator.product==="ReactNative"}function Ax(e){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(e))}function v0(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function Rx(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Dx(e){return qa(e)&&Object.prototype.toString.call(e)==="[object Date]"}function qa(e){return typeof e=="object"&&e!==null}function Zu(e,t){var r=!1;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r||(console.warn(t),r=!0),e.apply(this,i)}return n}function Yu(e){if(ArrayBuffer.isView(e))return Ve.from(e.buffer,e.byteOffset,e.byteLength);if(Ax(e))return Ve.from(e);throw new vt("Must use either Buffer or TypedArray")}function Fx(e){return qa(e)&&e.$id!=null&&typeof e.$ref=="string"&&(e.$db==null||typeof e.$db=="string")}function Lw(e){return!isNaN(parseInt(e,10))}function Wx(e){var t=Te.fromNumber(1e9),r=Te.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:r};for(var n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new Te(e.parts[n],0)),e.parts[n]=r.div(t).low,r=r.modulo(t);return{quotient:e,rem:r}}function $x(e,t){if(!e&&!t)return{high:Te.fromNumber(0),low:Te.fromNumber(0)};var r=e.shiftRightUnsigned(32),n=new Te(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new Te(t.getLowBits(),0),s=r.multiply(i),a=r.multiply(o),f=n.multiply(i),d=n.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new Te(a.getLowBits(),0).add(f).add(d.shiftRightUnsigned(32)),s=s.add(a.shiftRightUnsigned(32)),d=a.shiftLeft(32).add(new Te(d.getLowBits(),0)),{high:s,low:d}}function Hx(e,t){var r=e.high>>>0,n=t.high>>>0;if(r<n)return!0;if(r===n){var i=e.low>>>0,o=t.low>>>0;if(i<o)return!0}return!1}function ls(e,t){throw new vt('"'+e+'" is not a valid Decimal128 string - '+t)}function Gx(e){return e.split("").sort().join("")}function Kx(e){return qa(e)&&Reflect.has(e,"_bsontype")&&typeof e._bsontype=="string"}function Kw(e,t){if(t===void 0&&(t={}),typeof e=="number"){if(t.relaxed||t.legacy)return e;if(Math.floor(e)===e){if(e>=Jw&&e<=Hw)return new ec(e);if(e>=Yw&&e<=Gw)return Te.fromNumber(e)}return new Qu(e)}if(e==null||typeof e!="object")return e;if(e.$undefined)return null;for(var r=Object.keys(e).filter(function(g){return g.startsWith("$")&&e[g]!=null}),n=0;n<r.length;n++){var i=Zx[r[n]];if(i)return i.fromExtendedJSON(e,t)}if(e.$date!=null){var o=e.$date,s=new Date;return t.legacy?typeof o=="number"?s.setTime(o):typeof o=="string"&&s.setTime(Date.parse(o)):typeof o=="string"?s.setTime(Date.parse(o)):Te.isLong(o)?s.setTime(o.toNumber()):typeof o=="number"&&t.relaxed&&s.setTime(o),s}if(e.$code!=null){var a=Object.assign({},e);return e.$scope&&(a.$scope=Kw(e.$scope)),Xu.fromExtendedJSON(e)}if(Fx(e)||e.$dbPointer){var f=e.$ref?e:e.$dbPointer;if(f instanceof za)return f;var d=Object.keys(f).filter(function(g){return g.startsWith("$")}),m=!0;if(d.forEach(function(g){["$ref","$id","$db"].indexOf(g)===-1&&(m=!1)}),m)return za.fromExtendedJSON(f)}return e}function Xx(e,t){return e.map(function(r,n){t.seenObjects.push({propertyName:"index "+n,obj:null});try{return hi(r,t)}finally{t.seenObjects.pop()}})}function Pw(e){var t=e.toISOString();return e.getUTCMilliseconds()!==0?t:t.slice(0,-5)+"Z"}function hi(e,t){if((typeof e=="object"||typeof e=="function")&&e!==null){var r=t.seenObjects.findIndex(function(I){return I.obj===e});if(r!==-1){var n=t.seenObjects.map(function(I){return I.propertyName}),i=n.slice(0,r).map(function(I){return I+" -> "}).join(""),o=n[r],s=" -> "+n.slice(r+1,n.length-1).map(function(I){return I+" -> "}).join(""),a=n[n.length-1],f=" ".repeat(i.length+o.length/2),d="-".repeat(s.length+(o.length+a.length)/2-1);throw new vt(`Converting circular structure to EJSON:
`+("    "+i+o+s+a+`
`)+("    "+f+"\\"+d+"/"))}t.seenObjects[t.seenObjects.length-1].obj=e}if(Array.isArray(e))return Xx(e,t);if(e===void 0)return null;if(e instanceof Date||Dx(e)){var m=e.getTime(),g=m>-1&&m<2534023188e5;return t.legacy?t.relaxed&&g?{$date:e.getTime()}:{$date:Pw(e)}:t.relaxed&&g?{$date:Pw(e)}:{$date:{$numberLong:e.getTime().toString()}}}if(typeof e=="number"&&(!t.relaxed||!isFinite(e))){if(Math.floor(e)===e){var y=e>=Jw&&e<=Hw,S=e>=Yw&&e<=Gw;if(y)return{$numberInt:e.toString()};if(S)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp||Rx(e)){var N=e.flags;if(N===void 0){var A=e.toString().match(/[gimuy]*$/);A&&(N=A[0])}var T=new Va(e.source,N);return T.toExtendedJSON(t)}return e!=null&&typeof e=="object"?e6(e,t):e}function e6(e,t){if(e==null||typeof e!="object")throw new Xi("not an object instance");var r=e._bsontype;if(typeof r>"u"){var n={};for(var i in e){t.seenObjects.push({propertyName:i,obj:null});try{n[i]=hi(e[i],t)}finally{t.seenObjects.pop()}}return n}else if(Kx(e)){var o=e;if(typeof o.toExtendedJSON!="function"){var s=Qx[e._bsontype];if(!s)throw new vt("Unrecognized or invalid _bsontype: "+e._bsontype);o=s(o)}return r==="Code"&&o.scope?o=new Xu(o.code,hi(o.scope,t)):r==="DBRef"&&o.oid&&(o=new za(hi(o.collection,t),hi(o.oid,t),hi(o.db,t),hi(o.fields,t))),o.toExtendedJSON(t)}else throw new Xi("_bsontype must be a string, but was: "+typeof r)}var yx,mx,gx,En,Jr,vx,u0,Ki,xw,c0,xx,Tx,as,Ku,Ve,y0,Xi,vt,kx,Ix,zw,Cx,Vw,m0,Tw,f0,h0,qw,Qi,Xu,za,Hr,Nw,Lx,cs,Ww,kw,Iw,Aw,Te,Px,jx,Mx,Ua,d0,Rw,Bx,p0,Dw,Cw,Ux,zx,Fw,Vx,qx,w0,Qu,ec,_0,S0,Jx,Zi,us,yr,Va,E0,Yx,$w,Hw,Jw,Gw,Yw,Zx,Qx,di,jw,Mw,H8,J8,t6,r6,G8,Y8,n6,K8,b0=Pr(()=>{yx=wx,mx=Sx,gx=Ox,En=[],Jr=[],vx=typeof Uint8Array<"u"?Uint8Array:Array,u0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Ki=0,xw=u0.length;Ki<xw;++Ki)En[Ki]=u0[Ki],Jr[u0.charCodeAt(Ki)]=Ki;Jr["-".charCodeAt(0)]=62;Jr["_".charCodeAt(0)]=63;c0={byteLength:yx,toByteArray:mx,fromByteArray:gx};xx=function(t,r,n,i,o){var s,a,f=o*8-i-1,d=(1<<f)-1,m=d>>1,g=-7,y=n?o-1:0,S=n?-1:1,N=t[r+y];for(y+=S,s=N&(1<<-g)-1,N>>=-g,g+=f;g>0;s=s*256+t[r+y],y+=S,g-=8);for(a=s&(1<<-g)-1,s>>=-g,g+=i;g>0;a=a*256+t[r+y],y+=S,g-=8);if(s===0)s=1-m;else{if(s===d)return a?NaN:(N?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-m}return(N?-1:1)*a*Math.pow(2,s-i)},Tx=function(t,r,n,i,o,s){var a,f,d,m=s*8-o-1,g=(1<<m)-1,y=g>>1,S=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,N=i?0:s-1,A=i?1:-1,T=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,a=g):(a=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+y>=1?r+=S/d:r+=S*Math.pow(2,1-y),r*d>=2&&(a++,d/=2),a+y>=g?(f=0,a=g):a+y>=1?(f=(r*d-1)*Math.pow(2,o),a=a+y):(f=r*Math.pow(2,y-1)*Math.pow(2,o),a=0));o>=8;t[n+N]=f&255,N+=A,f/=256,o-=8);for(a=a<<o|f,m+=o;m>0;t[n+N]=a&255,N+=A,a/=256,m-=8);t[n+N-A]|=T*128},as={read:xx,write:Tx},Ku=px(function(e,t){var r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;var n=2147483647;t.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var F=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(F,E),F.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function o(F){if(F>n)throw new RangeError('The value "'+F+'" is invalid for option "size"');var E=new Uint8Array(F);return Object.setPrototypeOf(E,s.prototype),E}function s(F,E,O){if(typeof F=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(F)}return a(F,E,O)}s.poolSize=8192;function a(F,E,O){if(typeof F=="string")return g(F,E);if(ArrayBuffer.isView(F))return S(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(F));if(Z(F,ArrayBuffer)||F&&Z(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Z(F,SharedArrayBuffer)||F&&Z(F.buffer,SharedArrayBuffer)))return N(F,E,O);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var B=F.valueOf&&F.valueOf();if(B!=null&&B!==F)return s.from(B,E,O);var ee=A(F);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return s.from(F[Symbol.toPrimitive]("string"),E,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(F))}s.from=function(F,E,O){return a(F,E,O)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function f(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function d(F,E,O){return f(F),F<=0?o(F):E!==void 0?typeof O=="string"?o(F).fill(E,O):o(F).fill(E):o(F)}s.alloc=function(F,E,O){return d(F,E,O)};function m(F){return f(F),o(F<0?0:T(F)|0)}s.allocUnsafe=function(F){return m(F)},s.allocUnsafeSlow=function(F){return m(F)};function g(F,E){if((typeof E!="string"||E==="")&&(E="utf8"),!s.isEncoding(E))throw new TypeError("Unknown encoding: "+E);var O=C(F,E)|0,B=o(O),ee=B.write(F,E);return ee!==O&&(B=B.slice(0,ee)),B}function y(F){for(var E=F.length<0?0:T(F.length)|0,O=o(E),B=0;B<E;B+=1)O[B]=F[B]&255;return O}function S(F){if(Z(F,Uint8Array)){var E=new Uint8Array(F);return N(E.buffer,E.byteOffset,E.byteLength)}return y(F)}function N(F,E,O){if(E<0||F.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<E+(O||0))throw new RangeError('"length" is outside of buffer bounds');var B;return E===void 0&&O===void 0?B=new Uint8Array(F):O===void 0?B=new Uint8Array(F,E):B=new Uint8Array(F,E,O),Object.setPrototypeOf(B,s.prototype),B}function A(F){if(s.isBuffer(F)){var E=T(F.length)|0,O=o(E);return O.length===0||F.copy(O,0,0,E),O}if(F.length!==void 0)return typeof F.length!="number"||Y(F.length)?o(0):y(F);if(F.type==="Buffer"&&Array.isArray(F.data))return y(F.data)}function T(F){if(F>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return F|0}function I(F){return+F!=F&&(F=0),s.alloc(+F)}s.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==s.prototype},s.compare=function(E,O){if(Z(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),Z(O,Uint8Array)&&(O=s.from(O,O.offset,O.byteLength)),!s.isBuffer(E)||!s.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===O)return 0;for(var B=E.length,ee=O.length,fe=0,he=Math.min(B,ee);fe<he;++fe)if(E[fe]!==O[fe]){B=E[fe],ee=O[fe];break}return B<ee?-1:ee<B?1:0},s.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(E,O){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return s.alloc(0);var B;if(O===void 0)for(O=0,B=0;B<E.length;++B)O+=E[B].length;var ee=s.allocUnsafe(O),fe=0;for(B=0;B<E.length;++B){var he=E[B];if(Z(he,Uint8Array))fe+he.length>ee.length?s.from(he).copy(ee,fe):Uint8Array.prototype.set.call(ee,he,fe);else if(s.isBuffer(he))he.copy(ee,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=he.length}return ee};function C(F,E){if(s.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Z(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(F));var O=F.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&O===0)return 0;for(var ee=!1;;)switch(E){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return Ie(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return j(F).length;default:if(ee)return B?-1:Ie(F).length;E=(""+E).toLowerCase(),ee=!0}}s.byteLength=C;function K(F,E,O){var B=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,E>>>=0,O<=E))return"";for(F||(F="utf8");;)switch(F){case"hex":return U(this,E,O);case"utf8":case"utf-8":return se(this,E,O);case"ascii":return D(this,E,O);case"latin1":case"binary":return ne(this,E,O);case"base64":return le(this,E,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,E,O);default:if(B)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),B=!0}}s.prototype._isBuffer=!0;function H(F,E,O){var B=F[E];F[E]=F[O],F[O]=B}s.prototype.swap16=function(){var E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<E;O+=2)H(this,O,O+1);return this},s.prototype.swap32=function(){var E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<E;O+=4)H(this,O,O+3),H(this,O+1,O+2);return this},s.prototype.swap64=function(){var E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<E;O+=8)H(this,O,O+7),H(this,O+1,O+6),H(this,O+2,O+5),H(this,O+3,O+4);return this},s.prototype.toString=function(){var E=this.length;return E===0?"":arguments.length===0?se(this,0,E):K.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(E){if(!s.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:s.compare(this,E)===0},s.prototype.inspect=function(){var E="",O=t.INSPECT_MAX_BYTES;return E=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(E+=" ... "),"<Buffer "+E+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(E,O,B,ee,fe){if(Z(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),!s.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(E));if(O===void 0&&(O=0),B===void 0&&(B=E?E.length:0),ee===void 0&&(ee=0),fe===void 0&&(fe=this.length),O<0||B>E.length||ee<0||fe>this.length)throw new RangeError("out of range index");if(ee>=fe&&O>=B)return 0;if(ee>=fe)return-1;if(O>=B)return 1;if(O>>>=0,B>>>=0,ee>>>=0,fe>>>=0,this===E)return 0;for(var he=fe-ee,Ce=B-O,Re=Math.min(he,Ce),Je=this.slice(ee,fe),At=E.slice(O,B),Qe=0;Qe<Re;++Qe)if(Je[Qe]!==At[Qe]){he=Je[Qe],Ce=At[Qe];break}return he<Ce?-1:Ce<he?1:0};function J(F,E,O,B,ee){if(F.length===0)return-1;if(typeof O=="string"?(B=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,Y(O)&&(O=ee?0:F.length-1),O<0&&(O=F.length+O),O>=F.length){if(ee)return-1;O=F.length-1}else if(O<0)if(ee)O=0;else return-1;if(typeof E=="string"&&(E=s.from(E,B)),s.isBuffer(E))return E.length===0?-1:M(F,E,O,B,ee);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(F,E,O):Uint8Array.prototype.lastIndexOf.call(F,E,O):M(F,[E],O,B,ee);throw new TypeError("val must be string, number or Buffer")}function M(F,E,O,B,ee){var fe=1,he=F.length,Ce=E.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(F.length<2||E.length<2)return-1;fe=2,he/=2,Ce/=2,O/=2}function Re(Os,Oi){return fe===1?Os[Oi]:Os.readUInt16BE(Oi*fe)}var Je;if(ee){var At=-1;for(Je=O;Je<he;Je++)if(Re(F,Je)===Re(E,At===-1?0:Je-At)){if(At===-1&&(At=Je),Je-At+1===Ce)return At*fe}else At!==-1&&(Je-=Je-At),At=-1}else for(O+Ce>he&&(O=he-Ce),Je=O;Je>=0;Je--){for(var Qe=!0,yo=0;yo<Ce;yo++)if(Re(F,Je+yo)!==Re(E,yo)){Qe=!1;break}if(Qe)return Je}return-1}s.prototype.includes=function(E,O,B){return this.indexOf(E,O,B)!==-1},s.prototype.indexOf=function(E,O,B){return J(this,E,O,B,!0)},s.prototype.lastIndexOf=function(E,O,B){return J(this,E,O,B,!1)};function V(F,E,O,B){O=Number(O)||0;var ee=F.length-O;B?(B=Number(B),B>ee&&(B=ee)):B=ee;var fe=E.length;B>fe/2&&(B=fe/2);for(var he=0;he<B;++he){var Ce=parseInt(E.substr(he*2,2),16);if(Y(Ce))return he;F[O+he]=Ce}return he}function _(F,E,O,B){return $(Ie(E,F.length-O),F,O,B)}function q(F,E,O,B){return $(b(E),F,O,B)}function te(F,E,O,B){return $(j(E),F,O,B)}function X(F,E,O,B){return $(R(E,F.length-O),F,O,B)}s.prototype.write=function(E,O,B,ee){if(O===void 0)ee="utf8",B=this.length,O=0;else if(B===void 0&&typeof O=="string")ee=O,B=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(B)?(B=B>>>0,ee===void 0&&(ee="utf8")):(ee=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var fe=this.length-O;if((B===void 0||B>fe)&&(B=fe),E.length>0&&(B<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var he=!1;;)switch(ee){case"hex":return V(this,E,O,B);case"utf8":case"utf-8":return _(this,E,O,B);case"ascii":case"latin1":case"binary":return q(this,E,O,B);case"base64":return te(this,E,O,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,E,O,B);default:if(he)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),he=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(F,E,O){return E===0&&O===F.length?c0.fromByteArray(F):c0.fromByteArray(F.slice(E,O))}function se(F,E,O){O=Math.min(F.length,O);for(var B=[],ee=E;ee<O;){var fe=F[ee],he=null,Ce=fe>239?4:fe>223?3:fe>191?2:1;if(ee+Ce<=O){var Re,Je,At,Qe;switch(Ce){case 1:fe<128&&(he=fe);break;case 2:Re=F[ee+1],(Re&192)===128&&(Qe=(fe&31)<<6|Re&63,Qe>127&&(he=Qe));break;case 3:Re=F[ee+1],Je=F[ee+2],(Re&192)===128&&(Je&192)===128&&(Qe=(fe&15)<<12|(Re&63)<<6|Je&63,Qe>2047&&(Qe<55296||Qe>57343)&&(he=Qe));break;case 4:Re=F[ee+1],Je=F[ee+2],At=F[ee+3],(Re&192)===128&&(Je&192)===128&&(At&192)===128&&(Qe=(fe&15)<<18|(Re&63)<<12|(Je&63)<<6|At&63,Qe>65535&&Qe<1114112&&(he=Qe))}}he===null?(he=65533,Ce=1):he>65535&&(he-=65536,B.push(he>>>10&1023|55296),he=56320|he&1023),B.push(he),ee+=Ce}return P(B)}var ye=4096;function P(F){var E=F.length;if(E<=ye)return String.fromCharCode.apply(String,F);for(var O="",B=0;B<E;)O+=String.fromCharCode.apply(String,F.slice(B,B+=ye));return O}function D(F,E,O){var B="";O=Math.min(F.length,O);for(var ee=E;ee<O;++ee)B+=String.fromCharCode(F[ee]&127);return B}function ne(F,E,O){var B="";O=Math.min(F.length,O);for(var ee=E;ee<O;++ee)B+=String.fromCharCode(F[ee]);return B}function U(F,E,O){var B=F.length;(!E||E<0)&&(E=0),(!O||O<0||O>B)&&(O=B);for(var ee="",fe=E;fe<O;++fe)ee+=_e[F[fe]];return ee}function z(F,E,O){for(var B=F.slice(E,O),ee="",fe=0;fe<B.length-1;fe+=2)ee+=String.fromCharCode(B[fe]+B[fe+1]*256);return ee}s.prototype.slice=function(E,O){var B=this.length;E=~~E,O=O===void 0?B:~~O,E<0?(E+=B,E<0&&(E=0)):E>B&&(E=B),O<0?(O+=B,O<0&&(O=0)):O>B&&(O=B),O<E&&(O=E);var ee=this.subarray(E,O);return Object.setPrototypeOf(ee,s.prototype),ee};function G(F,E,O){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+E>O)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(E,O,B){E=E>>>0,O=O>>>0,B||G(E,O,this.length);for(var ee=this[E],fe=1,he=0;++he<O&&(fe*=256);)ee+=this[E+he]*fe;return ee},s.prototype.readUintBE=s.prototype.readUIntBE=function(E,O,B){E=E>>>0,O=O>>>0,B||G(E,O,this.length);for(var ee=this[E+--O],fe=1;O>0&&(fe*=256);)ee+=this[E+--O]*fe;return ee},s.prototype.readUint8=s.prototype.readUInt8=function(E,O){return E=E>>>0,O||G(E,1,this.length),this[E]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(E,O){return E=E>>>0,O||G(E,2,this.length),this[E]|this[E+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(E,O){return E=E>>>0,O||G(E,2,this.length),this[E]<<8|this[E+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(E,O){return E=E>>>0,O||G(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(E,O){return E=E>>>0,O||G(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},s.prototype.readIntLE=function(E,O,B){E=E>>>0,O=O>>>0,B||G(E,O,this.length);for(var ee=this[E],fe=1,he=0;++he<O&&(fe*=256);)ee+=this[E+he]*fe;return fe*=128,ee>=fe&&(ee-=Math.pow(2,8*O)),ee},s.prototype.readIntBE=function(E,O,B){E=E>>>0,O=O>>>0,B||G(E,O,this.length);for(var ee=O,fe=1,he=this[E+--ee];ee>0&&(fe*=256);)he+=this[E+--ee]*fe;return fe*=128,he>=fe&&(he-=Math.pow(2,8*O)),he},s.prototype.readInt8=function(E,O){return E=E>>>0,O||G(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},s.prototype.readInt16LE=function(E,O){E=E>>>0,O||G(E,2,this.length);var B=this[E]|this[E+1]<<8;return B&32768?B|4294901760:B},s.prototype.readInt16BE=function(E,O){E=E>>>0,O||G(E,2,this.length);var B=this[E+1]|this[E]<<8;return B&32768?B|4294901760:B},s.prototype.readInt32LE=function(E,O){return E=E>>>0,O||G(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},s.prototype.readInt32BE=function(E,O){return E=E>>>0,O||G(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},s.prototype.readFloatLE=function(E,O){return E=E>>>0,O||G(E,4,this.length),as.read(this,E,!0,23,4)},s.prototype.readFloatBE=function(E,O){return E=E>>>0,O||G(E,4,this.length),as.read(this,E,!1,23,4)},s.prototype.readDoubleLE=function(E,O){return E=E>>>0,O||G(E,8,this.length),as.read(this,E,!0,52,8)},s.prototype.readDoubleBE=function(E,O){return E=E>>>0,O||G(E,8,this.length),as.read(this,E,!1,52,8)};function ue(F,E,O,B,ee,fe){if(!s.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>ee||E<fe)throw new RangeError('"value" argument is out of bounds');if(O+B>F.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(E,O,B,ee){if(E=+E,O=O>>>0,B=B>>>0,!ee){var fe=Math.pow(2,8*B)-1;ue(this,E,O,B,fe,0)}var he=1,Ce=0;for(this[O]=E&255;++Ce<B&&(he*=256);)this[O+Ce]=E/he&255;return O+B},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(E,O,B,ee){if(E=+E,O=O>>>0,B=B>>>0,!ee){var fe=Math.pow(2,8*B)-1;ue(this,E,O,B,fe,0)}var he=B-1,Ce=1;for(this[O+he]=E&255;--he>=0&&(Ce*=256);)this[O+he]=E/Ce&255;return O+B},s.prototype.writeUint8=s.prototype.writeUInt8=function(E,O,B){return E=+E,O=O>>>0,B||ue(this,E,O,1,255,0),this[O]=E&255,O+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(E,O,B){return E=+E,O=O>>>0,B||ue(this,E,O,2,65535,0),this[O]=E&255,this[O+1]=E>>>8,O+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(E,O,B){return E=+E,O=O>>>0,B||ue(this,E,O,2,65535,0),this[O]=E>>>8,this[O+1]=E&255,O+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(E,O,B){return E=+E,O=O>>>0,B||ue(this,E,O,4,4294967295,0),this[O+3]=E>>>24,this[O+2]=E>>>16,this[O+1]=E>>>8,this[O]=E&255,O+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(E,O,B){return E=+E,O=O>>>0,B||ue(this,E,O,4,4294967295,0),this[O]=E>>>24,this[O+1]=E>>>16,this[O+2]=E>>>8,this[O+3]=E&255,O+4},s.prototype.writeIntLE=function(E,O,B,ee){if(E=+E,O=O>>>0,!ee){var fe=Math.pow(2,8*B-1);ue(this,E,O,B,fe-1,-fe)}var he=0,Ce=1,Re=0;for(this[O]=E&255;++he<B&&(Ce*=256);)E<0&&Re===0&&this[O+he-1]!==0&&(Re=1),this[O+he]=(E/Ce>>0)-Re&255;return O+B},s.prototype.writeIntBE=function(E,O,B,ee){if(E=+E,O=O>>>0,!ee){var fe=Math.pow(2,8*B-1);ue(this,E,O,B,fe-1,-fe)}var he=B-1,Ce=1,Re=0;for(this[O+he]=E&255;--he>=0&&(Ce*=256);)E<0&&Re===0&&this[O+he+1]!==0&&(Re=1),this[O+he]=(E/Ce>>0)-Re&255;return O+B},s.prototype.writeInt8=function(E,O,B){return E=+E,O=O>>>0,B||ue(this,E,O,1,127,-128),E<0&&(E=255+E+1),this[O]=E&255,O+1},s.prototype.writeInt16LE=function(E,O,B){return E=+E,O=O>>>0,B||ue(this,E,O,2,32767,-32768),this[O]=E&255,this[O+1]=E>>>8,O+2},s.prototype.writeInt16BE=function(E,O,B){return E=+E,O=O>>>0,B||ue(this,E,O,2,32767,-32768),this[O]=E>>>8,this[O+1]=E&255,O+2},s.prototype.writeInt32LE=function(E,O,B){return E=+E,O=O>>>0,B||ue(this,E,O,4,2147483647,-2147483648),this[O]=E&255,this[O+1]=E>>>8,this[O+2]=E>>>16,this[O+3]=E>>>24,O+4},s.prototype.writeInt32BE=function(E,O,B){return E=+E,O=O>>>0,B||ue(this,E,O,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[O]=E>>>24,this[O+1]=E>>>16,this[O+2]=E>>>8,this[O+3]=E&255,O+4};function ie(F,E,O,B,ee,fe){if(O+B>F.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function re(F,E,O,B,ee){return E=+E,O=O>>>0,ee||ie(F,E,O,4),as.write(F,E,O,B,23,4),O+4}s.prototype.writeFloatLE=function(E,O,B){return re(this,E,O,!0,B)},s.prototype.writeFloatBE=function(E,O,B){return re(this,E,O,!1,B)};function oe(F,E,O,B,ee){return E=+E,O=O>>>0,ee||ie(F,E,O,8),as.write(F,E,O,B,52,8),O+8}s.prototype.writeDoubleLE=function(E,O,B){return oe(this,E,O,!0,B)},s.prototype.writeDoubleBE=function(E,O,B){return oe(this,E,O,!1,B)},s.prototype.copy=function(E,O,B,ee){if(!s.isBuffer(E))throw new TypeError("argument should be a Buffer");if(B||(B=0),!ee&&ee!==0&&(ee=this.length),O>=E.length&&(O=E.length),O||(O=0),ee>0&&ee<B&&(ee=B),ee===B||E.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),E.length-O<ee-B&&(ee=E.length-O+B);var fe=ee-B;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(O,B,ee):Uint8Array.prototype.set.call(E,this.subarray(B,ee),O),fe},s.prototype.fill=function(E,O,B,ee){if(typeof E=="string"){if(typeof O=="string"?(ee=O,O=0,B=this.length):typeof B=="string"&&(ee=B,B=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!s.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(E.length===1){var fe=E.charCodeAt(0);(ee==="utf8"&&fe<128||ee==="latin1")&&(E=fe)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(O<0||this.length<O||this.length<B)throw new RangeError("Out of range index");if(B<=O)return this;O=O>>>0,B=B===void 0?this.length:B>>>0,E||(E=0);var he;if(typeof E=="number")for(he=O;he<B;++he)this[he]=E;else{var Ce=s.isBuffer(E)?E:s.from(E,ee),Re=Ce.length;if(Re===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(he=0;he<B-O;++he)this[he+O]=Ce[he%Re]}return this};var pe=/[^+/0-9A-Za-z-_]/g;function Ee(F){if(F=F.split("=")[0],F=F.trim().replace(pe,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function Ie(F,E){E=E||1/0;for(var O,B=F.length,ee=null,fe=[],he=0;he<B;++he){if(O=F.charCodeAt(he),O>55295&&O<57344){if(!ee){if(O>56319){(E-=3)>-1&&fe.push(239,191,189);continue}else if(he+1===B){(E-=3)>-1&&fe.push(239,191,189);continue}ee=O;continue}if(O<56320){(E-=3)>-1&&fe.push(239,191,189),ee=O;continue}O=(ee-55296<<10|O-56320)+65536}else ee&&(E-=3)>-1&&fe.push(239,191,189);if(ee=null,O<128){if((E-=1)<0)break;fe.push(O)}else if(O<2048){if((E-=2)<0)break;fe.push(O>>6|192,O&63|128)}else if(O<65536){if((E-=3)<0)break;fe.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((E-=4)<0)break;fe.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return fe}function b(F){for(var E=[],O=0;O<F.length;++O)E.push(F.charCodeAt(O)&255);return E}function R(F,E){for(var O,B,ee,fe=[],he=0;he<F.length&&!((E-=2)<0);++he)O=F.charCodeAt(he),B=O>>8,ee=O%256,fe.push(ee),fe.push(B);return fe}function j(F){return c0.toByteArray(Ee(F))}function $(F,E,O,B){for(var ee=0;ee<B&&!(ee+O>=E.length||ee>=F.length);++ee)E[ee+O]=F[ee];return ee}function Z(F,E){return F instanceof E||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===E.name}function Y(F){return F!==F}var _e=function(){for(var F="0123456789abcdef",E=new Array(256),O=0;O<16;++O)for(var B=O*16,ee=0;ee<16;++ee)E[B+ee]=F[O]+F[ee];return E}()}),Ve=Ku.Buffer;Ku.SlowBuffer;Ku.INSPECT_MAX_BYTES;Ku.kMaxLength;y0=function(t,r){return y0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},y0(t,r)};Xi=function(e){g0(t,e);function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return Object.defineProperty(t.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),t}(Error),vt=function(e){g0(t,e);function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return Object.defineProperty(t.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),t}(TypeError);kx=function(t){var r=Nx()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(r);for(var n=Ve.alloc(t),i=0;i<t;++i)n[i]=Math.floor(Math.random()*256);return n},Ix=function(){if(typeof window<"u"){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)return function(r){return e.getRandomValues(Ve.alloc(r))}}if(typeof global<"u"&&global.crypto&&global.crypto.getRandomValues)return function(r){return global.crypto.getRandomValues(Ve.alloc(r))};var t;try{t=Vb("crypto").randomBytes}catch{}return t||kx},zw=Ix();Cx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,Vw=function(e){return typeof e=="string"&&Cx.test(e)},m0=function(e){if(!Vw(e))throw new vt('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var t=e.replace(/-/g,"");return Ve.from(t,"hex")},Tw=function(e,t){return t===void 0&&(t=!0),t?e.toString("hex",0,4)+"-"+e.toString("hex",4,6)+"-"+e.toString("hex",6,8)+"-"+e.toString("hex",8,10)+"-"+e.toString("hex",10,16):e.toString("hex")},f0=16,h0=Symbol("id"),qw=function(){function e(t){if(typeof t>"u")this.id=e.generate();else if(t instanceof e)this[h0]=Ve.from(t.id),this.__id=t.__id;else if(ArrayBuffer.isView(t)&&t.byteLength===f0)this.id=Yu(t);else if(typeof t=="string")this.id=m0(t);else throw new vt("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).")}return Object.defineProperty(e.prototype,"id",{get:function(){return this[h0]},set:function(t){this[h0]=t,e.cacheHexString&&(this.__id=Tw(t))},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(t){if(t===void 0&&(t=!0),e.cacheHexString&&this.__id)return this.__id;var r=Tw(this.id,t);return e.cacheHexString&&(this.__id=r),r},e.prototype.toString=function(t){return t?this.id.toString(t):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){if(!t)return!1;if(t instanceof e)return t.id.equals(this.id);try{return new e(t).id.equals(this.id)}catch{return!1}},e.prototype.toBinary=function(){return new Qi(this.id,Qi.SUBTYPE_UUID)},e.generate=function(){var t=zw(f0);return t[6]=t[6]&15|64,t[8]=t[8]&63|128,Ve.from(t)},e.isValid=function(t){if(!t)return!1;if(t instanceof e)return!0;if(typeof t=="string")return Vw(t);if(v0(t)){if(t.length!==f0)return!1;try{return parseInt(t[6].toString(16)[0],10)===Qi.SUBTYPE_UUID}catch{return!1}}return!1},e.createFromHexString=function(t){var r=m0(t);return new e(r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new UUID("'+this.toHexString()+'")'},e}();Object.defineProperty(qw.prototype,"_bsontype",{value:"UUID"});Qi=function(){function e(t,r){if(!(this instanceof e))return new e(t,r);if(t!=null&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!(t instanceof ArrayBuffer)&&!Array.isArray(t))throw new vt("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??e.BSON_BINARY_SUBTYPE_DEFAULT,t==null?(this.buffer=Ve.alloc(e.BUFFER_SIZE),this.position=0):(typeof t=="string"?this.buffer=Ve.from(t,"binary"):Array.isArray(t)?this.buffer=Ve.from(t):this.buffer=Yu(t),this.position=this.buffer.byteLength)}return e.prototype.put=function(t){if(typeof t=="string"&&t.length!==1)throw new vt("only accepts single character String");if(typeof t!="number"&&t.length!==1)throw new vt("only accepts single character Uint8Array or Array");var r;if(typeof t=="string"?r=t.charCodeAt(0):typeof t=="number"?r=t:r=t[0],r<0||r>255)throw new vt("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var n=Ve.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}},e.prototype.write=function(t,r){if(r=typeof r=="number"?r:this.position,this.buffer.length<r+t.length){var n=Ve.alloc(this.buffer.length+t.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(t)?(this.buffer.set(Yu(t),r),this.position=r+t.byteLength>this.position?r+t.length:this.position):typeof t=="string"&&(this.buffer.write(t,r,t.length,"binary"),this.position=r+t.length>this.position?r+t.length:this.position)},e.prototype.read=function(t,r){return r=r&&r>0?r:this.position,this.buffer.slice(t,t+r)},e.prototype.value=function(t){return t=!!t,t&&this.buffer.length===this.position?this.buffer:t?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},e.prototype.length=function(){return this.position},e.prototype.toJSON=function(){return this.buffer.toString("base64")},e.prototype.toString=function(t){return this.buffer.toString(t)},e.prototype.toExtendedJSON=function(t){t=t||{};var r=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return t.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}},e.prototype.toUUID=function(){if(this.sub_type===e.SUBTYPE_UUID)return new qw(this.buffer.slice(0,this.position));throw new Xi('Binary sub_type "'+this.sub_type+'" is not supported for converting to UUID. Only "'+e.SUBTYPE_UUID+'" is currently supported.')},e.fromExtendedJSON=function(t,r){r=r||{};var n,i;if("$binary"in t?r.legacy&&typeof t.$binary=="string"&&"$type"in t?(i=t.$type?parseInt(t.$type,16):0,n=Ve.from(t.$binary,"base64")):typeof t.$binary!="string"&&(i=t.$binary.subType?parseInt(t.$binary.subType,16):0,n=Ve.from(t.$binary.base64,"base64")):"$uuid"in t&&(i=4,n=m0(t.$uuid)),!n)throw new vt("Unexpected Binary Extended JSON format "+JSON.stringify(t));return new e(n,i)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.value(!0);return'new Binary(Buffer.from("'+t.toString("hex")+'", "hex"), '+this.sub_type+")"},e.BSON_BINARY_SUBTYPE_DEFAULT=0,e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_ENCRYPTED=6,e.SUBTYPE_COLUMN=7,e.SUBTYPE_USER_DEFINED=128,e}();Object.defineProperty(Qi.prototype,"_bsontype",{value:"Binary"});Xu=function(){function e(t,r){if(!(this instanceof e))return new e(t,r);this.code=t,this.scope=r}return e.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},e.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},e.fromExtendedJSON=function(t){return new e(t.$code,t.$scope)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.toJSON();return'new Code("'+t.code+'"'+(t.scope?", "+JSON.stringify(t.scope):"")+")"},e}();Object.defineProperty(Xu.prototype,"_bsontype",{value:"Code"});za=function(){function e(t,r,n,i){if(!(this instanceof e))return new e(t,r,n,i);var o=t.split(".");o.length===2&&(n=o.shift(),t=o.shift()),this.collection=t,this.oid=r,this.db=n,this.fields=i||{}}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(t){this.collection=t},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var t=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(t.$db=this.db),t},e.prototype.toExtendedJSON=function(t){t=t||{};var r={$ref:this.collection,$id:this.oid};return t.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r},e.fromExtendedJSON=function(t){var r=Object.assign({},t);return delete r.$ref,delete r.$id,delete r.$db,new e(t.$ref,t.$id,t.$db,r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+t+'")'+(this.db?', "'+this.db+'"':"")+")"},e}();Object.defineProperty(za.prototype,"_bsontype",{value:"DBRef"});Hr=void 0;try{Hr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}Nw=1<<16,Lx=1<<24,cs=Nw*Nw,Ww=cs*cs,kw=Ww/2,Iw={},Aw={},Te=function(){function e(t,r,n){if(t===void 0&&(t=0),!(this instanceof e))return new e(t,r,n);typeof t=="bigint"?Object.assign(this,e.fromBigInt(t,!!r)):typeof t=="string"?Object.assign(this,e.fromString(t,!!r)):(this.low=t|0,this.high=r|0,this.unsigned=!!n),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return e.fromBits=function(t,r,n){return new e(t,r,n)},e.fromInt=function(t,r){var n,i,o;return r?(t>>>=0,(o=0<=t&&t<256)&&(i=Aw[t],i)?i:(n=e.fromBits(t,(t|0)<0?-1:0,!0),o&&(Aw[t]=n),n)):(t|=0,(o=-128<=t&&t<128)&&(i=Iw[t],i)?i:(n=e.fromBits(t,t<0?-1:0,!1),o&&(Iw[t]=n),n))},e.fromNumber=function(t,r){if(isNaN(t))return r?e.UZERO:e.ZERO;if(r){if(t<0)return e.UZERO;if(t>=Ww)return e.MAX_UNSIGNED_VALUE}else{if(t<=-kw)return e.MIN_VALUE;if(t+1>=kw)return e.MAX_VALUE}return t<0?e.fromNumber(-t,r).neg():e.fromBits(t%cs|0,t/cs|0,r)},e.fromBigInt=function(t,r){return e.fromString(t.toString(),r)},e.fromString=function(t,r,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return e.ZERO;if(typeof r=="number"?(n=r,r=!1):r=!!r,n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return e.fromString(t.substring(1),r,n).neg();for(var o=e.fromNumber(Math.pow(n,8)),s=e.ZERO,a=0;a<t.length;a+=8){var f=Math.min(8,t.length-a),d=parseInt(t.substring(a,a+f),n);if(f<8){var m=e.fromNumber(Math.pow(n,f));s=s.mul(m).add(e.fromNumber(d))}else s=s.mul(o),s=s.add(e.fromNumber(d))}return s.unsigned=r,s},e.fromBytes=function(t,r,n){return n?e.fromBytesLE(t,r):e.fromBytesBE(t,r)},e.fromBytesLE=function(t,r){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},e.fromBytesBE=function(t,r){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)},e.isLong=function(t){return qa(t)&&t.__isLong__===!0},e.fromValue=function(t,r){return typeof t=="number"?e.fromNumber(t,r):typeof t=="string"?e.fromString(t,r):e.fromBits(t.low,t.high,typeof r=="boolean"?r:t.unsigned)},e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var r=this.high>>>16,n=this.high&65535,i=this.low>>>16,o=this.low&65535,s=t.high>>>16,a=t.high&65535,f=t.low>>>16,d=t.low&65535,m=0,g=0,y=0,S=0;return S+=o+d,y+=S>>>16,S&=65535,y+=i+f,g+=y>>>16,y&=65535,g+=n+a,m+=g>>>16,g&=65535,m+=r+s,m&=65535,e.fromBits(y<<16|S,m<<16|g,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.prototype.comp=function(t){return this.compare(t)},e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(Hr){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var r=(this.unsigned?Hr.div_u:Hr.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,Hr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var n,i,o;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;o=e.UZERO}else{if(this.eq(e.MIN_VALUE)){if(t.eq(e.ONE)||t.eq(e.NEG_ONE))return e.MIN_VALUE;if(t.eq(e.MIN_VALUE))return e.ONE;var s=this.shr(1);return n=s.div(t).shl(1),n.eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(i=this.sub(t.mul(n)),o=n.add(i.div(t)),o)}else if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=e.ZERO}for(i=this;i.gte(t);){n=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),f=a<=48?1:Math.pow(2,a-48),d=e.fromNumber(n),m=d.mul(t);m.isNegative()||m.gt(i);)n-=f,d=e.fromNumber(n,this.unsigned),m=d.mul(t);d.isZero()&&(d=e.ONE),o=o.add(d),i=i.sub(m)}return o},e.prototype.div=function(t){return this.divide(t)},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},e.prototype.eq=function(t){return this.equals(t)},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t=this.high!==0?this.high:this.low,r;for(r=31;r>0&&(t&1<<r)===0;r--);return this.high!==0?r+33:r+1},e.prototype.greaterThan=function(t){return this.comp(t)>0},e.prototype.gt=function(t){return this.greaterThan(t)},e.prototype.greaterThanOrEqual=function(t){return this.comp(t)>=0},e.prototype.gte=function(t){return this.greaterThanOrEqual(t)},e.prototype.ge=function(t){return this.greaterThanOrEqual(t)},e.prototype.isEven=function(){return(this.low&1)===0},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isOdd=function(){return(this.low&1)===1},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isZero=function(){return this.high===0&&this.low===0},e.prototype.lessThan=function(t){return this.comp(t)<0},e.prototype.lt=function(t){return this.lessThan(t)},e.prototype.lessThanOrEqual=function(t){return this.comp(t)<=0},e.prototype.lte=function(t){return this.lessThanOrEqual(t)},e.prototype.modulo=function(t){if(e.isLong(t)||(t=e.fromValue(t)),Hr){var r=(this.unsigned?Hr.rem_u:Hr.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,Hr.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},e.prototype.mod=function(t){return this.modulo(t)},e.prototype.rem=function(t){return this.modulo(t)},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),Hr){var r=Hr.mul(this.low,this.high,t.low,t.high);return e.fromBits(r,Hr.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,o=this.low>>>16,s=this.low&65535,a=t.high>>>16,f=t.high&65535,d=t.low>>>16,m=t.low&65535,g=0,y=0,S=0,N=0;return N+=s*m,S+=N>>>16,N&=65535,S+=o*m,y+=S>>>16,S&=65535,S+=s*d,y+=S>>>16,S&=65535,y+=i*m,g+=y>>>16,y&=65535,y+=o*d,g+=y>>>16,y&=65535,y+=s*f,g+=y>>>16,y&=65535,g+=n*m+i*d+o*f+s*a,g&=65535,e.fromBits(S<<16|N,g<<16|y,this.unsigned)},e.prototype.mul=function(t){return this.multiply(t)},e.prototype.negate=function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=function(){return this.negate()},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.notEquals=function(t){return!this.equals(t)},e.prototype.neq=function(t){return this.notEquals(t)},e.prototype.ne=function(t){return this.notEquals(t)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return e.isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=function(t){return this.shiftLeft(t)},e.prototype.shiftRight=function(t){return e.isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=function(t){return this.shiftRight(t)},e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),t&=63,t===0)return this;var r=this.high;if(t<32){var n=this.low;return e.fromBits(n>>>t|r<<32-t,r>>>t,this.unsigned)}else return t===32?e.fromBits(r,0,this.unsigned):e.fromBits(r>>>t-32,0,this.unsigned)},e.prototype.shr_u=function(t){return this.shiftRightUnsigned(t)},e.prototype.shru=function(t){return this.shiftRightUnsigned(t)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())},e.prototype.sub=function(t){return this.subtract(t)},e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*cs+(this.low>>>0):this.high*cs+(this.low>>>0)},e.prototype.toBigInt=function(){return BigInt(this.toString())},e.prototype.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]},e.prototype.toBytesBE=function(){var t=this.high,r=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},e.prototype.toSigned=function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this},e.prototype.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(e.MIN_VALUE)){var r=e.fromNumber(t),n=this.div(r),i=n.mul(r).sub(this);return n.toString(t)+i.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var o=e.fromNumber(Math.pow(t,6),this.unsigned),s=this,a="";;){var f=s.div(o),d=s.sub(f.mul(o)).toInt()>>>0,m=d.toString(t);if(s=f,s.isZero())return m+a;for(;m.length<6;)m="0"+m;a=""+m+a}},e.prototype.toUnsigned=function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.eqz=function(){return this.isZero()},e.prototype.le=function(t){return this.lessThanOrEqual(t)},e.prototype.toExtendedJSON=function(t){return t&&t.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,r){var n=e.fromString(t.$numberLong);return r&&r.relaxed?n.toNumber():n},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Long("'+this.toString()+'"'+(this.unsigned?", true":"")+")"},e.TWO_PWR_24=e.fromInt(Lx),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e}();Object.defineProperty(Te.prototype,"__isLong__",{value:!0});Object.defineProperty(Te.prototype,"_bsontype",{value:"Long"});Px=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,jx=/^(\+|-)?(Infinity|inf)$/i,Mx=/^(\+|-)?NaN$/i,Ua=6111,d0=-6176,Rw=6176,Bx=34,p0=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Dw=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Cw=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Ux=/^([-+])?(\d+)?$/,zx=31,Fw=16383,Vx=30,qx=31;w0=function(){function e(t){if(!(this instanceof e))return new e(t);if(typeof t=="string")this.bytes=e.fromString(t).bytes;else if(v0(t)){if(t.byteLength!==16)throw new vt("Decimal128 must take a Buffer of 16 bytes");this.bytes=t}else throw new vt("Decimal128 must take a Buffer or string")}return e.fromString=function(t){var r=!1,n=!1,i=!1,o=0,s=0,a=0,f=0,d=0,m=[0],g=0,y=0,S=0,N=0,A=0,T=0,I=new Te(0,0),C=new Te(0,0),K=0,H=0;if(t.length>=7e3)throw new vt(""+t+" not a valid Decimal128 string");var J=t.match(Px),M=t.match(jx),V=t.match(Mx);if(!J&&!M&&!V||t.length===0)throw new vt(""+t+" not a valid Decimal128 string");if(J){var _=J[2],q=J[4],te=J[5],X=J[6];q&&X===void 0&&ls(t,"missing exponent power"),q&&_===void 0&&ls(t,"missing exponent base"),q===void 0&&(te||X)&&ls(t,"missing e before exponent")}if((t[H]==="+"||t[H]==="-")&&(r=t[H++]==="-"),!Lw(t[H])&&t[H]!=="."){if(t[H]==="i"||t[H]==="I")return new e(Ve.from(r?Dw:Cw));if(t[H]==="N")return new e(Ve.from(p0))}for(;Lw(t[H])||t[H]===".";){if(t[H]==="."){n&&ls(t,"contains multiple periods"),n=!0,H=H+1;continue}g<34&&(t[H]!=="0"||i)&&(i||(d=s),i=!0,m[y++]=parseInt(t[H],10),g=g+1),i&&(a=a+1),n&&(f=f+1),s=s+1,H=H+1}if(n&&!s)throw new vt(""+t+" not a valid Decimal128 string");if(t[H]==="e"||t[H]==="E"){var le=t.substr(++H).match(Ux);if(!le||!le[2])return new e(Ve.from(p0));A=parseInt(le[0],10),H=H+le[0].length}if(t[H])return new e(Ve.from(p0));if(S=0,!g)S=0,N=0,m[0]=0,a=1,g=1,o=0;else if(N=g-1,o=a,o!==1)for(;m[d+o-1]===0;)o=o-1;for(A<=f&&f-A>1<<14?A=d0:A=A-f;A>Ua;){if(N=N+1,N-S>Bx){var se=m.join("");if(se.match(/^0+$/)){A=Ua;break}ls(t,"overflow")}A=A-1}for(;A<d0||g<a;){if(N===0&&o<g){A=d0,o=0;break}if(g<a?a=a-1:N=N-1,A<Ua)A=A+1;else{var se=m.join("");if(se.match(/^0+$/)){A=Ua;break}ls(t,"overflow")}}if(N-S+1<o){var ye=s;n&&(d=d+1,ye=ye+1),r&&(d=d+1,ye=ye+1);var P=parseInt(t[d+N+1],10),D=0;if(P>=5&&(D=1,P===5)){for(D=m[N]%2===1?1:0,T=d+N+2;T<ye;T++)if(parseInt(t[T],10)){D=1;break}}if(D){for(var ne=N;ne>=0;ne--)if(++m[ne]>9&&(m[ne]=0,ne===0))if(A<Ua)A=A+1,m[ne]=1;else return new e(Ve.from(r?Dw:Cw))}}if(I=Te.fromNumber(0),C=Te.fromNumber(0),o===0)I=Te.fromNumber(0),C=Te.fromNumber(0);else if(N-S<17){var ne=S;for(C=Te.fromNumber(m[ne++]),I=new Te(0,0);ne<=N;ne++)C=C.multiply(Te.fromNumber(10)),C=C.add(Te.fromNumber(m[ne]))}else{var ne=S;for(I=Te.fromNumber(m[ne++]);ne<=N-17;ne++)I=I.multiply(Te.fromNumber(10)),I=I.add(Te.fromNumber(m[ne]));for(C=Te.fromNumber(m[ne++]);ne<=N;ne++)C=C.multiply(Te.fromNumber(10)),C=C.add(Te.fromNumber(m[ne]))}var U=$x(I,Te.fromString("100000000000000000"));U.low=U.low.add(C),Hx(U.low,C)&&(U.high=U.high.add(Te.fromNumber(1))),K=A+Rw;var z={low:Te.fromNumber(0),high:Te.fromNumber(0)};U.high.shiftRightUnsigned(49).and(Te.fromNumber(1)).equals(Te.fromNumber(1))?(z.high=z.high.or(Te.fromNumber(3).shiftLeft(61)),z.high=z.high.or(Te.fromNumber(K).and(Te.fromNumber(16383).shiftLeft(47))),z.high=z.high.or(U.high.and(Te.fromNumber(140737488355327)))):(z.high=z.high.or(Te.fromNumber(K&16383).shiftLeft(49)),z.high=z.high.or(U.high.and(Te.fromNumber(562949953421311)))),z.low=U.low,r&&(z.high=z.high.or(Te.fromString("9223372036854775808")));var G=Ve.alloc(16);return H=0,G[H++]=z.low.low&255,G[H++]=z.low.low>>8&255,G[H++]=z.low.low>>16&255,G[H++]=z.low.low>>24&255,G[H++]=z.low.high&255,G[H++]=z.low.high>>8&255,G[H++]=z.low.high>>16&255,G[H++]=z.low.high>>24&255,G[H++]=z.high.low&255,G[H++]=z.high.low>>8&255,G[H++]=z.high.low>>16&255,G[H++]=z.high.low>>24&255,G[H++]=z.high.high&255,G[H++]=z.high.high>>8&255,G[H++]=z.high.high>>16&255,G[H++]=z.high.high>>24&255,new e(G)},e.prototype.toString=function(){for(var t,r=0,n=new Array(36),i=0;i<n.length;i++)n[i]=0;var o=0,s=!1,a,f={parts:[0,0,0,0]},d,m,g=[];o=0;var y=this.bytes,S=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,N=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,A=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,T=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24;o=0;var I={low:new Te(S,N),high:new Te(A,T)};I.high.lessThan(Te.ZERO)&&g.push("-");var C=T>>26&zx;if(C>>3===3){if(C===Vx)return g.join("")+"Infinity";if(C===qx)return"NaN";t=T>>15&Fw,a=8+(T>>14&1)}else a=T>>14&7,t=T>>17&Fw;var K=t-Rw;if(f.parts[0]=(T&16383)+((a&15)<<14),f.parts[1]=A,f.parts[2]=N,f.parts[3]=S,f.parts[0]===0&&f.parts[1]===0&&f.parts[2]===0&&f.parts[3]===0)s=!0;else for(m=3;m>=0;m--){var H=0,J=Wx(f);if(f=J.quotient,H=J.rem.low,!!H)for(d=8;d>=0;d--)n[m*9+d]=H%10,H=Math.floor(H/10)}if(s)r=1,n[o]=0;else for(r=36;!n[o];)r=r-1,o=o+1;var M=r-1+K;if(M>=34||M<=-7||K>0){if(r>34)return g.push(""+0),K>0?g.push("E+"+K):K<0&&g.push("E"+K),g.join("");g.push(""+n[o++]),r=r-1,r&&g.push(".");for(var i=0;i<r;i++)g.push(""+n[o++]);g.push("E"),M>0?g.push("+"+M):g.push(""+M)}else if(K>=0)for(var i=0;i<r;i++)g.push(""+n[o++]);else{var V=r+K;if(V>0)for(var i=0;i<V;i++)g.push(""+n[o++]);else g.push("0");for(g.push(".");V++<0;)g.push("0");for(var i=0;i<r-Math.max(V-1,0);i++)g.push(""+n[o++])}return g.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Decimal128("'+this.toString()+'")'},e}();Object.defineProperty(w0.prototype,"_bsontype",{value:"Decimal128"});Qu=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toString=function(t){return this.value.toString(t)},e.prototype.toExtendedJSON=function(t){if(t&&(t.legacy||t.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-"+this.value.toFixed(1)};var r;return Number.isInteger(this.value)?(r=this.value.toFixed(1),r.length>=13&&(r=this.value.toExponential(13).toUpperCase())):r=this.value.toString(),{$numberDouble:r}},e.fromExtendedJSON=function(t,r){var n=parseFloat(t.$numberDouble);return r&&r.relaxed?n:new e(n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.toExtendedJSON();return"new Double("+t.$numberDouble+")"},e}();Object.defineProperty(Qu.prototype,"_bsontype",{value:"Double"});ec=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t|0}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(t){return this.value.toString(t)},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(t){return t&&(t.relaxed||t.legacy)?this.value:{$numberInt:this.value.toString()}},e.fromExtendedJSON=function(t,r){return r&&r.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},e}();Object.defineProperty(ec.prototype,"_bsontype",{value:"Int32"});_0=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$maxKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MaxKey()"},e}();Object.defineProperty(_0.prototype,"_bsontype",{value:"MaxKey"});S0=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$minKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MinKey()"},e}();Object.defineProperty(S0.prototype,"_bsontype",{value:"MinKey"});Jx=new RegExp("^[0-9a-fA-F]{24}$"),Zi=null,us=Symbol("id"),yr=function(){function e(t){if(!(this instanceof e))return new e(t);var r;if(typeof t=="object"&&t&&"id"in t){if(typeof t.id!="string"&&!ArrayBuffer.isView(t.id))throw new vt("Argument passed in must have an id that is of type string or Buffer");"toHexString"in t&&typeof t.toHexString=="function"?r=Ve.from(t.toHexString(),"hex"):r=t.id}else r=t;if(r==null||typeof r=="number")this[us]=e.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[us]=Yu(r);else if(typeof r=="string")if(r.length===12){var n=Ve.from(r);if(n.byteLength===12)this[us]=n;else throw new vt("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&Jx.test(r))this[us]=Ve.from(r,"hex");else throw new vt("Argument passed in must be a string of 12 bytes or a string of 24 hex characters");else throw new vt("Argument passed in does not match the accepted types");e.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(e.prototype,"id",{get:function(){return this[us]},set:function(t){this[us]=t,e.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(t){this.id.writeUInt32BE(t,0)},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t},e.getInc=function(){return e.index=(e.index+1)%16777215},e.generate=function(t){typeof t!="number"&&(t=Math.floor(Date.now()/1e3));var r=e.getInc(),n=Ve.alloc(12);return n.writeUInt32BE(t,0),Zi===null&&(Zi=zw(5)),n[4]=Zi[0],n[5]=Zi[1],n[6]=Zi[2],n[7]=Zi[3],n[8]=Zi[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n},e.prototype.toString=function(t){return t?this.id.toString(t):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){return t==null?!1:t instanceof e?this.toString()===t.toString():typeof t=="string"&&e.isValid(t)&&t.length===12&&v0(this.id)?t===Ve.prototype.toString.call(this.id,"latin1"):typeof t=="string"&&e.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&e.isValid(t)&&t.length===12?Ve.from(t).equals(this.id):typeof t=="object"&&"toHexString"in t&&typeof t.toHexString=="function"?t.toHexString()===this.toHexString():!1},e.prototype.getTimestamp=function(){var t=new Date,r=this.id.readUInt32BE(0);return t.setTime(Math.floor(r)*1e3),t},e.createPk=function(){return new e},e.createFromTime=function(t){var r=Ve.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(t,0),new e(r)},e.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new vt("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(Ve.from(t,"hex"))},e.isValid=function(t){if(t==null)return!1;try{return new e(t),!0}catch{return!1}},e.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},e.fromExtendedJSON=function(t){return new e(t.$oid)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},e.index=Math.floor(Math.random()*16777215),e}();Object.defineProperty(yr.prototype,"generate",{value:Zu(function(e){return yr.generate(e)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(yr.prototype,"getInc",{value:Zu(function(){return yr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(yr.prototype,"get_inc",{value:Zu(function(){return yr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(yr,"get_inc",{value:Zu(function(){return yr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(yr.prototype,"_bsontype",{value:"ObjectID"});Va=function(){function e(t,r){if(!(this instanceof e))return new e(t,r);if(this.pattern=t,this.options=Gx(r??""),this.pattern.indexOf("\0")!==-1)throw new Xi("BSON Regex patterns cannot contain null bytes, found: "+JSON.stringify(this.pattern));if(this.options.indexOf("\0")!==-1)throw new Xi("BSON Regex options cannot contain null bytes, found: "+JSON.stringify(this.options));for(var n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new Xi("The regular expression option ["+this.options[n]+"] is not supported")}return e.parseOptions=function(t){return t?t.split("").sort().join(""):""},e.prototype.toExtendedJSON=function(t){return t=t||{},t.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},e.fromExtendedJSON=function(t){if("$regex"in t)if(typeof t.$regex!="string"){if(t.$regex._bsontype==="BSONRegExp")return t}else return new e(t.$regex,e.parseOptions(t.$options));if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new vt("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(t))},e}();Object.defineProperty(Va.prototype,"_bsontype",{value:"BSONRegExp"});E0=function(){function e(t){if(!(this instanceof e))return new e(t);this.value=t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(){return{$symbol:this.value}},e.fromExtendedJSON=function(t){return new e(t.$symbol)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e}();Object.defineProperty(E0.prototype,"_bsontype",{value:"Symbol"});Yx=Te,$w=function(e){g0(t,e);function t(r,n){var i=this;return i instanceof t?(Te.isLong(r)?i=e.call(this,r.low,r.high,!0)||this:qa(r)&&typeof r.t<"u"&&typeof r.i<"u"?i=e.call(this,r.i,r.t,!0)||this:i=e.call(this,r,n,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new t(r,n)}return t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(r){return new t(Te.fromInt(r,!0))},t.fromNumber=function(r){return new t(Te.fromNumber(r,!0))},t.fromBits=function(r,n){return new t(r,n)},t.fromString=function(r,n){return new t(Te.fromString(r,!0,n))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(r){return new t(r.$timestamp)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp({ t: "+this.getHighBits()+", i: "+this.getLowBits()+" })"},t.MAX_VALUE=Te.MAX_UNSIGNED_VALUE,t}(Yx);Hw=2147483647,Jw=-2147483648,Gw=9223372036854776e3,Yw=-9223372036854776e3,Zx={$oid:yr,$binary:Qi,$uuid:Qi,$symbol:E0,$numberInt:ec,$numberDecimal:w0,$numberDouble:Qu,$numberLong:Te,$minKey:S0,$maxKey:_0,$regex:Va,$regularExpression:Va,$timestamp:$w};Qx={Binary:function(e){return new Qi(e.value(),e.sub_type)},Code:function(e){return new Xu(e.code,e.scope)},DBRef:function(e){return new za(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new w0(e.bytes)},Double:function(e){return new Qu(e.value)},Int32:function(e){return new ec(e.value)},Long:function(e){return Te.fromBits(e.low!=null?e.low:e.low_,e.low!=null?e.high:e.high_,e.low!=null?e.unsigned:e.unsigned_)},MaxKey:function(){return new _0},MinKey:function(){return new S0},ObjectID:function(e){return new yr(e)},ObjectId:function(e){return new yr(e)},BSONRegExp:function(e){return new Va(e.pattern,e.options)},Symbol:function(e){return new E0(e.value)},Timestamp:function(e){return $w.fromBits(e.low,e.high)}};(function(e){function t(o,s){var a=Object.assign({},{relaxed:!0,legacy:!1},s);return typeof a.relaxed=="boolean"&&(a.strict=!a.relaxed),typeof a.strict=="boolean"&&(a.relaxed=!a.strict),JSON.parse(o,function(f,d){if(f.indexOf("\0")!==-1)throw new Xi("BSON Document field names cannot contain null bytes, found: "+JSON.stringify(f));return Kw(d,a)})}e.parse=t;function r(o,s,a,f){a!=null&&typeof a=="object"&&(f=a,a=0),s!=null&&typeof s=="object"&&!Array.isArray(s)&&(f=s,s=void 0,a=0);var d=Object.assign({relaxed:!0,legacy:!1},f,{seenObjects:[{propertyName:"(root)",obj:null}]}),m=hi(o,d);return JSON.stringify(m,s,a)}e.stringify=r;function n(o,s){return s=s||{},JSON.parse(r(o,s))}e.serialize=n;function i(o,s){return s=s||{},t(JSON.stringify(o),s)}e.deserialize=i})(di||(di={}));Mw=Uw();Mw.Map?jw=Mw.Map:jw=function(){function e(t){t===void 0&&(t=[]),this._keys=[],this._values={};for(var r=0;r<t.length;r++)if(t[r]!=null){var n=t[r],i=n[0],o=n[1];this._keys.push(i),this._values[i]={v:o,i:this._keys.length-1}}}return e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(t){var r=this._values[t];return r==null?!1:(delete this._values[t],this._keys.splice(r.i,1),!0)},e.prototype.entries=function(){var t=this,r=0;return{next:function(){var n=t._keys[r++];return{value:n!==void 0?[n,t._values[n].v]:void 0,done:n===void 0}}}},e.prototype.forEach=function(t,r){r=r||this;for(var n=0;n<this._keys.length;n++){var i=this._keys[n];t.call(r,this._values[i].v,i,r)}},e.prototype.get=function(t){return this._values[t]?this._values[t].v:void 0},e.prototype.has=function(t){return this._values[t]!=null},e.prototype.keys=function(){var t=this,r=0;return{next:function(){var n=t._keys[r++];return{value:n!==void 0?n:void 0,done:n===void 0}}}},e.prototype.set=function(t,r){return this._values[t]?(this._values[t].v=r,this):(this._keys.push(t),this._values[t]={v:r,i:this._keys.length-1},this)},e.prototype.values=function(){var t=this,r=0;return{next:function(){var n=t._keys[r++];return{value:n!==void 0?t._values[n].v:void 0,done:n===void 0}}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),e}();H8=Math.pow(2,63)-1,J8=-Math.pow(2,63),t6=Math.pow(2,53),r6=-Math.pow(2,53),G8=Te.fromNumber(t6),Y8=Te.fromNumber(r6),n6=1024*1024*17,K8=Ve.alloc(n6)});function d6(e){return e?e_(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new u6:typeof navigator<"u"?e_(navigator.userAgent):m6()}function p6(e){return e!==""&&h6.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]},!1)}function e_(e){var t=p6(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new l6;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<Xw&&(i=Zw(Zw([],i,!0),g6(Xw-i.length),!0)):i=[];var o=i.join("."),s=y6(e),a=f6.exec(e);return a&&a[1]?new a6(r,o,s,a[1]):new o6(r,o,s)}function y6(e){for(var t=0,r=Qw.length;t<r;t++){var n=Qw[t],i=n[0],o=n[1],s=o.exec(e);if(s)return i}return null}function m6(){var e=typeof process<"u"&&process.version;return e?new s6(process.version.slice(1)):null}function g6(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}function x_(e){return di.serialize(e,A6)}function T_(e){return Array.isArray(e)?e.map(t=>di.deserialize(t)):di.deserialize(e)}function R0(e){return Object.fromEntries(Object.entries(e).filter(t=>typeof t[1]<"u"))}function R6(e,t){let r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function I_(e,t=!0){let r=R0(e);return(t&&Object.keys(r).length>0?"?":"")+Object.entries(r).map(([i,o])=>`${i}=${encodeURIComponent(o)}`).join("&")}function D6(e){let t=e[0]==="?"?e.substr(1):e;return Object.fromEntries(t.split("&").filter(r=>r.length>0).map(r=>r.split("=")).map(([r,n])=>[r,decodeURIComponent(n)]))}function F6(e){for(let t of e)if(typeof t=="object"&&t)for(let[r,n]of Object.entries(t))n===void 0&&delete t[r];return e}function L6(e){return F6(e).map(r=>typeof r=="object"?x_(r):r)}function M6(){return{path:"/api/client/v2.0",app(e){return{path:this.path+`/app/${e}`,location(){return{path:this.path+"/location"}},authProvider(t){return{path:this.path+`/auth/providers/${t}`,login(){return{path:this.path+"/login"}}}},emailPasswordAuth(t){return{...this.authProvider(t),register(){return{path:this.path+"/register"}},confirm(){return{path:this.path+"/confirm"}},confirmSend(){return{path:this.path+"/confirm/send"}},confirmCall(){return{path:this.path+"/confirm/call"}},reset(){return{path:this.path+"/reset"}},resetSend(){return{path:this.path+"/reset/send"}},resetCall(){return{path:this.path+"/reset/call"}}}},functionsCall(){return{path:this.path+"/functions/call"}}}},auth(){return{path:this.path+"/auth",apiKeys(){return{path:this.path+"/api_keys",key(e){return{path:this.path+`/${e}`,enable(){return{path:this.path+"/enable"}},disable(){return{path:this.path+"/disable"}}}}}},profile(){return{path:this.path+"/profile"}},session(){return{path:this.path+"/session"}},delete(){return{path:this.path+"/delete"}}}}}}function B6(e){D0=e}function $a(){if(D0)return D0;throw new Error("Cannot get environment before it's set")}function U6(e,t,r,n){return new F_(e,t,r,n)}function z6(e,t,r){return{collection:U6.bind(null,e,t,r)}}function V6(e,t="mongo-db"){return{db:z6.bind(null,e,t)}}function J6(e){if(typeof e!="object"||e===null)throw new Error("Expected a non-null object");if(Symbol.asyncIterator in e)return e;if("getReader"in e){let t=e;return{[Symbol.asyncIterator](){let r=t.getReader();return{next(){return r.read()},async return(){return await r.cancel(),{done:!0,value:null}}}}}}else throw new Error("Expected an AsyncIterable or a ReadableStream")}function Z6(e){return typeof globalThis.open=="function"?globalThis.open(e):(console.log(`Please open ${e}`),null)}function U_(e=globalThis.location,t=B_.defaultStorage){try{let r=e.hash.substr(1);pi.handleRedirect(r,t)}catch(r){console.warn(r)}}var Zw,o6,s6,a6,l6,u6,c6,f6,Xw,h6,Qw,nn,h_,v6,w6,_6,ps,t_,r_,S6,Wa,tc,E6,Gt,n_,d_,p_,y_,F0,k0,rc,b6,O6,m_,i_,ds,o_,x6,T6,g_,v_,L0,w_,__,N6,S_,I0,k6,E_,b_,O_,I6,ic,A6,A0,rn,s_,P0,Yr,N_,O0,x0,T0,N0,k_,C6,Ja,A_,P6,j6,eo,R_,Gr,D_,D0,nc,ir,C_,F_,q6,to,a_,C0,Jt,l_,u_,L_,W6,$6,H6,pi,c_,P_,Ha,ro,G6,f_,j_,Y6,bn,M_,hs,K6,B_,z_=Pr(()=>{b0();b0();Zw=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},o6=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),s6=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),a6=function(){function e(t,r,n,i){this.name=t,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return e}(),l6=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),u6=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),c6=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,f6=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Xw=3,h6=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",c6]],Qw=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];nn=class{constructor(){if(!nn.fetch)throw new Error("DefaultNetworkTransport.fetch must be set before it's used");if(!nn.AbortController)throw new Error("DefaultNetworkTransport.AbortController must be set before it's used")}fetchWithCallbacks(t,r){this.fetch(t).then(async n=>{let i=await n.text(),o={};return n.headers.forEach((s,a)=>{o[a]=s}),{statusCode:n.status,headers:o,body:i}}).then(n=>r.onSuccess(n)).catch(n=>r.onError(n))}async fetch(t){let{timeoutMs:r,url:n,...i}=t,{signal:o,cancelTimeout:s}=this.createTimeoutSignal(r);try{return await nn.fetch(n,{...nn.extraFetchOptions,signal:o,...i})}finally{s()}}createTimeoutSignal(t){if(typeof t=="number"){let r=new nn.AbortController,n=setTimeout(()=>{r.abort()},t);return{signal:r.signal,cancelTimeout:()=>{clearTimeout(n)}}}else return{signal:void 0,cancelTimeout:()=>{}}}};nn.DEFAULT_HEADERS={"Content-Type":"application/json"};nn.fetch=globalThis.fetch.bind(globalThis);nn.AbortController=globalThis.AbortController;h_="3.7.2",v6=h_,w6=typeof atob=="function",_6=typeof btoa=="function",ps=typeof Buffer=="function",t_=typeof TextDecoder=="function"?new TextDecoder:void 0,r_=typeof TextEncoder=="function"?new TextEncoder:void 0,S6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Wa=Array.prototype.slice.call(S6),tc=(e=>{let t={};return e.forEach((r,n)=>t[r]=n),t})(Wa),E6=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Gt=String.fromCharCode.bind(String),n_=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(e,t=r=>r)=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),d_=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),p_=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),y_=e=>{let t,r,n,i,o="",s=e.length%3;for(let a=0;a<e.length;){if((r=e.charCodeAt(a++))>255||(n=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=r<<16|n<<8|i,o+=Wa[t>>18&63]+Wa[t>>12&63]+Wa[t>>6&63]+Wa[t&63]}return s?o.slice(0,s-3)+"===".substring(s):o},F0=_6?e=>btoa(e):ps?e=>Buffer.from(e,"binary").toString("base64"):y_,k0=ps?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let n=0,i=e.length;n<i;n+=4096)r.push(Gt.apply(null,e.subarray(n,n+4096)));return F0(r.join(""))},rc=(e,t=!1)=>t?d_(k0(e)):k0(e),b6=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Gt(192|t>>>6)+Gt(128|t&63):Gt(224|t>>>12&15)+Gt(128|t>>>6&63)+Gt(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Gt(240|t>>>18&7)+Gt(128|t>>>12&63)+Gt(128|t>>>6&63)+Gt(128|t&63)}},O6=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,m_=e=>e.replace(O6,b6),i_=ps?e=>Buffer.from(e,"utf8").toString("base64"):r_?e=>k0(r_.encode(e)):e=>F0(m_(e)),ds=(e,t=!1)=>t?d_(i_(e)):i_(e),o_=e=>ds(e,!0),x6=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,T6=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return Gt((r>>>10)+55296)+Gt((r&1023)+56320);case 3:return Gt((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Gt((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},g_=e=>e.replace(x6,T6),v_=e=>{if(e=e.replace(/\s+/g,""),!E6.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",n,i;for(let o=0;o<e.length;)t=tc[e.charAt(o++)]<<18|tc[e.charAt(o++)]<<12|(n=tc[e.charAt(o++)])<<6|(i=tc[e.charAt(o++)]),r+=n===64?Gt(t>>16&255):i===64?Gt(t>>16&255,t>>8&255):Gt(t>>16&255,t>>8&255,t&255);return r},L0=w6?e=>atob(p_(e)):ps?e=>Buffer.from(e,"base64").toString("binary"):v_,w_=ps?e=>n_(Buffer.from(e,"base64")):e=>n_(L0(e),t=>t.charCodeAt(0)),__=e=>w_(S_(e)),N6=ps?e=>Buffer.from(e,"base64").toString("utf8"):t_?e=>t_.decode(w_(e)):e=>g_(L0(e)),S_=e=>p_(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),I0=e=>N6(S_(e)),k6=e=>{if(typeof e!="string")return!1;let t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},E_=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),b_=function(){let e=(t,r)=>Object.defineProperty(String.prototype,t,E_(r));e("fromBase64",function(){return I0(this)}),e("toBase64",function(t){return ds(this,t)}),e("toBase64URI",function(){return ds(this,!0)}),e("toBase64URL",function(){return ds(this,!0)}),e("toUint8Array",function(){return __(this)})},O_=function(){let e=(t,r)=>Object.defineProperty(Uint8Array.prototype,t,E_(r));e("toBase64",function(t){return rc(this,t)}),e("toBase64URI",function(){return rc(this,!0)}),e("toBase64URL",function(){return rc(this,!0)})},I6=()=>{b_(),O_()},ic={version:h_,VERSION:v6,atob:L0,atobPolyfill:v_,btoa:F0,btoaPolyfill:y_,fromBase64:I0,toBase64:ds,encode:ds,encodeURI:o_,encodeURL:o_,utob:m_,btou:g_,decode:I0,isValid:k6,fromUint8Array:rc,toUint8Array:__,extendString:b_,extendUint8Array:O_,extendBuiltins:I6},A6={relaxed:!1};(function(e){e.Normal="normal",e.Server="server"})(A0||(A0={}));(function(e){e.NAME="name",e.EMAIL="email",e.PICTURE="picture",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.GENDER="gender",e.BIRTHDAY="birthday",e.MIN_AGE="min_age",e.MAX_AGE="max_age"})(rn||(rn={}));s_={[rn.NAME]:"name",[rn.EMAIL]:"email",[rn.PICTURE]:"pictureUrl",[rn.FIRST_NAME]:"firstName",[rn.LAST_NAME]:"lastName",[rn.GENDER]:"gender",[rn.BIRTHDAY]:"birthday",[rn.MIN_AGE]:"minAge",[rn.MAX_AGE]:"maxAge"},P0=class{constructor(t){if(this.type=A0.Normal,this.identities=[],typeof t=="object"&&t!==null){let{type:r,identities:n,data:i}=t;if(typeof r=="string")this.type=r;else throw new Error("Expected 'type' in the response body");if(Array.isArray(n))this.identities=n.map(o=>{let{id:s,provider_type:a}=o;return{id:s,providerType:a}});else throw new Error("Expected 'identities' in the response body");if(typeof i=="object"&&i!==null){let o=Object.fromEntries(Object.entries(i).map(([s,a])=>s in s_?[s_[s],a]:[s,a]));this.data=T_(o)}else throw new Error("Expected 'data' in the response body")}else this.data={}}},Yr=class{constructor(t,r){this.storage=t,this.keyPart=r}get(t){return this.storage.get(this.keyPart+Yr.PART_SEPARATOR+t)}set(t,r){return this.storage.set(this.keyPart+Yr.PART_SEPARATOR+t,r)}remove(t){return this.storage.remove(this.keyPart+Yr.PART_SEPARATOR+t)}prefix(t){return new Yr(this,t)}clear(t=""){return this.storage.clear(this.keyPart+Yr.PART_SEPARATOR+t)}addListener(t){return this.storage.addListener(t)}removeListener(t){return this.storage.addListener(t)}};Yr.PART_SEPARATOR=":";N_=class{constructor(){this.storage={},this.listeners=new Set}get(t){return t in this.storage?this.storage[t]:null}set(t,r){this.storage[t]=r,this.fireListeners()}remove(t){delete this.storage[t],this.fireListeners()}prefix(t){return new Yr(this,t)}clear(t){for(let r of Object.keys(this.storage))(!t||r.startsWith(t))&&delete this.storage[r];this.fireListeners()}addListener(t){this.listeners.add(t)}removeListener(t){this.listeners.delete(t)}fireListeners(){this.listeners.forEach(t=>t())}},O0="accessToken",x0="refreshToken",T0="profile",N0="providerType",k_=class extends Yr{constructor(t,r){super(t,`user(${r})`)}get accessToken(){return this.get(O0)}set accessToken(t){t===null?this.remove(O0):this.set(O0,t)}get refreshToken(){return this.get(x0)}set refreshToken(t){t===null?this.remove(x0):this.set(x0,t)}get profile(){let t=this.get(T0);if(t){let r=new P0;return Object.assign(r,JSON.parse(t)),r}}set profile(t){t?this.set(T0,JSON.stringify(t)):this.remove(T0)}get providerType(){let t=this.get(N0);if(t)return t}set providerType(t){t?this.set(N0,t):this.remove(N0)}};C6=["inspect","callFunction","callFunctionStreaming",...Object.getOwnPropertyNames(Object.prototype)];Ja=class{constructor(t,r={}){this.fetcher=t,this.serviceName=r.serviceName,this.argsTransformation=r.argsTransformation||L6}static create(t,r={}){let n=new Ja(t,r);return new Proxy(n,{get(i,o,s){if(typeof o=="string"&&C6.indexOf(o)===-1)return i.callFunction.bind(i,o);{let a=Reflect.get(i,o,s);return typeof a=="function"?a.bind(i):a}}})}async callFunction(t,...r){let n={name:t,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute;return this.fetcher.fetchJSON({method:"POST",path:i.functionsCall().path,body:n})}callFunctionStreaming(t,...r){let n={name:t,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute,o=I_({baas_request:ic.encode(JSON.stringify(n))});return this.fetcher.fetchStream({method:"GET",path:i.functionsCall().path+o})}},A_=!1,P6=e=>{A_=e},j6=(e,t)=>{!A_||console.warn(`Deprecation warning from Realm: ${e} is deprecated and will be removed in a future major release. Consider switching to ${t}.`)},eo=(e,t,r,n)=>{if(typeof e[0]!="object"){let i=n?", ...args":"";j6(`${t}(${r.join(", ")}${i})`,`${t}({ ${r.join(", ")} }${i})`);let o=r.reduce((a,f,d)=>({...a,[f]:e[d]}),{}),s=n?e.slice(r.length):void 0;return{argsObject:o,restArgs:s}}return{argsObject:e[0],restArgs:n?e.slice(1):void 0}};P6(typeof __DEV__<"u"&&__DEV__);R_=class{constructor(t,r="local-userpass"){this.fetcher=t,this.providerName=r}async registerUser(...t){let{argsObject:r}=eo(t,"registerUser",["email","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).register().path,body:r})}async confirmUser(...t){let{argsObject:r}=eo(t,"confirmUser",["token","tokenId"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirm().path,body:r})}async resendConfirmationEmail(...t){let{argsObject:r}=eo(t,"resendConfirmationEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmSend().path,body:r})}async retryCustomConfirmation(...t){let{argsObject:r}=eo(t,"retryCustomConfirmation",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmCall().path,body:r})}async resetPassword(...t){let{argsObject:r}=eo(t,"resetPassword",["token","tokenId","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).reset().path,body:r})}async sendResetPasswordEmail(...t){let{argsObject:r}=eo(t,"sendResetPasswordEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).resetSend().path,body:r})}async callResetPasswordFunction(...t){let{argsObject:r,restArgs:n}=eo(t,"callResetPasswordFunction",["email","password"],!0),i=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:i.emailPasswordAuth(this.providerName).resetCall().path,body:{...r,arguments:n}})}};Gr={api:M6},D_=class{constructor(t){this.fetcher=t}create(t){return this.fetcher.fetchJSON({method:"POST",body:{name:t},path:Gr.api().auth().apiKeys().path,tokenType:"refresh"})}fetch(t){return this.fetcher.fetchJSON({method:"GET",path:Gr.api().auth().apiKeys().key(t).path,tokenType:"refresh"})}fetchAll(){return this.fetcher.fetchJSON({method:"GET",tokenType:"refresh",path:Gr.api().auth().apiKeys().path})}async delete(t){await this.fetcher.fetchJSON({method:"DELETE",path:Gr.api().auth().apiKeys().key(t).path,tokenType:"refresh"})}async enable(t){await this.fetcher.fetchJSON({method:"PUT",path:Gr.api().auth().apiKeys().key(t).enable().path,tokenType:"refresh"})}async disable(t){await this.fetcher.fetchJSON({method:"PUT",path:Gr.api().auth().apiKeys().key(t).disable().path,tokenType:"refresh"})}},D0=null;nc=class extends Error{constructor({message:t,code:r}){super(t);this.name="WatchError",this.code=r}};(function(e){e.NEED_DATA="NEED_DATA",e.HAVE_EVENT="HAVE_EVENT",e.HAVE_ERROR="HAVE_ERROR"})(ir||(ir={}));C_=class{constructor(){this._state=ir.NEED_DATA,this._error=null,this._textDecoder=new($a()).TextDecoder,this._buffer="",this._bufferOffset=0,this._eventType="",this._dataBuffer=""}feedBuffer(t){this.assertState(ir.NEED_DATA),this._buffer+=this._textDecoder.decode(t,{stream:!0}),this.advanceBufferState()}feedLine(t){if(this.assertState(ir.NEED_DATA),t.endsWith(`
`)&&(t=t.substr(0,t.length-1)),t.endsWith("\r")&&(t=t.substr(0,t.length-1)),t.length===0){if(this._dataBuffer.length===0){this._eventType="";return}this._dataBuffer.endsWith(`
`)&&(this._dataBuffer=this._dataBuffer.substr(0,this._dataBuffer.length-1)),this.feedSse({data:this._dataBuffer,eventType:this._eventType}),this._dataBuffer="",this._eventType=""}if(t[0]===":")return;let r=t.indexOf(":"),n=t.substr(0,r),i=r===-1?"":t.substr(r+1);i.startsWith(" ")&&(i=i.substr(1)),n==="event"?this._eventType=i:n==="data"&&(this._dataBuffer+=i,this._dataBuffer+=`
`)}feedSse(t){this.assertState(ir.NEED_DATA);let r=t.data.indexOf("%");if(r!==-1){let n="",i=0;for(let o=r;o!==-1;o=t.data.indexOf("%",i)){n+=t.data.substr(i,o-i);let s=t.data.substr(o,3);s==="%25"?n+="%":s==="%0A"?n+=`
`:s==="%0D"?n+="\r":n+=s,i=o+s.length}n+=t.data.substr(i),t.data=n}if(!t.eventType||t.eventType==="message"){try{let n=di.parse(t.data);if(typeof n=="object"){this._nextEvent=n,this._state=ir.HAVE_EVENT;return}}catch{}this._state=ir.HAVE_ERROR,this._error=new nc({message:"server returned malformed event: "+t.data,code:"bad bson parse"})}else if(t.eventType==="error"){this._state=ir.HAVE_ERROR,this._error=new nc({message:t.data,code:"unknown"});try{let{error_code:n,error:i}=di.parse(t.data);if(typeof n!="string"||typeof i!="string")return;this._error=new nc({message:i,code:n})}catch{return}}}get state(){return this._state}nextEvent(){this.assertState(ir.HAVE_EVENT);let t=this._nextEvent;return this._state=ir.NEED_DATA,this.advanceBufferState(),t}get error(){return this._error}advanceBufferState(){for(this.assertState(ir.NEED_DATA);this.state===ir.NEED_DATA;){if(this._bufferOffset===this._buffer.length){this._buffer="",this._bufferOffset=0;return}let t=this._buffer.indexOf(`
`,this._bufferOffset);if(t===-1){this._bufferOffset!==0&&(this._buffer=this._buffer.substr(this._bufferOffset,this._buffer.length-this._bufferOffset),this._bufferOffset=0);return}this.feedLine(this._buffer.substr(this._bufferOffset,t-this._bufferOffset)),this._bufferOffset=t+1}}assertState(t){if(this._state!==t)throw Error(`Expected WatchStream to be in state ${t}, but in state ${this._state}`)}},F_=class{constructor(t,r,n,i){this.functions=Ja.create(t,{serviceName:r}),this.databaseName=n,this.collectionName=i,this.serviceName=r,this.fetcher=t}find(t={},r={}){return this.functions.find({database:this.databaseName,collection:this.collectionName,query:t,project:r.projection,sort:r.sort,limit:r.limit})}findOne(t={},r={}){return this.functions.findOne({database:this.databaseName,collection:this.collectionName,query:t,project:r.projection,sort:r.sort})}findOneAndUpdate(t={},r,n={}){return this.functions.findOneAndUpdate({database:this.databaseName,collection:this.collectionName,filter:t,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndReplace(t={},r,n={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:t,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndDelete(t={},r={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:t,sort:r.sort,projection:r.projection})}aggregate(t){return this.functions.aggregate({database:this.databaseName,collection:this.collectionName,pipeline:t})}count(t={},r={}){return this.functions.count({database:this.databaseName,collection:this.collectionName,query:t,limit:r.limit})}insertOne(t){return this.functions.insertOne({database:this.databaseName,collection:this.collectionName,document:t})}insertMany(t){return this.functions.insertMany({database:this.databaseName,collection:this.collectionName,documents:t})}deleteOne(t={}){return this.functions.deleteOne({database:this.databaseName,collection:this.collectionName,query:t})}deleteMany(t={}){return this.functions.deleteMany({database:this.databaseName,collection:this.collectionName,query:t})}updateOne(t,r,n={}){return this.functions.updateOne({database:this.databaseName,collection:this.collectionName,query:t,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}updateMany(t,r,n={}){return this.functions.updateMany({database:this.databaseName,collection:this.collectionName,query:t,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}async*watch({ids:t,filter:r}={}){let n=await this.functions.callFunctionStreaming("watch",{database:this.databaseName,collection:this.collectionName,ids:t,filter:r}),i=new C_;for await(let o of n)if(!!o){for(i.feedBuffer(o);i.state==ir.HAVE_EVENT;)yield i.nextEvent();if(i.state==ir.HAVE_ERROR)throw i.error}}};q6="000000000000000000000000";(function(e){e.Active="active",e.LoggedOut="logged-out",e.Removed="removed"})(to||(to={}));(function(e){e.Normal="normal",e.Server="server"})(a_||(a_={}));C0=class{constructor(t){if(this.app=t.app,this.id=t.id,this.storage=new k_(this.app.storage,this.id),"accessToken"in t&&"refreshToken"in t&&"providerType"in t)this._accessToken=t.accessToken,this._refreshToken=t.refreshToken,this.providerType=t.providerType,this.storage.accessToken=t.accessToken,this.storage.refreshToken=t.refreshToken,this.storage.providerType=t.providerType;else{this._accessToken=this.storage.accessToken,this._refreshToken=this.storage.refreshToken;let r=this.storage.providerType;if(this._profile=this.storage.profile,r)this.providerType=r;else throw new Error("Storage is missing a provider type")}this.fetcher=this.app.fetcher.clone({userContext:{currentUser:this}}),this.apiKeys=new D_(this.fetcher),this.functions=Ja.create(this.fetcher)}get accessToken(){return this._accessToken}set accessToken(t){this._accessToken=t,this.storage.accessToken=t}get refreshToken(){return this._refreshToken}set refreshToken(t){this._refreshToken=t,this.storage.refreshToken=t}get state(){return this.id in this.app.allUsers?this.refreshToken===null?to.LoggedOut:to.Active:to.Removed}get isLoggedIn(){return this.state===to.Active}get customData(){if(this.accessToken)return this.decodeAccessToken().userData;throw new Error("Cannot read custom data without an access token")}get profile(){if(this._profile)return this._profile.data;throw new Error("A profile was never fetched for this user")}get identities(){if(this._profile)return this._profile.identities;throw new Error("A profile was never fetched for this user")}get deviceId(){if(this.accessToken){let t=this.accessToken.split(".")[1];if(t){let n=JSON.parse(ic.decode(t)).baas_device_id;if(typeof n=="string"&&n!==q6)return n}}return null}async refreshProfile(){let t=await this.fetcher.fetchJSON({method:"GET",path:Gr.api().auth().profile().path});this._profile=new P0(t),this.storage.profile=this._profile}async logOut(){try{this._refreshToken!==null&&await this.fetcher.fetchJSON({method:"DELETE",path:Gr.api().auth().session().path,tokenType:"refresh"})}catch(t){if(!(t instanceof Error)||!t.message.includes("failed to find refresh token"))throw t}finally{this.accessToken=null,this.refreshToken=null}}async linkCredentials(t){let r=await this.app.authenticator.authenticate(t,this);if(this.id!==r.userId){let n=`got user id ${r.userId} expected ${this.id}`;throw new Error(`Link response ment for another user (${n})`)}this.accessToken=r.accessToken,await this.refreshProfile()}async refreshAccessToken(){let t=await this.fetcher.fetchJSON({method:"POST",path:Gr.api().auth().session().path,tokenType:"refresh"}),{access_token:r}=t;if(typeof r=="string")this.accessToken=r;else throw new Error("Expected an 'access_token' in the response")}async refreshCustomData(){return await this.refreshAccessToken(),this.customData}callFunction(t,...r){return this.functions.callFunction(t,...r)}toJSON(){return{id:this.id,accessToken:this.accessToken,refreshToken:this.refreshToken,profile:this._profile,state:this.state,customData:this.customData}}push(){throw new Error("Not yet implemented")}mongoClient(t){return V6(this.fetcher,t)}decodeAccessToken(){if(this.accessToken){let t=this.accessToken.split(".");if(t.length!==3)throw new Error("Expected an access token with three parts");let r=t[1],n=ic.decode(r),i=JSON.parse(n),{exp:o,iat:s,sub:a,user_data:f={}}=i;if(typeof o!="number")throw new Error("Failed to decode access token 'exp'");if(typeof s!="number")throw new Error("Failed to decode access token 'iat'");return{expires:o,issuedAt:s,subject:a,userData:f}}else throw new Error("Missing an access token")}},Jt=class{constructor(t,r,n){this.providerName=t,this.providerType=r,this.payload=n}static anonymous(){return new Jt("anon-user","anon-user",{})}static userApiKey(t){return new Jt("api-key","api-key",{key:t})}static serverApiKey(t){return new Jt("api-key","api-key",{key:t})}static apiKey(t){return new Jt("api-key","api-key",{key:t})}static emailPassword(t,r){return new Jt("local-userpass","local-userpass",{username:t,password:r})}static function(t){return new Jt("custom-function","custom-function",t)}static jwt(t){return new Jt("custom-token","custom-token",{token:t})}static google(t){return new Jt("oauth2-google","oauth2-google",Jt.derivePayload(t))}static derivePayload(t){if(typeof t=="string"){if(t.includes("://"))return this.derivePayload({redirectUrl:t});if(t.startsWith("4/"))return this.derivePayload({authCode:t});if(t.startsWith("ey"))return this.derivePayload({idToken:t});throw new Error(`Unexpected payload: ${t}`)}else if(Object.keys(t).length===1){if("authCode"in t||"redirectUrl"in t)return t;if("idToken"in t)return{id_token:t.idToken};throw new Error("Unexpected payload: "+JSON.stringify(t))}else throw new Error("Expected only one property in payload, got "+JSON.stringify(t))}static facebook(t){return new Jt("oauth2-facebook","oauth2-facebook",t.includes("://")?{redirectUrl:t}:{accessToken:t})}static apple(t){return new Jt("oauth2-apple","oauth2-apple",t.includes("://")?{redirectUrl:t}:{id_token:t})}},l_="userIds",u_="deviceId",L_=class extends Yr{constructor(t,r){super(t,`app(${r})`)}getUserIds(){let t=this.get(l_),r=t?JSON.parse(t):[];if(Array.isArray(r))return[...new Set(r)];throw new Error("Expected the user ids to be an array")}setUserIds(t,r){if(r){let n=this.getUserIds();for(let i of n)t.indexOf(i)===-1&&t.push(i)}this.set(l_,JSON.stringify(t))}removeUserId(t){let n=this.getUserIds().filter(i=>i!==t);this.setUserIds(n,!1)}getDeviceId(){return this.get(u_)}setDeviceId(t){this.set(u_,t)}},W6="abcdefghijklmnopqrstuvwxyz",$6=100,H6={_stitch_client_app_id:"appId",_baas_client_app_id:"appId",_stitch_ua:"userAuth",_baas_ua:"userAuth",_stitch_link:"link",_baas_link:"link",_stitch_error:"error",_baas_error:"error",_stitch_state:"state",_baas_state:"state"},pi=class{constructor(t,r=$a().openWindow){this.storage=t.prefix("oauth2"),this.openWindow=r}static parseRedirectLocation(t){let r=D6(t),n={};for(let[i,o]of Object.entries(H6)){let s=r[i];s&&(n[o]=s)}return n}static handleRedirect(t,r=$a().defaultStorage){let n=pi.parseRedirectLocation(t),{state:i,error:o}=n;if(typeof i=="string"){let s=r.prefix("oauth2");pi.getStateStorage(s,i).set("result",JSON.stringify(n))}else throw o?new Error(`Failed to handle OAuth 2.0 redirect: ${o}`):new Error("Failed to handle OAuth 2.0 redirect.")}static decodeAuthInfo(t){let r=(t||"").split("$");if(r.length===4){let[n,i,o,s]=r;return{accessToken:n,refreshToken:i,userId:o,deviceId:s}}else throw new Error("Failed to decode 'authInfo' into ids and tokens")}static getStateStorage(t,r){return t.prefix(`state(${r})`)}openWindowAndWaitForRedirect(t,r){let n=pi.getStateStorage(this.storage,r);return new Promise((i,o)=>{let s=null,a,f=()=>{let d=n.get("result");if(d){let m=JSON.parse(d);n.removeListener(f),n.clear();try{s&&(clearInterval(a),s.close())}catch(g){console.warn(`Failed closing redirect window: ${g}`)}finally{i(m)}}};n.addListener(f),s=this.openWindow(t),a=setInterval(()=>{if(!s)clearInterval(a);else if(s.closed){clearInterval(a),n.removeListener(f);let d=new Error("Window closed");o(d)}},$6)})}generateState(){return R6(12,W6)}},c_="x-baas-location",P_=class{constructor(t,r,n){this.fetcher=t,this.oauth2=new pi(r),this.getDeviceInformation=n}async authenticate(t,r){let n=this.getDeviceInformation(),i=typeof r=="object";if(t.providerType.startsWith("oauth2")&&typeof t.payload.redirectUrl=="string"){let o=this.oauth2.generateState(),s=await this.getLogInUrl(t,i,{state:o,redirect:t.payload.redirectUrl,providerRedirectHeader:i?!0:void 0,device:i?void 0:n.encode()});if(i){let f=(await this.fetcher.fetch({method:"GET",url:s,tokenType:i?"access":"none",user:r,mode:"cors",credentials:"include"})).headers.get(c_);if(f)return this.openWindowAndWaitForAuthResponse(f,o);throw new Error(`Missing ${c_} header`)}else return this.openWindowAndWaitForAuthResponse(s,o)}else{let o=await this.getLogInUrl(t,i),s=await this.fetcher.fetchJSON({method:"POST",url:o,body:{...t.payload,options:{device:n.toJSON()}},tokenType:i?"access":"none",user:r}),{user_id:a,access_token:f,refresh_token:d=null,device_id:m}=s;if(typeof a!="string")throw new Error("Expected a user id in the response");if(typeof f!="string")throw new Error("Expected an access token in the response");if(typeof d!="string"&&d!==null)throw new Error("Expected refresh token to be a string or null");if(typeof m!="string")throw new Error("Expected device id to be a string");return{userId:a,accessToken:f,refreshToken:d,deviceId:m}}}async getLogInUrl(t,r=!1,n={}){let o=this.fetcher.appRoute.authProvider(t.providerName).login(),s=I_({link:r?"true":void 0,...n});return await this.fetcher.locationUrl+o.path+s}async openWindowAndWaitForAuthResponse(t,r){let n=await this.oauth2.openWindowAndWaitForRedirect(t,r);return pi.decodeAuthInfo(n.userAuth)}},Ha=class extends Error{constructor(t,r,n,i,o,s,a){let f=i?`status ${n} ${i}`:`status ${n}`;typeof o=="string"?super(`Request failed (${t} ${r}): ${o} (${f})`):super(`Request failed (${t} ${r}): (${f})`),this.method=t,this.url=r,this.statusText=i,this.statusCode=n,this.error=o,this.errorCode=s,this.link=a}static async fromRequestAndResponse(t,r){var n;let{url:i,method:o}=t,{status:s,statusText:a}=r;if((n=r.headers.get("content-type"))===null||n===void 0?void 0:n.startsWith("application/json")){let f=await r.json();if(typeof f=="object"&&f){let{error:d,error_code:m,link:g}=f;return new Ha(o,i,s,a,typeof d=="string"?d:void 0,typeof m=="string"?m:void 0,typeof g=="string"?g:void 0)}}return new Ha(o,i,s,a)}};ro=class{constructor({appId:t,transport:r,userContext:n,locationUrlContext:i}){this.appId=t,this.transport=r,this.userContext=n,this.locationUrlContext=i}static buildAuthorizationHeader(t,r){if(!t||r==="none")return{};if(r==="access")return{Authorization:`Bearer ${t.accessToken}`};if(r==="refresh")return{Authorization:`Bearer ${t.refreshToken}`};throw new Error(`Unexpected token type (${r})`)}static buildBody(t){if(t){if(typeof t=="object"&&t!==null)return JSON.stringify(x_(t));if(typeof t=="string")return t;throw console.log("body is",t),new Error("Unexpected type of body")}else return}static buildJsonHeader(t){return t&&t.length>0?{"Content-Type":"application/json"}:{}}clone(t){return new ro({appId:this.appId,transport:this.transport,userContext:this.userContext,locationUrlContext:this.locationUrlContext,...t})}async fetch(t){let{path:r,url:n,tokenType:i="access",user:o=this.userContext.currentUser,...s}=t;if(typeof r=="string"&&typeof n=="string")throw new Error("Use of 'url' and 'path' mutually exclusive");if(typeof r=="string"){let a=await this.locationUrlContext.locationUrl+r;return this.fetch({...t,path:void 0,url:a})}else if(typeof n=="string"){let a=await this.transport.fetch({...s,url:n,headers:{...ro.buildAuthorizationHeader(o,i),...t.headers}});if(a.ok)return a;if(o&&a.status===401&&i==="access")return await o.refreshAccessToken(),this.fetch({...t,user:o});throw o&&a.status===401&&i==="refresh"&&(o.accessToken=null,o.refreshToken=null),await Ha.fromRequestAndResponse(t,a)}else throw new Error("Expected either 'url' or 'path'")}async fetchJSON(t){let{body:r}=t,n=ro.buildBody(r),i=ro.buildJsonHeader(n),o=await this.fetch({...t,body:n,headers:{Accept:"application/json",...i,...t.headers}}),s=o.headers.get("content-type");if(s==null?void 0:s.startsWith("application/json")){let a=await o.json();return T_(a)}else{if(s===null)return null;throw new Error(`Expected JSON response, got "${s}"`)}}async fetchStream(t){let{body:r}=await this.fetch({...t,headers:{Accept:"text/event-stream",...t.headers}});return J6(r)}get appRoute(){return Gr.api().app(this.appId)}get locationUrl(){return this.locationUrlContext.locationUrl}},G6="deviceId";(function(e){e.DEVICE_ID="deviceId",e.APP_ID="appId",e.APP_VERSION="appVersion",e.PLATFORM="platform",e.PLATFORM_VERSION="platformVersion",e.SDK_VERSION="sdkVersion"})(f_||(f_={}));j_=class{constructor({appId:t,appVersion:r,deviceId:n}){this.sdkVersion="1.7.0";let i=$a();this.platform=i.platform,this.platformVersion=i.platformVersion,this.appId=t,this.appVersion=r,this.deviceId=n}encode(){let t=R0(this);return ic.encode(JSON.stringify(t))}toJSON(){return R0(this)}},Y6="https://realm.mongodb.com",bn=class{constructor(t){this.users=[],this._locationUrl=null;let r=typeof t=="string"?{id:t}:t;if(typeof r=="object"&&typeof r.id=="string")this.id=r.id;else throw new Error("Missing a MongoDB Realm app-id");this.baseUrl=r.baseUrl||Y6,r.skipLocationRequest&&(this._locationUrl=Promise.resolve(this.baseUrl)),this.localApp=r.app;let{storage:n,transport:i=new nn}=r;this.fetcher=new ro({appId:this.id,userContext:this,locationUrlContext:this,transport:i}),this.emailPasswordAuth=new R_(this.fetcher);let o=n||$a().defaultStorage;this.storage=new L_(o,this.id),this.authenticator=new P_(this.fetcher,o,()=>this.deviceInformation);try{this.hydrate()}catch(s){this.storage.clear(),console.warn("Realm app hydration failed:",s instanceof Error?s.message:s)}}static getApp(t){if(t in bn.appCache)return bn.appCache[t];{let r=new bn(t);return bn.appCache[t]=r,r}}switchUser(t){let r=this.users.findIndex(i=>i===t);if(r===-1)throw new Error("The user was never logged into this app");let[n]=this.users.splice(r,1);this.users.unshift(n)}async logIn(t,r=!0){let n=await this.authenticator.authenticate(t),i=this.createOrUpdateUser(n,t.providerType);this.switchUser(i),r&&await i.refreshProfile(),this.storage.setUserIds(this.users.map(s=>s.id),!0);let o=n.deviceId;return o&&o!=="000000000000000000000000"&&this.storage.set(G6,o),i}async removeUser(t){let r=this.users.findIndex(n=>n===t);if(r===-1)throw new Error("The user was never logged into this app");this.users.splice(r,1),await t.logOut(),this.storage.remove(`user(${t.id}):profile`),this.storage.removeUserId(t.id)}async deleteUser(t){await this.fetcher.fetchJSON({method:"DELETE",path:Gr.api().auth().delete().path}),await this.removeUser(t)}get currentUser(){let t=this.users.filter(r=>r.state===to.Active);return t.length===0?null:t[0]}get allUsers(){return Object.fromEntries(this.users.map(t=>[t.id,t]))}get locationUrl(){if(!this._locationUrl){let t=Gr.api().app(this.id).location().path;this._locationUrl=this.fetcher.fetchJSON({method:"GET",url:this.baseUrl+t,tokenType:"none"}).then(r=>{if(typeof r!="object")throw new Error("Expected response body be an object");return r}).then(({hostname:r})=>{if(typeof r!="string")throw new Error("Expected response to contain a 'hostname'");return r}).catch(r=>{throw this._locationUrl=null,r})}return this._locationUrl}get deviceInformation(){let t=this.storage.getDeviceId(),r=typeof t=="string"&&t!=="000000000000000000000000"?new yr(t):void 0;return new j_({appId:this.localApp?this.localApp.name:void 0,appVersion:this.localApp?this.localApp.version:void 0,deviceId:r})}createOrUpdateUser(t,r){let n=this.users.find(i=>i.id===t.userId);if(n)return n.accessToken=t.accessToken,n.refreshToken=t.refreshToken,n;{if(!t.refreshToken)throw new Error("No refresh token in response from server");let i=new C0({app:this,id:t.userId,accessToken:t.accessToken,refreshToken:t.refreshToken,providerType:r});return this.users.unshift(i),i}}hydrate(){let t=this.storage.getUserIds();this.users=t.map(r=>new C0({app:this,id:r}))}};bn.appCache={};bn.Credentials=Jt;M_=class{constructor(){if(typeof globalThis.localStorage=="object")this.global=globalThis;else throw new Error("Cannot use LocalStorage without a global localStorage object")}get(t){return this.global.localStorage.getItem(t)}set(t,r){return this.global.localStorage.setItem(t,r)}remove(t){return this.global.localStorage.removeItem(t)}prefix(t){return new Yr(this,t)}clear(t){let r=[];for(let n=0;n<this.global.localStorage.length;n++){let i=this.global.localStorage.key(n);i&&(!t||i.startsWith(t))&&r.push(i)}for(let n of r)this.global.localStorage.removeItem(n)}addListener(t){return this.global.addEventListener("storage",t)}removeListener(t){return this.global.removeEventListener("storage",t)}},hs=d6(),K6="localStorage"in globalThis?M_:N_;B_={defaultStorage:new K6().prefix("realm-web"),openWindow:Z6,platform:(hs==null?void 0:hs.name)||"web",platformVersion:(hs==null?void 0:hs.version)||"0.0.0",TextDecoder};B6(B_)});var q_=xe((ys,V_)=>{"use strict";var X6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof jn<"u")return jn;throw new Error("unable to locate global object")},jn=X6();V_.exports=ys=jn.fetch;jn.fetch&&(ys.default=jn.fetch.bind(jn));ys.Headers=jn.Headers;ys.Request=jn.Request;ys.Response=jn.Response});function ae(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(d){try{f(n.next(d))}catch(m){o(m)}}function a(d){try{f(n.throw(d))}catch(m){o(m)}}function f(d){var m;d.done?i(d.value):(m=d.value,m instanceof r?m:new r(function(g){g(m)})).then(s,a)}f((n=n.apply(e,t||[])).next())})}function Ye(e){if(!(this instanceof Ye))return new Ye(e);if(e&&(e instanceof Ye||e._bsontype==="ObjectID"))return e;if(this._bsontype="ObjectID",e!=null&&typeof e!="number"){var t=Ye.isValid(e);if(!t&&e!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(t&&typeof e=="string"&&e.length===24)return Ye.createFromHexString(e);if(e==null||e.length!==12){if(e!=null&&typeof e.toHexString=="function")return e;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=e}else this.id=this.generate(e)}function jt(e="struct",t={},r={_id:""},n={structType:"struct",_id:""}){var o;let i={_id:function(s=""){return`${s+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}(e+"defaultId"),structType:e,ownerId:r==null?void 0:r._id,timestamp:Date.now(),parent:{structType:n==null?void 0:n.structType,_id:n==null?void 0:n._id}};return i.ownerId||delete i.ownerId,((o=i==null?void 0:i.parent)==null?void 0:o._id)||delete i.parent,Object.keys(t).length>0&&Object.assign(i,t),i}function sc(e,t={}){if(!no[e.tag]&&e.position&&(no[e.tag]=[e.position.x,e.position.y,e.position.z]),no[e.tag]){let r={channel:"",position:{x:no[e.tag][0],y:no[e.tag][1],z:no[e.tag][2]}};return Object.assign(t,r)}return Object.assign(t,e)}function t5(e=[],t=!0){let r=[];for(let n of e){let i=mi(n);r.push(i)}return t&&r.push(...V0({channelDicts:e})),r}function ac(e=[],t={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return e.forEach(n=>r[n]=[]),Object.assign(t,r)}function mi(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=ac(),o={tag:e,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=jt("eeg",o,r,n);return e&&sc(o,s),Object.assign(s,t)}function z0(e={0:mi("FP1"),1:mi("FP2")},t={},r={_id:""},n={structType:"struct",_id:""}){var s,a,f,d,m,g,y,S,N,A,T,I,C,K;let i=ac(),o=jt("coherence",{tag:((s=e[0])==null?void 0:s.tag)+"::"+((a=e[1])==null?void 0:a.tag),x0:(d=(f=e[0])==null?void 0:f.position)==null?void 0:d.x,y0:(g=(m=e[0])==null?void 0:m.position)==null?void 0:g.y,z0:(S=(y=e[0])==null?void 0:y.position)==null?void 0:S.z,x1:(A=(N=e[1])==null?void 0:N.position)==null?void 0:A.x,y1:(I=(T=e[1])==null?void 0:T.position)==null?void 0:I.y,z1:(K=(C=e[1])==null?void 0:C.position)==null?void 0:K.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},r,n);return Object.assign(o,t)}function V0(e={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},t={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,a=0;a<e.channelDicts.length*(e.channelDicts.length+1)/2-e.channelDicts.length;a++){if(e.taggedOnly===!1||e.taggedOnly===!0&&e.channelDicts[s].tag!==null&&e.channelDicts[s+o].tag!==null&&e.channelDicts[s].tag!=="other"&&e.channelDicts[s+o].tag!=="other"&&e.channelDicts[s].analyze===!0&&e.channelDicts[s+o].analyze===!0){var f=mi(e.channelDicts[s].tag),d=mi(e.channelDicts[s+o].tag);i.push(z0({0:f,1:d},{},r,n))}++o+s===e.channelDicts.length&&(s++,o=1)}return i}function q0(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=jt("fnirs",i,r,n);return e&&sc(i,o),Object.assign(o,t)}function G_(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=jt("imu",i,r,n);return e&&sc(i,o),Object.assign(o,t)}function Y_(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("eyetracker",{tag:e,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},r,n);return Object.assign(i,t)}function W0(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("ecg",{tag:e,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},r,n);return Object.assign(i,t)}function K_(e="",t={},r={_id:""},n={structType:"struct",_id:""}){}function Z_(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=q0(e,r,n,t);return i.structType="ppg",i}function X_(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=W0(e,r,n,t);return i.structType="hrv",i}function Q_(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=mi(e,r,n,t);return i.structType="emg",i}function e2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("profile",{tag:e,name:"",username:"",firstName:"",lastName:"",email:"",sex:"",birthday:"",type:"",userRoles:[],id:""},r,n);return Object.assign(i,t)}function t2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("authorization",{tag:e,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:new Array,structs:new Array,excluded:new Array,groups:new Array,status:"PENDING",expires:!1,associatedAuthId:""},r,n);return Object.assign(i,t)}function r2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("group",{tag:e,name:"",details:"",admins:new Array,peers:new Array,clients:new Array,users:new Array},r,n);return Object.assign(i,t)}function n2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("dataInstance",{tag:e,title:"",author:"",expires:!1,type:"",data:new Array},r,n);return Object.assign(i,t)}function i2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("event",{tag:e,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:new Array},r,n);return Object.assign(i,t)}function o2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("chatroom",{tag:e,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:new Array,audioChatActive:!1,videoChatActive:!1},r,n);return Object.assign(i,t)}function s2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("comment",{tag:e,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:new Array,attachments:new Array},r,n);return Object.assign(i,t)}function a2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("notification",{tag:e,note:"",parentUserId:""},r,n);return Object.assign(i,t)}function l2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("schedule",{tag:e,title:"",author:"",attachments:new Array,dates:new Array},r,n);return Object.assign(i,t)}function u2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("date",{tag:e,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},r,n);return Object.assign(i,t)}function f5(e=[],t={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return e.forEach((n,i)=>{for(let o in t)r[o]||(r[o]=[[],[]]),n>=t[o][0]&&n<=t[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r}function p5(e,t,r){let n=(t-e)/r,i=[],o=0;for(;o<t;)i.push(o),o+=n;return i}function on(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $_(e,t=!0){let r=(e=e.replace(/\/\*\*?/,"")).split("/");t&&(r=r.slice(0,r.length-1));let n=[e];return n.push(e+"/*"),n.push(e+"/**"),r.forEach((i,o)=>{let s=r.slice(0,o+1).join("/");s!=e&&(o===r.length-1&&n.push(s+"/*"),n.push(s+"/**"))}),n}var ms,j0,oc,M0,B0,Ga,U0,mr,W_,Ya,Q6,e5,H_,J_,qe,yi,no,r5,io,Le,n5,i5,o5,s5,a5,l5,u5,c5,h5,d5,c2,f2,h2,d2,y5,m5,p2,Pt,g5,y2,Ka,$0=Pr(()=>{ms=e=>(e?`${e}_`:"")+Math.floor(1e5*Math.random()),j0=(e=Math,t=Date,r=16,n=i=>e.floor(i).toString(r))=>n(t.now()/1e3)+" ".repeat(r).replace(/./g,()=>n(e.random()*r));for(oc=Math.floor(16777215*Math.random()),M0=Ye.index=parseInt(16777215*Math.random(),10),B0=(typeof process=="undefined"||typeof process.pid!="number"?Math.floor(1e5*Math.random()):process.pid)%65535,Ga=function(e){return!(e==null||!e.constructor||typeof e.constructor.isBuffer!="function"||!e.constructor.isBuffer(e))},U0=[],mr=0;mr<256;mr++)U0[mr]=(mr<=15?"0":"")+mr.toString(16);W_=new RegExp("^[0-9a-fA-F]{24}$"),Ya=[];for(mr=0;mr<10;)Ya[48+mr]=mr++;for(;mr<16;)Ya[55+mr]=Ya[87+mr]=mr++;Q6=Ye;Ye.default=Ye,Ye.createFromTime=function(e){return e=parseInt(e,10)%4294967295,new Ye((t=8,((r=(r=e).toString(16)).length===t?r:"00000000".substring(r.length,t)+r)+"0000000000000000"));var t,r},Ye.createFromHexString=function(e){if(e===void 0||e!=null&&e.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var t="",r=0;r<24;)t+=String.fromCharCode(Ya[e.charCodeAt(r++)]<<4|Ya[e.charCodeAt(r++)]);return new Ye(t)},Ye.isValid=function(e){return e!=null&&(typeof e=="number"||(typeof e=="string"?e.length===12||e.length===24&&W_.test(e):e instanceof Ye||!!Ga(e)||typeof e.toHexString=="function"&&(e.id instanceof _Buffer||typeof e.id=="string")&&(e.id.length===12||e.id.length===24&&W_.test(e.id))))},Ye.prototype={constructor:Ye,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(Ga(this.id))return this.id.toString("hex");for(var e="",t=0;t<this.id.length;t++)e+=U0[this.id.charCodeAt(t)];return e},equals:function(e){return e instanceof Ye?this.toString()===e.toString():typeof e=="string"&&Ye.isValid(e)&&e.length===12&&Ga(this.id)?e===this.id.toString("binary"):typeof e=="string"&&Ye.isValid(e)&&e.length===24?e.toLowerCase()===this.toHexString():typeof e=="string"&&Ye.isValid(e)&&e.length===12?e===this.id:!(e==null||!(e instanceof Ye||e.toHexString))&&e.toHexString()===this.toHexString()},getTimestamp:function(){var e,t=new Date;return e=Ga(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(1e3*Math.floor(e)),t},generate:function(e){typeof e!="number"&&(e=~~(Date.now()/1e3)),e=parseInt(e,10)%4294967295;var t=M0=(M0+1)%16777215;return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e,oc>>16&255,oc>>8&255,255&oc,B0>>8&255,255&B0,t>>16&255,t>>8&255,255&t)}};e5=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";Ye.prototype[e5]=function(){return"ObjectID("+this+")"},Ye.prototype.toJSON=Ye.prototype.toHexString,Ye.prototype.toString=Ye.prototype.toHexString;H_=Object.defineProperty,J_=(e,t)=>{for(var r in t)H_(e,r,{get:t[r],enumerable:!0})},qe=(e,t,r)=>(((n,i,o)=>{i in n?H_(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o})(e,typeof t!="symbol"?t+"":t,r),r),yi={};J_(yi,{AuthorizationStruct:()=>t2,ChatroomStruct:()=>o2,CoherenceMap:()=>V0,CoherenceStruct:()=>z0,CommentStruct:()=>s2,DataStruct:()=>n2,DateStruct:()=>u2,ECGStruct:()=>W0,EDAStruct:()=>K_,EEGCoordinates:()=>t5,EEGStruct:()=>mi,EMGStruct:()=>Q_,EventStruct:()=>i2,EyeTrackerStruct:()=>Y_,FNIRSStruct:()=>q0,FrequencyBandsStruct:()=>ac,GroupStruct:()=>r2,HRVStruct:()=>X_,IMUStruct:()=>G_,NotificationStruct:()=>a2,PPGStruct:()=>Z_,ProfileStruct:()=>e2,ScheduleStruct:()=>l2,Struct:()=>jt,eegCoordinates:()=>no,setCoordinate:()=>sc,structRegistry:()=>r5});no={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};r5={Struct:jt,EEGStruct:mi,FNIRSStruct:q0,CoherenceStruct:z0,CoherenceMap:V0,FrequencyBandsStruct:ac,IMUStruct:G_,EyeTrackerStruct:Y_,ECGStruct:W0,EDAStruct:K_,PPGStruct:Z_,HRVStruct:X_,EMGStruct:Q_,ProfileStruct:e2,AuthorizationStruct:t2,GroupStruct:r2,DataStruct:n2,EventStruct:i2,ChatroomStruct:o2,CommentStruct:s2,NotificationStruct:a2,ScheduleStruct:l2,DateStruct:u2};J_({},{bandpassWindow:()=>p5,get40HzGamma:()=>l5,getAlphaBetaRatio:()=>s5,getAlphaRatio:()=>i5,getAlphaThetaRatio:()=>a5,getCoherenceScore:()=>n5,getHEGRatioScore:()=>c5,getLowGammaScore:()=>u5,getThetaBetaRatio:()=>o5,mapCoherenceData:()=>d5,mapFFTData:()=>h5,splitFrequencyBands:()=>f5});io=class{constructor(){}static genSineWave(e=20,t=1,r=1,n=512,i=0,o=1){for(var s=[],a=[],f=1/n,d=0;d<r;d+=f){var m=Math.sin(2*Math.PI*e*d)*t;m+=Math.sin(2*Math.PI*i*d)*o,s.push(m),a.push(d)}return[a,s]}static getSineAmplitude(e=20,t=1,r=0,n=0){return Math.sin(this.TWO_PI*e*r+n)*t}static mean(e){return e.reduce((t,r)=>r+t)/e.length}static mode(e){return e.sort((t,r)=>e.filter(n=>n===t).length-e.filter(n=>n===r).length).pop()}static std(e,t){let r=t;t||(r=this.mean(e));let n=0;for(let i=0;i<e.length;i++){let o=e[i]-r;n+=o*o}return Math.sqrt(n/e.length)}static relError(e=[],t=[],r=!0){if(e.length!==t.length)throw new Error("Input arrays of same length!");let n=e.length,i=[];for(let o=0;o<n;o++){let s=(e[o]-t[o])/e[o];r&&(s=Math.abs(s)),i.push(s)}return i}static informationEntropy(e=[]){let t=[],r=e.length;for(let n=0;n<r;n++){let i=e[n]*Math.log(e[n]);isNaN(i)&&(i=0),t.push(i)}return t}static zscore(e){let t=this.mean(e),r=this.std(e,t),n=[];for(let i=0;i<e.length;i++)n.push((e[i]-t)/r);return n}static variance(e){var t=this.mean(e);return e.reduce((r,n)=>r+ym(n-t,2),0)/e.length}static dot(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[n];return r}static cross3D(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}static magnitude(e){var t=0;return e.forEach(r=>{t+=r*r}),Math.sqrt(t)}static distance(e,t){var r=0;return e.forEach((n,i)=>{r+=(t[i]-n)*(t[i]-n)}),Math.sqrt(r)}static normalize(e){var t;t=this.magnitude(e);var r=[];return e.forEach((n,i)=>{r.push(n*t)}),r}static quadraticFormula(e,t,r){let n=Math.sqrt(t*t-4*e*r);if(!isNaN(n))return["complex","complex"];let i=1/(2*e);if(n===0)return[t*i];let o=-t;return[(o+n)*i,(o-n)*i]}static newtonsMethod(e=o=>Math.pow(o,5)+o*o-o-.2,t=0,r=1,n=.01,i=10){let o=[];for(let s=0;s<i;s++){let a=Math.random()*(r-t),f=e(a),d=e(a+n),m=(d-f)/n,g=a+n;for(;Math.abs(m)>n;){let N=g+-f/A;f=d,d=e(N);let A=(d-f)/(N-g)}let y,S=o.find((N,A)=>{if(Math.abs(xn1-N)<n)return y=A,!0});S?o[y]=.5*(xn1+S):o.push(xn1)}return o}static makeVec(e,t){var r=[];return e.forEach((n,i)=>{r.push(t[i]-n)}),r}static transpose(e){return e[0].map((t,r)=>e.map(n=>n[r]))}static matmul(e,t){for(var r=e.length,n=e[0].length,i=(t.length,t[0].length),o=new Array(r),s=0;s<r;++s){o[s]=new Array(i);for(var a=0;a<i;++a){o[s][a]=0;for(var f=0;f<n;++f)o[s][a]+=e[s][f]*t[f][a]}}return o}static matscale(e,t){let r=[];for(var n=0;n<e.length;n++){r[n]=[];for(let i=0;i<e[0].length;i++)r[n][i]=e[n][i]*t}return r}static matadd(e,t){let r=[];for(let i=0;i<e.length;i++){r[i]=[];for(var n=0;n<e[0].length;n++)r[i][n]=e[i][n]+t[i][n]}return r}static matsub(e,t){let r=[];for(let i=0;i<e.length;i++){r[i]=[];for(var n=0;n<e[0].length;n++)r[i][n]=e[i][n]-t[i][n]}return r}static histogram(e=[],t=1,r){let n=[...e];n.sort(function(f,d){return f-d});let i=Math.min(...n);if(typeof r=="number"){let f=Math.max(...n);t=Math.abs((f-i)/(r-1))}let o=i,s=[],a=[];for(let f=0;f<n.length;f++){let d=t*o;if(n[f]>i+d){o++,d+=t;let m=i+d+.5*d;s.push(m),a.push(0)}a[a.length-1]++}return[s,a]}static normalDistribution(e=[],t=!0,r=1e-4){let n=this.mean(e),i=this.variance(e),o=e.length,s=[],a=1/(this.TWO_PI*i),f=1/i,d=0;for(let m=0;m<o;m++){let g=Math.exp(-.5*Math.pow((e[m]-n)*f,2))*a;g<r&&(g=0),s.push(g),d+=g}if(t){let m=1/d;s=s.map(g=>g*m)}return s}static expectedValue(e=[],t=this.normalDistribution(e)){return e.reduce((r,n,i)=>r+n*t[i])}static originMoment(e=[],t=this.normalDistribution(e),r=1){return e.reduce((n,i,o)=>n+Math.pow(i,r)*t[o])}static centralMoment(e=[],t=this.normalDistribution(e),r=1){let n=this.mean(e);return e.reduce((i,o,s)=>i+Math.pow(o-n,r)*t[s]/e.length)}static linearDiscriminantAnalysis(e=[],t=[]){let r=this.mean(e),n=this.mean(t),i=this.cov1d(e,t),o=this.normalDistribution(e),s=[];for(let a=0;a<e.length;a++)s.push(x[a]*i*n-.5*r*i*n+Math.log10(o[a]));return s}static conv1D(e=[],t=[1/3,1/3,1/3],r=Math.floor(.5*t.length)){let n=[],i=1/t.length;if(r>0){let a=new Array(r).fill(0);e=[...a,...e,...a]}let o=Math.floor(.5*t.length),s=e.length-t.length+o;for(let a=o;a<s;a++){let f=0;for(let d=0;d<t.length;d++)f+=e[a-o]*t[d];n.push(f*i)}return n}static conv2D(e=[[],[],[]],t=[[],[],[]],r=0){let n,i=new Array(e.length-Math.ceil(.5*t.length)).fill([]),o=io.transpose(o);if(r>0){let A=new Array(r).fill(0);n=io.transpose(e);for(let T=0;T<n.length;T++)n[T]=[...A,...n[T],...A];e=io.transpose(n);for(let T=0;T<e.length;T++)e[T]=[...A,...e[T],...A]}let s,a=Math.floor(.5*t[0].length),f=Math.floor(.5*o[0].length),d=e[0].length-t[0].length+a,m=n[0].length-o[0].length+f,g=1/(t[0].length*o[0].length),y=d*m,S=a,N=f;for(;S<y;){let A=0;s=S%e[0].length,s===0&&N++;for(let T=0;T<t[0].length;T++){for(let I=0;I<o[0].length;T++)A+=e[N-f+I][s-a+T]*t[I][T];i[N].push(A*g)}S++}return i}static cov2d(e){var t=this.transpose(e),r=[],n=[],i=[];e.forEach((S,N)=>{n.push(this.mean(S))}),t.forEach((S,N)=>{i.push(this.mean(S))}),e.forEach((S,N)=>{r.push([]);for(var A=0;A<S.length;A++)r[N].push((e[N][A]-n[N])*(e[N][A]-i[A])/(S.length-1))});for(var o=this.transpose(r),s=r.length,a=r[0].length,f=(o.length,o[0].length),d=new Array(s),m=0;m<s;++m){d[m]=new Array(f);for(var g=0;g<f;++g){d[m][g]=0;for(var y=0;y<a;++y)d[m][g]+=r[m][y]*o[y][g]/(e[0].length-1)}}return d}static cov1d(e=[],t=[]){return this.cov2d([e,t])}static cov3d(e=[],t=[],r=[]){return[[this.cov1d(e,e),this.cov1d(e,t),this.cov1d(e,r)],[this.cov1d(t,e),this.cov1d(t,t),this.cov1d(t,r)],[this.cov1d(r,e),this.cov1d(r,t),this.cov1d(r,r)]]}static covNd(e=[]){let t=[];e.forEach((r,n)=>{t.push([]),e.forEach((i,o)=>{t[n].push(this.cov1d(r,i))})})}static eigens2x2(e=[[1,2],[3,4]]){let t=e[0][0]*e[1][1]-e[0][1]*e[1][0],r=.5*(e[0][0]+e[1][1]),n=Math.sqrt(r*r-t);return[r+n,r-n]}static eigenvectors2x2(e=[[1,2],[3,4]],t=[1,2]){let r=[-e[0][1],e[0][0]-t[0]];r[0]===0&&r[1]===0&&(r[0]=e[1][1]-t[0],r[1]=-e[1][0]);let n=[-e[0][1],e[0][0]-t[1]];return n[0]===0&&n[1]===0&&(n[0]=e[1][1]-t[1],n[1]=-e[1][0]),[r,n]}static fastpca2d(e,t){let r=this.cov1d(e,t),n=this.eigens2x2(r);n[1]>n[0]&&n.reverse();let i=this.eigenvectors2x2(r,n);return console.log(n,i),[n,i]}static crosscorrelation(e,t){var r=[...t,...Array(t.length).fill(0)],n=this.mean(e),i=this.mean(t),o=e.reduce((g,y)=>g+Math.pow(y-n,2));o=Math.sqrt(o);for(var s=t.reduce((g,y)=>g+Math.pow(y-n,2)),a=1/(o*(s=Math.sqrt(s))),f=new Array(e.length).fill(0),d=0;d<e.length;d++){var m=e.reduce((g,y,S)=>g+(y-n)*(r[d+S]-i));f[d]=m*a}return f}static autocorrelation(e){for(var t=[...e,...Array(e.length).fill(0)],r=this.mean(e),n=e.reduce((f,d)=>f+Math.pow(d-r,2)),i=1/((n=Math.sqrt(n))*n),o=new Array(e.length).fill(0),s=0;s<e.length;s++){var a=e.reduce((f,d,m)=>f+(d-r)*(t[s+m]-r));o[s]=a*i}return o}static correlograms(e=[[],[]]){var t=[];return e.forEach((r,n)=>{e.forEach((i,o)=>{o>=n&&t.push(io.crosscorrelation(r,i))})}),t}static sma(e=[],t){for(var r=[],n=0;n<e.length;n++)if(n==0)r.push(e[0]);else if(n<t){var i=e.slice(0,n+1);r.push(i.reduce((o,s)=>s+o)/(n+1))}else i=e.slice(n-t,n),r.push(i.reduce((o,s)=>s+o)/t);return r}static sum(e=[]){return e.length>0?e.reduce((t,r)=>r+t):0}static reduceArrByFactor(e,t=2){return e.filter((r,n)=>n%t==0)}static makeArr(e,t,r){for(var n=[],i=(t-e)/(r-1),o=0;o<r;o++)n.push(e+i*o);return n}static interpolateArray(e,t,r=1){var n,i,o=new Array,s=new Number((e.length-1)/(t-1));o[0]=e[0];for(var a=1;a<t-1;a++){var f=a*s,d=new Number(Math.floor(f)).toFixed(),m=new Number(Math.ceil(f)).toFixed(),g=f-d;o[a]=(n=e[d],i=e[m],(n+(i-n)*g)*r)}return o[t-1]=e[e.length-1],o}static isExtrema(e,t="peak"){let r=[...e];if(r.length%2==0&&r.pop(),e.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(t==="peak"){if(i<Math.floor(.5*r.length)&&o>=r[Math.floor(.5*r.length)]){n=!1;break}if(i>Math.floor(.5*r.length)&&o>=r[Math.floor(.5*r.length)]){n=!1;break}}else if(t==="valley"){if(i<Math.floor(.5*r.length)&&o<=r[Math.floor(.5*r.length)]){n=!1;break}if(i>Math.floor(.5*r.length)&&o<=r[Math.floor(.5*r.length)]){n=!1;break}}else{if(i<Math.floor(.5*r.length)&&o<=r[Math.floor(.5*r.length)]){n=!1;break}if(i>Math.floor(.5*r.length)&&o<=r[Math.floor(.5*r.length)]){n=!1;break}}}if(t!=="peak"&&t!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<Math.floor(.5*r.length)&&o>=r[Math.floor(.5*r.length)]){n=!1;break}if(i>Math.floor(.5*r.length)&&o>=r[Math.floor(.5*r.length)]){n=!1;break}}}return n}}static isCriticalPoint(e,t="peak"){let r=[...e];if(r.length%2==0&&r.pop(),e.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(t==="peak"){if(i<.5*r.length&&o<=0){n=!1;break}if(i>.5*r.length&&o>0){n=!1;break}}else if(t==="valley"){if(i<.5*r.length&&o>=0){n=!1;break}if(i>.5*r.length&&o<0){n=!1;break}}else{if(i<.5*r.length&&o>=0){n=!1;break}if(i>.5*r.length&&o<0){n=!1;break}}}if(t!=="peak"&&t!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<.5*r.length&&o<=0){n=!1;break}if(i>.5*r.length&&o>0){n=!1;break}}}return n}}static getPeakThreshold(e,t,r){let n,i=e.filter((o,s)=>{if(t.indexOf(s)>-1)return!0});return n=r===0?this.mean(i):.5*(r+this.mean(i)),n}static column(e,t){let r=new Array(e.length).fill(0).map(()=>new Array(1).fill(0));for(let n=0;n<e.length;n++)r[n][0]=e[n][t];return r}static flatten_vector(e){let t=[];for(let r=0;r<e.length;r++)t[r]=e[r][0];return t}static squared_difference(e,t){let r=0;for(let n=0;n<e.length;n++)r+=Math.pow(e[n]-t[n],2);return r}static shift_deflate(e,t,r){let n=Math.sqrt(this.matmul(this.transpose(r),r)),i=this.matscale(r,1/n),o=this.matscale(this.matmul(i,this.transpose(i)),t);return this.matsub(e,o)}static eigenvalue_of_vector(e,t){return ev=this.matmul(this.matmul(this.transpose(t),e),t),ev}static power_iteration(e,t=1e-5,r=1e3){let n=e.length,i=new Array(n).fill(0).map(()=>new Array(1).fill(Math.sqrt(n))),o=this.eigenvalue_of_vector(e,i),s=1,a=0;for(;s>t&&a<r;){let f=JSON.parse(JSON.stringify(o)),d=this.matmul(e,i);i=this.normalize(d),o=this.eigenvalue_of_vector(e,i),s=Math.abs(o-f),a++}return[o,i]}static eigens(e,t=1e-4,r=1e3){let n=[],i=[];for(let o=0;o<e.length;o++){let s=this.power_iteration(e,t,r),a=s[0],f=s[1];n[o]=a,i[o]=this.flatten_vector(f),e=this.shift_deflate(e,a,f)}return[n,i]}static pca(e,t=1e-5){let r=e.length,n=new Array(r),i=new Array(r),o=this.transpose(e);for(n[0]=this.column(e,0);espilon>t;){i[0]=this.matmul(o,n[0]);let s=this.matmul(this.transpose(n[0]),n[0]);i[0]=this.matscale(i[0],1/s);let a=Math.sqrt(this.matmul(this.transpose(i[0]),i[0]));i[0]=this.matscale(i[0],1/a);let f=this.matmul(e,i[0]),d=this.matmul(this.transpose(i[0]),i[0]);f=this.matscale(f,1/d),this.squared_difference(n[0],f),n[0]=JSON.parse(JSON.stringify(f))}return this.matmul(this.transpose(n[0]),n[0])}static p300(e=[],t=[],r=[],n=256){let i=Math.floor(n/10),o=this.sma(t,i),s=this.peakDetect(o,"peak",i),a=this.mean(o),f=this.std(o,a),d=0,m=[];return s.length>0&&e.forEach((g,y)=>{for(;r[s[d]]<g+200&&(d++,s[d]););let S=0,N=[];for(;r[s[d+S]]<g+600&&(N.push(d+S),S++,s[d+S]););if(N.length>1){let A=[];N.forEach(C=>{A.push(o[s[C]])});let T=Math.max(...A),I=N[A.indexOf(T)];m.push({event_timestamp:g,event_index:y,peak_timestamp:r[[s[I]]],signal_index:[s[I]],signal_amplitude:t[[s[I]]],zscore:(o[s[I]]-a)/f})}else N.length===1&&m.push({event_timestamp:g,event_index:y,peak_timestamp:r[s[N[0]]],signal_index:s[N[0]],signal_amplitude:t[[s[N[0]]]],zscore:(o[s[N[0]]]-a)/f})}),m}},Le=io;qe(Le,"TWO_PI",2*Math.PI),qe(Le,"C",299792458),qe(Le,"G",66743e-15),qe(Le,"h",662607015e-42),qe(Le,"R",8314.32),qe(Le,"Ra",287),qe(Le,"H",69.3),qe(Le,"kbar",1054571817e-43),qe(Le,"kB",1380649e-29),qe(Le,"ke",89875517923e-1),qe(Le,"me",91093837015e-41),qe(Le,"mp",167262192369e-38),qe(Le,"mn",167492749804e-38),qe(Le,"P0",101325),qe(Le,"T0",288.15),qe(Le,"p0",1.225),qe(Le,"Na",60220978e16),qe(Le,"y",1.405),qe(Le,"M0",28.96643),qe(Le,"g0",9.80665),qe(Le,"Re",6378100),qe(Le,"B",1458e-9),qe(Le,"S",110.4),qe(Le,"Sigma",365e-12),qe(Le,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),qe(Le,"integral",(e=n=>n,t=[],r=.01)=>{let n=0;for(let i=t[0];i<t[1];i+=r)n+=e(i)*r;return n}),qe(Le,"dintegral",(e=(i,o)=>i+o,t=[[],[]],r=.01,n=r)=>{let i=0;for(let o=t[0][0]+r;o<t[0][1];o+=r)for(let s=t[1][0]+n;s<t[1][1];s+=n)i+=e(o,s)*r*n;return i}),qe(Le,"tintegral",(e=(o,s,a)=>o+s+a,t=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=t[0][0]+r;s<t[0][1];s+=r)for(let a=t[1][0]+n;a<t[1][1];a+=n)for(let f=t[2][0]+i;f<t[2][1];f+=i)o+=e(s,a,f)*r*n*i;return o}),qe(Le,"pintegral",(e=n=>n,t=[],r=.01)=>{let n,i,o=0;for(let s=t[0];s<t[1];s+=r)n=i,i=e(s),n&&(o+=io.distance([0,n],[r,i]));return o}),qe(Le,"peakDetect",(e,t="peak",r=49)=>{let n=Math.floor(.5*r),i=[];for(let o=0;o<e.length-r;o++)io.isExtrema(e.slice(o,o+r),t)&&i.push(o+n-1);return i});n5=(e,t="alpha1")=>{let r=[];return Array.isArray(e)||(e=[e]),e.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[t].slice(i-o);r.push(Le.mean(s))}}),Le.mean(r)},i5=e=>e.fftCount>0?e.means.alpha2[e.fftCount-1]/e.means.alpha1[e.fftCount-1]:0,o5=e=>e.fftCount>0?e.means.theta[e.fftCount-1]/e.means.beta[e.fftCount-1]:0,s5=e=>e.fftCount>0?.5*(e.means.alpha1[e.fftCount-1]+e.means.alpha2[e.fftCount-1])/e.means.beta[e.fftCount-1]:0,a5=e=>e.fftCount>0?.5*(e.means.alpha1[e.fftCount-1]+e.means.alpha2[e.fftCount-1])/e.means.theta[e.fftCount-1]:0,l5=(e,t)=>{if(e.fftCount>0&&Array.isArray(t)){let r=e.slices.lowgamma[e.fftCount-1],n=[];return r.forEach((i,o)=>{t.lowgamma[0][o]>38&&t.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}return 0},u5=e=>{if(e.fftCount>0){let t=e.fftCount,r=20;t<r&&(r=t);let n=e.means.lowgamma.slice(t-r);return e.means.lowgamma[t-1]-Le.mean(n)}return 0},c5=e=>{if(e.count>0){let t=e.count,r=40;t<r&&(r=t);let n=e.ratio.slice(t-r);return e.ratio[t-1]-Le.mean(n)}return 0};h5=(e,t,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(t),n.ffts.push(e);for(let o in r){let s=e.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((a,f)=>a+f)/s.length),i+=r[o][1].length}},d5=(e,t,r,n)=>{e.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(t),n[o].ffts.push(data);let s=0;for(let a in r){let f=fft.slice(s,s+r[a][1].length);coord.slices[a].push(f),coord.means[a].push(f.reduce((d,m)=>d+m)/f.length),s+=r[a][1].length}})};c2=class{constructor(t=!1,r=!1){on(this,"addFunc",(n=null,i=null,o=!0)=>{var s=null;return i!==null&&(n==null?this.listeners.forEach((a,f)=>{s=a.listener.addFunc(i),a.listener.running==0&&o==1&&a.listener.start()}):this.listeners.find((a,f)=>{a.key===n&&(s=a.listener.addFunc(i),a.listener.running==0&&o==1&&a.listener.start())})),s}),on(this,"getFuncs",n=>n?this.listeners.find((i,o)=>{if(i.key===n)return!0}).onchangeFuncs:void 0),on(this,"removeFuncs",(n=null,i=null,o=!1)=>{n==null?this.listeners.forEach((s,a)=>{s.listener.removeFuncs(i)}):this.listeners.find((s,a)=>{s.key===n&&(s.listener.removeFuncs(i),s.listener.onchangeFuncs.length!==0&&o!==!0||s.listener.stop())})}),this.debug=t,this.listeners=[],this.synchronous=r,this.syncInterval="FRAMERATE",this.syncAnim=void 0,r===!0&&this.startSync()}addListener(t=null,r,n,i,o,s=this.debug,a=!0){if(r!==void 0){var f=t;f==null&&(f=Math.floor(1e5*Math.random())),this.synchronous===!0&&(a=!1);var d={key:f,listener:new f2(r,n,i,o,s,a)};this.listeners.push(d)}else console.error("You must assign an object")}getListener(t){return this.listeners.find((r,n)=>{if(r.key===t)return!0})}hasKey(t){var r=!1;return this.listeners.forEach((n,i)=>{if(n.key===t)return r=!0,!0}),r}getKeyIndices(t){var r=[];return this.listeners.find((n,i)=>{n.key===t&&r.push(i)}),r}onchange(t=null,r=null){t==null?this.listeners.forEach((n,i)=>{n.listener.onchange=r}):this.listeners.find((n,i)=>{n.name===t&&(n.listener.onchange=r)})}stop(t=null){this.synchronous&&this.stopSync(),t==null?this.listeners.forEach((r,n)=>{r.listener.stop()}):this.listeners.find((r,n)=>{r.name===t&&r.listener.stop()})}start(t=null){this.synchronous&&this.stopSync(),t==null?this.listeners.forEach((r,n)=>{r.listener.start()}):this.listeners.find((r,n)=>{r.name===t&&r.listener.start()})}startSync(){if(this.synchronous===!1){this.synchronous=!0,this.stop();let t=()=>{this.synchronous===!0&&(this.listeners.forEach(r=>{r.listener.check()}),this.syncInterval==="FRAMERATE"?this.syncAnim=requestAnimationFrame(t):typeof this.syncInterval=="number"&&setTimeout(t,this.syncInterval))};t()}}stopSync(){this.synchronous=!1,this.syncAnim&&cancelAnimationFrame(this.syncAnim)}remove(t=null){if(t==null)this.listeners.forEach(n=>{n.listener.stop()}),this.listeners.splice(0,this.listeners.length);else{var r=[];this.listeners.forEach((n,i)=>{n.key===t&&r.push(i)}),r.reverse().forEach(n=>{this.listeners[n].listener.stop(),this.listeners.splice(n,1)})}}},f2=class{constructor(t,r="__ANY__",n=this.onchange,i="FRAMERATE",o=!1,s=!0){on(this,"onchange",a=>{console.log(this.propName," changed from: ",this.propOld," to: ",this.object[this.propName])}),on(this,"addFunc",(a=null)=>{let f=0;return a!==null&&(this.onchangeFuncs.push({idx:this.funcs,onchange:a}),f=this.funcs,this.funcs++),f}),on(this,"onchangeMulti",a=>{[...this.onchangeFuncs].forEach((f,d)=>{this.debug===!0&&console.log(f.onchange),f.onchange(a)})}),on(this,"setListenerRef",a=>{a==="__ANY__"||a==null?this.propOld=JSON.stringifyFast(this.object):Array.isArray(this.object[a])?this.propOld=JSON.stringifyFast(this.object[a].slice(this.object[a].length-20)):typeof this.object[a]=="object"?this.propOld=JSON.stringifyFast(this.object[a]):typeof this.object[a]=="function"?this.propOld=this.object[a].toString():this.propOld=this.object[a],this.debug===!0&&console.log("propname",a,", new assignment: ",this.propOld)}),on(this,"check",()=>{let a=!1;if(this.propName==="__ANY__"||this.propName===null||this.propName===void 0)this.propOld!==JSON.stringifyFast(this.object)&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object),this.setListenerRef(this.propName),a=!0);else if(Array.isArray(this.object[this.propName]))this.propOld!==JSON.stringifyFast(this.object[this.propName].slice(this.object[this.propName].length-20))&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),a=!0);else if(typeof this.object[this.propName]=="object"){let f=JSON.stringifyFast(this.object[this.propName]);this.propOld!==f&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),a=!0)}else typeof this.object[this.propName]=="function"?this.propOld!==this.object[this.propName].toString()&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName].toString()),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName].toString()),this.setListenerRef(this.propName),a=!0):this.object[this.propName]!==this.propOld&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),a=!0);return this.running===!0&&(this.debug===!0&&console.log("checking",this.object,this.propName),this.interval==="FRAMERATE"?typeof window=="undefined"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check):setTimeout(()=>{this.check()},this.interval)),a}),this.debug=o,this.onchange=n,this.onchangeFuncs=[],this.object=t,this.propName=r,this.propOld=void 0,this.setListenerRef(r),this.running=s,this.funcs=0,this.interval,i<10?(this.interval=10,console.log("Min recommended interval set: 10ms")):this.interval=i,s===!0&&(typeof window=="undefined"?setTimeout(()=>{this.check()},60):this.checker=requestAnimationFrame(this.check))}removeFuncs(t=null){let r=0;t===null?this.onchangeFuncs=[]:this.onchangeFuncs.find((n,i)=>{if(n.idx===t)return r=i,!0})!==void 0&&this.onchangeFuncs.splice(r,1)}start(){this.running=!0,typeof window=="undefined"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check)}stop(){this.running=!1,cancelAnimationFrame(this.checker)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let e=new Map,t=[],r=["this"];function n(i,o){let s;if(o!=null)if(typeof o=="object"){let a=o.constructor.name;i&&a==="Object"&&function(d,m){var g=t.length-1;if(t[g]){var y=t[g];if(typeof y=="object")if(y[d]===m||g===0)r.push(d),t.push(m.pushed);else for(;g-->=0;){if(typeof(y=t[g])=="object"&&y[d]===m){g+=2,t.length=g,r.length=g,--g,t[g]=m,r[g]=d;break}g--}}}(i,o);let f=e.get(o);if(f)return"[Circular Reference]"+f;if(e.set(o,r.join(".")),a==="Array")s=o.length>20?o.slice(o.length-20):o;else if(a.includes("Set"))s=Array.from(o);else if(a!=="Object"&&a!=="Number"&&a!=="String"&&a!=="Boolean")s="instanceof_"+a;else if(a==="Object"){let d={};for(let m in o)if(o[m]==null)d[m]=o[m];else if(Array.isArray(o[m]))o[m].length>20?d[m]=o[m].slice(o[m].length-20):d[m]=o[m];else if(o[m].constructor.name==="Object"){d[m]={};for(let g in o[m])if(Array.isArray(o[m][g]))o[m][g].length>20?d[m][g]=o[m][g].slice(o[m][g].length-20):d[m][g]=o[m][g];else if(o[m][g]!=null){let y=o[m][g].constructor.name;y.includes("Set")?d[m][g]=Array.from(o[m][g]):d[m][g]=y!=="Number"&&y!=="String"&&y!=="Boolean"?"instanceof_"+y:o[m][g]}else d[m][g]=o[m][g]}else{let g=o[m].constructor.name;g.includes("Set")?d[m]=Array.from(o[m]):d[m]=g!=="Number"&&g!=="String"&&g!=="Boolean"?"instanceof_"+g:o[m]}s=d}else s=o}else s=o;return s}return function(i,o){t.push(i);let s=JSON.stringify(i,n,o);return e.clear(),t.length=0,r.length=1,s}}()),JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let e=new Map,t=[],r=["this"];function n(i,o){if(o!=null&&typeof o=="object"){i&&function(a,f){var d=t.length-1,m=t[d];if(m[a]===f||d===0)r.push(a),t.push(f);else for(;d-->=0;)if((m=t[d])[a]===f){d+=2,t.length=d,r.length=d,--d,t[d]=f,r[d]=a;break}}(i,o);let s=e.get(o);if(s)return"[Circular Reference]"+s;e.set(o,r.join("."))}return o}return function(i,o){try{return t.push(i),JSON.stringify(i,n,o)}finally{e.clear(),t.length=0,r.length=1}}}());h2=class{constructor(t={},r="FRAMERATE",n=!0){on(this,"setupSynchronousUpdates",()=>{if(!this.listener.hasKey("pushToState")){let i=()=>{if(Object.keys(this.pushToState).length>0){Object.assign(this.data,this.pushToState);for(let o of Object.getOwnPropertyNames(this.pushToState))delete this.pushToState[o]}};this.listener.addListener("pushToState",this.pushToState,"__ANY__",i,this.interval),this.addToState("pushRecord",this.pushRecord,o=>{let s=o.pushed.length;for(let a=0;a<s;a++){let f=o.pushed[a];this.pushCallbacks.state&&this.pushCallbacks.state.forEach(d=>{d.onchange(f)});for(let d in f)this.pushCallbacks[d]&&this.pushCallbacks[d].forEach(m=>{typeof m=="object"&&m.onchange(f[d])})}this.pushRecord.pushed.splice(0,s)})}}),on(this,"addSecondaryKeyResponse",(i=null,o=null,s=!1,a=this.defaultStartListenerEventLoop)=>{if(o!=null){if(this.listener.hasKey(i))return this.listener.addFunc(i,o);if(i!=null&&i!=="state")return this.listener.addListener(i,this.data,i,()=>{},this.data.stateUpdateInterval,s,a),this.listener.addFunc(i,o);if(!this.listener.hasKey("state")){let f=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",f,this.interval)}return this.listener.addFunc("state",o)}}),on(this,"removeState",this.unsubscribeAll),this.data=t,this.interval=r,this.pushToState={},this.pushRecord={pushed:[]},this.pushCallbacks={},this.triggers={},this.prev={},this.listener=new c2,this.defaultStartListenerEventLoop=n}subscribe(t,r,n=this.defaultStartListenerEventLoop){return t&&t!=="state"?this.data[t]!==void 0?this.addSecondaryKeyResponse(t,r,void 0,n):void this.addToState(t,null,r,n):this.addSecondaryKeyResponse(t,r,void 0,n)}subscribeOnce(t,r=n=>{}){let n;n=this.subscribe(t,i=>{r(i),this.unsubscribe(t,n)})}unsubscribe(t,r=null){r!==null?this.removeSecondaryKeyResponse(t,r,!0):console.error("Specify a subcription function index")}unsubscribeAll(t){this.unsubscribeAllSequential(t),this.unsubscribeAllTriggers(t),this.clearAllKeyResponses(t),this.data[t]&&delete this.data[t],this.listener.hasKey("pushToState")&&this.setSequentialState({stateRemoved:t})}setInterval(t="FRAMERATE"){this.interval=t,this.listener.listeners.forEach((r,n)=>{r.interval=this.interval})}updateState(t,r){this.data[t]==null?this.addToState(t,r):this.data[t]=r}addToState(t,r,n=null,i=this.defaultStartListenerEventLoop,o=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&this.setupSynchronousUpdates(),this.data[t]=r,this.setSequentialState({stateAdded:t}),n!==null)return this.addSecondaryKeyResponse(t,n,o,i)}get(t){return this.data[t]}getState(){return JSON.parse(JSON.stringifyFast(this.data))}setState(t={},r=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&(this.setupSynchronousUpdates(),this.pushRecord.pushed.push(JSON.parse(JSON.stringifyWithCircularRefs(t)))),t.stateUpdateTimeStamp=Date.now(),r){for(let n in t)if(n in this.pushToState){if(Array.isArray(this.pushToState[n])&&Array.isArray(t[n]))t[n]=this.pushToState[n].push(...t[n]);else if(typeof this.pushToState[n]=="object"&&typeof t[n]=="object"){for(let i in t[n])if(this.pushToState[n][i]){if(Array.isArray(this.pushToState[n][i])&&Array.isArray(t[n][i]))t[n][i]=this.pushToState[n][i].push(...t[n][i]);else if(typeof this.pushToState[n][i]=="object"&&typeof t[n][i]=="object"){for(let o in t[n][i])if(this.pushToState[n][i][o])Array.isArray(this.pushToState[n][i][o])&&Array.isArray(t[n][i][o])&&(t[n][i][o]=this.pushToState[n][i][o].push(...t[n][i][o]));else if(typeof this.pushToState[n][i][o]=="object"&&typeof t[n][i][o]=="object")for(let s in t[n][i][o])this.pushToState[n][i][o][s]&&Array.isArray(this.pushToState[n][i][o][s])&&Array.isArray(t[n][i][o][s])&&(t[n][i][o][s]=this.pushToState[n][i][o][s].push(...t[n][i][o][s]))}}}}}if(Object.assign(this.pushToState,t),Object.keys(this.triggers).length>0){this.triggers.state&&this.triggers.state.forEach(n=>{n.onchange(this.data)});for(let n of Object.getOwnPropertyNames(this.triggers))n in this.pushToState&&(this.data[n]=this.pushToState[n],delete this.pushToState[n],this.triggers[n].forEach(i=>{i.onchange(this.data[n])}))}return this.pushToState}subscribeTrigger(t,r=n=>{}){if(t){this.triggers[t]||(this.triggers[t]=[]);let n=this.triggers[t].length;return this.triggers[t].push({idx:n,onchange:r}),this.triggers[t].length-1}}subscribeTriggerOnce(t,r=n=>{}){let n;n=this.subscribeTrigger(t,i=>{r(i),this.unsubscribeTrigger(t,n)})}unsubscribeTrigger(t,r=0){let n,i=this.triggers[t];i&&i.find(o=>{if(o.idx===r)return!0})&&i.splice(n,1)}unsubscribeAllTriggers(t){t&&this.triggers[t]&&delete this.triggers[t]}setSequentialState(t={}){this.listener.hasKey("pushToState")||this.setupSynchronousUpdates(),t.stateUpdateTimeStamp=Date.now(),this.pushRecord.pushed.push(JSON.parse(JSON.stringify(t)))}subscribeSequential(t,r){if(t&&(this.data[t]===void 0&&t!=="state"&&this.addToState(t,null,void 0),this.pushCallbacks[t]||(this.pushCallbacks[t]=[]),r)){let n=this.pushCallbacks[t].length;return this.pushCallbacks[t].push({idx:n,onchange:r}),this.pushCallbacks[t].length-1}}subscribeSequentialOnce(t,r=n=>{}){let n;n=this.subscribeSequential(t,i=>{r(i),this.unsubscribeSequential(t,n)})}unsubscribeSequential(t,r=0){t&&this.pushCallbacks[t]&&this.pushCallbacks[t].find((n,i)=>{if(n.idx===r)return this.pushCallbacks[t].splice(i,1),!0})}unsubscribeAllSequential(t){t&&this.pushCallbacks[t]&&this.pushCallbacks[t]&&delete this.pushCallbacks[t]}setPrimaryKeyResponse(t=null,r=null,n=!1,i=this.defaultStartListenerEventLoop){if(r!==null)if(this.listener.hasKey(t))this.listener.onchange(t,r);else{if(t==null||t==="state"){if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}this.listener.addListener(t,this.data,t,r,this.data.stateUpdateInterval,n,i)}}removeSecondaryKeyResponse(t=null,r=null,n=!0){t!==null?this.listener.hasKey(t)?this.listener.removeFuncs(t,r,n):console.error("key does not exist"):console.error("provide key")}clearAllKeyResponses(t=null){t===null?this.listener.remove(null):this.listener.hasKey(t)&&this.listener.remove(t)}getKeySubCallbacks(t){return this.listener.getFuncs(t)}runSynchronousListeners(){this.defaultStartListenerEventLoop=!1,this.listener.startSync()}stop(t=null){this.listener.stop(t)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let e=new Map,t=[],r=["this"];function n(i,o){let s;if(o!=null)if(typeof o=="object"){let a=o.constructor.name;i&&a==="Object"&&function(d,m){var g=t.length-1;if(t[g]){var y=t[g];if(typeof y=="object")if(y[d]===m||g===0)r.push(d),t.push(m.pushed);else for(;g-->=0;){if(typeof(y=t[g])=="object"&&y[d]===m){g+=2,t.length=g,r.length=g,--g,t[g]=m,r[g]=d;break}g++}}}(i,o);let f=e.get(o);if(f)return"[Circular Reference]"+f;if(e.set(o,r.join(".")),a==="Array")s=o.length>20?o.slice(o.length-20):o;else if(a.includes("Set"))s=Array.from(o);else if(a!=="Object"&&a!=="Number"&&a!=="String"&&a!=="Boolean")s="instanceof_"+a;else if(a==="Object"){let d={};for(let m in o)if(o[m]==null)d[m]=o[m];else if(Array.isArray(o[m]))o[m].length>20?d[m]=o[m].slice(o[m].length-20):d[m]=o[m];else if(o[m].constructor.name==="Object"){d[m]={};for(let g in o[m])if(Array.isArray(o[m][g]))o[m][g].length>20?d[m][g]=o[m][g].slice(o[m][g].length-20):d[m][g]=o[m][g];else if(o[m][g]!=null){let y=o[m][g].constructor.name;y.includes("Set")?d[m][g]=Array.from(o[m][g]):d[m][g]=y!=="Number"&&y!=="String"&&y!=="Boolean"?"instanceof_"+y:o[m][g]}else d[m][g]=o[m][g]}else{let g=o[m].constructor.name;g.includes("Set")?d[m]=Array.from(o[m]):d[m]=g!=="Number"&&g!=="String"&&g!=="Boolean"?"instanceof_"+g:o[m]}s=d}else s=o}else s=o;return s}return function(i,o){t.push(i);let s=JSON.stringify(i,n,o);return e.clear(),t.length=0,r.length=1,s}}()),JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let e=new Map,t=[],r=["this"];function n(i,o){if(o!=null&&typeof o=="object"){i&&function(a,f){var d=t.length-1,m=t[d];if(typeof m=="object")if(m[a]===f||d===0)r.push(a),t.push(f.pushed);else for(;d-->=0;){if(typeof(m=t[d])=="object"&&m[a]===f){d+=2,t.length=d,r.length=d,--d,t[d]=f,r[d]=a;break}d--}}(i,o);let s=e.get(o);if(s)return"[Circular Reference]"+s;e.set(o,r.join("."))}return o}return function(i,o){try{return t.push(i),JSON.stringify(i,n,o)}finally{e.clear(),t.length=0,r.length=1}}}());d2=(e,t=!0)=>{e instanceof Object&&(e=Array.isArray(e)?[...e]:Object.assign({},e));for(let r in e)e[r]instanceof Function&&(e[r]=e[r].toString()),e[r]instanceof Object&&(e[r]=d2(e[r],!1));return t?JSON.stringify(e):e},y5=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,m5=/([^\s,]+)/g;try{if(typeof process=="object"){let e=q_();typeof globalThis.fetch!="function"&&(globalThis.fetch=e)}}catch(e){}p2=class{constructor(t="https://localhost",r,n){let i,o;this.id=null,this.target=null,this.type=null,this.link=null,this.credentials={},this.connection=null,this.services={available:{},connecting:{},queue:{}},this.router=null,this.clients={},this.user=j0(),this.status=!1,this.responses={},this.setCredentials=s=>{var a;this.credentials={_id:(a=s._id)!==null&&a!==void 0?a:j0(),id:s.id||s._id}},this.check=()=>ae(this,void 0,void 0,function*(){var s,a,f,d,m,g;this.type==="webrtc"&&(yield this._subscribe({protocol:"webrtc",force:!0}).then(A=>{this.status=!0}).catch(A=>console.log("Link doesn't have WebRTC enabled.",A)));let y=()=>ae(this,void 0,void 0,function*(){return yield this._subscribe({protocol:"websocket",force:!0}).then(A=>(this.status=!0,A)),yield this.send("services")}),S=()=>ae(this,void 0,void 0,function*(){return yield this.send("services")}),N;if(this.type==="websocket"?yield y().then(A=>(this.status=!0,A)).catch(A=>ae(this,void 0,void 0,function*(){if(this.type==="websocket")return console.log("Falling back to http"),yield S()})):N=yield S().then(A=>(this.status=!0,A)).catch(A=>ae(this,void 0,void 0,function*(){return console.log("Falling back to websockets"),yield y()})),N){console.log("Connection successful!");let A=N.message[0];for(let T in A){let I=A[T].replace(/Backend|Service/,"").toLowerCase();this.services.available[I]=T,((f=(a=(s=this.router)===null||s===void 0?void 0:s.SERVICES)===null||a===void 0?void 0:a[I])===null||f===void 0?void 0:f.status)instanceof Function&&this.router.SERVICES[I].status(T),((d=this.clients[I])===null||d===void 0?void 0:d.serviceType)==="subscription"&&((m=this.services.queue[I])===null||m===void 0||m.forEach(C=>C()),this.services.queue[I]=[])}(g=this.services.queue[void 0])===null||g===void 0||g.forEach(T=>T()),this.services.queue[void 0]=[]}else console.log("Connection failed!");return N==null?void 0:N.message}),this.send=(s,a={},f=()=>{})=>ae(this,void 0,void 0,function*(){var d,m,g,y,S,N,A,T;if(typeof s=="string")a.route=s;else{let K=this.services[s.service];a.route=K?`${K}/${s.route}`:s.route}let I;a.suppress=!!this.connection;let C={suppress:a.suppress,id:(d=this.link.connection)===null||d===void 0?void 0:d.id};if(((m=this.connection)===null||m===void 0?void 0:m.protocol)==="websocket")a.id=(g=this.link.credentials)===null||g===void 0?void 0:g.id,I=yield this.link.connection.service.send(a,C);else if(((y=this==null?void 0:this.connection)===null||y===void 0?void 0:y.protocol)==="webrtc")a.id=((S=this.credentials)===null||S===void 0?void 0:S.id)||((N=this.link.credentials)===null||N===void 0?void 0:N.id),I=yield this.connection.service.send(a,C);else{a.id=(A=this.link.credentials)===null||A===void 0?void 0:A.id,a.method||(a.method=((T=a.message)===null||T===void 0?void 0:T.length)>0?"POST":"GET");let K={method:a.method.toUpperCase(),mode:"cors",headers:{"Content-Type":"application/json"}};K.method!="GET"&&(K.body=d2(a)),I=yield fetch(function(H,J){let M=J instanceof URL?J:new URL(J);return H=M.pathname==="/"?H:M.pathname+H,new URL(H,M.href).href}(a.route,this.link.target),K).then(H=>ae(this,void 0,void 0,function*(){let J=H.body.getReader(),M=H.headers.get("Content-Length"),V=0;if(globalThis.ReadableStream){let _=new ReadableStream({start(q){let te=()=>ae(this,void 0,void 0,function*(){J.read().then(({value:X,done:le})=>{le?q.close():(V+=X.length,f(V/M,M),q.enqueue(X),te())})});te()}});return new Response(_,{headers:H.headers})}return H})),I=I&&(yield I.json().then(H=>{if(I.ok)return H;throw H.message}).catch(H=>ae(this,void 0,void 0,function*(){throw"Invalid JSON"})))}return I&&!(I==null?void 0:I.route)&&(I.route=a.route,I.block=!0),I}),this._subscribe=(s={})=>ae(this,void 0,void 0,function*(){let a=()=>new Promise(f=>ae(this,void 0,void 0,function*(){var d;let m=(d=s.protocol)!==null&&d!==void 0?d:this.type;(m?[this.clients[m]]:Object.values(this.clients)).forEach(g=>ae(this,void 0,void 0,function*(){var y;if(g&&s.force||(g==null?void 0:g.status)===!0&&(g==null?void 0:g.serviceType)==="subscription"){let S=`${(y=this.link.services.available[g==null?void 0:g.service])!==null&&y!==void 0?y:g.name.toLowerCase()}/subscribe`;if(g.setEndpoint(this.link),!this.connection){let N=this.type==="http"||this.type==="websocket"?new URL(S,this.target):this.target,A=yield g.add(this.credentials,N.href);this.router&&g.addResponse("router",T=>{let I=typeof T=="string"?JSON.parse(T):T;Object.values(this.responses).forEach(C=>{C(I)}),this.router&&this.router.handleLocalRoute(I)}),this.connection={service:g,id:A,protocol:g.name}}return this.type==="webrtc"&&(s.routes=[this.target]),yield this.link.send(S,Object.assign({route:s.route,message:s.message,protocol:s.protocol},{message:[s.routes,this.connection.id]})),void f(this.connection)}})),this.services.queue[m]||(this.services.queue[m]=[]),this.services.queue[m].push(()=>ae(this,void 0,void 0,function*(){let g=yield a();f(g)}))}));return yield a()}),this.subscribe=s=>{if(s){let a=ms("response");return this.responses[a]=s,a}},this.unsubscribe=s=>{s?delete this.responses[s]:this.responses={}},typeof t=="object"?t instanceof URL?i=t:(i=t.target,o=t.type,this.link=t.link,this.setCredentials(t.credentials)):i=t,o||(o="http"),this.link||(this.link=this),o==="http"||o==="websocket"?(i=i instanceof URL?i:new URL(i),this.id=i.origin):this.id=i,this.target=i,this.type=o,this.router=n,r&&(this.clients=r)}},Pt=e=>typeof e=="string"&&e.length===24?Q6(e):e,g5=["user","group","authorization","discussion","chatroom","comment","dataInstance","event","notification","schedule","date"],y2=class extends class{constructor(t){var r;this.id=ms("service"),this.name="service",this.callbacks=new Map,this.status=!1,this.serviceType="default",this.routes=[],this.delegate=(r=globalThis==null?void 0:globalThis.document)===null||r===void 0?void 0:r.createDocumentFragment(),this.protocols={},this.services={},this.setEndpointRoute=n=>{this.route=n},this.notify=(n,i,o)=>ae(this,void 0,void 0,function*(){let s=[];return yield Promise.all(Array.from(this.callbacks).map((a,f)=>ae(this,void 0,void 0,function*(){let d=yield a[1](n,i,o);!d||d instanceof Error||s.push(d)}))),s==null?void 0:s[0]}),this.setEndpoint=n=>{this.endpoint=n},this.subscribe=n=>{if(n instanceof Function){let i=ms();return this.callbacks.set(i,n),i}},this.unsubscribe=n=>this.callbacks.delete(n),this.router=t}addEventListener(...t){var r;(r=this.delegate)===null||r===void 0||r.addEventListener.apply(this.delegate,t)}dispatchEvent(...t){var r;return(r=this.delegate)===null||r===void 0?void 0:r.dispatchEvent.apply(this.delegate,t)}removeEventListener(...t){var r;return(r=this.delegate)===null||r===void 0?void 0:r.removeEventListener.apply(this.delegate,t)}}{constructor(t,r={},n=!1){super(t),this.name="structs",this.collections={},this.debug=!1,this.wipeDB=()=>ae(this,void 0,void 0,function*(){return yield Promise.all(Object.values(this.collections).map(i=>i.instance.deleteMany({}))),!0}),this.db=r==null?void 0:r.db,this.debug=n,this.mode=this.db&&r.mode?r.mode:"local",r.collections||(r.collections={}),g5.forEach(i=>{r.collections[i]||(r.collections[i]=this.db?{instance:this.db.collection(i)}:{},r.collections[i].reference={})}),this.collections=r.collections,this.routes=[{route:"getUser",post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(this.debug&&console.log("getUser origin",o,"users:",i.USERS),!a)return!1;let f;if(this.mode==="mongo")f=yield this.getMongoUser(a,o[0]);else{let d=this.getLocalData("user",{_id:o[0]});d?(yield this.checkAuthorization(a,d))?f={user:d,groups:this.getLocalData("group",{ownerId:o[0]}),authorizations:this.getLocalData("authorization",{ownerId:o[0]})}:f={user:{}}:f={user:{}}}return this.debug&&console.log("getUser:",a,o[0],f),f})},{route:"setUser",aliases:["addUser"],post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;return this.mode!=="mongo"?((yield this.checkAuthorization(a,o[0],"WRITE"))&&this.setLocalData(o[0]),!0):(f=yield this.setMongoUser(a,o[0]),this.debug&&console.log("setUser",a,o[0],f),f)})},{route:"getUsersByIds",post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode==="mongo")f=yield this.getMongoUsersByIds(a,o[0]);else if(f=[],Array.isArray(o[0])){let d=this.getLocalData("user",{_id:o[0]});d&&f.push(d)}return this.debug&&console.log("getUserByIds:",a,o[0],f),f})},{route:"getUsersByRoles",post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoUsersByRoles(a,o[0]);else{let d=this.getLocalData("user");f=[],d.forEach(m=>{var g;((g=m.userRoles)===null||g===void 0?void 0:g.includes(o[0]))&&f.push(m)})}return this.debug&&console.log("getUserByRoles",a,o[0],f),f})},{route:"deleteUser",aliases:["removeUser"],post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode==="mongo")f=yield this.deleteMongoUser(a,o[0]);else{f=!1;let d=this.getLocalData(o[0]);d&&this.checkAuthorization(a,d,"WRITE")&&(f=this.deleteLocalData(d))}return this.debug&&console.log("deleteUser:",a,o[0],f),f})},{route:"setData",aliases:["setMongoData"],post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(!this.mode.includes("mongo")){let d=[];return f=[],yield Promise.all(o.map(m=>ae(this,void 0,void 0,function*(){let g=this.getLocalData(m);(yield this.checkAuthorization(a,g,"WRITE"))&&(this.setLocalData(g),f.push(g),g.structType!=="notification"&&d.push(g))}))),d.length>0&&this.checkToNotify(a,d,this.mode),this.debug&&console.log("setData:",a,o,f),!0}return f=yield this.setMongoData(a,o),this.debug&&console.log("setData:",a,o,f),f})},{route:"getData",aliases:["getMongoData","getUserData"],post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoData(a,o[0],o[1],o[2],o[4],o[5]);else{let d;f=[],o[0]&&(d=this.getLocalData(o[0])),d&&o[1]&&(d=d.filter(m=>{if(m.ownerId===o[1])return!0})),d&&(yield Promise.all(d.map(m=>ae(this,void 0,void 0,function*(){let g=this.getLocalData(m._id);(yield this.checkAuthorization(a,g))&&f.push(g)}))))}return this.debug&&console.log("getData:",a,o,f),f})},{route:"getDataByIds",aliases:["getMongoDataByIds","getUserDataByIds"],post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoDataByIds(a,o[0],o[1],o[2]);else{let d;f=[],o[2]&&(d=this.getLocalData(o[2])),d&&o[1]&&(d=d.filter(m=>{if(m.ownerId===o[1])return!0})),d&&(yield Promise.all(d.map(m=>ae(this,void 0,void 0,function*(){let g=this.getLocalData(m._id);(yield this.checkAuthorization(a,g))&&f.push(g)}))))}return this.debug&&console.log("getDataByIds:",a,o,f),f})},{route:"getAllData",post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getAllUserMongoData(a,o[0],o[1]);else{let d=this.getLocalData(void 0,{ownerId:o[0]});f=[],yield Promise.all(d.map(m=>ae(this,void 0,void 0,function*(){o[1]?o[1].indexOf(m.structType)<0&&(yield this.checkAuthorization(a,m))&&f.push(m):(yield this.checkAuthorization(a,m))&&f.push(m)})))}return this.debug&&console.log("getAllData:",a,o,f),f})},{route:"deleteData",post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;return this.mode.includes("mongo")?f=yield this.deleteMongoData(a,o):(f=!1,yield Promise.all(o.map(d=>ae(this,void 0,void 0,function*(){let m=this.getLocalData(d);(yield this.checkAuthorization(a,m,"WRITE"))&&this.deleteLocalData(m),f=!0})))),this.debug&&console.log("deleteData:",a,o,f),f})},{route:"getGroup",aliases:["getGroups"],post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoGroups(a,o[0],o[1]);else if(typeof o[1]=="string")f=this.getLocalData("group",{_id:o[1]});else{f=[];let d=this.getLocalData("group");o[0]?d.forEach(m=>{m.users.includes(o[0])&&f.push(m)}):d.forEach(m=>{m.users.includes(a._id)&&f.push(m)})}return this.debug&&console.log("getGroups:",a,o,f),f})},{route:"setGroup",post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f=yield this.setGroup(a,o[0],this.mode);this.debug&&console.log("setGroup:",a,o,f)})},{route:"deleteGroup",post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.deleteMongoGroup(a,o[0]);else{let d=this.getLocalData("group",o[0]),m=!1;d&&(m=yield this.checkAuthorization(a,d,"WRITE")),m&&(f=!0)}return this.debug&&console.log("deleteGroup:",a,o,f),f})},{route:"setAuth",post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f=yield this.setAuthorization(a,o[0],this.mode);return this.debug&&console.log("deleteGroup:",a,o,f),f})},{route:"getAuths",post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoAuthorizations(a,o[0],o[1]);else if(o[1]){let d=this.getLocalData("authorization",{_id:o[1]});d&&(f=[d])}else f=this.getLocalData("authorization",{ownerId:o[0]});return this.debug&&console.log("deleteGroup:",a,o,f),f})},{route:"deleteAuth",post:(i,o,s)=>ae(this,void 0,void 0,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.deleteMongoAuthorization(a,o[0]);else{f=!0;let d=this.getLocalData("authorization",{_id:o[0]});d&&this.checkAuthorization(a,d,"WRITE")&&(f=this.deleteLocalData(d))}return this.debug&&console.log("deleteGroup:",a,o,f),f})}]}notificationStruct(t={}){let r="notification";return{structType:r,timestamp:Date.now(),id:ms(r),note:"",ownerId:"",parentUserId:"",parent:{structType:t==null?void 0:t.structType,_id:t==null?void 0:t._id}}}checkToNotify(t,r=[],n=this.mode){return ae(this,void 0,void 0,function*(){if(typeof t=="string")for(let s in this.router.USERS){let a=this.router.USERS[s];a._id===t&&(t=a)}if(typeof t=="string"||t==null)return!1;let i={},o=[];if(r.forEach(s=>ae(this,void 0,void 0,function*(){if((t==null?void 0:t._id)!==s.ownerId){let a=this.notificationStruct(s);a.id="notification_"+s._id,a.ownerId=s.ownerId,a.note=s.structType,a.parentUserId=s.ownerId,o.push(a),i[s.ownerId]=s.ownerId}if(s.users)s.users.forEach(a=>{if(a!==t._id){let f=this.notificationStruct(s);f.id="notification_"+s._id,f.ownerId=a,f.note=s.structType,f.parentUserId=s.ownerId,o.push(f),i[a]=a}});else{let a=[];if(n==="mongo"){let f=this.collections.authorizations.instance.find({$or:[{authorizedId:t._id},{authorizerId:t._id}]});(yield f.count())>0&&(yield f.forEach(d=>a.push(d)))}else a=this.getLocalData("authorization",{authorizedId:t._id}),a.push(...this.getLocalData("authorization",{authorizerId:t._id}));a.length>0&&a.forEach(f=>{if(s.authorizerId===s.ownerId&&!i[s.authorizedId]&&f.status==="OKAY"&&f.authorizations.indexOf("peer")>-1){let d=this.notificationStruct(s);d.ownerId=f.authorizedId,d.id="notification_"+s._id,d.note=s.structType,d.parentUserId=s.ownerId,o.push(d),i[d.ownerId]=d.ownerId}})}})),o.length>0){n==="mongo"?yield this.setMongoData(t,o):this.setLocalData(o);for(let s in i)this.router.sendMsg(s,"notifications",!0);return!0}return!1})}setMongoData(t,r=[]){return ae(this,void 0,void 0,function*(){let n=!1;if(r.length>0){let i=!0,o="";if(yield Promise.all(r.map(s=>ae(this,void 0,void 0,function*(){if(((t==null?void 0:t._id)!==s.ownerId||t._id===s.ownerId&&t.userRoles.includes("admin_control"))&&o!==s.ownerId&&(i=yield this.checkAuthorization(t,s,"WRITE"),o=s.ownerId),i){let a=JSON.parse(JSON.stringify(s));a._id&&delete a._id,s.id?s.id.includes("defaultId")?(yield this.db.collection(s.structType).insertOne(a),n=!0):yield this.db.collection(s.structType).updateOne({id:s.id},{$set:a},{upsert:!0}):s._id&&(s._id.includes("defaultId")?(yield this.db.collection(s.structType).insertOne(a),n=!0):yield this.db.collection(s.structType).updateOne({_id:Pt(s._id)},{$set:a},{upsert:!1}))}}))),n===!0){let s=[];return yield Promise.all(r.map((a,f)=>ae(this,void 0,void 0,function*(){let d=JSON.parse(JSON.stringify(a));if(d._id&&delete d._id,a.structType!=="comment"){let m;a.structType!=="notification"&&(m=yield this.db.collection(d.structType).findOne(d)),m&&(m._id=m._id.toString(),s.push(m))}else if(a.structType==="comment"){let m=a,g=JSON.parse(JSON.stringify(m));g._id&&delete g._id;let y=yield this.db.collection("comment").findOne(g),S=m.replyTo,N=r.find(A=>{if(A._id===S)return!0});if(N){let A,T=JSON.parse(JSON.stringify(N));if(T._id&&delete T._id,yield Promise.all(["discussion","chatroom","comment"].map(I=>ae(this,void 0,void 0,function*(){let C=yield this.db.collection(I).findOne({_id:Pt(S)});C&&(A=C)}))),A){let I,C,K=m.parent._id;if(K!==S?(I=r.find(J=>{if(J._id===K)return!0}),I&&(delete I._id,yield Promise.all(["discussion","chatroom"].map(J=>ae(this,void 0,void 0,function*(){let M=yield this.db.collection(J).findOne(I);M&&(C=M)}))))):C=A,A){let J=A.replies.indexOf(m._id);J>-1&&(A.replies[J]=y._id.toString(),y.replyTo=A._id.toString())}if(C){let J=C.comments.indexOf(m._id);J>-1&&(C.comments[J]=y._id.toString(),y.parent._id=C._id.toString())}let H=[y,A];C._id.toString()!==A._id.toString()&&H.push(C),yield Promise.all(H.map(J=>ae(this,void 0,void 0,function*(){let M=JSON.parse(JSON.stringify(J));delete M._id,yield this.db.collection(J.structType).updateOne({_id:Pt(J._id)},{$set:M},{upsert:!1})}))),[...s].reverse().forEach((J,M)=>{H.find(V=>{if(J._id.toString()===V._id.toString())return!0})&&s.splice(s.length-M-1,1)}),s.push(...H)}}else y&&s.push(y)}}))),this.checkToNotify(t,s),s}{let s=[];return r.forEach(a=>{a.structType!=="notification"&&s.push(a)}),this.checkToNotify(t,s),!0}}return!1})}setMongoUser(t,r){return ae(this,void 0,void 0,function*(){if(r._id){if((t._id!==r.ownerId||t._id===r.ownerId&&t.userRoles.includes("admin_control"))&&!(yield this.checkAuthorization(t,r,"WRITE")))return!1;let n=JSON.parse(JSON.stringify(r));n._id&&delete n._id,this.router.DEBUG&&console.log("RETURNS PROFILE",r);let i=Pt(r._id),o=i!==r._id?{_id:i}:{id:r.id};return yield this.collections.users.instance.updateOne(o,{$set:n},{upsert:!0}),t=yield this.collections.users.instance.findOne(o),this.checkToNotify(t,[r]),t}return!1})}setGroup(t,r={},n=this.mode){return ae(this,void 0,void 0,function*(){if(r._id){let i;if(i=n==="mongo"?yield this.collections.groups.instance.findOne({name:r.name}):this.getLocalData("group",{_id:r._id}),i&&(i.ownerId!==r.ownerId||r.admins.indexOf(t._id)<0)||t._id!==r.ownerId&&!(yield this.checkAuthorization(t,r,"WRITE")))return!1;let o=[];r.users.forEach(y=>{o.push({email:y},{id:y},{username:y})});let s=[],a=[];if(n==="mongo"){let y=this.collections.users.instance.find({$or:o});(yield y.count())>0&&(yield y.forEach(S=>{s.push(S),a.push(S._id)}))}else o.forEach(y=>{let S=this.getLocalData("user",y);S.length>0&&(s.push(S[0]),a.push(S[0]._id))});r.users=a;let f=[],d=[],m=[];s.forEach(y=>{r.admins.find((S,N)=>{if(S===y._id||S===y.email||S===y.username||y._id===r.ownerId)return f.indexOf(y._id<0)&&f.push(y._id),!0}),r.peers.find((S,N)=>{if(S===y._id||S===y.email||S===y.username)return d.indexOf(y._id<0)&&d.push(y._id),!0}),r.clients.find((S,N)=>{if(S===y._id||S===y.email||S===y.username)return m.indexOf(y._id<0)&&m.push(y._id),!0})}),r.admins=f,r.peers=d,r.clients=m;let g=JSON.parse(JSON.stringify(r));return g._id&&delete g._id,n==="mongo"?r._id.includes("defaultId")?yield this.db.collection(r.structType).insertOne(g):yield this.collections.groups.instance.updateOne({_id:Pt(r._id)},{$set:g},{upsert:!0}):this.setLocalData(r),this.checkToNotify(t,[r],this.mode),r}return!1})}getMongoUser(t,r="",n=!1){return ae(this,void 0,void 0,function*(){return new Promise(i=>ae(this,void 0,void 0,function*(){let o=[{email:r},{id:r},{username:r}];try{o.push({_id:Pt(r)})}catch(a){}let s=yield this.collections.users.instance.findOne({$or:o});if(s&&s!=null)if(!s._id&&s._id?s._id=s._id.toString():!s._id&&s._id&&(s._id=s._id),s.ownerId||(s.ownerId=s._id),s&&n===!1){(t._id!==s._id||t._id===s._id&&t.userRoles.includes("admin_control"))&&((yield this.checkAuthorization(t,s))||i(void 0));let a=[],f=this.collections.authorizations.instance.find({ownerId:s._id});(yield f.count())>0&&(yield f.forEach(g=>a.push(g)));let d=this.collections.groups.instance.find({users:{$all:[s._id]}}),m=[];(yield d.count())>0&&(yield d.forEach(g=>m.push(g))),s.authorizations=a,s.groups=m,i(s)}else i(s);else i({})}))})}getMongoUsersByIds(t={},r=[]){return ae(this,void 0,void 0,function*(){let n=[];r.forEach(o=>{try{n.push({_id:Pt(o)})}catch(s){}});let i=[];if(n.length>0){let o=this.collections.users.instance.find({$or:n});(yield o.count())>0&&(yield o.forEach(s=>{i.push(s)}))}return i})}getMongoUsersByRoles(t={},r=[]){return ae(this,void 0,void 0,function*(){let n=this.collections.users.instance.find({userRoles:{$all:r}}),i=[];return(yield n.count())>0&&(yield n.forEach(o=>{i.push(o)})),i})}getMongoDataByIds(t,r,n,i){return ae(this,void 0,void 0,function*(){if(r.length>0){let o=[];r.forEach(a=>{let f={_id:a};n&&(f.ownerId=n),o.push(f)});let s=[];if(i){let a=yield this.db.collection(i).find({$or:o});if((yield a.count())>0){let f=!0,d="";yield a.forEach(m=>ae(this,void 0,void 0,function*(){(t._id!==m.ownerId||t._id===m.ownerId&&t.userRoles.includes("admincontrol"))&&d!==m.ownerId&&(f=yield this.checkAuthorization(t,m),d=m.ownerId),f&&s.push(m)}))}}else yield Promise.all(Object.keys(this.collections).map(a=>ae(this,void 0,void 0,function*(){let f=yield this.db.collection(a).find({$or:o});if((yield f.count())>0){let d=!0,m="";yield f.forEach(g=>ae(this,void 0,void 0,function*(){(t._id!==g.ownerId||t._id===g.ownerId&&t.userRoles.includes("admincontrol"))&&m!==g.ownerId&&(d=yield this.checkAuthorization(t,g),m=g.ownerId),d&&s.push(g)}))}})));return s}})}getMongoData(t,r,n,i={},o=0,s=0){return ae(this,void 0,void 0,function*(){n||(n=i==null?void 0:i.ownerId),i._id&&(i._id=Pt(i._id));let a=[],f=!0,d="";if(!(r||n||i))return[];if(!r&&n&&Object.keys(i).length===0)return yield this.getAllUserMongoData(t,n);if(!i&&n){let m=this.db.collection(r).find({ownerId:n}).sort({$natural:-1}).skip(s);o>0&&m.limit(o),(yield m.count())>0&&(yield m.forEach(g=>ae(this,void 0,void 0,function*(){(t._id!==g.ownerId||t._id===g.ownerId&&t.userRoles.includes("admincontrol"))&&d!==g.ownerId&&(f=yield this.checkAuthorization(t,g),d=g.ownerId),f===!0&&a.push(g)})))}else if(Object.keys(i).length>0&&n){let m=yield this.db.collection(r).findOne(Object.assign({ownerId:n},i));m&&a.push(m)}else Object.keys(i).length>0&&!n&&(yield Promise.all(Object.keys(this.collections).map(m=>ae(this,void 0,void 0,function*(){let g=yield this.db.collection(m).findOne(i);if(g)return(t._id!==g.ownerId||t._id===g.ownerId&&t.userRoles.includes("admincontrol"))&&d!==g.ownerId&&(f=yield this.checkAuthorization(t,g),d=g.ownerId),void a.push(g)}))));return f?a:[]})}getAllUserMongoData(t,r,n=[]){return ae(this,void 0,void 0,function*(){let i=[],o=!0,s="";return yield Promise.all(Object.keys(this.collections).map((a,f)=>ae(this,void 0,void 0,function*(){if(o&&n.indexOf(a)<0){let d=this.db.collection(a).find({ownerId:r}),m=yield d.count();for(let g=0;g<m;g++){let y=yield d.next();(t._id!==r||t._id===r&&t.userRoles.includes("admincontrol"))&&s!==r&&(o=yield this.checkAuthorization(t,y),s=r),o&&i.push(y)}}}))),o?i:[]})}getMongoDataByRefs(t,r=[]){return ae(this,void 0,void 0,function*(){let n=[];if(n.length>0){let i="";r.forEach(o=>ae(this,void 0,void 0,function*(){if(o.structType&&o._id){let s=yield this.db.collection(o.structType).findOne({_id:Pt(o._id)});s&&((t._id!==s.ownerId||t._id===s.ownerId&&t.userRoles.includes("admincontrol"))&&i!==s.ownerId&&(yield this.checkAuthorization(t,s),i=s.ownerId),n.push(s))}}))}return n})}getMongoAuthorizations(t,r=t._id,n=""){return ae(this,void 0,void 0,function*(){let i=[];if(n.length===0){let o=this.collections.authorizations.instance.find({ownerId:r});(yield o.count)>0&&(yield o.forEach(s=>{i.push(s)}))}else i.push(yield this.collections.authorizations.instance.findOne({_id:Pt(n),ownerId:r}));if(!(t._id!==i[0].ownerId&&!(yield this.checkAuthorization(t,i[0]))))return i})}getMongoGroups(t,r=t._id,n=""){return ae(this,void 0,void 0,function*(){let i=[];if(n.length===0){let o=this.collections.groups.instance.find({users:{$all:[r]}});(yield o.count)>0&&(yield o.forEach(s=>{i.push(s)}))}else try{i.push(yield this.collections.groups.instance.findOne({_id:Pt(n),users:{$all:[r]}}))}catch(o){}return i})}deleteMongoData(t,r=[]){return ae(this,void 0,void 0,function*(){let n=[];yield Promise.all(r.map(o=>ae(this,void 0,void 0,function*(){try{let s=Pt(o._id),a=yield this.db.collection(o.structType).findOne({_id:s});if(a){n.push(a);let f=yield this.collections.notifications.instance.find({parent:{structType:o.structType,id:o._id}}),d=yield f.count();for(let m=0;m<d;m++){let g=yield f.next();g&&n.push(g)}}}catch(s){}})));let i="";return yield Promise.all(n.map((o,s)=>ae(this,void 0,void 0,function*(){var a;let f=!0;(o.ownerId!==t._id||t._id===o.ownerId&&((a=t.userRoles)===null||a===void 0?void 0:a.includes("admincontrol")))&&o.ownerId!==i&&(i=o.ownerId,f=yield this.checkAuthorization(t,o,"WRITE")),f&&(yield this.db.collection(o.structType).deleteOne({_id:Pt(o._id)}),o.users&&o.users.forEach(d=>{d!==t._id&&d!==o.ownerId&&this.router.sendMsg(d,"deleted",o._id)}),o.ownerId!==t._id&&this.router.sendMsg(o.ownerId,"deleted",o._id))}))),!0})}deleteMongoUser(t,r){return ae(this,void 0,void 0,function*(){if(t._id!==r||t._id===r&&t.userRoles.includes("admincontrol")){let n=yield this.collections.users.instance.findOne({id:r});if(!(yield this.checkAuthorization(t,n,"WRITE")))return!1}return yield this.collections.users.instance.deleteOne({id:r}),t._id!==r&&this.router.sendMsg(r,"deleted",r),!0})}deleteMongoGroup(t,r){return ae(this,void 0,void 0,function*(){let n=yield this.collections.groups.instance.findOne({_id:Pt(r)});return n?(t._id!==n.ownerId||t._id===n.ownerId&&t.userRoles.includes("admincontrol"))&&!(yield this.checkAuthorization(t,n,"WRITE"))?!1:(n.users&&n.users.forEach(i=>{this.router.sendMsg(n.authorizerId,"deleted",n._id)}),yield this.collections.groups.instance.deleteOne({_id:Pt(r)}),!0):!1})}deleteMongoAuthorization(t,r){return ae(this,void 0,void 0,function*(){let n=yield this.collections.authorizations.instance.findOne({_id:Pt(r)});return n?(t._id!==n.ownerId||t._id===n.ownerId&&t.userRoles.includes("admincontrol"))&&!(yield this.checkAuthorization(t,n,"WRITE"))?!1:(n.associatedAuthId&&(this.router.DEBUG&&console.log(n),yield this.collections.authorizations.instance.deleteOne({_id:Pt(n.associatedAuthId)}),n.authorizerId!==t._id?this.router.sendMsg(n.authorizerId,"deleted",n._id):n.authorizedId!==t._id&&this.router.sendMsg(n.authorizedId,"deleted",n._id)),yield this.collections.authorizations.instance.deleteOne({_id:Pt(r)}),!0):!1})}setAuthorization(t,r,n=this.mode){return ae(this,void 0,void 0,function*(){let i,o;if(n==="mongo"?(i=yield this.getMongoUser(t,r.authorizedId,!0),o=yield this.getMongoUser(t,r.authorizerId,!0)):(i=this.getLocalData("user",{_id:r.authorizedId}),o=this.getLocalData("user",{_id:r.authorizedId})),!i||!o||(r.authorizedId!==i._id&&(r.authorizedId=i._id),r.authorizerId!==o._id&&(r.authorizerId=o._id),r.authorizedName||(i.username?r.authorizedName=i.username:i.email&&(r.authorizedName=i.email)),r.authorizerName||(i.username?r.authorizerName=i.username:i.email&&(r.authorizerName=i.email)),(t._id!==r.ownerId||t._id===r.ownerId&&t.userRoles.includes("admincontrol"))&&t._id!==r.authorizedId&&t._id!==r.authorizerId&&!(yield this.checkAuthorization(t,r,"WRITE"))))return!1;let s,a=[];if(n==="mongo"){let d=this.collections.authorizations.instance.find({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId}]});(yield d.count())>0&&(yield d.forEach(m=>a.push(m)))}else{let d=this.getLocalData("authorization",{authorizedId:r.authorizedId});Array.isArray(d)&&d.forEach(m=>{m.authorizerId===r.authorizerId&&a.push(m)})}Array.isArray(a)&&a.forEach(d=>ae(this,void 0,void 0,function*(){if(d.ownerId!==t._id){r.authorizerId===t._id?(d.authorizations=r.authorizations,d.structIds=r.structIds,d.excluded=r.excluded,d.expires=r.expires,d.status="OKAY",r.status="OKAY"):(r.authorizations=d.authorizations,r.structIds=d.structIds,r.excluded=d.excluded,r.expires=d.expires,d.status="OKAY",r.status="OKAY"),r.associatedAuthId=d._id.toString(),d.associatedAuthId=r._id.toString(),s=d;let m=JSON.parse(JSON.stringify(d));this.mode.includes("mongo")?(delete m._id,yield this.collections.authorizations.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:d.ownerId}]},{$set:m},{upsert:!0})):this.setLocalData(m)}}));let f=JSON.parse(JSON.stringify(r));if(n==="mongo"?(delete f._id,yield this.collections.authorizations.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:r.ownerId}]},{$set:f},{upsert:!0})):this.setLocalData(f),r._id.includes("defaultId")&&n==="mongo"){let d=yield this.collections.authorizations.instance.findOne(f);if(d&&(r._id=d._id.toString(),s)){let m=yield this.collections.authorizations.instance.findOne({$and:[{authorizedId:s.authorizedId},{authorizerId:s.authorizerId},{ownerId:s.ownerId}]});m&&(m.associatedAuthId=r._id,delete m._id,yield this.collections.authorizations.instance.updateOne({$and:[{authorizedId:m.authorizedId},{authorizerId:m.authorizerId},{ownerId:m.ownerId}]},{$set:m},{upsert:!0}),this.checkToNotify(t,[m]))}}return r})}checkAuthorization(t,r,n="READ",i=this.mode){var o,s,a;return ae(this,void 0,void 0,function*(){if(!t||!r)return!1;if(typeof t=="object"){if(r.ownerId===t._id&&!((o=t.userRoles)===null||o===void 0?void 0:o.includes("admin_control")))return!0}else if(typeof t=="string"){if(r.ownerId===t)return!0;t={_id:t}}let f,d;if(i==="mongo"?(f=yield this.collections.authorizations.instance.findOne({$or:[{authorizedId:t._id,authorizerId:r.ownerId,ownerId:t._id},{authorizedId:r.ownerId,authorizerId:t._id,ownerId:t._id}]}),d=yield this.collections.authorizations.instance.findOne({$or:[{authorizedId:t._id,authorizerId:r.ownerId,ownerId:r.ownerId},{authorizedId:r.ownerId,authorizerId:t._id,ownerId:r.ownerId}]})):(f=this.getLocalData("authorization",{ownerId:t._id}).find(g=>{if(g.authorizedId===t._id&&g.authorizerId===r.ownerId)return!0}),d=this.getLocalData("authorization",{ownerId:r.ownerId}).find(g=>{if(g.authorizedId===t._id&&g.authorizerId===r.ownerId)return!0})),!f||!d)return!1;let m=!1;return f.status==="OKAY"&&d.status==="OKAY"&&(r.structType==="group"?m=f.authorizations.indexOf(r.name+"_admin")>-1&&d.authorizations.indexOf(r.name+"_admin")>-1:f.authorizations.indexOf("provider")>-1&&d.authorizations.indexOf("provider")>-1||f.authorizations.indexOf("peer")>-1&&d.authorizations.indexOf("peer")>-1||f.authorizations.indexOf("control")>-1&&d.authorizations.indexOf("control")>-1||((s=f.structIds)===null||s===void 0?void 0:s.indexOf(r._id))>-1&&((a=d.structIds)===null||a===void 0?void 0:a.indexOf(r._id))>-1?m=!0:f.excluded.indexOf(r.structType)>-1&&r.ownerId===t._id&&n==="WRITE"&&(m=!1)),m})}overwriteLocalData(t){if(Array.isArray(t))t.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:r._id});n&&(n==null?void 0:n.length)!==0?Object.assign(n,r):this.setLocalData(r)});else{let r=this.getLocalData(t.structType,{ownerId:t.ownerId,_id:t._id});r&&(r==null?void 0:r.length)!==0?Object.assign(r,t):this.setLocalData(t)}}setLocalData(t){let r=n=>{let i=n.structType,o=this.collections[i].reference;o||(o={},this.collections[i].reference=o),o[n._id]=n};Array.isArray(t)?t.forEach(n=>{r(n)}):r(t)}getLocalData(t,r){let n,i,o;if(typeof r=="object"?(n=r.ownerId,i=Object.keys(r).filter(f=>f!="ownerId")[0],o=r[i]):o=r,!(t||n||i||o))return[];let s=[];if(!t&&(n||i))return Object.values(this.collections).forEach(a=>{if(a=a.reference,i!=="_id"&&i!=="id"||!o)Object.values(a).forEach(f=>{i&&o?f[i]===o&&f.ownerId===n&&s.push(f):f.ownerId===n&&s.push(f)});else{let f=a[o];f&&s.push(f)}}),s;{let a=this.collections[t].reference;if(!a)return s;if(!i&&!n)return Object.values(a).forEach(f=>{s.push(f)}),s;if((i==="_id"||i==="id")&&o)return a[o];Object.keys(a).forEach(f=>{let d=a[f];i&&o&&!n?d[i]===o&&s.push(d):n&&!i?d.ownerId===n&&s.push(d):n&&i&&o&&d.ownerId===n&&d[i]&&d[i]===o&&s.push(d)})}return s}deleteLocalData(t){if(!t)throw new Error("Struct not supplied");return!(!t.structType||!t._id)&&(this.collections[t.structType]&&delete this.collections[t.structType].reference[t._id],!0)}},Ka=class extends class{constructor(t={debug:!1}){this.id=ms(),this.USERS={},this.CONNECTIONS=new Map,this.SUBSCRIPTIONS=[],this.ENDPOINTS={},this.SERVICES={},this.ROUTES={},this.INTERVAL=10,this.DEFAULTROUTES=[{route:"ping",post:()=>"pong"},{route:"services/**",get:{object:this.SERVICES,transform:(r,...n)=>{let i={};return(n.length>0?[n[0]]:Object.keys(r)).forEach(o=>{let s=r[o];(s==null?void 0:s.serviceType)==="default"&&(i[o]=s.name)}),n.forEach((o,s)=>i=i[o]),i}}},{route:"/",aliases:["routes/**"],get:{object:this.ROUTES,transform:(r,...n)=>{let i={};return(n.length>0?[n[0]]:Object.keys(r)).forEach(o=>{o&&(i[o]={route:r[o].route.split("/").filter(s=>!s.match(/\*\*?/)).join("/"),args:r[o].args,wildcard:o.includes("*")})}),n.forEach((o,s)=>i=i[o]),i}}},{route:"sendMessage",aliases:["message","sendMsg"],post:(r,n)=>r.sendMsg(n[0],n[1],n[2])},{route:"setUserServerDetails",post:(r,n,i)=>{let o=r.USERS[i];if(!o)return!1;n[0]&&(o.username=n[0]),n[1]&&(o.password=n[1]),n[2]&&(o.props=n[2]),n[3]&&(o._id=n[3],o.id=n[3])}},{route:"setProps",post:(r,n,i)=>{let o=r.USERS[i];if(!o)return!1;if(typeof n=="object"&&!Array.isArray(n))return Object.assign(o.props,n),!0;if(Array.isArray(n)&&typeof n[1]=="object"){let s=r.USERS[n[0]];return s&&Object.assign(s.props,n[1]),!0}return!1}},{route:"getProps",post:(r,n,i)=>{let o=r.USERS[i];if(!o)return!1;if(!n[0])return o.props;{let s=r.USERS[n[0]];if(s)return s.props}}},{route:"blockUser",post:(r,n,i)=>{let o=r.USERS[i];return!!o&&this.blockUser(o,n[0])}},{route:"users/**",get:{object:this.USERS,transform:(r,...n)=>{let i={};return(n.length>0?[n[0]]:Object.keys(r)).forEach(o=>{let s=r[o];i[o]={_id:s._id,username:s.username,origin:s.origin,props:s.props,updatedPropNames:s.updatedPropNames,lastUpdate:s.lastUpdate,lastTransmit:s.lastTransmit,latency:s.latency}}),n.forEach((o,s)=>i=i[o]),i}}},{route:"getUser",post:(r,n,i)=>{let o=r.USERS[i];if(!o)return!1;if(!n[0])return{_id:o._id,username:o.username,origin:o.origin,props:o.props,updatedPropNames:o.updatedPropNames,lastUpdate:o.lastUpdate,lastTransmit:o.lastTransmit,latency:o.latency};{let s=this.USERS[n[0]];if(s)return{_id:s._id,username:s.username,origin:s.origin,props:s.props,updatedPropNames:s.updatedPropNames,lastUpdate:s.lastUpdate,lastTransmit:s.lastTransmit,latency:s.latency}}}},{route:"login",aliases:["addUser","startSession"],post:(r,n,i)=>ae(this,void 0,void 0,function*(){let o=yield r.addUser(...n);return{message:!!o,id:o.id}})},{route:"logout",aliases:["removeUser","endSession"],post:(r,n,i)=>{let o=r.USERS[i];if(!o)return!1;n[0]?r.removeUser(...n):r.removeUser(o)}}],this.protocols={},this.connect=(r,n)=>{let i=new p2(r,this.SERVICES,this);return this.ENDPOINTS[i.id]=i,i.check().then(o=>{o&&(n&&n(i),this.login(i))}),i},this.disconnect=r=>ae(this,void 0,void 0,function*(){this.logout(this.ENDPOINTS[r]),delete this.ENDPOINTS[r]}),this._loadBackend=(r,n=r.name)=>{var i;this.SERVICES[n]=r,this.SERVICES[n].status=!0,(i=r.routes)===null||i===void 0||i.forEach(o=>this.addRoute(Object.assign({service:n},o))),r.subscribe&&r.subscribe((o,s,a)=>ae(this,void 0,void 0,function*(){let f=yield this.handleMessage(o,s);if(a==null?void 0:a.includes("worker")){if(f===null||!r[a])return f;r[a].postMessage({route:"worker/workerPost",message:f,origin:r.id,callbackId:o.callbackId})}return f})),(r==null?void 0:r.serviceType)==="subscription"&&this.SUBSCRIPTIONS.push(r.updateSubscribers)},this._loadService=(r,n=r==null?void 0:r.name)=>ae(this,void 0,void 0,function*(){return this._loadBackend(r,n),yield this._loadClient(r,n,!0)}),this._loadClient=(r,n,i=!1)=>new Promise(o=>{let s=r.name;if(r.subscribe&&r.subscribe((a,f)=>ae(this,void 0,void 0,function*(){var d;let m=this.SERVICES[s],g=m.status===!0,y;return f==="local"?y=yield this.handleLocalRoute(a):g&&(y=yield this.send({route:`${m.route}/${a.route}`,endpoint:r==null?void 0:r.endpoint},...(d=a.message)!==null&&d!==void 0?d:[])),y})),i)o(r);else{this.SERVICES[s]=r;let a=f=>{this.SERVICES[s].status=!0,r.setEndpointRoute instanceof Function&&r.setEndpointRoute(f),r.routes.forEach(d=>{this.ROUTES[`${f}/${d.route}`]=d}),o(r)};this.SERVICES[s].status===!0?a(this.SERVICES[s]):this.SERVICES[s].status=a}}),this.get=(r,...n)=>this._send(r,"GET",...n),this.delete=(r,...n)=>this._send(r,"DELETE",...n),this.post=(r,...n)=>this._send(r,"POST",...n),this.send=this.post,this._send=(r,n,...i)=>ae(this,void 0,void 0,function*(){let o,s;if(o=typeof r=="string"||(r==null?void 0:r.endpoint)==null?Object.values(this.ENDPOINTS)[0]:r.endpoint,o)return s=yield o.send(r,{message:i,method:n}),s&&this.handleLocalRoute(s,o),s==null?void 0:s.message}),this.handleLocalRoute=(r,n,i)=>ae(this,void 0,void 0,function*(){var o,s,a;if(n&&i&&!r.suppress&&n.connection&&((a=(s=(o=n.connection)===null||o===void 0?void 0:o.service)===null||s===void 0?void 0:s.responses)===null||a===void 0||a.forEach(f=>f(Object.assign({route:i},r)))),!r.block){let f=this.ROUTES[r==null?void 0:r.route];if((f==null?void 0:f.post)instanceof Function)return f.post(this,r.message,r.id)}}),this.subscribe=(r,n={})=>ae(this,void 0,void 0,function*(){if(Object.keys(this.ENDPOINTS).length>0||(n==null?void 0:n.endpoint))return n.endpoint||(n.endpoint=Object.values(this.ENDPOINTS)[0]),yield n.endpoint._subscribe(n).then(i=>n.endpoint.subscribe(r));throw"Remote is not specified"}),this.handleMessage=(r,n)=>ae(this,void 0,void 0,function*(){var i;let o={};if(Array.isArray(r))o.route=r[0],o.message=r.slice(1),o.callbackId=void 0;else if(typeof r=="string"){let s=r.split(" ");o.route=s[0],o.message=s.slice(1),o.callbackId=void 0}else typeof r=="object"&&Object.assign(o,r);if(typeof o=="object"&&!Array.isArray(o)&&o.route!=null){let s=this.USERS[o==null?void 0:o.id];console.log("runRoute",o.route);let a=yield this.runRoute(o.route,o.method,o.message,(i=s==null?void 0:s.id)!==null&&i!==void 0?i:o.id,o.callbackId);return a&&o.suppress&&(a.suppress=o.suppress),a}return null}),t.interval&&(this.INTERVAL=t.interval),this.STATE=new h2({},this.INTERVAL,void 0),this.DEBUG=t==null?void 0:t.debug,"onbeforeunload"in globalThis&&(globalThis.onbeforeunload=()=>{Object.values(this.ENDPOINTS).forEach(r=>{r.type!="webrtc"&&this.logout(r)})}),this.load({routes:this.DEFAULTROUTES}),this.DEBUG&&this.runCallback("routes",[!0]),(t==null?void 0:t.endpoints)&&t.endpoints.forEach(r=>this.connect(r))}login(t,r){return ae(this,void 0,void 0,function*(){yield this.logout(t);let n=Object.values(t?{endpoint:t}:this.ENDPOINTS);return(yield Promise.all(n.map(o=>ae(this,void 0,void 0,function*(){let s=yield this.send({route:"login",endpoint:o},r)[0];return o.setCredentials(s),s})))).reduce((o,s)=>o*s[0],!0)===1})}logout(t){return ae(this,void 0,void 0,function*(){return(yield Promise.all(Object.values(t?{endpoint:t}:this.ENDPOINTS).map(r=>ae(this,void 0,void 0,function*(){return yield this.send({route:"logout",endpoint:r},r.credentials)})))).reduce((r,n)=>r*n[0],!0)===1})}load(t,r=t.name){return ae(this,void 0,void 0,function*(){let n=t.constructor.type==="client",i=!t.constructor.type||t.constructor.type==="service",o=t.constructor.type==="backend";return i&&(yield this._loadService(t,r)),o&&(yield this._loadBackend(t,r)),n&&(yield this._loadClient(t)),t})}format(t,r={}){return t!==void 0&&(t&&typeof t=="object"&&("message"in t||"route"in t)||(t={message:t}),Array.isArray(t.message)||(t.message=[t.message]),r.service&&(t==null?void 0:t.route)&&(t.route=`${r.service}/${t.route}`),r.headers&&(t.headers=r.headers)),(t==null?void 0:t.route)&&(t.route=t.route.replace(/\/\*\*?/,"")),t}runRoute(t,r,n=[],i,o){return ae(this,void 0,void 0,function*(){try{return t==null?void 0:(!r&&Array.isArray(n)&&(r=n.length>0?"POST":"GET"),this.DEBUG&&console.log("route",t),yield this.runCallback(t,n,i,r).then(s=>{if(this.DEBUG&&console.log("Result:",s),s!==void 0&&((s=this.format(s)).callbackId=o,this.ROUTES[s.route]&&(s.block=!0),s.message!=="DONOTSEND"))return s}).catch(console.error))}catch(s){return new Error("Route failed...")}})}addUser(t){if(t&&(t.id||t._id)){t._id||(t._id=j0()),t.id||(t.id=t._id);let r=this.USERS[t._id],n=r!=null?r:{id:t.id,_id:t._id,username:t.id,origin:t.id,props:{},updatedPropNames:[],sessions:[],blocked:[],lastUpdate:Date.now(),lastTransmit:0,latency:0,routes:new Map};Object.assign(n,t),this.DEBUG&&console.log("Adding User, Id:",t._id),this.USERS[t.id]=n;for(let i in this.SERVICES){let o=this.SERVICES[i];o.status===!0&&$_(o.name+"/users").forEach(s=>{this.ROUTES[s]&&this.runRoute(s,"POST",[n],t._id)})}return n}return!1}removeUser(t){let r=typeof t=="string"?this.USERS[t]:t;return!!r&&(Object.values(this.SERVICES).forEach(n=>{if(n.status===!0){let i=n.name+"/users";this.ROUTES[i]&&this.runRoute(i,"DELETE",[r],r.id)}}),delete r.id,!0)}blockUser(t,r=""){return!(!this.USERS[r]||t.blocked.includes(r)||t.id===r)&&(t.blocked.push(r),!0)}sendMsg(t="",r="",n){let i=n?Object.assign(n,{message:r}):{message:r};if(typeof t=="string"){let o=this.USERS[t];o&&o.send(i)}else if(typeof t=="object")return t.send(i),!0;return!1}addRoute(t){let r=[(t=Object.assign({},t)).route,...t.aliases?t.aliases:[]];return delete t.aliases,r.forEach(n=>{var i,o;if(!n||!t.post&&!t.get)return!1;n=t.route=(t.service?`${t.service}/`:"")+n,this.removeRoute(n),n[0]==="/"&&(n=n.slice(1)),t.args=function(s){if(s instanceof Function){var a=s.toString().replace(y5,""),f=a.slice(a.indexOf("(")+1,a.indexOf(")")).match(m5);return f===null&&(f=[]),f}}(t.post),this.ROUTES[n]=Object.assign(t,{route:n}),t.get&&(this.STATE.setState({[n]:(o=(i=t.get)===null||i===void 0?void 0:i.object)!==null&&o!==void 0?o:t.get}),this.STATE.subscribe(n,s=>{var a;let f=((a=t.get)===null||a===void 0?void 0:a.transform)?t.get.transform(s):s;this.SUBSCRIPTIONS.forEach(d=>d(this,{route:n,message:f}))}))}),!0}removeRoute(t){return delete this.ROUTES[t]}runCallback(t,r=[],n,i=r.length>0?"POST":"GET"){return new Promise(o=>ae(this,void 0,void 0,function*(){let s=$_(t),a={route:t,block:!0,message:{html:`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>404 Not Found</pre>
</body>
</html>`},headers:{"Content-Type":"text/html"}};Promise.all(s.map(f=>ae(this,void 0,void 0,function*(){var d;let m=this.ROUTES[f];if(m){this.DEBUG&&console.log("routeInfo",m);try{let g;if((m==null?void 0:m.delete)&&i.toUpperCase()==="DELETE")g=yield m.delete(this,r,n);else if(i.toUpperCase()!=="GET"&&(m==null?void 0:m.post))g=(m==null?void 0:m.post)?yield m==null?void 0:m.post(this,r,n):a;else{let y=this.STATE.data[m.route];if(y){let S=t.replace(m.route.split("/").filter(N=>N!="*"&&N!="**").join("/"),"").split("/").filter(N=>!!N);g={message:((d=m.get)===null||d===void 0?void 0:d.transform)?yield m.get.transform(y,...S):y}}else g=a}o(this.format(g,m))}catch(g){console.log("Callback Failed: ",g)}}}))).then(f=>o(a))}))}checkRoutes(t){var r,n;return ae(this,void 0,void 0,function*(){if(!t.data)return;let i=(n=(r=this.ROUTES[t.data.foo])!==null&&r!==void 0?r:this.ROUTES[t.data.route])!==null&&n!==void 0?n:this.ROUTES[t.data.functionName];return i||(i=this.ROUTES[t.data.foo]),!!i&&(t.data.message?yield i.post(this,t.data.message,t.data.origin):void 0)})}}{constructor(t={},r){super(r),this.tablet=new class{constructor(n={},i=!1,o){this.DS=yi,this.collections=new Map,this.data={byTime:{},notes:{},events:{},sleep:{},food:{},hr:{},ppg:{},hrv:{},ecg:{},emg:{},eeg:{},fnirs:{}},this.rolloverLimit=5e4,this.dataSorts=new Map,this.watches={},this.onCollectionSet=(s,a)=>{},this.ontrigger=s=>{},this.threaded=i,o?this.workers=o:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&(this.threaded=!0),Object.assign(this.data,n),this.dataSorts=new Map,this.watches={},this.setSort("event",s=>(this.data.events[s.timestamp]?this.data.events[s.timestamp].push(s):this.data.events[s.timestamp]=[s],s.event==="sleep"&&(this.data.sleep[s.timestamp]?this.data.sleep[s.timestamp].push(s):this.data.sleep[s.timestamp]=[s]),s)),this.setSort(["notes","note","link"],s=>(this.data.notes[s.timestamp]?this.data.notes[s.timestamp].push(s):this.data.notes[s.timestamp]=[s],this.data.byTime[s.timestamp]?this.data.byTime[s.timestamp].push(s):this.data.byTime[s.timestamp]=[s],s)),this.id=this.randomId("dataTablet")}randomId(n=""){return`${n+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}setLocalData(n){let i=o=>{let s=o.structType,a=this.collections.get(s);a||(a=new Map,this.collections.set(s,a)),a.set(o._id,o),this.onCollectionSet(s,a)};Array.isArray(n)?n.forEach(o=>{i(o)}):i(n)}getLocalData(n,i){let o="",s="",a="";if(typeof i=="object"?(o=i.ownerId,s=Object.keys(i).filter(d=>d!="ownerId")[0],a=i[s]):a=i,!(n||o||s||a))return[];let f=[];if(!n&&(o||s))return this.collections.forEach(d=>{if(s!=="_id"&&s!=="id"||!a)d.forEach(m=>{s&&a?m[s]===a&&m.ownerId===o&&f.push(m):m.ownerId===o&&f.push(m)});else{let m=d.get(a);m&&f.push(m)}}),f;{let d=this.collections.get(n);if(!d)return f;if(!s&&!o)return d.forEach(m=>{f.push(m)}),f;if((s==="_id"||s==="id")&&a)return d.get(a);d.forEach((m,g)=>{s&&a&&!o?m[s]===a&&f.push(m):o&&!s?m.ownerId===o&&f.push(m):o&&s&&a&&m.ownerId===o&&m[s]&&m[s]===a&&f.push(m)})}return f}runSort(n,i={},o=[],s=this){let a;if(this.threaded===!1){let f=this.getSort(n);if(!f)return!1;a=f(i,o,s)}else if(this.threaded===!0)return this.workers.runWorkerFunction("runSort",[n,i,o],this.workerId,this.id);return a}setSort(n,i=(o,s=[],a=this)=>{}){if(this.threaded===!1)Array.isArray(n)?n.forEach(o=>{this.dataSorts.set(o,i)}):this.dataSorts.set(n,i);else if(this.threaded===!0)return this.workers.runWorkerFunction("setSort",[n,i.toString()],this.workerId,this.id)}getSort(n){return this.threaded===!1?this.dataSorts.get(n):this.threaded===!0?this.workers.runWorkerFunction("getSort",[n],this.workerId,this.id):void 0}checkWatches(n={}){for(let i in this.watches)this.watches[i].ondata(n,this.watches[i].accum,this.watches[i]),this.watches[i].triggered&&(this.ontrigger(this.watches[i].accum),this.watches[i].triggered=!1)}setWatch(n,i=(s,a,f)=>{},o=s=>{}){this.watches[n]={triggered:!1,accum:this.DS.Struct("alert"),ondata:i,ontrigger:o}}getWatch(n){return this.watches[n]}sortStructsIntoTable(){return He(this,arguments,function*(n=[]){n.sort(function(o,s){return o.timestamp-s.timestamp});let i=[];for(let o=0;o<n.length;o++){let s=n[o];if(!s.timestamp)continue;let a=s.timestamp;if(this.data.byTime[a]?this.data.byTime[a].push(s):this.data.byTime[a]=[s],s.structType==="dataInstance"&&s.data)s.data.forEach(f=>He(this,null,function*(){var d;if(typeof f=="object"&&!Array.isArray(f)){let m=f.dataType;if(f.ownerId=s.ownerId,f.timestamp||(f.timestamp=a),m){let g=this.runSort(m,f,i,this);g?((d=g.constructor)==null?void 0:d.name)!=="Promise"&&(this.checkWatches(g),this.onUpdate(a,g),i.push(g)):(this.data[m]||(this.data[m]={}),f.timestamp=a,this.data[m][a]?this.data[m][a].push(f):this.data[m][a]=[f],this.data.byTime[a]?this.data.byTime[a].push(f):this.data.byTime[a]=[f],this.checkWatches(f),this.onUpdate(a,f),i.push(f))}}}));else{let f=this.runSort(s.structType,s,i,this);if(f)this.checkWatches(f),this.onUpdate(a,f),i.push(f);else{let d=s.structType;this.data[d]||(this.data[d]={}),this.data[d][a]?this.data[d][a].push(s):this.data[d][a]=[s],this.checkWatches(s),this.onUpdate(a,s),i.push(s)}}}for(let o in this.data)this.data[o]=this.sortObjectByPropName(this.data[o]);this.onSorted(i)})}onUpdate(n,i,o=this.data){}onSorted(n=[]){}getDataByTimestamp(n,i){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimestamp",[n,i],this.workerId,this.id);let o=this.data.byTime[n];return i&&o&&(o=o.filter(s=>!i||i===s.ownerId)),o}getDataByTimeRange(n,i,o,s){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimeRange",[n,i,o,s],this.workerId,this.id);let a={};if(o){for(let f in this.data[o]){let d=parseInt(f);d>n&&d<i&&(a[f]=[...this.data[o][f]])}o==="sleep"&&(a=this.filterSleepResults(a))}else for(let f in this.data.byTime){let d=parseInt(f);d>n&&d<i&&(a[f]=[...this.data.byTime[f]])}if(s&&a)for(let f in a){let d=[];a[f]=a[f],a[f].forEach((m,g)=>{m.ownerId!==s&&d.push(g)}),d.reverse().forEach(m=>{a[f].splice(m,1)}),a[f].length===0&&delete a[f]}return a}getDataByType(n,i,o){if(!this.data[n])return;let s=mm({},this.data[n]);if(i&&(s=[...s[i]]),o&&s)for(let a in s){let f=[];s[a]=[...s[a]],s[a].forEach((d,m)=>{d.ownerId!==o&&f.push(m)}),f.reverse().forEach(d=>{s[a].splice(d,1)}),s[a].length===0&&delete s[a]}return n==="sleep"&&(s=this.filterSleepResults(s)),s}filterSleepResults(n={}){let i=[];for(let o in n)n[o]=[...n[o]],i.push(...n[o].filter(s=>s.structType==="event"));return i.forEach(o=>{let s;for(let a in n)n[a].forEach((f,d)=>!!(f.structType==="fitbitsleep"&&o.startTime&&o.endTime&&Math.abs(f.startTime-o.startTime)<432e5&&Math.abs(f.endTime-o.endTime)<432e5&&o.endTime-o.startTime>72e5)&&(s=d,!0)),s&&n[a].splice(s,1)}),n}sortObjectByPropName(n){return Object.keys(n).sort().reduce((i,o)=>(i[o]=n[o],i),{})}checkRollover(n,i=this.rolloverLimit){if(!n)return!1;let o=this.collections.get(n);return!!o&&(o.forEach(s=>{for(let a in s)Array.isArray(s[a])?s[a].length>i&&(s[a].slice(s[a].length-i),a==="ffts"?s.fftCount=s[a].length:a==="times"&&(s.count=s[a].length)):typeof s[a]=="object"&&this.checkRollover(s[a])}),!0)}},this.collections=this.tablet.collections,this.id=ms(),this.baseServerCallback=n=>{let i=n;if(typeof n=="object"&&(n==null?void 0:n.structType)&&(i=[n]),Array.isArray(n)){let o=i.filter(s=>{if(s.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(o),i.forEach(s=>{var a;s.structType&&s.structType!=="USER"||(s.email?s.structType="user":s.structType="uncategorized"),s.structType==="user"||s.structType==="authorization"||s.structType==="group"?(s.structType==="user"&&(s._id=s.id),this.setLocalData(s)):s.structType==="notification"?(this.getLocalData("notification",{ownerId:s.ownerId,_id:s.parent._id})?this.setLocalData(s):this.getLocalData(s.structType,{_id:s.parent._id})||this.overwriteLocalData(s),s.ownerId!==((a=this.currentUser)===null||a===void 0?void 0:a._id)||s.parent.structType!=="user"&&s.parent.structType!=="dataInstance"&&s.parent.structType!=="schedule"&&s.parent.structType!=="authorization"||this.resolveNotifications([s],!0)):this.overwriteLocalData(s)})}(n==null?void 0:n.message)==="notifications"&&this.checkForNotifications(),(n==null?void 0:n.message)==="deleted"&&this.deleteLocalData(n.id),this.onResult(n)},this.resolveNotifications=(n=[],i=!0,o=this.currentUser)=>ae(this,void 0,void 0,function*(){if(!o||n.length===0)return;let s=[],a=[],f=[];return n.length===0&&(n=this.getLocalData("notification",{ownerId:o._id})),n.forEach(d=>{d.parent.structType,f.push(d.parent.structType),s.push(d.parent._id),a.push(d._id),this.deleteLocalData(d)}),this.deleteData(a),!(i&&(f.reverse().forEach((d,m)=>{d==="user"&&(this.getUser(a[m]),s.splice(s.length-m-1,1))}),s.length>0))||(yield this.getDataByIds(s,o._id,"notification"))}),this.getLocalUserPeerIds=(n=this.currentUser)=>{if(!n)return[];let i=[];return this.getLocalData("authorization",n._id).forEach(o=>{o.authorizations.indexOf("peer")>-1&&o.authorizerId===n._id&&i.push(o.authorizedId)}),i},this.authorizeUser=(n,i="",o="",s="",a="",f=[],d=[],m=[],g=[],y=!1)=>ae(this,void 0,void 0,function*(){if(!n)return;let S=this.createStruct("authorization",void 0,n,void 0);return S.authorizedId=s,S.authorizedName=a,S.authorizerId=i,S.authorizerName=o,S.authorizations=f,S.structs=d,S.excluded=m,S.groups=g,S.expires=y,S.status="PENDING",S.associatedAuthId="",S.ownerId=n._id,S=yield this.setAuthorization(S),S}),this.addGroup=(n,i="",o="",s=[],a=[],f=[],d=!0)=>ae(this,void 0,void 0,function*(){if(!n)return;let m=this.createStruct("group",void 0,n);return m.name=i,m.details=o,m.admins=s,m.peers=a,m.clients=f,m.users=[...s,...a,...f],m.ownerId=n._id,d&&(m=yield this.setGroup(m)),m}),this.addData=(n,i="",o="",s="",a=[],f=!1,d=!0)=>ae(this,void 0,void 0,function*(){if(!n)return;let m=this.createStruct("dataInstance",void 0,n);return m.author=i,m.title=o,m.type=s,m.data=a,m.expires=f,m.ownerId=n._id,d&&(m=yield this.updateServerData([m])[0]),m}),this.addEvent=(n,i="",o="",s="",a=0,f=0,d=0,m=[],g=[],y=!0)=>ae(this,void 0,void 0,function*(){if(!n)return;g.length===0&&(g=this.getLocalUserPeerIds(n));let S=this.createStruct("event",void 0,n);return S.author=i,S.event=o,S.notes=s,S.startTime=a,S.endTime=f,S.grade=d,S.attachments=m,S.users=g,S.ownerId=n._id,y&&(S=yield this.updateServerData([S])[0]),S}),this.addDiscussion=(n,i="",o="",s="",a="",f=[],d=[],m=!0)=>ae(this,void 0,void 0,function*(){if(!n)return;d.length===0&&(d=this.getLocalUserPeerIds(n));let g=this.createStruct("discussion",void 0,n);g.topic=o,g.category=s,g.message=a,g.attachments=f,g.authorId=i,g.users=d,g.comments=[],g.replies=[],g.ownerId=n._id;let y=[g];return m&&(g=yield this.updateServerData(y)[0]),g}),this.addChatroom=(n,i="",o="",s=[],a=[],f=!0)=>ae(this,void 0,void 0,function*(){if(!n)return;a.length===0&&(a=this.getLocalUserPeerIds(n));let d=this.createStruct("chatroom",void 0,n);d.message=o,d.attachments=s,d.authorId=i,d.users=a,d.replies=[],d.comments=[],d.ownerId=n._id;let m=[d];return f&&(d=yield this.updateServerData(m)[0]),d}),this.addComment=(n,i,o,s="",a="",f=[],d=!0)=>ae(this,void 0,void 0,function*(){if(!n)return;let m=this.createStruct("comment",void 0,n,i);m.authorId=s,m.replyTo=o==null?void 0:o._id,m.message=a,m.attachments=f,m.users=i==null?void 0:i.users,m.replies=[],m.ownerId=n._id,d?o==null||o.replies.push(m._id):o==null||o.replies.push(m),d?i==null||i.comments.push(m._id):i==null||i.comments.push(m);let g=[m,i];return o._id!==i._id&&g.push(o),d&&(m=yield this.updateServerData(g)[0]),m}),t instanceof Object&&Object.keys(t).length>0&&this.setupUser(t),this.load(new y2(this))}setupUser(t,r=n=>{}){return ae(this,void 0,void 0,function*(){if(!t)return console.error('must provide an info object! e.g. {_id:"abc123"}'),void r(void 0);let n=!1;t.id&&(t._id=t.id),console.log("Generating/Getting User: ",t._id);let i,o=yield this.getUser(t._id),s=!1;if(o==null?void 0:o._id){i=o.user;for(let a in t){let f=this.userStruct();if(i[a]&&a!=="_id")if(Array.isArray(t[a])){for(let d=0;d<i[a].length;d++)if(t[a].indexOf(i[a][d])<0){i[a]=t[a],n=!0;break}if(!n){for(let d=0;d<t[a].length;d++)if(i[a].indexOf(t[a][d])<0){i[a]=t[a],n=!0;break}}}else i[a]!==t[a]&&(i[a]=t[a],n=!0);else i[a]!==t[a]&&typeof f[a]=="string"&&a!=="_id"&&(i[a]=t[a],n=!0)}(o==null?void 0:o.authorizations)&&Array.isArray(o.authorizations)&&this.setLocalData(o.authorizations),(o==null?void 0:o.groups)&&Array.isArray(o.groups)&&this.setLocalData(o.groups)}else{i=this.userStruct(t,!0),s=!0,yield this.setUser(i);let a=this.getLocalData(void 0,{ownerId:i._id});(a==null?void 0:a.length)>0&&this.updateServerData(a,f=>{console.log("setData",f)}),this.setAuthorizationsByGroup(i)}if(s)this.currentUser=i,this.setLocalData(i);else{let a=yield this.getAllUserData(i._id,void 0);if(console.log("getServerData",a),a&&a.length!==0){this.setLocalData(a);let f=a.filter(y=>{if(y.structType==="notification"&&(this.getLocalData("authorization",y.parent._id)||y.parent.structType==="user"||y.parent.structType==="authorization"||!this.getLocalData(y.parent.structType,y.parent._id)))return!0}),d=a.filter(y=>{if(y.structType==="comment")return!0}),m=[];d.forEach(y=>{this.getLocalData("comment",{_id:y._id})||m.push(y._id)}),m.length>0&&this.deleteData(m),f.length>0&&(this.resolveNotifications(f,!1,void 0),n=!0);let g=a.filter(y=>{if(y.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(g)}this.setLocalData(i),console.log("currentUser",i),this.currentUser=i,console.log("collections",this.tablet.collections)}return r(this.currentUser),this.currentUser})}onResult(t){}randomId(t=""){return`${t+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}addStruct(t="struct",r={},n,i,o=!0){return ae(this,void 0,void 0,function*(){let s=yi.Struct(t,r,n,i);return o&&(s=yield this.updateServerData([s])[0]),s})}ping(t=r=>{console.log(r)}){var r;return ae(this,void 0,void 0,function*(){let n=(r=yield this.send("ping"))===null||r===void 0?void 0:r[0];return t(n),n})}sendMessage(t="",r="",n,i=o=>{console.log(o)}){var o;return ae(this,void 0,void 0,function*(){let s=[t,r];n&&(s[2]=n);let a=(o=yield this.send("sendMessage",...s))===null||o===void 0?void 0:o[0];return i(a),a})}getUser(t="",r=this.baseServerCallback){var n;return ae(this,void 0,void 0,function*(){let i=(n=yield this.send("structs/getUser",t))===null||n===void 0?void 0:n[0];return r(i),i})}getUsers(t=[],r=this.baseServerCallback){var n;return ae(this,void 0,void 0,function*(){let i=(n=yield this.send("structs/getUsers",...t))===null||n===void 0?void 0:n[0];return r(i),i})}getUsersByRoles(t=[],r=this.baseServerCallback){var n;return ae(this,void 0,void 0,function*(){let i=(n=yield this.send("structs/getUsersByRoles",t))===null||n===void 0?void 0:n[0];return r(i),i})}getAllUserData(t,r=[],n=this.baseServerCallback){var i;return ae(this,void 0,void 0,function*(){let o=(i=yield this.send("structs/getAllData",t,r))===null||i===void 0?void 0:i[0];return n(o),o})}getData(t,r,n,i=0,o=0,s=this.baseServerCallback){var a;return ae(this,void 0,void 0,function*(){let f=(a=yield this.send("structs/getData",t,r,n,i,o))===null||a===void 0?void 0:a[0];return s(f),f})}getDataByIds(t=[],r,n,i=this.baseServerCallback){var o;return ae(this,void 0,void 0,function*(){let s=(o=yield this.send("structs/getDataByIdss",t,r,n))===null||o===void 0?void 0:o[0];return i(s),s})}getStructParentData(t,r=this.baseServerCallback){var n,i,o;return ae(this,void 0,void 0,function*(){if(!t.parent)return;let s=[(n=t.parent)===null||n===void 0?void 0:n.structType,"_id",(i=t.parent)===null||i===void 0?void 0:i._id],a=(o=yield this.send("structs/getData",...s))===null||o===void 0?void 0:o[0];return r(a),a})}setUser(t={},r=this.baseServerCallback){var n;return ae(this,void 0,void 0,function*(){let i=(n=yield this.send("structs/setUser",this.stripStruct(t)))===null||n===void 0?void 0:n[0];return r(i),i})}checkUserToken(t,r=this.currentUser,n=this.baseServerCallback){return ae(this,void 0,void 0,function*(){if(!t)return!1;let i=!1;for(let o in t){let s=this.userStruct();if(r[o]&&o!=="_id")if(Array.isArray(t[o])){for(let a=0;a<r[o].length;a++)if(t[o].indexOf(r[o][a])<0){r[o]=t[o],i=!0;break}if(!i){for(let a=0;a<t[o].length;a++)if(r[o].indexOf(t[o][a])<0){r[o]=t[o],i=!0;break}}}else r[o]!==t[o]&&(r[o]=t[o],i=!0);else!r[o]&&s[o]&&(r[o]=t[o],i=!0)}return i&&(yield this.setUser(r,n))})}updateServerData(t=[],r=this.baseServerCallback){var n;return ae(this,void 0,void 0,function*(){let i=new Array;t.forEach(s=>{i.push(this.stripStruct(s))});let o=(n=yield this.send("structs/setData",...i))===null||n===void 0?void 0:n[0];return r(o),o})}deleteData(t=[],r=this.baseServerCallback){var n;return ae(this,void 0,void 0,function*(){let i=[];t.forEach(s=>{(s==null?void 0:s.structType)&&(s==null?void 0:s._id)&&(i.push({structType:s.structType,_id:s._id}),this.deleteLocalData(s))}),console.log("deleting",i);let o=(n=yield this.send("structs/deleteData",...i))===null||n===void 0?void 0:n[0];return r(o),o})}deleteUser(t,r=this.baseServerCallback){var n;return ae(this,void 0,void 0,function*(){if(!t)return;let i=(n=yield this.send("structs/deleteUser",t))===null||n===void 0?void 0:n[0];return r(i),i})}setGroup(t={},r=this.baseServerCallback){var n;return ae(this,void 0,void 0,function*(){let i=(n=yield this.send("structs/setGroup",this.stripStruct(t)))===null||n===void 0?void 0:n[0];return r(i),i})}getGroups(t=this.currentUser._id,r="",n=this.baseServerCallback){var i;return ae(this,void 0,void 0,function*(){let o=(i=yield this.send("structs/getGroups",t,r))===null||i===void 0?void 0:i[0];return n(o),o})}deleteGroup(t,r=this.baseServerCallback){var n;return ae(this,void 0,void 0,function*(){if(!t)return;this.deleteLocalData(t);let i=(n=yield this.send("structs/deleteGroup",t))===null||n===void 0?void 0:n[0];return r(i),i})}setAuthorization(t={},r=this.baseServerCallback){var n;return ae(this,void 0,void 0,function*(){let i=(n=yield this.send("structs/setAuth",this.stripStruct(t)))===null||n===void 0?void 0:n[0];return r(i),i})}getAuthorizations(t,r,n){var i,o;return t===void 0&&(t=(i=this.currentUser)===null||i===void 0?void 0:i._id),r===void 0&&(r=""),n===void 0&&(n=this.baseServerCallback),ae(this,void 0,void 0,function*(){if(t===void 0)return;let s=(o=yield this.send("structs/getAuths",t,r))===null||o===void 0?void 0:o[0];return n(s),s})}deleteAuthorization(t,r=this.baseServerCallback){var n;return ae(this,void 0,void 0,function*(){if(!t)return;this.deleteLocalData(t);let i=(n=yield this.send("structs/deleteAuth",t))===null||n===void 0?void 0:n[0];return r(i),i})}checkForNotifications(t){var r;return t===void 0&&(t=(r=this.currentUser)===null||r===void 0?void 0:r._id),ae(this,void 0,void 0,function*(){return yield this.getData("notification",t)})}setAuthorizationsByGroup(t=this.currentUser){return ae(this,void 0,void 0,function*(){let r=this.getLocalData("authorization",{ownerId:t._id});t.userRoles.forEach(n=>{let i,o=n.split("_")[0];n.includes("client")?i=o+"_peer":n.includes("peer")?i=o+"_client":n.includes("admin")&&(i=o+"_owner"),i&&this.getUsersByRoles([i],s=>{s==null||s.forEach(a=>{let f=a.username;f||(f=a.email),f||(f=a.id);let d=t.username;d||(d=t.email),d||(d=t.id),f!==d&&(n.includes("client")?r.find(m=>{if(m.authorizerId===a.id&&m.authorizedId===t.id)return!0})||this.authorizeUser(yi.ProfileStruct("user",t,t),a.id,f,t.id,d,["peer"],void 0,[n]):n.includes("peer")&&(r.find(m=>{if(m.authorizedId===a.id&&m.authorizerId===t.id)return!0})||this.authorizeUser(yi.ProfileStruct("user",t,t),t.id,d,a.id,f,["peer"],void 0,[n])))})})})})}deleteRoom(t){var r;return ae(this,void 0,void 0,function*(){if(!t)return!1;let n=[t];return(r=t.comments)===null||r===void 0||r.forEach(i=>{let o=this.getLocalData("comment",{_id:i});n.push(o)}),!!t&&(yield this.deleteData(n))})}deleteComment(t){var r,n,i;return ae(this,void 0,void 0,function*(){let o=[t],s=(m=t)=>{(m==null?void 0:m.replies)&&m.replies.forEach(g=>{let y=this.getLocalData("comment",{_id:g});y&&(y.replies.length>0&&y.replies.forEach(S=>{s(S)}),o.push(y))})};s(t);let a=this.getLocalData((r=t.parent)===null||r===void 0?void 0:r.structType,{_id:(n=t.parent)===null||n===void 0?void 0:n._id}),f=[];a&&(f=[a],o.forEach(m=>{var g,y;let S=(g=a.replies)===null||g===void 0?void 0:g.indexOf(m._id);S>-1&&a.replies.splice(S,1);let N=(y=a.comments)===null||y===void 0?void 0:y.indexOf(m._id);N>-1&&a.comments.splice(N,1)}));let d=this.getLocalData("comment",{_id:t.replyTo});if((d==null?void 0:d._id)!==(a==null?void 0:a._id)){let m=(i=d.replies)===null||i===void 0?void 0:i.indexOf(a._id);m>-1&&d.replies.splice(m,1),f.push(d)}return f.length>0&&(yield this.updateServerData(f)),yield this.deleteData(o)})}getUserDataByAuthorization(t,r,n,i=0,o=0,s=this.baseServerCallback){return ae(this,void 0,void 0,function*(){let a=t.authorizerId;return a?new Promise(f=>ae(this,void 0,void 0,function*(){this.getUser(a,d=>ae(this,void 0,void 0,function*(){r?yield this.getData(r,a,n,i,o,s):yield this.getAllUserData(a,["notification"],s),f(d),s(d)}))})):void 0})}getUserDataByAuthorizationGroup(t="",r,n,i=0,o=0,s=this.baseServerCallback){return ae(this,void 0,void 0,function*(){let a=this.getLocalData("authorization"),f=[];return yield Promise.all(a.map(d=>ae(this,void 0,void 0,function*(){var m;if((m=d.groups)===null||m===void 0?void 0:m.includes(t)){let g=d.authorizerId;if(g){let y,S=yield this.getUser(g,s);S&&f.push(S),y=r?yield this.getData(r,g,n,i,o,s):yield this.getAllUserData(g,["notification"],s),y&&f.push(y)}return!0}}))),f})}overwriteLocalData(t){if(Array.isArray(t))t.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:r._id});n&&(n==null?void 0:n.length)!==0?Object.assign(n,r):this.setLocalData(r)});else{let r=this.getLocalData(t.structType,{ownerId:t.ownerId,_id:t._id});r&&(r==null?void 0:r.length)!==0?Object.assign(r,t):this.setLocalData(t)}}setLocalData(t){this.tablet.setLocalData(t)}getLocalData(t,r){return this.tablet.getLocalData(t,r)}getLocalReplies(t){let r=[];return t.replies?t.replies.reduce((n,i)=>n*(typeof i=="object"?1:0),1)?t.replies:(r=this.getLocalData("comment",{replyTo:t._id}),r):r}hasLocalAuthorization(t,r=this.currentUser._id){return this.getLocalData("authorization",{ownerId:r}).find(i=>i.authorizedId===r&&i.authorizerId===t||i.authorizerId===r&&i.authorizedId===t||void 0)||!1}deleteLocalData(t){return Array.isArray(t)?t.forEach(r=>this.deleteStruct(r)):this.deleteStruct(t),!0}deleteStruct(t){if(typeof t=="string"&&(t=this.getLocalData(t)),!t)throw new Error("Struct not supplied");return!(!t.structType||!t._id)&&(this.tablet.collections.get(t.structType).delete(t._id),!0)}stripStruct(t={}){let r=Object.assign({},t);for(let n in r)r[n]!==void 0&&r[n].constructor.name!=="Map"||delete r[n];return r}createStruct(t,r,n=this.currentUser,i){return yi.Struct(t,r,n,i)}userStruct(t={},r=!1){let n=yi.ProfileStruct(void 0,t,t);t._id?n.id=t._id:t.id?n.id=t.id:n.id="user"+Math.floor(1e10*Math.random()),n._id=n.id,n.ownerId=n.id;for(let i in t)Object.keys(yi.ProfileStruct()).indexOf(i)<0&&delete n[i];return r&&(this.currentUser=n),n}dataObject(t,r="any",n=Date.now()){return{type:r,data:t,timestamp:n}}}});var m2,Xe,Za=Pr(()=>{m2=Rt(is());$0();Xe=new Ka;Xe.connect({target:m2.settings.dataserver,credentials:{},type:"websocket"}).subscribe(e=>{console.log("Indirect message from socket",e)});Xe.send("routes").then(e=>console.log("Routes",e)).catch(console.error)});var v2,w2,g2,Xa,Qa,H0=Pr(()=>{v2=Rt(ci());Ba();z_();Za();w2=Rt(is()),g2=new bn(w2.settings.realmapp),Xa=(e,t)=>He(void 0,null,function*(){let{currentUser:r}=g2,n="LOG_IN";if(r)try{yield r.refreshAccessToken(),n="REFRESH"}catch(i){return{type:"FAIL",data:{err:i,type:"REFRESH"}}}else{let i;try{e==="google"?(yield(0,v2.wait)(0),i=Jt.google({redirectUrl:window.location.origin})):e&&(i=Jt.emailPassword(e,t))}catch(o){console.error(o)}if(i)try{let o=yield g2.logIn(i);o&&(yield o.refreshAccessToken(),r=o)}catch(o){return{type:"FAIL",data:{err:o,type:"LOGIN"}}}}return r?{type:n,data:r.toJSON()}:{type:"FAIL",data:{err:void 0,type:"UNCAUGHT"}}}),Qa=e=>He(void 0,null,function*(){var n,i;let t=!1,r;if((e==null?void 0:e.type)!=="FAIL"&&((e==null?void 0:e.data).id||(e==null?void 0:e.data)._id?r=Xe.setupUser(e.data):((i=(n=e==null?void 0:e.data)==null?void 0:n.profile)==null?void 0:i.data)._id&&(r=Xe.setupUser(e.data.profile.data))),r){let o=yield r;if(o)return t=!0,$r.setState({isLoggedIn:!0,loggedInId:o._id}),console.log("Logged in: ",o),o}t||(console.log("User not created with info:",e.data),$r.get("isLoggedIn")&&$r.setState({isLoggedIn:!1}))});window.location.href.includes("_baas_client_app_id")&&U_()});function Mt(e="struct",t={},r={_id:""},n={structType:"struct",_id:""}){function i(s=""){return`${s+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}let o={_id:i(e+"defaultId"),structType:e,ownerId:r?._id,timestamp:Date.now(),parent:{structType:n?.structType,_id:n?._id}};return o.ownerId||delete o.ownerId,o?.parent?._id||delete o.parent,Object.keys(t).length>0&&Object.assign(o,t),o}function lc(e,t={}){if(!oo[e.tag]&&e.position&&(oo[e.tag]=[e.position.x,e.position.y,e.position.z]),oo[e.tag]){let r={channel:"",position:{x:oo[e.tag][0],y:oo[e.tag][1],z:oo[e.tag][2]}};return Object.assign(t,r)}else return Object.assign(t,e)}function w5(e=[],t=!0){let r=[];for(let n of e){let i=gi(n);r.push(i)}return t&&r.push(...G0({channelDicts:e})),r}function uc(e=[],t={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return e.forEach(n=>r[n]=[]),Object.assign(t,r)}function gi(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=uc(),o={tag:e,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Mt("eeg",o,r,n);return e&&lc(o,s),Object.assign(s,t)}function J0(e={0:gi("FP1"),1:gi("FP2")},t={},r={_id:""},n={structType:"struct",_id:""}){let i=uc(),o={tag:e[0]?.tag+"::"+e[1]?.tag,x0:e[0]?.position?.x,y0:e[0]?.position?.y,z0:e[0]?.position?.z,x1:e[1]?.position?.x,y1:e[1]?.position?.y,z1:e[1]?.position?.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Mt("coherence",o,r,n);return Object.assign(s,t)}function G0(e={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},t={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,a=0;a<e.channelDicts.length*(e.channelDicts.length+1)/2-e.channelDicts.length;a++){if(e.taggedOnly===!1||e.taggedOnly===!0&&e.channelDicts[s].tag!==null&&e.channelDicts[s+o].tag!==null&&e.channelDicts[s].tag!=="other"&&e.channelDicts[s+o].tag!=="other"&&e.channelDicts[s].analyze===!0&&e.channelDicts[s+o].analyze===!0){var f=gi(e.channelDicts[s].tag),d=gi(e.channelDicts[s+o].tag);i.push(J0({0:f,1:d},{},r,n))}o++,o+s===e.channelDicts.length&&(s++,o=1)}return i}function Y0(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=Mt("fnirs",i,r,n);return e&&lc(i,o),Object.assign(o,t)}function E2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=Mt("imu",i,r,n);return e&&lc(i,o),Object.assign(o,t)}function b2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},o=Mt("eyetracker",i,r,n);return Object.assign(o,t)}function K0(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},o=Mt("ecg",i,r,n);return Object.assign(o,t)}function O2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){}function x2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=Y0(e,r,n,t);return i.structType="ppg",i}function T2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=K0(e,r,n,t);return i.structType="hrv",i}function N2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=gi(e,r,n,t);return i.structType="emg",i}function k2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=Mt("profile",{tag:e,name:"",username:"",firstName:"",lastName:"",email:"",sex:"",birthday:"",type:"",userRoles:[],id:""},r,n);return Object.assign(i,t)}function I2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:new Array,structs:new Array,excluded:new Array,groups:new Array,status:"PENDING",expires:!1,associatedAuthId:""},o=Mt("authorization",i,r,n);return Object.assign(o,t)}function A2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,name:"",details:"",admins:new Array,peers:new Array,clients:new Array,users:new Array},o=Mt("group",i,r,n);return Object.assign(o,t)}function R2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,title:"",author:"",expires:!1,type:"",data:new Array},o=Mt("dataInstance",i,r,n);return Object.assign(o,t)}function D2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:new Array},o=Mt("event",i,r,n);return Object.assign(o,t)}function C2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:new Array,audioChatActive:!1,videoChatActive:!1},o=Mt("chatroom",i,r,n);return Object.assign(o,t)}function F2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:new Array,attachments:new Array},o=Mt("comment",i,r,n);return Object.assign(o,t)}function L2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i=Mt("notification",{tag:e,note:"",parentUserId:""},r,n);return Object.assign(i,t)}function P2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,title:"",author:"",attachments:new Array,dates:new Array},o=Mt("schedule",i,r,n);return Object.assign(o,t)}function j2(e="",t={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:e,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},o=Mt("date",i,r,n);return Object.assign(o,t)}function A5(e=[],t={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return e.forEach((n,i)=>{for(let o in t)r[o]||(r[o]=[[],[]]),n>=t[o][0]&&n<=t[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r}function C5(e,t,r){let n=(t-e)/r,i=[],o=0;for(;o<t;)i.push(o),o+=n;return i}var _2,v5,S2,We,el,oo,_5,S5,so,Pe,E5,b5,O5,x5,T5,N5,k5,I5,R5,D5,M2=Pr(()=>{_2=Object.defineProperty,v5=(e,t,r)=>t in e?_2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,S2=(e,t)=>{for(var r in t)_2(e,r,{get:t[r],enumerable:!0})},We=(e,t,r)=>(v5(e,typeof t!="symbol"?t+"":t,r),r),el={};S2(el,{AuthorizationStruct:()=>I2,ChatroomStruct:()=>C2,CoherenceMap:()=>G0,CoherenceStruct:()=>J0,CommentStruct:()=>F2,DataStruct:()=>R2,DateStruct:()=>j2,ECGStruct:()=>K0,EDAStruct:()=>O2,EEGCoordinates:()=>w5,EEGStruct:()=>gi,EMGStruct:()=>N2,EventStruct:()=>D2,EyeTrackerStruct:()=>b2,FNIRSStruct:()=>Y0,FrequencyBandsStruct:()=>uc,GroupStruct:()=>A2,HRVStruct:()=>T2,IMUStruct:()=>E2,NotificationStruct:()=>L2,PPGStruct:()=>x2,ProfileStruct:()=>k2,ScheduleStruct:()=>P2,Struct:()=>Mt,eegCoordinates:()=>oo,setCoordinate:()=>lc,structRegistry:()=>_5});oo={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};_5={Struct:Mt,EEGStruct:gi,FNIRSStruct:Y0,CoherenceStruct:J0,CoherenceMap:G0,FrequencyBandsStruct:uc,IMUStruct:E2,EyeTrackerStruct:b2,ECGStruct:K0,EDAStruct:O2,PPGStruct:x2,HRVStruct:T2,EMGStruct:N2,ProfileStruct:k2,AuthorizationStruct:I2,GroupStruct:A2,DataStruct:R2,EventStruct:D2,ChatroomStruct:C2,CommentStruct:F2,NotificationStruct:L2,ScheduleStruct:P2,DateStruct:j2},S5={};S2(S5,{bandpassWindow:()=>C5,get40HzGamma:()=>N5,getAlphaBetaRatio:()=>x5,getAlphaRatio:()=>b5,getAlphaThetaRatio:()=>T5,getCoherenceScore:()=>E5,getHEGRatioScore:()=>I5,getLowGammaScore:()=>k5,getThetaBetaRatio:()=>O5,mapCoherenceData:()=>D5,mapFFTData:()=>R5,splitFrequencyBands:()=>A5});so=class{constructor(){}static genSineWave(e=20,t=1,r=1,n=512,i=0,o=1){for(var s=[],a=[],f=1/n,d=0;d<r;d+=f){var m=Math.sin(2*Math.PI*e*d)*t;m+=Math.sin(2*Math.PI*i*d)*o,s.push(m),a.push(d)}return[a,s]}static getSineAmplitude(e=20,t=1,r=0,n=0){return Math.sin(this.TWO_PI*e*r+n)*t}static mean(e){var t=e.reduce((r,n)=>n+=r);return t/e.length}static mode(e){return e.sort((t,r)=>e.filter(n=>n===t).length-e.filter(n=>n===r).length).pop()}static std(e,t=void 0){let r=t;t||(r=this.mean(e));let n=0;for(let i=0;i<e.length;i++){let o=e[i]-r;n+=o*o}return Math.sqrt(n/e.length)}static relError(e=[],t=[],r=!0){if(e.length!==t.length)throw new Error("Input arrays of same length!");let n=e.length,i=[];for(let o=0;o<n;o++){let s=(e[o]-t[o])/e[o];r&&(s=Math.abs(s)),i.push(s)}return i}static informationEntropy(e=[]){let t=[],r=e.length;for(let n=0;n<r;n++){let i=e[n]*Math.log(e[n]);isNaN(i)&&(i=0),t.push(i)}return t}static zscore(e){let t=this.mean(e),r=this.std(e,t),n=[];for(let i=0;i<e.length;i++)n.push((e[i]-t)/r);return n}static variance(e){var t=this.mean(e);return e.reduce((r,n)=>r+(n-t)**2,0)/e.length}static dot(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[n];return r}static cross3D(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}static magnitude(e){var t=0;return e.forEach(r=>{t+=r*r}),Math.sqrt(t)}static distance(e,t){var r=0;return e.forEach((n,i)=>{r+=(t[i]-n)*(t[i]-n)}),Math.sqrt(r)}static normalize(e){var t=0;t=this.magnitude(e);var r=[];return e.forEach((n,i)=>{r.push(n*t)}),r}static quadraticFormula(e,t,r){let n=Math.sqrt(t*t-4*e*r);if(!isNaN(n))return["complex","complex"];let i=1/(2*e);if(n===0)return[t*i];let o=-t;return[(o+n)*i,(o-n)*i]}static newtonsMethod(e=o=>Math.pow(o,5)+o*o-o-.2,t=0,r=1,n=.01,i=10){let o=[];for(let s=0;s<i;s++){let a=Math.random()*(r-t),f=e(a),d=e(a+n),m=(d-f)/n,g=a+n;for(;Math.abs(m)>n;){let N=-f/T,A=g+N;f=d,d=e(A);let T=(d-f)/(A-g)}let y,S=o.find((N,A)=>{if(Math.abs(xn1-N)<n)return y=A,!0});S?o[y]=(xn1+S)*.5:o.push(xn1)}return o}static makeVec(e,t){var r=[];return e.forEach((n,i)=>{r.push(t[i]-n)}),r}static transpose(e){return e[0].map((t,r)=>e.map(n=>n[r]))}static matmul(e,t){for(var r=e.length,n=e[0].length,i=t.length,o=t[0].length,s=new Array(r),a=0;a<r;++a){s[a]=new Array(o);for(var f=0;f<o;++f){s[a][f]=0;for(var d=0;d<n;++d)s[a][f]+=e[a][d]*t[d][f]}}return s}static matscale(e,t){let r=[];for(var n=0;n<e.length;n++){r[n]=[];for(let i=0;i<e[0].length;i++)r[n][i]=e[n][i]*t}return r}static matadd(e,t){let r=[];for(let i=0;i<e.length;i++){r[i]=[];for(var n=0;n<e[0].length;n++)r[i][n]=e[i][n]+t[i][n]}return r}static matsub(e,t){let r=[];for(let i=0;i<e.length;i++){r[i]=[];for(var n=0;n<e[0].length;n++)r[i][n]=e[i][n]-t[i][n]}return r}static histogram(e=[],t=1,r=void 0){let n=[...e];n.sort(function(f,d){return f-d});let i=Math.min(...n);if(typeof r=="number"){let f=Math.max(...n);t=Math.abs((f-i)/(r-1))}let o=i,s=[],a=[];for(let f=0;f<n.length;f++){let d=t*o;if(n[f]>i+d){o++,d+=t;let m=i+d+d*.5;s.push(m),a.push(0)}a[a.length-1]++}return[s,a]}static normalDistribution(e=[],t=!0,r=1e-4){let n=this.mean(e),i=this.variance(e),o=e.length,s=[],a=1/(this.TWO_PI*i),f=1/i,d=0;for(let m=0;m<o;m++){let g=Math.exp(-.5*Math.pow((e[m]-n)*f,2))*a;g<r&&(g=0),s.push(g),d+=g}if(t){let m=1/d;s=s.map(g=>g*m)}return s}static expectedValue(e=[],t=this.normalDistribution(e)){return e.reduce((r,n,i)=>r+n*t[i])}static originMoment(e=[],t=this.normalDistribution(e),r=1){return e.reduce((n,i,o)=>n+Math.pow(i,r)*t[o])}static centralMoment(e=[],t=this.normalDistribution(e),r=1){let n=this.mean(e);return e.reduce((i,o,s)=>i+Math.pow(o-n,r)*t[s]/e.length)}static linearDiscriminantAnalysis(e=[],t=[]){let r=this.mean(e),n=this.mean(t),i=this.cov1d(e,t),o=this.normalDistribution(e),s=[];for(let a=0;a<e.length;a++)s.push(x[a]*i*n-.5*r*i*n+Math.log10(o[a]));return s}static conv1D(e=[],t=[1/3,1/3,1/3],r=Math.floor(t.length*.5)){let n=[],i=1/t.length;if(r>0){let a=new Array(r).fill(0);e=[...a,...e,...a]}let o=Math.floor(t.length*.5),s=e.length-t.length+o;for(let a=o;a<s;a++){let f=0;for(let d=0;d<t.length;d++)f+=e[a-o]*t[d];n.push(f*i)}return n}static conv2D(e=[[],[],[]],t=[[],[],[]],r=0){let n=new Array(e.length-Math.ceil(t.length*.5)).fill([]),i,o=so.transpose(o);if(r>0){let A=new Array(r).fill(0);i=so.transpose(e);for(let T=0;T<i.length;T++)i[T]=[...A,...i[T],...A];e=so.transpose(i);for(let T=0;T<e.length;T++)e[T]=[...A,...e[T],...A]}let s=Math.floor(t[0].length*.5),a=Math.floor(o[0].length*.5),f=e[0].length-t[0].length+s,d=i[0].length-o[0].length+a,m=1/(t[0].length*o[0].length),g=f*d,y=s,S,N=a;for(;y<g;){let A=0;S=y%e[0].length,S===0&&N++;for(let T=0;T<t[0].length;T++){for(let I=0;I<o[0].length;T++)A+=e[N-a+I][S-s+T]*t[I][T];n[N].push(A*m)}y++}return n}static cov2d(e){var t=this.transpose(e),r=[],n=[],i=[];e.forEach((N,A)=>{n.push(this.mean(N))}),t.forEach((N,A)=>{i.push(this.mean(N))}),e.forEach((N,A)=>{r.push([]);for(var T=0;T<N.length;T++)r[A].push((e[A][T]-n[A])*(e[A][T]-i[T])/(N.length-1))});for(var o=this.transpose(r),s=r.length,a=r[0].length,f=o.length,d=o[0].length,m=new Array(s),g=0;g<s;++g){m[g]=new Array(d);for(var y=0;y<d;++y){m[g][y]=0;for(var S=0;S<a;++S)m[g][y]+=r[g][S]*o[S][y]/(e[0].length-1)}}return m}static cov1d(e=[],t=[]){return this.cov2d([e,t])}static cov3d(e=[],t=[],r=[]){return[[this.cov1d(e,e),this.cov1d(e,t),this.cov1d(e,r)],[this.cov1d(t,e),this.cov1d(t,t),this.cov1d(t,r)],[this.cov1d(r,e),this.cov1d(r,t),this.cov1d(r,r)]]}static covNd(e=[]){let t=[];e.forEach((r,n)=>{t.push([]),e.forEach((i,o)=>{t[n].push(this.cov1d(r,i))})})}static eigens2x2(e=[[1,2],[3,4]]){let t=e[0][0]*e[1][1]-e[0][1]*e[1][0],r=(e[0][0]+e[1][1])*.5,n=Math.sqrt(r*r-t),i=r+n,o=r-n;return[i,o]}static eigenvectors2x2(e=[[1,2],[3,4]],t=[1,2]){let r=[-e[0][1],e[0][0]-t[0]];r[0]===0&&r[1]===0&&(r[0]=e[1][1]-t[0],r[1]=-e[1][0]);let n=[-e[0][1],e[0][0]-t[1]];return n[0]===0&&n[1]===0&&(n[0]=e[1][1]-t[1],n[1]=-e[1][0]),[r,n]}static fastpca2d(e,t){let r=this.cov1d(e,t),n=this.eigens2x2(r);n[1]>n[0]&&n.reverse();let i=this.eigenvectors2x2(r,n);return console.log(n,i),[n,i]}static crosscorrelation(e,t){var r=[...t,...Array(t.length).fill(0)],n=this.mean(e),i=this.mean(t),o=e.reduce((g,y)=>g+=Math.pow(y-n,2));o=Math.sqrt(o);var s=t.reduce((g,y)=>g+=Math.pow(y-n,2));s=Math.sqrt(s);for(var a=1/(o*s),f=new Array(e.length).fill(0),d=0;d<e.length;d++){var m=e.reduce((g,y,S)=>g+=(y-n)*(r[d+S]-i));f[d]=m*a}return f}static autocorrelation(e){var t=[...e,...Array(e.length).fill(0)],r=this.mean(e),n=e.reduce((f,d)=>f+=Math.pow(d-r,2));n=Math.sqrt(n);for(var i=1/(n*n),o=new Array(e.length).fill(0),s=0;s<e.length;s++){var a=e.reduce((f,d,m)=>f+=(d-r)*(t[s+m]-r));o[s]=a*i}return o}static correlograms(e=[[],[]]){var t=[];return e.forEach((r,n)=>{e.forEach((i,o)=>{o>=n&&t.push(so.crosscorrelation(r,i))})}),t}static sma(e=[],t){for(var r=[],n=0;n<e.length;n++)if(n==0)r.push(e[0]);else if(n<t){var i=e.slice(0,n+1);r.push(i.reduce((o,s)=>s+=o)/(n+1))}else{var i=e.slice(n-t,n);r.push(i.reduce((s,a)=>a+=s)/t)}return r}static sum(e=[]){if(e.length>0){var t=e.reduce((r,n)=>n+=r);return t}else return 0}static reduceArrByFactor(e,t=2){return e.filter((r,n)=>n%t===0)}static makeArr(e,t,r){for(var n=[],i=(t-e)/(r-1),o=0;o<r;o++)n.push(e+i*o);return n}static interpolateArray(e,t,r=1){var n=function(g,y,S){return(g+(y-g)*S)*r},i=new Array,o=new Number((e.length-1)/(t-1));i[0]=e[0];for(var s=1;s<t-1;s++){var a=s*o,f=new Number(Math.floor(a)).toFixed(),d=new Number(Math.ceil(a)).toFixed(),m=a-f;i[s]=n(e[f],e[d],m)}return i[t-1]=e[e.length-1],i}static isExtrema(e,t="peak"){let r=[...e];if(r.length%2===0&&r.pop(),e.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(t==="peak"){if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}else if(t==="valley"){if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}else if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}if(t!=="peak"&&t!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}}return n}else return}static isCriticalPoint(e,t="peak"){let r=[...e];if(r.length%2===0&&r.pop(),e.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(t==="peak"){if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}else if(t==="valley"){if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}else if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}if(t!=="peak"&&t!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}}return n}else return}static getPeakThreshold(e,t,r){let n,i=e.filter((o,s)=>{if(t.indexOf(s)>-1)return!0});return r===0?n=this.mean(i):n=(r+this.mean(i))*.5,n}static column(e,t){let r=new Array(e.length).fill(0).map(()=>new Array(1).fill(0));for(let n=0;n<e.length;n++)r[n][0]=e[n][t];return r}static flatten_vector(e){let t=[];for(let r=0;r<e.length;r++)t[r]=e[r][0];return t}static squared_difference(e,t){let r=0;for(let n=0;n<e.length;n++)r=r+Math.pow(e[n]-t[n],2);return r}static shift_deflate(e,t,r){let n=Math.sqrt(this.matmul(this.transpose(r),r)),i=this.matscale(r,1/n),o=this.matscale(this.matmul(i,this.transpose(i)),t);return this.matsub(e,o)}static eigenvalue_of_vector(e,t){return ev=this.matmul(this.matmul(this.transpose(t),e),t),ev}static power_iteration(e,t=1e-5,r=1e3){let n=e.length,i=new Array(n).fill(0).map(()=>new Array(1).fill(Math.sqrt(n))),o=this.eigenvalue_of_vector(e,i),s=1,a=0;for(;s>t&&a<r;){let f=JSON.parse(JSON.stringify(o)),d=this.matmul(e,i);i=this.normalize(d),o=this.eigenvalue_of_vector(e,i),s=Math.abs(o-f),a++}return[o,i]}static eigens(e,t=1e-4,r=1e3){let n=[],i=[];for(let o=0;o<e.length;o++){let s=this.power_iteration(e,t,r),a=s[0],f=s[1];n[o]=a,i[o]=this.flatten_vector(f),e=this.shift_deflate(e,a,f)}return[n,i]}static pca(e,t=1e-5){let r=e.length,n=new Array(r),i=new Array(r),o=this.transpose(e);n[0]=this.column(e,0);let s=1,a=0;for(;espilon>t;){a++,i[0]=this.matmul(o,n[0]);let f=this.matmul(this.transpose(n[0]),n[0]);i[0]=this.matscale(i[0],1/f);let d=Math.sqrt(this.matmul(this.transpose(i[0]),i[0]));i[0]=this.matscale(i[0],1/d);let m=this.matmul(e,i[0]),g=this.matmul(this.transpose(i[0]),i[0]);m=this.matscale(m,1/g),s=this.squared_difference(n[0],m),n[0]=JSON.parse(JSON.stringify(m))}return this.matmul(this.transpose(n[0]),n[0])}static p300(e=[],t=[],r=[],n=256){let i=Math.floor(n/10),o=this.sma(t,i),s=this.peakDetect(o,"peak",i),a=this.mean(o),f=this.std(o,a),d=0,m=[];return s.length>0&&e.forEach((g,y)=>{for(;r[s[d]]<g+200&&(d++,!!s[d]););let S=0,N=[];for(;r[s[d+S]]<g+600&&(N.push(d+S),S++,!!s[d+S]););if(N.length>1){let A=[];N.forEach(C=>{A.push(o[s[C]])});let T=Math.max(...A),I=N[A.indexOf(T)];m.push({event_timestamp:g,event_index:y,peak_timestamp:r[[s[I]]],signal_index:[s[I]],signal_amplitude:t[[s[I]]],zscore:(o[s[I]]-a)/f})}else N.length===1&&m.push({event_timestamp:g,event_index:y,peak_timestamp:r[s[N[0]]],signal_index:s[N[0]],signal_amplitude:t[[s[N[0]]]],zscore:(o[s[N[0]]]-a)/f})}),m}},Pe=so;We(Pe,"TWO_PI",Math.PI*2),We(Pe,"C",299792458),We(Pe,"G",66743e-15),We(Pe,"h",662607015e-42),We(Pe,"R",8314.32),We(Pe,"Ra",287),We(Pe,"H",69.3),We(Pe,"kbar",1054571817e-43),We(Pe,"kB",1380649e-29),We(Pe,"ke",89875517923e-1),We(Pe,"me",91093837015e-41),We(Pe,"mp",167262192369e-38),We(Pe,"mn",167492749804e-38),We(Pe,"P0",101325),We(Pe,"T0",288.15),We(Pe,"p0",1.225),We(Pe,"Na",60220978e16),We(Pe,"y",1.405),We(Pe,"M0",28.96643),We(Pe,"g0",9.80665),We(Pe,"Re",6378100),We(Pe,"B",1458e-9),We(Pe,"S",110.4),We(Pe,"Sigma",365e-12),We(Pe,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),We(Pe,"integral",(e=n=>n,t=[],r=.01)=>{let n=0;for(let i=t[0];i<t[1];i+=r)n+=e(i)*r;return n}),We(Pe,"dintegral",(e=(i,o)=>i+o,t=[[],[]],r=.01,n=r)=>{let i=0;for(let o=t[0][0]+r;o<t[0][1];o+=r)for(let s=t[1][0]+n;s<t[1][1];s+=n)i+=e(o,s)*r*n;return i}),We(Pe,"tintegral",(e=(o,s,a)=>o+s+a,t=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=t[0][0]+r;s<t[0][1];s+=r)for(let a=t[1][0]+n;a<t[1][1];a+=n)for(let f=t[2][0]+i;f<t[2][1];f+=i)o+=e(s,a,f)*r*n*i;return o}),We(Pe,"pintegral",(e=n=>n,t=[],r=.01)=>{let n=0,i,o;for(let s=t[0];s<t[1];s+=r)i=o,o=e(s),i&&(n+=so.distance([0,i],[r,o]));return n}),We(Pe,"peakDetect",(e,t="peak",r=49)=>{let n=Math.floor(r*.5),i=[];for(let o=0;o<e.length-r;o++)so.isExtrema(e.slice(o,o+r),t)&&i.push(o+n-1);return i});E5=(e,t="alpha1")=>{let r=[];return Array.isArray(e)||(e=[e]),e.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[t].slice(i-o);r.push(Pe.mean(s))}}),Pe.mean(r)},b5=e=>e.fftCount>0?e.means.alpha2[e.fftCount-1]/e.means.alpha1[e.fftCount-1]:0,O5=e=>e.fftCount>0?e.means.theta[e.fftCount-1]/e.means.beta[e.fftCount-1]:0,x5=e=>e.fftCount>0?(e.means.alpha1[e.fftCount-1]+e.means.alpha2[e.fftCount-1])*.5/e.means.beta[e.fftCount-1]:0,T5=e=>e.fftCount>0?(e.means.alpha1[e.fftCount-1]+e.means.alpha2[e.fftCount-1])*.5/e.means.theta[e.fftCount-1]:0,N5=(e,t)=>{if(e.fftCount>0&&Array.isArray(t)){let r=e.slices.lowgamma[e.fftCount-1],n=[];return r.forEach((i,o)=>{t.lowgamma[0][o]>38&&t.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}else return 0},k5=e=>{if(e.fftCount>0){let t=e.fftCount,r=20;t<r&&(r=t);let n=e.means.lowgamma.slice(t-r);return e.means.lowgamma[t-1]-Pe.mean(n)}else return 0},I5=e=>{if(e.count>0){let t=e.count,r=40;t<r&&(r=t);let n=e.ratio.slice(t-r);return e.ratio[t-1]-Pe.mean(n)}else return 0};R5=(e,t,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(t),n.ffts.push(e);for(let o in r){let s=e.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((a,f)=>a+f)/s.length),i+=r[o][1].length}},D5=(e,t,r,n)=>{e.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(t),n[o].ffts.push(data);let s=0;for(let a in r){let f=fft.slice(s,s+r[a][1].length);coord.slices[a].push(f),coord.means[a].push(f.reduce((d,m)=>d+m)/f.length),s+=r[a][1].length}})}});function cc(){return Xe.setupUser(tl)}function U2(){return sn=new Ka,sn.connect({target:B2.settings.dataserver,credentials:ao,type:"websocket"}).subscribe(e=>{console.log("Indirect message from socket",e)}),sn.send("routes").then(e=>console.log("Client 2 Routes",e)).catch(console.error),sn.setupUser(ao)}var B2,tl,ao,sn,fc=Pr(()=>{Za();M2();B2=Rt(is());$0();console.log(el);tl=el.ProfileStruct("test",{_id:"test375914777899895",email:"test@myalyce.com",username:"testuser",firstName:"Howard",lastName:"Dent",sex:"m",birthday:"09/10/1993"});ao=el.ProfileStruct("test",{_id:"test375914777899896",email:"testpeer@myalyce.com",username:"testpeer",firstName:"The",lastName:"Batman",sex:"m",birthday:"01/19/1483"})});var V2=xe(Z0=>{Jv();var z2=Rt(is());H0();Ba();fc();console.log("using data server URL: ",z2.settings.dataserver);$r.subscribe("route",e=>{history.replaceState(void 0,e,location.origin+e)});var F5=!0;F5?cc().then(e=>He(Z0,null,function*(){console.log(e),yield ss(e)})):Xa().then(e=>He(Z0,null,function*(){let t=yield Qa(e);yield ss(t)}))});var at=xe((_I,pc)=>{var q2,W2,$2,H2,J2,G2,Y2,K2,Z2,hc,X0,X2,Q2,eS,gs,tS,rS,nS,iS,oS,sS,aS,lS,dc;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof pc=="object"&&typeof pc.exports=="object"?e(r(t,r(pc.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,s){return n[o]=i?i(o,s):s}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};q2=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},W2=Object.assign||function(n){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},$2=function(n,i){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(o[s[a]]=n[s[a]]);return o},H2=function(n,i,o,s){var a=arguments.length,f=a<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,o):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(n,i,o,s);else for(var m=n.length-1;m>=0;m--)(d=n[m])&&(f=(a<3?d(f):a>3?d(i,o,f):d(i,o))||f);return a>3&&f&&Object.defineProperty(i,o,f),f},J2=function(n,i){return function(o,s){i(o,s,n)}},G2=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},Y2=function(n,i,o,s){function a(f){return f instanceof o?f:new o(function(d){d(f)})}return new(o||(o=Promise))(function(f,d){function m(S){try{y(s.next(S))}catch(N){d(N)}}function g(S){try{y(s.throw(S))}catch(N){d(N)}}function y(S){S.done?f(S.value):a(S.value).then(m,g)}y((s=s.apply(n,i||[])).next())})},K2=function(n,i){var o={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,a,f,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(y){return function(S){return g([y,S])}}function g(y){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,a&&(f=y[0]&2?a.return:y[0]?a.throw||((f=a.return)&&f.call(a),0):a.next)&&!(f=f.call(a,y[1])).done)return f;switch(a=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,a=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(f=o.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){o.label=y[1];break}if(y[0]===6&&o.label<f[1]){o.label=f[1],f=y;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(y);break}f[2]&&o.ops.pop(),o.trys.pop();continue}y=i.call(n,o)}catch(S){y=[6,S],a=0}finally{s=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Z2=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&dc(i,n,o)},dc=Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]},hc=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},X0=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,f=[],d;try{for(;(i===void 0||i-- >0)&&!(a=s.next()).done;)f.push(a.value)}catch(m){d={error:m}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(d)throw d.error}}return f},X2=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(X0(arguments[i]));return n},Q2=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var s=Array(n),a=0,i=0;i<o;i++)for(var f=arguments[i],d=0,m=f.length;d<m;d++,a++)s[a]=f[d];return s},eS=function(n,i,o){if(o||arguments.length===2)for(var s=0,a=i.length,f;s<a;s++)(f||!(s in i))&&(f||(f=Array.prototype.slice.call(i,0,s)),f[s]=i[s]);return n.concat(f||Array.prototype.slice.call(i))},gs=function(n){return this instanceof gs?(this.v=n,this):new gs(n)},tS=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,i||[]),a,f=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(A){s[A]&&(a[A]=function(T){return new Promise(function(I,C){f.push([A,T,I,C])>1||m(A,T)})})}function m(A,T){try{g(s[A](T))}catch(I){N(f[0][3],I)}}function g(A){A.value instanceof gs?Promise.resolve(A.value.v).then(y,S):N(f[0][2],A)}function y(A){m("next",A)}function S(A){m("throw",A)}function N(A,T){A(T),f.shift(),f.length&&m(f[0][0],f[0][1])}},rS=function(n){var i,o;return i={},s("next"),s("throw",function(a){throw a}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(a,f){i[a]=n[a]?function(d){return(o=!o)?{value:gs(n[a](d)),done:a==="return"}:f?f(d):d}:f}},nS=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof hc=="function"?hc(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=n[f]&&function(d){return new Promise(function(m,g){d=n[f](d),a(m,g,d.done,d.value)})}}function a(f,d,m,g){Promise.resolve(g).then(function(y){f({value:y,done:m})},d)}},iS=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};oS=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&dc(i,n,o);return r(i,n),i},sS=function(n){return n&&n.__esModule?n:{default:n}},aS=function(n,i,o,s){if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?s:o==="a"?s.call(n):s?s.value:i.get(n)},lS=function(n,i,o,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(n,o):a?a.value=o:i.set(n,o),o},e("__extends",q2),e("__assign",W2),e("__rest",$2),e("__decorate",H2),e("__param",J2),e("__metadata",G2),e("__awaiter",Y2),e("__generator",K2),e("__exportStar",Z2),e("__createBinding",dc),e("__values",hc),e("__read",X0),e("__spread",X2),e("__spreadArrays",Q2),e("__spreadArray",eS),e("__await",gs),e("__asyncGenerator",tS),e("__asyncDelegator",rS),e("__asyncValues",nS),e("__makeTemplateObject",iS),e("__importStar",oS),e("__importDefault",sS),e("__classPrivateFieldGet",aS),e("__classPrivateFieldSet",lS)})});var cS=xe(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0})});var hS=xe(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0})});var Q0=xe($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.arrHas=$e.arrLast=$e.arrToBoolDict=$e.arrToIdxDict=$e.arrToDict=$e.arrRemoveValues=$e.arrReplace=$e.arrDeepFlatten=$e.arrFlatten=$e.arrDivide=$e.arrGetByIds=$e.arrRemoveById=$e.arrGen=void 0;var vi=tr(),L5=(e,t=void 0)=>e<1?[]:Array(e).fill(t);$e.arrGen=L5;function P5(e,t,r="id"){let n=dS(e,r),i=vi.objRemoveKeys(n,t);return vi.objVals(i)}$e.arrRemoveById=P5;function j5(e,t,r="id"){let n=pS(t);return e.filter(i=>n[i[r]])}$e.arrGetByIds=j5;function M5(e,t){let r=Math.ceil(e.length/t)||0,n=$e.arrGen(r).map(()=>[]);return e.forEach((i,o)=>n[Math.floor(o/t)].push(i)),n}$e.arrDivide=M5;function B5(e){return[].concat.apply([],e)}$e.arrFlatten=B5;var U5=e=>e.reduce((t,r)=>t.concat(vi.isType(r,"array")?$e.arrDeepFlatten(r):r),[]);$e.arrDeepFlatten=U5;function z5(e){let t=[...e];return{all:r=>{let n=[];return e.forEach((i,o)=>vi.equal(r,i)?n[o]=o:null),{with:i=>n.length?(n.forEach(o=>t[o]=i),t):e}},first:r=>{let n=e.findIndex(i=>vi.equal(r,i));return{with:i=>vi.nonValue(n)?e:(t[n]=i,t)}}}}$e.arrReplace=z5;function V5(e,t){let r=[...e];return t.forEach(n=>r=r.filter(i=>!vi.equal(i,n))),r}$e.arrRemoveValues=V5;function dS(e,t){let r={};return e.forEach(n=>r[n[t]]=n),r}$e.arrToDict=dS;function q5(e){let t={};return e.forEach((r,n)=>t[r]=n+""),t}$e.arrToIdxDict=q5;function pS(e){let t={};return e.forEach(r=>t[r]=!0),t}$e.arrToBoolDict=pS;var W5=e=>e[e.length-1];$e.arrLast=W5;function $5(e,t,r=!1){let n=r?i=>vi.equal(i,t):i=>i===t;return e.findIndex(n)!==-1}$e.arrHas=$5});var yS=xe(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.clone=void 0;function ep(e){let t,r,n,i,o,s,a;if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e);if(r=Object.keys(e),n=r.length,Array.isArray(e)){for(s=new Array(n),i=0;i<n;i++)o=r[i],t=e[o],typeof t!="object"||t===null?s[o]=t:t instanceof Date?s[o]=new Date(t):s[o]=ep(t);return s}for(a={},i=0;i<n;i++)o=r[i],t=e[o],Object.hasOwnProperty.call(e,o)!==!1&&(typeof t!="object"||t===null?a[o]=t:t instanceof Date?a[o]=new Date(t):a[o]=ep(t));return a}yc.clone=ep});var mS=xe(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.equal=void 0;function mc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!mc(e[n],t[n]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(n of e.entries())if(!t.has(n[0]))return!1;for(n of e.entries())if(!mc(n[1],t.get(n[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(n of e.entries())if(!t.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!mc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}gc.equal=mc});var vS=xe(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.promiseOut=wt.debounceTimeOut=wt.randomColorHex=wt.uuid=wt.assertType=wt.type=wt.cloneLog=wt.unsubAll=wt.wait=wt.interval=void 0;var Mn=tr(),H5=(e,t,r)=>{if(Mn.isType(r,"number")&&r<1)throw Error(`argument "times" can't be less than 1`);let n=0,i=()=>clearInterval(o),o=setInterval(()=>{e(n,i),n++,r&&n>=r&&i()},t);return{stop:i}};wt.interval=H5;var J5=e=>new Promise(t=>setTimeout(()=>t(),e));wt.wait=J5;var gS=(e,t="unsubscribe")=>Mn.isType(e,"object")&&Mn.hasKey(e,t)?e[t]():null;function G5(e,t="unsubscribe"){if(Mn.isType(e,"array"))e.forEach(r=>gS(r,t));else if(Mn.isType(e,"object"))Mn.objMap(e,({val:r})=>gS(r,t));else throw Error('argument "objOrArr" must be of type "object" or "array"')}wt.unsubAll=G5;var Y5=e=>console.log(Mn.clone(e));wt.cloneLog=Y5;function K5(e){return typeof e=="object"?Array.isArray(e)?"array":e===null?"null":"object":e!==e?"NaN":typeof e}wt.type=K5;function Z5(e,t){Mn.isType(t,"array")||(t=[t]);for(let r of t)if(Mn.isType(e,r))return;throw Error(`value needs to be of type ${t.join(" || ")}`)}wt.assertType=Z5;var X5=()=>{let e=new Date().getTime(),t=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=Math.random()*16;return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),(n==="x"?i:i&3|8).toString(16)})};wt.uuid=X5;var Q5=()=>"#"+((1<<24)*Math.random()|0).toString(16);wt.randomColorHex=Q5;function eT(){let e=null;return(t,r)=>{e&&clearTimeout(e),t!=="cancel"&&(e=setTimeout(t,r||0))}}wt.debounceTimeOut=eT;function tT(){let e,t=new Promise(r=>e=r);return{resolve:e,promise:t}}wt.promiseOut=tT});var wS=xe(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.iterate=void 0;var tp=Q0();function rT(e,t,r){let n=(i,o=!1)=>{let s=[];for(let a=0;a<e;a++)if(!t)s.push(i({x:a}));else for(let f=0;f<t;f++)if(!r)s.push(i({x:a,y:f}));else for(let d=0;d<r;d++)s.push(i({x:a,y:f,z:d}));return o?r&&t?tp.arrDivide(s,t*r).map(f=>tp.arrDivide(f,r)):t?tp.arrDivide(s,t):s:s};return{for:i=>{n(i)},map:i=>n(i),nestedMap:i=>n(i,!0)}}vc.iterate=rT});var SS=xe(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.newNumFromRange=Ir.numberWithCommas=Ir.decPlace=Ir.average=Ir.rand=void 0;var _S=tr(),nT=(e,t)=>Math.floor(Math.random()*(t+1-e))+e;Ir.rand=nT;var iT=e=>e.reduce((t=0,r=0)=>t+r,0)/e.length;Ir.average=iT;var oT=(e,t)=>parseFloat(e.toFixed(t));Ir.decPlace=oT;var sT=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Ir.numberWithCommas=sT;function aT(e,t,r){let n,i=0,o=_S.isType(e,"array")?_S.arrToBoolDict(e):{[e]:!0};do if(n=Ir.rand(t,r),i++,i>1e6)throw console.error("Check for infinite loops"),new Error("Looped 1 million times");while(o[n]);return n}Ir.newNumFromRange=aT});var ES=xe(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.objPromiseAll=ct.objSortKeys=ct.objResolve=ct.objExtract=ct.objKeyVals=ct.objVals=ct.objKeys=ct.objRemoveKeys=ct.objFilter=ct.objMap=void 0;function lT(e,t){let r={};for(let n in e)r[n]=t({key:n,val:e[n]});return r}ct.objMap=lT;function uT(e,t){let r=Object.assign({},e);for(let n in e)t({key:n,val:e[n]})||delete r[n];return r}ct.objFilter=uT;function cT(e,t){let r=Object.assign({},e);return t.forEach(n=>delete r[n]),r}ct.objRemoveKeys=cT;function wc(e){if(Object.keys)return Object.keys(e);let t=[];for(let r in e)t.push(r);return t}ct.objKeys=wc;var fT=e=>Object.values?Object.values(e):wc(e).map(t=>e[t]);ct.objVals=fT;var hT=e=>wc(e).map(t=>({key:t,val:e[t]}));ct.objKeyVals=hT;function dT(e,t){let r={};return t.forEach(n=>r[n]=e[n]),r}ct.objExtract=dT;var pT=(e,t)=>t.split(".").reduce((r,n)=>r[n],e);ct.objResolve=pT;var yT=(e,t)=>{let r={};return wc(e).sort(t).map(i=>r[i]=e[i]),r};ct.objSortKeys=yT;function mT(e){let t=ct.objKeyVals(e),r=t.length,n={},i=0;return new Promise(o=>t.forEach(({key:s,val:a})=>a.then(f=>{n[s]=f,i++,r===i&&o(n)})))}ct.objPromiseAll=mT});var bS=xe(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.minAppend=wi.strRemove=wi.strIncludes=void 0;var gT=(e,t)=>e.indexOf(t)!==-1;wi.strIncludes=gT;var vT=(e,t)=>e.replace(new RegExp(t,"g"),"");wi.strRemove=vT;var wT=(e,t,r="0")=>(r.repeat(t-1)+e).slice(-t);wi.minAppend=wT});var xS=xe(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.isValidEmail=_t.nonValue=_t.nullOrEmpty=_t.isType=_t.hasKeys=_t.hasKey=_t.equalAny=void 0;var _T=tr(),OS=tr(),ST=(e,t)=>!!t.find(r=>_T.equal(e,r));_t.equalAny=ST;var ET=(e,t)=>_t.isType(e,"object")&&e.hasOwnProperty(t);_t.hasKey=ET;function bT(e,t){if(!_t.isType(e,"object"))return!1;for(let r of t)if(!e.hasOwnProperty(r))return!1;return!0}_t.hasKeys=bT;var OT=(e,t)=>OS.type(e)===t;_t.isType=OT;function xT(e){return _t.nonValue(e)?!0:_t.isType(e,"string")||_t.isType(e,"array")?!e.length:_t.isType(e,"object")?!OS.objVals(e).length:!1}_t.nullOrEmpty=xT;var TT=e=>e==null;_t.nonValue=TT;var NT=e=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e);_t.isValidEmail=NT});var TS=xe(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.yearStartEnd=we.monthStartEnd=we.weekStartEnd=we.getDayStartEnd=we.wks=we.weeks=we.dys=we.days=we.hrs=we.hours=we.min=we.minutes=we.sec=we.seconds=we.msTimeObj=we.msToTime=we.msToWks=we.msToDys=we.msToHrs=we.msToMin=we.msToSec=we.dateTimeToString=we.weekTuple=we.msTime=void 0;var _c=tr();we.msTime={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};we.weekTuple=["sun","mon","tue","wed","thu","fri","sat"];function kT(e=new Date){let t=("0"+e.getHours()).slice(-2),r=("0"+e.getMinutes()).slice(-2),n=("0"+e.getSeconds()).slice(-2),i=("00"+e.getMilliseconds()).slice(-3);return`${t}:${r}:${n}:${i}`}we.dateTimeToString=kT;var IT=e=>e/we.msTime.s;we.msToSec=IT;var AT=e=>e/we.msTime.m;we.msToMin=AT;var RT=e=>e/we.msTime.h;we.msToHrs=RT;var DT=e=>e/we.msTime.d;we.msToDys=DT;var CT=e=>e/we.msTime.w;we.msToWks=CT;function FT(e,t=!1){let r=e%1e3,n=Math.floor(e/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);o=o%24;let a=("00"+s).slice(-3),f=("0"+o).slice(-2),d=("0"+i).slice(-2),m=("0"+n).slice(-2),g=("00"+r).slice(-3);return t?{d:s,h:o,m:i,s:n,ms:r}:`${s?a+":":""}${f}:${d}:${m}:${g}`}we.msToTime=FT;function LT(e,t=!1){let r=e%1e3,n=Math.floor(e/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);return o=o%24,t?{d:s,h:o,m:i,s:n,ms:r}:{d:("00"+s).slice(-3),h:("0"+o).slice(-2),m:("0"+i).slice(-2),s:("0"+n).slice(-2),ms:("00"+r).slice(-3)}}we.msTimeObj=LT;var PT=e=>e*we.msTime.s;we.seconds=PT;we.sec=we.seconds;var jT=e=>e*we.msTime.m;we.minutes=jT;we.min=we.minutes;var MT=e=>e*we.msTime.h;we.hours=MT;we.hrs=we.hours;var BT=e=>e*we.msTime.d;we.days=BT;we.dys=we.days;var UT=e=>e*we.msTime.w;we.weeks=UT;we.wks=we.weeks;function zT(e,t="local"){_c.isType(e,"number")&&(e=new Date(e));let r=e.getFullYear(),n=e.getMonth(),i=e.getDate(),o=new Date(r,n,i),s=new Date(r,n,i,23,59,59,999);if(t==="unix"){let a=we.min(o.getTimezoneOffset());o=new Date(o.getTime()+a),s=new Date(s.getTime()+a)}return{start:o,end:s}}we.getDayStartEnd=zT;function VT(e,t="sun",r="local"){_c.isType(e,"number")&&(e=new Date(e));let i=e.getDay()*-1+(t==="mon"?1:0),o=6+i,s=new Date(e.getTime()+we.days(i)),a=new Date(e.getTime()+we.days(o)),f=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999);if(r==="unix"){let m=we.min(f.getTimezoneOffset());f=new Date(f.getTime()+m),d=new Date(d.getTime()+m)}return{start:f,end:d}}we.weekStartEnd=VT;function qT(e,t="local"){_c.isType(e,"number")&&(e=new Date(e));let r=e.getFullYear(),n=e.getMonth(),i=new Date(r,n,1),o=new Date(r,n,0,23,59,59,999);if(t==="unix"){let s=we.min(i.getTimezoneOffset());i=new Date(i.getTime()+s),o=new Date(o.getTime()+s)}return{start:i,end:o}}we.monthStartEnd=qT;function WT(e,t="local"){_c.isType(e,"number")&&(e=new Date(e));let r=e.getFullYear(),n=new Date(r,0,1),i=new Date(r,12,0,23,59,59,999);if(t==="unix"){let o=we.min(n.getTimezoneOffset());n=new Date(n.getTime()+o),i=new Date(i.getTime()+o)}return{start:n,end:i}}we.yearStartEnd=WT});var tr=xe(Yt=>{"use strict";var $T=Yt&&Yt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),an=Yt&&Yt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$T(t,e,r)};Object.defineProperty(Yt,"__esModule",{value:!0});an(hS(),Yt);an(Q0(),Yt);an(yS(),Yt);an(mS(),Yt);an(vS(),Yt);an(wS(),Yt);an(SS(),Yt);an(ES(),Yt);an(bS(),Yt);an(xS(),Yt);an(TS(),Yt)});var Bt=xe((FI,Sc)=>{(function(){"use strict";var e={}.hasOwnProperty;function t(){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(!!i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var s=t.apply(null,i);s&&r.push(s)}}else if(o==="object")if(i.toString===Object.prototype.toString)for(var a in i)e.call(i,a)&&i[a]&&r.push(a);else r.push(i.toString())}}return r.join(" ")}typeof Sc<"u"&&Sc.exports?(t.default=t,Sc.exports=t):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return t}):window.classNames=t})()});var NS=xe(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.chevronIcons=void 0;var HT=at(),St=(0,HT.__importDefault)(Fe());Ec.chevronIcons={1:{viewBox:"0 0 16 16",path:St.default.createElement("path",{"fill-rule":"evenodd",d:"M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z"})},2:{viewBox:"0 0 16 16",path:St.default.createElement("path",{"fill-rule":"evenodd",d:"M3.646 4.146a.5.5 0 0 1 .708 0L8 7.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zM1 11.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"})},3:{viewBox:"0 0 16 16",path:St.default.createElement(St.default.Fragment,null,St.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 6.646a.5.5 0 0 1 .708 0L8 12.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}),St.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 2.646a.5.5 0 0 1 .708 0L8 8.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}))},4:{viewBox:"0 0 16 16",path:St.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})},5:{viewBox:"0 0 24 24",path:St.default.createElement(St.default.Fragment,null,St.default.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),St.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},6:{viewBox:"0 0 24 24",path:St.default.createElement(St.default.Fragment,null,St.default.createElement("path",{d:"M5 21h14c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM5 5h14l.001 14H5V5z"}),St.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},7:{viewBox:"0 0 24 24",path:St.default.createElement("path",{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"})},8:{viewBox:"0 0 24 24",path:St.default.createElement(St.default.Fragment,null,St.default.createElement("path",{d:"m12 15.586-4.293-4.293-1.414 1.414L12 18.414l5.707-5.707-1.414-1.414z"}),St.default.createElement("path",{d:"m17.707 7.707-1.414-1.414L12 10.586 7.707 6.293 6.293 7.707 12 13.414z"}))},9:{viewBox:"0 0 512 512",path:St.default.createElement("path",{d:"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM273 369.9l135.5-135.5c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L256 285.1 154.4 183.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L239 369.9c9.4 9.4 24.6 9.4 34 0z"})},10:{viewBox:"0 0 24 24",path:St.default.createElement("path",{d:"M21.886 5.536A1.002 1.002 0 0 0 21 5H3a1.002 1.002 0 0 0-.822 1.569l9 13a.998.998 0 0 0 1.644 0l9-13a.998.998 0 0 0 .064-1.033zM12 17.243 4.908 7h14.184L12 17.243z"})}}});var rp=xe(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.Chevron=void 0;var IS=at(),JT=(0,IS.__importDefault)(Fe()),GT=(0,IS.__importDefault)(Bt()),kS=NS(),YT={down:"rotate-0",up:"rotate-180",left:"rotate-90",right:"-rotate-90"},KT={xs:"h-3 w-3",sm:"h-6 w-6",md:"h-12 w-12",lg:"h-24 w-24",xl:"h-48 w-48",auto:"h-full w-full"},ZT=function(e){var t=e.direction,r=e.icon,n=e.size,i=n===void 0?"auto":n,o=e.className,s=e.style;return JT.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",className:(0,GT.default)("transform transition-transform duration-500 svg-fix",KT[i],YT[t],o),viewBox:kS.chevronIcons[r].viewBox,style:s},kS.chevronIcons[r].path)};bc.Chevron=ZT});var _i=xe(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.customScrollBar=gr.loremIpsum=gr.TextInputBorderMap=gr.regexpUtil=gr.useRefDimensions=gr.clickOutListener=void 0;var np=Fe();function XT(e,t){(0,np.useEffect)(function(){return document.addEventListener("click",function(r){return e.current&&!e.current.contains(r.target)&&t()})},[e])}gr.clickOutListener=XT;var QT=function(e){var t,r,n=(0,np.useState)({width:0,height:0}),i=n[0],o=n[1];return(0,np.useEffect)(function(){if(e.current){var s=e.current.getBoundingClientRect(),a=s.width,f=s.height;o({width:a,height:f})}},[(t=e.current)===null||t===void 0?void 0:t.offsetHeight,(r=e.current)===null||r===void 0?void 0:r.offsetWidth]),i};gr.useRefDimensions=QT;gr.regexpUtil={name:/^[a-z ,.'-]+$/i,email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/};gr.TextInputBorderMap={default:"border-secondary-300 placeholder-secondary-300 focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-200",success:"border-success-400 placeholder-success-300 focus:border-success-500 focus:outline-none focus:ring-1 focus:ring-success-200",warning:"border-warning-400 placeholder-warning-300 focus:border-warning-500 focus:outline-none focus:ring-1 focus:ring-warning-200",danger:"border-danger-400 placeholder-danger-300 focus:border-danger-500 focus:outline-none focus:ring-1 focus:ring-danger-200"};gr.loremIpsum="Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.";gr.customScrollBar="scrollbar-thin scrollbar-track-secondary-200 scrollbar-thumb-secondary-400 scrollbar"});var RS=xe(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.Accordion=void 0;var vs=at(),Oc=tr(),xc=Fe(),ln=(0,vs.__importDefault)(Fe()),AS=(0,vs.__importDefault)(Bt()),eN=rp(),tN=_i(),rN={xs:"max-w-xs",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",auto:"w-full"},nN={danger:"text-danger-700",info:"text-info-700",primary:"text-primary-700",secondary:"text-secondary-700",success:"text-success-700",warning:"text-warning-700"},iN={danger:"border-danger-600",info:"border-info-600",primary:"border-primary-600",secondary:"border-secondary-600",success:"border-success-600",warning:"border-warning-600"};function oN(e){var t=e.title,r=e.collapseOthers,n=r===void 0?!1:r,i=e.items,o=e.size,s=o===void 0?"auto":o,a=e.type,f=a===void 0?"secondary":a,d=e.className,m=e.style,g=e.contentMaxHeigh,y=(0,xc.useState)(Date.now()),S=y[0],N=y[1],A=function(T){return N(T)};return ln.default.createElement("main",{className:(0,AS.default)(rN[s],d),style:m},ln.default.createElement("div",{className:"w-full my-1"},t&&ln.default.createElement("h2",{className:"text-xl font-semibold mb-2"},t),ln.default.createElement("ul",{className:"flex flex-col"},i.map(function(T,I){return ln.default.createElement(sN,(0,vs.__assign)({},(0,vs.__assign)((0,vs.__assign)({},T),{collapseOthers:n,onOpen:A,openId:S,type:f,contentMaxHeigh:g}),{key:I}))}))))}Tc.Accordion=oN;var sN=function(e){var t=e.title,r=e.content,n=e.onOpen,i=e.openId,o=e.collapseOthers,s=e.type,a=e.onClick,f=(0,vs.__rest)(e,["title","content","onOpen","openId","collapseOthers","type","onClick"]),d=(0,xc.useState)(i),m=d[0],g=d[1],y=(0,xc.useState)(!1),S=y[0],N=y[1];(0,xc.useEffect)(function(){i!==m&&(g(i),N(!1))},[i]);var A=function(I){if(!S){var C=Date.now();g(C),o&&n(C)}N(!S),a==null||a(I)},T=(0,Oc.isType)(f.isOpen,"boolean")?f.isOpen:S;return ln.default.createElement("li",{className:"bg-white my-2 shadow-lg"},ln.default.createElement("h2",{onClick:A,className:`\r
                flex flex-row justify-between items-center\r
                font-semibold p-3 cursor-pointer\r
            `},(0,Oc.isType)(r,"string")?ln.default.createElement("span",null,t):t,ln.default.createElement(eN.Chevron,{direction:T?"up":"down",icon:8,size:"sm",className:nN[s]})),ln.default.createElement("div",{className:(0,AS.default)("border-l-2 overflow-hidden max-h-0 duration-700 transition-all",tN.customScrollBar,iN[s],T&&"max-h-96"),style:{maxHeight:!(0,Oc.nonValue)(f.contentMaxHeigh)&&T?f.contentMaxHeigh:void 0}},(0,Oc.isType)(r,"string")?ln.default.createElement("p",{className:"p-3 text-gray-900"},r):r))}});var DS=xe(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.AlertIcon=void 0;var aN=at(),lo=(0,aN.__importDefault)(Fe()),lN={primary:lo.default.createElement("path",{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),danger:lo.default.createElement("path",{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zM8 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),info:lo.default.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}),secondary:lo.default.createElement("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}),success:lo.default.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}),warning:lo.default.createElement("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})},uN=function(e){return lo.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-6 h-6"},lN[e.type])};Nc.AlertIcon=uN});var CS=xe(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.Alert=void 0;var op=at(),ip=tr(),cN=(0,op.__importDefault)(Bt()),Ar=(0,op.__importStar)(Fe()),fN=DS(),hN={primary:"text-primary-600",secondary:"text-secondary-600",info:"text-info-600",warning:"text-warning-600",danger:"text-danger-600",success:"text-success-600"},dN={primary:"text-primary-900",secondary:"text-secondary-900",info:"text-info-900",warning:"text-warning-900",danger:"text-danger-900",success:"text-success-900"},pN=function(e){(0,op.__extends)(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={botW:100,isClosing:!1,isClosed:!1,isHover:!1,transitionDuration:void 0},r.closingDebounce=(0,ip.debounceTimeOut)(),r.handleMouseHover=function(n){var i=r.props.timeoutMs,o=!(0,ip.nonValue)(i);o&&!n?r.closingDebounce(r.startClosing,i):n&&r.closingDebounce("cancel"),r.setState(n?{isClosing:!1,botW:100,isHover:n}:{isHover:n,botW:o?0:100})},r.startClosing=function(){r.setState({isClosing:!0}),r.closingDebounce(r.close,700)},r.close=function(){r.props.onClose&&r.props.onClose(),r.setState({isClosed:!0})},r.componentWillUnmount=function(){return r.closingDebounce("cancel")},r.render=function(){var n=r.props,i=n.title,o=n.text,s=n.type,a=n.className,f=n.style,d=r.state,m=d.isHover,g=d.isClosing,y=d.botW,S=d.transitionDuration,N=d.isClosed,A=m?void 0:S,T=(0,cN.default)("bg-white border border-current border-b-0 rounded-lg flex flex-col overflow-hidden transition-opacity duration-700",{"opacity-0":g},hN[s],a);return N?null:Ar.default.createElement("div",{className:T,style:f,onMouseEnter:function(){return r.handleMouseHover(!0)},onMouseLeave:function(){return r.handleMouseHover(!1)}},Ar.default.createElement("div",{className:"p-1 flex w-full overflow-hidden mx-auto"},Ar.default.createElement("div",{className:"pt-2 ml-3"},Ar.default.createElement(fN.AlertIcon,{type:s})),Ar.default.createElement("div",{className:"w-full flex justify-between items-start px-0 py-2"},Ar.default.createElement("div",{className:"ml-3"},Ar.default.createElement("p",{className:"font-bold"},i),o&&Ar.default.createElement("p",{className:"mt-1 text-sm ".concat(dN[s])},o)),Ar.default.createElement("a",{className:"mr-1 cursor-pointer",onClick:r.close},Ar.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ar.default.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),Ar.default.createElement("span",{className:"border-b-4 border-current transition-all ease-linear",style:{width:"".concat(y,"%"),transitionDuration:A}}))},r}return t.prototype.componentDidMount=function(){var r=this,n=this.props.timeoutMs;(0,ip.nonValue)(n)||(this.setState({transitionDuration:"".concat(n,"ms")}),setTimeout(function(){return r.setState({botW:0})},0),this.closingDebounce(this.startClosing,n))},t}(Ar.Component);kc.Alert=pN});var Ac=xe(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.Badge=void 0;var LS=at(),yN=tr(),mN=(0,LS.__importDefault)(Bt()),FS=(0,LS.__importDefault)(Fe()),gN={xs:"h-2 min-w-2",sm:"h-3 min-w-3",md:"h-4 min-w-4",lg:"h-6 min-w-6",xl:"h-12 min-w-12"},vN={md:"text-xs",lg:"text-base",xl:"text-2xl"},wN=function(e){var t=e.size,r=e.badge,n=e.className;return r?FS.default.createElement("div",{className:(0,mN.default)("bg-info-600 rounded-full absolute top-0 right-0 pl-1 pr-1 flex justify-center text-gray-100",gN[t],n)},(0,yN.isType)(r,"number")&&t!=="sm"&&t!=="xs"&&FS.default.createElement("span",{className:"m-auto ".concat(vN[t])},r>999?"+999":r)):null};Ic.Badge=wN});var PS=xe(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.spinnersSvg=void 0;Rc.spinnersSvg=['<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 6h-6l2.243-2.243c-1.133-1.133-2.64-1.757-4.243-1.757s-3.109 0.624-4.243 1.757c-1.133 1.133-1.757 2.64-1.757 4.243s0.624 3.109 1.757 4.243c1.133 1.133 2.64 1.757 4.243 1.757s3.109-0.624 4.243-1.757c0.095-0.095 0.185-0.192 0.273-0.292l1.505 1.317c-1.466 1.674-3.62 2.732-6.020 2.732-4.418 0-8-3.582-8-8s3.582-8 8-8c2.209 0 4.209 0.896 5.656 2.344l2.343-2.344v6z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0.001 8.025l-0 0c0 0 0 0.001 0 0.003 0.002 0.061 0.009 0.12 0.021 0.177 0.003 0.027 0.007 0.057 0.011 0.090 0.003 0.029 0.007 0.061 0.011 0.095 0.006 0.040 0.012 0.083 0.019 0.128 0.013 0.090 0.028 0.189 0.045 0.296 0.021 0.101 0.044 0.21 0.068 0.326 0.011 0.058 0.028 0.117 0.044 0.178s0.032 0.123 0.049 0.188c0.009 0.032 0.016 0.065 0.027 0.097s0.021 0.065 0.031 0.098 0.043 0.134 0.065 0.203c0.006 0.017 0.011 0.035 0.017 0.052s0.013 0.034 0.019 0.052 0.026 0.070 0.039 0.105c0.027 0.070 0.053 0.142 0.081 0.215 0.031 0.071 0.062 0.144 0.094 0.218 0.016 0.037 0.032 0.074 0.048 0.111s0.035 0.073 0.053 0.111 0.073 0.148 0.11 0.224c0.039 0.075 0.081 0.149 0.123 0.224 0.021 0.037 0.042 0.075 0.063 0.113s0.045 0.074 0.068 0.112 0.093 0.149 0.14 0.224c0.198 0.295 0.417 0.587 0.66 0.864 0.245 0.275 0.511 0.535 0.792 0.775 0.284 0.236 0.582 0.452 0.886 0.642 0.306 0.188 0.619 0.349 0.928 0.487 0.078 0.032 0.156 0.063 0.232 0.095 0.038 0.015 0.076 0.032 0.115 0.046s0.077 0.027 0.115 0.041 0.151 0.054 0.226 0.078c0.075 0.022 0.15 0.044 0.224 0.066 0.037 0.011 0.073 0.022 0.109 0.031s0.073 0.018 0.109 0.027 0.143 0.035 0.213 0.052c0.070 0.014 0.139 0.027 0.207 0.040 0.034 0.006 0.067 0.013 0.101 0.019 0.017 0.003 0.033 0.006 0.049 0.009s0.033 0.005 0.049 0.007c0.066 0.009 0.13 0.018 0.192 0.027 0.031 0.004 0.062 0.009 0.093 0.013s0.061 0.006 0.091 0.009 0.118 0.010 0.174 0.015c0.056 0.005 0.111 0.011 0.164 0.012 0.004 0 0.007 0 0.011 0 0.010 0.544 0.453 0.982 1 0.982 0.008 0 0.017-0 0.025-0.001v0c0 0 0.001-0 0.004-0 0.061-0.002 0.12-0.009 0.177-0.021 0.027-0.003 0.057-0.007 0.090-0.011 0.029-0.003 0.061-0.007 0.095-0.011 0.040-0.006 0.083-0.012 0.128-0.019 0.090-0.013 0.189-0.028 0.296-0.045 0.101-0.021 0.21-0.044 0.326-0.068 0.058-0.011 0.117-0.028 0.178-0.044s0.123-0.033 0.188-0.049c0.032-0.009 0.065-0.016 0.097-0.027s0.065-0.021 0.098-0.031 0.134-0.043 0.203-0.065c0.017-0.006 0.035-0.011 0.052-0.017s0.034-0.013 0.052-0.019 0.070-0.026 0.105-0.039c0.070-0.027 0.142-0.053 0.215-0.081 0.071-0.031 0.144-0.062 0.218-0.094 0.037-0.016 0.074-0.032 0.111-0.048s0.073-0.035 0.111-0.053 0.148-0.073 0.224-0.11c0.075-0.039 0.149-0.081 0.224-0.123 0.037-0.021 0.075-0.042 0.113-0.063s0.074-0.045 0.112-0.068 0.149-0.093 0.224-0.14c0.295-0.197 0.587-0.417 0.864-0.66 0.275-0.245 0.535-0.511 0.775-0.792 0.236-0.284 0.452-0.582 0.642-0.886 0.188-0.306 0.349-0.619 0.487-0.928 0.032-0.078 0.063-0.156 0.095-0.232 0.015-0.038 0.032-0.076 0.046-0.115s0.027-0.077 0.040-0.115 0.054-0.151 0.078-0.226c0.022-0.075 0.044-0.15 0.066-0.224 0.011-0.037 0.022-0.073 0.031-0.109s0.018-0.073 0.027-0.109 0.035-0.143 0.052-0.213c0.014-0.070 0.027-0.139 0.040-0.207 0.006-0.034 0.013-0.067 0.019-0.101 0.003-0.017 0.006-0.033 0.009-0.049s0.005-0.033 0.007-0.050c0.009-0.065 0.018-0.13 0.027-0.192 0.004-0.031 0.009-0.062 0.013-0.093s0.006-0.061 0.009-0.091 0.010-0.118 0.015-0.174c0.005-0.056 0.011-0.111 0.012-0.165 0-0.008 0.001-0.016 0.001-0.025 0.55-0.002 0.996-0.449 0.996-1 0-0.008-0-0.017-0.001-0.025h0c0 0-0-0.001-0-0.003-0.002-0.061-0.009-0.12-0.021-0.177-0.003-0.027-0.007-0.057-0.011-0.090-0.003-0.029-0.007-0.061-0.011-0.095-0.006-0.040-0.012-0.083-0.019-0.128-0.013-0.090-0.028-0.189-0.045-0.296-0.021-0.101-0.044-0.21-0.068-0.326-0.011-0.058-0.028-0.117-0.044-0.178s-0.032-0.123-0.049-0.188c-0.009-0.032-0.016-0.065-0.027-0.097s-0.021-0.065-0.031-0.098-0.043-0.134-0.065-0.203c-0.005-0.017-0.011-0.035-0.017-0.052s-0.013-0.034-0.019-0.052-0.026-0.070-0.039-0.105c-0.027-0.070-0.053-0.142-0.081-0.215-0.031-0.071-0.062-0.144-0.094-0.218-0.016-0.037-0.032-0.074-0.048-0.111s-0.035-0.073-0.053-0.111-0.073-0.148-0.11-0.224c-0.039-0.075-0.081-0.149-0.123-0.224-0.021-0.037-0.042-0.075-0.063-0.113s-0.045-0.074-0.068-0.112-0.093-0.149-0.14-0.224c-0.197-0.295-0.417-0.587-0.66-0.864-0.245-0.275-0.511-0.535-0.792-0.775-0.284-0.236-0.582-0.452-0.886-0.642-0.306-0.188-0.619-0.349-0.928-0.487-0.078-0.032-0.156-0.063-0.232-0.095-0.038-0.015-0.076-0.032-0.115-0.046s-0.077-0.027-0.115-0.040-0.151-0.054-0.226-0.078c-0.075-0.022-0.15-0.044-0.224-0.066-0.037-0.010-0.073-0.022-0.109-0.031s-0.073-0.018-0.109-0.027-0.143-0.035-0.213-0.052c-0.070-0.014-0.139-0.027-0.207-0.040-0.034-0.006-0.067-0.013-0.101-0.019-0.017-0.003-0.033-0.006-0.049-0.009s-0.033-0.005-0.049-0.007c-0.066-0.009-0.13-0.018-0.192-0.027-0.031-0.004-0.062-0.009-0.093-0.013s-0.061-0.006-0.091-0.009-0.118-0.010-0.174-0.015c-0.056-0.005-0.111-0.011-0.164-0.012-0.013-0-0.026-0.001-0.039-0.001-0.010-0.543-0.454-0.981-0.999-0.981-0.008 0-0.017 0-0.025 0.001l-0-0c0 0-0.001 0-0.003 0-0.061 0.002-0.12 0.009-0.177 0.021-0.027 0.003-0.057 0.007-0.090 0.011-0.029 0.003-0.061 0.007-0.095 0.011-0.040 0.006-0.083 0.012-0.128 0.019-0.090 0.013-0.189 0.028-0.296 0.045-0.101 0.021-0.21 0.044-0.326 0.068-0.058 0.011-0.117 0.028-0.178 0.044s-0.123 0.033-0.188 0.049c-0.032 0.009-0.065 0.016-0.097 0.027s-0.065 0.021-0.098 0.031-0.134 0.043-0.203 0.065c-0.017 0.006-0.035 0.011-0.052 0.017s-0.034 0.013-0.052 0.019-0.070 0.026-0.105 0.039c-0.070 0.027-0.142 0.053-0.215 0.081-0.071 0.031-0.144 0.062-0.218 0.094-0.037 0.016-0.074 0.032-0.111 0.048s-0.073 0.035-0.111 0.053-0.148 0.073-0.224 0.11c-0.075 0.039-0.149 0.081-0.224 0.123-0.037 0.021-0.075 0.042-0.113 0.063s-0.074 0.045-0.112 0.068-0.149 0.093-0.224 0.14c-0.295 0.198-0.587 0.417-0.864 0.66-0.275 0.245-0.535 0.511-0.775 0.792-0.236 0.284-0.452 0.582-0.642 0.886-0.188 0.306-0.349 0.619-0.487 0.928-0.032 0.078-0.063 0.156-0.095 0.232-0.015 0.038-0.032 0.076-0.046 0.115s-0.027 0.077-0.040 0.115-0.054 0.151-0.078 0.226c-0.022 0.075-0.044 0.15-0.066 0.224-0.011 0.037-0.022 0.073-0.032 0.109s-0.018 0.073-0.027 0.109-0.035 0.143-0.052 0.213c-0.014 0.070-0.027 0.139-0.040 0.207-0.006 0.034-0.013 0.067-0.019 0.101-0.003 0.017-0.006 0.033-0.009 0.049s-0.005 0.033-0.007 0.050c-0.009 0.065-0.018 0.13-0.027 0.192-0.004 0.031-0.009 0.062-0.013 0.093s-0.006 0.061-0.009 0.091-0.010 0.118-0.015 0.174c-0.005 0.056-0.011 0.111-0.012 0.165-0 0.009-0.001 0.017-0.001 0.025-0.537 0.017-0.967 0.458-0.967 0.999 0 0.008 0 0.017 0.001 0.025zM1.149 7.011c0.001-0.003 0.001-0.006 0.002-0.009 0.010-0.051 0.026-0.102 0.040-0.155s0.030-0.107 0.045-0.163c0.008-0.028 0.015-0.056 0.024-0.084s0.019-0.057 0.028-0.086 0.038-0.116 0.058-0.176c0.005-0.015 0.010-0.030 0.015-0.045s0.012-0.030 0.017-0.045 0.023-0.060 0.035-0.091 0.048-0.123 0.073-0.186c0.028-0.062 0.056-0.125 0.084-0.189 0.014-0.032 0.028-0.064 0.043-0.096s0.032-0.064 0.048-0.096 0.065-0.128 0.098-0.194c0.034-0.065 0.073-0.128 0.109-0.194 0.018-0.032 0.037-0.065 0.056-0.098s0.040-0.064 0.061-0.096c0.041-0.064 0.082-0.129 0.124-0.194 0.176-0.255 0.369-0.506 0.583-0.744 0.217-0.236 0.451-0.459 0.697-0.665 0.25-0.202 0.511-0.385 0.776-0.547 0.268-0.159 0.541-0.294 0.808-0.41 0.068-0.027 0.135-0.053 0.202-0.079 0.033-0.013 0.066-0.027 0.099-0.038s0.067-0.022 0.1-0.033 0.131-0.045 0.196-0.065c0.065-0.018 0.13-0.036 0.194-0.054 0.032-0.009 0.063-0.019 0.095-0.026s0.063-0.014 0.094-0.021 0.123-0.028 0.184-0.042c0.061-0.011 0.12-0.021 0.179-0.032 0.029-0.005 0.058-0.010 0.087-0.015 0.014-0.003 0.029-0.005 0.043-0.008s0.029-0.003 0.043-0.005c0.056-0.007 0.112-0.014 0.166-0.020 0.027-0.003 0.053-0.007 0.080-0.010s0.053-0.004 0.078-0.006 0.102-0.007 0.15-0.011c0.049-0.003 0.095-0.008 0.142-0.008 0.091-0.002 0.177-0.004 0.256-0.006 0.073 0.003 0.14 0.005 0.2 0.007 0.030 0.001 0.058 0.002 0.085 0.002 0.033 0.002 0.064 0.004 0.093 0.006 0.033 0.002 0.063 0.004 0.091 0.006 0.051 0.008 0.103 0.012 0.156 0.012 0.007 0 0.015-0 0.022-0.001 0.002 0 0.004 0 0.004 0v-0c0.487-0.012 0.887-0.372 0.962-0.84 0.008 0.002 0.017 0.004 0.025 0.006 0.051 0.010 0.102 0.026 0.155 0.040s0.107 0.030 0.163 0.045c0.028 0.008 0.056 0.015 0.084 0.024s0.057 0.019 0.086 0.028 0.116 0.038 0.176 0.058c0.015 0.005 0.030 0.010 0.045 0.015s0.030 0.012 0.045 0.017 0.060 0.023 0.091 0.035 0.123 0.048 0.186 0.073c0.062 0.028 0.125 0.056 0.189 0.084 0.032 0.014 0.064 0.028 0.096 0.043s0.064 0.032 0.096 0.048 0.128 0.065 0.194 0.098c0.065 0.034 0.129 0.073 0.194 0.109 0.032 0.018 0.065 0.037 0.098 0.056s0.064 0.040 0.096 0.061 0.129 0.082 0.194 0.124c0.255 0.176 0.506 0.369 0.744 0.583 0.236 0.217 0.459 0.451 0.665 0.697 0.202 0.25 0.385 0.511 0.547 0.776 0.159 0.268 0.294 0.541 0.41 0.808 0.027 0.068 0.053 0.135 0.079 0.202 0.013 0.033 0.027 0.066 0.038 0.099s0.022 0.067 0.033 0.1 0.045 0.131 0.065 0.196c0.018 0.065 0.036 0.13 0.054 0.194 0.009 0.032 0.019 0.063 0.026 0.095s0.014 0.063 0.021 0.094 0.028 0.123 0.042 0.184c0.011 0.061 0.021 0.12 0.032 0.179 0.005 0.029 0.010 0.058 0.015 0.087 0.003 0.014 0.005 0.029 0.008 0.043s0.003 0.029 0.005 0.043c0.007 0.056 0.014 0.112 0.020 0.166 0.003 0.027 0.007 0.053 0.010 0.080s0.004 0.053 0.006 0.078 0.007 0.102 0.011 0.15c0.003 0.049 0.008 0.095 0.008 0.142 0.002 0.091 0.004 0.177 0.006 0.256-0.003 0.073-0.005 0.14-0.007 0.2-0.001 0.030-0.002 0.058-0.002 0.085-0.002 0.033-0.004 0.064-0.006 0.093-0.002 0.033-0.004 0.063-0.006 0.091-0.008 0.051-0.012 0.103-0.012 0.156 0 0.007 0 0.015 0.001 0.022-0 0.002-0 0.004-0 0.004h0c0.012 0.481 0.363 0.877 0.823 0.959-0.001 0.005-0.002 0.009-0.003 0.014-0.010 0.051-0.025 0.102-0.040 0.155s-0.030 0.107-0.045 0.163c-0.008 0.028-0.015 0.056-0.024 0.084s-0.019 0.057-0.028 0.086-0.039 0.116-0.058 0.176c-0.005 0.015-0.010 0.030-0.015 0.045s-0.012 0.030-0.017 0.045-0.023 0.060-0.035 0.091-0.048 0.123-0.073 0.186c-0.028 0.062-0.056 0.125-0.084 0.189-0.014 0.032-0.028 0.064-0.043 0.096s-0.032 0.064-0.048 0.096-0.065 0.128-0.098 0.194c-0.034 0.065-0.073 0.129-0.109 0.194-0.018 0.032-0.037 0.065-0.056 0.098s-0.040 0.064-0.061 0.096-0.082 0.129-0.124 0.194c-0.176 0.255-0.369 0.506-0.583 0.744-0.217 0.236-0.451 0.459-0.697 0.665-0.25 0.202-0.511 0.385-0.776 0.547-0.268 0.159-0.541 0.294-0.808 0.41-0.068 0.027-0.135 0.053-0.202 0.079-0.033 0.013-0.066 0.027-0.099 0.038s-0.067 0.022-0.1 0.033-0.131 0.045-0.196 0.065c-0.065 0.018-0.13 0.036-0.194 0.054-0.032 0.009-0.063 0.019-0.095 0.026s-0.063 0.014-0.094 0.021-0.123 0.028-0.184 0.042c-0.061 0.011-0.12 0.021-0.179 0.032-0.029 0.005-0.058 0.010-0.087 0.015-0.014 0.003-0.028 0.005-0.043 0.008s-0.029 0.003-0.043 0.005c-0.056 0.007-0.112 0.014-0.166 0.020-0.027 0.003-0.053 0.007-0.080 0.010s-0.053 0.004-0.078 0.006-0.102 0.007-0.15 0.011c-0.049 0.003-0.095 0.008-0.142 0.008-0.091 0.002-0.177 0.004-0.256 0.006-0.073-0.003-0.14-0.005-0.2-0.007-0.030-0.001-0.058-0.002-0.085-0.002-0.033-0.002-0.064-0.004-0.093-0.006-0.033-0.002-0.063-0.004-0.091-0.006-0.051-0.008-0.103-0.012-0.156-0.012-0.007 0-0.015 0-0.022 0.001-0.002-0-0.003-0-0.003-0v0c-0.484 0.012-0.883 0.369-0.961 0.834-0.050-0.010-0.101-0.025-0.153-0.039s-0.107-0.030-0.163-0.045c-0.028-0.008-0.056-0.015-0.084-0.024s-0.057-0.019-0.086-0.028-0.116-0.039-0.176-0.058c-0.015-0.005-0.030-0.010-0.045-0.015s-0.030-0.012-0.045-0.017-0.060-0.023-0.091-0.035-0.123-0.048-0.186-0.073c-0.062-0.028-0.125-0.056-0.189-0.084-0.032-0.014-0.064-0.028-0.096-0.043s-0.064-0.032-0.096-0.048-0.128-0.065-0.194-0.098c-0.065-0.034-0.129-0.073-0.194-0.109-0.032-0.018-0.065-0.037-0.098-0.056s-0.064-0.040-0.096-0.061c-0.064-0.041-0.129-0.082-0.194-0.124-0.255-0.175-0.506-0.369-0.744-0.583-0.236-0.217-0.459-0.451-0.665-0.697-0.202-0.25-0.385-0.511-0.547-0.776-0.159-0.268-0.294-0.541-0.41-0.808-0.027-0.068-0.053-0.135-0.079-0.202-0.013-0.033-0.027-0.066-0.038-0.099s-0.022-0.067-0.033-0.1-0.045-0.131-0.065-0.196c-0.018-0.065-0.036-0.13-0.054-0.194-0.009-0.032-0.019-0.063-0.026-0.095s-0.014-0.063-0.021-0.094-0.028-0.123-0.042-0.184c-0.011-0.061-0.021-0.12-0.032-0.179-0.005-0.029-0.010-0.058-0.015-0.087-0.003-0.014-0.005-0.028-0.008-0.043s-0.003-0.029-0.005-0.043c-0.007-0.056-0.014-0.112-0.020-0.166-0.003-0.027-0.007-0.053-0.010-0.080s-0.004-0.053-0.006-0.078-0.007-0.101-0.011-0.15c-0.003-0.049-0.008-0.095-0.008-0.142-0.002-0.091-0.004-0.177-0.006-0.256 0.003-0.073 0.005-0.14 0.007-0.2 0.001-0.030 0.002-0.058 0.002-0.085 0.002-0.033 0.004-0.064 0.006-0.093 0.002-0.033 0.004-0.063 0.006-0.091 0.008-0.051 0.012-0.103 0.012-0.156 0-0.007-0-0.015-0.001-0.022 0-0.002 0-0.003 0-0.003h-0c-0.012-0.49-0.377-0.893-0.851-0.964z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.355 0-7.898 3.481-7.998 7.812 0.092-3.779 2.966-6.812 6.498-6.812 3.59 0 6.5 3.134 6.5 7 0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-4.418-3.582-8-8-8zM8 16c4.355 0 7.898-3.481 7.998-7.812-0.092 3.779-2.966 6.812-6.498 6.812-3.59 0-6.5-3.134-6.5-7 0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5c0 4.418 3.582 8 8 8z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zM12.773 12.773c-1.275 1.275-2.97 1.977-4.773 1.977s-3.498-0.702-4.773-1.977-1.977-2.97-1.977-4.773c0-1.803 0.702-3.498 1.977-4.773l1.061 1.061c0 0 0 0 0 0-2.047 2.047-2.047 5.378 0 7.425 0.992 0.992 2.31 1.538 3.712 1.538s2.721-0.546 3.712-1.538c2.047-2.047 2.047-5.378 0-7.425l1.061-1.061c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 8c0-0.19 0.011-0.378 0.032-0.563l-2.89-0.939c-0.092 0.487-0.141 0.989-0.141 1.502 0 2.3 0.971 4.374 2.526 5.833l1.786-2.458c-0.814-0.889-1.312-2.074-1.312-3.375zM13 8c0 1.301-0.497 2.486-1.312 3.375l1.786 2.458c1.555-1.459 2.526-3.533 2.526-5.833 0-0.513-0.049-1.015-0.141-1.502l-2.89 0.939c0.021 0.185 0.032 0.373 0.032 0.563zM9 3.1c1.436 0.292 2.649 1.199 3.351 2.435l2.89-0.939c-1.144-2.428-3.473-4.188-6.241-4.534v3.038zM3.649 5.535c0.702-1.236 1.914-2.143 3.351-2.435v-3.038c-2.769 0.345-5.097 2.105-6.241 4.534l2.89 0.939zM10.071 12.552c-0.631 0.288-1.332 0.448-2.071 0.448s-1.44-0.16-2.071-0.448l-1.786 2.458c1.144 0.631 2.458 0.99 3.857 0.99s2.713-0.359 3.857-0.99l-1.786-2.458z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c-2.137 0-4.146-0.832-5.657-2.343s-2.343-3.52-2.343-5.657c0-1.513 0.425-2.986 1.228-4.261 0.781-1.239 1.885-2.24 3.193-2.895l0.672 1.341c-1.063 0.533-1.961 1.347-2.596 2.354-0.652 1.034-0.997 2.231-0.997 3.461 0 3.584 2.916 6.5 6.5 6.5s6.5-2.916 6.5-6.5c0-1.23-0.345-2.426-0.997-3.461-0.635-1.008-1.533-1.822-2.596-2.354l0.672-1.341c1.308 0.655 2.412 1.656 3.193 2.895 0.803 1.274 1.228 2.748 1.228 4.261 0 2.137-0.832 4.146-2.343 5.657s-3.52 2.343-5.657 2.343z"/></svg>']});var Dc=xe(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.Spinner=uo.spinnerSizeMap=void 0;var jS=at(),_N=(0,jS.__importDefault)(Bt()),sp=(0,jS.__importDefault)(Fe()),SN=PS();uo.spinnerSizeMap={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"};var EN=function(e){var t=e.type,r=t===void 0?1:t,n=e.size,i=n===void 0?"auto":n,o=e.className;return sp.default.createElement("div",{className:(0,_N.default)("overflow-hidden",o,uo.spinnerSizeMap[i])},r==="pulse"?sp.default.createElement("div",{className:"bg-secondary-300 h-full w-full animate-pulse"}):sp.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(SN.spinnersSvg[r-1]),className:"animate-spin h-full w-full"}))};uo.Spinner=EN});var Cc=xe(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.AvatarInner=co.Avatar=void 0;var ap=at(),MS=tr(),vr=(0,ap.__importStar)(Fe()),bN=Ac(),ON=(0,ap.__importDefault)(Bt()),xN={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},TN=Dc(),NN=function(e){var t=e.dataState,r=e.imgSrc,n=e.backgroundColor,i=e.status,o=e.badge,s=e.size,a=e.onClick,f=e.className,d=function(){if(t==="loading"||t==="error")return t==="error"?"Couldn't Load User":t==="loading"?"Loading...":"";if((0,MS.isType)(e.name,"string")||!e.name)return e.name||"";var m=e.name,g=m.first,y=m.last;return"".concat(g," ").concat(y)}();return vr.default.createElement("div",{onClick:a,className:(0,ON.default)(`
            flex relative justify-center items-center
            m-1 mr-2 rounded-full text-white`,xN[s],!(n||t==="loading")&&"bg-secondary-500",t==="loading"&&" overflow-hidden",a&&"cursor-pointer",f),title:t==="error"?"Couldn't Load User":t==="loading"?"Loading...":d,style:{backgroundColor:n}},vr.default.createElement(co.AvatarInner,(0,ap.__assign)({},{dataState:t,imgSrc:r,badge:o,size:s,status:i,name:d})))};co.Avatar=NN;var kN={xs:"text-sm",sm:"text-xl",md:"text-4xl",lg:"text-7xl",xl:"text-9xl"},IN=function(e){if(e.dataState==="loading")return vr.default.createElement(TN.Spinner,{size:"auto",type:"pulse"});if(e.dataState==="error")return vr.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(CN),className:"rounded-full h-full w-full"});var t=e.imgSrc,r=e.status,n=e.badge,i=e.size,o=e.name,s=o===void 0?"":o,a=(0,vr.useState)(t?"loading":"error"),f=a[0],d=a[1],m=(0,MS.isType)(s,"string")?s.substring(0,2):"".concat(s.first[0].toUpperCase()).concat(s.last[0].toUpperCase());return vr.default.createElement(vr.default.Fragment,null,vr.default.createElement(bN.Badge,{size:i,badge:n}),f==="error"?vr.default.createElement("span",{className:kN[i]},m):vr.default.createElement("img",{className:"rounded-full h-full w-full",src:t,onLoad:function(){return d("success")},onError:function(){return d("error")}}),r&&vr.default.createElement(DN,{size:i,status:r}))};co.AvatarInner=IN;var AN={xs:"h-2 w-2",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-12 w-12"},RN={online:"bg-success-500",offline:"bg-danger-500",busy:"bg-warning-500",away:"bg-secondary-500"},DN=function(e){return vr.default.createElement("span",{className:"flex absolute bottom-0 right-0"},e.status==="online"&&vr.default.createElement("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success-400 opacity-75"}),vr.default.createElement("span",{className:"relative inline-flex rounded-full ".concat(RN[e.status]," ").concat(AN[e.size])}))},CN='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"/><path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/></svg>'});var zS=xe(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.AvatarGroup=void 0;var up=at(),lp=(0,up.__importDefault)(Bt()),rl=(0,up.__importDefault)(Fe()),BS=Cc(),US={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},FN=function(e){var t=e.maxShow,r=t===void 0?5:t,n=e.avatars,i=e.size,o=e.onClick;if(r<1)return console.error(`Property "maxShow" can't be less than 1`),null;var s=n.slice(0,r),a=n.length-s.length;return rl.default.createElement("div",{className:(0,lp.default)("flex flex-row-reverse justify-center mt-10",o&&"cursor-pointer",e.className),onClick:o},a>0&&rl.default.createElement("div",{className:(0,lp.default)(`
                flex flex-shrink-0 relative
                bg-secondary-500
                justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 text-xl text-white`,US[i])},rl.default.createElement(BS.AvatarInner,{size:i,dataState:"done",name:"+".concat(a)})),s.map(function(f,d){var m=f.dataState,g=f.backgroundColor,y=f.imgSrc,S=f.name,N=f.status,A={dataState:m,name:S,imgSrc:y,status:N,size:i};return rl.default.createElement("div",{className:(0,lp.default)("flex flex-shrink-0 relative justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 border-white",!(f.backgroundColor||f.dataState==="loading")&&"bg-secondary-500",US[i]),style:{backgroundColor:g},key:d},rl.default.createElement(BS.AvatarInner,(0,up.__assign)({},A)))}))};Fc.AvatarGroup=FN});var Pc=xe(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.Backdrop=void 0;var fp=at(),LN=(0,fp.__importDefault)(Bt()),cp=(0,fp.__importStar)(Fe()),PN=function(e){var t=e.zIndex,r=e.onBackdropClick,n=e.maxOpacity,i=n===void 0?40:n,o=e.transition,s=o===void 0?!0:o,a=e.style,f=e.className,d=(0,cp.useState)(!s),m=d[0],g=d[1];return(0,cp.useEffect)(function(){return!m&&setTimeout(function(){return g(!0)},0)},[m]),cp.default.createElement("div",{className:(0,LN.default)("fixed top-0 left-0 right-0 w-screen h-screen bg-black",s&&"transition-opacity duration-200",f),style:(0,fp.__assign)({zIndex:t,opacity:m?Number((i/100).toFixed(2)):0},a),onClick:r})};Lc.Backdrop=PN});var nl=xe(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.Button=void 0;var jc=at(),jN=(0,jc.__importDefault)(Bt()),hp=(0,jc.__importStar)(Fe()),MN=Ac(),BN={xs:"text-xs p-0.5 px-1",sm:"text-sm p-1 px-2",md:"text-base p-1.5 px-3",lg:"text-lg p-2 px-4",xl:"text-xl p-2.5 px-5",auto:"p-1.5 text-base h-full w-full"},UN={primary:"bg-primary-500",secondary:"bg-secondary-500",success:"bg-success-500",info:"bg-info-500",danger:"bg-danger-500",warning:"bg-warning-500"},zN={primary:"hover:bg-primary-600",secondary:"hover:bg-secondary-600",success:"hover:bg-success-600",info:"hover:bg-info-600",danger:"hover:bg-danger-700",warning:"hover:bg-warning-600"},VN={primary:"border-primary-500 text-primary-500",secondary:"border-secondary-500 text-secondary-500",success:"border-success-500 text-success-500",info:"border-info-500 text-info-500",danger:"border-danger-500 text-danger-500",warning:"border-warning-500 text-warning-500"},qN={xs:"xs",sm:"sm",md:"md",lg:"md",xl:"lg",auto:"md"},WN=function(e){var t=e.size,r=t===void 0?"md":t,n=e.type,i=n===void 0?"secondary":n,o=e.shape,s=o===void 0?"round":o,a=e.outline,f=a===void 0?!1:a,d=e.badge,m=e.className,g=e.disabled,y=e.children,S=e.htmlType,N=S===void 0?"button":S,A=(0,jc.__rest)(e,["size","type","shape","outline","badge","className","disabled","children","htmlType"]),T=(0,hp.useState)(!1),I=T[0],C=T[1];return hp.default.createElement("button",(0,jc.__assign)({type:N,className:(0,jN.default)("relative text-gray-100 font-normal border-2 transition-all",BN[r],f&&!I?VN[i]:UN[i]+" border-transparent",s==="flat"?"rounded-none":"rounded-lg",g&&"opacity-60",!g&&zN[i],m),onMouseEnter:function(){return C(!g)},onMouseLeave:function(){return C(!1)},disabled:g},A),d&&hp.default.createElement(MN.Badge,{size:qN[r],badge:d,className:r==="xs"||r==="sm"?"-top-1.5 -right-1.5":"-top-2 -right-3"}),y)};Mc.Button=WN});var VS=xe(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.Dropdown=void 0;var Bc=at(),$N=tr(),il=(0,Bc.__importDefault)(Bt()),wr=(0,Bc.__importStar)(Fe()),HN=_i(),JN={xs:"w-30",sm:"w-44",md:"w-60",lg:"w-80",xl:"w-96",auto:"w-full"};function GN(e){var t=e.header,r=e.items,n=e.show,i=e.children,o=e.itemBorders,s=e.size,a=s===void 0?"md":s,f=e.className,d=e.align,m=d===void 0?"left":d,g=e.containerClassName,y=(0,wr.useState)(n||!1),S=y[0],N=y[1],A=function(){return setTimeout(function(){return N(!1)},0)},T=(0,wr.useRef)(null);(0,HN.clickOutListener)(T,A);var I=o?r.filter(function(K){return K.type!=="break"}):r,C={onClick:function(){return N(!S)},onBlur:A};return wr.default.createElement("div",(0,Bc.__assign)({className:(0,il.default)("relative",g)},n??C,{ref:T}),i,wr.default.createElement("div",{className:(0,il.default)("animate-slide-down absolute bg-white text-sm list-none divide-gray-100 rounded-sm shadow-md border",!(n??S)&&"hidden",m==="right"&&"right-0 left-auto",JN[a],f)},t&&wr.default.createElement("div",{className:(0,il.default)("cursor-default",o&&"border-b border-secondary-200")},(0,$N.isType)(t,"string")?wr.default.createElement("span",{className:"py-1.5 block text-center text-gray-500 text-base"},t):t),wr.default.createElement("ul",null,I.map(function(K,H,J){var M=J.length;return wr.default.createElement(YN,(0,Bc.__assign)({},K,{border:o,isLast:H===M-1,key:H}))}))))}Uc.Dropdown=GN;var YN=function(e){var t=(0,il.default)(!e.isLast&&e.border&&"border-b border-secondary-200");switch(e.type){case"action":return wr.default.createElement("li",{className:t},wr.default.createElement("a",{className:"hover:bg-gray-100 text-gray-700 cursor-pointer block px-4 py-1.5",onClick:e.onClick},e.title));case"break":return wr.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return wr.default.createElement("li",{className:(0,il.default)("text-gray-600 text-center block py-1 cursor-default",t)},wr.default.createElement("span",{className:"text-xs"},e.title));case"jsx":return wr.default.createElement("li",{className:t},e.element);default:throw console.error(e),new Error("This type of MenuItem is not implemented.")}}});var Ap=xe(Rr=>{"use strict";function KN(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}Object.defineProperty(Rr,"__esModule",{value:!0});var De=KN(Fe()),sl=e=>e.type==="checkbox",_s=e=>e instanceof Date,_r=e=>e==null,rE=e=>typeof e=="object",Ut=e=>!_r(e)&&!Array.isArray(e)&&rE(e)&&!_s(e),nE=e=>Ut(e)&&e.target?sl(e.target)?e.target.checked:e.target.value:e,iE=(e,t)=>[...e].some(r=>(n=>n.substring(0,n.search(/.\d/))||n)(t)===r),al=e=>e.filter(Boolean),it=e=>e===void 0,be=(e,t,r)=>{if(!t||!Ut(e))return r;let n=al(t.split(/[,[\].]+?/)).reduce((i,o)=>_r(i)?i:i[o],e);return it(n)||n===e?it(e[t])?r:e[t]:n},oE="blur",ZN="focusout",XN="change",QN="onBlur",sE="onChange",aE="onSubmit",ek="onTouched",ll="all",tk="max",rk="min",nk="maxLength",ik="minLength",qS="pattern",WS="required",ok="validate",Jc=(e,t)=>{let r=Object.assign({},e);return delete r[t],r},lE=De.default.createContext(null),ul=()=>De.default.useContext(lE),uE=(e,t,r,n=!0)=>{let i={};for(let o in e)Object.defineProperty(i,o,{get:()=>{let s=o;return t[s]!==ll&&(t[s]=!n||ll),r&&(r[s]=!0),e[s]}});return i},Dr=e=>Ut(e)&&!Object.keys(e).length,cE=(e,t,r)=>{let n=Jc(e,"name");return Dr(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(i=>t[i]===(!r||ll))},Cr=e=>Array.isArray(e)?e:[e],fE=(e,t,r)=>r&&t?e===t:!e||!t||e===t||Cr(e).some(n=>n&&(n.startsWith(t)||t.startsWith(n)));function qc(e){let t=De.default.useRef(e);t.current=e,De.default.useEffect(()=>{let r=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>(n=>{n&&n.unsubscribe()})(r)},[e.disabled])}function hE(e){let t=ul(),{control:r=t.control,disabled:n,name:i,exact:o}=e||{},[s,a]=De.default.useState(r._formState),f=De.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=De.default.useRef(i),m=De.default.useRef(!0);return d.current=i,qc({disabled:n,callback:De.default.useCallback(g=>m.current&&fE(d.current,g.name,o)&&cE(g,f.current)&&a(Object.assign(Object.assign({},r._formState),g)),[r,o]),subject:r._subjects.state}),De.default.useEffect(()=>()=>{m.current=!1},[]),uE(s,r._proxyFormState,f.current,!1)}var xn=e=>typeof e=="string",dE=(e,t,r,n)=>{let i=Array.isArray(e);return xn(e)?(n&&t.watch.add(e),be(r,e)):i?e.map(o=>(n&&t.watch.add(o),be(r,o))):(n&&(t.watchAll=!0),r)},Gc=e=>typeof e=="function",Tp=e=>{for(let t in e)if(Gc(e[t]))return!0;return!1};function pE(e){let t=ul(),{control:r=t.control,name:n,defaultValue:i,disabled:o,exact:s}=e||{},a=De.default.useRef(n);a.current=n;let f=De.default.useCallback(g=>{if(fE(a.current,g.name,s)){let y=dE(a.current,r._names,g.values||r._formValues);m(it(a.current)||Ut(y)&&!Tp(y)?Object.assign({},y):Array.isArray(y)?[...y]:it(y)?i:y)}},[r,s,i]);qc({disabled:o,subject:r._subjects.watch,callback:f});let[d,m]=De.default.useState(it(i)?r._getWatch(n):i);return De.default.useEffect(()=>{r._removeUnmounted()}),d}function $S(e){let t=ul(),{name:r,control:n=t.control,shouldUnregister:i}=e,o=iE(n._names.array,r),s=pE({control:n,name:r,defaultValue:be(n._formValues,r,be(n._defaultValues,r,e.defaultValue)),exact:!0}),a=hE({control:n,name:r}),f=De.default.useRef(n.register(r,Object.assign(Object.assign({},e.rules),{value:s})));return De.default.useEffect(()=>{let d=(m,g)=>{let y=be(n._fields,m);y&&(y._f.mount=g)};return d(r,!0),()=>{let m=n._options.shouldUnregister||i;(o?m&&!n._stateFlags.action:m)?n.unregister(r):d(r,!1)}},[r,n,o,i]),{field:{name:r,value:s,onChange:De.default.useCallback(d=>{f.current.onChange({target:{value:nE(d),name:r},type:XN})},[r]),onBlur:De.default.useCallback(()=>{f.current.onBlur({target:{value:be(n._formValues,r),name:r},type:oE})},[r,n]),ref:De.default.useCallback(d=>{let m=be(n._fields,r);d&&m&&d.focus&&(m._f.ref={focus:()=>d.focus(),setCustomValidity:g=>d.setCustomValidity(g),reportValidity:()=>d.reportValidity()})},[r,n._fields])},formState:a,fieldState:n.getFieldState(r,a)}}var yE=(e,t,r,n,i)=>t?Object.assign(Object.assign({},r[e]),{types:Object.assign(Object.assign({},r[e]&&r[e].types?r[e].types:{}),{[n]:i||!0})}):{},Np=e=>/^\w*$/.test(e),mE=e=>al(e.replace(/["|']|\]/g,"").split(/\.|\[/));function ft(e,t,r){let n=-1,i=Np(t)?[t]:mE(t),o=i.length,s=o-1;for(;++n<o;){let a=i[n],f=r;if(n!==s){let d=e[a];f=Ut(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}e[a]=f,e=e[a]}return e}var Wc=(e,t,r)=>{for(let n of r||Object.keys(e)){let i=be(e,n);if(i){let o=i._f,s=Jc(i,"_f");if(o&&t(o.name)){if(o.ref.focus&&it(o.ref.focus()))break;if(o.refs){o.refs[0].focus();break}}else Ut(s)&&Wc(s,t)}}},Si=()=>{let e=typeof performance>"u"?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let r=(16*Math.random()+e)%16|0;return(t=="x"?r:3&r|8).toString(16)})},dp=(e,t,r={})=>r.shouldFocus||it(r.shouldFocus)?r.focusName||`${e}.${it(r.focusIndex)?t:r.focusIndex}.`:"",Op=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));function pp(e,t){return[...e,...Cr(t)]}function On(e){let t,r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(!r&&!Ut(e))return e;t=r?[]:{};for(let n in e){if(Gc(e[n])){t=e;break}t[n]=On(e[n])}}return t}var yp=e=>Array.isArray(e)?e.map(()=>{}):void 0;function mp(e,t,r){return[...e.slice(0,t),...Cr(r),...e.slice(t)]}var gp=(e,t,r)=>Array.isArray(e)?(it(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[];function vp(e,t){return[...Cr(t),...Cr(e)]}var wp=(e,t)=>it(t)?[]:function(r,n){let i=0,o=[...r];for(let s of n)o.splice(s-i,1),i++;return al(o).length?o:[]}(e,Cr(t).sort((r,n)=>r-n)),_p=(e,t,r)=>{e[t]=[e[r],e[r]=e[t]][0]},HS=(e,t,r)=>(e[t]=r,e);function Sp(){let e=[];return{get observers(){return e},next:t=>{for(let r of e)r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(r=>r!==t)}}),unsubscribe:()=>{e=[]}}}var $c=e=>_r(e)||!rE(e);function Ss(e,t){if($c(e)||$c(t))return e===t;if(_s(e)&&_s(t))return e.getTime()===t.getTime();let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i of r){let o=e[i];if(!n.includes(i))return!1;if(i!=="ref"){let s=t[i];if(_s(o)&&_s(s)||Ut(o)&&Ut(s)||Array.isArray(o)&&Array.isArray(s)?!Ss(o,s):o!==s)return!1}}return!0}var JS=e=>({isOnSubmit:!e||e===aE,isOnBlur:e===QN,isOnChange:e===sE,isOnAll:e===ll,isOnTouch:e===ek}),cl=e=>typeof e=="boolean",kp=e=>e.type==="file",xp=e=>e instanceof HTMLElement,gE=e=>e.type==="select-multiple",Ip=e=>e.type==="radio",GS=typeof window<"u"&&window.HTMLElement!==void 0&&typeof document<"u",Ep=e=>xp(e)&&e.isConnected;function or(e,t){let r=Np(t)?[t]:mE(t),n=r.length==1?e:function(s,a){let f=a.slice(0,-1).length,d=0;for(;d<f;)s=it(s)?d++:s[a[d++]];return s}(e,r),i=r[r.length-1],o;n&&delete n[i];for(let s=0;s<r.slice(0,-1).length;s++){let a,f=-1,d=r.slice(0,-(s+1)),m=d.length-1;for(s>0&&(o=e);++f<d.length;){let g=d[f];a=a?a[g]:e[g],m===f&&(Ut(a)&&Dr(a)||Array.isArray(a)&&!a.filter(y=>Ut(y)&&!Dr(y)||cl(y)||Array.isArray(y)&&y.length).length)&&(o?delete o[g]:delete e[g]),o=a}}return e}function zc(e,t={}){let r=Array.isArray(e);if(Ut(e)||r)for(let n in e)Array.isArray(e[n])||Ut(e[n])&&!Tp(e[n])?(t[n]=Array.isArray(e[n])?[]:{},zc(e[n],t[n])):_r(e[n])||(t[n]=!0);return t}var YS=(e,t)=>function r(n,i,o){let s=Array.isArray(n);if(Ut(n)||s)for(let a in n)Array.isArray(n[a])||Ut(n[a])&&!Tp(n[a])?it(i)||$c(o[a])?o[a]=Array.isArray(n[a])?zc(n[a],[]):Object.assign({},zc(n[a])):r(n[a],_r(i)?{}:i[a],o[a]):o[a]=!Ss(n[a],i[a]);return o}(e,t,zc(t)),KS={value:!1,isValid:!1},ZS={value:!0,isValid:!0},vE=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!it(e[0].attributes.value)?it(e[0].value)||e[0].value===""?ZS:{value:e[0].value,isValid:!0}:ZS:KS}return KS},wE=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>it(e)?e:t?e===""?NaN:+e:r&&xn(e)?new Date(e):n?n(e):e,XS={isValid:!1,value:null},_E=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,XS):XS;function bp(e){let t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return kp(t)?t.files:Ip(t)?_E(e.refs).value:gE(t)?[...t.selectedOptions].map(({value:r})=>r):sl(t)?vE(e.refs).value:wE(it(t.value)?e.ref.value:t.value,e)}var Hc=e=>e instanceof RegExp,ol=e=>it(e)?void 0:Hc(e)?e.source:Ut(e)?Hc(e.value)?e.value.source:e.value:e;function QS(e,t,r){let n=be(e,r);if(n||Np(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),s=be(t,o),a=be(e,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:r}}var Vc=e=>xn(e)||De.default.isValidElement(e);function eE(e,t,r="validate"){if(Vc(e)||Array.isArray(e)&&e.every(Vc)||cl(e)&&!e)return{type:r,message:Vc(e)?e:"",ref:t}}var ws=e=>Ut(e)&&!Hc(e)?e:{value:e,message:""},tE=async(e,t,r,n)=>{let{ref:i,refs:o,required:s,maxLength:a,minLength:f,min:d,max:m,pattern:g,validate:y,name:S,valueAsNumber:N,mount:A,disabled:T}=e._f;if(!A||T)return{};let I=o?o[0]:i,C=te=>{n&&I.reportValidity&&(I.setCustomValidity(cl(te)?"":te||" "),I.reportValidity())},K={},H=Ip(i),J=sl(i),M=H||J,V=(N||kp(i))&&!i.value||t===""||Array.isArray(t)&&!t.length,_=yE.bind(null,S,r,K),q=(te,X,le,se=nk,ye=ik)=>{let P=te?X:le;K[S]=Object.assign({type:te?se:ye,message:P,ref:i},_(te?se:ye,P))};if(s&&(!M&&(V||_r(t))||cl(t)&&!t||J&&!vE(o).isValid||H&&!_E(o).isValid)){let{value:te,message:X}=Vc(s)?{value:!!s,message:s}:ws(s);if(te&&(K[S]=Object.assign({type:WS,message:X,ref:I},_(WS,X)),!r))return C(X),K}if(!(V||_r(d)&&_r(m))){let te,X,le=ws(m),se=ws(d);if(isNaN(t)){let ye=i.valueAsDate||new Date(t);xn(le.value)&&(te=ye>new Date(le.value)),xn(se.value)&&(X=ye<new Date(se.value))}else{let ye=i.valueAsNumber||+t;_r(le.value)||(te=ye>le.value),_r(se.value)||(X=ye<se.value)}if((te||X)&&(q(!!te,le.message,se.message,tk,rk),!r))return C(K[S].message),K}if((a||f)&&!V&&xn(t)){let te=ws(a),X=ws(f),le=!_r(te.value)&&t.length>te.value,se=!_r(X.value)&&t.length<X.value;if((le||se)&&(q(le,te.message,X.message),!r))return C(K[S].message),K}if(g&&!V&&xn(t)){let{value:te,message:X}=ws(g);if(Hc(te)&&!t.match(te)&&(K[S]=Object.assign({type:qS,message:X,ref:i},_(qS,X)),!r))return C(X),K}if(y){if(Gc(y)){let te=eE(await y(t),I);if(te&&(K[S]=Object.assign(Object.assign({},te),_(ok,te.message)),!r))return C(te.message),K}else if(Ut(y)){let te={};for(let X in y){if(!Dr(te)&&!r)break;let le=eE(await y[X](t),I,X);le&&(te=Object.assign(Object.assign({},le),_(X,le.message)),C(le.message),r&&(K[S]=te))}if(!Dr(te)&&(K[S]=Object.assign({ref:I},te),!r))return K}}return C(!0),K},sk={mode:aE,reValidateMode:sE,shouldFocusError:!0};function ak(e={}){let t,r=Object.assign(Object.assign({},sk),e),n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},o=r.defaultValues||{},s=r.shouldUnregister?{}:On(o),a={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d=0,m={},g={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:Sp(),array:Sp(),state:Sp()},S=JS(r.mode),N=JS(r.reValidateMode),A=r.criteriaMode===ll,T=async U=>{let z=!1;return g.isValid&&(z=r.resolver?Dr((await J()).errors):await M(i,!0),U||z===n.isValid||(n.isValid=z,y.state.next({isValid:z}))),z},I=(U,z)=>(ft(n.errors,U,z),y.state.next({errors:n.errors})),C=(U,z,G,ue)=>{let ie=be(i,U);if(ie){let re=be(s,U,it(G)?be(o,U):G);it(re)||ue&&ue.defaultChecked||z?ft(s,U,z?re:bp(ie._f)):q(U,re),a.mount&&T()}},K=(U,z,G,ue,ie)=>{let re=!1,oe={name:U},pe=be(n.touchedFields,U);if(g.isDirty){let Ee=n.isDirty;n.isDirty=oe.isDirty=V(),re=Ee!==oe.isDirty}if(g.dirtyFields&&(!G||ue)){let Ee=be(n.dirtyFields,U);Ss(be(o,U),z)?or(n.dirtyFields,U):ft(n.dirtyFields,U,!0),oe.dirtyFields=n.dirtyFields,re=re||Ee!==be(n.dirtyFields,U)}return G&&!pe&&(ft(n.touchedFields,U,G),oe.touchedFields=n.touchedFields,re=re||g.touchedFields&&pe!==G),re&&ie&&y.state.next(oe),re?oe:{}},H=async(U,z,G,ue,ie)=>{let re=be(n.errors,z),oe=g.isValid&&n.isValid!==G;var pe,Ee;if(e.delayError&&ue?(t=t||(pe=I,Ee=e.delayError,(...Ie)=>{clearTimeout(d),d=window.setTimeout(()=>pe(...Ie),Ee)}),t(z,ue)):(clearTimeout(d),ue?ft(n.errors,z,ue):or(n.errors,z)),((ue?!Ss(re,ue):re)||!Dr(ie)||oe)&&!U){let Ie=Object.assign(Object.assign(Object.assign({},ie),oe?{isValid:G}:{}),{errors:n.errors,name:z});n=Object.assign(Object.assign({},n),Ie),y.state.next(Ie)}m[z]--,g.isValidating&&!Object.values(m).some(Ie=>Ie)&&(y.state.next({isValidating:!1}),m={})},J=async U=>r.resolver?await r.resolver(Object.assign({},s),r.context,((z,G,ue,ie)=>{let re={};for(let oe of z){let pe=be(G,oe);pe&&ft(re,oe,pe._f)}return{criteriaMode:ue,names:[...z],fields:re,shouldUseNativeValidation:ie}})(U||f.mount,i,r.criteriaMode,r.shouldUseNativeValidation)):{},M=async(U,z,G={valid:!0})=>{for(let ue in U){let ie=U[ue];if(ie){let re=ie._f,oe=Jc(ie,"_f");if(re){let pe=await tE(ie,be(s,re.name),A,r.shouldUseNativeValidation);if(pe[re.name]&&(G.valid=!1,z))break;z||(pe[re.name]?ft(n.errors,re.name,pe[re.name]):or(n.errors,re.name))}oe&&await M(oe,z,G)}}return G.valid},V=(U,z)=>(U&&z&&ft(s,U,z),!Ss(ye(),o)),_=(U,z,G)=>{let ue=Object.assign({},a.mount?s:it(z)?o:xn(U)?{[U]:z}:z);return dE(U,f,ue,G)},q=(U,z,G={})=>{let ue=be(i,U),ie=z;if(ue){let re=ue._f;re&&(!re.disabled&&ft(s,U,wE(z,re)),ie=GS&&xp(re.ref)&&_r(z)?"":z,gE(re.ref)?[...re.ref.options].forEach(oe=>oe.selected=ie.includes(oe.value)):re.refs?sl(re.ref)?re.refs.length>1?re.refs.forEach(oe=>oe.checked=Array.isArray(ie)?!!ie.find(pe=>pe===oe.value):ie===oe.value):re.refs[0]&&(re.refs[0].checked=!!ie):re.refs.forEach(oe=>oe.checked=oe.value===ie):kp(re.ref)?re.ref.value="":(re.ref.value=ie,re.ref.type||y.watch.next({name:U})))}(G.shouldDirty||G.shouldTouch)&&K(U,ie,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&se(U)},te=(U,z,G)=>{for(let ue in z){let ie=z[ue],re=`${U}.${ue}`,oe=be(i,re);!f.array.has(U)&&$c(ie)&&(!oe||oe._f)||_s(ie)?q(re,ie,G):te(re,ie,G)}},X=(U,z,G={})=>{let ue=be(i,U),ie=f.array.has(U),re=On(z);ft(s,U,re),ie?(y.array.next({name:U,values:s}),(g.isDirty||g.dirtyFields)&&G.shouldDirty&&(n.dirtyFields=YS(o,s),y.state.next({name:U,dirtyFields:n.dirtyFields,isDirty:V(U,re)}))):!ue||ue._f||_r(re)?q(U,re,G):te(U,re,G),Op(U,f)&&y.state.next({}),y.watch.next({name:U})},le=async U=>{let z=U.target,G=z.name,ue=be(i,G);if(ue){let re,oe,pe=z.type?bp(ue._f):nE(U),Ee=U.type===oE||U.type===ZN,Ie=!((ie=ue._f).mount&&(ie.required||ie.min||ie.max||ie.maxLength||ie.minLength||ie.pattern||ie.validate)||r.resolver||be(n.errors,G)||ue._f.deps)||(($,Z,Y,_e,F)=>!F.isOnAll&&(!Y&&F.isOnTouch?!(Z||$):(Y?_e.isOnBlur:F.isOnBlur)?!$:!(Y?_e.isOnChange:F.isOnChange)||$))(Ee,be(n.touchedFields,G),n.isSubmitted,N,S),b=Op(G,f,Ee);ft(s,G,pe),Ee?ue._f.onBlur&&ue._f.onBlur(U):ue._f.onChange&&ue._f.onChange(U);let R=K(G,pe,Ee,!1),j=!Dr(R)||b;if(!Ee&&y.watch.next({name:G,type:U.type}),Ie)return j&&y.state.next(Object.assign({name:G},b?{}:R));if(!Ee&&b&&y.state.next({}),m[G]=(m[G],1),y.state.next({isValidating:!0}),r.resolver){let{errors:$}=await J([G]),Z=QS(n.errors,i,G),Y=QS($,i,Z.name||G);re=Y.error,G=Y.name,oe=Dr($)}else re=(await tE(ue,be(s,G),A,r.shouldUseNativeValidation))[G],oe=await T(!0);ue._f.deps&&se(ue._f.deps),H(!1,G,oe,re,R)}var ie},se=async(U,z={})=>{let G,ue,ie=Cr(U);if(y.state.next({isValidating:!0}),r.resolver){let re=await(async oe=>{let{errors:pe}=await J();if(oe)for(let Ee of oe){let Ie=be(pe,Ee);Ie?ft(n.errors,Ee,Ie):or(n.errors,Ee)}else n.errors=pe;return pe})(it(U)?U:ie);G=Dr(re),ue=U?!ie.some(oe=>be(re,oe)):G}else U?(ue=(await Promise.all(ie.map(async re=>{let oe=be(i,re);return await M(oe&&oe._f?{[re]:oe}:oe)}))).every(Boolean),(ue||n.isValid)&&T()):ue=G=await M(i);return y.state.next(Object.assign(Object.assign(Object.assign({},!xn(U)||g.isValid&&G!==n.isValid?{}:{name:U}),r.resolver?{isValid:G}:{}),{errors:n.errors,isValidating:!1})),z.shouldFocus&&!ue&&Wc(i,re=>be(n.errors,re),U?ie:f.mount),ue},ye=U=>{let z=Object.assign(Object.assign({},o),a.mount?s:{});return it(U)?z:xn(U)?be(z,U):U.map(G=>be(z,G))},P=(U,z)=>({invalid:!!be((z||n).errors,U),isDirty:!!be((z||n).dirtyFields,U),isTouched:!!be((z||n).touchedFields,U),error:be((z||n).errors,U)}),D=(U,z={})=>{for(let G of U?Cr(U):f.mount)f.mount.delete(G),f.array.delete(G),be(i,G)&&(z.keepValue||(or(i,G),or(s,G)),!z.keepError&&or(n.errors,G),!z.keepDirty&&or(n.dirtyFields,G),!z.keepTouched&&or(n.touchedFields,G),!r.shouldUnregister&&!z.keepDefaultValue&&or(o,G));y.watch.next({}),y.state.next(Object.assign(Object.assign({},n),z.keepDirty?{isDirty:V()}:{})),!z.keepIsValid&&T()},ne=(U,z={})=>{let G=be(i,U),ue=cl(z.disabled);return ft(i,U,{_f:Object.assign(Object.assign(Object.assign({},G&&G._f?G._f:{ref:{name:U}}),{name:U,mount:!0}),z)}),f.mount.add(U),G?ue&&ft(s,U,z.disabled?void 0:be(s,U,bp(G._f))):C(U,!0,z.value),Object.assign(Object.assign(Object.assign({},ue?{disabled:z.disabled}:{}),r.shouldUseNativeValidation?{required:!!z.required,min:ol(z.min),max:ol(z.max),minLength:ol(z.minLength),maxLength:ol(z.maxLength),pattern:ol(z.pattern)}:{}),{name:U,onChange:le,onBlur:le,ref:ie=>{if(ie){ne(U,z),G=be(i,U);let re=it(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,oe=(Ee=>Ip(Ee)||sl(Ee))(re),pe=G._f.refs||[];if(oe?pe.find(Ee=>Ee===re):re===G._f.ref)return;ft(i,U,{_f:Object.assign(Object.assign({},G._f),oe?{refs:pe.concat(re).filter(Ep),ref:{type:re.type,name:U}}:{ref:re})}),C(U,!1,void 0,re)}else G=be(i,U,{}),G._f&&(G._f.mount=!1),(r.shouldUnregister||z.shouldUnregister)&&(!iE(f.array,U)||!a.action)&&f.unMount.add(U)}})};return{control:{register:ne,unregister:D,getFieldState:P,_executeSchema:J,_getWatch:_,_getDirty:V,_updateValid:T,_removeUnmounted:()=>{for(let U of f.unMount){let z=be(i,U);z&&(z._f.refs?z._f.refs.every(G=>!Ep(G)):!Ep(z._f.ref))&&D(U)}f.unMount=new Set},_updateFieldArray:(U,z=[],G,ue,ie=!0,re=!0)=>{if(ue&&G){if(a.action=!0,re&&Array.isArray(be(i,U))){let oe=G(be(i,U),ue.argA,ue.argB);ie&&ft(i,U,oe)}if(g.errors&&re&&Array.isArray(be(n.errors,U))){let oe=G(be(n.errors,U),ue.argA,ue.argB);ie&&ft(n.errors,U,oe),((pe,Ee)=>{!al(be(pe,Ee)).length&&or(pe,Ee)})(n.errors,U)}if(g.touchedFields&&Array.isArray(be(n.touchedFields,U))){let oe=G(be(n.touchedFields,U),ue.argA,ue.argB);ie&&ft(n.touchedFields,U,oe)}g.dirtyFields&&(n.dirtyFields=YS(o,s)),y.state.next({isDirty:V(U,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ft(s,U,z)},_getFieldArray:U=>al(be(a.mount?s:o,U,e.shouldUnregister?be(o,U,[]):[])),_subjects:y,_proxyFormState:g,get _fields(){return i},get _formValues(){return s},get _stateFlags(){return a},set _stateFlags(U){a=U},get _defaultValues(){return o},get _names(){return f},set _names(U){f=U},get _formState(){return n},set _formState(U){n=U},get _options(){return r},set _options(U){r=Object.assign(Object.assign({},r),U)}},trigger:se,register:ne,handleSubmit:(U,z)=>async G=>{G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let ue=!0,ie=On(s);y.state.next({isSubmitting:!0});try{if(r.resolver){let{errors:re,values:oe}=await J();n.errors=re,ie=oe}else await M(i);Dr(n.errors)&&Object.keys(n.errors).every(re=>be(ie,re))?(y.state.next({errors:{},isSubmitting:!0}),await U(ie,G)):(z&&await z(Object.assign({},n.errors),G),r.shouldFocusError&&Wc(i,re=>be(n.errors,re),f.mount))}catch(re){throw ue=!1,re}finally{n.isSubmitted=!0,y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dr(n.errors)&&ue,submitCount:n.submitCount+1,errors:n.errors})}},watch:(U,z)=>Gc(U)?y.watch.subscribe({next:G=>U(_(void 0,z),G)}):_(U,z,!0),setValue:X,getValues:ye,reset:(U,z={})=>{let G=U||o,ue=On(G),ie=U&&!Dr(U)?ue:o;if(z.keepDefaultValues||(o=G),!z.keepValues){if(GS&&it(U))for(let re of f.mount){let oe=be(i,re);if(oe&&oe._f){let pe=Array.isArray(oe._f.refs)?oe._f.refs[0]:oe._f.ref;try{xp(pe)&&pe.closest("form").reset();break}catch{}}}s=e.shouldUnregister?z.keepDefaultValues?On(o):{}:ue,i={},y.array.next({values:ie}),y.watch.next({values:ie})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!g.isValid||!!z.keepIsValid,a.watch=!!e.shouldUnregister,y.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:z.keepDirty?n.isDirty:!!z.keepDefaultValues&&!Ss(U,o),isSubmitted:!!z.keepIsSubmitted&&n.isSubmitted,dirtyFields:z.keepDirty?n.dirtyFields:z.keepDefaultValues&&U?Object.entries(U).reduce((re,[oe,pe])=>Object.assign(Object.assign({},re),{[oe]:pe!==be(o,oe)}),{}):{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(U,z={})=>{be(i,U)&&(it(z.defaultValue)?X(U,be(o,U)):(X(U,z.defaultValue),ft(o,U,z.defaultValue)),z.keepTouched||or(n.touchedFields,U),z.keepDirty||(or(n.dirtyFields,U),n.isDirty=z.defaultValue?V(U,be(o,U)):V()),z.keepError||(or(n.errors,U),g.isValid&&T()),y.state.next(Object.assign({},n)))},clearErrors:U=>{U?Cr(U).forEach(z=>or(n.errors,z)):n.errors={},y.state.next({errors:n.errors})},unregister:D,setError:(U,z,G)=>{let ue=(be(i,U,{_f:{}})._f||{}).ref;ft(n.errors,U,Object.assign(Object.assign({},z),{ref:ue})),y.state.next({name:U,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&ue&&ue.focus&&ue.focus()},setFocus:(U,z={})=>{let G=be(i,U)._f,ue=G.refs?G.refs[0]:G.ref;z.shouldSelect?ue.select():ue.focus()},getFieldState:P}}Rr.Controller=e=>e.render($S(e)),Rr.FormProvider=e=>De.default.createElement(lE.Provider,{value:Jc(e,"children")},e.children),Rr.appendErrors=yE,Rr.get=be,Rr.set=ft,Rr.useController=$S,Rr.useFieldArray=function(e){let t=ul(),{control:r=t.control,name:n,keyName:i="id",shouldUnregister:o}=e,[s,a]=De.default.useState(r._getFieldArray(n)),f=De.default.useRef(r._getFieldArray(n).map(Si)),d=De.default.useRef(s),m=De.default.useRef(n),g=De.default.useRef(!1);m.current=n,d.current=s,r._names.array.add(n),qc({callback:De.default.useCallback(({values:S,name:N})=>{if(N===m.current||!N){let A=be(S,m.current,[]);a(A),f.current=A.map(Si)}},[]),subject:r._subjects.array});let y=De.default.useCallback(S=>{g.current=!0,r._updateFieldArray(n,S)},[r,n]);return De.default.useEffect(()=>{r._stateFlags.action=!1,Op(n,r._names)&&r._subjects.state.next({}),g.current&&r._executeSchema([n]).then(S=>{let N=be(S.errors,n);N&&N.type&&!be(r._formState.errors,n)&&(ft(r._formState.errors,n,N),r._subjects.state.next({errors:r._formState.errors}))}),r._subjects.watch.next({name:n,values:r._formValues}),r._names.focus&&Wc(r._fields,S=>S.startsWith(r._names.focus)),r._names.focus="",r._proxyFormState.isValid&&r._updateValid()},[s,n,r]),De.default.useEffect(()=>(!be(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||o)&&r.unregister(n)}),[n,r,i,o]),{swap:De.default.useCallback((S,N)=>{let A=r._getFieldArray(n);_p(A,S,N),_p(f.current,S,N),y(A),a(A),r._updateFieldArray(n,A,_p,{argA:S,argB:N},!1)},[y,n,r]),move:De.default.useCallback((S,N)=>{let A=r._getFieldArray(n);gp(A,S,N),gp(f.current,S,N),y(A),a(A),r._updateFieldArray(n,A,gp,{argA:S,argB:N},!1)},[y,n,r]),prepend:De.default.useCallback((S,N)=>{let A=Cr(On(S)),T=vp(r._getFieldArray(n),A);r._names.focus=dp(n,0,N),f.current=vp(f.current,A.map(Si)),y(T),a(T),r._updateFieldArray(n,T,vp,{argA:yp(S)})},[y,n,r]),append:De.default.useCallback((S,N)=>{let A=Cr(On(S)),T=pp(r._getFieldArray(n),A);r._names.focus=dp(n,T.length-1,N),f.current=pp(f.current,A.map(Si)),y(T),a(T),r._updateFieldArray(n,T,pp,{argA:yp(S)})},[y,n,r]),remove:De.default.useCallback(S=>{let N=wp(r._getFieldArray(n),S);f.current=wp(f.current,S),y(N),a(N),r._updateFieldArray(n,N,wp,{argA:S})},[y,n,r]),insert:De.default.useCallback((S,N,A)=>{let T=Cr(On(N)),I=mp(r._getFieldArray(n),S,T);r._names.focus=dp(n,S,A),f.current=mp(f.current,S,T.map(Si)),y(I),a(I),r._updateFieldArray(n,I,mp,{argA:S,argB:yp(N)})},[y,n,r]),update:De.default.useCallback((S,N)=>{let A=HS(r._getFieldArray(n),S,N);f.current=[...A].map((T,I)=>T&&I!==S?f.current[I]:Si()),y(A),a([...A]),r._updateFieldArray(n,A,HS,{argA:S,argB:N},!0,!1)},[y,n,r]),replace:De.default.useCallback(S=>{let N=Cr(On(S));f.current=N.map(Si),y([...N]),a([...N]),r._updateFieldArray(n,[...N],A=>A,{},!0,!1)},[y,n,r]),fields:De.default.useMemo(()=>s.map((S,N)=>Object.assign(Object.assign({},S),{[i]:f.current[N]||Si()})),[s,i])}},Rr.useForm=function(e={}){let t=De.default.useRef(),[r,n]=De.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._options=e:t.current=Object.assign(Object.assign({},ak(e)),{formState:r});let i=t.current.control,o=De.default.useCallback(s=>{cE(s,i._proxyFormState,!0)&&(i._formState=Object.assign(Object.assign({},i._formState),s),n(Object.assign({},i._formState)))},[i]);return qc({subject:i._subjects.state,callback:o}),De.default.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),t.current.formState=uE(r,i._proxyFormState),t.current},Rr.useFormContext=ul,Rr.useFormState=hE,Rr.useWatch=pE});var Zc=xe(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.TextInput=void 0;var fl=at(),Es=(0,fl.__importDefault)(Fe()),Yc=(0,fl.__importDefault)(Bt()),lk=nl(),uk=_i(),ck=function(e){var t=e.validation,r=t===void 0?"default":t,n=e.className,i=e.label,o=e.labelType,s=o===void 0?"default":o,a=e.inputClassName,f=e.button,d=e.register,m=(0,fl.__rest)(e,["validation","className","label","labelType","inputClassName","button","register"]),g=i&&s,y=Es.default.createElement("input",(0,fl.__assign)({alt:i},m,{className:(0,Yc.default)("px-3 py-1.5 outline-0 border w-full",uk.TextInputBorderMap[r],m.disabled&&"bg-secondary-200",g!=="addon"&&"rounded-l-sm",!f&&"rounded-r",i||f?a:n)},d));return i||f?Es.default.createElement("div",{className:(0,Yc.default)("flex",g==="default"?"flex-col":"flex-row",n)},i&&Es.default.createElement("div",{className:(0,Yc.default)("flex",g==="default"&&"pb-2",g==="row:1/3"&&"w-1/3",g==="row:1/4"&&"w-1/4",g==="row:2/5"&&"w-2/5",g==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},Es.default.createElement("span",{className:(0,Yc.default)(g!=="default"&&"m-auto")},i)),f?Es.default.createElement("div",{className:"flex flex-row w-full"},y,Es.default.createElement(lk.Button,(0,fl.__assign)({shape:"flat",className:"rounded-r-sm"},f),f.label)):y):y};Kc.TextInput=ck});var OE=xe(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.Login=void 0;var Rp=at(),SE=(0,Rp.__importDefault)(Bt()),Nt=(0,Rp.__importDefault)(Fe()),fk=Ap(),EE=Zc(),hk=_i(),bE=nl(),dk=Dc();function pk(e){var t=e.onLoginClick,r=e.companyName,n=e.onSignUpClick,i=e.isLoading,o=e.useRegularLogin,s=e.thirdPartyLogins,a=e.className,f=e.style,d=(0,fk.useForm)(),m=d.register,g=d.handleSubmit,y=d.formState,S=d.reset,N=d.setValue,A=y.errors,T=y.submitCount,I=function(M){S(),N("email",M.email),N("password",M.password),t==null||t(M)},C="rounded-md text-sm font-medium",K="py-2.5 pl-3 text-base font-semibold "+(i?"bg-gray-200":"bg-gray-50"),H=T>0&&A.email,J=T>0&&A.password;return Nt.default.createElement("form",{className:(0,SE.default)("bg-white rounded max-w-lg w-full p-10",a),style:f,onSubmit:g(I)},Nt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",r||"your account"),n&&Nt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",Nt.default.createElement("a",{onClick:i?void 0:n,className:(0,SE.default)(`
                    hover:text-gray-500 focus:text-gray-500 focus:outline-none
                    focus:underline hover:underline text-sm font-medium leading-none
                    text-gray-800`,i?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),Nt.default.createElement("div",{className:"mt-4"}),s==null?void 0:s.map(function(M,V){return Nt.default.createElement(yk,(0,Rp.__assign)({},M,{disabled:i,key:V}))}),s&&o&&Nt.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},Nt.default.createElement("hr",{className:"w-full bg-gray-400"}),Nt.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),Nt.default.createElement("hr",{className:"w-full bg-gray-400"})),o&&Nt.default.createElement(Nt.default.Fragment,null,Nt.default.createElement(EE.TextInput,{label:"Email",className:C,inputClassName:K,disabled:i,validation:H?"danger":"default",register:m("email",{required:!0,pattern:hk.regexpUtil.email})}),Nt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",H?"Please enter a valid email":""),Nt.default.createElement(EE.TextInput,{label:"Password",type:"password",className:C,inputClassName:K,disabled:i,validation:H?"danger":"default",register:m("password",{required:!0})}),Nt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",J?"Please enter your password":""),Nt.default.createElement("div",{className:"mt-6"},Nt.default.createElement(bE.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:i,htmlType:"submit"},i?Nt.default.createElement(dk.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))}Xc.Login=pk;var yk=function(e){var t=e.disabled,r=e.name,n=e.logo,i=e.onClick;return Nt.default.createElement(bE.Button,{size:"auto",outline:!0,type:"secondary",disabled:t,onClick:i,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,Nt.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var xE=xe(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.Modal=void 0;var Qc=at(),mk=tr(),gk=(0,Qc.__importDefault)(Bt()),un=(0,Qc.__importDefault)(Fe()),vk=Pc();function wk(e){var t=e.zIndex,r=t===void 0?1004:t,n=e.className,i=e.style,o=e.header,s=e.onClose,a=e.onBackdropClick,f=e.children;return un.default.createElement(un.default.Fragment,null,un.default.createElement(vk.Backdrop,(0,Qc.__assign)({},{zIndex:r-1,onBackdropClick:a,transition:!1})),un.default.createElement("div",{className:(0,gk.default)("fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2","border border-secondary-300 shadow-lg bg-white w-11/12 md:max-w-md mx-auto rounded overflow-y-auto",n),style:(0,Qc.__assign)({zIndex:r},i)},un.default.createElement("div",{className:"relative"},un.default.createElement("div",{className:"cursor-pointer absolute top-3.5 right-3.5",onClick:s},un.default.createElement("svg",{className:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 18 18"},un.default.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}))),un.default.createElement("div",{className:"py-4 px-6"},o&&un.default.createElement("div",{className:"pb-3"},(0,mk.isType)(o,"string")?un.default.createElement("p",{className:"text-2xl font-bold"},o):o),f))))}ef.Modal=wk});var TE=xe(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.SquareGrid=void 0;var Dp=at(),cn=(0,Dp.__importStar)(Fe()),_k=tr(),Sk=function(e){(0,Dp.__extends)(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={sizeBy:"vw"},r.componentDidMount=function(){var n=function(){var i=window.innerHeight>window.innerWidth?"vw":"vh";i!==r.state.sizeBy&&r.setState({sizeBy:i})};n(),r.resizeRef=Ok(n)},r.componentWillUnmount=function(){var n;return(n=r.resizeRef)===null||n===void 0?void 0:n.stop()},r.render=function(){var n=r.props,i=r.state,o="85"+i.sizeBy;return cn.default.createElement("div",{className:"border flex flex-col",style:{height:o,width:o}},cn.default.createElement(Ek,{items:n.items}))},r}return t}(cn.Component);tf.SquareGrid=Sk;function Ek(e){var t=(0,cn.useState)("0"),r=t[0],n=t[1],i=(0,cn.useState)([]),o=i[0],s=i[1];return(0,cn.useEffect)(function(){var a=e.items.length,f=Math.ceil(Math.sqrt(a)),d=(0,_k.arrDivide)(e.items,a/f);s(d),n((100/d.length).toFixed(5)+"%")},[e.items]),cn.default.createElement(cn.default.Fragment,null,o.map(function(a,f){return cn.default.createElement("div",{className:"flex flex-row",style:{height:r},key:f},a.map(function(d,m){return cn.default.createElement(bk,(0,Dp.__assign)({},{children:d,size:r},{key:m}))}))}))}function bk(e){var t=e.children,r=e.size;return cn.default.createElement("div",{style:{width:r},className:"h-full m-auto"},t)}function Ok(e){return addEventListener("resize",e),{stop:function(){return removeEventListener("resize",e)}}}});var NE=xe(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.Radio=void 0;var Fp=at(),Cp=(0,Fp.__importDefault)(Fe()),xk=function(e){var t=e.label,r=e.disabled,n=(0,Fp.__rest)(e,["label","disabled"]);return Cp.default.createElement("label",{className:"inline-flex items-center"},Cp.default.createElement("input",(0,Fp.__assign)({type:"radio",name:"vehicle",className:"h-5 w-5 text-red-600",disabled:r},n)),t&&Cp.default.createElement("span",{className:"ml-2 text-gray-700"},t))};rf.Radio=xk});var kE=xe(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.TextArea=void 0;var sf=at(),nf=(0,sf.__importDefault)(Fe()),Tk=_i(),of=(0,sf.__importDefault)(Bt());function Nk(e){var t=e.validation,r=t===void 0?"default":t,n=e.className,i=e.label,o=e.labelType,s=o===void 0?"default":o,a=e.inputClassName,f=e.register,d=(0,sf.__rest)(e,["validation","className","label","labelType","inputClassName","register"]),m=i&&s,g=nf.default.createElement("textarea",(0,sf.__assign)({alt:i},d,{className:(0,of.default)("px-3 py-1.5 outline-0 border w-full rounded-r-sm",Tk.TextInputBorderMap[r],d.disabled&&"bg-secondary-200",m!=="addon"&&"rounded-l-sm",i?a:n)}));return i?nf.default.createElement("div",{className:(0,of.default)("flex",m==="default"?"flex-col":"flex-row",n)},i&&nf.default.createElement("div",{className:(0,of.default)("flex",m==="default"&&"pb-2",m==="row:1/3"&&"w-1/3",m==="row:1/4"&&"w-1/4",m==="row:2/5"&&"w-2/5",m==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},nf.default.createElement("span",{className:(0,of.default)(m!=="default"&&"m-auto")},i)),g):g}af.TextArea=Nk});var IE=xe(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.Toggle=void 0;var Lp=at(),Ei=(0,Lp.__importStar)(Fe()),kk=function(e){var t=e.onChange,r=e.label,n=(0,Lp.__rest)(e,["onChange","label"]),i=(0,Ei.useState)(!1),o=i[0],s=i[1];return Ei.default.createElement("div",{className:"flex flex-col"},Ei.default.createElement("label",{className:"mt-3 inline-flex items-center cursor-pointer"},Ei.default.createElement("span",{className:"relative"},Ei.default.createElement("span",{className:"block w-10 h-6 rounded-full shadow-inner ".concat(o?"bg-primary-300":"bg-secondary-200")}),Ei.default.createElement("span",{className:"absolute block w-4 h-4 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-300 ease-in-out ".concat(o?"transform translate-x-full bg-secondary-300":"bg-secondary-400")},Ei.default.createElement("input",(0,Lp.__assign)({},n,{type:"checkbox",className:"absolute opacity-0 w-0 h-0",onChange:function(a){s(a.target.checked),t(a.target.checked)}})))),r&&Ei.default.createElement("span",{className:"ml-3 text-sm"},r)))};lf.Toggle=kk});var CE=xe(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.NavDrawer=void 0;var fn=at(),Ke=(0,fn.__importStar)(Fe()),fo=(0,fn.__importDefault)(Bt()),RE=tr(),Ik=Cc(),Ak=Pc(),Rk=_i(),Dk=function(e){var t=e.brand,r=e.fixed,n=r===void 0?!1:r,i=e.zIndex,o=i===void 0?1002:i,s=e.user,a=e.onBrandClick,f=e.onAvatarClick,d=e.onBackdropClick,m=e.menuItems,g=e.isOpen,y=e.className,S=e.style;return Ke.default.createElement(Ke.default.Fragment,null,n&&g&&Ke.default.createElement(Ak.Backdrop,(0,fn.__assign)({},{onBackdropClick:d,zIndex:o-1})),Ke.default.createElement("div",{className:(0,fo.default)(`
        flex flex-col bg-white
        dark:bg-gray-800 dark:border-gray-600
        shadow text-secondary-600 w-64
        transition-all duration-500`,n&&"h-screen fixed top-0 "+(n==="left"?"left-0":"right-0"),n&&[!g&&n==="left"&&"-translate-x-full",!g&&n==="right"&&"translate-x-full"],Rk.customScrollBar,y),style:(0,fn.__assign)({zIndex:o},S)},t&&Ke.default.createElement("div",{className:(0,fo.default)("border-b border-secondary-200 px-2 py-1.5",a&&"cursor-pointer"),onClick:a},(0,RE.isType)(t,"string")?Ke.default.createElement("h2",{className:(0,fo.default)("text-3xl font-semibold text-gray-800 dark:text-white")},t):t),s&&Ke.default.createElement("div",{className:(0,fo.default)("flex items-center border-b border-secondary-200 pl-1.5 py-2",f&&"cursor-pointer"),onClick:f},Ke.default.createElement(Ik.Avatar,(0,fn.__assign)({dataState:"done",size:"sm"},s)),Ke.default.createElement("h4",{className:"ml-1 font-medium text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},s.name)),Ke.default.createElement("div",{className:"flex flex-col justify-between flex-1"},Ke.default.createElement("nav",{className:"px-1.5"},m.map(function(N,A){return Ke.default.createElement(DE,(0,fn.__assign)({},N,{key:A}))})))))};uf.NavDrawer=Dk;var AE=function(e){var t=e.children,r=e.isActive,n=e.getHeight,i=(0,fn.__rest)(e,["children","isActive","getHeight"]);return Ke.default.createElement("div",(0,fn.__assign)({className:(0,fo.default)(`
        flex items-center
        my-1 px-4 py-2 rounded-md
        text-gray-600 dark:text-gray-400
    `,i.onClick&&"cursor-pointer",r?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200":"hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200")},i),t)},DE=function(e){switch(e.type){case"action":{var t=e.isActive,r=e.icon,n=e.title,i=e.onClick;return(0,RE.isType)(n,"string")?Ke.default.createElement(AE,(0,fn.__assign)({},{isActive:t,onClick:i}),r&&r,Ke.default.createElement("span",{className:"mx-4 font-medium"},n)):n}case"break":return Ke.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return Ke.default.createElement("div",{className:`\r
                overflow-hidden my-1 py-2\r
                text-gray-600 dark:text-gray-400\r
            `},Ke.default.createElement("span",{className:"px-3 font-medium"},e.title));case"sub-menu":{var r=e.icon,n=e.title,o=e.subMenu,s=(0,Ke.useState)(!1),a=s[0],f=s[1];return Ke.default.createElement(Ke.default.Fragment,null,Ke.default.createElement(AE,(0,fn.__assign)({},{isActive:a,onClick:function(){return f(!a)}}),r&&r,Ke.default.createElement("span",{className:"mx-4 font-medium"},n),Ke.default.createElement("svg",{className:(0,fo.default)("svg-fix transition-transform ml-auto mr-1.5",a&&"-rotate-90"),stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},Ke.default.createElement("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}))),Ke.default.createElement("div",{className:(0,fo.default)("overflow-hidden transition-all duration-700",a?"max-h-screen":"max-h-0")},o.map(function(g,y){return Ke.default.createElement(DE,(0,fn.__assign)({},g,{key:y}))})))}default:throw console.error(e),new Error("This type of MenuItem is not implemented.")}}});var LE=xe(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.TopBar=void 0;var cf=at(),Ck=tr(),Fk=(0,cf.__importDefault)(Bt()),zt=(0,cf.__importStar)(Fe()),Lk=zt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}),Pk=zt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"});function jk(e){var t=e.fixed,r=e.onMenuExpand,n=e.leftNavItems,i=e.centerContent,o=e.rightNavItems,s=e.zIndex,a=s===void 0?1e3:s,f=e.className,d=e.style,m=e.addSpacer,g=m===void 0?!1:m,y=e.menuIsExpanded,S=(0,zt.useState)(0),N=S[0],A=S[1],T=(0,zt.useRef)(null),I=(0,zt.useRef)(new ResizeObserver(function(V){return A(V[0].borderBoxSize[0].blockSize)}));(0,zt.useEffect)(function(){return T.current&&I.current.observe(T.current),function(){return I.current.disconnect()}},[T,I]);var C=(0,zt.useState)(!1),K=C[0],H=C[1],J=function(V){return V&&V.map(function(_,q){var te=_.children,X=_.onClick;return zt.default.createElement(FE,(0,cf.__assign)({},{children:te,onClick:X},{key:q}))})},M=(0,Ck.isType)(y,"boolean")?!y:!K;return zt.default.createElement(zt.default.Fragment,null,g&&t&&zt.default.createElement("div",{style:{height:N},className:"w-full"}),zt.default.createElement("nav",{ref:T,className:(0,Fk.default)("bg-white shadow dark:bg-gray-800 flex justify-between p-2 border",t&&"fixed top-0 left-0 right-0",f),style:(0,cf.__assign)({zIndex:a},d)},zt.default.createElement("ul",{className:"flex flex-row"},r&&zt.default.createElement(FE,{onClick:function(){H(!M),r(!M)}},zt.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"svg-fix"},M?Pk:Lk)),J(n)),i,zt.default.createElement("ul",{className:"flex flex-row"},J(o))))}ff.TopBar=jk;var FE=function(e){return zt.default.createElement("li",{className:"p-4 text-neutral-500 hover:text-neutral-800 min-w-2"},zt.default.createElement("span",{className:"cursor-pointer",onClick:e.onClick},e.children))}});var PE=xe(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.grTo=bi.grFrom=bi.gradients=void 0;bi.gradients={1:"bg-gradient-to-t",2:"bg-gradient-to-tr",3:"bg-gradient-to-r",4:"bg-gradient-to-br",5:"bg-gradient-to-b",6:"bg-gradient-to-bl",7:"bg-gradient-to-l",8:"bg-gradient-to-tl"};bi.grFrom={slate:"from-slate-400",gray:"from-gray-400",red:"from-red-400",pink:"from-pink-400",purple:"from-purple-400",indigo:"from-indigo-400",blue:"from-blue-400",cyan:"from-cyan-400",teal:"from-teal-400",green:"from-green-400",lime:"from-lime-400",yellow:"from-yellow-400",amber:"from-amber-400",orange:"from-orange-400",brown:"from-brown-400",grey:"from-grey-400",emerald:"from-emerald-400",rose:"from-rose-400"};bi.grTo={slate:"to-slate-900",gray:"to-gray-900",red:"to-red-900",pink:"to-pink-900",purple:"to-purple-900",indigo:"to-indigo-900",blue:"to-blue-900",cyan:"to-cyan-900",teal:"to-teal-900",green:"to-green-900",lime:"to-lime-900",yellow:"to-yellow-900",amber:"to-amber-900",orange:"to-orange-900",brown:"to-brown-900",grey:"to-grey-900",emerald:"to-emerald-900",rose:"to-rose-900"}});var UE=xe(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.LoginPage=void 0;var jp=at(),jE=(0,jp.__importDefault)(Bt()),ht=(0,jp.__importDefault)(Fe()),Mk=Ap(),Bk=df(),BE=nl(),ME=Zc(),Uk=_i(),Pp=PE();function zk(e){var t=e.thirdPartyLogins,r=e.useRegularLogin,n=e.brand,i=e.companyName,o=e.bgGradientFrom,s=e.bgGradientTo,a=e.onLoginClick,f=e.isLoading,d=e.gradient,m=e.onSignUpClick,g=e.className,y=e.style,S=(0,Mk.useForm)(),N=S.register,A=S.handleSubmit,T=S.formState,I=S.reset,C=S.setValue,K=T.errors,H=T.submitCount,J=function(X){I(),C("email",X.email),C("password",X.password),a==null||a(X)},M="rounded-md text-sm font-medium",V="py-2.5 pl-3 text-base font-semibold "+(f?"bg-gray-200":"bg-gray-50"),_=o&&s&&d,q=H>0&&K.email,te=H>0&&K.password;return ht.default.createElement("div",{className:(0,jE.default)("h-full w-full py-14 px-4",_&&Pp.gradients[d],_&&Pp.grFrom[o],_&&Pp.grTo[s],g),style:y},ht.default.createElement("div",{className:"flex flex-col items-center justify-center"},n,ht.default.createElement("form",{className:"bg-white shadow-lg rounded lg:w-2/3 md:w-3/4 max-w-lg w-full p-10 border border-secondary-200",onSubmit:A(J)},ht.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",i||"your account"),m&&ht.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",ht.default.createElement("a",{onClick:f?void 0:m,className:(0,jE.default)(`
                            hover:text-gray-500 focus:text-gray-500 focus:outline-none
                            focus:underline hover:underline text-sm font-medium leading-none
                            text-gray-800`,f?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),ht.default.createElement("div",{className:"mt-4"}),t==null?void 0:t.map(function(X,le){return ht.default.createElement(Vk,(0,jp.__assign)({},X,{disabled:f,key:le}))}),t&&r&&ht.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},ht.default.createElement("hr",{className:"w-full bg-gray-400"}),ht.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),ht.default.createElement("hr",{className:"w-full bg-gray-400"})),r&&ht.default.createElement(ht.default.Fragment,null,ht.default.createElement(ME.TextInput,{label:"Email",className:M,inputClassName:V,disabled:f,validation:q?"danger":"default",register:N("email",{required:!0,pattern:Uk.regexpUtil.email})}),ht.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",q?"Please enter a valid email":""),ht.default.createElement(ME.TextInput,{label:"Password",type:"password",className:M,inputClassName:V,disabled:f,validation:q?"danger":"default",register:N("password",{required:!0})}),ht.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",te?"Please enter your password":""),ht.default.createElement("div",{className:"mt-6"},ht.default.createElement(BE.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:f,htmlType:"submit"},f?ht.default.createElement(Bk.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))))}hf.LoginPage=zk;var Vk=function(e){var t=e.disabled,r=e.name,n=e.logo;return ht.default.createElement(BE.Button,{size:"auto",outline:!0,type:"secondary",disabled:t,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,ht.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var df=xe(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});var kt=at();(0,kt.__exportStar)(cS(),dt);(0,kt.__exportStar)(RS(),dt);(0,kt.__exportStar)(CS(),dt);(0,kt.__exportStar)(Cc(),dt);(0,kt.__exportStar)(zS(),dt);(0,kt.__exportStar)(Pc(),dt);(0,kt.__exportStar)(Ac(),dt);(0,kt.__exportStar)(nl(),dt);(0,kt.__exportStar)(rp(),dt);(0,kt.__exportStar)(VS(),dt);(0,kt.__exportStar)(OE(),dt);(0,kt.__exportStar)(xE(),dt);(0,kt.__exportStar)(Dc(),dt);(0,kt.__exportStar)(TE(),dt);(0,kt.__exportStar)(NE(),dt);(0,kt.__exportStar)(kE(),dt);(0,kt.__exportStar)(Zc(),dt);(0,kt.__exportStar)(IE(),dt);(0,kt.__exportStar)(CE(),dt);(0,kt.__exportStar)(LE(),dt);(0,kt.__exportStar)(UE(),dt)});var Wp=Rt(Fe()),HE=Rt(Cv());var en=Rt(Fe());function ns(){return ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(this,arguments)}var li;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(li||(li={}));var Fv=function(e){return e};var Lv="beforeunload";var Y4="popstate";function Mv(e){e===void 0&&(e={});var t=e,r=t.window,n=r===void 0?document.defaultView:r,i=n.history;function o(){var V=n.location,_=V.pathname,q=V.search,te=V.hash,X=i.state||{};return[X.idx,Fv({pathname:_,search:q,hash:te,state:X.usr||null,key:X.key||"default"})]}var s=null;function a(){if(s)S.call(s),s=null;else{var V=li.Pop,_=o(),q=_[0],te=_[1];if(S.length){if(q!=null){var X=m-q;X&&(s={action:V,location:te,retry:function(){J(X*-1)}},J(X))}}else C(V)}}n.addEventListener(Y4,a);var f=li.Pop,d=o(),m=d[0],g=d[1],y=jv(),S=jv();m==null&&(m=0,i.replaceState(ns({},i.state,{idx:m}),""));function N(V){return typeof V=="string"?V:Bv(V)}function A(V,_){return _===void 0&&(_=null),Fv(ns({pathname:g.pathname,hash:"",search:""},typeof V=="string"?Qd(V):V,{state:_,key:K4()}))}function T(V,_){return[{usr:V.state,key:V.key,idx:_},N(V)]}function I(V,_,q){return!S.length||(S.call({action:V,location:_,retry:q}),!1)}function C(V){f=V;var _=o();m=_[0],g=_[1],y.call({action:f,location:g})}function K(V,_){var q=li.Push,te=A(V,_);function X(){K(V,_)}if(I(q,te,X)){var le=T(te,m+1),se=le[0],ye=le[1];try{i.pushState(se,"",ye)}catch{n.location.assign(ye)}C(q)}}function H(V,_){var q=li.Replace,te=A(V,_);function X(){H(V,_)}if(I(q,te,X)){var le=T(te,m),se=le[0],ye=le[1];i.replaceState(se,"",ye),C(q)}}function J(V){i.go(V)}var M={get action(){return f},get location(){return g},createHref:N,push:K,replace:H,go:J,back:function(){J(-1)},forward:function(){J(1)},listen:function(_){return y.push(_)},block:function(_){var q=S.push(_);return S.length===1&&n.addEventListener(Lv,Pv),function(){q(),S.length||n.removeEventListener(Lv,Pv)}}};return M}function Pv(e){e.preventDefault(),e.returnValue=""}function jv(){var e=[];return{get length(){return e.length},push:function(r){return e.push(r),function(){e=e.filter(function(n){return n!==r})}},call:function(r){e.forEach(function(n){return n&&n(r)})}}}function K4(){return Math.random().toString(36).substr(2,8)}function Bv(e){var t=e.pathname,r=t===void 0?"/":t,n=e.search,i=n===void 0?"":n,o=e.hash,s=o===void 0?"":o;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Qd(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var Ft=Rt(Fe());function Z4(e,t){if(!e)throw new Error(t)}var X4=(0,Ft.createContext)(null),Uv=(0,Ft.createContext)(null);function zv(e){let{basename:t="/",children:r=null,location:n,navigationType:i=li.Pop,navigator:o,static:s=!1}=e;Q4()&&Z4(!1);let a=tO(t),f=(0,Ft.useMemo)(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof n=="string"&&(n=Qd(n));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:S="default"}=n,N=(0,Ft.useMemo)(()=>{let A=eO(d,a);return A==null?null:{pathname:A,search:m,hash:g,state:y,key:S}},[a,d,m,g,y,S]);return N==null?null:(0,Ft.createElement)(X4.Provider,{value:f},(0,Ft.createElement)(Uv.Provider,{children:r,value:{location:N,navigationType:i}}))}function Q4(){return(0,Ft.useContext)(Uv)!=null}function eO(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=e.charAt(t.length);return r&&r!=="/"?null:e.slice(t.length)||"/"}var tO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function Vv(e){let{basename:t,children:r,window:n}=e,i=(0,en.useRef)();i.current==null&&(i.current=Mv({window:n}));let o=i.current,[s,a]=(0,en.useState)({action:o.action,location:o.location});return(0,en.useLayoutEffect)(()=>o.listen(a),[o]),(0,en.createElement)(zv,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o})}var CA=Rt(V2());var sr=Rt(Fe()),pf=Rt(df());var zE=Rt(Fe());Ba();var ho=class extends zE.Component{constructor(t={state:$r}){super(t);this.statemgr=$r;this.UPDATED=[];t.state&&(this.statemgr=t.state);let r=this.setState.bind(this);this.setState=n=>{this.UPDATED=Object.keys(n),r(n),typeof n=="object"&&$r.setState(n)},setTimeout(()=>{let n={};for(let i in this.state)this.statemgr.subscribeTrigger(i,o=>{if(typeof this=="undefined")this.statemgr.unsubscribeTrigger(i);else{let a=this.UPDATED.indexOf(i);a>-1?this.UPDATED.splice(a,1):r({[i]:o})}});Object.keys(n).length>0&&r(n)},.001)}};var po=Rt(Fe()),Mp=class extends po.Component{render(){return po.default.createElement("div",null,po.default.createElement("div",{style:{height:200,border:"1px solid black",borderRadius:5}},"User Card + Summary"),po.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Timeline"),po.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Scrollview of selected details/summaries"))}};var Et=Rt(Fe());function VE(e=""){return`${e+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}Za();var Bp=class extends ho{constructor(){super(...arguments);this.id=VE("permissions");this.onclicked=()=>{let t=document.getElementById(this.id+"userid").value,r=document.getElementById(this.id+"name").value,n=document.getElementById(this.id+"perms"),i=n.options[n.selectedIndex].value,o=document.getElementById(this.id+"peers"),s=o.options[o.selectedIndex].value;s==="granting"?Xe.authorizeUser(Xe.currentUser,Xe.currentUser._id,"me",t,r,[n]):s==="asking"&&Xe.authorizeUser(Xe.currentUser,t,r,Xe.currentUser._id,"me",[i])}}componentDidMount(){return He(this,null,function*(){let t=yield Xe.getAuthorizations(),r=document.getElementById(this.id+"auths");t&&t.forEach(n=>{r==null||r.insertAdjacentHTML("beforeend",`
                    <tr>
                        <td>Permissions: ${n.authorizations.join(",")}</td>
                        <td>Authorized: ${n.authorizedName}</td>
                        <td>Authorizer: ${n.authorizerName}</td>
                        <td>Status: ${n.status}</td>
                    </tr>`)})})}render(){return Et.default.createElement("div",null,Et.default.createElement("div",{style:{height:400,border:"1px solid black",borderRadius:5}},"Groups and Authorizations",Et.default.createElement("br",null),"User Id or Email",Et.default.createElement("br",null),Et.default.createElement("input",{id:this.id+"userid",type:"text",placeholder:"example@example.com"}),"Name",Et.default.createElement("br",null),Et.default.createElement("input",{id:this.id+"name",type:"text",placeholder:"example@example.com"}),Et.default.createElement("br",null),"Permssions:",Et.default.createElement("br",null),Et.default.createElement("select",{id:this.id+"perms"},Et.default.createElement("option",{value:"peer",selected:!0},"Peer (read/write/chat)"),Et.default.createElement("option",{value:"control"},"Admin (hand over control)")),Et.default.createElement("br",null),"Asking or Granting?",Et.default.createElement("br",null),Et.default.createElement("select",{id:this.id+"peers"},Et.default.createElement("option",{value:"asking",selected:!0},"Asking (get access)"),Et.default.createElement("option",{value:"granting"},"Granting (give access)")),Et.default.createElement("br",null),Et.default.createElement("button",{id:this.id+"submit"},"Submit")),Et.default.createElement("div",{onClick:this.onclicked,style:{height:600,border:"1px solid black",borderRadius:5}},"Summaries of Connected Peers",Et.default.createElement("table",{id:this.id+"auths"})))}};var bs=Rt(Fe()),Up=class extends bs.Component{render(){return bs.default.createElement("div",null,bs.default.createElement("div",null,"Profile Deets + Editing"),bs.default.createElement("div",null,"More fine grained permissions and opt-in stuff"))}};var $E=Rt(df());H0();Ba();var zp=Rt(Fe());fc();Za();fc();function qE(){return He(this,null,function*(){let e=yield qk(),t=yield Wk(e.user,e.peer),r=yield(e.user,e.peer,Xe,void 0),n=yield $k(e.user,e.peer),i=yield Hk(),o=yield Jk(e.peer,n.chatroom,n.comment),s=yield Gk(),a=yield Yk(t.userauth),f=yield Kk(e.user,e.peer),d=yield Zk(),m={users:e,auths:t,data:r,chatroomres:n,pnotes:i,replied:o,unotes:s,rejected:a,group:f,gauths:d};return console.log("results",m),m})}function qk(){return He(this,null,function*(){let e=yield cc(),t=yield U2();return console.log("user",e,"peer",t),{user:e,peer:t}})}function Wk(){return He(this,arguments,function*(e=tl,t=ao){let r=yield Xe.authorizeUser(e,e._id,void 0,t._id,void 0,["peer"]),n=yield sn.authorizeUser(t,e._id,void 0,t._id,void 0,["peer"]);return console.log("user-owned auth:",r,`
peer-owned auth:`,n),console.log("auths",r,n),{userauth:r,peerauth:n}})}function $k(){return He(this,arguments,function*(e=tl,t=ao){let r=Xe.getLocalData("chatroom"),n;r&&(r.length>0?n=r[0]:n=yield Xe.addChatroom(e,e._id,"this is the first comment",void 0,[t._id],!0));let i=yield Xe.addComment(e,n,n,e._id,"don't go there girlfrienddd"),o=yield Xe.addComment(e,n,i,e._id,"update: you did");return console.log("chatroom and comments",n,i,i),{chatroom:n,comment:i,comment2:o}})}function Hk(){return He(this,null,function*(){if(yield sn.checkForNotifications())return yield sn.resolveNotifications()})}function Jk(){return He(this,arguments,function*(e=ao,t,r){let n=yield Xe.addComment(e,t,r,e._id,"oh I went there");return console.log("new comment",n),n})}function Gk(){return He(this,null,function*(){if(yield Xe.checkForNotifications())return yield sn.resolveNotifications()})}function Yk(e){return He(this,null,function*(){if(e)return yield Xe.deleteAuthorization(e._id)})}function Kk(){return He(this,arguments,function*(e=tl,t=ao){let r=yield sn.addGroup(t,"testgroup"+Math.floor(Math.random()*1e8),"this is a test",[t._id],[t._id],[e],!0);return console.log("new group",r),r})}function Zk(){return He(this,null,function*(){yield Xe.setAuthorizationsByGroup(),yield sn.setAuthorizationsByGroup()})}var Vp=class extends ho{componentDidMount(){return He(this,null,function*(){let t=yield qE();console.log(t)})}render(){return zp.default.createElement("div",null,zp.default.createElement("div",null,"DEV TEST (see console -- Press F12)"))}};var Xk=()=>sr.default.createElement("img",{src:"src/assets/myalyce.png",width:"100px",alt:"MyAlyce"}),WE=!0,qp=class extends ho{constructor(){super(...arguments);this.state={isLoggedIn:!1,navOpen:!1,route:"/"}}onLoginClick(t){Xa(t.email,t.password).then(r=>He(this,null,function*(){let n=yield Qa(r);n&&(yield ss(n))}))}onGoogleLoginClick(){Xa("google").then(t=>He(this,null,function*(){let r=yield Qa(t);r&&(yield ss(r))}))}setNavOpen(t){this.setState({navOpen:t})}render(){return console.log(this.state.route),sr.default.createElement("div",null,!this.state.isLoggedIn&&!WE&&sr.default.createElement($E.Login,{useRegularLogin:!0,onLoginClick:this.onLoginClick,thirdPartyLogins:[{name:"google",logo:sr.default.createElement("img",{src:"src/assets/google.png",width:"50px"}),onClick:this.onGoogleLoginClick}]}),(this.state.isLoggedIn||WE)&&sr.default.createElement("div",null,sr.default.createElement(pf.NavDrawer,{fixed:"left",zIndex:102,isOpen:this.state.navOpen,brand:Xk(),onBackdropClick:()=>this.setState({navOpen:!1}),menuItems:[{type:"action",icon:"D",onClick:()=>this.setState({route:"/dashboard",navOpen:!1}),title:"Dashboard"},{type:"action",icon:"P",onClick:()=>this.setState({route:"/peers",navOpen:!1}),title:"Peers & Groups"},{type:"action",icon:"S",onClick:()=>this.setState({route:"/settings",navOpen:!1}),title:"Profile Settings"},{type:"action",icon:"D",onClick:()=>this.setState({route:"/dev",navOpen:!1}),title:"DEV MODE"}]}),sr.default.createElement("div",{id:"view"},sr.default.createElement(pf.TopBar,{zIndex:0,onMenuExpand:()=>{let t=!this.state.navOpen;this.setState({navOpen:t})}}),sr.default.createElement("div",{id:"viewcontent"},sr.default.createElement("div",{id:"route"},(this.state.route.includes("dashboard")||this.state.route==="/"||this.state.route==="")&&sr.default.createElement(Mp,null),this.state.route.includes("peers")&&sr.default.createElement(Bp,null),this.state.route.includes("settings")&&sr.default.createElement(Up,null),this.state.route.includes("dev")&&sr.default.createElement(Vp,null))))))}};var Qk=!0;Qk&&document.head.insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="dist/app.css" type="text/css" />');HE.default.render(Wp.default.createElement(Vv,null,Wp.default.createElement(qp,null)),document.getElementById("react"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * React Router DOM v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=app.js.map
