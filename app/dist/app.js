(()=>{var VE=Object.create;var bl=Object.defineProperty;var WE=Object.getOwnPropertyDescriptor;var qE=Object.getOwnPropertyNames,vg=Object.getOwnPropertySymbols,$E=Object.getPrototypeOf,wg=Object.prototype.hasOwnProperty,HE=Object.prototype.propertyIsEnumerable;var _g=Math.pow,Cf=(t,e,r)=>e in t?bl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sg=(t,e)=>{for(var r in e||(e={}))wg.call(e,r)&&Cf(t,r,e[r]);if(vg)for(var r of vg(e))HE.call(e,r)&&Cf(t,r,e[r]);return t};var JE=t=>bl(t,"__esModule",{value:!0});var GE=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var Ge=(t,e)=>()=>(t&&(e=t(t=0)),e);var Oe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var YE=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of qE(e))!wg.call(t,i)&&(r||i!=="default")&&bl(t,i,{get:()=>e[i],enumerable:!(n=WE(e,i))||n.enumerable});return t},Tt=(t,e)=>YE(JE(bl(t!=null?VE($E(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Ue=(t,e,r)=>(Cf(t,typeof e!="symbol"?e+"":e,r),r);var te=(t,e,r)=>new Promise((n,i)=>{var o=c=>{try{a(r.next(c))}catch(d){i(d)}},s=c=>{try{a(r.throw(c))}catch(d){i(d)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,s);a((r=r.apply(t,e)).next())});var Lf=Oe((oT,Eg)=>{"use strict";var bg=Object.getOwnPropertySymbols,KE=Object.prototype.hasOwnProperty,ZE=Object.prototype.propertyIsEnumerable;function XE(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function QE(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Eg.exports=QE()?Object.assign:function(t,e){for(var r,n=XE(t),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)KE.call(r,s)&&(n[s]=r[s]);if(bg){i=bg(r);for(var a=0;a<i.length;a++)ZE.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}});var Bg=Oe(je=>{"use strict";var Mf=Lf(),po=60103,kg=60106;je.Fragment=60107;je.StrictMode=60108;je.Profiler=60114;var Ng=60109,Tg=60110,Ag=60112;je.Suspense=60113;var Ig=60115,Rg=60116;typeof Symbol=="function"&&Symbol.for&&(Rr=Symbol.for,po=Rr("react.element"),kg=Rr("react.portal"),je.Fragment=Rr("react.fragment"),je.StrictMode=Rr("react.strict_mode"),je.Profiler=Rr("react.profiler"),Ng=Rr("react.provider"),Tg=Rr("react.context"),Ag=Rr("react.forward_ref"),je.Suspense=Rr("react.suspense"),Ig=Rr("react.memo"),Rg=Rr("react.lazy"));var Rr,xg=typeof Symbol=="function"&&Symbol.iterator;function e3(t){return t===null||typeof t!="object"?null:(t=xg&&t[xg]||t["@@iterator"],typeof t=="function"?t:null)}function Is(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dg={};function yo(t,e,r){this.props=t,this.context=e,this.refs=Dg,this.updater=r||Fg}yo.prototype.isReactComponent={};yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Is(85));this.updater.enqueueSetState(this,t,e,"setState")};yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cg(){}Cg.prototype=yo.prototype;function jf(t,e,r){this.props=t,this.context=e,this.refs=Dg,this.updater=r||Fg}var Bf=jf.prototype=new Cg;Bf.constructor=jf;Mf(Bf,yo.prototype);Bf.isPureReactComponent=!0;var Uf={current:null},Lg=Object.prototype.hasOwnProperty,Pg={key:!0,ref:!0,__self:!0,__source:!0};function Mg(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Lg.call(e,n)&&!Pg.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:po,type:t,key:o,ref:s,props:i,_owner:Uf.current}}function t3(t,e){return{$$typeof:po,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zf(t){return typeof t=="object"&&t!==null&&t.$$typeof===po}function r3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Og=/\/+/g;function Pf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?r3(""+t.key):e.toString(36)}function xl(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case po:case kg:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Pf(s,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(Og,"$&/")+"/"),xl(i,e,r,"",function(d){return d})):i!=null&&(zf(i)&&(i=t3(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Og,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Array.isArray(t))for(var a=0;a<t.length;a++){o=t[a];var c=n+Pf(o,a);s+=xl(o,e,r,c,i)}else if(c=e3(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=n+Pf(o,a++),s+=xl(o,e,r,c,i);else if(o==="object")throw e=""+t,Error(Is(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function El(t,e,r){if(t==null)return t;var n=[],i=0;return xl(t,n,"","",function(o){return e.call(r,o,i++)}),n}function n3(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var jg={current:null};function bn(){var t=jg.current;if(t===null)throw Error(Is(321));return t}var i3={ReactCurrentDispatcher:jg,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Uf,IsSomeRendererActing:{current:!1},assign:Mf};je.Children={map:El,forEach:function(t,e,r){El(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return El(t,function(){e++}),e},toArray:function(t){return El(t,function(e){return e})||[]},only:function(t){if(!zf(t))throw Error(Is(143));return t}};je.Component=yo;je.PureComponent=jf;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i3;je.cloneElement=function(t,e,r){if(t==null)throw Error(Is(267,t));var n=Mf({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Uf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Lg.call(e,c)&&!Pg.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:po,type:t.type,key:i,ref:o,props:n,_owner:s}};je.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Tg,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Ng,_context:t},t.Consumer=t};je.createElement=Mg;je.createFactory=function(t){var e=Mg.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:Ag,render:t}};je.isValidElement=zf;je.lazy=function(t){return{$$typeof:Rg,_payload:{_status:-1,_result:t},_init:n3}};je.memo=function(t,e){return{$$typeof:Ig,type:t,compare:e===void 0?null:e}};je.useCallback=function(t,e){return bn().useCallback(t,e)};je.useContext=function(t,e){return bn().useContext(t,e)};je.useDebugValue=function(){};je.useEffect=function(t,e){return bn().useEffect(t,e)};je.useImperativeHandle=function(t,e,r){return bn().useImperativeHandle(t,e,r)};je.useLayoutEffect=function(t,e){return bn().useLayoutEffect(t,e)};je.useMemo=function(t,e){return bn().useMemo(t,e)};je.useReducer=function(t,e,r){return bn().useReducer(t,e,r)};je.useRef=function(t){return bn().useRef(t)};je.useState=function(t){return bn().useState(t)};je.version="17.0.2"});var Ce=Oe((aT,Ug)=>{"use strict";Ug.exports=Bg()});var Hg=Oe(ze=>{"use strict";var mo,Ds,Tl,Gf;typeof performance=="object"&&typeof performance.now=="function"?(zg=performance,ze.unstable_now=function(){return zg.now()}):(Vf=Date,Vg=Vf.now(),ze.unstable_now=function(){return Vf.now()-Vg});var zg,Vf,Vg;typeof window>"u"||typeof MessageChannel!="function"?(go=null,Wf=null,qf=function(){if(go!==null)try{var t=ze.unstable_now();go(!0,t),go=null}catch(e){throw setTimeout(qf,0),e}},mo=function(t){go!==null?setTimeout(mo,0,t):(go=t,setTimeout(qf,0))},Ds=function(t,e){Wf=setTimeout(t,e)},Tl=function(){clearTimeout(Wf)},ze.unstable_shouldYield=function(){return!1},Gf=ze.unstable_forceFrameRate=function(){}):(Wg=window.setTimeout,qg=window.clearTimeout,typeof console<"u"&&($g=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof $g!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Rs=!1,Fs=null,Ol=-1,$f=5,Hf=0,ze.unstable_shouldYield=function(){return ze.unstable_now()>=Hf},Gf=function(){},ze.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$f=0<t?Math.floor(1e3/t):5},Jf=new MessageChannel,kl=Jf.port2,Jf.port1.onmessage=function(){if(Fs!==null){var t=ze.unstable_now();Hf=t+$f;try{Fs(!0,t)?kl.postMessage(null):(Rs=!1,Fs=null)}catch(e){throw kl.postMessage(null),e}}else Rs=!1},mo=function(t){Fs=t,Rs||(Rs=!0,kl.postMessage(null))},Ds=function(t,e){Ol=Wg(function(){t(ze.unstable_now())},e)},Tl=function(){qg(Ol),Ol=-1});var go,Wf,qf,Wg,qg,$g,Rs,Fs,Ol,$f,Hf,Jf,kl;function Yf(t,e){var r=t.length;t.push(e);e:for(;;){var n=r-1>>>1,i=t[n];if(i!==void 0&&0<Nl(i,e))t[n]=e,t[r]=i,r=n;else break e}}function $r(t){return t=t[0],t===void 0?null:t}function Al(t){var e=t[0];if(e!==void 0){var r=t.pop();if(r!==e){t[0]=r;e:for(var n=0,i=t.length;n<i;){var o=2*(n+1)-1,s=t[o],a=o+1,c=t[a];if(s!==void 0&&0>Nl(s,r))c!==void 0&&0>Nl(c,s)?(t[n]=c,t[a]=r,n=a):(t[n]=s,t[o]=r,n=o);else if(c!==void 0&&0>Nl(c,r))t[n]=c,t[a]=r,n=a;else break e}}return e}return null}function Nl(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}var ln=[],Pn=[],o3=1,Fr=null,Gt=3,Il=!1,ki=!1,Cs=!1;function Kf(t){for(var e=$r(Pn);e!==null;){if(e.callback===null)Al(Pn);else if(e.startTime<=t)Al(Pn),e.sortIndex=e.expirationTime,Yf(ln,e);else break;e=$r(Pn)}}function Zf(t){if(Cs=!1,Kf(t),!ki)if($r(ln)!==null)ki=!0,mo(Xf);else{var e=$r(Pn);e!==null&&Ds(Zf,e.startTime-t)}}function Xf(t,e){ki=!1,Cs&&(Cs=!1,Tl()),Il=!0;var r=Gt;try{for(Kf(e),Fr=$r(ln);Fr!==null&&(!(Fr.expirationTime>e)||t&&!ze.unstable_shouldYield());){var n=Fr.callback;if(typeof n=="function"){Fr.callback=null,Gt=Fr.priorityLevel;var i=n(Fr.expirationTime<=e);e=ze.unstable_now(),typeof i=="function"?Fr.callback=i:Fr===$r(ln)&&Al(ln),Kf(e)}else Al(ln);Fr=$r(ln)}if(Fr!==null)var o=!0;else{var s=$r(Pn);s!==null&&Ds(Zf,s.startTime-e),o=!1}return o}finally{Fr=null,Gt=r,Il=!1}}var s3=Gf;ze.unstable_IdlePriority=5;ze.unstable_ImmediatePriority=1;ze.unstable_LowPriority=4;ze.unstable_NormalPriority=3;ze.unstable_Profiling=null;ze.unstable_UserBlockingPriority=2;ze.unstable_cancelCallback=function(t){t.callback=null};ze.unstable_continueExecution=function(){ki||Il||(ki=!0,mo(Xf))};ze.unstable_getCurrentPriorityLevel=function(){return Gt};ze.unstable_getFirstCallbackNode=function(){return $r(ln)};ze.unstable_next=function(t){switch(Gt){case 1:case 2:case 3:var e=3;break;default:e=Gt}var r=Gt;Gt=e;try{return t()}finally{Gt=r}};ze.unstable_pauseExecution=function(){};ze.unstable_requestPaint=s3;ze.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=Gt;Gt=t;try{return e()}finally{Gt=r}};ze.unstable_scheduleCallback=function(t,e,r){var n=ze.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,t={id:o3++,callback:e,priorityLevel:t,startTime:r,expirationTime:i,sortIndex:-1},r>n?(t.sortIndex=r,Yf(Pn,t),$r(ln)===null&&t===$r(Pn)&&(Cs?Tl():Cs=!0,Ds(Zf,r-n))):(t.sortIndex=i,Yf(ln,t),ki||Il||(ki=!0,mo(Xf))),t};ze.unstable_wrapCallback=function(t){var e=Gt;return function(){var r=Gt;Gt=e;try{return t.apply(this,arguments)}finally{Gt=r}}}});var Gg=Oe((uT,Jg)=>{"use strict";Jg.exports=Hg()});var Lv=Oe(jr=>{"use strict";var Eu=Ce(),st=Lf(),Ft=Gg();function ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Eu)throw Error(ge(227));var a1=new Set,ca={};function Mi(t,e){jo(t,e),jo(t+"Capture",e)}function jo(t,e){for(ca[t]=e,t=0;t<e.length;t++)a1.add(e[t])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yg=Object.prototype.hasOwnProperty,Kg={},Zg={};function l3(t){return Yg.call(Zg,t)?!0:Yg.call(Kg,t)?!1:a3.test(t)?Zg[t]=!0:(Kg[t]=!0,!1)}function u3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c3(t,e,r,n){if(e===null||typeof e>"u"||u3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function er(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new er(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new er(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new er(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new er(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new er(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new er(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new er(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new er(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new er(t,5,!1,t.toLowerCase(),null,!1,!1)});var ad=/[\-:]([a-z])/g;function ld(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ad,ld);Vt[e]=new er(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ad,ld);Vt[e]=new er(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ad,ld);Vt[e]=new er(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new er(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new er(t,1,!1,t.toLowerCase(),null,!0,!0)});function ud(t,e,r,n){var i=Vt.hasOwnProperty(e)?Vt[e]:null,o=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(c3(e,r,i,n)&&(r=null),n||i===null?l3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ji=Eu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Js=60103,Ti=60106,jn=60107,cd=60108,Xs=60114,fd=60109,hd=60110,xu=60112,Qs=60113,eu=60120,Ou=60115,dd=60116,pd=60121,yd=60128,l1=60129,gd=60130,Sh=60131;typeof Symbol=="function"&&Symbol.for&&(At=Symbol.for,Js=At("react.element"),Ti=At("react.portal"),jn=At("react.fragment"),cd=At("react.strict_mode"),Xs=At("react.profiler"),fd=At("react.provider"),hd=At("react.context"),xu=At("react.forward_ref"),Qs=At("react.suspense"),eu=At("react.suspense_list"),Ou=At("react.memo"),dd=At("react.lazy"),pd=At("react.block"),At("react.scope"),yd=At("react.opaque.id"),l1=At("react.debug_trace_mode"),gd=At("react.offscreen"),Sh=At("react.legacy_hidden"));var At,Xg=typeof Symbol=="function"&&Symbol.iterator;function Ls(t){return t===null||typeof t!="object"?null:(t=Xg&&t[Xg]||t["@@iterator"],typeof t=="function"?t:null)}var Qf;function Gs(t){if(Qf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Qf=e&&e[1]||""}return`
`+Qf+t}var eh=!1;function Rl(t,e){if(!t||eh)return"";eh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{eh=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Gs(t):""}function f3(t){switch(t.tag){case 5:return Gs(t.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 2:case 15:return t=Rl(t.type,!1),t;case 11:return t=Rl(t.type.render,!1),t;case 22:return t=Rl(t.type._render,!1),t;case 1:return t=Rl(t.type,!0),t;default:return""}}function To(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jn:return"Fragment";case Ti:return"Portal";case Xs:return"Profiler";case cd:return"StrictMode";case Qs:return"Suspense";case eu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hd:return(t.displayName||"Context")+".Consumer";case fd:return(t._context.displayName||"Context")+".Provider";case xu:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Ou:return To(t.type);case pd:return To(t._render);case dd:e=t._payload,t=t._init;try{return To(t(e))}catch{}}return null}function Kn(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function u1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h3(t){var e=u1(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fl(t){t._valueTracker||(t._valueTracker=h3(t))}function c1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=u1(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bh(t,e){var r=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Qg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Kn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f1(t,e){e=e.checked,e!=null&&ud(t,"checked",e,!1)}function Eh(t,e){f1(t,e);var r=Kn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xh(t,e.type,r):e.hasOwnProperty("defaultValue")&&xh(t,e.type,Kn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function em(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function xh(t,e,r){(e!=="number"||tu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function d3(t){var e="";return Eu.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function Oh(t,e){return t=st({children:void 0},e),(e=d3(e.children))&&(t.children=e),t}function Ao(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Kn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ge(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tm(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ge(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(ge(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Kn(r)}}function h1(t,e){var r=Kn(e.value),n=Kn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function rm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Nh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function d1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Th(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?d1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dl,p1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==Nh.svg||"innerHTML"in t)t.innerHTML=e;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fa(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ea={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p3=["Webkit","ms","Moz","O"];Object.keys(ea).forEach(function(t){p3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ea[e]=ea[t]})});function y1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ea.hasOwnProperty(t)&&ea[t]?(""+e).trim():e+"px"}function g1(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=y1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var y3=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ah(t,e){if(e){if(y3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ge(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ge(62))}}function Ih(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function md(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rh=null,Io=null,Ro=null;function nm(t){if(t=Oa(t)){if(typeof Rh!="function")throw Error(ge(280));var e=t.stateNode;e&&(e=Ru(e),Rh(t.stateNode,t.type,e))}}function m1(t){Io?Ro?Ro.push(t):Ro=[t]:Io=t}function v1(){if(Io){var t=Io,e=Ro;if(Ro=Io=null,nm(t),e)for(t=0;t<e.length;t++)nm(e[t])}}function vd(t,e){return t(e)}function w1(t,e,r,n,i){return t(e,r,n,i)}function wd(){}var _1=vd,Ai=!1,th=!1;function _d(){(Io!==null||Ro!==null)&&(wd(),v1())}function g3(t,e,r){if(th)return t(e,r);th=!0;try{return _1(t,e,r)}finally{th=!1,_d()}}function ha(t,e){var r=t.stateNode;if(r===null)return null;var n=Ru(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ge(231,e,typeof r));return r}var Fh=!1;if(Tn)try{vo={},Object.defineProperty(vo,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Fh=!1}var vo;function m3(t,e,r,n,i,o,s,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(g){this.onError(g)}}var ta=!1,ru=null,nu=!1,Dh=null,v3={onError:function(t){ta=!0,ru=t}};function w3(t,e,r,n,i,o,s,a,c){ta=!1,ru=null,m3.apply(v3,arguments)}function _3(t,e,r,n,i,o,s,a,c){if(w3.apply(this,arguments),ta){if(ta){var d=ru;ta=!1,ru=null}else throw Error(ge(198));nu||(nu=!0,Dh=d)}}function Bi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function S1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function im(t){if(Bi(t)!==t)throw Error(ge(188))}function S3(t){var e=t.alternate;if(!e){if(e=Bi(t),e===null)throw Error(ge(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return im(i),t;if(o===n)return im(i),e;o=o.sibling}throw Error(ge(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?t:e}function b1(t){if(t=S3(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function om(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var E1,Sd,x1,O1,Ch=!1,un=[],Vn=null,Wn=null,qn=null,da=new Map,pa=new Map,Ps=[],sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lh(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function am(t,e){switch(t){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":da.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pa.delete(e.pointerId)}}function Ms(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t=Lh(e,r,n,i,o),e!==null&&(e=Oa(e),e!==null&&Sd(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function b3(t,e,r,n,i){switch(e){case"focusin":return Vn=Ms(Vn,t,e,r,n,i),!0;case"dragenter":return Wn=Ms(Wn,t,e,r,n,i),!0;case"mouseover":return qn=Ms(qn,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return da.set(o,Ms(da.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,pa.set(o,Ms(pa.get(o)||null,t,e,r,n,i)),!0}return!1}function E3(t){var e=Ii(t.target);if(e!==null){var r=Bi(e);if(r!==null){if(e=r.tag,e===13){if(e=S1(r),e!==null){t.blockedOn=e,O1(t.lanePriority,function(){Ft.unstable_runWithPriority(t.priority,function(){x1(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ql(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Od(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Oa(r),e!==null&&Sd(e),t.blockedOn=r,!1;e.shift()}return!0}function lm(t,e,r){ql(t)&&r.delete(e)}function x3(){for(Ch=!1;0<un.length;){var t=un[0];if(t.blockedOn!==null){t=Oa(t.blockedOn),t!==null&&E1(t);break}for(var e=t.targetContainers;0<e.length;){var r=Od(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&un.shift()}Vn!==null&&ql(Vn)&&(Vn=null),Wn!==null&&ql(Wn)&&(Wn=null),qn!==null&&ql(qn)&&(qn=null),da.forEach(lm),pa.forEach(lm)}function js(t,e){t.blockedOn===e&&(t.blockedOn=null,Ch||(Ch=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,x3)))}function k1(t){function e(i){return js(i,t)}if(0<un.length){js(un[0],t);for(var r=1;r<un.length;r++){var n=un[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vn!==null&&js(Vn,t),Wn!==null&&js(Wn,t),qn!==null&&js(qn,t),da.forEach(e),pa.forEach(e),r=0;r<Ps.length;r++)n=Ps[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ps.length&&(r=Ps[0],r.blockedOn===null);)E3(r),r.blockedOn===null&&Ps.shift()}function Cl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var bo={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},rh={},N1={};Tn&&(N1=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function ku(t){if(rh[t])return rh[t];if(!bo[t])return t;var e=bo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in N1)return rh[t]=e[r];return t}var T1=ku("animationend"),A1=ku("animationiteration"),I1=ku("animationstart"),R1=ku("transitionend"),F1=new Map,bd=new Map,O3=["abort","abort",T1,"animationEnd",A1,"animationIteration",I1,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",R1,"transitionEnd","waiting","waiting"];function Ed(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),bd.set(n,e),F1.set(n,i),Mi(i,[n])}}var k3=Ft.unstable_now;k3();var Xe=8;function _o(t){if((1&t)!==0)return Xe=15,1;if((2&t)!==0)return Xe=14,2;if((4&t)!==0)return Xe=13,4;var e=24&t;return e!==0?(Xe=12,e):(t&32)!==0?(Xe=11,32):(e=192&t,e!==0?(Xe=10,e):(t&256)!==0?(Xe=9,256):(e=3584&t,e!==0?(Xe=8,e):(t&4096)!==0?(Xe=7,4096):(e=4186112&t,e!==0?(Xe=6,e):(e=62914560&t,e!==0?(Xe=5,e):t&67108864?(Xe=4,67108864):(t&134217728)!==0?(Xe=3,134217728):(e=805306368&t,e!==0?(Xe=2,e):(1073741824&t)!==0?(Xe=1,1073741824):(Xe=8,t))))))}function N3(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function T3(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ge(358,t))}}function ya(t,e){var r=t.pendingLanes;if(r===0)return Xe=0;var n=0,i=0,o=t.expiredLanes,s=t.suspendedLanes,a=t.pingedLanes;if(o!==0)n=o,i=Xe=15;else if(o=r&134217727,o!==0){var c=o&~s;c!==0?(n=_o(c),i=Xe):(a&=o,a!==0&&(n=_o(a),i=Xe))}else o=r&~s,o!==0?(n=_o(o),i=Xe):a!==0&&(n=_o(a),i=Xe);if(n===0)return 0;if(n=31-Zn(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&(e&s)===0){if(_o(e),i<=Xe)return e;Xe=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Zn(e),i=1<<r,n|=t[r],e&=~i;return n}function D1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iu(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=So(24&~e),t===0?iu(10,e):t;case 10:return t=So(192&~e),t===0?iu(8,e):t;case 8:return t=So(3584&~e),t===0&&(t=So(4186112&~e),t===0&&(t=512)),t;case 2:return e=So(805306368&~e),e===0&&(e=268435456),e}throw Error(ge(358,t))}function So(t){return t&-t}function nh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Nu(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-Zn(e),t[e]=r}var Zn=Math.clz32?Math.clz32:R3,A3=Math.log,I3=Math.LN2;function R3(t){return t===0?32:31-(A3(t)/I3|0)|0}var F3=Ft.unstable_UserBlockingPriority,D3=Ft.unstable_runWithPriority,$l=!0;function C3(t,e,r,n){Ai||wd();var i=xd,o=Ai;Ai=!0;try{w1(i,t,e,r,n)}finally{(Ai=o)||_d()}}function L3(t,e,r,n){D3(F3,xd.bind(null,t,e,r,n))}function xd(t,e,r,n){if($l){var i;if((i=(e&4)===0)&&0<un.length&&-1<sm.indexOf(t))t=Lh(null,t,e,r,n),un.push(t);else{var o=Od(t,e,r,n);if(o===null)i&&am(t,n);else{if(i){if(-1<sm.indexOf(t)){t=Lh(o,t,e,r,n),un.push(t);return}if(b3(o,t,e,r,n))return;am(t,n)}H1(t,e,n,null,r)}}}}function Od(t,e,r,n){var i=md(n);if(i=Ii(i),i!==null){var o=Bi(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=S1(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return H1(t,e,n,i,r),null}var Bn=null,kd=null,Hl=null;function C1(){if(Hl)return Hl;var t,e=kd,r=e.length,n,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return Hl=i.slice(t,1<n?1-n:void 0)}function Jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ll(){return!0}function um(){return!1}function Er(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ll:um,this.isPropagationStopped=um,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),e}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nd=Er(Vo),xa=st({},Vo,{view:0,detail:0}),P3=Er(xa),ih,oh,Bs,Tu=st({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Td,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bs&&(Bs&&t.type==="mousemove"?(ih=t.screenX-Bs.screenX,oh=t.screenY-Bs.screenY):oh=ih=0,Bs=t),ih)},movementY:function(t){return"movementY"in t?t.movementY:oh}}),cm=Er(Tu),M3=st({},Tu,{dataTransfer:0}),j3=Er(M3),B3=st({},xa,{relatedTarget:0}),sh=Er(B3),U3=st({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),z3=Er(U3),V3=st({},Vo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W3=Er(V3),q3=st({},Vo,{data:0}),fm=Er(q3),$3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=J3[t])?!!e[t]:!1}function Td(){return G3}var Y3=st({},xa,{key:function(t){if(t.key){var e=$3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Td,charCode:function(t){return t.type==="keypress"?Jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),K3=Er(Y3),Z3=st({},Tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hm=Er(Z3),X3=st({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Td}),Q3=Er(X3),e4=st({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),t4=Er(e4),r4=st({},Tu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n4=Er(r4),i4=[9,13,27,32],Ad=Tn&&"CompositionEvent"in window,ra=null;Tn&&"documentMode"in document&&(ra=document.documentMode);var o4=Tn&&"TextEvent"in window&&!ra,L1=Tn&&(!Ad||ra&&8<ra&&11>=ra),dm=String.fromCharCode(32),pm=!1;function P1(t,e){switch(t){case"keyup":return i4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eo=!1;function s4(t,e){switch(t){case"compositionend":return M1(e);case"keypress":return e.which!==32?null:(pm=!0,dm);case"textInput":return t=e.data,t===dm&&pm?null:t;default:return null}}function a4(t,e){if(Eo)return t==="compositionend"||!Ad&&P1(t,e)?(t=C1(),Hl=kd=Bn=null,Eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return L1&&e.locale!=="ko"?null:e.data;default:return null}}var l4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l4[t.type]:e==="textarea"}function j1(t,e,r,n){m1(n),e=ou(e,"onChange"),0<e.length&&(r=new Nd("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var na=null,ga=null;function u4(t){W1(t,0)}function Au(t){var e=Oo(t);if(c1(e))return t}function c4(t,e){if(t==="change")return e}var B1=!1;Tn&&(Tn?(Ml="oninput"in document,Ml||(ah=document.createElement("div"),ah.setAttribute("oninput","return;"),Ml=typeof ah.oninput=="function"),Pl=Ml):Pl=!1,B1=Pl&&(!document.documentMode||9<document.documentMode));var Pl,Ml,ah;function gm(){na&&(na.detachEvent("onpropertychange",U1),ga=na=null)}function U1(t){if(t.propertyName==="value"&&Au(ga)){var e=[];if(j1(e,ga,t,md(t)),t=u4,Ai)t(e);else{Ai=!0;try{vd(t,e)}finally{Ai=!1,_d()}}}}function f4(t,e,r){t==="focusin"?(gm(),na=e,ga=r,na.attachEvent("onpropertychange",U1)):t==="focusout"&&gm()}function h4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(ga)}function d4(t,e){if(t==="click")return Au(e)}function p4(t,e){if(t==="input"||t==="change")return Au(e)}function y4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:y4,g4=Object.prototype.hasOwnProperty;function ma(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!g4.call(e,r[n])||!Dr(t[r[n]],e[r[n]]))return!1;return!0}function mm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vm(t,e){var r=mm(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mm(r)}}function z1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?z1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wm(){for(var t=window,e=tu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=tu(t.document)}return e}function Ph(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var m4=Tn&&"documentMode"in document&&11>=document.documentMode,xo=null,Mh=null,ia=null,jh=!1;function _m(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jh||xo==null||xo!==tu(n)||(n=xo,"selectionStart"in n&&Ph(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ia&&ma(ia,n)||(ia=n,n=ou(Mh,"onSelect"),0<n.length&&(e=new Nd("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=xo)))}Ed("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Ed("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Ed(O3,2);for(lh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),jl=0;jl<lh.length;jl++)bd.set(lh[jl],0);var lh,jl;jo("onMouseEnter",["mouseout","mouseover"]);jo("onMouseLeave",["mouseout","mouseover"]);jo("onPointerEnter",["pointerout","pointerover"]);jo("onPointerLeave",["pointerout","pointerover"]);Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ys));function Sm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,_3(n,e,void 0,t),t.currentTarget=null}function W1(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Sm(i,a,d),o=c}else for(s=0;s<n.length;s++){if(a=n[s],c=a.instance,d=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Sm(i,a,d),o=c}}}if(nu)throw t=Dh,nu=!1,Dh=null,t}function rt(t,e){var r=G1(e),n=t+"__bubble";r.has(n)||($1(e,t,2,!1),r.add(n))}var bm="_reactListening"+Math.random().toString(36).slice(2);function q1(t){t[bm]||(t[bm]=!0,a1.forEach(function(e){V1.has(e)||Em(e,!1,t,null),Em(e,!0,t,null)}))}function Em(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(t==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!e&&V1.has(t)){if(t!=="scroll")return;i|=2,o=n}var s=G1(o),a=t+"__"+(e?"capture":"bubble");s.has(a)||(e&&(i|=4),$1(o,t,i,e),s.add(a))}function $1(t,e,r,n){var i=bd.get(e);switch(i===void 0?2:i){case 0:i=C3;break;case 1:i=L3;break;default:i=xd}r=i.bind(null,e,r,t),i=void 0,!Fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function H1(t,e,r,n,i){var o=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ii(a),s===null)return;if(c=s.tag,c===5||c===6){n=o=s;continue e}a=a.parentNode}}n=n.return}g3(function(){var d=o,g=md(r),v=[];e:{var p=F1.get(t);if(p!==void 0){var w=Nd,b=t;switch(t){case"keypress":if(Jl(r)===0)break e;case"keydown":case"keyup":w=K3;break;case"focusin":b="focus",w=sh;break;case"focusout":b="blur",w=sh;break;case"beforeblur":case"afterblur":w=sh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=j3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Q3;break;case T1:case A1:case I1:w=z3;break;case R1:w=t4;break;case"scroll":w=P3;break;case"wheel":w=n4;break;case"copy":case"cut":case"paste":w=W3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=hm}var I=(e&4)!==0,k=!I&&t==="scroll",A=I?p!==null?p+"Capture":null:p;I=[];for(var D=d,Y;D!==null;){Y=D;var H=Y.stateNode;if(Y.tag===5&&H!==null&&(Y=H,A!==null&&(H=ha(D,A),H!=null&&I.push(va(D,H,Y)))),k)break;D=D.return}0<I.length&&(p=new w(p,b,null,r,g),v.push({event:p,listeners:I}))}}if((e&7)===0){e:{if(p=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",p&&(e&16)===0&&(b=r.relatedTarget||r.fromElement)&&(Ii(b)||b[Wo]))break e;if((w||p)&&(p=g.window===g?g:(p=g.ownerDocument)?p.defaultView||p.parentWindow:window,w?(b=r.relatedTarget||r.toElement,w=d,b=b?Ii(b):null,b!==null&&(k=Bi(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=d),w!==b)){if(I=cm,H="onMouseLeave",A="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(I=hm,H="onPointerLeave",A="onPointerEnter",D="pointer"),k=w==null?p:Oo(w),Y=b==null?p:Oo(b),p=new I(H,D+"leave",w,r,g),p.target=k,p.relatedTarget=Y,H=null,Ii(g)===d&&(I=new I(A,D+"enter",b,r,g),I.target=Y,I.relatedTarget=k,H=I),k=H,w&&b)t:{for(I=w,A=b,D=0,Y=I;Y;Y=wo(Y))D++;for(Y=0,H=A;H;H=wo(H))Y++;for(;0<D-Y;)I=wo(I),D--;for(;0<Y-D;)A=wo(A),Y--;for(;D--;){if(I===A||A!==null&&I===A.alternate)break t;I=wo(I),A=wo(A)}I=null}else I=null;w!==null&&xm(v,p,w,I,!1),b!==null&&k!==null&&xm(v,k,b,I,!0)}}e:{if(p=d?Oo(d):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var Z=c4;else if(ym(p))if(B1)Z=p4;else{Z=h4;var j=f4}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(Z=d4);if(Z&&(Z=Z(t,d))){j1(v,Z,r,g);break e}j&&j(t,p,d),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&xh(p,"number",p.value)}switch(j=d?Oo(d):window,t){case"focusin":(ym(j)||j.contentEditable==="true")&&(xo=j,Mh=d,ia=null);break;case"focusout":ia=Mh=xo=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,_m(v,r,g);break;case"selectionchange":if(m4)break;case"keydown":case"keyup":_m(v,r,g)}var V;if(Ad)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Eo?P1(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(L1&&r.locale!=="ko"&&(Eo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Eo&&(V=C1()):(Bn=g,kd="value"in Bn?Bn.value:Bn.textContent,Eo=!0)),j=ou(d,S),0<j.length&&(S=new fm(S,t,null,r,g),v.push({event:S,listeners:j}),V?S.data=V:(V=M1(r),V!==null&&(S.data=V)))),(V=o4?s4(t,r):a4(t,r))&&(d=ou(d,"onBeforeInput"),0<d.length&&(g=new fm("onBeforeInput","beforeinput",null,r,g),v.push({event:g,listeners:d}),g.data=V))}W1(v,e)})}function va(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ou(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ha(t,r),o!=null&&n.unshift(va(t,o,i)),o=ha(t,e),o!=null&&n.push(va(t,o,i))),t=t.return}return n}function wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xm(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,c=a.alternate,d=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&d!==null&&(a=d,i?(c=ha(r,o),c!=null&&s.unshift(va(r,c,a))):i||(c=ha(r,o),c!=null&&s.push(va(r,c,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}function su(){}var uh=null,ch=null;function J1(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Bh(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Om=typeof setTimeout=="function"?setTimeout:void 0,v4=typeof clearTimeout=="function"?clearTimeout:void 0;function Id(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Fo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function km(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fh=0;function w4(t){return{$$typeof:yd,toString:t,valueOf:t}}var Iu=Math.random().toString(36).slice(2),Un="__reactFiber$"+Iu,au="__reactProps$"+Iu,Wo="__reactContainer$"+Iu,Nm="__reactEvents$"+Iu;function Ii(t){var e=t[Un];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wo]||r[Un]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=km(t);t!==null;){if(r=t[Un])return r;t=km(t)}return e}t=r,r=t.parentNode}return null}function Oa(t){return t=t[Un]||t[Wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function Ru(t){return t[au]||null}function G1(t){var e=t[Nm];return e===void 0&&(e=t[Nm]=new Set),e}var Uh=[],ko=-1;function ti(t){return{current:t}}function nt(t){0>ko||(t.current=Uh[ko],Uh[ko]=null,ko--)}function pt(t,e){ko++,Uh[ko]=t.current,t.current=e}var Xn={},Xt=ti(Xn),ur=ti(!1),Ci=Xn;function Bo(t,e){var r=t.type.contextTypes;if(!r)return Xn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cr(t){return t=t.childContextTypes,t!=null}function lu(){nt(ur),nt(Xt)}function Tm(t,e,r){if(Xt.current!==Xn)throw Error(ge(168));pt(Xt,e),pt(ur,r)}function Y1(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ge(108,To(e)||"Unknown",i));return st({},r,n)}function Gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xn,Ci=Xt.current,pt(Xt,t),pt(ur,ur.current),!0}function Am(t,e,r){var n=t.stateNode;if(!n)throw Error(ge(169));r?(t=Y1(t,e,Ci),n.__reactInternalMemoizedMergedChildContext=t,nt(ur),nt(Xt),pt(Xt,t)):nt(ur),pt(ur,r)}var Rd=null,Di=null,_4=Ft.unstable_runWithPriority,Fd=Ft.unstable_scheduleCallback,zh=Ft.unstable_cancelCallback,S4=Ft.unstable_shouldYield,Im=Ft.unstable_requestPaint,Vh=Ft.unstable_now,b4=Ft.unstable_getCurrentPriorityLevel,Fu=Ft.unstable_ImmediatePriority,K1=Ft.unstable_UserBlockingPriority,Z1=Ft.unstable_NormalPriority,X1=Ft.unstable_LowPriority,Q1=Ft.unstable_IdlePriority,hh={},E4=Im!==void 0?Im:function(){},En=null,Yl=null,dh=!1,Rm=Vh(),Kt=1e4>Rm?Vh:function(){return Vh()-Rm};function Uo(){switch(b4()){case Fu:return 99;case K1:return 98;case Z1:return 97;case X1:return 96;case Q1:return 95;default:throw Error(ge(332))}}function tv(t){switch(t){case 99:return Fu;case 98:return K1;case 97:return Z1;case 96:return X1;case 95:return Q1;default:throw Error(ge(332))}}function Li(t,e){return t=tv(t),_4(t,e)}function wa(t,e,r){return t=tv(t),Fd(t,e,r)}function pn(){if(Yl!==null){var t=Yl;Yl=null,zh(t)}rv()}function rv(){if(!dh&&En!==null){dh=!0;var t=0;try{var e=En;Li(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),En=null}catch(r){throw En!==null&&(En=En.slice(t+1)),Fd(Fu,pn),r}finally{dh=!1}}}var x4=ji.ReactCurrentBatchConfig;function Hr(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var uu=ti(null),cu=null,No=null,fu=null;function Dd(){fu=No=cu=null}function Cd(t){var e=uu.current;nt(uu),t.type._context._currentValue=e}function nv(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Do(t,e){cu=t,fu=No=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Jr=!0),t.firstContext=null)}function Pr(t,e){if(fu!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(fu=t,e=1073741823),e={context:t,observedBits:e,next:null},No===null){if(cu===null)throw Error(ge(308));No=e,cu.dependencies={lanes:0,firstContext:e,responders:null}}else No=No.next=e;return t._currentValue}var Mn=!1;function Ld(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function iv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function Fm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function _a(t,e,r,n){var i=t.updateQueue;Mn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,d=c.next;c.next=null,s===null?o=d:s.next=d,s=c;var g=t.alternate;if(g!==null){g=g.updateQueue;var v=g.lastBaseUpdate;v!==s&&(v===null?g.firstBaseUpdate=d:v.next=d,g.lastBaseUpdate=c)}}if(o!==null){v=i.baseState,s=0,g=d=c=null;do{a=o.lane;var p=o.eventTime;if((n&a)===a){g!==null&&(g=g.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,b=o;switch(a=e,p=r,b.tag){case 1:if(w=b.payload,typeof w=="function"){v=w.call(p,v,a);break e}v=w;break e;case 3:w.flags=w.flags&-4097|64;case 0:if(w=b.payload,a=typeof w=="function"?w.call(p,v,a):w,a==null)break e;v=st({},v,a);break e;case 2:Mn=!0}}o.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else p={eventTime:p,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},g===null?(d=g=p,c=v):g=g.next=p,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);g===null&&(c=v),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=g,Na|=s,t.lanes=s,t.memoizedState=v}}function Dm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ge(191,i));i.call(n)}}}var ov=new Eu.Component().refs;function hu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:st({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Du={isMounted:function(t){return(t=t._reactInternals)?Bi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=br(),i=Jn(t),o=$n(n,i);o.payload=e,r!=null&&(o.callback=r),Hn(t,o),Gn(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=br(),i=Jn(t),o=$n(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),Hn(t,o),Gn(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=br(),n=Jn(t),i=$n(r,n);i.tag=2,e!=null&&(i.callback=e),Hn(t,i),Gn(t,n,r)}};function Cm(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!ma(r,n)||!ma(i,o):!0}function sv(t,e,r){var n=!1,i=Xn,o=e.contextType;return typeof o=="object"&&o!==null?o=Pr(o):(i=cr(e)?Ci:Xt.current,n=e.contextTypes,o=(n=n!=null)?Bo(t,i):Xn),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Du,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Lm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Du.enqueueReplaceState(e,e.state,null)}function Wh(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=ov,Ld(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Pr(o):(o=cr(e)?Ci:Xt.current,i.context=Bo(t,o)),_a(t,r,i,n),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(hu(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Du.enqueueReplaceState(i,i.state,null),_a(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Bl=Array.isArray;function Us(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=n.refs;s===ov&&(s=n.refs={}),o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,t))}return t}function Ul(t,e){if(t.type!=="textarea")throw Error(ge(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function av(t){function e(k,A){if(t){var D=k.lastEffect;D!==null?(D.nextEffect=A,k.lastEffect=A):k.firstEffect=k.lastEffect=A,A.nextEffect=null,A.flags=8}}function r(k,A){if(!t)return null;for(;A!==null;)e(k,A),A=A.sibling;return null}function n(k,A){for(k=new Map;A!==null;)A.key!==null?k.set(A.key,A):k.set(A.index,A),A=A.sibling;return k}function i(k,A){return k=ei(k,A),k.index=0,k.sibling=null,k}function o(k,A,D){return k.index=D,t?(D=k.alternate,D!==null?(D=D.index,D<A?(k.flags=2,A):D):(k.flags=2,A)):A}function s(k){return t&&k.alternate===null&&(k.flags=2),k}function a(k,A,D,Y){return A===null||A.tag!==6?(A=vh(D,k.mode,Y),A.return=k,A):(A=i(A,D),A.return=k,A)}function c(k,A,D,Y){return A!==null&&A.elementType===D.type?(Y=i(A,D.props),Y.ref=Us(k,A,D),Y.return=k,Y):(Y=Ql(D.type,D.key,D.props,null,k.mode,Y),Y.ref=Us(k,A,D),Y.return=k,Y)}function d(k,A,D,Y){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=wh(D,k.mode,Y),A.return=k,A):(A=i(A,D.children||[]),A.return=k,A)}function g(k,A,D,Y,H){return A===null||A.tag!==7?(A=Mo(D,k.mode,Y,H),A.return=k,A):(A=i(A,D),A.return=k,A)}function v(k,A,D){if(typeof A=="string"||typeof A=="number")return A=vh(""+A,k.mode,D),A.return=k,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Js:return D=Ql(A.type,A.key,A.props,null,k.mode,D),D.ref=Us(k,null,A),D.return=k,D;case Ti:return A=wh(A,k.mode,D),A.return=k,A}if(Bl(A)||Ls(A))return A=Mo(A,k.mode,D,null),A.return=k,A;Ul(k,A)}return null}function p(k,A,D,Y){var H=A!==null?A.key:null;if(typeof D=="string"||typeof D=="number")return H!==null?null:a(k,A,""+D,Y);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Js:return D.key===H?D.type===jn?g(k,A,D.props.children,Y,H):c(k,A,D,Y):null;case Ti:return D.key===H?d(k,A,D,Y):null}if(Bl(D)||Ls(D))return H!==null?null:g(k,A,D,Y,null);Ul(k,D)}return null}function w(k,A,D,Y,H){if(typeof Y=="string"||typeof Y=="number")return k=k.get(D)||null,a(A,k,""+Y,H);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Js:return k=k.get(Y.key===null?D:Y.key)||null,Y.type===jn?g(A,k,Y.props.children,H,Y.key):c(A,k,Y,H);case Ti:return k=k.get(Y.key===null?D:Y.key)||null,d(A,k,Y,H)}if(Bl(Y)||Ls(Y))return k=k.get(D)||null,g(A,k,Y,H,null);Ul(A,Y)}return null}function b(k,A,D,Y){for(var H=null,Z=null,j=A,V=A=0,S=null;j!==null&&V<D.length;V++){j.index>V?(S=j,j=null):S=j.sibling;var W=p(k,j,D[V],Y);if(W===null){j===null&&(j=S);break}t&&j&&W.alternate===null&&e(k,j),A=o(W,A,V),Z===null?H=W:Z.sibling=W,Z=W,j=S}if(V===D.length)return r(k,j),H;if(j===null){for(;V<D.length;V++)j=v(k,D[V],Y),j!==null&&(A=o(j,A,V),Z===null?H=j:Z.sibling=j,Z=j);return H}for(j=n(k,j);V<D.length;V++)S=w(j,k,V,D[V],Y),S!==null&&(t&&S.alternate!==null&&j.delete(S.key===null?V:S.key),A=o(S,A,V),Z===null?H=S:Z.sibling=S,Z=S);return t&&j.forEach(function(re){return e(k,re)}),H}function I(k,A,D,Y){var H=Ls(D);if(typeof H!="function")throw Error(ge(150));if(D=H.call(D),D==null)throw Error(ge(151));for(var Z=H=null,j=A,V=A=0,S=null,W=D.next();j!==null&&!W.done;V++,W=D.next()){j.index>V?(S=j,j=null):S=j.sibling;var re=p(k,j,W.value,Y);if(re===null){j===null&&(j=S);break}t&&j&&re.alternate===null&&e(k,j),A=o(re,A,V),Z===null?H=re:Z.sibling=re,Z=re,j=S}if(W.done)return r(k,j),H;if(j===null){for(;!W.done;V++,W=D.next())W=v(k,W.value,Y),W!==null&&(A=o(W,A,V),Z===null?H=W:Z.sibling=W,Z=W);return H}for(j=n(k,j);!W.done;V++,W=D.next())W=w(j,k,V,W.value,Y),W!==null&&(t&&W.alternate!==null&&j.delete(W.key===null?V:W.key),A=o(W,A,V),Z===null?H=W:Z.sibling=W,Z=W);return t&&j.forEach(function(X){return e(k,X)}),H}return function(k,A,D,Y){var H=typeof D=="object"&&D!==null&&D.type===jn&&D.key===null;H&&(D=D.props.children);var Z=typeof D=="object"&&D!==null;if(Z)switch(D.$$typeof){case Js:e:{for(Z=D.key,H=A;H!==null;){if(H.key===Z){switch(H.tag){case 7:if(D.type===jn){r(k,H.sibling),A=i(H,D.props.children),A.return=k,k=A;break e}break;default:if(H.elementType===D.type){r(k,H.sibling),A=i(H,D.props),A.ref=Us(k,H,D),A.return=k,k=A;break e}}r(k,H);break}else e(k,H);H=H.sibling}D.type===jn?(A=Mo(D.props.children,k.mode,Y,D.key),A.return=k,k=A):(Y=Ql(D.type,D.key,D.props,null,k.mode,Y),Y.ref=Us(k,A,D),Y.return=k,k=Y)}return s(k);case Ti:e:{for(H=D.key;A!==null;){if(A.key===H)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){r(k,A.sibling),A=i(A,D.children||[]),A.return=k,k=A;break e}else{r(k,A);break}else e(k,A);A=A.sibling}A=wh(D,k.mode,Y),A.return=k,k=A}return s(k)}if(typeof D=="string"||typeof D=="number")return D=""+D,A!==null&&A.tag===6?(r(k,A.sibling),A=i(A,D),A.return=k,k=A):(r(k,A),A=vh(D,k.mode,Y),A.return=k,k=A),s(k);if(Bl(D))return b(k,A,D,Y);if(Ls(D))return I(k,A,D,Y);if(Z&&Ul(k,D),typeof D>"u"&&!H)switch(k.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ge(152,To(k.type)||"Component"))}return r(k,A)}}var du=av(!0),lv=av(!1),ka={},hn=ti(ka),Sa=ti(ka),ba=ti(ka);function Ri(t){if(t===ka)throw Error(ge(174));return t}function qh(t,e){switch(pt(ba,e),pt(Sa,t),pt(hn,ka),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Th(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Th(e,t)}nt(hn),pt(hn,e)}function zo(){nt(hn),nt(Sa),nt(ba)}function Pm(t){Ri(ba.current);var e=Ri(hn.current),r=Th(e,t.type);e!==r&&(pt(Sa,t),pt(hn,r))}function Pd(t){Sa.current===t&&(nt(hn),nt(Sa))}var dt=ti(0);function pu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var On=null,zn=null,dn=!1;function uv(t,e){var r=Cr(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function Mm(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function $h(t){if(dn){var e=zn;if(e){var r=e;if(!Mm(t,e)){if(e=Fo(r.nextSibling),!e||!Mm(t,e)){t.flags=t.flags&-1025|2,dn=!1,On=t;return}uv(On,r)}On=t,zn=Fo(e.firstChild)}else t.flags=t.flags&-1025|2,dn=!1,On=t}}function jm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function zl(t){if(t!==On)return!1;if(!dn)return jm(t),dn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Bh(e,t.memoizedProps))for(e=zn;e;)uv(t,e),e=Fo(e.nextSibling);if(jm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){zn=Fo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=On?Fo(t.stateNode.nextSibling):null;return!0}function ph(){zn=On=null,dn=!1}var Co=[];function Md(){for(var t=0;t<Co.length;t++)Co[t]._workInProgressVersionPrimary=null;Co.length=0}var oa=ji.ReactCurrentDispatcher,Lr=ji.ReactCurrentBatchConfig,Ea=0,Et=null,Yt=null,Ut=null,yu=!1,sa=!1;function ar(){throw Error(ge(321))}function jd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Dr(t[r],e[r]))return!1;return!0}function Bd(t,e,r,n,i,o){if(Ea=o,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oa.current=t===null||t.memoizedState===null?k4:N4,t=r(n,i),sa){o=0;do{if(sa=!1,!(25>o))throw Error(ge(301));o+=1,Ut=Yt=null,e.updateQueue=null,oa.current=T4,t=r(n,i)}while(sa)}if(oa.current=wu,e=Yt!==null&&Yt.next!==null,Ea=0,Ut=Yt=Et=null,yu=!1,e)throw Error(ge(300));return t}function Fi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Et.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Ui(){if(Yt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=Ut===null?Et.memoizedState:Ut.next;if(e!==null)Ut=e,Yt=t;else{if(t===null)throw Error(ge(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ut===null?Et.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function cn(t,e){return typeof e=="function"?e(t):e}function zs(t){var e=Ui(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=Yt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var a=s=o=null,c=i;do{var d=c.lane;if((Ea&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var g={lane:d,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};a===null?(s=a=g,o=n):a=a.next=g,Et.lanes|=d,Na|=d}c=c.next}while(c!==null&&c!==i);a===null?o=n:a.next=s,Dr(n,e.memoizedState)||(Jr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function Vs(t){var e=Ui(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Dr(o,e.memoizedState)||(Jr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Bm(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Ea&t)===t)&&(e._workInProgressVersionPrimary=n,Co.push(e))),t)return r(e._source);throw Co.push(e),Error(ge(350))}function cv(t,e,r,n){var i=Qt;if(i===null)throw Error(ge(349));var o=e._getVersion,s=o(e._source),a=oa.current,c=a.useState(function(){return Bm(i,e,r)}),d=c[1],g=c[0];c=Ut;var v=t.memoizedState,p=v.refs,w=p.getSnapshot,b=v.source;v=v.subscribe;var I=Et;return t.memoizedState={refs:p,source:e,subscribe:n},a.useEffect(function(){p.getSnapshot=r,p.setSnapshot=d;var k=o(e._source);if(!Dr(s,k)){k=r(e._source),Dr(g,k)||(d(k),k=Jn(I),i.mutableReadLanes|=k&i.pendingLanes),k=i.mutableReadLanes,i.entangledLanes|=k;for(var A=i.entanglements,D=k;0<D;){var Y=31-Zn(D),H=1<<Y;A[Y]|=k,D&=~H}}},[r,e,n]),a.useEffect(function(){return n(e._source,function(){var k=p.getSnapshot,A=p.setSnapshot;try{A(k(e._source));var D=Jn(I);i.mutableReadLanes|=D&i.pendingLanes}catch(Y){A(function(){throw Y})}})},[e,n]),Dr(w,r)&&Dr(b,e)&&Dr(v,n)||(t={pending:null,dispatch:null,lastRenderedReducer:cn,lastRenderedState:g},t.dispatch=d=Vd.bind(null,Et,t),c.queue=t,c.baseQueue=null,g=Bm(i,e,r),c.memoizedState=c.baseState=g),g}function fv(t,e,r){var n=Ui();return cv(n,t,e,r)}function Ws(t){var e=Fi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:cn,lastRenderedState:t},t=t.dispatch=Vd.bind(null,Et,t),[e.memoizedState,t]}function gu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null},Et.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Um(t){var e=Fi();return t={current:t},e.memoizedState=t}function mu(){return Ui().memoizedState}function Hh(t,e,r,n){var i=Fi();Et.flags|=t,i.memoizedState=gu(1|e,r,void 0,n===void 0?null:n)}function Ud(t,e,r,n){var i=Ui();n=n===void 0?null:n;var o=void 0;if(Yt!==null){var s=Yt.memoizedState;if(o=s.destroy,n!==null&&jd(n,s.deps)){gu(e,r,o,n);return}}Et.flags|=t,i.memoizedState=gu(1|e,r,o,n)}function zm(t,e){return Hh(516,4,t,e)}function vu(t,e){return Ud(516,4,t,e)}function hv(t,e){return Ud(4,2,t,e)}function dv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pv(t,e,r){return r=r!=null?r.concat([t]):null,Ud(4,2,dv.bind(null,e,t),r)}function zd(){}function yv(t,e){var r=Ui();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&jd(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function gv(t,e){var r=Ui();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&jd(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function O4(t,e){var r=Uo();Li(98>r?98:r,function(){t(!0)}),Li(97<r?97:r,function(){var n=Lr.transition;Lr.transition=1;try{t(!1),e()}finally{Lr.transition=n}})}function Vd(t,e,r){var n=br(),i=Jn(t),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),e.pending=o,s=t.alternate,t===Et||s!==null&&s===Et)sa=yu=!0;else{if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,r);if(o.eagerReducer=s,o.eagerState=c,Dr(c,a))return}catch{}finally{}Gn(t,i,n)}}var wu={readContext:Pr,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useOpaqueIdentifier:ar,unstable_isNewReconciler:!1},k4={readContext:Pr,useCallback:function(t,e){return Fi().memoizedState=[t,e===void 0?null:e],t},useContext:Pr,useEffect:zm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Hh(4,2,dv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Hh(4,2,t,e)},useMemo:function(t,e){var r=Fi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Fi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Vd.bind(null,Et,t),[n.memoizedState,t]},useRef:Um,useState:Ws,useDebugValue:zd,useDeferredValue:function(t){var e=Ws(t),r=e[0],n=e[1];return zm(function(){var i=Lr.transition;Lr.transition=1;try{n(t)}finally{Lr.transition=i}},[t]),r},useTransition:function(){var t=Ws(!1),e=t[0];return t=O4.bind(null,t[1]),Um(t),[t,e]},useMutableSource:function(t,e,r){var n=Fi();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},cv(n,t,e,r)},useOpaqueIdentifier:function(){if(dn){var t=!1,e=w4(function(){throw t||(t=!0,r("r:"+(fh++).toString(36))),Error(ge(355))}),r=Ws(e)[1];return(Et.mode&2)===0&&(Et.flags|=516,gu(5,function(){r("r:"+(fh++).toString(36))},void 0,null)),e}return e="r:"+(fh++).toString(36),Ws(e),e},unstable_isNewReconciler:!1},N4={readContext:Pr,useCallback:yv,useContext:Pr,useEffect:vu,useImperativeHandle:pv,useLayoutEffect:hv,useMemo:gv,useReducer:zs,useRef:mu,useState:function(){return zs(cn)},useDebugValue:zd,useDeferredValue:function(t){var e=zs(cn),r=e[0],n=e[1];return vu(function(){var i=Lr.transition;Lr.transition=1;try{n(t)}finally{Lr.transition=i}},[t]),r},useTransition:function(){var t=zs(cn)[0];return[mu().current,t]},useMutableSource:fv,useOpaqueIdentifier:function(){return zs(cn)[0]},unstable_isNewReconciler:!1},T4={readContext:Pr,useCallback:yv,useContext:Pr,useEffect:vu,useImperativeHandle:pv,useLayoutEffect:hv,useMemo:gv,useReducer:Vs,useRef:mu,useState:function(){return Vs(cn)},useDebugValue:zd,useDeferredValue:function(t){var e=Vs(cn),r=e[0],n=e[1];return vu(function(){var i=Lr.transition;Lr.transition=1;try{n(t)}finally{Lr.transition=i}},[t]),r},useTransition:function(){var t=Vs(cn)[0];return[mu().current,t]},useMutableSource:fv,useOpaqueIdentifier:function(){return Vs(cn)[0]},unstable_isNewReconciler:!1},A4=ji.ReactCurrentOwner,Jr=!1;function lr(t,e,r,n){e.child=t===null?lv(e,null,r,n):du(e,t.child,r,n)}function Vm(t,e,r,n,i){r=r.render;var o=e.ref;return Do(e,i),n=Bd(t,e,r,n,o,i),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,kn(t,e,i)):(e.flags|=1,lr(t,e,n,i),e.child)}function Wm(t,e,r,n,i,o){if(t===null){var s=r.type;return typeof s=="function"&&!Gd(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,mv(t,e,s,n,i,o)):(t=Ql(r.type,null,n,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return s=t.child,(i&o)===0&&(i=s.memoizedProps,r=r.compare,r=r!==null?r:ma,r(i,n)&&t.ref===e.ref)?kn(t,e,o):(e.flags|=1,t=ei(s,n),t.ref=e.ref,t.return=e,e.child=t)}function mv(t,e,r,n,i,o){if(t!==null&&ma(t.memoizedProps,n)&&t.ref===e.ref)if(Jr=!1,(o&i)!==0)(t.flags&16384)!==0&&(Jr=!0);else return e.lanes=t.lanes,kn(t,e,o);return Jh(t,e,r,n,o)}function yh(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Wl(e,r);else if((r&1073741824)!==0)e.memoizedState={baseLanes:0},Wl(e,o!==null?o.baseLanes:r);else return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Wl(e,t),null;else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Wl(e,n);return lr(t,e,i,r),e.child}function vv(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function Jh(t,e,r,n,i){var o=cr(r)?Ci:Xt.current;return o=Bo(e,o),Do(e,i),r=Bd(t,e,r,n,o,i),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,kn(t,e,i)):(e.flags|=1,lr(t,e,r,i),e.child)}function qm(t,e,r,n,i){if(cr(r)){var o=!0;Gl(e)}else o=!1;if(Do(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),sv(e,r,n),Wh(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,d=r.contextType;typeof d=="object"&&d!==null?d=Pr(d):(d=cr(r)?Ci:Xt.current,d=Bo(e,d));var g=r.getDerivedStateFromProps,v=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||c!==d)&&Lm(e,s,n,d),Mn=!1;var p=e.memoizedState;s.state=p,_a(e,n,s,i),c=e.memoizedState,a!==n||p!==c||ur.current||Mn?(typeof g=="function"&&(hu(e,r,g,n),c=e.memoizedState),(a=Mn||Cm(e,r,a,n,p,c,d))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=d,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{s=e.stateNode,iv(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Hr(e.type,a),s.props=d,v=e.pendingProps,p=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pr(c):(c=cr(r)?Ci:Xt.current,c=Bo(e,c));var w=r.getDerivedStateFromProps;(g=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==v||p!==c)&&Lm(e,s,n,c),Mn=!1,p=e.memoizedState,s.state=p,_a(e,n,s,i);var b=e.memoizedState;a!==v||p!==b||ur.current||Mn?(typeof w=="function"&&(hu(e,r,w,n),b=e.memoizedState),(d=Mn||Cm(e,r,d,n,p,b,c))?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,b,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,b,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=b),s.props=n,s.state=b,s.context=c,n=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=256),n=!1)}return Gh(t,e,r,n,o,i)}function Gh(t,e,r,n,i,o){vv(t,e);var s=(e.flags&64)!==0;if(!n&&!s)return i&&Am(e,r,!1),kn(t,e,o);n=e.stateNode,A4.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=du(e,t.child,null,o),e.child=du(e,null,a,o)):lr(t,e,a,o),e.memoizedState=n.state,i&&Am(e,r,!0),e.child}function $m(t){var e=t.stateNode;e.pendingContext?Tm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tm(t,e.context,!1),qh(t,e.containerInfo)}var Vl={dehydrated:null,retryLane:0};function Hm(t,e,r){var n=e.pendingProps,i=dt.current,o=!1,s;return(s=(e.flags&64)!==0)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),pt(dt,i&1),t===null?(n.fallback!==void 0&&$h(e),t=n.children,i=n.fallback,o?(t=Jm(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Vl,t):typeof n.unstable_expectedLoadTime=="number"?(t=Jm(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Vl,e.lanes=33554432,t):(r=Yd({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?o?(n=Ym(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=Vl,n):(r=Gm(t,e,n.children,r),e.memoizedState=null,r):o?(n=Ym(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=Vl,n):(r=Gm(t,e,n.children,r),e.memoizedState=null,r)}function Jm(t,e,r,n){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=e):o=Yd(e,i,0,null),r=Mo(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r}function Gm(t,e,r,n){var i=t.child;return t=i.sibling,r=ei(i,{mode:"visible",children:r}),(e.mode&2)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function Ym(t,e,r,n,i){var o=e.mode,s=t.child;t=s.sibling;var a={mode:"hidden",children:r};return(o&2)===0&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,s=r.lastEffect,s!==null?(e.firstEffect=r.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):r=ei(s,a),t!==null?n=ei(t,n):(n=Mo(n,o,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function Km(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nv(t.return,e)}function gh(t,e,r,n,i,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.lastEffect=o)}function Zm(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(lr(t,e,n.children,r),n=dt.current,(n&2)!==0)n=n&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Km(t,r);else if(t.tag===19)Km(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(pt(dt,n),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&pu(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),gh(e,!1,i,r,o,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pu(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}gh(e,!0,r,null,o,e.lastEffect);break;case"together":gh(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function kn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Na|=e.lanes,(r&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(ge(153));if(e.child!==null){for(t=e.child,r=ei(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ei(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var wv,Yh,_v,Sv;wv=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yh=function(){};_v=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ri(hn.current);var o=null;switch(r){case"input":i=bh(t,i),n=bh(t,n),o=[];break;case"option":i=Oh(t,i),n=Oh(t,n),o=[];break;case"select":i=st({},i,{value:void 0}),n=st({},n,{value:void 0}),o=[];break;case"textarea":i=kh(t,i),n=kh(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=su)}Ah(r,n);var s;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ca.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(a=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ca.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&rt("scroll",t),o||a===c||(o=[])):typeof c=="object"&&c!==null&&c.$$typeof===yd?c.toString():(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};Sv=function(t,e,r,n){r!==n&&(e.flags|=4)};function qs(t,e){if(!dn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function I4(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return cr(e.type)&&lu(),null;case 3:return zo(),nt(ur),nt(Xt),Md(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(zl(e)?e.flags|=4:n.hydrate||(e.flags|=256)),Yh(e),null;case 5:Pd(e);var i=Ri(ba.current);if(r=e.type,t!==null&&e.stateNode!=null)_v(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(ge(166));return null}if(t=Ri(hn.current),zl(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Un]=e,n[au]=o,r){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(t=0;t<Ys.length;t++)rt(Ys[t],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":Qg(n,o),rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},rt("invalid",n);break;case"textarea":tm(n,o),rt("invalid",n)}Ah(r,o),t=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):ca.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&rt("scroll",n));switch(r){case"input":Fl(n),em(n,o,!0);break;case"textarea":Fl(n),rm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=su)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,t===Nh.html&&(t=d1(r)),t===Nh.html?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Un]=e,t[au]=n,wv(t,e,!1,!1),e.stateNode=t,s=Ih(r,n),r){case"dialog":rt("cancel",t),rt("close",t),i=n;break;case"iframe":case"object":case"embed":rt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ys.length;i++)rt(Ys[i],t);i=n;break;case"source":rt("error",t),i=n;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=n;break;case"details":rt("toggle",t),i=n;break;case"input":Qg(t,n),i=bh(t,n),rt("invalid",t);break;case"option":i=Oh(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=st({},n,{value:void 0}),rt("invalid",t);break;case"textarea":tm(t,n),i=kh(t,n),rt("invalid",t);break;default:i=n}Ah(r,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?g1(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&p1(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fa(t,c):typeof c=="number"&&fa(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ca.hasOwnProperty(o)?c!=null&&o==="onScroll"&&rt("scroll",t):c!=null&&ud(t,o,c,s))}switch(r){case"input":Fl(t),em(t,n,!1);break;case"textarea":Fl(t),rm(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Kn(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Ao(t,!!n.multiple,o,!1):n.defaultValue!=null&&Ao(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=su)}J1(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Sv(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ge(166));r=Ri(ba.current),Ri(hn.current),zl(e)?(n=e.stateNode,r=e.memoizedProps,n[Un]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Un]=e,e.stateNode=n)}return null;case 13:return nt(dt),n=e.memoizedState,(e.flags&64)!==0?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&zl(e):r=t.memoizedState!==null,n&&!r&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(dt.current&1)!==0?zt===0&&(zt=3):((zt===0||zt===3)&&(zt=4),Qt===null||(Na&134217727)===0&&($o&134217727)===0||Lo(Qt,Zt))),(n||r)&&(e.flags|=4),null);case 4:return zo(),Yh(e),t===null&&q1(e.stateNode.containerInfo),null;case 10:return Cd(e),null;case 17:return cr(e.type)&&lu(),null;case 19:if(nt(dt),n=e.memoizedState,n===null)return null;if(o=(e.flags&64)!==0,s=n.rendering,s===null)if(o)qs(n,!1);else{if(zt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(s=pu(t),s!==null){for(e.flags|=64,qs(n,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return pt(dt,dt.current&1|2),e.child}t=t.sibling}n.tail!==null&&Kt()>td&&(e.flags|=64,o=!0,qs(n,!1),e.lanes=33554432)}else{if(!o)if(t=pu(s),t!==null){if(e.flags|=64,o=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),qs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!dn)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Kt()-n.renderingStartTime>td&&r!==1073741824&&(e.flags|=64,o=!0,qs(n,!1),e.lanes=33554432);n.isBackwards?(s.sibling=e.child,e.child=s):(r=n.last,r!==null?r.sibling=s:e.child=s,n.last=s)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Kt(),r.sibling=null,e=dt.current,pt(dt,o?e&1|2:e&1),r):null;case 23:case 24:return Jd(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(ge(156,e.tag))}function R4(t){switch(t.tag){case 1:cr(t.type)&&lu();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(zo(),nt(ur),nt(Xt),Md(),e=t.flags,(e&64)!==0)throw Error(ge(285));return t.flags=e&-4097|64,t;case 5:return Pd(t),null;case 13:return nt(dt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return nt(dt),null;case 4:return zo(),null;case 10:return Cd(t),null;case 23:case 24:return Jd(),null;default:return null}}function Wd(t,e){try{var r="",n=e;do r+=f3(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function Kh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var F4=typeof WeakMap=="function"?WeakMap:Map;function bv(t,e,r){r=$n(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Su||(Su=!0,rd=n),Kh(t,e)},r}function Ev(t,e,r){r=$n(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return Kh(t,e),n(i)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(fn===null?fn=new Set([this]):fn.add(this),Kh(t,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}var D4=typeof WeakSet=="function"?WeakSet:Set;function Xm(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){Yn(t,r)}else e.current=null}function C4(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:Hr(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Id(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ge(163))}function L4(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(Fv(r,t),W4(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:Hr(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&Dm(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}Dm(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&J1(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&k1(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ge(163))}function Qm(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=y1("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function e1(t,e){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(Rd,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)Fv(e,r);else{n=e;try{i()}catch(o){Yn(n,o)}}r=r.next}while(r!==t)}break;case 1:if(Xm(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Yn(e,o)}break;case 5:Xm(e);break;case 4:xv(t,e)}}function t1(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function r1(t){return t.tag===5||t.tag===3||t.tag===4}function n1(t){e:{for(var e=t.return;e!==null;){if(r1(e))break e;e=e.return}throw Error(ge(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(ge(161))}r.flags&16&&(fa(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||r1(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Zh(t,r,e):Xh(t,r,e)}function Zh(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=su));else if(n!==4&&(t=t.child,t!==null))for(Zh(t,e,r),t=t.sibling;t!==null;)Zh(t,e,r),t=t.sibling}function Xh(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Xh(t,e,r),t=t.sibling;t!==null;)Xh(t,e,r),t=t.sibling}function xv(t,e){for(var r=e,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(ge(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var s=t,a=r,c=a;;)if(e1(s,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}o?(s=i,a=r.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(e1(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function mh(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(r[au]=n,t==="input"&&n.type==="radio"&&n.name!=null&&f1(r,n),Ih(t,i),e=Ih(t,n),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?g1(r,a):s==="dangerouslySetInnerHTML"?p1(r,a):s==="children"?fa(r,a):ud(r,s,a,e)}switch(t){case"input":Eh(r,n);break;case"textarea":h1(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Ao(r,!!n.multiple,o,!1):t!==!!n.multiple&&(n.defaultValue!=null?Ao(r,!!n.multiple,n.defaultValue,!0):Ao(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(ge(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,k1(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Hd=Kt(),Qm(e.child,!0)),i1(e);return;case 19:i1(e);return;case 17:return;case 23:case 24:Qm(e,e.memoizedState!==null);return}throw Error(ge(163))}function i1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new D4),e.forEach(function(n){var i=H4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function P4(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var M4=Math.ceil,_u=ji.ReactCurrentDispatcher,qd=ji.ReactCurrentOwner,Ae=0,Qt=null,It=null,Zt=0,Pi=0,Qh=ti(0),zt=0,Cu=null,qo=0,Na=0,$o=0,$d=0,ed=null,Hd=0,td=1/0;function Ho(){td=Kt()+500}var Ee=null,Su=!1,rd=null,fn=null,Qn=!1,aa=null,Ks=90,nd=[],id=[],Nn=null,la=0,od=null,Kl=-1,xn=0,Zl=0,ua=null,Xl=!1;function br(){return(Ae&48)!==0?Kt():Kl!==-1?Kl:Kl=Kt()}function Jn(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Uo()===99?1:2;if(xn===0&&(xn=qo),x4.transition!==0){Zl!==0&&(Zl=ed!==null?ed.pendingLanes:0),t=xn;var e=4186112&~Zl;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Uo(),(Ae&4)!==0&&t===98?t=iu(12,xn):(t=N3(t),t=iu(t,xn)),t}function Gn(t,e,r){if(50<la)throw la=0,od=null,Error(ge(185));if(t=Lu(t,e),t===null)return null;Nu(t,e,r),t===Qt&&($o|=e,zt===4&&Lo(t,Zt));var n=Uo();e===1?(Ae&8)!==0&&(Ae&48)===0?sd(t):(Mr(t,r),Ae===0&&(Ho(),pn())):((Ae&4)===0||n!==98&&n!==99||(Nn===null?Nn=new Set([t]):Nn.add(t)),Mr(t,r)),ed=t}function Lu(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function Mr(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Zn(s),c=1<<a,d=o[a];if(d===-1){if((c&n)===0||(c&i)!==0){d=e,_o(c);var g=Xe;o[a]=10<=g?d+250:6<=g?d+5e3:-1}}else d<=e&&(t.expiredLanes|=c);s&=~c}if(n=ya(t,t===Qt?Zt:0),e=Xe,n===0)r!==null&&(r!==hh&&zh(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==hh&&zh(r)}e===15?(r=sd.bind(null,t),En===null?(En=[r],Yl=Fd(Fu,rv)):En.push(r),r=hh):e===14?r=wa(99,sd.bind(null,t)):(r=T3(e),r=wa(r,Ov.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function Ov(t){if(Kl=-1,Zl=xn=0,(Ae&48)!==0)throw Error(ge(327));var e=t.callbackNode;if(ri()&&t.callbackNode!==e)return null;var r=ya(t,t===Qt?Zt:0);if(r===0)return null;var n=r,i=Ae;Ae|=16;var o=Av();(Qt!==t||Zt!==n)&&(Ho(),Po(t,n));do try{U4();break}catch(a){Tv(t,a)}while(1);if(Dd(),_u.current=o,Ae=i,It!==null?n=0:(Qt=null,Zt=0,n=zt),(qo&$o)!==0)Po(t,0);else if(n!==0){if(n===2&&(Ae|=64,t.hydrate&&(t.hydrate=!1,Id(t.containerInfo)),r=D1(t),r!==0&&(n=Zs(t,r))),n===1)throw e=Cu,Po(t,0),Lo(t,r),Mr(t,Kt()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(ge(345));case 2:Ni(t);break;case 3:if(Lo(t,r),(r&62914560)===r&&(n=Hd+500-Kt(),10<n)){if(ya(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){br(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Om(Ni.bind(null,t),n);break}Ni(t);break;case 4:if(Lo(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var s=31-Zn(r);o=1<<s,s=n[s],s>i&&(i=s),r&=~o}if(r=i,r=Kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M4(r/1960))-r,10<r){t.timeoutHandle=Om(Ni.bind(null,t),r);break}Ni(t);break;case 5:Ni(t);break;default:throw Error(ge(329))}}return Mr(t,Kt()),t.callbackNode===e?Ov.bind(null,t):null}function Lo(t,e){for(e&=~$d,e&=~$o,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Zn(e),n=1<<r;t[r]=-1,e&=~n}}function sd(t){if((Ae&48)!==0)throw Error(ge(327));if(ri(),t===Qt&&(t.expiredLanes&Zt)!==0){var e=Zt,r=Zs(t,e);(qo&$o)!==0&&(e=ya(t,e),r=Zs(t,e))}else e=ya(t,0),r=Zs(t,e);if(t.tag!==0&&r===2&&(Ae|=64,t.hydrate&&(t.hydrate=!1,Id(t.containerInfo)),e=D1(t),e!==0&&(r=Zs(t,e))),r===1)throw r=Cu,Po(t,0),Lo(t,e),Mr(t,Kt()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ni(t),Mr(t,Kt()),null}function j4(){if(Nn!==null){var t=Nn;Nn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Mr(e,Kt())})}pn()}function kv(t,e){var r=Ae;Ae|=1;try{return t(e)}finally{Ae=r,Ae===0&&(Ho(),pn())}}function Nv(t,e){var r=Ae;Ae&=-2,Ae|=8;try{return t(e)}finally{Ae=r,Ae===0&&(Ho(),pn())}}function Wl(t,e){pt(Qh,Pi),Pi|=e,qo|=e}function Jd(){Pi=Qh.current,nt(Qh)}function Po(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,v4(r)),It!==null)for(r=It.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&lu();break;case 3:zo(),nt(ur),nt(Xt),Md();break;case 5:Pd(n);break;case 4:zo();break;case 13:nt(dt);break;case 19:nt(dt);break;case 10:Cd(n);break;case 23:case 24:Jd()}r=r.return}Qt=t,It=ei(t.current,null),Zt=Pi=qo=e,zt=0,Cu=null,$d=$o=Na=0}function Tv(t,e){do{var r=It;try{if(Dd(),oa.current=wu,yu){for(var n=Et.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}yu=!1}if(Ea=0,Ut=Yt=Et=null,sa=!1,qd.current=null,r===null||r.return===null){zt=1,Cu=e,It=null;break}e:{var o=t,s=r.return,a=r,c=e;if(e=Zt,a.flags|=2048,a.firstEffect=a.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c;if((a.mode&2)===0){var g=a.alternate;g?(a.updateQueue=g.updateQueue,a.memoizedState=g.memoizedState,a.lanes=g.lanes):(a.updateQueue=null,a.memoizedState=null)}var v=(dt.current&1)!==0,p=s;do{var w;if(w=p.tag===13){var b=p.memoizedState;if(b!==null)w=b.dehydrated!==null;else{var I=p.memoizedProps;w=I.fallback===void 0?!1:I.unstable_avoidThisFallback!==!0?!0:!v}}if(w){var k=p.updateQueue;if(k===null){var A=new Set;A.add(d),p.updateQueue=A}else k.add(d);if((p.mode&2)===0){if(p.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var D=$n(-1,1);D.tag=2,Hn(a,D)}a.lanes|=1;break e}c=void 0,a=e;var Y=o.pingCache;if(Y===null?(Y=o.pingCache=new F4,c=new Set,Y.set(d,c)):(c=Y.get(d),c===void 0&&(c=new Set,Y.set(d,c))),!c.has(a)){c.add(a);var H=$4.bind(null,o,d,a);d.then(H,H)}p.flags|=4096,p.lanes=e;break e}p=p.return}while(p!==null);c=Error((To(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}zt!==5&&(zt=2),c=Wd(c,a),p=s;do{switch(p.tag){case 3:o=c,p.flags|=4096,e&=-e,p.lanes|=e;var Z=bv(p,o,e);Fm(p,Z);break e;case 1:o=c;var j=p.type,V=p.stateNode;if((p.flags&64)===0&&(typeof j.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(fn===null||!fn.has(V)))){p.flags|=4096,e&=-e,p.lanes|=e;var S=Ev(p,o,e);Fm(p,S);break e}}p=p.return}while(p!==null)}Rv(r)}catch(W){e=W,It===r&&r!==null&&(It=r=r.return);continue}break}while(1)}function Av(){var t=_u.current;return _u.current=wu,t===null?wu:t}function Zs(t,e){var r=Ae;Ae|=16;var n=Av();Qt===t&&Zt===e||Po(t,e);do try{B4();break}catch(i){Tv(t,i)}while(1);if(Dd(),Ae=r,_u.current=n,It!==null)throw Error(ge(261));return Qt=null,Zt=0,zt}function B4(){for(;It!==null;)Iv(It)}function U4(){for(;It!==null&&!S4();)Iv(It)}function Iv(t){var e=Dv(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,e===null?Rv(t):It=e,qd.current=null}function Rv(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&2048)===0){if(r=I4(r,e,Pi),r!==null){It=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Pi&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(r=R4(e),r!==null){r.flags&=2047,It=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);zt===0&&(zt=5)}function Ni(t){var e=Uo();return Li(99,z4.bind(null,t,e)),null}function z4(t,e){do ri();while(aa!==null);if((Ae&48)!==0)throw Error(ge(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ge(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,a=t.expirationTimes;0<o;){var c=31-Zn(o),d=1<<c;i[c]=0,s[c]=-1,a[c]=-1,o&=~d}if(Nn!==null&&(n&24)===0&&Nn.has(t)&&Nn.delete(t),t===Qt&&(It=Qt=null,Zt=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Ae,Ae|=32,qd.current=null,uh=$l,s=wm(),Ph(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(d=a.getSelection&&a.getSelection())&&d.rangeCount!==0){a=d.anchorNode,o=d.anchorOffset,c=d.focusNode,d=d.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var g=0,v=-1,p=-1,w=0,b=0,I=s,k=null;t:for(;;){for(var A;I!==a||o!==0&&I.nodeType!==3||(v=g+o),I!==c||d!==0&&I.nodeType!==3||(p=g+d),I.nodeType===3&&(g+=I.nodeValue.length),(A=I.firstChild)!==null;)k=I,I=A;for(;;){if(I===s)break t;if(k===a&&++w===o&&(v=g),k===c&&++b===d&&(p=g),(A=I.nextSibling)!==null)break;I=k,k=I.parentNode}I=A}a=v===-1||p===-1?null:{start:v,end:p}}else a=null;a=a||{start:0,end:0}}else a=null;ch={focusedElem:s,selectionRange:a},$l=!1,ua=null,Xl=!1,Ee=n;do try{V4()}catch(W){if(Ee===null)throw Error(ge(330));Yn(Ee,W),Ee=Ee.nextEffect}while(Ee!==null);ua=null,Ee=n;do try{for(s=t;Ee!==null;){var D=Ee.flags;if(D&16&&fa(Ee.stateNode,""),D&128){var Y=Ee.alternate;if(Y!==null){var H=Y.ref;H!==null&&(typeof H=="function"?H(null):H.current=null)}}switch(D&1038){case 2:n1(Ee),Ee.flags&=-3;break;case 6:n1(Ee),Ee.flags&=-3,mh(Ee.alternate,Ee);break;case 1024:Ee.flags&=-1025;break;case 1028:Ee.flags&=-1025,mh(Ee.alternate,Ee);break;case 4:mh(Ee.alternate,Ee);break;case 8:a=Ee,xv(s,a);var Z=a.alternate;t1(a),Z!==null&&t1(Z)}Ee=Ee.nextEffect}}catch(W){if(Ee===null)throw Error(ge(330));Yn(Ee,W),Ee=Ee.nextEffect}while(Ee!==null);if(H=ch,Y=wm(),D=H.focusedElem,s=H.selectionRange,Y!==D&&D&&D.ownerDocument&&z1(D.ownerDocument.documentElement,D)){for(s!==null&&Ph(D)&&(Y=s.start,H=s.end,H===void 0&&(H=Y),"selectionStart"in D?(D.selectionStart=Y,D.selectionEnd=Math.min(H,D.value.length)):(H=(Y=D.ownerDocument||document)&&Y.defaultView||window,H.getSelection&&(H=H.getSelection(),a=D.textContent.length,Z=Math.min(s.start,a),s=s.end===void 0?Z:Math.min(s.end,a),!H.extend&&Z>s&&(a=s,s=Z,Z=a),a=vm(D,Z),o=vm(D,s),a&&o&&(H.rangeCount!==1||H.anchorNode!==a.node||H.anchorOffset!==a.offset||H.focusNode!==o.node||H.focusOffset!==o.offset)&&(Y=Y.createRange(),Y.setStart(a.node,a.offset),H.removeAllRanges(),Z>s?(H.addRange(Y),H.extend(o.node,o.offset)):(Y.setEnd(o.node,o.offset),H.addRange(Y)))))),Y=[],H=D;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<Y.length;D++)H=Y[D],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}$l=!!uh,ch=uh=null,t.current=r,Ee=n;do try{for(D=t;Ee!==null;){var j=Ee.flags;if(j&36&&L4(D,Ee.alternate,Ee),j&128){Y=void 0;var V=Ee.ref;if(V!==null){var S=Ee.stateNode;switch(Ee.tag){case 5:Y=S;break;default:Y=S}typeof V=="function"?V(Y):V.current=Y}}Ee=Ee.nextEffect}}catch(W){if(Ee===null)throw Error(ge(330));Yn(Ee,W),Ee=Ee.nextEffect}while(Ee!==null);Ee=null,E4(),Ae=i}else t.current=r;if(Qn)Qn=!1,aa=t,Ks=e;else for(Ee=n;Ee!==null;)e=Ee.nextEffect,Ee.nextEffect=null,Ee.flags&8&&(j=Ee,j.sibling=null,j.stateNode=null),Ee=e;if(n=t.pendingLanes,n===0&&(fn=null),n===1?t===od?la++:(la=0,od=t):la=0,r=r.stateNode,Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(Rd,r,void 0,(r.current.flags&64)===64)}catch{}if(Mr(t,Kt()),Su)throw Su=!1,t=rd,rd=null,t;return(Ae&8)!==0||pn(),null}function V4(){for(;Ee!==null;){var t=Ee.alternate;Xl||ua===null||((Ee.flags&8)!==0?om(Ee,ua)&&(Xl=!0):Ee.tag===13&&P4(t,Ee)&&om(Ee,ua)&&(Xl=!0));var e=Ee.flags;(e&256)!==0&&C4(t,Ee),(e&512)===0||Qn||(Qn=!0,wa(97,function(){return ri(),null})),Ee=Ee.nextEffect}}function ri(){if(Ks!==90){var t=97<Ks?97:Ks;return Ks=90,Li(t,q4)}return!1}function W4(t,e){nd.push(e,t),Qn||(Qn=!0,wa(97,function(){return ri(),null}))}function Fv(t,e){id.push(e,t),Qn||(Qn=!0,wa(97,function(){return ri(),null}))}function q4(){if(aa===null)return!1;var t=aa;if(aa=null,(Ae&48)!==0)throw Error(ge(331));var e=Ae;Ae|=32;var r=id;id=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(c){if(o===null)throw Error(ge(330));Yn(o,c)}}for(r=nd,nd=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var a=i.create;i.destroy=a()}catch(c){if(o===null)throw Error(ge(330));Yn(o,c)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return Ae=e,pn(),!0}function o1(t,e,r){e=Wd(r,e),e=bv(t,e,1),Hn(t,e),e=br(),t=Lu(t,1),t!==null&&(Nu(t,1,e),Mr(t,e))}function Yn(t,e){if(t.tag===3)o1(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){o1(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fn===null||!fn.has(n))){t=Wd(e,t);var i=Ev(r,t,1);if(Hn(r,i),i=br(),r=Lu(r,1),r!==null)Nu(r,1,i),Mr(r,i);else if(typeof n.componentDidCatch=="function"&&(fn===null||!fn.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function $4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=br(),t.pingedLanes|=t.suspendedLanes&r,Qt===t&&(Zt&r)===r&&(zt===4||zt===3&&(Zt&62914560)===Zt&&500>Kt()-Hd?Po(t,0):$d|=r),Mr(t,e)}function H4(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Uo()===99?1:2:(xn===0&&(xn=qo),e=So(62914560&~xn),e===0&&(e=4194304))),r=br(),t=Lu(t,e),t!==null&&(Nu(t,e,r),Mr(t,r))}var Dv;Dv=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)Jr=!0;else if((r&n)!==0)Jr=(t.flags&16384)!==0;else{switch(Jr=!1,e.tag){case 3:$m(e),ph();break;case 5:Pm(e);break;case 1:cr(e.type)&&Gl(e);break;case 4:qh(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;pt(uu,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return(r&e.child.childLanes)!==0?Hm(t,e,r):(pt(dt,dt.current&1),e=kn(t,e,r),e!==null?e.sibling:null);pt(dt,dt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,(t.flags&64)!==0){if(n)return Zm(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(dt,dt.current),n)break;return null;case 23:case 24:return e.lanes=0,yh(t,e,r)}return kn(t,e,r)}else Jr=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Bo(e,Xt.current),Do(e,r),i=Bd(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,cr(n)){var o=!0;Gl(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ld(e);var s=n.getDerivedStateFromProps;typeof s=="function"&&hu(e,n,s,t),i.updater=Du,e.stateNode=i,i._reactInternals=e,Wh(e,n,t,r),e=Gh(null,e,n,!0,o,r)}else e.tag=0,lr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=G4(i),t=Hr(i,t),o){case 0:e=Jh(null,e,i,t,r);break e;case 1:e=qm(null,e,i,t,r);break e;case 11:e=Vm(null,e,i,t,r);break e;case 14:e=Wm(null,e,i,Hr(i.type,t),n,r);break e}throw Error(ge(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hr(n,i),Jh(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hr(n,i),qm(t,e,n,i,r);case 3:if($m(e),n=e.updateQueue,t===null||n===null)throw Error(ge(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,iv(t,e),_a(e,n,null,r),n=e.memoizedState.element,n===i)ph(),e=kn(t,e,r);else{if(i=e.stateNode,(o=i.hydrate)&&(zn=Fo(e.stateNode.containerInfo.firstChild),On=e,o=dn=!0),o){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)o=t[i],o._workInProgressVersionPrimary=t[i+1],Co.push(o);for(r=lv(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else lr(t,e,n,r),ph();e=e.child}return e;case 5:return Pm(e),t===null&&$h(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Bh(n,i)?s=null:o!==null&&Bh(n,o)&&(e.flags|=16),vv(t,e),lr(t,e,s,r),e.child;case 6:return t===null&&$h(e),null;case 13:return Hm(t,e,r);case 4:return qh(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=du(e,null,n,r):lr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hr(n,i),Vm(t,e,n,i,r);case 7:return lr(t,e,e.pendingProps,r),e.child;case 8:return lr(t,e,e.pendingProps.children,r),e.child;case 12:return lr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var a=e.type._context;if(pt(uu,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=Dr(a,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!ur.current){e=kn(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){s=a.child;for(var d=c.firstContext;d!==null;){if(d.context===n&&(d.observedBits&o)!==0){a.tag===1&&(d=$n(-1,r&-r),d.tag=2,Hn(a,d)),a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),nv(a.return,r),c.lanes|=r;break}d=d.next}}else s=a.tag===10&&a.type===e.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}lr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,n=o.children,Do(e,r),i=Pr(i,o.unstable_observedBits),n=n(i),e.flags|=1,lr(t,e,n,r),e.child;case 14:return i=e.type,o=Hr(i,e.pendingProps),o=Hr(i.type,o),Wm(t,e,i,o,n,r);case 15:return mv(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hr(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,cr(n)?(t=!0,Gl(e)):t=!1,Do(e,r),sv(e,n,i),Wh(e,n,i,r),Gh(null,e,n,!0,t,r);case 19:return Zm(t,e,r);case 23:return yh(t,e,r);case 24:return yh(t,e,r)}throw Error(ge(156,e.tag))};function J4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(t,e,r,n){return new J4(t,e,r,n)}function Gd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G4(t){if(typeof t=="function")return Gd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xu)return 11;if(t===Ou)return 14}return 2}function ei(t,e){var r=t.alternate;return r===null?(r=Cr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ql(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")Gd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case jn:return Mo(r.children,i,o,e);case l1:s=8,i|=16;break;case cd:s=8,i|=1;break;case Xs:return t=Cr(12,r,e,i|8),t.elementType=Xs,t.type=Xs,t.lanes=o,t;case Qs:return t=Cr(13,r,e,i),t.type=Qs,t.elementType=Qs,t.lanes=o,t;case eu:return t=Cr(19,r,e,i),t.elementType=eu,t.lanes=o,t;case gd:return Yd(r,i,o,e);case Sh:return t=Cr(24,r,e,i),t.elementType=Sh,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fd:s=10;break e;case hd:s=9;break e;case xu:s=11;break e;case Ou:s=14;break e;case dd:s=16,n=null;break e;case pd:s=22;break e}throw Error(ge(130,t==null?t:typeof t,""))}return e=Cr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Mo(t,e,r,n){return t=Cr(7,t,n,e),t.lanes=r,t}function Yd(t,e,r,n){return t=Cr(23,t,n,e),t.elementType=gd,t.lanes=r,t}function vh(t,e,r){return t=Cr(6,t,null,e),t.lanes=r,t}function wh(t,e,r){return e=Cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Y4(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=nh(0),this.expirationTimes=nh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nh(0),this.mutableSourceEagerHydrationData=null}function K4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function bu(t,e,r,n){var i=e.current,o=br(),s=Jn(i);e:if(r){r=r._reactInternals;t:{if(Bi(r)!==r||r.tag!==1)throw Error(ge(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(cr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(ge(171))}if(r.tag===1){var c=r.type;if(cr(c)){r=Y1(r,c,a);break e}}r=a}else r=Xn;return e.context===null?e.context=r:e.pendingContext=r,e=$n(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),Hn(i,e),Gn(i,s,o),s}function _h(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function s1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Kd(t,e){s1(t,e),(t=t.alternate)&&s1(t,e)}function Z4(){return null}function Zd(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new Y4(t,e,r!=null&&r.hydrate===!0),e=Cr(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,Ld(e),t[Wo]=r.current,q1(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}Zd.prototype.render=function(t){bu(t,this._internalRoot,null,null)};Zd.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;bu(null,t,null,function(){e[Wo]=null})};function Ta(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function X4(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new Zd(t,0,e?{hydrate:!0}:void 0)}function Pu(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var d=_h(s);a.call(d)}}bu(e,s,t,i)}else{if(o=r._reactRootContainer=X4(r,n),s=o._internalRoot,typeof i=="function"){var c=i;i=function(){var d=_h(s);c.call(d)}}Nv(function(){bu(e,s,t,i)})}return _h(s)}E1=function(t){if(t.tag===13){var e=br();Gn(t,4,e),Kd(t,4)}};Sd=function(t){if(t.tag===13){var e=br();Gn(t,67108864,e),Kd(t,67108864)}};x1=function(t){if(t.tag===13){var e=br(),r=Jn(t);Gn(t,r,e),Kd(t,r)}};O1=function(t,e){return e()};Rh=function(t,e,r){switch(e){case"input":if(Eh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ru(n);if(!i)throw Error(ge(90));c1(n),Eh(n,i)}}}break;case"textarea":h1(t,r);break;case"select":e=r.value,e!=null&&Ao(t,!!r.multiple,e,!1)}};vd=kv;w1=function(t,e,r,n,i){var o=Ae;Ae|=4;try{return Li(98,t.bind(null,e,r,n,i))}finally{Ae=o,Ae===0&&(Ho(),pn())}};wd=function(){(Ae&49)===0&&(j4(),ri())};_1=function(t,e){var r=Ae;Ae|=2;try{return t(e)}finally{Ae=r,Ae===0&&(Ho(),pn())}};function Cv(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ta(e))throw Error(ge(200));return K4(t,e,null,r)}var Q4={Events:[Oa,Oo,Ru,m1,v1,ri,{current:!1}]},$s={findFiberByHostInstance:Ii,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ex={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b1(t),t===null?null:t.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||Z4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Hs.isDisabled&&Hs.supportsFiber))try{Rd=Hs.inject(ex),Di=Hs}catch{}var Hs;jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q4;jr.createPortal=Cv;jr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ge(188)):Error(ge(268,Object.keys(t)));return t=b1(e),t=t===null?null:t.stateNode,t};jr.flushSync=function(t,e){var r=Ae;if((r&48)!==0)return t(e);Ae|=1;try{if(t)return Li(99,t.bind(null,e))}finally{Ae=r,pn()}};jr.hydrate=function(t,e,r){if(!Ta(e))throw Error(ge(200));return Pu(null,t,e,!0,r)};jr.render=function(t,e,r){if(!Ta(e))throw Error(ge(200));return Pu(null,t,e,!1,r)};jr.unmountComponentAtNode=function(t){if(!Ta(t))throw Error(ge(40));return t._reactRootContainer?(Nv(function(){Pu(null,null,t,!1,function(){t._reactRootContainer=null,t[Wo]=null})}),!0):!1};jr.unstable_batchedUpdates=kv;jr.unstable_createPortal=function(t,e){return Cv(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};jr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ta(r))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return Pu(t,e,r,!1,n)};jr.version="17.0.2"});var jv=Oe((fT,Mv)=>{"use strict";function Pv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pv)}catch(t){console.error(t)}}Pv(),Mv.exports=Lv()});var Aa=Oe(Gv=>{var lx={debug:!1,protocol:"http",host:"localhost",port:8080,socket_protocol:"ws",hotreload:5e3,python:void 0,python_node:7001,startpage:"src/index.html",errpage:"src/other/404.html",certpath:"node_server/ssl/cert.pem",keypath:"node_server/ssl/key.pem",dataserver:"http://localhost:4000",realmapp:"buckleup-ilscy",googleclientid:"406817559914-boi30d05dk9jtj55frgi1dg8gkp6rrj9.apps.googleusercontent.com"};Gv.settings=lx});var Kv,Zv,Yv,Xv=Ge(()=>{Kv=Tt(Aa()),Yv={log:console.log,gAuth:new Promise(t=>Zv=t)};Object.keys(Yv).forEach(t=>{window[t]=Yv[t]});(function(){if(location.hostname==="localhost"&&location.port!=="4000")return;function e(){gapi.load("auth2",()=>{gapi.auth2.init({client_id:Kv.settings.googleclientid,scope:"https://www.googleapis.com/auth/drive"}).then(i=>{Zv(()=>i)},i=>{console.log("UNHANDLED"),console.error(i)})})}let r=document.createElement("script");r.type="text/javascript",r.src="https://apis.google.com/js/platform.js",r.onload=e,document.head.appendChild(r)})()});var ew=Oe(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0})});var Qd=Oe(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.arrHas=Ve.arrLast=Ve.arrToBoolDict=Ve.arrToIdxDict=Ve.arrToDict=Ve.arrRemoveValues=Ve.arrReplace=Ve.arrDeepFlatten=Ve.arrFlatten=Ve.arrDivide=Ve.arrGetByIds=Ve.arrRemoveById=Ve.arrGen=void 0;var ii=Wt(),ux=(t,e=void 0)=>t<1?[]:Array(t).fill(e);Ve.arrGen=ux;function cx(t,e,r="id"){let n=tw(t,r),i=ii.objRemoveKeys(n,e);return ii.objVals(i)}Ve.arrRemoveById=cx;function fx(t,e,r="id"){let n=rw(e);return t.filter(i=>n[i[r]])}Ve.arrGetByIds=fx;function hx(t,e){let r=Math.ceil(t.length/e)||0,n=Ve.arrGen(r).map(()=>[]);return t.forEach((i,o)=>n[Math.floor(o/e)].push(i)),n}Ve.arrDivide=hx;function dx(t){return[].concat.apply([],t)}Ve.arrFlatten=dx;var px=t=>t.reduce((e,r)=>e.concat(ii.isType(r,"array")?Ve.arrDeepFlatten(r):r),[]);Ve.arrDeepFlatten=px;function yx(t){let e=[...t];return{all:r=>{let n=[];return t.forEach((i,o)=>ii.equal(r,i)?n[o]=o:null),{with:i=>n.length?(n.forEach(o=>e[o]=i),e):t}},first:r=>{let n=t.findIndex(i=>ii.equal(r,i));return{with:i=>ii.nonValue(n)?t:(e[n]=i,e)}}}}Ve.arrReplace=yx;function gx(t,e){let r=[...t];return e.forEach(n=>r=r.filter(i=>!ii.equal(i,n))),r}Ve.arrRemoveValues=gx;function tw(t,e){let r={};return t.forEach(n=>r[n[e]]=n),r}Ve.arrToDict=tw;function mx(t){let e={};return t.forEach((r,n)=>e[r]=n+""),e}Ve.arrToIdxDict=mx;function rw(t){let e={};return t.forEach(r=>e[r]=!0),e}Ve.arrToBoolDict=rw;var vx=t=>t[t.length-1];Ve.arrLast=vx;function wx(t,e,r=!1){let n=r?i=>ii.equal(i,e):i=>i===e;return t.findIndex(n)!==-1}Ve.arrHas=wx});var nw=Oe(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.clone=void 0;function e0(t){let e,r,n,i,o,s,a;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t);if(r=Object.keys(t),n=r.length,Array.isArray(t)){for(s=new Array(n),i=0;i<n;i++)o=r[i],e=t[o],typeof e!="object"||e===null?s[o]=e:e instanceof Date?s[o]=new Date(e):s[o]=e0(e);return s}for(a={},i=0;i<n;i++)o=r[i],e=t[o],Object.hasOwnProperty.call(t,o)!==!1&&(typeof e!="object"||e===null?a[o]=e:e instanceof Date?a[o]=new Date(e):a[o]=e0(e));return a}Mu.clone=e0});var iw=Oe(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.equal=void 0;function ju(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ju(t[n],e[n]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;for(n of t.entries())if(!ju(n[1],e.get(n[0])))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!ju(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}Bu.equal=ju});var sw=Oe(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.promiseOut=yt.debounceTimeOut=yt.randomColorHex=yt.uuid=yt.assertType=yt.type=yt.cloneLog=yt.unsubAll=yt.wait=yt.interval=void 0;var An=Wt(),_x=(t,e,r)=>{if(An.isType(r,"number")&&r<1)throw Error(`argument "times" can't be less than 1`);let n=0,i=()=>clearInterval(o),o=setInterval(()=>{t(n,i),n++,r&&n>=r&&i()},e);return{stop:i}};yt.interval=_x;var Sx=t=>new Promise(e=>setTimeout(()=>e(),t));yt.wait=Sx;var ow=(t,e="unsubscribe")=>An.isType(t,"object")&&An.hasKey(t,e)?t[e]():null;function bx(t,e="unsubscribe"){if(An.isType(t,"array"))t.forEach(r=>ow(r,e));else if(An.isType(t,"object"))An.objMap(t,({val:r})=>ow(r,e));else throw Error('argument "objOrArr" must be of type "object" or "array"')}yt.unsubAll=bx;var Ex=t=>console.log(An.clone(t));yt.cloneLog=Ex;function xx(t){return typeof t=="object"?Array.isArray(t)?"array":t===null?"null":"object":t!==t?"NaN":typeof t}yt.type=xx;function Ox(t,e){An.isType(e,"array")||(e=[e]);for(let r of e)if(An.isType(t,r))return;throw Error(`value needs to be of type ${e.join(" || ")}`)}yt.assertType=Ox;var kx=()=>{let t=new Date().getTime(),e=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=Math.random()*16;return t>0?(i=(t+i)%16|0,t=Math.floor(t/16)):(i=(e+i)%16|0,e=Math.floor(e/16)),(n==="x"?i:i&3|8).toString(16)})};yt.uuid=kx;var Nx=()=>"#"+((1<<24)*Math.random()|0).toString(16);yt.randomColorHex=Nx;function Tx(){let t=null;return(e,r)=>{t&&clearTimeout(t),e!=="cancel"&&(t=setTimeout(e,r||0))}}yt.debounceTimeOut=Tx;function Ax(){let t,e=new Promise(r=>t=r);return{resolve:t,promise:e}}yt.promiseOut=Ax});var aw=Oe(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.iterate=void 0;var t0=Qd();function Ix(t,e,r){let n=(i,o=!1)=>{let s=[];for(let a=0;a<t;a++)if(!e)s.push(i({x:a}));else for(let c=0;c<e;c++)if(!r)s.push(i({x:a,y:c}));else for(let d=0;d<r;d++)s.push(i({x:a,y:c,z:d}));return o?r&&e?t0.arrDivide(s,e*r).map(c=>t0.arrDivide(c,r)):e?t0.arrDivide(s,e):s:s};return{for:i=>{n(i)},map:i=>n(i),nestedMap:i=>n(i,!0)}}Uu.iterate=Ix});var uw=Oe(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.newNumFromRange=xr.numberWithCommas=xr.decPlace=xr.average=xr.rand=void 0;var lw=Wt(),Rx=(t,e)=>Math.floor(Math.random()*(e+1-t))+t;xr.rand=Rx;var Fx=t=>t.reduce((e=0,r=0)=>e+r,0)/t.length;xr.average=Fx;var Dx=(t,e)=>parseFloat(t.toFixed(e));xr.decPlace=Dx;var Cx=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");xr.numberWithCommas=Cx;function Lx(t,e,r){let n,i=0,o=lw.isType(t,"array")?lw.arrToBoolDict(t):{[t]:!0};do if(n=xr.rand(e,r),i++,i>1e6)throw console.error("Check for infinite loops"),new Error("Looped 1 million times");while(o[n]);return n}xr.newNumFromRange=Lx});var cw=Oe(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.objPromiseAll=ut.objSortKeys=ut.objResolve=ut.objExtract=ut.objKeyVals=ut.objVals=ut.objKeys=ut.objRemoveKeys=ut.objFilter=ut.objMap=void 0;function Px(t,e){let r={};for(let n in t)r[n]=e({key:n,val:t[n]});return r}ut.objMap=Px;function Mx(t,e){let r=Object.assign({},t);for(let n in t)e({key:n,val:t[n]})||delete r[n];return r}ut.objFilter=Mx;function jx(t,e){let r=Object.assign({},t);return e.forEach(n=>delete r[n]),r}ut.objRemoveKeys=jx;function zu(t){if(Object.keys)return Object.keys(t);let e=[];for(let r in t)e.push(r);return e}ut.objKeys=zu;var Bx=t=>Object.values?Object.values(t):zu(t).map(e=>t[e]);ut.objVals=Bx;var Ux=t=>zu(t).map(e=>({key:e,val:t[e]}));ut.objKeyVals=Ux;function zx(t,e){let r={};return e.forEach(n=>r[n]=t[n]),r}ut.objExtract=zx;var Vx=(t,e)=>e.split(".").reduce((r,n)=>r[n],t);ut.objResolve=Vx;var Wx=(t,e)=>{let r={};return zu(t).sort(e).map(i=>r[i]=t[i]),r};ut.objSortKeys=Wx;function qx(t){let e=ut.objKeyVals(t),r=e.length,n={},i=0;return new Promise(o=>e.forEach(({key:s,val:a})=>a.then(c=>{n[s]=c,i++,r===i&&o(n)})))}ut.objPromiseAll=qx});var fw=Oe(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.minAppend=oi.strRemove=oi.strIncludes=void 0;var $x=(t,e)=>t.indexOf(e)!==-1;oi.strIncludes=$x;var Hx=(t,e)=>t.replace(new RegExp(e,"g"),"");oi.strRemove=Hx;var Jx=(t,e,r="0")=>(r.repeat(e-1)+t).slice(-e);oi.minAppend=Jx});var dw=Oe(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.isValidEmail=gt.nonValue=gt.nullOrEmpty=gt.isType=gt.hasKeys=gt.hasKey=gt.equalAny=void 0;var Gx=Wt(),hw=Wt(),Yx=(t,e)=>!!e.find(r=>Gx.equal(t,r));gt.equalAny=Yx;var Kx=(t,e)=>gt.isType(t,"object")&&t.hasOwnProperty(e);gt.hasKey=Kx;function Zx(t,e){if(!gt.isType(t,"object"))return!1;for(let r of e)if(!t.hasOwnProperty(r))return!1;return!0}gt.hasKeys=Zx;var Xx=(t,e)=>hw.type(t)===e;gt.isType=Xx;function Qx(t){return gt.nonValue(t)?!0:gt.isType(t,"string")||gt.isType(t,"array")?!t.length:gt.isType(t,"object")?!hw.objVals(t).length:!1}gt.nullOrEmpty=Qx;var eO=t=>t==null;gt.nonValue=eO;var tO=t=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t);gt.isValidEmail=tO});var pw=Oe(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.yearStartEnd=we.monthStartEnd=we.weekStartEnd=we.getDayStartEnd=we.wks=we.weeks=we.dys=we.days=we.hrs=we.hours=we.min=we.minutes=we.sec=we.seconds=we.msTimeObj=we.msToTime=we.msToWks=we.msToDys=we.msToHrs=we.msToMin=we.msToSec=we.dateTimeToString=we.weekTuple=we.msTime=void 0;var Vu=Wt();we.msTime={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};we.weekTuple=["sun","mon","tue","wed","thu","fri","sat"];function rO(t=new Date){let e=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2),n=("0"+t.getSeconds()).slice(-2),i=("00"+t.getMilliseconds()).slice(-3);return`${e}:${r}:${n}:${i}`}we.dateTimeToString=rO;var nO=t=>t/we.msTime.s;we.msToSec=nO;var iO=t=>t/we.msTime.m;we.msToMin=iO;var oO=t=>t/we.msTime.h;we.msToHrs=oO;var sO=t=>t/we.msTime.d;we.msToDys=sO;var aO=t=>t/we.msTime.w;we.msToWks=aO;function lO(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);o=o%24;let a=("00"+s).slice(-3),c=("0"+o).slice(-2),d=("0"+i).slice(-2),g=("0"+n).slice(-2),v=("00"+r).slice(-3);return e?{d:s,h:o,m:i,s:n,ms:r}:`${s?a+":":""}${c}:${d}:${g}:${v}`}we.msToTime=lO;function uO(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);return o=o%24,e?{d:s,h:o,m:i,s:n,ms:r}:{d:("00"+s).slice(-3),h:("0"+o).slice(-2),m:("0"+i).slice(-2),s:("0"+n).slice(-2),ms:("00"+r).slice(-3)}}we.msTimeObj=uO;var cO=t=>t*we.msTime.s;we.seconds=cO;we.sec=we.seconds;var fO=t=>t*we.msTime.m;we.minutes=fO;we.min=we.minutes;var hO=t=>t*we.msTime.h;we.hours=hO;we.hrs=we.hours;var dO=t=>t*we.msTime.d;we.days=dO;we.dys=we.days;var pO=t=>t*we.msTime.w;we.weeks=pO;we.wks=we.weeks;function yO(t,e="local"){Vu.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),o=new Date(r,n,i),s=new Date(r,n,i,23,59,59,999);if(e==="unix"){let a=we.min(o.getTimezoneOffset());o=new Date(o.getTime()+a),s=new Date(s.getTime()+a)}return{start:o,end:s}}we.getDayStartEnd=yO;function gO(t,e="sun",r="local"){Vu.isType(t,"number")&&(t=new Date(t));let i=t.getDay()*-1+(e==="mon"?1:0),o=6+i,s=new Date(t.getTime()+we.days(i)),a=new Date(t.getTime()+we.days(o)),c=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999);if(r==="unix"){let g=we.min(c.getTimezoneOffset());c=new Date(c.getTime()+g),d=new Date(d.getTime()+g)}return{start:c,end:d}}we.weekStartEnd=gO;function mO(t,e="local"){Vu.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=new Date(r,n,1),o=new Date(r,n,0,23,59,59,999);if(e==="unix"){let s=we.min(i.getTimezoneOffset());i=new Date(i.getTime()+s),o=new Date(o.getTime()+s)}return{start:i,end:o}}we.monthStartEnd=mO;function vO(t,e="local"){Vu.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=new Date(r,0,1),i=new Date(r,12,0,23,59,59,999);if(e==="unix"){let o=we.min(n.getTimezoneOffset());n=new Date(n.getTime()+o),i=new Date(i.getTime()+o)}return{start:n,end:i}}we.yearStartEnd=vO});var Wt=Oe(qt=>{"use strict";var wO=qt&&qt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Yr=qt&&qt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&wO(e,t,r)};Object.defineProperty(qt,"__esModule",{value:!0});Yr(ew(),qt);Yr(Qd(),qt);Yr(nw(),qt);Yr(iw(),qt);Yr(sw(),qt);Yr(aw(),qt);Yr(uw(),qt);Yr(cw(),qt);Yr(fw(),qt);Yr(dw(),qt);Yr(pw(),qt)});var yw,gw,mw,vw=Ge(()=>{yw=class{constructor(e=!1,r=!1){this.debug=e,this.listeners=[],this.synchronous=r,this.syncInterval="FRAMERATE",this.syncAnim=void 0,r===!0&&this.startSync()}addListener(e=null,r,n=void 0,i=void 0,o=void 0,s=this.debug,a=!0){if(r===void 0){console.error("You must assign an object");return}var c=e;c==null&&(c=Math.floor(Math.random()*1e5)),this.synchronous===!0&&(a=!1);var d={key:c,listener:new gw(r,n,i,o,s,a)};this.listeners.push(d)}getListener(e){return this.listeners.find((n,i)=>{if(n.key===e)return!0})}hasKey(e){var r=!1;return this.listeners.forEach((n,i)=>{if(n.key===e)return r=!0,!0}),r}getKeyIndices(e){var r=[];return this.listeners.find((n,i)=>{n.key===e&&r.push(i)}),r}onchange(e=null,r=null){if(e==null)this.listeners.forEach((i,o)=>{i.listener.onchange=r});else var n=this.listeners.find((i,o)=>{i.name===e&&(i.listener.onchange=r)})}addFunc=(e=null,r=null,n=!0)=>{var i=null;if(r!==null)if(e==null)this.listeners.forEach((s,a)=>{i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start()});else var o=this.listeners.find((s,a)=>{s.key===e&&(i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start())});return i};getFuncs=(e=void 0)=>{if(e){var r=this.listeners.find((n,i)=>{if(n.key===e)return!0});return r.onchangeFuncs}else return};removeFuncs=(e=null,r=null,n=!1)=>{if(e==null)this.listeners.forEach((o,s)=>{o.listener.removeFuncs(r)});else var i=this.listeners.find((o,s)=>{o.key===e&&(o.listener.removeFuncs(r),(o.listener.onchangeFuncs.length===0||n===!0)&&o.listener.stop())})};stop(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.stop()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.stop()})}start(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.start()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.start()})}startSync(){if(this.synchronous===!1){this.synchronous=!0,this.stop();let e=()=>{this.synchronous===!0&&(this.listeners.forEach(r=>{r.listener.check()}),this.syncInterval==="FRAMERATE"?this.syncAnim=requestAnimationFrame(e):typeof this.syncInterval=="number"&&setTimeout(e,this.syncInterval))};e()}}stopSync(){this.synchronous=!1,this.syncAnim&&cancelAnimationFrame(this.syncAnim)}remove(e=null){if(e==null)this.listeners.forEach(i=>{i.listener.stop()}),this.listeners.splice(0,this.listeners.length);else{var r=[],n=this.listeners.forEach((i,o)=>{i.key===e&&r.push(o)});r.reverse().forEach(i=>{this.listeners[i].listener.stop(),this.listeners.splice(i,1)})}}},gw=class{constructor(e,r="__ANY__",n=this.onchange,i="FRAMERATE",o=!1,s=!0){this.debug=o,this.onchange=n,this.onchangeFuncs=[],this.object=e,this.propName=r,this.propOld=void 0,this.setListenerRef(r),this.running=s,this.funcs=0,this.interval,i<10?(this.interval=10,console.log("Min recommended interval set: 10ms")):this.interval=i,s===!0&&(typeof window>"u"?setTimeout(()=>{this.check()},60):this.checker=requestAnimationFrame(this.check))}onchange=e=>{console.log(this.propName," changed from: ",this.propOld," to: ",this.object[this.propName])};addFunc=(e=null)=>{let r=0;return e!==null&&(this.onchangeFuncs.push({idx:this.funcs,onchange:e}),r=this.funcs,this.funcs++),r};removeFuncs(e=null){let r=0;e===null?this.onchangeFuncs=[]:this.onchangeFuncs.find((n,i)=>{if(n.idx===e)return r=i,!0})!==void 0&&this.onchangeFuncs.splice(r,1)}onchangeMulti=e=>{[...this.onchangeFuncs].forEach((n,i)=>{this.debug===!0&&console.log(n.onchange),n.onchange(e)})};setListenerRef=e=>{e==="__ANY__"||e===null||e===void 0?this.propOld=JSON.stringifyFast(this.object):Array.isArray(this.object[e])?this.propOld=JSON.stringifyFast(this.object[e].slice(this.object[e].length-20)):typeof this.object[e]=="object"?this.propOld=JSON.stringifyFast(this.object[e]):typeof this.object[e]=="function"?this.propOld=this.object[e].toString():this.propOld=this.object[e],this.debug===!0&&console.log("propname",e,", new assignment: ",this.propOld)};check=()=>{let e=!1;if(this.propName==="__ANY__"||this.propName===null||this.propName===void 0)this.propOld!==JSON.stringifyFast(this.object)&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object),this.setListenerRef(this.propName),e=!0);else if(Array.isArray(this.object[this.propName]))this.propOld!==JSON.stringifyFast(this.object[this.propName].slice(this.object[this.propName].length-20))&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);else if(typeof this.object[this.propName]=="object"){let r=JSON.stringifyFast(this.object[this.propName]);this.propOld!==r&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0)}else typeof this.object[this.propName]=="function"?this.propOld!==this.object[this.propName].toString()&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName].toString()),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName].toString()),this.setListenerRef(this.propName),e=!0):this.object[this.propName]!==this.propOld&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);return this.running===!0&&(this.debug===!0&&console.log("checking",this.object,this.propName),this.interval==="FRAMERATE"?typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check):setTimeout(()=>{this.check()},this.interval)),e};start(){this.running=!0,typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check)}stop(){this.running=!1,cancelAnimationFrame(this.checker)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1;if(e[c]){var d=e[c];if(typeof d=="object")if(d[s]===a||c===0)r.push(s),e.push(a.pushed);else for(;c-->=0;){if(d=e[c],typeof d=="object"&&d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}c--}}}function o(s,a){let c;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let g=t.get(a);if(g)return"[Circular Reference]"+g;if(t.set(a,r.join(".")),d==="Array")a.length>20?c=a.slice(a.length-20):c=a;else if(d.includes("Set"))c=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")c="instanceof_"+d;else if(d==="Object"){let v={};for(let p in a)if(a[p]==null)v[p]=a[p];else if(Array.isArray(a[p]))a[p].length>20?v[p]=a[p].slice(a[p].length-20):v[p]=a[p];else if(a[p].constructor.name==="Object"){v[p]={};for(let w in a[p])if(Array.isArray(a[p][w]))a[p][w].length>20?v[p][w]=a[p][w].slice(a[p][w].length-20):v[p][w]=a[p][w];else if(a[p][w]!=null){let b=a[p][w].constructor.name;b.includes("Set")?v[p][w]=Array.from(a[p][w]):b!=="Number"&&b!=="String"&&b!=="Boolean"?v[p][w]="instanceof_"+b:v[p][w]=a[p][w]}else v[p][w]=a[p][w]}else{let w=a[p].constructor.name;w.includes("Set")?v[p]=Array.from(a[p]):w!=="Number"&&w!=="String"&&w!=="Boolean"?v[p]="instanceof_"+w:v[p]=a[p]}c=v}else c=a}else c=a;return c}return function(a,c){e.push(a);let d=JSON.stringify(a,o,c);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1,d=e[c];if(d[s]===a||c===0)r.push(s),e.push(a);else for(;c-->=0;)if(d=e[c],d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let c=t.get(a);if(c)return"[Circular Reference]"+c;t.set(a,r.join("."))}return a}return function(a,c){try{return e.push(a),JSON.stringify(a,o,c)}finally{n()}}}());mw=yw});var r0,ww=Ge(()=>{vw();r0=class{constructor(e={},r="FRAMERATE",n=!0){this.data=e,this.interval=r,this.pushToState={},this.pushRecord={pushed:[]},this.pushCallbacks={},this.triggers={},this.prev={},this.listener=new mw,this.defaultStartListenerEventLoop=n}subscribe(e,r,n=this.defaultStartListenerEventLoop){if(e&&e!=="state")if(this.data[e]===void 0)this.addToState(e,null,r,n);else return this.addSecondaryKeyResponse(e,r,void 0,n);else return this.addSecondaryKeyResponse(e,r,void 0,n)}subscribeOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribe(e,n)};n=this.subscribe(e,i)}unsubscribe(e,r=null){r!==null?this.removeSecondaryKeyResponse(e,r,!0):console.error("Specify a subcription function index")}unsubscribeAll(e){this.unsubscribeAllSequential(e),this.unsubscribeAllTriggers(e),this.clearAllKeyResponses(e),this.data[e]&&delete this.data[e],this.listener.hasKey("pushToState")&&this.setSequentialState({stateRemoved:e})}setInterval(e="FRAMERATE"){this.interval=e,this.listener.listeners.forEach((r,n)=>{r.interval=this.interval})}updateState(e,r){this.data[e]==null?this.addToState(e,r):this.data[e]=r}setupSynchronousUpdates=()=>{if(!this.listener.hasKey("pushToState")){let e=()=>{if(Object.keys(this.pushToState).length>0){Object.assign(this.data,this.pushToState);for(let r of Object.getOwnPropertyNames(this.pushToState))delete this.pushToState[r]}};this.listener.addListener("pushToState",this.pushToState,"__ANY__",e,this.interval),this.addToState("pushRecord",this.pushRecord,r=>{let n=r.pushed.length;for(let i=0;i<n;i++){let o=r.pushed[i];this.pushCallbacks.state&&this.pushCallbacks.state.forEach(s=>{s.onchange(o)});for(let s in o)this.pushCallbacks[s]&&this.pushCallbacks[s].forEach(a=>{typeof a=="object"&&a.onchange(o[s])})}this.pushRecord.pushed.splice(0,n)})}};addToState(e,r,n=null,i=this.defaultStartListenerEventLoop,o=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&this.setupSynchronousUpdates(),this.data[e]=r,this.setSequentialState({stateAdded:e}),n!==null)return this.addSecondaryKeyResponse(e,n,o,i)}get(e){return this.data[e]}getState(){return JSON.parse(JSON.stringifyFast(this.data))}setState(e={},r=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&(this.setupSynchronousUpdates(),this.pushRecord.pushed.push(JSON.parse(JSON.stringifyWithCircularRefs(e)))),e.stateUpdateTimeStamp=Date.now(),r){for(let n in e)if(n in this.pushToState){if(Array.isArray(this.pushToState[n])&&Array.isArray(e[n]))e[n]=this.pushToState[n].push(...e[n]);else if(typeof this.pushToState[n]=="object"&&typeof e[n]=="object"){for(let i in e[n])if(this.pushToState[n][i]){if(Array.isArray(this.pushToState[n][i])&&Array.isArray(e[n][i]))e[n][i]=this.pushToState[n][i].push(...e[n][i]);else if(typeof this.pushToState[n][i]=="object"&&typeof e[n][i]=="object"){for(let o in e[n][i])if(this.pushToState[n][i][o])Array.isArray(this.pushToState[n][i][o])&&Array.isArray(e[n][i][o])&&(e[n][i][o]=this.pushToState[n][i][o].push(...e[n][i][o]));else if(typeof this.pushToState[n][i][o]=="object"&&typeof e[n][i][o]=="object")for(let s in e[n][i][o])this.pushToState[n][i][o][s]&&Array.isArray(this.pushToState[n][i][o][s])&&Array.isArray(e[n][i][o][s])&&(e[n][i][o][s]=this.pushToState[n][i][o][s].push(...e[n][i][o][s]))}}}}}if(Object.assign(this.pushToState,e),Object.keys(this.triggers).length>0){this.triggers.state&&this.triggers.state.forEach(n=>{n.onchange(this.data)});for(let n of Object.getOwnPropertyNames(this.triggers))n in this.pushToState&&(this.data[n]=this.pushToState[n],delete this.pushToState[n],this.triggers[n].forEach(i=>{i.onchange(this.data[n])}))}return this.pushToState}subscribeTrigger(e=void 0,r=n=>{}){if(e){this.triggers[e]||(this.triggers[e]=[]);let n=this.triggers[e].length;return this.triggers[e].push({idx:n,onchange:r}),this.triggers[e].length-1}else return}subscribeTriggerOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeTrigger(e,n)};n=this.subscribeTrigger(e,i)}unsubscribeTrigger(e=void 0,r=0){let n,i=this.triggers[e];i&&i.find(s=>{if(s.idx===r)return!0})&&i.splice(n,1)}unsubscribeAllTriggers(e){e&&this.triggers[e]&&delete this.triggers[e]}setSequentialState(e={}){this.listener.hasKey("pushToState")||this.setupSynchronousUpdates(),e.stateUpdateTimeStamp=Date.now(),this.pushRecord.pushed.push(JSON.parse(JSON.stringify(e)))}subscribeSequential(e=void 0,r=void 0){if(e)if(this.data[e]===void 0&&e!=="state"&&this.addToState(e,null,void 0),this.pushCallbacks[e]||(this.pushCallbacks[e]=[]),r){let n=this.pushCallbacks[e].length;return this.pushCallbacks[e].push({idx:n,onchange:r}),this.pushCallbacks[e].length-1}else return;else return}subscribeSequentialOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeSequential(e,n)};n=this.subscribeSequential(e,i)}unsubscribeSequential(e=void 0,r=0){e&&this.pushCallbacks[e]&&this.pushCallbacks[e].find((n,i)=>{if(n.idx===r)return this.pushCallbacks[e].splice(i,1),!0})}unsubscribeAllSequential(e){e&&this.pushCallbacks[e]&&this.pushCallbacks[e]&&delete this.pushCallbacks[e]}setPrimaryKeyResponse(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop){if(r!==null)if(this.listener.hasKey(e))this.listener.onchange(e,r);else if(e!=null&&e!=="state")this.listener.addListener(e,this.data,e,r,this.data.stateUpdateInterval,n,i);else{if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}}addSecondaryKeyResponse=(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop)=>{if(r!=null){if(this.listener.hasKey(e))return this.listener.addFunc(e,r);if(e!=null&&e!=="state")return this.listener.addListener(e,this.data,e,()=>{},this.data.stateUpdateInterval,n,i),this.listener.addFunc(e,r);if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}};removeSecondaryKeyResponse(e=null,r=null,n=!0){e!==null?this.listener.hasKey(e)?this.listener.removeFuncs(e,r,n):console.error("key does not exist"):console.error("provide key")}clearAllKeyResponses(e=null){e===null?this.listener.remove(null):this.listener.hasKey(e)&&this.listener.remove(e)}getKeySubCallbacks(e){return this.listener.getFuncs(e)}removeState=this.unsubscribeAll;runSynchronousListeners(){this.defaultStartListenerEventLoop=!1,this.listener.startSync()}stop(e=null){this.listener.stop(e)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1;if(e[c]){var d=e[c];if(typeof d=="object")if(d[s]===a||c===0)r.push(s),e.push(a.pushed);else for(;c-->=0;){if(d=e[c],typeof d=="object"&&d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}c++}}}function o(s,a){let c;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let g=t.get(a);if(g)return"[Circular Reference]"+g;if(t.set(a,r.join(".")),d==="Array")a.length>20?c=a.slice(a.length-20):c=a;else if(d.includes("Set"))c=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")c="instanceof_"+d;else if(d==="Object"){let v={};for(let p in a)if(a[p]==null)v[p]=a[p];else if(Array.isArray(a[p]))a[p].length>20?v[p]=a[p].slice(a[p].length-20):v[p]=a[p];else if(a[p].constructor.name==="Object"){v[p]={};for(let w in a[p])if(Array.isArray(a[p][w]))a[p][w].length>20?v[p][w]=a[p][w].slice(a[p][w].length-20):v[p][w]=a[p][w];else if(a[p][w]!=null){let b=a[p][w].constructor.name;b.includes("Set")?v[p][w]=Array.from(a[p][w]):b!=="Number"&&b!=="String"&&b!=="Boolean"?v[p][w]="instanceof_"+b:v[p][w]=a[p][w]}else v[p][w]=a[p][w]}else{let w=a[p].constructor.name;w.includes("Set")?v[p]=Array.from(a[p]):w!=="Number"&&w!=="String"&&w!=="Boolean"?v[p]="instanceof_"+w:v[p]=a[p]}c=v}else c=a}else c=a;return c}return function(a,c){e.push(a);let d=JSON.stringify(a,o,c);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1,d=e[c];if(typeof d=="object")if(d[s]===a||c===0)r.push(s),e.push(a.pushed);else for(;c-->=0;){if(d=e[c],typeof d=="object"&&d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}c--}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let c=t.get(a);if(c)return"[Circular Reference]"+c;t.set(a,r.join("."))}return a}return function(a,c){try{return e.push(a),JSON.stringify(a,o,c)}finally{n()}}}())});async function Sw(t="sessionName",e="data",r=0,n=5120,i=o=>{}){return t!=""?new Promise(async o=>{Ye.open("/"+e+"/"+t,"r",(s,a)=>{if(s)throw s;Ye.read(a,n,r,"utf-8",(c,d,g)=>{if(c)throw c;if(g!==0){let v=d.toString();Ye.close(a,()=>{i(v,t),o(v)})}else o(void 0)})})}):void console.error("Path name is not defined")}function s0(t=e=>{}){window.gapi.client.drive.files.list({q:"name='Brainsatplay_Data' and mimeType='application/vnd.google-apps.folder'"}).then(e=>{e.result.files.length===0&&this.createDriveFolder(),t&&t(e.result)})}function xw(t=e=>{}){s0(e=>{window.gapi.client.drive.files.list({q:`'${e.files[0].id}' in parents`,pageSize:10,fields:"nextPageToken, files(id, name)"}).then(r=>{var n=r.result.files;n&&n.length>0&&t(n)})})}function a0(t){return!!t.match(a0.regex)}var Ia,_w,VT,Ra,Wu,Ye,n0,i0,bw,Ew,Go,o0,zi,WT,qT,kw,Nw,Tw,_O,Ow,$T,Aw=Ge(()=>{Ia=class{constructor(e=this.onOpen,r=null,n=null){this.onOpen=e,this.notes=[{idx:0,text:"comment"}],r!==null&&document.getElementById(r).addEventListener("click",this.saveCSV),n!==null&&document.getElementById(n).addEventListener("click",this.openCSV)}processArraysForCSV(e=["1|2|3","3|2|1"],r="|",n="a,b,c",i=!1){let o=n+`
`,s=0;return e.forEach((a,c)=>{e[c]==="string"&&r!==","?o+=a.split(r).join(","):csvData+=a.join(","),i===!0&&this.notes[s].idx===c&&(a+=this.notes[s].text,s++),a.indexOf(`
`)<0&&(o+=`
`)}),o}static saveCSV(e=`a,b,c
1,2,3
3,2,1
`,r=new Date().toISOString()){var n=document.createElement("a");n.href="data:text/csv;charset=utf-8,"+encodeURI(e),n.target="_blank",n.download=r!==""?r+".csv":Date().toISOString()+".csv",n.click()}static openCSV(e=",",r=(n,i,o)=>o){var n=document.createElement("input");n.accept=".csv",n.type="file",n.onchange=i=>{var o=i.target.files[0],s=new FileReader;s.onload=a=>{var c=a.target.result.split(`
`);let d=[];var g=[];c.pop(),c.forEach((v,p)=>{if(p==0)d=v.split(e);else{var w=v.split(e);g.push(w)}}),r(g,d,n.value),n.value=""},s.readAsText(o)},n.click()}static openCSVRaw(e=(r,n)=>n){var r=document.createElement("input");r.accept=".csv",r.type="file",r.onchange=n=>{var i=n.target.files[0],o=new FileReader;o.onload=s=>{var a=s.target.result;e(a,r.value),r.value=""},o.readAsText(i)},r.click()}onOpen(e=[],r=[]){console.log("CSV Opened!",r,e)}},VT=Object.freeze({__proto__:null,CSV:Ia,parseCSVData:(t,e,r,n=!0,i=(o,s,a)=>{let c={filename:a,head:s},d=s;typeof s=="string"&&(d=s.split(","));for(let g=0;g<o.length;g++){let v=o[g].split(",");for(let p=0;p<v.length;p++)c[d[p]]||c[d[p]],c[d[p]]=v[p]}return c})=>{let o=t.split(`
`);return o.shift(),n===!1&&o.pop(),i(o,e,r)},processDataForCSV:(t={})=>{let e="";typeof t.data[0]!="object"||Array.isArray(t.data[0])||(t.data[0].x?e="x,":t.data[0].timestamp&&(e="timestamp,localtime,"));let r=0,n={};t.data.forEach((s,a)=>{if(Array.isArray(s))for(let c=0;c<s.length;c++)n[c]||(n[c]=""),Array.isArray(s[c])?(c===0&&(e[r]+=t.header[r]+new Array(s[c].length-1).fill("").join(",")),n[c]+=s[c].join(",")+",",r+=s[c].length):(c===0&&(e[r]+=t.header[r]+","),n[c]+=s[c]+",",r++);else if(typeof s=="object"){let c;s.x?c=s.x:s.timestamp&&(c=s.timestamp);for(let d=0;d<c.length;d++){n[c[d]]||(n[c[d]]=c[d]+","),s.timestamp&&(n[c[d]]+=toISOLocal(s.timestamp[d])+",");for(let g in s)g!=="x"&&(n[c[d]]||(n[c[d]]=""),Array.isArray(s[g][d])?(d===0&&(e[r]+=t.header[r]+Array(s[g][d].length-1).fill("").join(",")),n[c[d]]+=s[g][d].join(",")+",",r+=s[g][d].length):(d===0&&(e[r]+=t.header[r]+","),n[c[d]]+=s[g][d]+",",r++))}}}),e.splice(e.length-1,1),e+=`
`;let i="";for(let s in n)n[s].splice(n[s].length-1,1),i+=n[s]+`
`;let o={filename:t.filename,header:e,body:i};return t.save&&Ia.saveCSV(e+i,t.filename),t.write&&fs.exists(t.filename,s=>{s?appendFile(t.filename,i,t.dir):appendFile(t.filename,e+i,t.dir)}),o}}),Ra=(typeof globalThis<"u"||typeof window<"u"||(typeof global<"u"?global:typeof self<"u"),{exports:{}});_w=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=t,r.c=e,r.p="",r(0)}([function(t,e,r){(function(n,i,o,s){Object.defineProperty(e,"__esModule",{value:!0});var a,c=r(2),d=r(9);(function(f){f[f.EPERM=1]="EPERM",f[f.ENOENT=2]="ENOENT",f[f.EIO=5]="EIO",f[f.EBADF=9]="EBADF",f[f.EACCES=13]="EACCES",f[f.EBUSY=16]="EBUSY",f[f.EEXIST=17]="EEXIST",f[f.ENOTDIR=20]="ENOTDIR",f[f.EISDIR=21]="EISDIR",f[f.EINVAL=22]="EINVAL",f[f.EFBIG=27]="EFBIG",f[f.ENOSPC=28]="ENOSPC",f[f.EROFS=30]="EROFS",f[f.ENOTEMPTY=39]="ENOTEMPTY",f[f.ENOTSUP=95]="ENOTSUP"})(a||(a={}));var g={};g[a.EPERM]="Operation not permitted.",g[a.ENOENT]="No such file or directory.",g[a.EIO]="Input/output error.",g[a.EBADF]="Bad file descriptor.",g[a.EACCES]="Permission denied.",g[a.EBUSY]="Resource busy or locked.",g[a.EEXIST]="File exists.",g[a.ENOTDIR]="File is not a directory.",g[a.EISDIR]="File is a directory.",g[a.EINVAL]="Invalid argument.",g[a.EFBIG]="File is too big.",g[a.ENOSPC]="No space left on disk.",g[a.EROFS]="Cannot modify a read-only file system.",g[a.ENOTEMPTY]="Directory is not empty.",g[a.ENOTSUP]="Operation is not supported.";var v,p=function(f){function u(l,h,y){h===void 0&&(h=g[l]),f.call(this,h),this.syscall="",this.errno=l,this.code=a[l],this.path=y,this.stack=new f().stack,this.message="Error: "+this.code+": "+h+(this.path?", '"+this.path+"'":"")}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.fromJSON=function(l){var h=new u(0);return h.errno=l.errno,h.code=l.code,h.path=l.path,h.stack=l.stack,h.message=l.message,h},u.fromBuffer=function(l,h){return h===void 0&&(h=0),u.fromJSON(JSON.parse(l.toString("utf8",h+4,h+4+l.readUInt32LE(h))))},u.FileError=function(l,h){return new u(l,g[l],h)},u.ENOENT=function(l){return this.FileError(a.ENOENT,l)},u.EEXIST=function(l){return this.FileError(a.EEXIST,l)},u.EISDIR=function(l){return this.FileError(a.EISDIR,l)},u.ENOTDIR=function(l){return this.FileError(a.ENOTDIR,l)},u.EPERM=function(l){return this.FileError(a.EPERM,l)},u.ENOTEMPTY=function(l){return this.FileError(a.ENOTEMPTY,l)},u.prototype.toString=function(){return this.message},u.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},u.prototype.writeToBuffer=function(l,h){l===void 0&&(l=n.alloc(this.bufferSize())),h===void 0&&(h=0);var y=l.write(JSON.stringify(this.toJSON()),h+4);return l.writeUInt32LE(y,h),l},u.prototype.bufferSize=function(){return 4+n.byteLength(JSON.stringify(this.toJSON()))},u}(Error),w=Object.freeze({get ErrorCode(){return a},ErrorStrings:g,ApiError:p});(function(f){f[f.NOP=0]="NOP",f[f.THROW_EXCEPTION=1]="THROW_EXCEPTION",f[f.TRUNCATE_FILE=2]="TRUNCATE_FILE",f[f.CREATE_FILE=3]="CREATE_FILE"})(v||(v={}));var b,I=function f(u){if(this.flagStr=u,f.validFlagStrs.indexOf(u)<0)throw new p(a.EINVAL,"Invalid flag: "+u)};I.getFileFlag=function(f){return I.flagCache.hasOwnProperty(f)?I.flagCache[f]:I.flagCache[f]=new I(f)},I.prototype.getFlagString=function(){return this.flagStr},I.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},I.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},I.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},I.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},I.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},I.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},I.prototype.pathExistsAction=function(){return this.isExclusive()?v.THROW_EXCEPTION:this.isTruncating()?v.TRUNCATE_FILE:v.NOP},I.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?v.CREATE_FILE:v.THROW_EXCEPTION},I.flagCache={},I.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"],function(f){f[f.FILE=32768]="FILE",f[f.DIRECTORY=16384]="DIRECTORY",f[f.SYMLINK=40960]="SYMLINK"}(b||(b={}));var k=function(f,u,l,h,y,m){if(h===void 0&&(h=new Date),y===void 0&&(y=new Date),m===void 0&&(m=new Date),this.size=u,this.atime=h,this.mtime=y,this.ctime=m,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,l)this.mode=l;else switch(f){case b.FILE:this.mode=420;break;case b.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(u/512),this.mode<4096&&(this.mode|=f)};k.fromBuffer=function(f){var u=f.readUInt32LE(0),l=f.readUInt32LE(4),h=f.readDoubleLE(8),y=f.readDoubleLE(16),m=f.readDoubleLE(24);return new k(61440&l,u,4095&l,new Date(h),new Date(y),new Date(m))},k.prototype.toBuffer=function(){var f=n.alloc(32);return f.writeUInt32LE(this.size,0),f.writeUInt32LE(this.mode,4),f.writeDoubleLE(this.atime.getTime(),8),f.writeDoubleLE(this.mtime.getTime(),16),f.writeDoubleLE(this.ctime.getTime(),24),f},k.prototype.clone=function(){return new k(61440&this.mode,this.size,4095&this.mode,this.atime,this.mtime,this.ctime)},k.prototype.isFile=function(){return(61440&this.mode)===b.FILE},k.prototype.isDirectory=function(){return(61440&this.mode)===b.DIRECTORY},k.prototype.isSymbolicLink=function(){return(61440&this.mode)===b.SYMLINK},k.prototype.chmod=function(f){this.mode=61440&this.mode|f},k.prototype.isSocket=function(){return!1},k.prototype.isBlockDevice=function(){return!1},k.prototype.isCharacterDevice=function(){return!1},k.prototype.isFIFO=function(){return!1};var A=function(f,u){return f};function D(f){if(f)return f;throw new p(a.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Y(f,u){switch(typeof f){case"number":return f;case"string":var l=parseInt(f,8);return isNaN(l)?u:l;default:return u}}function H(f){if(f instanceof Date)return f;if(typeof f=="number")return new Date(1e3*f);throw new p(a.EINVAL,"Invalid time.")}function Z(f){if(f.indexOf("\0")>=0)throw new p(a.EINVAL,"Path must be a string without null bytes.");if(f==="")throw new p(a.EINVAL,"Path must not be empty.");return d.resolve(f)}function j(f,u,l,h){switch(typeof f){case"object":return{encoding:f.encoding!==void 0?f.encoding:u,flag:f.flag!==void 0?f.flag:l,mode:Y(f.mode,h)};case"string":return{encoding:f,flag:l,mode:h};default:return{encoding:u,flag:l,mode:h}}}function V(){}var S=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};S.prototype.initialize=function(f){if(!f.constructor.isAvailable())throw new p(a.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=f},S.prototype._toUnixTimestamp=function(f){if(typeof f=="number")return f;if(f instanceof Date)return f.getTime()/1e3;throw new Error("Cannot parse time: "+f)},S.prototype.getRootFS=function(){return this.root?this.root:null},S.prototype.rename=function(f,u,l){l===void 0&&(l=V);var h=A(l,1);try{D(this.root).rename(Z(f),Z(u),h)}catch(y){h(y)}},S.prototype.renameSync=function(f,u){D(this.root).renameSync(Z(f),Z(u))},S.prototype.exists=function(f,u){u===void 0&&(u=V);var l=A(u,1);try{return D(this.root).exists(Z(f),l)}catch{return l(!1)}},S.prototype.existsSync=function(f){try{return D(this.root).existsSync(Z(f))}catch{return!1}},S.prototype.stat=function(f,u){u===void 0&&(u=V);var l=A(u,2);try{return D(this.root).stat(Z(f),!1,l)}catch(h){return l(h)}},S.prototype.statSync=function(f){return D(this.root).statSync(Z(f),!1)},S.prototype.lstat=function(f,u){u===void 0&&(u=V);var l=A(u,2);try{return D(this.root).stat(Z(f),!0,l)}catch(h){return l(h)}},S.prototype.lstatSync=function(f){return D(this.root).statSync(Z(f),!0)},S.prototype.truncate=function(f,u,l){u===void 0&&(u=0),l===void 0&&(l=V);var h=0;typeof u=="function"?l=u:typeof u=="number"&&(h=u);var y=A(l,1);try{if(h<0)throw new p(a.EINVAL);return D(this.root).truncate(Z(f),h,y)}catch(m){return y(m)}},S.prototype.truncateSync=function(f,u){if(u===void 0&&(u=0),u<0)throw new p(a.EINVAL);return D(this.root).truncateSync(Z(f),u)},S.prototype.unlink=function(f,u){u===void 0&&(u=V);var l=A(u,1);try{return D(this.root).unlink(Z(f),l)}catch(h){return l(h)}},S.prototype.unlinkSync=function(f){return D(this.root).unlinkSync(Z(f))},S.prototype.open=function(f,u,l,h){var y=this;h===void 0&&(h=V);var m=Y(l,420),_=A(h=typeof l=="function"?l:h,2);try{D(this.root).open(Z(f),I.getFileFlag(u),m,function(T,L){L?_(T,y.getFdForFile(L)):_(T)})}catch(T){_(T)}},S.prototype.openSync=function(f,u,l){return l===void 0&&(l=420),this.getFdForFile(D(this.root).openSync(Z(f),I.getFileFlag(u),Y(l,420)))},S.prototype.readFile=function(f,u,l){u===void 0&&(u={}),l===void 0&&(l=V);var h=j(u,null,"r",null),y=A(l=typeof u=="function"?u:l,2);try{var m=I.getFileFlag(h.flag);return m.isReadable()?D(this.root).readFile(Z(f),h.encoding,m,y):y(new p(a.EINVAL,"Flag passed to readFile must allow for reading."))}catch(_){return y(_)}},S.prototype.readFileSync=function(f,u){u===void 0&&(u={});var l=j(u,null,"r",null),h=I.getFileFlag(l.flag);if(!h.isReadable())throw new p(a.EINVAL,"Flag passed to readFile must allow for reading.");return D(this.root).readFileSync(Z(f),l.encoding,h)},S.prototype.writeFile=function(f,u,l,h){l===void 0&&(l={}),h===void 0&&(h=V);var y=j(l,"utf8","w",420),m=A(h=typeof l=="function"?l:h,1);try{var _=I.getFileFlag(y.flag);return _.isWriteable()?D(this.root).writeFile(Z(f),u,y.encoding,_,y.mode,m):m(new p(a.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(T){return m(T)}},S.prototype.writeFileSync=function(f,u,l){var h=j(l,"utf8","w",420),y=I.getFileFlag(h.flag);if(!y.isWriteable())throw new p(a.EINVAL,"Flag passed to writeFile must allow for writing.");return D(this.root).writeFileSync(Z(f),u,h.encoding,y,h.mode)},S.prototype.appendFile=function(f,u,l,h){h===void 0&&(h=V);var y=j(l,"utf8","a",420),m=A(h=typeof l=="function"?l:h,1);try{var _=I.getFileFlag(y.flag);if(!_.isAppendable())return m(new p(a.EINVAL,"Flag passed to appendFile must allow for appending."));D(this.root).appendFile(Z(f),u,y.encoding,_,y.mode,m)}catch(T){m(T)}},S.prototype.appendFileSync=function(f,u,l){var h=j(l,"utf8","a",420),y=I.getFileFlag(h.flag);if(!y.isAppendable())throw new p(a.EINVAL,"Flag passed to appendFile must allow for appending.");return D(this.root).appendFileSync(Z(f),u,h.encoding,y,h.mode)},S.prototype.fstat=function(f,u){u===void 0&&(u=V);var l=A(u,2);try{this.fd2file(f).stat(l)}catch(h){l(h)}},S.prototype.fstatSync=function(f){return this.fd2file(f).statSync()},S.prototype.close=function(f,u){var l=this;u===void 0&&(u=V);var h=A(u,1);try{this.fd2file(f).close(function(y){y||l.closeFd(f),h(y)})}catch(y){h(y)}},S.prototype.closeSync=function(f){this.fd2file(f).closeSync(),this.closeFd(f)},S.prototype.ftruncate=function(f,u,l){l===void 0&&(l=V);var h=typeof u=="number"?u:0,y=A(l=typeof u=="function"?u:l,1);try{var m=this.fd2file(f);if(h<0)throw new p(a.EINVAL);m.truncate(h,y)}catch(_){y(_)}},S.prototype.ftruncateSync=function(f,u){u===void 0&&(u=0);var l=this.fd2file(f);if(u<0)throw new p(a.EINVAL);l.truncateSync(u)},S.prototype.fsync=function(f,u){u===void 0&&(u=V);var l=A(u,1);try{this.fd2file(f).sync(l)}catch(h){l(h)}},S.prototype.fsyncSync=function(f){this.fd2file(f).syncSync()},S.prototype.fdatasync=function(f,u){u===void 0&&(u=V);var l=A(u,1);try{this.fd2file(f).datasync(l)}catch(h){l(h)}},S.prototype.fdatasyncSync=function(f){this.fd2file(f).datasyncSync()},S.prototype.write=function(f,u,l,h,y,m){m===void 0&&(m=V);var _,T,L,q=null;if(typeof u=="string"){var Q="utf8";switch(typeof l){case"function":m=l;break;case"number":q=l,Q=typeof h=="string"?h:"utf8",m=typeof y=="function"?y:m;break;default:return(m=typeof h=="function"?h:typeof y=="function"?y:m)(new p(a.EINVAL,"Invalid arguments."))}T=0,L=(_=n.from(u,Q)).length}else _=u,T=l,L=h,q=typeof y=="number"?y:null,m=typeof y=="function"?y:m;var ce=A(m,3);try{var de=this.fd2file(f);q==null&&(q=de.getPos()),de.write(_,T,L,q,ce)}catch(me){ce(me)}},S.prototype.writeSync=function(f,u,l,h,y){var m,_,T,L=0;if(typeof u=="string"){T=typeof l=="number"?l:null;var q=typeof h=="string"?h:"utf8";L=0,_=(m=n.from(u,q)).length}else m=u,L=l,_=h,T=typeof y=="number"?y:null;var Q=this.fd2file(f);return T==null&&(T=Q.getPos()),Q.writeSync(m,L,_,T)},S.prototype.read=function(f,u,l,h,y,m){var _,T,L,q,Q;if(m===void 0&&(m=V),typeof u=="number"){L=u,_=l;var ce=h;m=typeof y=="function"?y:m,T=0,q=n.alloc(L),Q=A(function(me,ve,ke){if(me)return m(me);m(me,ke.toString(ce),ve)},3)}else q=u,T=l,L=h,_=y,Q=A(m,3);try{var de=this.fd2file(f);_==null&&(_=de.getPos()),de.read(q,T,L,_,Q)}catch(me){Q(me)}},S.prototype.readSync=function(f,u,l,h,y){var m,_,T,L,q=!1,Q="utf8";typeof u=="number"?(T=u,L=l,Q=h,_=0,m=n.alloc(T),q=!0):(m=u,_=l,T=h,L=y);var ce=this.fd2file(f);L==null&&(L=ce.getPos());var de=ce.readSync(m,_,T,L);return q?[m.toString(Q),de]:de},S.prototype.fchown=function(f,u,l,h){h===void 0&&(h=V);var y=A(h,1);try{this.fd2file(f).chown(u,l,y)}catch(m){y(m)}},S.prototype.fchownSync=function(f,u,l){this.fd2file(f).chownSync(u,l)},S.prototype.fchmod=function(f,u,l){var h=A(l,1);try{var y=typeof u=="string"?parseInt(u,8):u;this.fd2file(f).chmod(y,h)}catch(m){h(m)}},S.prototype.fchmodSync=function(f,u){var l=typeof u=="string"?parseInt(u,8):u;this.fd2file(f).chmodSync(l)},S.prototype.futimes=function(f,u,l,h){h===void 0&&(h=V);var y=A(h,1);try{var m=this.fd2file(f);typeof u=="number"&&(u=new Date(1e3*u)),typeof l=="number"&&(l=new Date(1e3*l)),m.utimes(u,l,y)}catch(_){y(_)}},S.prototype.futimesSync=function(f,u,l){this.fd2file(f).utimesSync(H(u),H(l))},S.prototype.rmdir=function(f,u){u===void 0&&(u=V);var l=A(u,1);try{f=Z(f),D(this.root).rmdir(f,l)}catch(h){l(h)}},S.prototype.rmdirSync=function(f){return f=Z(f),D(this.root).rmdirSync(f)},S.prototype.mkdir=function(f,u,l){l===void 0&&(l=V),typeof u=="function"&&(l=u,u=511);var h=A(l,1);try{f=Z(f),D(this.root).mkdir(f,u,h)}catch(y){h(y)}},S.prototype.mkdirSync=function(f,u){D(this.root).mkdirSync(Z(f),Y(u,511))},S.prototype.readdir=function(f,u){u===void 0&&(u=V);var l=A(u,2);try{f=Z(f),D(this.root).readdir(f,l)}catch(h){l(h)}},S.prototype.readdirSync=function(f){return f=Z(f),D(this.root).readdirSync(f)},S.prototype.link=function(f,u,l){l===void 0&&(l=V);var h=A(l,1);try{f=Z(f),u=Z(u),D(this.root).link(f,u,h)}catch(y){h(y)}},S.prototype.linkSync=function(f,u){return f=Z(f),u=Z(u),D(this.root).linkSync(f,u)},S.prototype.symlink=function(f,u,l,h){h===void 0&&(h=V);var y=typeof l=="string"?l:"file",m=A(h=typeof l=="function"?l:h,1);try{if(y!=="file"&&y!=="dir")return m(new p(a.EINVAL,"Invalid type: "+y));f=Z(f),u=Z(u),D(this.root).symlink(f,u,y,m)}catch(_){m(_)}},S.prototype.symlinkSync=function(f,u,l){if(l){if(l!=="file"&&l!=="dir")throw new p(a.EINVAL,"Invalid type: "+l)}else l="file";return f=Z(f),u=Z(u),D(this.root).symlinkSync(f,u,l)},S.prototype.readlink=function(f,u){u===void 0&&(u=V);var l=A(u,2);try{f=Z(f),D(this.root).readlink(f,l)}catch(h){l(h)}},S.prototype.readlinkSync=function(f){return f=Z(f),D(this.root).readlinkSync(f)},S.prototype.chown=function(f,u,l,h){h===void 0&&(h=V);var y=A(h,1);try{f=Z(f),D(this.root).chown(f,!1,u,l,y)}catch(m){y(m)}},S.prototype.chownSync=function(f,u,l){f=Z(f),D(this.root).chownSync(f,!1,u,l)},S.prototype.lchown=function(f,u,l,h){h===void 0&&(h=V);var y=A(h,1);try{f=Z(f),D(this.root).chown(f,!0,u,l,y)}catch(m){y(m)}},S.prototype.lchownSync=function(f,u,l){f=Z(f),D(this.root).chownSync(f,!0,u,l)},S.prototype.chmod=function(f,u,l){l===void 0&&(l=V);var h=A(l,1);try{var y=Y(u,-1);if(y<0)throw new p(a.EINVAL,"Invalid mode.");D(this.root).chmod(Z(f),!1,y,h)}catch(m){h(m)}},S.prototype.chmodSync=function(f,u){var l=Y(u,-1);if(l<0)throw new p(a.EINVAL,"Invalid mode.");f=Z(f),D(this.root).chmodSync(f,!1,l)},S.prototype.lchmod=function(f,u,l){l===void 0&&(l=V);var h=A(l,1);try{var y=Y(u,-1);if(y<0)throw new p(a.EINVAL,"Invalid mode.");D(this.root).chmod(Z(f),!0,y,h)}catch(m){h(m)}},S.prototype.lchmodSync=function(f,u){var l=Y(u,-1);if(l<1)throw new p(a.EINVAL,"Invalid mode.");D(this.root).chmodSync(Z(f),!0,l)},S.prototype.utimes=function(f,u,l,h){h===void 0&&(h=V);var y=A(h,1);try{D(this.root).utimes(Z(f),H(u),H(l),y)}catch(m){y(m)}},S.prototype.utimesSync=function(f,u,l){D(this.root).utimesSync(Z(f),H(u),H(l))},S.prototype.realpath=function(f,u,l){l===void 0&&(l=V);var h=typeof u=="object"?u:{},y=A(l=typeof u=="function"?u:V,2);try{f=Z(f),D(this.root).realpath(f,h,y)}catch(m){y(m)}},S.prototype.realpathSync=function(f,u){return u===void 0&&(u={}),f=Z(f),D(this.root).realpathSync(f,u)},S.prototype.watchFile=function(f,u,l){throw new p(a.ENOTSUP)},S.prototype.unwatchFile=function(f,u){throw new p(a.ENOTSUP)},S.prototype.watch=function(f,u,l){throw new p(a.ENOTSUP)},S.prototype.access=function(f,u,l){throw new p(a.ENOTSUP)},S.prototype.accessSync=function(f,u){throw new p(a.ENOTSUP)},S.prototype.createReadStream=function(f,u){throw new p(a.ENOTSUP)},S.prototype.createWriteStream=function(f,u){throw new p(a.ENOTSUP)},S.prototype.wrapCallbacks=function(f){A=f},S.prototype.getFdForFile=function(f){var u=this.nextFd++;return this.fdMap[u]=f,u},S.prototype.fd2file=function(f){var u=this.fdMap[f];if(u)return u;throw new p(a.EBADF,"Invalid file descriptor.")},S.prototype.closeFd=function(f){delete this.fdMap[f]},S.Stats=k;var W=new S,re={},X=S.prototype;function le(f,u,l,h,y){return f<u||l<u?f>l?l+1:f+1:h===y?u:u+1}function ae(f,u){if(f===u)return 0;if(f.length>u.length){var l=f;f=u,u=l}for(var h=f.length,y=u.length;h>0&&f.charCodeAt(h-1)===u.charCodeAt(y-1);)h--,y--;for(var m=0;m<h&&f.charCodeAt(m)===u.charCodeAt(m);)m++;if(y-=m,(h-=m)==0||y===1)return y;for(var _,T,L,q,Q,ce=new Array(h<<1),de=0;de<h;)ce[h+de]=f.charCodeAt(m+de),ce[de]=++de;for(_=0;_+3<y;)for(var me=u.charCodeAt(m+(T=_)),ve=u.charCodeAt(m+(L=_+1)),ke=u.charCodeAt(m+(q=_+2)),Be=u.charCodeAt(m+(Q=_+3)),bt=_+=4,qr=0;qr<h;){var Sr=ce[h+qr],ho=ce[qr];T=le(ho,T,L,me,Sr),L=le(T,L,q,ve,Sr),q=le(L,q,Q,ke,Sr),bt=le(q,Q,bt,Be,Sr),ce[qr++]=bt,Q=q,q=L,L=T,T=ho}for(var sr=0;_<y;){var Ff=u.charCodeAt(m+(T=_));sr=++_;for(var xi=0;xi<h;xi++){var Oi=ce[xi];ce[xi]=sr=Oi<T||sr<T?Oi>sr?sr+1:Oi+1:Ff===ce[h+xi]?T:T+1,T=Oi}}return sr}function ye(f,u,l){f&&console.warn("["+u+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+u+".Create("+JSON.stringify(l)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}Object.keys(X).forEach(function(f){typeof W[f]=="function"?re[f]=function(){return W[f].apply(W,arguments)}:re[f]=W[f]}),re.changeFSModule=function(f){W=f},re.getFSModule=function(){return W},re.FS=S;var P=typeof navigator<"u"&&!(!/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&navigator.userAgent.indexOf("Trident")===-1),F=typeof window>"u";function ie(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function U(f,u,l){l.existsSync(f)||(U(d.dirname(f),u,l),l.mkdirSync(f,u))}function z(f){var u=J(f),l=u.byteOffset,h=u.byteLength;return l===0&&h===u.buffer.byteLength?u.buffer:u.buffer.slice(l,l+h)}function J(f){return f instanceof Uint8Array?f:new Uint8Array(f)}function ue(f){return f instanceof n?f:f instanceof Uint8Array?oe(f):n.from(f)}function oe(f){return f instanceof n?f:f.byteOffset===0&&f.byteLength===f.buffer.byteLength?ne(f.buffer):n.from(f.buffer,f.byteOffset,f.byteLength)}function ne(f){return n.from(f)}function se(f,u,l){if(u===void 0&&(u=0),l===void 0&&(l=f.length),u<0||l<0||l>f.length||u>l)throw new TypeError("Invalid slice bounds on buffer of length "+f.length+": ["+u+", "+l+"]");if(f.length===0)return Se();var h=J(f),y=f[0],m=(y+1)%255;return f[0]=m,h[0]===m?(h[0]=y,oe(h.slice(u,l))):(f[0]=y,oe(h.subarray(u,l)))}var pe=null;function Se(){return pe||(pe=n.alloc(0))}function Te(f,u){n.isBuffer(f)?u():u(new p(a.EINVAL,"option must be a Buffer."))}function O(f,u,l){var h=f.Options,y=f.Name,m=0,_=!1,T=!1;function L(de){_||(de&&(_=!0,l(de)),--m==0&&T&&l())}var q=function(de){if(h.hasOwnProperty(de)){var me=h[de],ve=u[de];if(ve==null){if(!me.optional){var ke=Object.keys(u).filter(function(Be){return!(Be in h)}).map(function(Be){return{str:Be,distance:ae(de,Be)}}).filter(function(Be){return Be.distance<5}).sort(function(Be,bt){return Be.distance-bt.distance});return _?{}:(_=!0,{v:l(new p(a.EINVAL,"["+y+"] Required option '"+de+"' not provided."+(ke.length>0?" You provided unrecognized option '"+ke[0].str+"'; perhaps you meant to type '"+de+"'.":"")+`
Option description: `+me.description))})}}else{if(!(Array.isArray(me.type)?me.type.indexOf(typeof ve)!==-1:typeof ve===me.type))return _?{}:(_=!0,{v:l(new p(a.EINVAL,"["+y+"] Value provided for option "+de+" is not the proper type. Expected "+(Array.isArray(me.type)?"one of {"+me.type.join(", ")+"}":me.type)+", but received "+typeof ve+`
Option description: `+me.description))});me.validator&&(m++,me.validator(ve,L))}}};for(var Q in h){var ce=q(Q);if(ce)return ce.v}T=!0,m!==0||_||l()}var R=Object.freeze({deprecationMessage:ye,isIE:P,isWebWorker:F,fail:ie,mkdirpSync:U,buffer2ArrayBuffer:z,buffer2Uint8array:J,arrayish2Buffer:ue,uint8Array2Buffer:oe,arrayBuffer2Buffer:ne,copyingSlice:se,emptyBuffer:Se,bufferValidator:Te,checkOptions:O}),M=function(f){this.fs=f,this.nodefs=f.getNodeFS(),this.FS=f.getFS(),this.PATH=f.getPATH(),this.ERRNO_CODES=f.getERRNO_CODES()};M.prototype.open=function(f){var u=this.fs.realPath(f.node),l=this.FS;try{l.isFile(f.node.mode)&&(f.nfd=this.nodefs.openSync(u,this.fs.flagsToPermissionString(f.flags)))}catch(h){throw h.code?new l.ErrnoError(this.ERRNO_CODES[h.code]):h}},M.prototype.close=function(f){var u=this.FS;try{u.isFile(f.node.mode)&&f.nfd&&this.nodefs.closeSync(f.nfd)}catch(l){throw l.code?new u.ErrnoError(this.ERRNO_CODES[l.code]):l}},M.prototype.read=function(f,u,l,h,y){try{return this.nodefs.readSync(f.nfd,oe(u),l,h,y)}catch(m){throw new this.FS.ErrnoError(this.ERRNO_CODES[m.code])}},M.prototype.write=function(f,u,l,h,y){try{return this.nodefs.writeSync(f.nfd,oe(u),l,h,y)}catch(m){throw new this.FS.ErrnoError(this.ERRNO_CODES[m.code])}},M.prototype.llseek=function(f,u,l){var h=u;if(l===1)h+=f.position;else if(l===2&&this.FS.isFile(f.node.mode))try{h+=this.nodefs.fstatSync(f.nfd).size}catch(y){throw new this.FS.ErrnoError(this.ERRNO_CODES[y.code])}if(h<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return f.position=h,h};var $=function(f){this.fs=f,this.nodefs=f.getNodeFS(),this.FS=f.getFS(),this.PATH=f.getPATH(),this.ERRNO_CODES=f.getERRNO_CODES()};$.prototype.getattr=function(f){var u,l=this.fs.realPath(f);try{u=this.nodefs.lstatSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}return{dev:u.dev,ino:u.ino,mode:u.mode,nlink:u.nlink,uid:u.uid,gid:u.gid,rdev:u.rdev,size:u.size,atime:u.atime,mtime:u.mtime,ctime:u.ctime,blksize:u.blksize,blocks:u.blocks}},$.prototype.setattr=function(f,u){var l=this.fs.realPath(f);try{if(u.mode!==void 0&&(this.nodefs.chmodSync(l,u.mode),f.mode=u.mode),u.timestamp!==void 0){var h=new Date(u.timestamp);this.nodefs.utimesSync(l,h,h)}}catch(y){if(!y.code)throw y;if(y.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[y.code])}if(u.size!==void 0)try{this.nodefs.truncateSync(l,u.size)}catch(y){throw y.code?new this.FS.ErrnoError(this.ERRNO_CODES[y.code]):y}},$.prototype.lookup=function(f,u){var l=this.PATH.join2(this.fs.realPath(f),u),h=this.fs.getMode(l);return this.fs.createNode(f,u,h)},$.prototype.mknod=function(f,u,l,h){var y=this.fs.createNode(f,u,l,h),m=this.fs.realPath(y);try{this.FS.isDir(y.mode)?this.nodefs.mkdirSync(m,y.mode):this.nodefs.writeFileSync(m,"",{mode:y.mode})}catch(_){throw _.code?new this.FS.ErrnoError(this.ERRNO_CODES[_.code]):_}return y},$.prototype.rename=function(f,u,l){var h=this.fs.realPath(f),y=this.PATH.join2(this.fs.realPath(u),l);try{this.nodefs.renameSync(h,y),f.name=l,f.parent=u}catch(m){throw m.code?new this.FS.ErrnoError(this.ERRNO_CODES[m.code]):m}},$.prototype.unlink=function(f,u){var l=this.PATH.join2(this.fs.realPath(f),u);try{this.nodefs.unlinkSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.rmdir=function(f,u){var l=this.PATH.join2(this.fs.realPath(f),u);try{this.nodefs.rmdirSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.readdir=function(f){var u=this.fs.realPath(f);try{var l=this.nodefs.readdirSync(u);return l.push(".",".."),l}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.symlink=function(f,u,l){var h=this.PATH.join2(this.fs.realPath(f),u);try{this.nodefs.symlinkSync(l,h)}catch(y){throw y.code?new this.FS.ErrnoError(this.ERRNO_CODES[y.code]):y}},$.prototype.readlink=function(f){var u=this.fs.realPath(f);try{return this.nodefs.readlinkSync(u)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}};var K=function(f,u,l,h){f===void 0&&(f=self.FS),u===void 0&&(u=self.PATH),l===void 0&&(l=self.ERRNO_CODES),h===void 0&&(h=re),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=h,this.FS=f,this.PATH=u,this.ERRNO_CODES=l,this.node_ops=new $(this),this.stream_ops=new M(this)};K.prototype.mount=function(f){return this.createNode(null,"/",this.getMode(f.opts.root),0)},K.prototype.createNode=function(f,u,l,h){var y=this.FS;if(!y.isDir(l)&&!y.isFile(l)&&!y.isLink(l))throw new y.ErrnoError(this.ERRNO_CODES.EINVAL);var m=y.createNode(f,u,l);return m.node_ops=this.node_ops,m.stream_ops=this.stream_ops,m},K.prototype.getMode=function(f){var u;try{u=this.nodefs.lstatSync(f)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}return u.mode},K.prototype.realPath=function(f){for(var u=[];f.parent!==f;)u.push(f.name),f=f.parent;return u.push(f.mount.opts.root),u.reverse(),this.PATH.join.apply(null,u)},K.prototype.flagsToPermissionString=function(f){var u=typeof f=="string"?parseInt(f,10):f;return(u&=8191)in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[u]:f},K.prototype.getNodeFS=function(){return this.nodefs},K.prototype.getFS=function(){return this.FS},K.prototype.getPATH=function(){return this.PATH},K.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var G=function(){};G.prototype.supportsLinks=function(){return!1},G.prototype.diskSpace=function(f,u){u(0,0)},G.prototype.openFile=function(f,u,l){throw new p(a.ENOTSUP)},G.prototype.createFile=function(f,u,l,h){throw new p(a.ENOTSUP)},G.prototype.open=function(f,u,l,h){var y=this;this.stat(f,!1,function(m,_){if(m)switch(u.pathNotExistsAction()){case v.CREATE_FILE:return y.stat(d.dirname(f),!1,function(T,L){T?h(T):L&&!L.isDirectory()?h(p.ENOTDIR(d.dirname(f))):y.createFile(f,u,l,h)});case v.THROW_EXCEPTION:return h(p.ENOENT(f));default:return h(new p(a.EINVAL,"Invalid FileFlag object."))}else{if(_&&_.isDirectory())return h(p.EISDIR(f));switch(u.pathExistsAction()){case v.THROW_EXCEPTION:return h(p.EEXIST(f));case v.TRUNCATE_FILE:return y.openFile(f,u,function(T,L){T?h(T):L?L.truncate(0,function(){L.sync(function(){h(null,L)})}):ie()});case v.NOP:return y.openFile(f,u,h);default:return h(new p(a.EINVAL,"Invalid FileFlag object."))}}})},G.prototype.rename=function(f,u,l){l(new p(a.ENOTSUP))},G.prototype.renameSync=function(f,u){throw new p(a.ENOTSUP)},G.prototype.stat=function(f,u,l){l(new p(a.ENOTSUP))},G.prototype.statSync=function(f,u){throw new p(a.ENOTSUP)},G.prototype.openFileSync=function(f,u,l){throw new p(a.ENOTSUP)},G.prototype.createFileSync=function(f,u,l){throw new p(a.ENOTSUP)},G.prototype.openSync=function(f,u,l){var h;try{h=this.statSync(f,!1)}catch{switch(u.pathNotExistsAction()){case v.CREATE_FILE:if(!this.statSync(d.dirname(f),!1).isDirectory())throw p.ENOTDIR(d.dirname(f));return this.createFileSync(f,u,l);case v.THROW_EXCEPTION:throw p.ENOENT(f);default:throw new p(a.EINVAL,"Invalid FileFlag object.")}}if(h.isDirectory())throw p.EISDIR(f);switch(u.pathExistsAction()){case v.THROW_EXCEPTION:throw p.EEXIST(f);case v.TRUNCATE_FILE:return this.unlinkSync(f),this.createFileSync(f,u,h.mode);case v.NOP:return this.openFileSync(f,u,l);default:throw new p(a.EINVAL,"Invalid FileFlag object.")}},G.prototype.unlink=function(f,u){u(new p(a.ENOTSUP))},G.prototype.unlinkSync=function(f){throw new p(a.ENOTSUP)},G.prototype.rmdir=function(f,u){u(new p(a.ENOTSUP))},G.prototype.rmdirSync=function(f){throw new p(a.ENOTSUP)},G.prototype.mkdir=function(f,u,l){l(new p(a.ENOTSUP))},G.prototype.mkdirSync=function(f,u){throw new p(a.ENOTSUP)},G.prototype.readdir=function(f,u){u(new p(a.ENOTSUP))},G.prototype.readdirSync=function(f){throw new p(a.ENOTSUP)},G.prototype.exists=function(f,u){this.stat(f,null,function(l){u(!l)})},G.prototype.existsSync=function(f){try{return this.statSync(f,!0),!0}catch{return!1}},G.prototype.realpath=function(f,u,l){if(this.supportsLinks())for(var h=f.split(d.sep),y=0;y<h.length;y++){var m=h.slice(0,y+1);h[y]=d.join.apply(null,m)}else this.exists(f,function(_){_?l(null,f):l(p.ENOENT(f))})},G.prototype.realpathSync=function(f,u){if(this.supportsLinks()){for(var l=f.split(d.sep),h=0;h<l.length;h++){var y=l.slice(0,h+1);l[h]=d.join.apply(d,y)}return l.join(d.sep)}if(this.existsSync(f))return f;throw p.ENOENT(f)},G.prototype.truncate=function(f,u,l){this.open(f,I.getFileFlag("r+"),420,function(h,y){if(h)return l(h);y.truncate(u,function(m){y.close(function(_){l(m||_)})})})},G.prototype.truncateSync=function(f,u){var l=this.openSync(f,I.getFileFlag("r+"),420);try{l.truncateSync(u)}catch(h){throw h}finally{l.closeSync()}},G.prototype.readFile=function(f,u,l,h){var y=h;this.open(f,l,420,function(m,_){if(m)return h(m);h=function(T,L){_.close(function(q){return T||(T=q),y(T,L)})},_.stat(function(T,L){if(T)return h(T);var q=n.alloc(L.size);_.read(q,0,L.size,0,function(Q){if(Q)return h(Q);if(u===null)return h(Q,q);try{h(null,q.toString(u))}catch(ce){h(ce)}})})})},G.prototype.readFileSync=function(f,u,l){var h=this.openSync(f,l,420);try{var y=h.statSync(),m=n.alloc(y.size);return h.readSync(m,0,y.size,0),h.closeSync(),u===null?m:m.toString(u)}finally{h.closeSync()}},G.prototype.writeFile=function(f,u,l,h,y,m){var _=m;this.open(f,h,420,function(T,L){if(T)return m(T);m=function(q){L.close(function(Q){_(q||Q)})};try{typeof u=="string"&&(u=n.from(u,l))}catch(q){return m(q)}L.write(u,0,u.length,0,m)})},G.prototype.writeFileSync=function(f,u,l,h,y){var m=this.openSync(f,h,y);try{typeof u=="string"&&(u=n.from(u,l)),m.writeSync(u,0,u.length,0)}finally{m.closeSync()}},G.prototype.appendFile=function(f,u,l,h,y,m){var _=m;this.open(f,h,y,function(T,L){if(T)return m(T);m=function(q){L.close(function(Q){_(q||Q)})},typeof u=="string"&&(u=n.from(u,l)),L.write(u,0,u.length,null,m)})},G.prototype.appendFileSync=function(f,u,l,h,y){var m=this.openSync(f,h,y);try{typeof u=="string"&&(u=n.from(u,l)),m.writeSync(u,0,u.length,null)}finally{m.closeSync()}},G.prototype.chmod=function(f,u,l,h){h(new p(a.ENOTSUP))},G.prototype.chmodSync=function(f,u,l){throw new p(a.ENOTSUP)},G.prototype.chown=function(f,u,l,h,y){y(new p(a.ENOTSUP))},G.prototype.chownSync=function(f,u,l,h){throw new p(a.ENOTSUP)},G.prototype.utimes=function(f,u,l,h){h(new p(a.ENOTSUP))},G.prototype.utimesSync=function(f,u,l){throw new p(a.ENOTSUP)},G.prototype.link=function(f,u,l){l(new p(a.ENOTSUP))},G.prototype.linkSync=function(f,u){throw new p(a.ENOTSUP)},G.prototype.symlink=function(f,u,l,h){h(new p(a.ENOTSUP))},G.prototype.symlinkSync=function(f,u,l){throw new p(a.ENOTSUP)},G.prototype.readlink=function(f,u){u(new p(a.ENOTSUP))},G.prototype.readlinkSync=function(f){throw new p(a.ENOTSUP)};var _e=function(f){function u(){f.apply(this,arguments)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.supportsSynch=function(){return!0},u.prototype.rename=function(l,h,y){try{this.renameSync(l,h),y()}catch(m){y(m)}},u.prototype.stat=function(l,h,y){try{y(null,this.statSync(l,h))}catch(m){y(m)}},u.prototype.open=function(l,h,y,m){try{m(null,this.openSync(l,h,y))}catch(_){m(_)}},u.prototype.unlink=function(l,h){try{this.unlinkSync(l),h()}catch(y){h(y)}},u.prototype.rmdir=function(l,h){try{this.rmdirSync(l),h()}catch(y){h(y)}},u.prototype.mkdir=function(l,h,y){try{this.mkdirSync(l,h),y()}catch(m){y(m)}},u.prototype.readdir=function(l,h){try{h(null,this.readdirSync(l))}catch(y){h(y)}},u.prototype.chmod=function(l,h,y,m){try{this.chmodSync(l,h,y),m()}catch(_){m(_)}},u.prototype.chown=function(l,h,y,m,_){try{this.chownSync(l,h,y,m),_()}catch(T){_(T)}},u.prototype.utimes=function(l,h,y,m){try{this.utimesSync(l,h,y),m()}catch(_){m(_)}},u.prototype.link=function(l,h,y){try{this.linkSync(l,h),y()}catch(m){y(m)}},u.prototype.symlink=function(l,h,y,m){try{this.symlinkSync(l,h,y),m()}catch(_){m(_)}},u.prototype.readlink=function(l,h){try{h(null,this.readlinkSync(l))}catch(y){h(y)}},u}(G),C=function(){};C.prototype.sync=function(f){f(new p(a.ENOTSUP))},C.prototype.syncSync=function(){throw new p(a.ENOTSUP)},C.prototype.datasync=function(f){this.sync(f)},C.prototype.datasyncSync=function(){return this.syncSync()},C.prototype.chown=function(f,u,l){l(new p(a.ENOTSUP))},C.prototype.chownSync=function(f,u){throw new p(a.ENOTSUP)},C.prototype.chmod=function(f,u){u(new p(a.ENOTSUP))},C.prototype.chmodSync=function(f){throw new p(a.ENOTSUP)},C.prototype.utimes=function(f,u,l){l(new p(a.ENOTSUP))},C.prototype.utimesSync=function(f,u){throw new p(a.ENOTSUP)};var E=function(f){function u(l,h,y,m,_){if(f.call(this),this._pos=0,this._dirty=!1,this._fs=l,this._path=h,this._flag=y,this._stat=m,this._buffer=_||Se(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.getBuffer=function(){return this._buffer},u.prototype.getStats=function(){return this._stat},u.prototype.getFlag=function(){return this._flag},u.prototype.getPath=function(){return this._path},u.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},u.prototype.advancePos=function(l){return this._pos+=l},u.prototype.setPos=function(l){return this._pos=l},u.prototype.sync=function(l){try{this.syncSync(),l()}catch(h){l(h)}},u.prototype.syncSync=function(){throw new p(a.ENOTSUP)},u.prototype.close=function(l){try{this.closeSync(),l()}catch(h){l(h)}},u.prototype.closeSync=function(){throw new p(a.ENOTSUP)},u.prototype.stat=function(l){try{l(null,this._stat.clone())}catch(h){l(h)}},u.prototype.statSync=function(){return this._stat.clone()},u.prototype.truncate=function(l,h){try{this.truncateSync(l),this._flag.isSynchronous()&&!re.getRootFS().supportsSynch()&&this.sync(h),h()}catch(y){return h(y)}},u.prototype.truncateSync=function(l){if(this._dirty=!0,!this._flag.isWriteable())throw new p(a.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,l>this._buffer.length){var h=n.alloc(l-this._buffer.length,0);return this.writeSync(h,0,h.length,this._buffer.length),void(this._flag.isSynchronous()&&re.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=l;var y=n.alloc(l);this._buffer.copy(y,0,0,l),this._buffer=y,this._flag.isSynchronous()&&re.getRootFS().supportsSynch()&&this.syncSync()},u.prototype.write=function(l,h,y,m,_){try{_(null,this.writeSync(l,h,y,m),l)}catch(T){_(T)}},u.prototype.writeSync=function(l,h,y,m){if(this._dirty=!0,m==null&&(m=this.getPos()),!this._flag.isWriteable())throw new p(a.EPERM,"File not opened with a writeable mode.");var _=m+y;if(_>this._stat.size&&(this._stat.size=_,_>this._buffer.length)){var T=n.alloc(_);this._buffer.copy(T),this._buffer=T}var L=l.copy(this._buffer,m,h,h+y);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),L):(this.setPos(m+L),L)},u.prototype.read=function(l,h,y,m,_){try{_(null,this.readSync(l,h,y,m),l)}catch(T){_(T)}},u.prototype.readSync=function(l,h,y,m){if(!this._flag.isReadable())throw new p(a.EPERM,"File not opened with a readable mode.");m==null&&(m=this.getPos()),m+y>this._stat.size&&(y=this._stat.size-m);var _=this._buffer.copy(l,h,m,m+y);return this._stat.atime=new Date,this._pos=m+y,_},u.prototype.chmod=function(l,h){try{this.chmodSync(l),h()}catch(y){h(y)}},u.prototype.chmodSync=function(l){if(!this._fs.supportsProps())throw new p(a.ENOTSUP);this._dirty=!0,this._stat.chmod(l),this.syncSync()},u.prototype.isDirty=function(){return this._dirty},u.prototype.resetDirty=function(){this._dirty=!1},u}(C),N=function(f){function u(l,h,y,m,_){f.call(this,l,h,y,m,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){l()},u.prototype.syncSync=function(){},u.prototype.close=function(l){l()},u.prototype.closeSync=function(){},u}(E),B=function(f){function u(l,h,y,m,_){f.call(this,l,h,y,m,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(E),ee=function(f){function u(l,h,y){if(y===void 0&&(y=!0),f.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=l,this._async=h,!l.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");ye(y,u.Name,{sync:"sync file system instance",async:"async file system instance"})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{var y=new u(l.sync,l.async,!1);y.initialize(function(m){m?h(m):h(null,y)},!1)}catch(m){h(m)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){return u.Name},u.prototype._syncSync=function(l){this._sync.writeFileSync(l.getPath(),l.getBuffer(),null,I.getFileFlag("w"),l.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[l.getPath(),l.getBuffer(),null,l.getFlag(),l.getStats().mode]})},u.prototype.initialize=function(l,h){var y=this;h===void 0&&(h=!0),h&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var m=this._initializeCallbacks;if(this._isInitialized)l();else if(m.push(l)===1){var _=function(L,q,Q){L!=="/"&&y._sync.mkdirSync(L,q),y._async.readdir(L,function(ce,de){var me=0;ce?Q(ce):function ve(ke){ke?Q(ke):me<de.length?(T(d.join(L,de[me]),ve),me++):Q()}()})},T=function(L,q){y._async.stat(L,!1,function(Q,ce){Q?q(Q):ce.isDirectory()?_(L,ce.mode,q):function(de,me,ve){y._async.readFile(de,null,I.getFileFlag("r"),function(ke,Be){if(ke)ve(ke);else try{y._sync.writeFileSync(de,Be,null,I.getFileFlag("w"),me)}catch(bt){ke=bt}finally{ve(ke)}})}(L,ce.mode,q)})};_("/",0,function(L){y._isInitialized=!L,y._initializeCallbacks=[],m.forEach(function(q){return q(L)})})}},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},u.prototype.renameSync=function(l,h){this.checkInitialized(),this._sync.renameSync(l,h),this.enqueueOp({apiMethod:"rename",arguments:[l,h]})},u.prototype.statSync=function(l,h){return this.checkInitialized(),this._sync.statSync(l,h)},u.prototype.openSync=function(l,h,y){return this.checkInitialized(),this._sync.openSync(l,h,y).closeSync(),new B(this,l,h,this._sync.statSync(l,!1),this._sync.readFileSync(l,null,I.getFileFlag("r")))},u.prototype.unlinkSync=function(l){this.checkInitialized(),this._sync.unlinkSync(l),this.enqueueOp({apiMethod:"unlink",arguments:[l]})},u.prototype.rmdirSync=function(l){this.checkInitialized(),this._sync.rmdirSync(l),this.enqueueOp({apiMethod:"rmdir",arguments:[l]})},u.prototype.mkdirSync=function(l,h){this.checkInitialized(),this._sync.mkdirSync(l,h),this.enqueueOp({apiMethod:"mkdir",arguments:[l,h]})},u.prototype.readdirSync=function(l){return this.checkInitialized(),this._sync.readdirSync(l)},u.prototype.existsSync=function(l){return this.checkInitialized(),this._sync.existsSync(l)},u.prototype.chmodSync=function(l,h,y){this.checkInitialized(),this._sync.chmodSync(l,h,y),this.enqueueOp({apiMethod:"chmod",arguments:[l,h,y]})},u.prototype.chownSync=function(l,h,y,m){this.checkInitialized(),this._sync.chownSync(l,h,y,m),this.enqueueOp({apiMethod:"chown",arguments:[l,h,y,m]})},u.prototype.utimesSync=function(l,h,y){this.checkInitialized(),this._sync.utimesSync(l,h,y),this.enqueueOp({apiMethod:"utimes",arguments:[l,h,y]})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new p(a.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},u.prototype.enqueueOp=function(l){var h=this;if(this._queue.push(l),!this._queueRunning){this._queueRunning=!0;var y=function(m){if(m&&console.error("WARNING: File system has desynchronized. Received following error: "+m+`
$`),h._queue.length>0){var _=h._queue.shift(),T=_.arguments;T.push(y),h._async[_.apiMethod].apply(h._async,T)}else h._queueRunning=!1};y()}},u}(_e);function fe(f,u,l){switch(l.length){case 0:return f.call(u);case 1:return f.call(u,l[0]);case 2:return f.call(u,l[0],l[1]);case 3:return f.call(u,l[0],l[1],l[2])}return f.apply(u,l)}ee.Name="AsyncMirror",ee.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};var he=Math.max;function Fe(f){return f}function Ie(f,u){return function(l,h,y){return h=he(h===void 0?l.length-1:h,0),function(){for(var m=arguments,_=-1,T=he(m.length-h,0),L=Array(T);++_<T;)L[_]=m[h+_];_=-1;for(var q=Array(h+1);++_<h;)q[_]=m[_];return q[h]=y(L),fe(l,this,q)}}(f,u,Fe)}var Je=function(f){return Ie(function(u){var l=u.pop();f.call(this,u,l)})};function Nt(f){return Ie(function(u,l){var h=Je(function(y,m){var _=this;return f(u,function(T,L){T.apply(_,y.concat(L))},m)});return l.length?h.apply(this,l):h})}var Qe=typeof i=="object"&&i&&i.Object===Object&&i,io=typeof self=="object"&&self&&self.Object===Object&&self,gs=Qe||io||Function("return this")(),gi=gs.Symbol,Zp=Object.prototype,Qb=Zp.hasOwnProperty,eE=Zp.toString,ms=gi?gi.toStringTag:void 0,tE=Object.prototype.toString,Xp=gi?gi.toStringTag:void 0;function df(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":Xp&&Xp in Object(f)?function(u){var l=Qb.call(u,ms),h=u[ms];try{u[ms]=void 0;var y=!0}catch{}var m=eE.call(u);return y&&(l?u[ms]=h:delete u[ms]),m}(f):function(u){return tE.call(u)}(f)}function Qp(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=9007199254740991}function pf(f){return f!=null&&Qp(f.length)&&!function(u){if(!function(h){var y=typeof h;return h!=null&&(y=="object"||y=="function")}(u))return!1;var l=df(u);return l=="[object Function]"||l=="[object GeneratorFunction]"||l=="[object AsyncFunction]"||l=="[object Proxy]"}(f)}var ey={};function vs(){}function yf(f){return function(){if(f!==null){var u=f;f=null,u.apply(this,arguments)}}}var gf=typeof Symbol=="function"&&Symbol.iterator;function mf(f){return f!=null&&typeof f=="object"}function ty(f){return mf(f)&&df(f)=="[object Arguments]"}var ry=Object.prototype,rE=ry.hasOwnProperty,nE=ry.propertyIsEnumerable,iE=ty(function(){return arguments}())?ty:function(f){return mf(f)&&rE.call(f,"callee")&&!nE.call(f,"callee")},oE=Array.isArray,ny=typeof e=="object"&&e&&!e.nodeType&&e,iy=ny&&typeof o=="object"&&o&&!o.nodeType&&o,oy=iy&&iy.exports===ny?gs.Buffer:void 0,sE=(oy?oy.isBuffer:void 0)||function(){return!1},aE=/^(?:0|[1-9]\d*)$/;function lE(f,u){return!!(u=u??9007199254740991)&&(typeof f=="number"||aE.test(f))&&f>-1&&f%1==0&&f<u}var et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var sy,ay=typeof e=="object"&&e&&!e.nodeType&&e,ly=ay&&typeof o=="object"&&o&&!o.nodeType&&o,vf=ly&&ly.exports===ay&&Qe.process,uy=function(){try{return vf&&vf.binding&&vf.binding("util")}catch{}}(),cy=uy&&uy.isTypedArray,uE=cy?(sy=cy,function(f){return sy(f)}):function(f){return mf(f)&&Qp(f.length)&&!!et[df(f)]},cE=Object.prototype.hasOwnProperty;function fE(f,u){var l=oE(f),h=!l&&iE(f),y=!l&&!h&&sE(f),m=!l&&!h&&!y&&uE(f),_=l||h||y||m,T=_?function(Q,ce){for(var de=-1,me=Array(Q);++de<Q;)me[de]=ce(de);return me}(f.length,String):[],L=T.length;for(var q in f)!u&&!cE.call(f,q)||_&&(q=="length"||y&&(q=="offset"||q=="parent")||m&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||lE(q,L))||T.push(q);return T}var hE=Object.prototype,dE=function(f,u){return function(l){return f(u(l))}}(Object.keys,Object),pE=Object.prototype.hasOwnProperty;function yE(f){if(l=(u=f)&&u.constructor,u!==(typeof l=="function"&&l.prototype||hE))return dE(f);var u,l,h=[];for(var y in Object(f))pE.call(f,y)&&y!="constructor"&&h.push(y);return h}function gE(f){var u,l=pf(u=f)?fE(u):yE(u),h=-1,y=l.length;return function(){var m=l[++h];return h<y?{value:f[m],key:m}:null}}function mE(f){if(pf(f))return function(l){var h=-1,y=l.length;return function(){return++h<y?{value:l[h],key:h}:null}}(f);var u=function(l){return gf&&l[gf]&&l[gf]()}(f);return u?function(l){var h=-1;return function(){var y=l.next();return y.done?null:(h++,{value:y.value,key:h})}}(u):gE(f)}function fy(f){return function(){if(f===null)throw new Error("Callback was already called.");var u=f;f=null,u.apply(this,arguments)}}function hy(f){return function(u,l,h){if(h=yf(h||vs),f<=0||!u)return h(null);var y=mE(u),m=!1,_=0;function T(q,Q){if(_-=1,q)m=!0,h(q);else{if(Q===ey||m&&_<=0)return m=!0,h(null);L()}}function L(){for(;_<f&&!m;){var q=y();if(q===null)return m=!0,void(_<=0&&h(null));_+=1,l(q.value,q.key,fy(T))}}L()}}function dy(f,u,l,h){hy(u)(f,l,h)}function wf(f,u){return function(l,h,y){return f(l,u,h,y)}}function vE(f,u,l){l=yf(l||vs);var h=0,y=0,m=f.length;function _(T,L){T?l(T):++y!==m&&L!==ey||l(null)}for(m===0&&l(null);h<m;h++)u(f[h],h,fy(_))}var py,wE=wf(dy,1/0),yy=function(f,u,l){(pf(f)?vE:wE)(f,u,l)};function gy(f,u,l,h){h=h||vs;var y=[],m=0;f(u=u||[],function(_,T,L){var q=m++;l(_,function(Q,ce){y[q]=ce,L(Q)})},function(_){h(_,y)})}Nt((py=gy,function(f,u,l){return py(yy,f,u,l)}));var _E=function(f){return function(u,l,h,y){return f(hy(l),u,h,y)}}(gy);Nt(wf(_E,1)),Ie(function(f,u){return Ie(function(l){return f.apply(null,u.concat(l))})});var my=typeof setImmediate=="function"&&setImmediate,vy=typeof s=="object"&&typeof s.nextTick=="function";function wy(f){setTimeout(f,0)}function _y(f){return Ie(function(u,l){f(function(){u.apply(null,l)})})}_y(my?setImmediate:vy?s.nextTick:wy);var mr,SE=wf(dy,1),bE=Ie(function(f){return Ie(function(u){var l,h,y,m,_=this,T=u[u.length-1];typeof T=="function"?u.pop():T=vs,l=f,h=u,y=function(L,q,Q){q.apply(_,L.concat(Ie(function(ce,de){Q(ce,de)})))},m=yf((m=function(L,q){T.apply(_,[L].concat(q))})||vs),SE(l,function(L,q,Q){y(h,L,function(ce,de){h=de,Q(ce)})},function(L){m(L,h)})})});function Sy(f){return Ie(function(u,l){u.apply(null,l.concat(Ie(function(h,y){typeof console=="object"&&(h?console.error&&console.error(h):console[f]&&function(m,_){for(var T=-1,L=m==null?0:m.length;++T<L&&_(m[T],T,m)!==!1;);}(y,function(m){console[f](m)}))})))})}function by(f,u,l){yy(f,function(h){return function(y,m,_){return h(y,_)}}(u),l)}Ie(function(f){return bE.apply(null,f.reverse())}),Ie(function(f){var u=[null].concat(f);return Je(function(l,h){return h.apply(this,u)})}),Sy("dir"),Sy("log"),_y(vy?s.nextTick:my?setImmediate:wy);var Bt=function(f){this._cache={},this._client=f};Bt.prototype.readdir=function(f,u){var l=this,h=this.getCachedDirInfo(f);this._wrap(function(y){h!==null&&h.contents?l._client.readdir(f,{contentHash:h.stat.contentHash},y):l._client.readdir(f,y)},function(y,m,_,T){y?y.status===Dropbox.ApiError.NO_CONTENT&&h!==null?u(null,h.contents.slice(0)):u(y):(l.updateCachedDirInfo(f,_,m.slice(0)),T.forEach(function(L){l.updateCachedInfo(d.join(f,L.name),L)}),u(null,m))})},Bt.prototype.remove=function(f,u){var l=this;this._wrap(function(h){l._client.remove(f,h)},function(h,y){h||l.updateCachedInfo(f,y),u(h)})},Bt.prototype.move=function(f,u,l){var h=this;this._wrap(function(y){h._client.move(f,u,y)},function(y,m){y||(h.deleteCachedInfo(f),h.updateCachedInfo(u,m)),l(y)})},Bt.prototype.stat=function(f,u){var l=this;this._wrap(function(h){l._client.stat(f,h)},function(h,y){h||l.updateCachedInfo(f,y),u(h,y)})},Bt.prototype.readFile=function(f,u){var l=this,h=this.getCachedFileInfo(f);h!==null&&h.contents!==null?this.stat(f,function(y,m){y?u(y):m.contentHash===h.stat.contentHash?u(y,h.contents.slice(0),h.stat):l.readFile(f,u)}):this._wrap(function(y){l._client.readFile(f,{arrayBuffer:!0},y)},function(y,m,_){y||l.updateCachedInfo(f,_,m.slice(0)),u(y,m,_)})},Bt.prototype.writeFile=function(f,u,l){var h=this;this._wrap(function(y){h._client.writeFile(f,u,y)},function(y,m){y||h.updateCachedInfo(f,m,u.slice(0)),l(y,m)})},Bt.prototype.mkdir=function(f,u){var l=this;this._wrap(function(h){l._client.mkdir(f,h)},function(h,y){h||l.updateCachedInfo(f,y,[]),u(h)})},Bt.prototype._wrap=function(f,u){var l=0,h=function(y){var m=2;if(y&&3>++l)switch(y.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){f(h)},1e3*m);break;default:u.apply(null,arguments)}else u.apply(null,arguments)};f(h)},Bt.prototype.getCachedInfo=function(f){return this._cache[f.toLowerCase()]},Bt.prototype.putCachedInfo=function(f,u){this._cache[f.toLowerCase()]=u},Bt.prototype.deleteCachedInfo=function(f){delete this._cache[f.toLowerCase()]},Bt.prototype.getCachedDirInfo=function(f){var u,l=this.getCachedInfo(f);return(u=l)&&u.stat.isFolder?l:null},Bt.prototype.getCachedFileInfo=function(f){var u,l=this.getCachedInfo(f);return(u=l)&&u.stat.isFile?l:null},Bt.prototype.updateCachedDirInfo=function(f,u,l){l===void 0&&(l=null);var h=this.getCachedInfo(f);u.contentHash===null||h!==void 0&&h.stat.contentHash===u.contentHash||this.putCachedInfo(f,{stat:u,contents:l})},Bt.prototype.updateCachedFileInfo=function(f,u,l){l===void 0&&(l=null);var h=this.getCachedInfo(f);u.versionTag===null||h!==void 0&&h.stat.versionTag===u.versionTag||this.putCachedInfo(f,{stat:u,contents:l})},Bt.prototype.updateCachedInfo=function(f,u,l){var h;l===void 0&&(l=null),u.isFile&&((h=l)==null||typeof h=="object"&&typeof h.byteLength=="number")?this.updateCachedFileInfo(f,u,l):u.isFolder&&Array.isArray(l)&&this.updateCachedDirInfo(f,u,l)};var EE=function(f){function u(l,h,y,m,_){f.call(this,l,h,y,m,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;if(this.isDirty()){var y=z(this.getBuffer());this._fs._writeFileStrict(this.getPath(),y,function(m){m||h.resetDirty(),l(m)})}else l()},u.prototype.close=function(l){this.sync(l)},u}(E),ll=function(f){function u(l,h){h===void 0&&(h=!0),f.call(this),this._client=new Bt(l),ye(h,u.Name,{client:"authenticated dropbox client instance"}),mr||((mr={})[Dropbox.ApiError.NETWORK_ERROR]=a.EIO,mr[Dropbox.ApiError.INVALID_PARAM]=a.EINVAL,mr[Dropbox.ApiError.INVALID_TOKEN]=a.EPERM,mr[Dropbox.ApiError.OAUTH_ERROR]=a.EPERM,mr[Dropbox.ApiError.NOT_FOUND]=a.ENOENT,mr[Dropbox.ApiError.INVALID_METHOD]=a.EINVAL,mr[Dropbox.ApiError.NOT_ACCEPTABLE]=a.EINVAL,mr[Dropbox.ApiError.CONFLICT]=a.EINVAL,mr[Dropbox.ApiError.RATE_LIMITED]=a.EBUSY,mr[Dropbox.ApiError.SERVER_ERROR]=a.EBUSY,mr[Dropbox.ApiError.OVER_QUOTA]=a.ENOSPC)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.client,!1))},u.isAvailable=function(){return typeof Dropbox<"u"},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(l){var h=this;this._client.readdir("/",function(y,m){y?l(h.convert(y,"/")):by(m,function(_,T){var L=d.join("/",_);h._client.remove(L,function(q){T(q?h.convert(q,L):null)})},function(_){_?l(_):l()})})},u.prototype.rename=function(l,h,y){var m=this;this._client.move(l,h,function(_){_?m._client.stat(h,function(T,L){if(T||L.isFolder){var q=_.response.error.indexOf(l)>-1?l:h;y(m.convert(_,q))}else m._client.remove(h,function(Q){Q?y(m.convert(Q,h)):m.rename(l,h,y)})}):y()})},u.prototype.stat=function(l,h,y){var m=this;this._client.stat(l,function(_,T){if(_)y(m.convert(_,l));else{if(!T||!T.isRemoved){var L=new k(m._statType(T),T.size);return y(null,L)}y(p.FileError(a.ENOENT,l))}})},u.prototype.open=function(l,h,y,m){var _=this;this._client.readFile(l,function(T,L,q){if(!T){var Q;Q=L===null?Se():ne(L);var ce=_._makeFile(l,h,q,Q);return m(null,ce)}if(!h.isReadable()){if(T.status===Dropbox.ApiError.NOT_FOUND){var de=new ArrayBuffer(0);return _._writeFileStrict(l,de,function(me,ve){if(me)m(me);else{var ke=_._makeFile(l,h,ve,ne(de));m(null,ke)}})}return m(_.convert(T,l))}m(_.convert(T,l))})},u.prototype._writeFileStrict=function(l,h,y){var m=this,_=d.dirname(l);this.stat(_,!1,function(T,L){T?y(p.FileError(a.ENOENT,_)):m._client.writeFile(l,h,function(q,Q){q?y(m.convert(q,l)):y(null,Q)})})},u.prototype._statType=function(l){return l.isFile?b.FILE:b.DIRECTORY},u.prototype._makeFile=function(l,h,y,m){var _=this._statType(y),T=new k(_,y.size);return new EE(this,l,h,T,m)},u.prototype._remove=function(l,h,y){var m=this;this._client.stat(l,function(_,T){_?h(m.convert(_,l)):T.isFile&&!y?h(p.FileError(a.ENOTDIR,l)):!T.isFile&&y?h(p.FileError(a.EISDIR,l)):m._client.remove(l,function(L){h(L?m.convert(L,l):null)})})},u.prototype.unlink=function(l,h){this._remove(l,h,!0)},u.prototype.rmdir=function(l,h){this._remove(l,h,!1)},u.prototype.mkdir=function(l,h,y){var m=this,_=d.dirname(l);this._client.stat(_,function(T,L){T?y(m.convert(T,_)):m._client.mkdir(l,function(q){y(q?p.FileError(a.EEXIST,l):null)})})},u.prototype.readdir=function(l,h){var y=this;this._client.readdir(l,function(m,_){return m?h(y.convert(m)):h(null,_)})},u.prototype.convert=function(l,h){h===void 0&&(h=null);var y=mr[l.status];return y===void 0&&(y=a.EIO),h?p.FileError(y,h):new p(y)},u}(G);function lt(f,u){u===void 0&&(u="");for(var l=f.errno,h=f.node,y=[];h&&(y.unshift(h.name),h!==h.parent);)h=h.parent;return new p(l,g[l],y.length>0?"/"+y.join("/"):u)}ll.Name="Dropbox",ll.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(f,u){f.isAuthenticated&&f.isAuthenticated()?u():u(new p(a.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};var xE=function(f){function u(l,h,y,m){f.call(this),this._fs=l,this._FS=h,this._path=y,this._stream=m}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.getPos=function(){},u.prototype.close=function(l){var h=null;try{this.closeSync()}catch(y){h=y}finally{l(h)}},u.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(l){throw lt(l,this._path)}},u.prototype.stat=function(l){try{l(null,this.statSync())}catch(h){l(h)}},u.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(l){throw lt(l,this._path)}},u.prototype.truncate=function(l,h){var y=null;try{this.truncateSync(l)}catch(m){y=m}finally{h(y)}},u.prototype.truncateSync=function(l){try{this._FS.ftruncate(this._stream.fd,l)}catch(h){throw lt(h,this._path)}},u.prototype.write=function(l,h,y,m,_){try{_(null,this.writeSync(l,h,y,m),l)}catch(T){_(T)}},u.prototype.writeSync=function(l,h,y,m){try{var _=J(l),T=m===null?void 0:m;return this._FS.write(this._stream,_,h,y,T)}catch(L){throw lt(L,this._path)}},u.prototype.read=function(l,h,y,m,_){try{_(null,this.readSync(l,h,y,m),l)}catch(T){_(T)}},u.prototype.readSync=function(l,h,y,m){try{var _=J(l),T=m===null?void 0:m;return this._FS.read(this._stream,_,h,y,T)}catch(L){throw lt(L,this._path)}},u.prototype.sync=function(l){l()},u.prototype.syncSync=function(){},u.prototype.chown=function(l,h,y){var m=null;try{this.chownSync(l,h)}catch(_){m=_}finally{y(m)}},u.prototype.chownSync=function(l,h){try{this._FS.fchown(this._stream.fd,l,h)}catch(y){throw lt(y,this._path)}},u.prototype.chmod=function(l,h){var y=null;try{this.chmodSync(l)}catch(m){y=m}finally{h(y)}},u.prototype.chmodSync=function(l){try{this._FS.fchmod(this._stream.fd,l)}catch(h){throw lt(h,this._path)}},u.prototype.utimes=function(l,h,y){var m=null;try{this.utimesSync(l,h)}catch(_){m=_}finally{y(m)}},u.prototype.utimesSync=function(l,h){this._fs.utimesSync(this._path,l,h)},u}(C),ul=function(f){function u(l){f.call(this),this._FS=l}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.FS))},u.isAvailable=function(){return!0},u.prototype.getName=function(){return this._FS.DB_NAME()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!0},u.prototype.supportsProps=function(){return!0},u.prototype.supportsSynch=function(){return!0},u.prototype.renameSync=function(l,h){try{this._FS.rename(l,h)}catch(y){throw y.errno===a.ENOENT?lt(y,this.existsSync(l)?h:l):lt(y)}},u.prototype.statSync=function(l,h){try{var y=h?this._FS.lstat(l):this._FS.stat(l),m=this.modeToFileType(y.mode);return new k(m,y.size,y.mode,y.atime,y.mtime,y.ctime)}catch(_){throw lt(_,l)}},u.prototype.openSync=function(l,h,y){try{var m=this._FS.open(l,h.getFlagString(),y);if(this._FS.isDir(m.node.mode))throw this._FS.close(m),p.EISDIR(l);return new xE(this,this._FS,l,m)}catch(_){throw lt(_,l)}},u.prototype.unlinkSync=function(l){try{this._FS.unlink(l)}catch(h){throw lt(h,l)}},u.prototype.rmdirSync=function(l){try{this._FS.rmdir(l)}catch(h){throw lt(h,l)}},u.prototype.mkdirSync=function(l,h){try{this._FS.mkdir(l,h)}catch(y){throw lt(y,l)}},u.prototype.readdirSync=function(l){try{return this._FS.readdir(l).filter(function(h){return h!=="."&&h!==".."})}catch(h){throw lt(h,l)}},u.prototype.truncateSync=function(l,h){try{this._FS.truncate(l,h)}catch(y){throw lt(y,l)}},u.prototype.readFileSync=function(l,h,y){try{var m=oe(this._FS.readFile(l,{flags:y.getFlagString()}));return h?m.toString(h):m}catch(_){throw lt(_,l)}},u.prototype.writeFileSync=function(l,h,y,m,_){try{y&&(h=n.from(h,y));var T=J(h);this._FS.writeFile(l,T,{flags:m.getFlagString(),encoding:"binary"}),this._FS.chmod(l,_)}catch(L){throw lt(L,l)}},u.prototype.chmodSync=function(l,h,y){try{h?this._FS.lchmod(l,y):this._FS.chmod(l,y)}catch(m){throw lt(m,l)}},u.prototype.chownSync=function(l,h,y,m){try{h?this._FS.lchown(l,y,m):this._FS.chown(l,y,m)}catch(_){throw lt(_,l)}},u.prototype.symlinkSync=function(l,h,y){try{this._FS.symlink(l,h)}catch(m){throw lt(m)}},u.prototype.readlinkSync=function(l){try{return this._FS.readlink(l)}catch(h){throw lt(h,l)}},u.prototype.utimesSync=function(l,h,y){try{this._FS.utime(l,h.getTime(),y.getTime())}catch(m){throw lt(m,l)}},u.prototype.modeToFileType=function(l){if(this._FS.isDir(l))return b.DIRECTORY;if(this._FS.isFile(l))return b.FILE;if(this._FS.isLink(l))return b.SYMLINK;throw p.EPERM("Invalid mode: "+l)},u}(_e);ul.Name="EmscriptenFileSystem",ul.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var oo=function(f){function u(l,h){f.call(this),this._folder=l,this._wrapped=h}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.folder,l.wrapped))},u.isAvailable=function(){return!0},u.prototype.initialize=function(l){var h=this;this._wrapped.exists(this._folder,function(y){y?l():h._wrapped.isReadOnly()?l(p.ENOENT(h._folder)):h._wrapped.mkdir(h._folder,511,l)})},u.prototype.getName=function(){return this._wrapped.getName()},u.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},u.prototype.supportsProps=function(){return this._wrapped.supportsProps()},u.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u}(G);function Ey(f,u){if(u!==null&&typeof u=="object"){var l=u,h=l.path;h&&(h="/"+d.relative(f,h),l.message=l.message.replace(l.path,h),l.path=h)}return u}function OE(f,u){return typeof u=="function"?function(l){arguments.length>0&&(arguments[0]=Ey(f,l)),u.apply(null,arguments)}:u}function xy(f,u,l){return f.slice(f.length-4)!=="Sync"?function(){return arguments.length>0&&(u&&(arguments[0]=d.join(this._folder,arguments[0])),l&&(arguments[1]=d.join(this._folder,arguments[1])),arguments[arguments.length-1]=OE(this._folder,arguments[arguments.length-1])),this._wrapped[f].apply(this._wrapped,arguments)}:function(){try{return u&&(arguments[0]=d.join(this._folder,arguments[0])),l&&(arguments[1]=d.join(this._folder,arguments[1])),this._wrapped[f].apply(this._wrapped,arguments)}catch(h){throw Ey(this._folder,h)}}}oo.Name="FolderAdapter",oo.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}},["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(f){oo.prototype[f]=xy(f,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(f){oo.prototype[f]=xy(f,!0,!0)});var _t=typeof window<"u"?window:typeof self<"u"?self:i,_f=_t.webkitRequestFileSystem||_t.requestFileSystem||null;function on(f,u,l){switch(f.name){case"PathExistsError":return p.EEXIST(u);case"QuotaExceededError":return p.FileError(a.ENOSPC,u);case"NotFoundError":return p.ENOENT(u);case"SecurityError":return p.FileError(a.EACCES,u);case"InvalidModificationError":return p.FileError(a.EPERM,u);case"TypeMismatchError":return p.FileError(l?a.ENOTDIR:a.EISDIR,u);default:return p.FileError(a.EINVAL,u)}}var kE=function(f){function u(l,h,y,m,_,T){f.call(this,l,y,m,_,T),this._entry=h}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;if(!this.isDirty())return l();this._entry.createWriter(function(y){var m=h.getBuffer(),_=new Blob([z(m)]),T=_.size;y.onwriteend=function(L){y.onwriteend=null,y.onerror=null,y.truncate(T),h.resetDirty(),l()},y.onerror=function(L){l(on(L,h.getPath(),!1))},y.write(_)})},u.prototype.close=function(l){this.sync(l)},u}(E),cl=function(f){function u(l,h,y){l===void 0&&(l=5),h===void 0&&(h=_t.PERSISTENT),y===void 0&&(y=!0),f.call(this),this.size=1048576*l,this.type=h,ye(y,u.Name,{size:l,type:h})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){var y=new u(l.size,l.type,!1);y.allocate(function(m){return m?h(m):h(null,y)},!1)},u.isAvailable=function(){return!!_f},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.allocate=function(l,h){var y=this;l===void 0&&(l=function(){}),h===void 0&&(h=!0),h&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var m=function(T){y.fs=T,l()},_=function(T){l(on(T,"/",!0))};this.type===_t.PERSISTENT?function(T,L,q,Q){if(navigator.webkitPersistentStorage!==void 0)switch(T){case _t.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(L,q,Q);break;case _t.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(L,q,Q);break;default:Q(new TypeError("Invalid storage type: "+T))}else _t.webkitStorageInfo.requestQuota(T,L,q,Q)}(this.type,this.size,function(T){_f(y.type,T,m,_)},_):_f(this.type,this.size,m,_)},u.prototype.empty=function(l){this._readdir("/",function(h,y){h?(console.error("Failed to empty FS"),l(h)):by(y,function(m,_){var T=function(){_()},L=function(q){_(on(q,m.fullPath,!m.isDirectory))};(function(q){return q.isDirectory})(m)?m.removeRecursively(T,L):m.remove(T,L)},function(m){h?(console.error("Failed to empty FS"),l(h)):l()})})},u.prototype.rename=function(l,h,y){var m=this,_=2,T=0,L=this.fs.root,q=l,Q=function(de){--_<=0&&y(on(de,q,!1))},ce=function(de){return++T==2?y(new p(a.EINVAL,"Something was identified as both a file and a directory. This should never happen.")):l===h?y():(q=d.dirname(h),void L.getDirectory(q,{},function(me){q=d.basename(h),de.moveTo(me,q,function(ve){y()},function(ve){de.isDirectory?(q=h,m.unlink(h,function(ke){ke?Q(ve):m.rename(l,h,y)})):Q(ve)})},Q))};L.getFile(l,{},ce,Q),L.getDirectory(l,{},ce,Q)},u.prototype.stat=function(l,h,y){var m=this,_={create:!1},T=function(q){var Q=new k(b.DIRECTORY,4096);y(null,Q)},L=function(q){y(on(q,l,!1))};this.fs.root.getFile(l,_,function(q){q.file(function(Q){var ce=new k(b.FILE,Q.size);y(null,ce)},L)},function(){m.fs.root.getDirectory(l,_,T,L)})},u.prototype.open=function(l,h,y,m){var _=this,T=function(L){L.name==="InvalidModificationError"&&h.isExclusive()?m(p.EEXIST(l)):m(on(L,l,!1))};this.fs.root.getFile(l,{create:h.pathNotExistsAction()===v.CREATE_FILE,exclusive:h.isExclusive()},function(L){L.file(function(q){var Q=new FileReader;Q.onloadend=function(ce){var de=_._makeFile(l,L,h,q,Q.result);m(null,de)},Q.onerror=function(ce){T(Q.error)},Q.readAsArrayBuffer(q)},T)},T)},u.prototype.unlink=function(l,h){this._remove(l,h,!0)},u.prototype.rmdir=function(l,h){var y=this;this.readdir(l,function(m,_){m?h(m):_.length>0?h(p.ENOTEMPTY(l)):y._remove(l,h,!1)})},u.prototype.mkdir=function(l,h,y){this.fs.root.getDirectory(l,{create:!0,exclusive:!0},function(m){y()},function(m){y(on(m,l,!0))})},u.prototype.readdir=function(l,h){this._readdir(l,function(y,m){if(!m)return h(y);for(var _=[],T=0,L=m;T<L.length;T+=1){var q=L[T];_.push(q.name)}h(null,_)})},u.prototype._makeFile=function(l,h,y,m,_){_===void 0&&(_=new ArrayBuffer(0));var T=new k(b.FILE,m.size),L=ne(_);return new kE(this,h,l,y,T,L)},u.prototype._readdir=function(l,h){var y=function(m){h(on(m,l,!0))};this.fs.root.getDirectory(l,{create:!1},function(m){var _=m.createReader(),T=[],L=function(){_.readEntries(function(q){q.length?(T=T.concat(function(Q){return Array.prototype.slice.call(Q||[],0)}(q)),L()):h(null,T)},y)};L()},y)},u.prototype._remove=function(l,h,y){var m=function(L){L.remove(function(){h()},function(q){h(on(q,l,!y))})},_=function(L){h(on(L,l,!y))},T={create:!1};y?this.fs.root.getFile(l,T,m,_):this.fs.root.getDirectory(l,T,m,_)},u}(G);cl.Name="HTML5FS",cl.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var nr=function(f,u,l,h,y,m){this.id=f,this.size=u,this.mode=l,this.atime=h,this.mtime=y,this.ctime=m};nr.fromBuffer=function(f){if(f===void 0)throw new Error("NO");return new nr(f.toString("ascii",30),f.readUInt32LE(0),f.readUInt16LE(4),f.readDoubleLE(6),f.readDoubleLE(14),f.readDoubleLE(22))},nr.prototype.toStats=function(){return new k((61440&this.mode)===b.DIRECTORY?b.DIRECTORY:b.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},nr.prototype.getSize=function(){return 30+this.id.length},nr.prototype.toBuffer=function(f){return f===void 0&&(f=n.alloc(this.getSize())),f.writeUInt32LE(this.size,0),f.writeUInt16LE(this.mode,4),f.writeDoubleLE(this.atime,6),f.writeDoubleLE(this.mtime,14),f.writeDoubleLE(this.ctime,22),f.write(this.id,30,this.id.length,"ascii"),f},nr.prototype.update=function(f){var u=!1;this.size!==f.size&&(this.size=f.size,u=!0),this.mode!==f.mode&&(this.mode=f.mode,u=!0);var l=f.atime.getTime();this.atime!==l&&(this.atime=l,u=!0);var h=f.mtime.getTime();this.mtime!==h&&(this.mtime=h,u=!0);var y=f.ctime.getTime();return this.ctime!==y&&(this.ctime=y,u=!0),u},nr.prototype.isFile=function(){return(61440&this.mode)===b.FILE},nr.prototype.isDirectory=function(){return(61440&this.mode)===b.DIRECTORY};var Cn="/",Oy=null;function ky(){return Oy||(Oy=n.from("{}"))}function fl(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var u=16*Math.random()|0;return(f==="x"?u:3&u|8).toString(16)})}function vr(f,u){return!f||(u(f),!1)}function kt(f,u,l){return!f||(u.abort(function(){l(f)}),!1)}var wn=function(f){this.store=f,this.originalData={},this.modifiedKeys=[]};wn.prototype.get=function(f){var u=this.store.get(f);return this.stashOldValue(f,u),u},wn.prototype.put=function(f,u,l){return this.markModified(f),this.store.put(f,u,l)},wn.prototype.del=function(f){this.markModified(f),this.store.del(f)},wn.prototype.commit=function(){},wn.prototype.abort=function(){for(var f=this,u=0,l=f.modifiedKeys;u<l.length;u+=1){var h=l[u],y=f.originalData[h];y?f.store.put(h,y,!0):f.store.del(h)}},wn.prototype.stashOldValue=function(f,u){this.originalData.hasOwnProperty(f)||(this.originalData[f]=u)},wn.prototype.markModified=function(f){this.modifiedKeys.indexOf(f)===-1&&(this.modifiedKeys.push(f),this.originalData.hasOwnProperty(f)||(this.originalData[f]=this.store.get(f)))};var Ny=function(f){function u(l,h,y,m,_){f.call(this,l,h,y,m,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(E),Ty=function(f){function u(l){f.call(this),this.store=l.store,this.makeRootDirectory()}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},u.prototype.renameSync=function(l,h){var y=this.store.beginTransaction("readwrite"),m=d.dirname(l),_=d.basename(l),T=d.dirname(h),L=d.basename(h),q=this.findINode(y,m),Q=this.getDirListing(y,m,q);if(!Q[_])throw p.ENOENT(l);var ce,de,me=Q[_];if(delete Q[_],(T+"/").indexOf(l+"/")===0)throw new p(a.EBUSY,m);if(T===m?(ce=q,de=Q):(ce=this.findINode(y,T),de=this.getDirListing(y,T,ce)),de[L]){var ve=this.getINode(y,h,de[L]);if(!ve.isFile())throw p.EPERM(h);try{y.del(ve.id),y.del(de[L])}catch(ke){throw y.abort(),ke}}de[L]=me;try{y.put(q.id,n.from(JSON.stringify(Q)),!0),y.put(ce.id,n.from(JSON.stringify(de)),!0)}catch(ke){throw y.abort(),ke}y.commit()},u.prototype.statSync=function(l,h){return this.findINode(this.store.beginTransaction("readonly"),l).toStats()},u.prototype.createFileSync=function(l,h,y){var m=this.store.beginTransaction("readwrite"),_=Se(),T=this.commitNewFile(m,l,b.FILE,y,_);return new Ny(this,l,h,T.toStats(),_)},u.prototype.openFileSync=function(l,h){var y=this.store.beginTransaction("readonly"),m=this.findINode(y,l),_=y.get(m.id);if(_===void 0)throw p.ENOENT(l);return new Ny(this,l,h,m.toStats(),_)},u.prototype.unlinkSync=function(l){this.removeEntry(l,!1)},u.prototype.rmdirSync=function(l){if(this.readdirSync(l).length>0)throw p.ENOTEMPTY(l);this.removeEntry(l,!0)},u.prototype.mkdirSync=function(l,h){var y=this.store.beginTransaction("readwrite"),m=n.from("{}");this.commitNewFile(y,l,b.DIRECTORY,h,m)},u.prototype.readdirSync=function(l){var h=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(h,l,this.findINode(h,l)))},u.prototype._syncSync=function(l,h,y){var m=this.store.beginTransaction("readwrite"),_=this._findINode(m,d.dirname(l),d.basename(l)),T=this.getINode(m,l,_),L=T.update(y);try{m.put(T.id,h,!0),L&&m.put(_,T.toBuffer(),!0)}catch(q){throw m.abort(),q}m.commit()},u.prototype.makeRootDirectory=function(){var l=this.store.beginTransaction("readwrite");if(l.get(Cn)===void 0){var h=new Date().getTime(),y=new nr(fl(),4096,511|b.DIRECTORY,h,h,h);l.put(y.id,ky(),!1),l.put(Cn,y.toBuffer(),!1),l.commit()}},u.prototype._findINode=function(l,h,y){var m=this,_=function(T){var L=m.getDirListing(l,h,T);if(L[y])return L[y];throw p.ENOENT(d.resolve(h,y))};return h==="/"?y===""?Cn:_(this.getINode(l,h,Cn)):_(this.getINode(l,h+d.sep+y,this._findINode(l,d.dirname(h),d.basename(h))))},u.prototype.findINode=function(l,h){return this.getINode(l,h,this._findINode(l,d.dirname(h),d.basename(h)))},u.prototype.getINode=function(l,h,y){var m=l.get(y);if(m===void 0)throw p.ENOENT(h);return nr.fromBuffer(m)},u.prototype.getDirListing=function(l,h,y){if(!y.isDirectory())throw p.ENOTDIR(h);var m=l.get(y.id);if(m===void 0)throw p.ENOENT(h);return JSON.parse(m.toString())},u.prototype.addNewNode=function(l,h){for(var y;;)try{return y=fl(),l.put(y,h,!1),y}catch{}throw new p(a.EIO,"Unable to commit data to key-value store.")},u.prototype.commitNewFile=function(l,h,y,m,_){var T,L=d.dirname(h),q=d.basename(h),Q=this.findINode(l,L),ce=this.getDirListing(l,L,Q),de=new Date().getTime();if(h==="/"||ce[q])throw p.EEXIST(h);try{var me=this.addNewNode(l,_);T=new nr(me,_.length,m|y,de,de,de);var ve=this.addNewNode(l,T.toBuffer());ce[q]=ve,l.put(Q.id,n.from(JSON.stringify(ce)),!0)}catch(ke){throw l.abort(),ke}return l.commit(),T},u.prototype.removeEntry=function(l,h){var y=this.store.beginTransaction("readwrite"),m=d.dirname(l),_=this.findINode(y,m),T=this.getDirListing(y,m,_),L=d.basename(l);if(!T[L])throw p.ENOENT(l);var q=T[L];delete T[L];var Q=this.getINode(y,l,q);if(!h&&Q.isDirectory())throw p.EISDIR(l);if(h&&!Q.isDirectory())throw p.ENOTDIR(l);try{y.del(Q.id),y.del(q),y.put(_.id,n.from(JSON.stringify(T)),!0)}catch(ce){throw y.abort(),ce}y.commit()},u}(_e),Ay=function(f){function u(l,h,y,m,_){f.call(this,l,h,y,m,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(y){y||h.resetDirty(),l(y)}):l()},u.prototype.close=function(l){this.sync(l)},u}(E),NE=function(f){function u(){f.apply(this,arguments)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.init=function(l,h){this.store=l,this.makeRootDirectory(h)},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(l){var h=this;this.store.clear(function(y){vr(y,l)&&h.makeRootDirectory(l)})},u.prototype.rename=function(l,h,y){var m=this,_=this.store.beginTransaction("readwrite"),T=d.dirname(l),L=d.basename(l),q=d.dirname(h),Q=d.basename(h),ce={},de={},me=!1;if((q+"/").indexOf(l+"/")===0)return y(new p(a.EBUSY,T));var ve=function(ke){m.findINodeAndDirListing(_,ke,function(Be,bt,qr){Be?me||(me=!0,_.abort(function(){y(Be)})):(ce[ke]=bt,de[ke]=qr,function(){if(!me&&de.hasOwnProperty(T)&&de.hasOwnProperty(q)){var Sr=de[T],ho=ce[T],sr=de[q],Ff=ce[q];if(Sr[L]){var xi=Sr[L];delete Sr[L];var Oi=function(){sr[Q]=xi,_.put(ho.id,n.from(JSON.stringify(Sr)),!0,function(Df){kt(Df,_,y)&&(T===q?_.commit(y):_.put(Ff.id,n.from(JSON.stringify(sr)),!0,function(Sl){kt(Sl,_,y)&&_.commit(y)}))})};sr[Q]?m.getINode(_,h,sr[Q],function(Df,Sl){kt(Df,_,y)&&(Sl.isFile()?_.del(Sl.id,function(mg){kt(mg,_,y)&&_.del(sr[Q],function(zE){kt(zE,_,y)&&Oi()})}):_.abort(function(mg){y(p.EPERM(h))}))}):Oi()}else y(p.ENOENT(l))}}())})};ve(T),T!==q&&ve(q)},u.prototype.stat=function(l,h,y){var m=this.store.beginTransaction("readonly");this.findINode(m,l,function(_,T){vr(_,y)&&y(null,T.toStats())})},u.prototype.createFile=function(l,h,y,m){var _=this,T=this.store.beginTransaction("readwrite"),L=Se();this.commitNewFile(T,l,b.FILE,y,L,function(q,Q){vr(q,m)&&m(null,new Ay(_,l,h,Q.toStats(),L))})},u.prototype.openFile=function(l,h,y){var m=this,_=this.store.beginTransaction("readonly");this.findINode(_,l,function(T,L){vr(T,y)&&_.get(L.id,function(q,Q){vr(q,y)&&(Q===void 0?y(p.ENOENT(l)):y(null,new Ay(m,l,h,L.toStats(),Q)))})})},u.prototype.unlink=function(l,h){this.removeEntry(l,!1,h)},u.prototype.rmdir=function(l,h){var y=this;this.readdir(l,function(m,_){m?h(m):_.length>0?h(p.ENOTEMPTY(l)):y.removeEntry(l,!0,h)})},u.prototype.mkdir=function(l,h,y){var m=this.store.beginTransaction("readwrite"),_=n.from("{}");this.commitNewFile(m,l,b.DIRECTORY,h,_,y)},u.prototype.readdir=function(l,h){var y=this,m=this.store.beginTransaction("readonly");this.findINode(m,l,function(_,T){vr(_,h)&&y.getDirListing(m,l,T,function(L,q){vr(L,h)&&h(null,Object.keys(q))})})},u.prototype._sync=function(l,h,y,m){var _=this,T=this.store.beginTransaction("readwrite");this._findINode(T,d.dirname(l),d.basename(l),function(L,q){kt(L,T,m)&&_.getINode(T,l,q,function(Q,ce){if(kt(Q,T,m)){var de=ce.update(y);T.put(ce.id,h,!0,function(me){kt(me,T,m)&&(de?T.put(q,ce.toBuffer(),!0,function(ve){kt(ve,T,m)&&T.commit(m)}):T.commit(m))})}})})},u.prototype.makeRootDirectory=function(l){var h=this.store.beginTransaction("readwrite");h.get(Cn,function(y,m){if(y||m===void 0){var _=new Date().getTime(),T=new nr(fl(),4096,511|b.DIRECTORY,_,_,_);h.put(T.id,ky(),!1,function(L){kt(L,h,l)&&h.put(Cn,T.toBuffer(),!1,function(q){q?h.abort(function(){l(q)}):h.commit(l)})})}else h.commit(l)})},u.prototype._findINode=function(l,h,y,m){var _=this,T=function(L,q,Q){L?m(L):Q[y]?m(null,Q[y]):m(p.ENOENT(d.resolve(h,y)))};h==="/"?y===""?m(null,Cn):this.getINode(l,h,Cn,function(L,q){vr(L,m)&&_.getDirListing(l,h,q,function(Q,ce){T(Q,0,ce)})}):this.findINodeAndDirListing(l,h,T)},u.prototype.findINode=function(l,h,y){var m=this;this._findINode(l,d.dirname(h),d.basename(h),function(_,T){vr(_,y)&&m.getINode(l,h,T,y)})},u.prototype.getINode=function(l,h,y,m){l.get(y,function(_,T){vr(_,m)&&(T===void 0?m(p.ENOENT(h)):m(null,nr.fromBuffer(T)))})},u.prototype.getDirListing=function(l,h,y,m){y.isDirectory()?l.get(y.id,function(_,T){if(vr(_,m))try{m(null,JSON.parse(T.toString()))}catch{m(p.ENOENT(h))}}):m(p.ENOTDIR(h))},u.prototype.findINodeAndDirListing=function(l,h,y){var m=this;this.findINode(l,h,function(_,T){vr(_,y)&&m.getDirListing(l,h,T,function(L,q){vr(L,y)&&y(null,T,q)})})},u.prototype.addNewNode=function(l,h,y){var m,_=0,T=function(){++_==5?y(new p(a.EIO,"Unable to commit data to key-value store.")):(m=fl(),l.put(m,h,!1,function(L,q){L||!q?T():y(null,m)}))};T()},u.prototype.commitNewFile=function(l,h,y,m,_,T){var L=this,q=d.dirname(h),Q=d.basename(h),ce=new Date().getTime();if(h==="/")return T(p.EEXIST(h));this.findINodeAndDirListing(l,q,function(de,me,ve){kt(de,l,T)&&(ve[Q]?l.abort(function(){T(p.EEXIST(h))}):L.addNewNode(l,_,function(ke,Be){if(kt(ke,l,T)){var bt=new nr(Be,_.length,m|y,ce,ce,ce);L.addNewNode(l,bt.toBuffer(),function(qr,Sr){kt(qr,l,T)&&(ve[Q]=Sr,l.put(me.id,n.from(JSON.stringify(ve)),!0,function(ho){kt(ho,l,T)&&l.commit(function(sr){kt(sr,l,T)&&T(null,bt)})}))})}}))})},u.prototype.removeEntry=function(l,h,y){var m=this,_=this.store.beginTransaction("readwrite"),T=d.dirname(l),L=d.basename(l);this.findINodeAndDirListing(_,T,function(q,Q,ce){if(kt(q,_,y))if(ce[L]){var de=ce[L];delete ce[L],m.getINode(_,l,de,function(me,ve){kt(me,_,y)&&(!h&&ve.isDirectory()?_.abort(function(){y(p.EISDIR(l))}):h&&!ve.isDirectory()?_.abort(function(){y(p.ENOTDIR(l))}):_.del(ve.id,function(ke){kt(ke,_,y)&&_.del(de,function(Be){kt(Be,_,y)&&_.put(Q.id,n.from(JSON.stringify(ce)),!0,function(bt){kt(bt,_,y)&&_.commit(y)})})}))})}else _.abort(function(){y(p.ENOENT(l))})})},u}(G),mi=function(){this.store={}};mi.prototype.name=function(){return so.Name},mi.prototype.clear=function(){this.store={}},mi.prototype.beginTransaction=function(f){return new wn(this)},mi.prototype.get=function(f){return this.store[f]},mi.prototype.put=function(f,u,l){return!(!l&&this.store.hasOwnProperty(f)||(this.store[f]=u,0))},mi.prototype.del=function(f){delete this.store[f]};var so=function(f){function u(){f.call(this,{store:new mi})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u)},u}(Ty);so.Name="InMemory",so.Options={};var Sf=_t.indexedDB||_t.mozIndexedDB||_t.webkitIndexedDB||_t.msIndexedDB;function ws(f,u){switch(u===void 0&&(u=f.toString()),f.name){case"NotFoundError":return new p(a.ENOENT,u);case"QuotaExceededError":return new p(a.ENOSPC,u);default:return new p(a.EIO,u)}}function _s(f,u,l){return u===void 0&&(u=a.EIO),l===void 0&&(l=null),function(h){h.preventDefault(),f(new p(u,l!==null?l:void 0))}}var bf=function(f,u){this.tx=f,this.store=u};bf.prototype.get=function(f,u){try{var l=this.store.get(f);l.onerror=_s(u),l.onsuccess=function(h){var y=h.target.result;u(null,y===void 0?y:ne(y))}}catch(h){u(ws(h))}};var TE=function(f){function u(l,h){f.call(this,l,h)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.put=function(l,h,y,m){try{var _,T=z(h);(_=y?this.store.put(T,l):this.store.add(T,l)).onerror=_s(m),_.onsuccess=function(L){m(null,!0)}}catch(L){m(ws(L))}},u.prototype.del=function(l,h){try{var y=this.store.delete(l);y.onerror=_s(h),y.onsuccess=function(m){h()}}catch(m){h(ws(m))}},u.prototype.commit=function(l){setTimeout(l,0)},u.prototype.abort=function(l){var h=null;try{this.tx.abort()}catch(y){h=ws(y)}finally{l(h)}},u}(bf),hl=function(f,u){var l=this;u===void 0&&(u="browserfs"),this.storeName=u;var h=Sf.open(this.storeName,1);h.onupgradeneeded=function(y){var m=y.target.result;m.objectStoreNames.contains(l.storeName)&&m.deleteObjectStore(l.storeName),m.createObjectStore(l.storeName)},h.onsuccess=function(y){l.db=y.target.result,f(null,l)},h.onerror=_s(f,a.EACCES)};hl.prototype.name=function(){return Ss.Name+" - "+this.storeName},hl.prototype.clear=function(f){try{var u=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();u.onsuccess=function(l){setTimeout(f,0)},u.onerror=_s(f)}catch(l){f(ws(l))}},hl.prototype.beginTransaction=function(f){f===void 0&&(f="readonly");var u=this.db.transaction(this.storeName,f),l=u.objectStore(this.storeName);if(f==="readwrite")return new TE(u,l);if(f==="readonly")return new bf(u,l);throw new p(a.EINVAL,"Invalid transaction type.")};var Ss=function(f){function u(l,h,y){var m=this;y===void 0&&(y=!0),f.call(this),this.store=new hl(function(_){_?l(_):m.init(m.store,function(T){l(T,m)})},h),ye(y,u.Name,{storeName:h})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){new u(h,l.storeName,!1)},u.isAvailable=function(){try{return Sf!==void 0&&Sf.open("__browserfs_test__")!==null}catch{return!1}},u}(NE);Ss.Name="IndexedDB",Ss.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var bs,Ef=!1;try{_t.localStorage.setItem("__test__",String.fromCharCode(55296)),Ef=_t.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{Ef=!1}bs=Ef?"binary_string":"binary_string_ie",n.isEncoding(bs)||(bs="base64");var vi=function(){};vi.prototype.name=function(){return Es.Name},vi.prototype.clear=function(){_t.localStorage.clear()},vi.prototype.beginTransaction=function(f){return new wn(this)},vi.prototype.get=function(f){try{var u=_t.localStorage.getItem(f);if(u!==null)return n.from(u,bs)}catch{}},vi.prototype.put=function(f,u,l){try{return!(!l&&_t.localStorage.getItem(f)!==null||(_t.localStorage.setItem(f,u.toString(bs)),0))}catch{throw new p(a.ENOSPC,"LocalStorage is full.")}},vi.prototype.del=function(f){try{_t.localStorage.removeItem(f)}catch(u){throw new p(a.EIO,"Unable to delete key "+f+": "+u)}};var Es=function(f){function u(){f.call(this,{store:new vi})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u)},u.isAvailable=function(){return _t.localStorage!==void 0},u}(Ty);Es.Name="LocalStorage",Es.Options={};var ao=function(f){function u(){f.call(this),this.mountList=[],this.mntMap={},this.rootFs=new so}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){var y=new u;Object.keys(l).forEach(function(m){y.mount(m,l[m])}),h(null,y)},u.isAvailable=function(){return!0},u.prototype.mount=function(l,h){if(l[0]!=="/"&&(l="/"+l),l=d.resolve(l),this.mntMap[l])throw new p(a.EINVAL,"Mount point "+l+" is already taken.");U(l,511,this.rootFs),this.mntMap[l]=h,this.mountList.push(l),this.mountList=this.mountList.sort(function(y,m){return m.length-y.length})},u.prototype.umount=function(l){if(l[0]!=="/"&&(l="/"+l),l=d.resolve(l),!this.mntMap[l])throw new p(a.EINVAL,"Mount point "+l+" is already unmounted.");for(delete this.mntMap[l],this.mountList.splice(this.mountList.indexOf(l),1);l!=="/"&&this.rootFs.readdirSync(l).length===0;)this.rootFs.rmdirSync(l),l=d.dirname(l)},u.prototype._getFs=function(l){for(var h=this.mountList,y=h.length,m=0;m<y;m++){var _=h[m];if(_.length<=l.length&&l.indexOf(_)===0)return(l=l.substr(_.length>1?_.length:0))===""&&(l="/"),{fs:this.mntMap[_],path:l}}return{fs:this.rootFs,path:l}},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(l,h){h(0,0)},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.standardizeError=function(l,h,y){var m=l.message.indexOf(h);return m!==-1&&(l.message=l.message.substr(0,m)+y+l.message.substr(m+h.length),l.path=y),l},u.prototype.rename=function(l,h,y){var m=this,_=this._getFs(l),T=this._getFs(h);return _.fs===T.fs?_.fs.rename(_.path,T.path,function(L){L&&m.standardizeError(m.standardizeError(L,_.path,l),T.path,h),y(L)}):re.readFile(l,function(L,q){if(L)return y(L);re.writeFile(h,q,function(Q){if(Q)return y(Q);re.unlink(l,y)})})},u.prototype.renameSync=function(l,h){var y=this._getFs(l),m=this._getFs(h);if(y.fs===m.fs)try{return y.fs.renameSync(y.path,m.path)}catch(T){throw this.standardizeError(this.standardizeError(T,y.path,l),m.path,h),T}var _=re.readFileSync(l);return re.writeFileSync(h,_),re.unlinkSync(l)},u.prototype.readdirSync=function(l){var h=this._getFs(l),y=null;if(h.fs!==this.rootFs)try{y=this.rootFs.readdirSync(l)}catch{}try{var m=h.fs.readdirSync(h.path);return y===null?m:m.concat(y.filter(function(_){return m.indexOf(_)===-1}))}catch(_){if(y===null)throw this.standardizeError(_,h.path,l);return y}},u.prototype.readdir=function(l,h){var y=this,m=this._getFs(l);m.fs.readdir(m.path,function(_,T){if(m.fs!==y.rootFs)try{var L=y.rootFs.readdirSync(l);T=T?T.concat(L.filter(function(q){return T.indexOf(q)===-1})):L}catch{if(_)return h(y.standardizeError(_,m.path,l))}else if(_)return h(y.standardizeError(_,m.path,l));h(null,T)})},u.prototype.rmdirSync=function(l){var h=this._getFs(l);if(this._containsMountPt(l))throw p.ENOTEMPTY(l);try{h.fs.rmdirSync(h.path)}catch(y){throw this.standardizeError(y,h.path,l)}},u.prototype.rmdir=function(l,h){var y=this,m=this._getFs(l);this._containsMountPt(l)?h(p.ENOTEMPTY(l)):m.fs.rmdir(m.path,function(_){h(_?y.standardizeError(_,m.path,l):null)})},u.prototype._containsMountPt=function(l){for(var h=this.mountList,y=h.length,m=0;m<y;m++){var _=h[m];if(_.length>=l.length&&_.slice(0,l.length)===l)return!0}return!1},u}(G);function Iy(f,u,l){return u?function(){for(var h=[],y=arguments.length;y--;)h[y]=arguments[y];var m=h[0],_=this._getFs(m);h[0]=_.path;try{return _.fs[f].apply(_.fs,h)}catch(T){throw this.standardizeError(T,_.path,m),T}}:function(){for(var h=this,y=[],m=arguments.length;m--;)y[m]=arguments[m];var _=y[0],T=this._getFs(_);if(y[0]=T.path,typeof y[y.length-1]=="function"){var L=y[y.length-1];y[y.length-1]=function(){for(var q=[],Q=arguments.length;Q--;)q[Q]=arguments[Q];q.length>0&&q[0]instanceof p&&h.standardizeError(q[0],T.path,_),L.apply(null,q)}}return T.fs[f].apply(T.fs,y)}}ao.Name="MountableFileSystem",ao.Options={};for(var xs,Ry=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],xf=0;xf<Ry.length;xf++)for(var Of=0,Fy=Ry[xf];Of<Fy.length;Of+=1){var dl=Fy[Of];ao.prototype[dl]=Iy(dl,!1),ao.prototype[dl+"Sync"]=Iy(dl+"Sync",!0)}if(typeof setImmediate<"u")xs=setImmediate;else{var Ar=_t,lo=[],Dy="zero-timeout-message";if(function(){if(Ar.importScripts!==void 0||!Ar.postMessage)return!1;var f=!0,u=Ar.onmessage;return Ar.onmessage=function(){f=!1},Ar.postMessage("","*"),Ar.onmessage=u,f}()){xs=function(f){lo.push(f),Ar.postMessage(Dy,"*")};var Cy=function(f){if(f.source===self&&f.data===Dy&&(f.stopPropagation?f.stopPropagation():f.cancelBubble=!0,lo.length>0))return lo.shift()()};Ar.addEventListener?Ar.addEventListener("message",Cy,!0):Ar.attachEvent("onmessage",Cy)}else if(Ar.MessageChannel){var Ly=new Ar.MessageChannel;Ly.port1.onmessage=function(f){if(lo.length>0)return lo.shift()()},xs=function(f){lo.push(f),Ly.port2.postMessage("")}}else xs=function(f){return setTimeout(f,0)}}var kf=xs,Os=function(){this._locked=!1,this._waiters=[]};Os.prototype.lock=function(f){this._locked?this._waiters.push(f):(this._locked=!0,f())},Os.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var f=this._waiters.shift();f?kf(f):this._locked=!1},Os.prototype.tryLock=function(){return!this._locked&&(this._locked=!0,!0)},Os.prototype.isLocked=function(){return this._locked};var Ne=function(f){this._fs=f,this._mu=new Os};Ne.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},Ne.prototype.getFSUnlocked=function(){return this._fs},Ne.prototype.initialize=function(f){this._fs.initialize(f)},Ne.prototype.diskSpace=function(f,u){this._fs.diskSpace(f,u)},Ne.prototype.isReadOnly=function(){return this._fs.isReadOnly()},Ne.prototype.supportsLinks=function(){return this._fs.supportsLinks()},Ne.prototype.supportsProps=function(){return this._fs.supportsProps()},Ne.prototype.supportsSynch=function(){return this._fs.supportsSynch()},Ne.prototype.rename=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.rename(f,u,function(y){h._mu.unlock(),l(y)})})},Ne.prototype.renameSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(f,u)},Ne.prototype.stat=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.stat(f,u,function(y,m){h._mu.unlock(),l(y,m)})})},Ne.prototype.statSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(f,u)},Ne.prototype.open=function(f,u,l,h){var y=this;this._mu.lock(function(){y._fs.open(f,u,l,function(m,_){y._mu.unlock(),h(m,_)})})},Ne.prototype.openSync=function(f,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(f,u,l)},Ne.prototype.unlink=function(f,u){var l=this;this._mu.lock(function(){l._fs.unlink(f,function(h){l._mu.unlock(),u(h)})})},Ne.prototype.unlinkSync=function(f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(f)},Ne.prototype.rmdir=function(f,u){var l=this;this._mu.lock(function(){l._fs.rmdir(f,function(h){l._mu.unlock(),u(h)})})},Ne.prototype.rmdirSync=function(f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(f)},Ne.prototype.mkdir=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.mkdir(f,u,function(y){h._mu.unlock(),l(y)})})},Ne.prototype.mkdirSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(f,u)},Ne.prototype.readdir=function(f,u){var l=this;this._mu.lock(function(){l._fs.readdir(f,function(h,y){l._mu.unlock(),u(h,y)})})},Ne.prototype.readdirSync=function(f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(f)},Ne.prototype.exists=function(f,u){var l=this;this._mu.lock(function(){l._fs.exists(f,function(h){l._mu.unlock(),u(h)})})},Ne.prototype.existsSync=function(f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(f)},Ne.prototype.realpath=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.realpath(f,u,function(y,m){h._mu.unlock(),l(y,m)})})},Ne.prototype.realpathSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(f,u)},Ne.prototype.truncate=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.truncate(f,u,function(y){h._mu.unlock(),l(y)})})},Ne.prototype.truncateSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(f,u)},Ne.prototype.readFile=function(f,u,l,h){var y=this;this._mu.lock(function(){y._fs.readFile(f,u,l,function(m,_){y._mu.unlock(),h(m,_)})})},Ne.prototype.readFileSync=function(f,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(f,u,l)},Ne.prototype.writeFile=function(f,u,l,h,y,m){var _=this;this._mu.lock(function(){_._fs.writeFile(f,u,l,h,y,function(T){_._mu.unlock(),m(T)})})},Ne.prototype.writeFileSync=function(f,u,l,h,y){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(f,u,l,h,y)},Ne.prototype.appendFile=function(f,u,l,h,y,m){var _=this;this._mu.lock(function(){_._fs.appendFile(f,u,l,h,y,function(T){_._mu.unlock(),m(T)})})},Ne.prototype.appendFileSync=function(f,u,l,h,y){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(f,u,l,h,y)},Ne.prototype.chmod=function(f,u,l,h){var y=this;this._mu.lock(function(){y._fs.chmod(f,u,l,function(m){y._mu.unlock(),h(m)})})},Ne.prototype.chmodSync=function(f,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(f,u,l)},Ne.prototype.chown=function(f,u,l,h,y){var m=this;this._mu.lock(function(){m._fs.chown(f,u,l,h,function(_){m._mu.unlock(),y(_)})})},Ne.prototype.chownSync=function(f,u,l,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(f,u,l,h)},Ne.prototype.utimes=function(f,u,l,h){var y=this;this._mu.lock(function(){y._fs.utimes(f,u,l,function(m){y._mu.unlock(),h(m)})})},Ne.prototype.utimesSync=function(f,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(f,u,l)},Ne.prototype.link=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.link(f,u,function(y){h._mu.unlock(),l(y)})})},Ne.prototype.linkSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(f,u)},Ne.prototype.symlink=function(f,u,l,h){var y=this;this._mu.lock(function(){y._fs.symlink(f,u,l,function(m){y._mu.unlock(),h(m)})})},Ne.prototype.symlinkSync=function(f,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(f,u,l)},Ne.prototype.readlink=function(f,u){var l=this;this._mu.lock(function(){l._fs.readlink(f,function(h,y){l._mu.unlock(),u(h,y)})})},Ne.prototype.readlinkSync=function(f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(f)};var _n="/.deletedFiles.log";function Py(f){return 146|f}function wr(f){return I.getFileFlag(f)}var ot,My=function(f){function u(l,h,y,m,_){f.call(this,l,h,y,m,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;this.isDirty()?this._fs._syncAsync(this,function(y){h.resetDirty(),l(y)}):l(null)},u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.close=function(l){this.sync(l)},u.prototype.closeSync=function(){this.syncSync()},u}(E),jy=function(f){function u(l,h){if(f.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=l,this._readable=h,this._writable.isReadOnly())throw new p(a.EINVAL,"Writable file system must be writable.")}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},u.prototype._syncAsync=function(l,h){var y=this;this.createParentDirectoriesAsync(l.getPath(),function(m){if(m)return h(m);y._writable.writeFile(l.getPath(),l.getBuffer(),null,wr("w"),l.getStats().mode,h)})},u.prototype._syncSync=function(l){this.createParentDirectories(l.getPath()),this._writable.writeFileSync(l.getPath(),l.getBuffer(),null,wr("w"),l.getStats().mode)},u.prototype.getName=function(){return ks.Name},u.prototype.initialize=function(l){var h=this,y=this._initializeCallbacks,m=function(_){h._isInitialized=!_,h._initializeCallbacks=[],y.forEach(function(T){return T(_)})};if(this._isInitialized)return l();y.push(l),y.length===1&&this._writable.readFile(_n,"utf8",wr("r"),function(_,T){if(_){if(_.errno!==a.ENOENT)return m(_)}else h._deleteLog=T;h._reparseDeletionLog(),m()})},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},u.prototype.getDeletionLog=function(){return this._deleteLog},u.prototype.restoreDeletionLog=function(l){this._deleteLog=l,this._reparseDeletionLog(),this.updateLog("")},u.prototype.rename=function(l,h,y){var m=this;if(this.checkInitAsync(y)&&!this.checkPathAsync(l,y)&&!this.checkPathAsync(h,y))return l===_n||h===_n?y(p.EPERM("Cannot rename deletion log.")):l===h?y():void this.stat(l,!1,function(_,T){return _?y(_):m.stat(h,!1,function(L,q){var Q=m;function ce(me){var ve=me.shift();if(!ve)return y();var ke=d.resolve(l,ve),Be=d.resolve(h,ve);Q.rename(ke,Be,function(bt){if(bt)return y(bt);ce(me)})}var de=511;if(T.isDirectory()){if(L)return L.errno!==a.ENOENT?y(L):m._writable.exists(l,function(me){if(me)return m._writable.rename(l,h,y);m._writable.mkdir(h,de,function(ve){if(ve)return y(ve);m._readable.readdir(l,function(ke,Be){if(ke)return y();ce(Be)})})});if(de=q.mode,!q.isDirectory())return y(p.ENOTDIR(h));m.readdir(h,function(me,ve){if(ve&&ve.length)return y(p.ENOTEMPTY(h));m._readable.readdir(l,function(ke,Be){if(ke)return y();ce(Be)})})}if(q&&q.isDirectory())return y(p.EISDIR(h));m.readFile(l,null,wr("r"),function(me,ve){return me?y(me):m.writeFile(h,ve,null,wr("w"),T.mode,function(ke){return ke?y(ke):m.unlink(l,y)})})})})},u.prototype.renameSync=function(l,h){var y=this;if(this.checkInitialized(),this.checkPath(l),this.checkPath(h),l===_n||h===_n)throw p.EPERM("Cannot rename deletion log.");var m=this.statSync(l,!1);if(m.isDirectory()){if(l===h)return;var _=511;if(this.existsSync(h)){var T=this.statSync(h,!1);if(_=T.mode,!T.isDirectory())throw p.ENOTDIR(h);if(this.readdirSync(h).length>0)throw p.ENOTEMPTY(h)}this._writable.existsSync(l)?this._writable.renameSync(l,h):this._writable.existsSync(h)||this._writable.mkdirSync(h,_),this._readable.existsSync(l)&&this._readable.readdirSync(l).forEach(function(L){y.renameSync(d.resolve(l,L),d.resolve(h,L))})}else{if(this.existsSync(h)&&this.statSync(h,!1).isDirectory())throw p.EISDIR(h);this.writeFileSync(h,this.readFileSync(l,null,wr("r")),null,wr("w"),m.mode)}l!==h&&this.existsSync(l)&&this.unlinkSync(l)},u.prototype.stat=function(l,h,y){var m=this;this.checkInitAsync(y)&&this._writable.stat(l,h,function(_,T){_&&_.errno===a.ENOENT?(m._deletedFiles[l]&&y(p.ENOENT(l)),m._readable.stat(l,h,function(L,q){q&&((q=q.clone()).mode=Py(q.mode)),y(L,q)})):y(_,T)})},u.prototype.statSync=function(l,h){this.checkInitialized();try{return this._writable.statSync(l,h)}catch{if(this._deletedFiles[l])throw p.ENOENT(l);var y=this._readable.statSync(l,h).clone();return y.mode=Py(y.mode),y}},u.prototype.open=function(l,h,y,m){var _=this;this.checkInitAsync(m)&&!this.checkPathAsync(l,m)&&this.stat(l,!1,function(T,L){if(!L)return h.pathNotExistsAction()===v.CREATE_FILE?_.createParentDirectoriesAsync(l,function(q){return q?m(q):_._writable.open(l,h,y,m)}):m(p.ENOENT(l));switch(h.pathExistsAction()){case v.TRUNCATE_FILE:return _.createParentDirectoriesAsync(l,function(q){if(q)return m(q);_._writable.open(l,h,y,m)});case v.NOP:return _._writable.exists(l,function(q){q?_._writable.open(l,h,y,m):((L=L.clone()).mode=y,_._readable.readFile(l,null,wr("r"),function(Q,ce){if(Q)return m(Q);L.size===-1&&(L.size=ce.length);var de=new My(_,l,h,L,ce);m(null,de)}))});default:return m(p.EEXIST(l))}})},u.prototype.openSync=function(l,h,y){if(this.checkInitialized(),this.checkPath(l),l===_n)throw p.EPERM("Cannot open deletion log.");if(!this.existsSync(l)){if(h.pathNotExistsAction()===v.CREATE_FILE)return this.createParentDirectories(l),this._writable.openSync(l,h,y);throw p.ENOENT(l)}switch(h.pathExistsAction()){case v.TRUNCATE_FILE:return this.createParentDirectories(l),this._writable.openSync(l,h,y);case v.NOP:if(this._writable.existsSync(l))return this._writable.openSync(l,h,y);var m=this._readable.readFileSync(l,null,wr("r")),_=this._readable.statSync(l,!1).clone();return _.mode=y,new My(this,l,h,_,m);default:throw p.EEXIST(l)}},u.prototype.unlink=function(l,h){var y=this;this.checkInitAsync(h)&&!this.checkPathAsync(l,h)&&this.exists(l,function(m){if(!m)return h(p.ENOENT(l));y._writable.exists(l,function(_){if(_)return y._writable.unlink(l,function(T){if(T)return h(T);y.exists(l,function(L){L&&y.deletePath(l),h(null)})});y.deletePath(l),h(null)})})},u.prototype.unlinkSync=function(l){if(this.checkInitialized(),this.checkPath(l),!this.existsSync(l))throw p.ENOENT(l);this._writable.existsSync(l)&&this._writable.unlinkSync(l),this.existsSync(l)&&this.deletePath(l)},u.prototype.rmdir=function(l,h){var y=this;if(this.checkInitAsync(h)){var m=function(){y.readdir(l,function(_,T){return _?h(_):T.length?h(p.ENOTEMPTY(l)):(y.deletePath(l),void h(null))})};this.exists(l,function(_){if(!_)return h(p.ENOENT(l));y._writable.exists(l,function(T){T?y._writable.rmdir(l,function(L){if(L)return h(L);y._readable.exists(l,function(q){q?m():h()})}):m()})})}},u.prototype.rmdirSync=function(l){if(this.checkInitialized(),!this.existsSync(l))throw p.ENOENT(l);if(this._writable.existsSync(l)&&this._writable.rmdirSync(l),this.existsSync(l)){if(this.readdirSync(l).length>0)throw p.ENOTEMPTY(l);this.deletePath(l)}},u.prototype.mkdir=function(l,h,y){var m=this;this.checkInitAsync(y)&&this.exists(l,function(_){if(_)return y(p.EEXIST(l));m.createParentDirectoriesAsync(l,function(T){if(T)return y(T);m._writable.mkdir(l,h,y)})})},u.prototype.mkdirSync=function(l,h){if(this.checkInitialized(),this.existsSync(l))throw p.EEXIST(l);this.createParentDirectories(l),this._writable.mkdirSync(l,h)},u.prototype.readdir=function(l,h){var y=this;this.checkInitAsync(h)&&this.stat(l,!1,function(m,_){return m?h(m):_.isDirectory()?void y._writable.readdir(l,function(T,L){if(T&&T.code!=="ENOENT")return h(T);!T&&L||(L=[]),y._readable.readdir(l,function(q,Q){!q&&Q||(Q=[]);var ce={},de=L.concat(Q.filter(function(me){return!y._deletedFiles[l+"/"+me]})).filter(function(me){var ve=!ce[me];return ce[me]=!0,ve});h(null,de)})}):h(p.ENOTDIR(l))})},u.prototype.readdirSync=function(l){var h=this;if(this.checkInitialized(),!this.statSync(l,!1).isDirectory())throw p.ENOTDIR(l);var y=[];try{y=y.concat(this._writable.readdirSync(l))}catch{}try{y=y.concat(this._readable.readdirSync(l).filter(function(_){return!h._deletedFiles[l+"/"+_]}))}catch{}var m={};return y.filter(function(_){var T=!m[_];return m[_]=!0,T})},u.prototype.exists=function(l,h){var y=this;this.checkInitialized(),this._writable.exists(l,function(m){if(m)return h(!0);y._readable.exists(l,function(_){h(_&&y._deletedFiles[l]!==!0)})})},u.prototype.existsSync=function(l){return this.checkInitialized(),this._writable.existsSync(l)||this._readable.existsSync(l)&&this._deletedFiles[l]!==!0},u.prototype.chmod=function(l,h,y,m){var _=this;this.checkInitAsync(m)&&this.operateOnWritableAsync(l,function(T){if(T)return m(T);_._writable.chmod(l,h,y,m)})},u.prototype.chmodSync=function(l,h,y){var m=this;this.checkInitialized(),this.operateOnWritable(l,function(){m._writable.chmodSync(l,h,y)})},u.prototype.chown=function(l,h,y,m,_){var T=this;this.checkInitAsync(_)&&this.operateOnWritableAsync(l,function(L){if(L)return _(L);T._writable.chown(l,h,y,m,_)})},u.prototype.chownSync=function(l,h,y,m){var _=this;this.checkInitialized(),this.operateOnWritable(l,function(){_._writable.chownSync(l,h,y,m)})},u.prototype.utimes=function(l,h,y,m){var _=this;this.checkInitAsync(m)&&this.operateOnWritableAsync(l,function(T){if(T)return m(T);_._writable.utimes(l,h,y,m)})},u.prototype.utimesSync=function(l,h,y){var m=this;this.checkInitialized(),this.operateOnWritable(l,function(){m._writable.utimesSync(l,h,y)})},u.prototype.deletePath=function(l){this._deletedFiles[l]=!0,this.updateLog("d"+l+`
`)},u.prototype.updateLog=function(l){var h=this;this._deleteLog+=l,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(_n,this._deleteLog,"utf8",I.getFileFlag("w"),420,function(y){h._deleteLogUpdatePending=!1,y?h._deleteLogError=y:h._deleteLogUpdateNeeded&&(h._deleteLogUpdateNeeded=!1,h.updateLog(""))}))},u.prototype._reparseDeletionLog=function(){var l=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(h){l._deletedFiles[h.slice(1)]=h.slice(0,1)==="d"})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new p(a.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(this._deleteLogError!==null){var l=this._deleteLogError;throw this._deleteLogError=null,l}},u.prototype.checkInitAsync=function(l){if(!this._isInitialized)return l(new p(a.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;if(this._deleteLogError!==null){var h=this._deleteLogError;return this._deleteLogError=null,l(h),!1}return!0},u.prototype.checkPath=function(l){if(l===_n)throw p.EPERM(l)},u.prototype.checkPathAsync=function(l,h){return l===_n&&(h(p.EPERM(l)),!0)},u.prototype.createParentDirectoriesAsync=function(l,h){var y=d.dirname(l),m=[],_=this;function T(){if(!m.length)return h();var L=m.pop();_._readable.stat(L,!1,function(q,Q){if(!Q)return h();_._writable.mkdir(L,Q.mode,function(ce){if(ce)return h(ce);T()})})}this._writable.stat(y,!1,function L(q,Q){q?(m.push(y),y=d.dirname(y),_._writable.stat(y,!1,L)):T()})},u.prototype.createParentDirectories=function(l){for(var h=this,y=d.dirname(l),m=[];!this._writable.existsSync(y);)m.push(y),y=d.dirname(y);(m=m.reverse()).forEach(function(_){h._writable.mkdirSync(_,h.statSync(_,!1).mode)})},u.prototype.operateOnWritable=function(l,h){if(!this.existsSync(l))throw p.ENOENT(l);this._writable.existsSync(l)||this.copyToWritable(l),h()},u.prototype.operateOnWritableAsync=function(l,h){var y=this;this.exists(l,function(m){if(!m)return h(p.ENOENT(l));y._writable.exists(l,function(_){if(!_)return y.copyToWritableAsync(l,h);h()})})},u.prototype.copyToWritable=function(l){var h=this.statSync(l,!1);h.isDirectory()?this._writable.mkdirSync(l,h.mode):this.writeFileSync(l,this._readable.readFileSync(l,null,wr("r")),null,wr("w"),this.statSync(l,!1).mode)},u.prototype.copyToWritableAsync=function(l,h){var y=this;this.stat(l,!1,function(m,_){return m?h(m):_.isDirectory()?y._writable.mkdir(l,_.mode,h):void y._readable.readFile(l,null,wr("r"),function(T,L){if(T)return h(T);y.writeFile(l,L,null,wr("w"),_.mode,h)})})},u}(G),ks=function(f){function u(l,h,y){y===void 0&&(y=!0),f.call(this,new jy(l,h)),ye(y,u.Name,{readable:"readable file system",writable:"writable file system"})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{var y=new u(l.writable,l.readable,!1);y.initialize(function(m){h(m,y)},!1)}catch(m){h(m)}},u.isAvailable=function(){return jy.isAvailable()},u.prototype.initialize=function(l,h){h===void 0&&(h=!0),h&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),f.prototype.initialize.call(this,l)},u.prototype.getOverlayedFileSystems=function(){return f.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},u.prototype.unwrap=function(){return f.prototype.getFSUnlocked.call(this)},u}(Ne);ks.Name="OverlayFS",ks.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}},function(f){f[f.CB=0]="CB",f[f.FD=1]="FD",f[f.API_ERROR=2]="API_ERROR",f[f.STATS=3]="STATS",f[f.PROBE=4]="PROBE",f[f.FILEFLAG=5]="FILEFLAG",f[f.BUFFER=6]="BUFFER",f[f.ERROR=7]="ERROR"}(ot||(ot={}));var Nf=function(){this._callbacks={},this._nextId=0};Nf.prototype.toRemoteArg=function(f){var u=this._nextId++;return this._callbacks[u]=f,{type:ot.CB,id:u}},Nf.prototype.toLocalArg=function(f){var u=this._callbacks[f];return delete this._callbacks[f],u};var pl=function(){this._fileDescriptors={},this._nextId=0};function yl(f){return{type:ot.API_ERROR,errorData:wi(f.writeToBuffer())}}function By(f){return p.fromBuffer(_i(f.errorData))}function Uy(f){return{type:ot.ERROR,name:f.name,message:f.message,stack:f.stack}}function zy(f){var u=_t[f.name];typeof u!="function"&&(u=Error);var l=new u(f.message);return l.stack=f.stack,l}function Vy(f){return{type:ot.STATS,statsData:wi(f.toBuffer())}}function Wy(f){return k.fromBuffer(_i(f.statsData))}function qy(f){return{type:ot.FILEFLAG,flagStr:f.getFlagString()}}function $y(f){return I.getFileFlag(f.flagStr)}function wi(f){return z(f)}function _i(f){return ne(f)}function Hy(f){return{type:ot.BUFFER,data:wi(f)}}function Jy(f){return _i(f.data)}pl.prototype.toRemoteArg=function(f,u,l,h){var y,m,_=this._nextId++;this._fileDescriptors[_]=f,f.stat(function(T,L){T?h(T):(m=wi(L.toBuffer()),l.isReadable()?f.read(n.alloc(L.size),0,L.size,0,function(q,Q,ce){q?h(q):(y=wi(ce),h(null,{type:ot.FD,id:_,data:y,stat:m,path:u,flag:l.getFlagString()}))}):h(null,{type:ot.FD,id:_,data:new ArrayBuffer(0),stat:m,path:u,flag:l.getFlagString()}))})},pl.prototype.applyFdAPIRequest=function(f,u){var l=this,h=f.args[0];this._applyFdChanges(h,function(y,m){y?u(y):m[f.method](function(_){f.method==="close"&&delete l._fileDescriptors[h.id],u(_)})})},pl.prototype._applyFdChanges=function(f,u){var l=this._fileDescriptors[f.id],h=_i(f.data),y=k.fromBuffer(_i(f.stat)),m=I.getFileFlag(f.flag);m.isWriteable()?l.write(h,0,h.length,m.isAppendable()?l.getPos():0,function(_){function T(){l.stat(function(L,q){L?u(L):q.mode!==y.mode?l.chmod(y.mode,function(Q){u(Q,l)}):u(L,l)})}_?u(_):m.isAppendable()?T():l.truncate(h.length,function(){T()})}):u(null,l)};var Gy=function(f){function u(l,h,y,m,_,T){f.call(this,l,h,y,m,T),this._remoteFdId=_}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.getRemoteFdId=function(){return this._remoteFdId},u.prototype.toRemoteArg=function(){return{type:ot.FD,id:this._remoteFdId,data:wi(this.getBuffer()),stat:wi(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},u.prototype.sync=function(l){this._syncClose("sync",l)},u.prototype.close=function(l){this._syncClose("close",l)},u.prototype._syncClose=function(l,h){var y=this;this.isDirty()?this._fs.syncClose(l,this,function(m){m||y.resetDirty(),h(m)}):h()},u}(E),gl=function(f){function u(l,h){var y=this;h===void 0&&(h=!0),f.call(this),this._callbackConverter=new Nf,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=l,ye(h,u.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(m){var _,T=m.data;if((_=T)&&typeof _=="object"&&_.hasOwnProperty("browserfsMessage")&&_.browserfsMessage){var L,q=T.args,Q=new Array(q.length);for(L=0;L<Q.length;L++)Q[L]=y._argRemote2Local(q[L]);y._callbackConverter.toLocalArg(T.cbId).apply(null,Q)}})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){var y=new u(l.worker,!1);y.initialize(function(){h(null,y)})},u.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},u.attachRemoteListener=function(l){var h=new pl;function y(_,T,L){typeof _=="object"?_ instanceof k?L(null,Vy(_)):_ instanceof p?L(null,yl(_)):_ instanceof C?L(null,h.toRemoteArg(_,T[0],T[1],L)):_ instanceof I?L(null,qy(_)):_ instanceof n?L(null,Hy(_)):_ instanceof Error?L(null,Uy(_)):L(null,_):L(null,_)}function m(_,T){if(!_)return _;if(typeof _=="object"){if(typeof _.type!="number")return _;var L=_;switch(L.type){case ot.CB:var q=_.id;return function(){var Q,ce,de=arguments,me=new Array(arguments.length),ve=arguments.length;function ke(Be){ve>0&&(ve=-1,ce={browserfsMessage:!0,cbId:q,args:[yl(Be)]},l.postMessage(ce))}for(Q=0;Q<arguments.length;Q++)(function(Be,bt){y(bt,T,function(qr,Sr){me[Be]=Sr,qr?ke(qr):--ve==0&&(ce={browserfsMessage:!0,cbId:q,args:me},l.postMessage(ce))})})(Q,de[Q]);arguments.length===0&&(ce={browserfsMessage:!0,cbId:q,args:me},l.postMessage(ce))};case ot.API_ERROR:return By(L);case ot.STATS:return Wy(L);case ot.FILEFLAG:return $y(L);case ot.BUFFER:return Jy(L);case ot.ERROR:return zy(L);default:return _}}return _}l.addEventListener("message",function(_){var T,L,q=_.data;if((L=q)&&typeof L=="object"&&L.hasOwnProperty("browserfsMessage")&&L.browserfsMessage){var Q=q.args,ce=new Array(Q.length);switch(q.method){case"close":case"sync":T=Q[1],h.applyFdAPIRequest(q,function(ve){var ke={browserfsMessage:!0,cbId:T.id,args:ve?[yl(ve)]:[]};l.postMessage(ke)});break;case"probe":(function(){var ve=re.getRootFS(),ke=Q[1],Be={type:ot.PROBE,isReadOnly:ve.isReadOnly(),supportsLinks:ve.supportsLinks(),supportsProps:ve.supportsProps()},bt={browserfsMessage:!0,cbId:ke.id,args:[Be]};l.postMessage(bt)})();break;default:for(var de=0;de<Q.length;de++)ce[de]=m(Q[de],ce);var me=re.getRootFS();me[q.method].apply(me,ce)}}})},u.prototype.getName=function(){return u.Name},u.prototype.initialize=function(l){var h=this;if(this._isInitialized)l();else{var y={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Se()),this._callbackConverter.toRemoteArg(function(m){h._isInitialized=!0,h._isReadOnly=m.isReadOnly,h._supportLinks=m.supportsLinks,h._supportProps=m.supportsProps,l()})]};this._worker.postMessage(y)}},u.prototype.isReadOnly=function(){return this._isReadOnly},u.prototype.supportsSynch=function(){return!1},u.prototype.supportsLinks=function(){return this._supportLinks},u.prototype.supportsProps=function(){return this._supportProps},u.prototype.rename=function(l,h,y){this._rpc("rename",arguments)},u.prototype.stat=function(l,h,y){this._rpc("stat",arguments)},u.prototype.open=function(l,h,y,m){this._rpc("open",arguments)},u.prototype.unlink=function(l,h){this._rpc("unlink",arguments)},u.prototype.rmdir=function(l,h){this._rpc("rmdir",arguments)},u.prototype.mkdir=function(l,h,y){this._rpc("mkdir",arguments)},u.prototype.readdir=function(l,h){this._rpc("readdir",arguments)},u.prototype.exists=function(l,h){this._rpc("exists",arguments)},u.prototype.realpath=function(l,h,y){this._rpc("realpath",arguments)},u.prototype.truncate=function(l,h,y){this._rpc("truncate",arguments)},u.prototype.readFile=function(l,h,y,m){this._rpc("readFile",arguments)},u.prototype.writeFile=function(l,h,y,m,_,T){this._rpc("writeFile",arguments)},u.prototype.appendFile=function(l,h,y,m,_,T){this._rpc("appendFile",arguments)},u.prototype.chmod=function(l,h,y,m){this._rpc("chmod",arguments)},u.prototype.chown=function(l,h,y,m,_){this._rpc("chown",arguments)},u.prototype.utimes=function(l,h,y,m){this._rpc("utimes",arguments)},u.prototype.link=function(l,h,y){this._rpc("link",arguments)},u.prototype.symlink=function(l,h,y,m){this._rpc("symlink",arguments)},u.prototype.readlink=function(l,h){this._rpc("readlink",arguments)},u.prototype.syncClose=function(l,h,y){this._worker.postMessage({browserfsMessage:!0,method:l,args:[h.toRemoteArg(),this._callbackConverter.toRemoteArg(y)]})},u.prototype._argRemote2Local=function(l){if(!l)return l;if(typeof l=="object"){if(typeof l.type!="number")return l;var h=l;switch(h.type){case ot.API_ERROR:return By(h);case ot.FD:var y=h;return new Gy(this,y.path,I.getFileFlag(y.flag),k.fromBuffer(_i(y.stat)),y.id,_i(y.data));case ot.STATS:return Wy(h);case ot.FILEFLAG:return $y(h);case ot.BUFFER:return Jy(h);case ot.ERROR:return zy(h);default:return l}}return l},u.prototype._rpc=function(l,h){for(var y=new Array(h.length),m=0;m<h.length;m++)y[m]=this._argLocal2Remote(h[m]);var _={browserfsMessage:!0,method:l,args:y};this._worker.postMessage(_)},u.prototype._argLocal2Remote=function(l){if(!l)return l;switch(typeof l){case"object":return l instanceof k?Vy(l):l instanceof p?yl(l):l instanceof Gy?l.toRemoteArg():l instanceof I?qy(l):l instanceof n?Hy(l):l instanceof Error?Uy(l):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(l);default:return l}},u}(G);function Yy(f,u,l){var h=new XMLHttpRequest;h.open("HEAD",u,f),h.onreadystatechange=function(y){if(h.readyState===4){if(h.status!==200)return l(new p(h.status,"XHR HEAD error."));try{return l(null,parseInt(h.getResponseHeader("Content-Length")||"-1",10))}catch{return l(new p(a.EIO,"XHR HEAD error: Could not read content-length."))}}},h.send()}gl.Name="WorkerFS",gl.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(f,u){f.postMessage?u():u(new p(a.EINVAL,"option must be a Web Worker instance."))}}};var Ky=function(f,u,l){var h=new XMLHttpRequest;h.open("GET",f,!0);var y=!0;switch(u){case"buffer":h.responseType="arraybuffer";break;case"json":try{h.responseType="json",y=h.responseType==="json"}catch{y=!1}break;default:return l(new p(a.EINVAL,"Invalid download type: "+u))}h.onreadystatechange=function(m){if(h.readyState===4){if(h.status!==200)return l(new p(h.status,"XHR error."));switch(u){case"buffer":return l(null,h.response?n.from(h.response):Se());case"json":return l(null,y?h.response:JSON.parse(h.responseText))}}},h.send()},AE=P&&typeof Blob<"u"?function(f,u){var l,h,y=new XMLHttpRequest;switch(y.open("GET",f,!1),u){case"buffer":y.responseType="arraybuffer";break;case"json":break;default:throw new p(a.EINVAL,"Invalid download type: "+u)}if(y.onreadystatechange=function(m){if(y.readyState===4)if(y.status===200)switch(u){case"buffer":l=n.from(y.response);break;case"json":l=JSON.parse(y.response)}else h=new p(y.status,"XHR error.")},y.send(),h)throw h;return l}:function(f,u){var l=new XMLHttpRequest;l.open("GET",f,!1);var h=null,y=null;if(l.overrideMimeType("text/plain; charset=x-user-defined"),l.onreadystatechange=function(m){if(l.readyState===4){if(l.status!==200)return void(y=new p(l.status,"XHR error."));switch(u){case"buffer":var _=l.responseText;h=n.alloc(_.length);for(var T=0;T<_.length;T++)h[T]=_.charCodeAt(T);return;case"json":return void(h=JSON.parse(l.responseText))}}},l.send(),y)throw y;return h},Ir=function(){this._index={},this.addPath("/",new ir)};Ir.fromListing=function(f){var u=new Ir,l=new ir;u._index["/"]=l;for(var h=[["",f,l]];h.length>0;){var y=void 0,m=h.pop(),_=m[0],T=m[1],L=m[2];for(var q in T)if(T.hasOwnProperty(q)){var Q=T[q],ce=_+"/"+q;Q?(u._index[ce]=y=new ir,h.push([ce,Q,y])):y=new uo(new k(b.FILE,-1,365)),L&&(L._ls[q]=y)}}return u},Ir.prototype.fileIterator=function(f){var u=this;for(var l in u._index)if(u._index.hasOwnProperty(l))for(var h=u._index[l],y=0,m=h.getListing();y<m.length;y+=1){var _=m[y],T=h.getItem(_);Sn(T)&&f(T.getData())}},Ir.prototype.addPath=function(f,u){if(!u)throw new Error("Inode must be specified");if(f[0]!=="/")throw new Error("Path must be absolute, got: "+f);if(this._index.hasOwnProperty(f))return this._index[f]===u;var l=this._split_path(f),h=l[0],y=l[1],m=this._index[h];return!(m===void 0&&f!=="/"&&(m=new ir,!this.addPath(h,m))||f!=="/"&&!m.addItem(y,u)||(Ln(u)&&(this._index[f]=u),0))},Ir.prototype.addPathFast=function(f,u){var l=f.lastIndexOf("/"),h=l===0?"/":f.substring(0,l),y=f.substring(l+1),m=this._index[h];return m===void 0&&(m=new ir,this.addPathFast(h,m)),!!m.addItem(y,u)&&(u.isDir()&&(this._index[f]=u),!0)},Ir.prototype.removePath=function(f){var u=this._split_path(f),l=u[0],h=u[1],y=this._index[l];if(y===void 0)return null;var m=y.remItem(h);if(m===null)return null;if(Ln(m)){for(var _=0,T=m.getListing();_<T.length;_+=1){var L=T[_];this.removePath(f+"/"+L)}f!=="/"&&delete this._index[f]}return m},Ir.prototype.ls=function(f){var u=this._index[f];return u===void 0?null:u.getListing()},Ir.prototype.getInode=function(f){var u=this._split_path(f),l=u[0],h=u[1],y=this._index[l];return y===void 0?null:l===f?y:y.getItem(h)},Ir.prototype._split_path=function(f){var u=d.dirname(f);return[u,f.substr(u.length+(u==="/"?0:1))]};var uo=function(f){this.data=f};uo.prototype.isFile=function(){return!0},uo.prototype.isDir=function(){return!1},uo.prototype.getData=function(){return this.data},uo.prototype.setData=function(f){this.data=f};var ir=function(f){f===void 0&&(f=null),this.data=f,this._ls={}};function Sn(f){return!!f&&f.isFile()}function Ln(f){return!!f&&f.isDir()}ir.prototype.isFile=function(){return!1},ir.prototype.isDir=function(){return!0},ir.prototype.getData=function(){return this.data},ir.prototype.getStats=function(){return new k(b.DIRECTORY,4096,365)},ir.prototype.getListing=function(){return Object.keys(this._ls)},ir.prototype.getItem=function(f){var u=this._ls[f];return u||null},ir.prototype.addItem=function(f,u){return!(f in this._ls)&&(this._ls[f]=u,!0)},ir.prototype.remItem=function(f){var u=this._ls[f];return u===void 0?null:(delete this._ls[f],u)};var ml=function(f){function u(l,h,y){h===void 0&&(h=""),y===void 0&&(y=!0),f.call(this),l||(l="index.json"),h.length>0&&h.charAt(h.length-1)!=="/"&&(h+="/"),this.prefixUrl=h;var m=null;if(typeof l=="string"){if(!(m=this._requestFileSync(l,"json")))throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else m=l;ye(y,u.Name,{index:typeof l=="string"?l:"file index as an object",baseUrl:h}),this._index=Ir.fromListing(m)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){l.index===void 0&&(l.index="index.json"),typeof l.index=="string"?u.FromURL(l.index,h,l.baseUrl,!1):h(null,new u(l.index,l.baseUrl,!1))},u.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},u.FromURL=function(l,h,y,m){y===void 0&&(y=l.slice(0,l.lastIndexOf("/")+1)),m===void 0&&(m=!0),m&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+l+'", baseUrl: "'+y+`" }, cb)' instead.`),Ky(l,"json",function(_,T){_?h(_):h(null,new u(T,y,!1))})},u.prototype.empty=function(){this._index.fileIterator(function(l){l.fileData=null})},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(l,h){h(0,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.preloadFile=function(l,h){var y=this._index.getInode(l);if(!Sn(y))throw p.EISDIR(l);if(y===null)throw p.ENOENT(l);var m=y.getData();m.size=h.length,m.fileData=h},u.prototype.stat=function(l,h,y){var m,_=this._index.getInode(l);if(_===null)return y(p.ENOENT(l));Sn(_)?(m=_.getData()).size<0?this._requestFileSizeAsync(l,function(T,L){if(T)return y(T);m.size=L,y(null,m.clone())}):y(null,m.clone()):Ln(_)?(m=_.getStats(),y(null,m)):y(p.FileError(a.EINVAL,l))},u.prototype.statSync=function(l,h){var y,m=this._index.getInode(l);if(m===null)throw p.ENOENT(l);if(Sn(m))(y=m.getData()).size<0&&(y.size=this._requestFileSizeSync(l));else{if(!Ln(m))throw p.FileError(a.EINVAL,l);y=m.getStats()}return y},u.prototype.open=function(l,h,y,m){if(h.isWriteable())return m(new p(a.EPERM,l));var _=this,T=this._index.getInode(l);if(T===null)return m(p.ENOENT(l));if(!Sn(T))return m(p.EISDIR(l));var L=T.getData();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:return m(p.EEXIST(l));case v.NOP:if(L.fileData)return m(null,new N(_,l,h,L.clone(),L.fileData));this._requestFileAsync(l,"buffer",function(q,Q){return q?m(q):(L.size=Q.length,L.fileData=Q,m(null,new N(_,l,h,L.clone(),Q)))});break;default:return m(new p(a.EINVAL,"Invalid FileMode object."))}},u.prototype.openSync=function(l,h,y){if(h.isWriteable())throw new p(a.EPERM,l);var m=this._index.getInode(l);if(m===null)throw p.ENOENT(l);if(!Sn(m))throw p.EISDIR(l);var _=m.getData();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw p.EEXIST(l);case v.NOP:if(_.fileData)return new N(this,l,h,_.clone(),_.fileData);var T=this._requestFileSync(l,"buffer");return _.size=T.length,_.fileData=T,new N(this,l,h,_.clone(),T);default:throw new p(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdir=function(l,h){try{h(null,this.readdirSync(l))}catch(y){h(y)}},u.prototype.readdirSync=function(l){var h=this._index.getInode(l);if(h===null)throw p.ENOENT(l);if(Ln(h))return h.getListing();throw p.ENOTDIR(l)},u.prototype.readFile=function(l,h,y,m){var _=m;this.open(l,y,420,function(T,L){if(T)return m(T);m=function(Q,ce){L.close(function(de){return Q||(Q=de),_(Q,ce)})};var q=L.getBuffer();h===null?m(T,se(q)):function(Q,ce,de){try{de(null,Q.toString(ce))}catch(me){de(me)}}(q,h,m)})},u.prototype.readFileSync=function(l,h,y){var m=this.openSync(l,y,420);try{var _=m.getBuffer();return h===null?se(_):_.toString(h)}finally{m.closeSync()}},u.prototype.getXhrPath=function(l){return l.charAt(0)==="/"&&(l=l.slice(1)),this.prefixUrl+l},u.prototype._requestFileAsync=function(l,h,y){Ky(this.getXhrPath(l),h,y)},u.prototype._requestFileSync=function(l,h){return AE(this.getXhrPath(l),h)},u.prototype._requestFileSizeAsync=function(l,h){(function(y,m){Yy(!0,y,m)})(this.getXhrPath(l),h)},u.prototype._requestFileSizeSync=function(l){return h=this.getXhrPath(l),y=-1,Yy(!1,h,function(m,_){if(m)throw m;y=_}),y;var h,y},u}(G);ml.Name="XmlHttpRequest",ml.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Si=function(){};Si.str2byte=function(f,u){for(var l=f.length>u.length?u.length:f.length,h=0;h<l;h++){var y=f.charCodeAt(h);if(y>127){var m=Si.extendedChars.indexOf(f.charAt(h));m>-1&&(y=m+128)}u[y]=h}return l},Si.byte2str=function(f){for(var u=new Array(f.length),l=0;l<f.length;l++){var h=f[l];u[l]=h>127?Si.extendedChars[h-128]:String.fromCharCode(h)}return u.join("")},Si.byteLength=function(f){return f.length},Si.extendedChars=["\xC7","\xFC","\xE9","\xE2","\xE4","\xE0","\xE5","\xE7","\xEA","\xEB","\xE8","\xEF","\xEE","\xEC","\xC4","\xC5","\xC9","\xE6","\xC6","\xF4","\xF6","\xF2","\xFB","\xF9","\xFF","\xD6","\xDC","\xF8","\xA3","\xD8","\xD7","\u0192","\xE1","\xED","\xF3","\xFA","\xF1","\xD1","\xAA","\xBA","\xBF","\xAE","\xAC","\xBD","\xBC","\xA1","\xAB","\xBB","_","_","_","\xA6","\xA6","\xC1","\xC2","\xC0","\xA9","\xA6","\xA6","+","+","\xA2","\xA5","+","+","-","-","+","-","+","\xE3","\xC3","+","+","-","-","\xA6","-","+","\xA4","\xF0","\xD0","\xCA","\xCB","\xC8","i","\xCD","\xCE","\xCF","+","+","_","_","\xA6","\xCC","_","\xD3","\xDF","\xD4","\xD2","\xF5","\xD5","\xB5","\xFE","\xDE","\xDA","\xDB","\xD9","\xFD","\xDD","\xAF","\xB4","\xAD","\xB1","_","\xBE","\xB6","\xA7","\xF7","\xB8","\xB0","\xA8","\xB7","\xB9","\xB3","\xB2","_"," "];var Zy,co,IE=r(31).inflateRaw,Xy={};function Qy(f,u){return new Date(1980+(u>>9),(u>>5&15)-1,31&u,f>>11,f>>5&63,31&f)}function vl(f,u,l,h){return h===0?"":u?f.toString("utf8",l,l+h):Si.byte2str(f.slice(l,l+h))}(function(f){f[f.MSDOS=0]="MSDOS",f[f.AMIGA=1]="AMIGA",f[f.OPENVMS=2]="OPENVMS",f[f.UNIX=3]="UNIX",f[f.VM_CMS=4]="VM_CMS",f[f.ATARI_ST=5]="ATARI_ST",f[f.OS2_HPFS=6]="OS2_HPFS",f[f.MAC=7]="MAC",f[f.Z_SYSTEM=8]="Z_SYSTEM",f[f.CP_M=9]="CP_M",f[f.NTFS=10]="NTFS",f[f.MVS=11]="MVS",f[f.VSE=12]="VSE",f[f.ACORN_RISC=13]="ACORN_RISC",f[f.VFAT=14]="VFAT",f[f.ALT_MVS=15]="ALT_MVS",f[f.BEOS=16]="BEOS",f[f.TANDEM=17]="TANDEM",f[f.OS_400=18]="OS_400",f[f.OSX=19]="OSX"})(Zy||(Zy={})),function(f){f[f.STORED=0]="STORED",f[f.SHRUNK=1]="SHRUNK",f[f.REDUCED_1=2]="REDUCED_1",f[f.REDUCED_2=3]="REDUCED_2",f[f.REDUCED_3=4]="REDUCED_3",f[f.REDUCED_4=5]="REDUCED_4",f[f.IMPLODE=6]="IMPLODE",f[f.DEFLATE=8]="DEFLATE",f[f.DEFLATE64=9]="DEFLATE64",f[f.TERSE_OLD=10]="TERSE_OLD",f[f.BZIP2=12]="BZIP2",f[f.LZMA=14]="LZMA",f[f.TERSE_NEW=18]="TERSE_NEW",f[f.LZ77=19]="LZ77",f[f.WAVPACK=97]="WAVPACK",f[f.PPMD=98]="PPMD"}(co||(co={}));var _r=function(f){if(this.data=f,f.readUInt32LE(0)!==67324752)throw new p(a.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};_r.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},_r.prototype.flags=function(){return this.data.readUInt16LE(6)},_r.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},_r.prototype.lastModFileTime=function(){return Qy(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},_r.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},_r.prototype.crc32=function(){return this.data.readUInt32LE(14)},_r.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},_r.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},_r.prototype.fileName=function(){return vl(this.data,this.useUTF8(),30,this.fileNameLength())},_r.prototype.extraField=function(){var f=30+this.fileNameLength();return this.data.slice(f,f+this.extraFieldLength())},_r.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},_r.prototype.useUTF8=function(){return(2048&this.flags())==2048};var Ns=function(f,u,l){this.header=f,this.record=u,this.data=l};Ns.prototype.decompress=function(){var f=this.header.compressionMethod(),u=Xy[f];if(u)return u(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var l=co[f];throw l||(l="Unknown: "+f),new p(a.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+l)},Ns.prototype.getHeader=function(){return this.header},Ns.prototype.getRecord=function(){return this.record},Ns.prototype.getRawData=function(){return this.data};var Me=function(f,u){if(this.zipData=f,this.data=u,this.data.readUInt32LE(0)!==33639248)throw new p(a.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};Me.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},Me.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},Me.prototype.flag=function(){return this.data.readUInt16LE(8)},Me.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},Me.prototype.lastModFileTime=function(){return Qy(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},Me.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},Me.prototype.crc32=function(){return this.data.readUInt32LE(16)},Me.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},Me.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},Me.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},Me.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},Me.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},Me.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},Me.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},Me.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},Me.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},Me.prototype.produceFilename=function(){return vl(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},Me.prototype.fileName=function(){return this._filename},Me.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},Me.prototype.extraField=function(){var f=44+this.fileNameLength();return this.data.slice(f,f+this.extraFieldLength())},Me.prototype.fileComment=function(){var f=46+this.fileNameLength()+this.extraFieldLength();return vl(this.data,this.useUTF8(),f,this.fileCommentLength())},Me.prototype.rawFileComment=function(){var f=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(f,f+this.fileCommentLength())},Me.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},Me.prototype.isDirectory=function(){var f=this.fileName();return!!(16&this.externalAttributes())||f.charAt(f.length-1)==="/"},Me.prototype.isFile=function(){return!this.isDirectory()},Me.prototype.useUTF8=function(){return(2048&this.flag())==2048},Me.prototype.isEncrypted=function(){return(1&this.flag())==1},Me.prototype.getFileData=function(){var f=this.headerRelativeOffset(),u=new _r(this.zipData.slice(f));return new Ns(u,this,this.zipData.slice(f+u.totalSize()))},Me.prototype.getData=function(){return this.getFileData().decompress()},Me.prototype.getRawData=function(){return this.getFileData().getRawData()},Me.prototype.getStats=function(){return new k(b.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var sn=function(f){if(this.data=f,this.data.readUInt32LE(0)!==101010256)throw new p(a.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};sn.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},sn.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},sn.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},sn.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},sn.prototype.cdSize=function(){return this.data.readUInt32LE(12)},sn.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},sn.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},sn.prototype.cdZipComment=function(){return vl(this.data,!0,22,this.cdZipCommentLength())},sn.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var eg=function(f,u,l,h){this.index=f,this.directoryEntries=u,this.eocd=l,this.data=h},bi=function(f){function u(l,h,y){h===void 0&&(h=""),y===void 0&&(y=!0),f.call(this),this.name=h,this._index=new Ir,this._directoryEntries=[],this._eocd=null,ye(y,u.Name,{zipData:"zip data as a Buffer",name:h}),l instanceof eg?(this._index=l.index,this._directoryEntries=l.directoryEntries,this._eocd=l.eocd,this.data=l.data):(this.data=l,this.populateIndex())}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{u.computeIndex(l.zipData,function(y){var m=new u(y,l.name,!1);h(null,m)},!1)}catch(y){h(y)}},u.isAvailable=function(){return!0},u.RegisterDecompressionMethod=function(l,h){Xy[l]=h},u.computeIndex=function(l,h,y){y===void 0&&(y=!0),y&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var m=new Ir,_=u.getEOCD(l);if(_.diskNumber()!==_.cdDiskNumber())throw new p(a.EINVAL,"ZipFS does not support spanned zip files.");var T=_.cdOffset();if(T===4294967295)throw new p(a.EINVAL,"ZipFS does not support Zip64.");var L=T+_.cdSize();u.computeIndexResponsive(l,m,T,L,h,[],_)},u.getEOCD=function(l){for(var h=Math.min(65557,l.length-1),y=22;y<h;y++)if(l.readUInt32LE(l.length-y)===101010256)return new sn(l.slice(l.length-y));throw new p(a.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},u.addToIndex=function(l,h){var y=l.fileName();if(y.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");y.charAt(y.length-1)==="/"&&(y=y.substr(0,y.length-1)),l.isDirectory()?h.addPathFast("/"+y,new ir(l)):h.addPathFast("/"+y,new uo(l))},u.computeIndexResponsive=function(l,h,y,m,_,T,L){if(y<m){for(var q=0;q++<200&&y<m;){var Q=new Me(l,l.slice(y));u.addToIndex(Q,h),y+=Q.totalSize(),T.push(Q)}kf(function(){u.computeIndexResponsive(l,h,y,m,_,T,L)})}else _(new eg(h,T,L,l))},u.prototype.getName=function(){return u.Name+(this.name!==""?" "+this.name:"")},u.prototype.getCentralDirectoryEntry=function(l){var h=this._index.getInode(l);if(h===null)throw p.ENOENT(l);if(Sn(h)||Ln(h))return h.getData();throw p.EPERM("Invalid inode: "+h)},u.prototype.getCentralDirectoryEntryAt=function(l){var h=this._directoryEntries[l];if(!h)throw new RangeError("Invalid directory index: "+l+".");return h},u.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},u.prototype.getEndOfCentralDirectory=function(){return this._eocd},u.prototype.diskSpace=function(l,h){h(this.data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(l,h){var y,m=this._index.getInode(l);if(m===null)throw p.ENOENT(l);if(Sn(m))y=m.getData().getStats();else{if(!Ln(m))throw new p(a.EINVAL,"Invalid inode.");y=m.getStats()}return y},u.prototype.openSync=function(l,h,y){if(h.isWriteable())throw new p(a.EPERM,l);var m=this._index.getInode(l);if(!m)throw p.ENOENT(l);if(!Sn(m))throw p.EISDIR(l);var _=m.getData(),T=_.getStats();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw p.EEXIST(l);case v.NOP:return new N(this,l,h,T,_.getData());default:throw new p(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(l){var h=this._index.getInode(l);if(h){if(Ln(h))return h.getListing();throw p.ENOTDIR(l)}throw p.ENOENT(l)},u.prototype.readFileSync=function(l,h,y){var m=this.openSync(l,y,420);try{var _=m.getBuffer();return h===null?se(_):_.toString(h)}finally{m.closeSync()}},u.prototype.populateIndex=function(){var l=this,h=this._eocd=u.getEOCD(this.data);if(h.diskNumber()!==h.cdDiskNumber())throw new p(a.EINVAL,"ZipFS does not support spanned zip files.");var y=h.cdOffset();if(y===4294967295)throw new p(a.EINVAL,"ZipFS does not support Zip64.");for(var m=y+h.cdSize();y<m;){var _=new Me(l.data,l.data.slice(y));y+=_.totalSize(),u.addToIndex(_,l._index),l._directoryEntries.push(_)}},u}(_e);function or(f,u,l){return f.toString("ascii",u,u+l).trim()}function Tf(f,u,l){if(l===1)return String.fromCharCode(f[u]);for(var h=Math.floor(l/2),y=new Array(h),m=0;m<h;m++){var _=u+(m<<1);y[m]=String.fromCharCode(f[_+1]|f[_]<<8)}return y.join("")}function an(f,u){var l=parseInt(or(f,u,4),10),h=parseInt(or(f,u+4,2),10),y=parseInt(or(f,u+6,2),10),m=parseInt(or(f,u+8,2),10),_=parseInt(or(f,u+10,2),10),T=parseInt(or(f,u+12,2),10),L=parseInt(or(f,u+14,2),10);return new Date(l,h,y,m,_,T,100*L)}function Ei(f,u){var l=f[u],h=f[u+1],y=f[u+2],m=f[u+3],_=f[u+4],T=f[u+5];return new Date(l,h-1,y,m,_,T)}function RE(f,u){var l=f.slice(u),h=new St(l);switch(h.signatureWord()){case 17221:return new og(l);case 20548:return new CE(l);case 21328:return new sg(l);case 21332:return new ag(l);case 17746:return new lg(l);case 17747:return new LE(l);case 20568:return new cg(l);case 20558:return new PE(l);case 21324:return new Af(l);case 20045:return new fg(l);case 17228:return new If(l);case 20556:return new ME(l);case 21061:return new hg(l);case 21574:return new dg(l);case 21318:return new jE(l);case 21074:return new ug(l);default:return h}}function tg(f,u,l,h){l-=4;for(var y=new Array;u<l;){var m=RE(f,u),_=m.length();if(_===0)return y;if(u+=_,m instanceof ag)break;m instanceof og?y=y.concat(m.getEntries(h)):y.push(m)}return y}bi.Name="ZipFS",bi.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:Te},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},bi.CompressionMethod=co,bi.RegisterDecompressionMethod(co.DEFLATE,function(f,u,l){return ue(IE(f.slice(0,u),{chunkSize:l}))}),bi.RegisterDecompressionMethod(co.STORED,function(f,u,l){return se(f,0,l)});var fo=function(f){this._data=f};fo.prototype.type=function(){return this._data[0]},fo.prototype.standardIdentifier=function(){return or(this._data,1,5)},fo.prototype.version=function(){return this._data[6]},fo.prototype.data=function(){return this._data.slice(7,2048)};var rg=function(f){function u(l){f.call(this,l),this._root=null}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.systemIdentifier=function(){return this._getString32(8)},u.prototype.volumeIdentifier=function(){return this._getString32(40)},u.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},u.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},u.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},u.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},u.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},u.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},u.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},u.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},u.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},u.prototype.rootDirectoryEntry=function(l){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(l)),this._root},u.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},u.prototype.publisherIdentifier=function(){return this._getString(318,128)},u.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},u.prototype.applicationIdentifier=function(){return this._getString(574,128)},u.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},u.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},u.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},u.prototype.volumeCreationDate=function(){return an(this._data,813)},u.prototype.volumeModificationDate=function(){return an(this._data,830)},u.prototype.volumeExpirationDate=function(){return an(this._data,847)},u.prototype.volumeEffectiveDate=function(){return an(this._data,864)},u.prototype.fileStructureVersion=function(){return this._data[881]},u.prototype.applicationUsed=function(){return this._data.slice(883,1395)},u.prototype.reserved=function(){return this._data.slice(1395,2048)},u.prototype._getString32=function(l){return this._getString(l,32)},u}(fo),FE=function(f){function u(l){if(f.call(this,l),this.type()!==1)throw new p(a.EIO,"Invalid primary volume descriptor.")}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"ISO9660"},u.prototype._constructRootDirectoryRecord=function(l){return new ng(l,-1)},u.prototype._getString=function(l,h){return this._getString(l,h)},u}(rg),DE=function(f){function u(l){if(f.call(this,l),this.type()!==2)throw new p(a.EIO,"Invalid supplementary volume descriptor.");var h=this.escapeSequence(),y=h[2];if(h[0]!==37||h[1]!==47||y!==64&&y!==67&&y!==69)throw new p(a.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+h.toString())}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"Joliet"},u.prototype.escapeSequence=function(){return this._data.slice(88,120)},u.prototype._constructRootDirectoryRecord=function(l){return new ig(l,-1)},u.prototype._getString=function(l,h){return Tf(this._data,l,h)},u}(rg),tt=function(f,u){this._suEntries=null,this._fileOrDir=null,this._data=f,this._rockRidgeOffset=u};tt.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},tt.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},tt.prototype.rootCheckForRockRidge=function(f){var u=this.getDirectory(f);this._rockRidgeOffset=u.getDotEntry(f)._getRockRidgeOffset(f),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},tt.prototype.length=function(){return this._data[0]},tt.prototype.extendedAttributeRecordLength=function(){return this._data[1]},tt.prototype.lba=function(){return 2048*this._data.readUInt32LE(2)},tt.prototype.dataLength=function(){return this._data.readUInt32LE(10)},tt.prototype.recordingDate=function(){return Ei(this._data,18)},tt.prototype.fileFlags=function(){return this._data[25]},tt.prototype.fileUnitSize=function(){return this._data[26]},tt.prototype.interleaveGapSize=function(){return this._data[27]},tt.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},tt.prototype.identifier=function(){return this._getString(33,this._data[32])},tt.prototype.fileName=function(f){if(this.hasRockRidge()){var u=this._rockRidgeFilename(f);if(u!==null)return u}var l=this.identifier();if(this.isDirectory(f))return l;var h=l.indexOf(";");return h===-1?l:l[h-1]==="."?l.slice(0,h-1):l.slice(0,h)},tt.prototype.isDirectory=function(f){var u=!!(2&this.fileFlags());return!u&&this.hasRockRidge()&&(u=this.getSUEntries(f).filter(function(l){return l instanceof If}).length>0),u},tt.prototype.isSymlink=function(f){return this.hasRockRidge()&&this.getSUEntries(f).filter(function(u){return u instanceof Af}).length>0},tt.prototype.getSymlinkPath=function(f){for(var u="",l=this.getSUEntries(f),h=this._getGetString(),y=0,m=l;y<m.length;y+=1){var _=m[y];if(_ instanceof Af){for(var T=0,L=_.componentRecords();T<L.length;T+=1){var q=L[T],Q=q.flags();2&Q?u+="./":4&Q?u+="../":8&Q?u+="/":(u+=q.content(h),1&Q||(u+="/"))}if(!_.continueFlag())break}}return u.length>1&&u[u.length-1]==="/"?u.slice(0,u.length-1):u},tt.prototype.getFile=function(f){if(this.isDirectory(f))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=f.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},tt.prototype.getDirectory=function(f){if(!this.isDirectory(f))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(f)),this._fileOrDir},tt.prototype.getSUEntries=function(f){return this._suEntries||this._constructSUEntries(f),this._suEntries},tt.prototype._rockRidgeFilename=function(f){var u=this.getSUEntries(f).filter(function(T){return T instanceof fg});if(u.length===0||6&u[0].flags())return null;for(var l="",h=this._getGetString(),y=0,m=u;y<m.length;y+=1){var _=m[y];if(l+=_.name(h),!(1&_.flags()))break}return l},tt.prototype._constructSUEntries=function(f){var u=33+this._data[32];u%2==1&&u++,u+=this._rockRidgeOffset,this._suEntries=tg(this._data,u,this.length(),f)},tt.prototype._getRockRidgeOffset=function(f){this._rockRidgeOffset=0;var u=this.getSUEntries(f);if(u.length>0){var l=u[0];if(l instanceof sg&&l.checkBytesPass())for(var h=1;h<u.length;h++){var y=u[h];if(y instanceof ug||y instanceof lg&&y.extensionIdentifier()==="IEEE_P1282")return l.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var ng=function(f){function u(l,h){f.call(this,l,h)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype._getString=function(l,h){return or(this._data,l,h)},u.prototype._constructDirectory=function(l){return new BE(this,l)},u.prototype._getGetString=function(){return or},u}(tt),ig=function(f){function u(l,h){f.call(this,l,h)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype._getString=function(l,h){return Tf(this._data,l,h)},u.prototype._constructDirectory=function(l){return new UE(this,l)},u.prototype._getGetString=function(){return Tf},u}(tt),St=function(f){this._data=f};St.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},St.prototype.signatureWordString=function(){return or(this._data,0,2)},St.prototype.length=function(){return this._data[2]},St.prototype.suVersion=function(){return this._data[3]};var og=function(f){function u(l){f.call(this,l),this._entries=null}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},u.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},u.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},u.prototype.getEntries=function(l){if(!this._entries){var h=2048*this.continuationLba()+this.continuationLbaOffset();this._entries=tg(l,h,this.continuationLength(),l)}return this._entries},u}(St),CE=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u}(St),sg=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},u.prototype.bytesSkipped=function(){return this._data[6]},u}(St),ag=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u}(St),lg=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.identifierLength=function(){return this._data[4]},u.prototype.descriptorLength=function(){return this._data[5]},u.prototype.sourceLength=function(){return this._data[6]},u.prototype.extensionVersion=function(){return this._data[7]},u.prototype.extensionIdentifier=function(){return or(this._data,8,this.identifierLength())},u.prototype.extensionDescriptor=function(){return or(this._data,8+this.identifierLength(),this.descriptorLength())},u.prototype.extensionSource=function(){return or(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},u}(St),LE=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.extensionSequence=function(){return this._data[4]},u}(St),ug=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u}(St),cg=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.mode=function(){return this._data.readUInt32LE(4)},u.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},u.prototype.uid=function(){return this._data.readUInt32LE(20)},u.prototype.gid=function(){return this._data.readUInt32LE(28)},u.prototype.inode=function(){return this._data.readUInt32LE(36)},u}(St),PE=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},u.prototype.devTLow=function(){return this._data.readUInt32LE(12)},u}(St),Af=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.continueFlag=function(){return 1&this.flags()},u.prototype.componentRecords=function(){for(var l=new Array,h=5;h<this.length();){var y=new Ts(this._data.slice(h));l.push(y),h+=y.length()}return l},u}(St),Ts=function(f){this._data=f};Ts.prototype.flags=function(){return this._data[0]},Ts.prototype.length=function(){return 2+this.componentLength()},Ts.prototype.componentLength=function(){return this._data[1]},Ts.prototype.content=function(f){return f(this._data,2,this.componentLength())};var fg=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.name=function(l){return l(this._data,5,this.length()-5)},u}(St),If=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(St),ME=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(St),hg=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u}(St),dg=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.creation=function(){return 1&this.flags()?this._longFormDates()?an(this._data,5):Ei(this._data,5):null},u.prototype.modify=function(){if(2&this.flags()){var l=1&this.flags()?1:0;return this._longFormDates?an(this._data,5+17*l):Ei(this._data,5+7*l)}return null},u.prototype.access=function(){if(4&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,this._longFormDates?an(this._data,5+17*l):Ei(this._data,5+7*l)}return null},u.prototype.backup=function(){if(16&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,this._longFormDates?an(this._data,5+17*l):Ei(this._data,5+7*l)}return null},u.prototype.expiration=function(){if(32&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,this._longFormDates?an(this._data,5+17*l):Ei(this._data,5+7*l)}return null},u.prototype.effective=function(){if(64&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,l+=32&this.flags()?1:0,this._longFormDates?an(this._data,5+17*l):Ei(this._data,5+7*l)}return null},u.prototype._longFormDates=function(){return!!this.flags()},u}(St),jE=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},u.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},u.prototype.tableDepth=function(){return this._data[20]},u}(St),As=function(f,u){var l=this;this._fileList=[],this._fileMap={},this._record=f;var h=f.lba(),y=h+f.dataLength();for(2&f.fileFlags()||(h=2048*f.getSUEntries(u).filter(function(T){return T instanceof If})[0].childDirectoryLba(),y=1/0);h<y;)if(u[h]!==0){var m=l._constructDirectoryRecord(u.slice(h)),_=m.fileName(u);_!=="\0"&&_!==""?m.hasRockRidge()&&m.getSUEntries(u).filter(function(T){return T instanceof hg}).length!==0||(l._fileMap[_]=m,l._fileList.push(_)):y===1/0&&(y=h+m.dataLength()),h+=m.length()}else h++};As.prototype.getRecord=function(f){return this._fileMap[f]},As.prototype.getFileList=function(){return this._fileList},As.prototype.getDotEntry=function(f){return this._constructDirectoryRecord(f.slice(this._record.lba()))};var BE=function(f){function u(l,h){f.call(this,l,h)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(l){return new ng(l,this._record.getRockRidgeOffset())},u}(As),UE=function(f){function u(l,h){f.call(this,l,h)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(l){return new ig(l,this._record.getRockRidgeOffset())},u}(As),wl=function(f){function u(l,h,y){var m=this;h===void 0&&(h=""),y===void 0&&(y=!0),f.call(this),this._data=l,ye(y,u.Name,{data:"ISO data as a Buffer",name:h});for(var _=!1,T=32768,L=new Array;!_;){var q=l.slice(T);switch(new fo(q).type()){case 1:L.push(new FE(q));break;case 2:L.push(new DE(q));break;case 255:_=!0}T+=2048}if(L.length===0)throw new p(a.EIO,"Unable to find a suitable volume descriptor.");L.forEach(function(Q){m._pvd&&m._pvd.type()===2||(m._pvd=Q)}),this._root=this._pvd.rootDirectoryEntry(l),this._name=h}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){var y,m;try{y=new u(l.data,l.name,!1)}catch(_){_=_}finally{h(void 0,y)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){var l="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(l+="-RockRidge"),l},u.prototype.diskSpace=function(l,h){h(this._data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(l,h){var y=this._getDirectoryRecord(l);if(y===null)throw p.ENOENT(l);return this._getStats(l,y)},u.prototype.openSync=function(l,h,y){if(h.isWriteable())throw new p(a.EPERM,l);var m=this._getDirectoryRecord(l);if(!m)throw p.ENOENT(l);if(m.isSymlink(this._data))return this.openSync(d.resolve(l,m.getSymlinkPath(this._data)),h,y);if(m.isDirectory(this._data))throw p.EISDIR(l);var _=m.getFile(this._data),T=this._getStats(l,m);switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw p.EEXIST(l);case v.NOP:return new N(this,l,h,T,_);default:throw new p(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(l){var h=this._getDirectoryRecord(l);if(h){if(h.isDirectory(this._data))return h.getDirectory(this._data).getFileList().slice(0);throw p.ENOTDIR(l)}throw p.ENOENT(l)},u.prototype.readFileSync=function(l,h,y){var m=this.openSync(l,y,420);try{var _=m.getBuffer();return h===null?se(_):_.toString(h)}finally{m.closeSync()}},u.prototype._getDirectoryRecord=function(l){if(l==="/")return this._root;for(var h=l.split("/").slice(1),y=this._root,m=0,_=h;m<_.length;m+=1){var T=_[m];if(!y.isDirectory(this._data)||!(y=y.getDirectory(this._data).getRecord(T)))return null}return y},u.prototype._getStats=function(l,h){if(h.isSymlink(this._data)){var y=d.resolve(l,h.getSymlinkPath(this._data)),m=this._getDirectoryRecord(y);return m?this._getStats(y,m):null}var _=h.dataLength(),T=365,L=h.recordingDate(),q=L,Q=L,ce=L;if(h.hasRockRidge())for(var de=0,me=h.getSUEntries(this._data);de<me.length;de+=1){var ve=me[de];if(ve instanceof cg)T=ve.mode();else if(ve instanceof dg){var ke=ve.flags();4&ke&&(q=ve.access()),2&ke&&(Q=ve.modify()),1&ke&&(ce=ve.creation())}}return T&=365,new k(h.isDirectory(this._data)?b.DIRECTORY:b.FILE,_,T,q,Q,ce)},u}(_e);wl.Name="IsoFS",wl.Options={data:{type:"object",description:"The ISO file in a buffer",validator:Te}},[ee,ll,ul,oo,cl,so,Ss,wl,Es,ao,ks,gl,ml,bi].forEach(function(f){var u=f.Create;f.Create=function(l,h){var y=typeof l=="function",m=y?l:h,_=y?{}:l;O(f,_,function(T){T?m(T):u.call(f,_,m)})}});var pg,_l={AsyncMirror:ee,Dropbox:ll,Emscripten:ul,FolderAdapter:oo,HTML5FS:cl,InMemory:so,IndexedDB:Ss,IsoFS:wl,LocalStorage:Es,MountableFileSystem:ao,OverlayFS:ks,WorkerFS:gl,XmlHttpRequest:ml,ZipFS:bi};function yg(f){switch(f){case"fs":return re;case"path":return d;case"buffer":return c;case"process":return s;case"bfs_utils":return R;default:return _l[f]}}function gg(f){return re.initialize(f)}function Rf(f,u){var l=f.fs;if(!l)return u(new p(a.EPERM,'Missing "fs" property on configuration object.'));var h=f.options,y=0,m=!1;function _(){if(!m){m=!0;var L=_l[l];L?L.Create(h,u):u(new p(a.EPERM,"File system "+l+" is not available in BrowserFS."))}}if(h!==null&&typeof h=="object"){var T=!1;Object.keys(h).filter(function(L){return L!=="fs"}).forEach(function(L){var q=h[L];q!==null&&typeof q=="object"&&q.fs&&(y++,Rf(q,function(Q,ce){if(y--,Q){if(m)return;m=!0,u(Q)}else h[L]=ce,y===0&&T&&_()}))}),T=!0}y===0&&_()}s.initializeTTYs&&s.initializeTTYs(),"ab".substr(-1)!=="b"&&(String.prototype.substr=(pg=String.prototype.substr,function(f,u){return f<0&&(f=this.length+f),pg.call(this,f,u)})),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(f,u){return f===void 0&&(f=0),u===void 0&&(u=this.length),f<0&&(f=this.length+f)<0&&(f=0),u<0&&(u=this.length+u)<0&&(u=0),u<f&&(u=f),new Uint8Array(this.buffer,this.byteOffset+f,u-f)})),e.install=function(f){f.Buffer=n,f.process=s;var u=f.require?f.require:null;f.require=function(l){var h=yg(l);return h||u.apply(null,Array.prototype.slice.call(arguments,0))}},e.registerFileSystem=function(f,u){_l[f]=u},e.BFSRequire=yg,e.initialize=gg,e.configure=function(f,u){Rf(f,function(l,h){h?(gg(h),u()):u(l)})},e.getFileSystem=Rf,e.EmscriptenFS=K,e.FileSystem=_l,e.Errors=w,e.setImmediate=kf}).call(e,r(1),function(){return this}(),r(5)(t),r(6))},function(t,e,r){t.exports=r(2).Buffer},function(t,e,r){(function(c){var i=r(3),o=r(4);e.Buffer=c,e.SlowBuffer=function(O){return+O!=O&&(O=0),c.alloc(+O)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(O){if(O>s)throw new RangeError("Invalid typed array length");var R=new Uint8Array(O);return R.__proto__=c.prototype,R}function c(O,R,M){if(typeof O=="number"){if(typeof R=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(O)}return d(O,R,M)}function d(O,R,M){if(typeof O=="number")throw new TypeError('"value" argument must not be a number');return pe(O)?function($,K,G){if(K<0||$.byteLength<K)throw new RangeError("'offset' is out of bounds");if($.byteLength<K+(G||0))throw new RangeError("'length' is out of bounds");var _e;return(_e=K===void 0&&G===void 0?new Uint8Array($):G===void 0?new Uint8Array($,K):new Uint8Array($,K,G)).__proto__=c.prototype,_e}(O,R,M):typeof O=="string"?function($,K){if(typeof K=="string"&&K!==""||(K="utf8"),!c.isEncoding(K))throw new TypeError('"encoding" must be a valid string encoding');var G=0|b($,K),_e=a(G),C=_e.write($,K);return C!==G&&(_e=_e.slice(0,C)),_e}(O,R):function($){if(c.isBuffer($)){var K=0|w($.length),G=a(K);return G.length===0||$.copy(G,0,0,K),G}if($){if(Se($)||"length"in $)return typeof $.length!="number"||Te($.length)?a(0):p($);if($.type==="Buffer"&&Array.isArray($.data))return p($.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(O)}function g(O){if(typeof O!="number")throw new TypeError('"size" argument must be a number');if(O<0)throw new RangeError('"size" argument must not be negative')}function v(O){return g(O),a(O<0?0:0|w(O))}function p(O){for(var R=O.length<0?0:0|w(O.length),M=a(R),$=0;$<R;$+=1)M[$]=255&O[$];return M}function w(O){if(O>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|O}function b(O,R){if(c.isBuffer(O))return O.length;if(Se(O)||pe(O))return O.byteLength;typeof O!="string"&&(O=""+O);var M=O.length;if(M===0)return 0;for(var $=!1;;)switch(R){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":case void 0:return oe(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return ne(O).length;default:if($)return oe(O).length;R=(""+R).toLowerCase(),$=!0}}function I(O,R,M){var $=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(R>>>=0))return"";for(O||(O="utf8");;)switch(O){case"hex":return ye(this,R,M);case"utf8":case"utf-8":return re(this,R,M);case"ascii":return le(this,R,M);case"latin1":case"binary":return ae(this,R,M);case"base64":return W(this,R,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,R,M);default:if($)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),$=!0}}function k(O,R,M){var $=O[R];O[R]=O[M],O[M]=$}function A(O,R,M,$,K){if(O.length===0)return-1;if(typeof M=="string"?($=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Te(M=+M)&&(M=K?0:O.length-1),M<0&&(M=O.length+M),M>=O.length){if(K)return-1;M=O.length-1}else if(M<0){if(!K)return-1;M=0}if(typeof R=="string"&&(R=c.from(R,$)),c.isBuffer(R))return R.length===0?-1:D(O,R,M,$,K);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(O,R,M):Uint8Array.prototype.lastIndexOf.call(O,R,M):D(O,[R],M,$,K);throw new TypeError("val must be string, number or Buffer")}function D(O,R,M,$,K){var G,_e=1,C=O.length,E=R.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(O.length<2||R.length<2)return-1;_e=2,C/=2,E/=2,M/=2}function N(he,Fe){return _e===1?he[Fe]:he.readUInt16BE(Fe*_e)}if(K){var B=-1;for(G=M;G<C;G++)if(N(O,G)===N(R,B===-1?0:G-B)){if(B===-1&&(B=G),G-B+1===E)return B*_e}else B!==-1&&(G-=G-B),B=-1}else for(M+E>C&&(M=C-E),G=M;G>=0;G--){for(var ee=!0,fe=0;fe<E;fe++)if(N(O,G+fe)!==N(R,fe)){ee=!1;break}if(ee)return G}return-1}function Y(O,R,M,$){M=Number(M)||0;var K=O.length-M;$?($=Number($))>K&&($=K):$=K;var G=R.length;if(G%2!=0)throw new TypeError("Invalid hex string");$>G/2&&($=G/2);for(var _e=0;_e<$;++_e){var C=parseInt(R.substr(2*_e,2),16);if(Te(C))return _e;O[M+_e]=C}return _e}function H(O,R,M,$){return se(oe(R,O.length-M),O,M,$)}function Z(O,R,M,$){return se(function(K){for(var G=[],_e=0;_e<K.length;++_e)G.push(255&K.charCodeAt(_e));return G}(R),O,M,$)}function j(O,R,M,$){return Z(O,R,M,$)}function V(O,R,M,$){return se(ne(R),O,M,$)}function S(O,R,M,$){return se(function(K,G){for(var _e,C,E,N=[],B=0;B<K.length&&!((G-=2)<0);++B)C=(_e=K.charCodeAt(B))>>8,E=_e%256,N.push(E),N.push(C);return N}(R,O.length-M),O,M,$)}function W(O,R,M){return R===0&&M===O.length?i.fromByteArray(O):i.fromByteArray(O.slice(R,M))}function re(O,R,M){M=Math.min(O.length,M);for(var $=[],K=R;K<M;){var G,_e,C,E,N=O[K],B=null,ee=N>239?4:N>223?3:N>191?2:1;if(K+ee<=M)switch(ee){case 1:N<128&&(B=N);break;case 2:(192&(G=O[K+1]))==128&&(E=(31&N)<<6|63&G)>127&&(B=E);break;case 3:G=O[K+1],_e=O[K+2],(192&G)==128&&(192&_e)==128&&(E=(15&N)<<12|(63&G)<<6|63&_e)>2047&&(E<55296||E>57343)&&(B=E);break;case 4:G=O[K+1],_e=O[K+2],C=O[K+3],(192&G)==128&&(192&_e)==128&&(192&C)==128&&(E=(15&N)<<18|(63&G)<<12|(63&_e)<<6|63&C)>65535&&E<1114112&&(B=E)}B===null?(B=65533,ee=1):B>65535&&(B-=65536,$.push(B>>>10&1023|55296),B=56320|1023&B),$.push(B),K+=ee}return function(fe){var he=fe.length;if(he<=X)return String.fromCharCode.apply(String,fe);for(var Fe="",Ie=0;Ie<he;)Fe+=String.fromCharCode.apply(String,fe.slice(Ie,Ie+=X));return Fe}($)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{var O=new Uint8Array(1);return O.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},O.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(O,R,M){return d(O,R,M)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(O,R,M){return function($,K,G){return g($),$<=0?a($):K!==void 0?typeof G=="string"?a($).fill(K,G):a($).fill(K):a($)}(O,R,M)},c.allocUnsafe=function(O){return v(O)},c.allocUnsafeSlow=function(O){return v(O)},c.isBuffer=function(O){return O!=null&&O._isBuffer===!0},c.compare=function(O,R){if(!c.isBuffer(O)||!c.isBuffer(R))throw new TypeError("Arguments must be Buffers");if(O===R)return 0;for(var M=O.length,$=R.length,K=0,G=Math.min(M,$);K<G;++K)if(O[K]!==R[K]){M=O[K],$=R[K];break}return M<$?-1:$<M?1:0},c.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(O,R){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return c.alloc(0);var M;if(R===void 0)for(R=0,M=0;M<O.length;++M)R+=O[M].length;var $=c.allocUnsafe(R),K=0;for(M=0;M<O.length;++M){var G=O[M];if(!c.isBuffer(G))throw new TypeError('"list" argument must be an Array of Buffers');G.copy($,K),K+=G.length}return $},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<O;R+=2)k(this,R,R+1);return this},c.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<O;R+=4)k(this,R,R+3),k(this,R+1,R+2);return this},c.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<O;R+=8)k(this,R,R+7),k(this,R+1,R+6),k(this,R+2,R+5),k(this,R+3,R+4);return this},c.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?re(this,0,O):I.apply(this,arguments)},c.prototype.equals=function(O){if(!c.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O||c.compare(this,O)===0},c.prototype.inspect=function(){var O="",R=e.INSPECT_MAX_BYTES;return this.length>0&&(O=this.toString("hex",0,R).match(/.{2}/g).join(" "),this.length>R&&(O+=" ... ")),"<Buffer "+O+">"},c.prototype.compare=function(O,R,M,$,K){if(!c.isBuffer(O))throw new TypeError("Argument must be a Buffer");if(R===void 0&&(R=0),M===void 0&&(M=O?O.length:0),$===void 0&&($=0),K===void 0&&(K=this.length),R<0||M>O.length||$<0||K>this.length)throw new RangeError("out of range index");if($>=K&&R>=M)return 0;if($>=K)return-1;if(R>=M)return 1;if(this===O)return 0;for(var G=(K>>>=0)-($>>>=0),_e=(M>>>=0)-(R>>>=0),C=Math.min(G,_e),E=this.slice($,K),N=O.slice(R,M),B=0;B<C;++B)if(E[B]!==N[B]){G=E[B],_e=N[B];break}return G<_e?-1:_e<G?1:0},c.prototype.includes=function(O,R,M){return this.indexOf(O,R,M)!==-1},c.prototype.indexOf=function(O,R,M){return A(this,O,R,M,!0)},c.prototype.lastIndexOf=function(O,R,M){return A(this,O,R,M,!1)},c.prototype.write=function(O,R,M,$){if(R===void 0)$="utf8",M=this.length,R=0;else if(M===void 0&&typeof R=="string")$=R,M=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(M)?(M>>>=0,$===void 0&&($="utf8")):($=M,M=void 0)}var K=this.length-R;if((M===void 0||M>K)&&(M=K),O.length>0&&(M<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var G=!1;;)switch($){case"hex":return Y(this,O,R,M);case"utf8":case"utf-8":return H(this,O,R,M);case"ascii":return Z(this,O,R,M);case"latin1":case"binary":return j(this,O,R,M);case"base64":return V(this,O,R,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,O,R,M);default:if(G)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),G=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function le(O,R,M){var $="";M=Math.min(O.length,M);for(var K=R;K<M;++K)$+=String.fromCharCode(127&O[K]);return $}function ae(O,R,M){var $="";M=Math.min(O.length,M);for(var K=R;K<M;++K)$+=String.fromCharCode(O[K]);return $}function ye(O,R,M){var $,K=O.length;(!R||R<0)&&(R=0),(!M||M<0||M>K)&&(M=K);for(var G="",_e=R;_e<M;++_e)G+=($=O[_e])<16?"0"+$.toString(16):$.toString(16);return G}function P(O,R,M){for(var $=O.slice(R,M),K="",G=0;G<$.length;G+=2)K+=String.fromCharCode($[G]+256*$[G+1]);return K}function F(O,R,M){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(O+R>M)throw new RangeError("Trying to access beyond buffer length")}function ie(O,R,M,$,K,G){if(!c.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>K||R<G)throw new RangeError('"value" argument is out of bounds');if(M+$>O.length)throw new RangeError("Index out of range")}function U(O,R,M,$,K,G){if(M+$>O.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function z(O,R,M,$,K){return R=+R,M>>>=0,K||U(O,0,M,4),o.write(O,R,M,$,23,4),M+4}function J(O,R,M,$,K){return R=+R,M>>>=0,K||U(O,0,M,8),o.write(O,R,M,$,52,8),M+8}c.prototype.slice=function(O,R){var M=this.length;(O=~~O)<0?(O+=M)<0&&(O=0):O>M&&(O=M),(R=R===void 0?M:~~R)<0?(R+=M)<0&&(R=0):R>M&&(R=M),R<O&&(R=O);var $=this.subarray(O,R);return $.__proto__=c.prototype,$},c.prototype.readUIntLE=function(O,R,M){O>>>=0,R>>>=0,M||F(O,R,this.length);for(var $=this[O],K=1,G=0;++G<R&&(K*=256);)$+=this[O+G]*K;return $},c.prototype.readUIntBE=function(O,R,M){O>>>=0,R>>>=0,M||F(O,R,this.length);for(var $=this[O+--R],K=1;R>0&&(K*=256);)$+=this[O+--R]*K;return $},c.prototype.readUInt8=function(O,R){return O>>>=0,R||F(O,1,this.length),this[O]},c.prototype.readUInt16LE=function(O,R){return O>>>=0,R||F(O,2,this.length),this[O]|this[O+1]<<8},c.prototype.readUInt16BE=function(O,R){return O>>>=0,R||F(O,2,this.length),this[O]<<8|this[O+1]},c.prototype.readUInt32LE=function(O,R){return O>>>=0,R||F(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},c.prototype.readUInt32BE=function(O,R){return O>>>=0,R||F(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},c.prototype.readIntLE=function(O,R,M){O>>>=0,R>>>=0,M||F(O,R,this.length);for(var $=this[O],K=1,G=0;++G<R&&(K*=256);)$+=this[O+G]*K;return $>=(K*=128)&&($-=Math.pow(2,8*R)),$},c.prototype.readIntBE=function(O,R,M){O>>>=0,R>>>=0,M||F(O,R,this.length);for(var $=R,K=1,G=this[O+--$];$>0&&(K*=256);)G+=this[O+--$]*K;return G>=(K*=128)&&(G-=Math.pow(2,8*R)),G},c.prototype.readInt8=function(O,R){return O>>>=0,R||F(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},c.prototype.readInt16LE=function(O,R){O>>>=0,R||F(O,2,this.length);var M=this[O]|this[O+1]<<8;return 32768&M?4294901760|M:M},c.prototype.readInt16BE=function(O,R){O>>>=0,R||F(O,2,this.length);var M=this[O+1]|this[O]<<8;return 32768&M?4294901760|M:M},c.prototype.readInt32LE=function(O,R){return O>>>=0,R||F(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},c.prototype.readInt32BE=function(O,R){return O>>>=0,R||F(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},c.prototype.readFloatLE=function(O,R){return O>>>=0,R||F(O,4,this.length),o.read(this,O,!0,23,4)},c.prototype.readFloatBE=function(O,R){return O>>>=0,R||F(O,4,this.length),o.read(this,O,!1,23,4)},c.prototype.readDoubleLE=function(O,R){return O>>>=0,R||F(O,8,this.length),o.read(this,O,!0,52,8)},c.prototype.readDoubleBE=function(O,R){return O>>>=0,R||F(O,8,this.length),o.read(this,O,!1,52,8)},c.prototype.writeUIntLE=function(O,R,M,$){O=+O,R>>>=0,M>>>=0,$||ie(this,O,R,M,Math.pow(2,8*M)-1,0);var K=1,G=0;for(this[R]=255&O;++G<M&&(K*=256);)this[R+G]=O/K&255;return R+M},c.prototype.writeUIntBE=function(O,R,M,$){O=+O,R>>>=0,M>>>=0,$||ie(this,O,R,M,Math.pow(2,8*M)-1,0);var K=M-1,G=1;for(this[R+K]=255&O;--K>=0&&(G*=256);)this[R+K]=O/G&255;return R+M},c.prototype.writeUInt8=function(O,R,M){return O=+O,R>>>=0,M||ie(this,O,R,1,255,0),this[R]=255&O,R+1},c.prototype.writeUInt16LE=function(O,R,M){return O=+O,R>>>=0,M||ie(this,O,R,2,65535,0),this[R]=255&O,this[R+1]=O>>>8,R+2},c.prototype.writeUInt16BE=function(O,R,M){return O=+O,R>>>=0,M||ie(this,O,R,2,65535,0),this[R]=O>>>8,this[R+1]=255&O,R+2},c.prototype.writeUInt32LE=function(O,R,M){return O=+O,R>>>=0,M||ie(this,O,R,4,4294967295,0),this[R+3]=O>>>24,this[R+2]=O>>>16,this[R+1]=O>>>8,this[R]=255&O,R+4},c.prototype.writeUInt32BE=function(O,R,M){return O=+O,R>>>=0,M||ie(this,O,R,4,4294967295,0),this[R]=O>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=255&O,R+4},c.prototype.writeIntLE=function(O,R,M,$){if(O=+O,R>>>=0,!$){var K=Math.pow(2,8*M-1);ie(this,O,R,M,K-1,-K)}var G=0,_e=1,C=0;for(this[R]=255&O;++G<M&&(_e*=256);)O<0&&C===0&&this[R+G-1]!==0&&(C=1),this[R+G]=(O/_e>>0)-C&255;return R+M},c.prototype.writeIntBE=function(O,R,M,$){if(O=+O,R>>>=0,!$){var K=Math.pow(2,8*M-1);ie(this,O,R,M,K-1,-K)}var G=M-1,_e=1,C=0;for(this[R+G]=255&O;--G>=0&&(_e*=256);)O<0&&C===0&&this[R+G+1]!==0&&(C=1),this[R+G]=(O/_e>>0)-C&255;return R+M},c.prototype.writeInt8=function(O,R,M){return O=+O,R>>>=0,M||ie(this,O,R,1,127,-128),O<0&&(O=255+O+1),this[R]=255&O,R+1},c.prototype.writeInt16LE=function(O,R,M){return O=+O,R>>>=0,M||ie(this,O,R,2,32767,-32768),this[R]=255&O,this[R+1]=O>>>8,R+2},c.prototype.writeInt16BE=function(O,R,M){return O=+O,R>>>=0,M||ie(this,O,R,2,32767,-32768),this[R]=O>>>8,this[R+1]=255&O,R+2},c.prototype.writeInt32LE=function(O,R,M){return O=+O,R>>>=0,M||ie(this,O,R,4,2147483647,-2147483648),this[R]=255&O,this[R+1]=O>>>8,this[R+2]=O>>>16,this[R+3]=O>>>24,R+4},c.prototype.writeInt32BE=function(O,R,M){return O=+O,R>>>=0,M||ie(this,O,R,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[R]=O>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=255&O,R+4},c.prototype.writeFloatLE=function(O,R,M){return z(this,O,R,!0,M)},c.prototype.writeFloatBE=function(O,R,M){return z(this,O,R,!1,M)},c.prototype.writeDoubleLE=function(O,R,M){return J(this,O,R,!0,M)},c.prototype.writeDoubleBE=function(O,R,M){return J(this,O,R,!1,M)},c.prototype.copy=function(O,R,M,$){if(M||(M=0),$||$===0||($=this.length),R>=O.length&&(R=O.length),R||(R=0),$>0&&$<M&&($=M),$===M||O.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("sourceStart out of bounds");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),O.length-R<$-M&&($=O.length-R+M);var K,G=$-M;if(this===O&&M<R&&R<$)for(K=G-1;K>=0;--K)O[K+R]=this[K+M];else if(G<1e3)for(K=0;K<G;++K)O[K+R]=this[K+M];else Uint8Array.prototype.set.call(O,this.subarray(M,M+G),R);return G},c.prototype.fill=function(O,R,M,$){if(typeof O=="string"){if(typeof R=="string"?($=R,R=0,M=this.length):typeof M=="string"&&($=M,M=this.length),O.length===1){var K=O.charCodeAt(0);K<256&&(O=K)}if($!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!c.isEncoding($))throw new TypeError("Unknown encoding: "+$)}else typeof O=="number"&&(O&=255);if(R<0||this.length<R||this.length<M)throw new RangeError("Out of range index");if(M<=R)return this;var G;if(R>>>=0,M=M===void 0?this.length:M>>>0,O||(O=0),typeof O=="number")for(G=R;G<M;++G)this[G]=O;else{var _e=c.isBuffer(O)?O:new c(O,$),C=_e.length;for(G=0;G<M-R;++G)this[G+R]=_e[G%C]}return this};var ue=/[^+/0-9A-Za-z-_]/g;function oe(O,R){var M;R=R||1/0;for(var $=O.length,K=null,G=[],_e=0;_e<$;++_e){if((M=O.charCodeAt(_e))>55295&&M<57344){if(!K){if(M>56319){(R-=3)>-1&&G.push(239,191,189);continue}if(_e+1===$){(R-=3)>-1&&G.push(239,191,189);continue}K=M;continue}if(M<56320){(R-=3)>-1&&G.push(239,191,189),K=M;continue}M=65536+(K-55296<<10|M-56320)}else K&&(R-=3)>-1&&G.push(239,191,189);if(K=null,M<128){if((R-=1)<0)break;G.push(M)}else if(M<2048){if((R-=2)<0)break;G.push(M>>6|192,63&M|128)}else if(M<65536){if((R-=3)<0)break;G.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;G.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return G}function ne(O){return i.toByteArray(function(R){if((R=R.trim().replace(ue,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(O))}function se(O,R,M,$){for(var K=0;K<$&&!(K+M>=R.length||K>=O.length);++K)R[K+M]=O[K];return K}function pe(O){return O instanceof ArrayBuffer||O!=null&&O.constructor!=null&&O.constructor.name==="ArrayBuffer"&&typeof O.byteLength=="number"}function Se(O){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(O)}function Te(O){return O!=O}}).call(e,r(1))},function(t,e){e.byteLength=function(g){return 3*g.length/4-c(g)},e.toByteArray=function(g){var v,p,w,b,I,k,A=g.length;I=c(g),k=new i(3*A/4-I),w=I>0?A-4:A;var D=0;for(v=0,p=0;v<w;v+=4,p+=3)b=n[g.charCodeAt(v)]<<18|n[g.charCodeAt(v+1)]<<12|n[g.charCodeAt(v+2)]<<6|n[g.charCodeAt(v+3)],k[D++]=b>>16&255,k[D++]=b>>8&255,k[D++]=255&b;return I===2?(b=n[g.charCodeAt(v)]<<2|n[g.charCodeAt(v+1)]>>4,k[D++]=255&b):I===1&&(b=n[g.charCodeAt(v)]<<10|n[g.charCodeAt(v+1)]<<4|n[g.charCodeAt(v+2)]>>2,k[D++]=b>>8&255,k[D++]=255&b),k},e.fromByteArray=function(g){for(var v,p=g.length,w=p%3,b="",I=[],k=16383,A=0,D=p-w;A<D;A+=k)I.push(d(g,A,A+k>D?D:A+k));return w===1?(v=g[p-1],b+=r[v>>2],b+=r[v<<4&63],b+="=="):w===2&&(v=(g[p-2]<<8)+g[p-1],b+=r[v>>10],b+=r[v>>4&63],b+=r[v<<2&63],b+="="),I.push(b),I.join("")};for(var r=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function c(g){var v=g.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return g[v-2]==="="?2:g[v-1]==="="?1:0}function d(g,v,p){for(var w,b,I=[],k=v;k<p;k+=3)w=(g[k]<<16)+(g[k+1]<<8)+g[k+2],I.push(r[(b=w)>>18&63]+r[b>>12&63]+r[b>>6&63]+r[63&b]);return I.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){e.read=function(r,n,i,o,s){var a,c,d=8*s-o-1,g=(1<<d)-1,v=g>>1,p=-7,w=i?s-1:0,b=i?-1:1,I=r[n+w];for(w+=b,a=I&(1<<-p)-1,I>>=-p,p+=d;p>0;a=256*a+r[n+w],w+=b,p-=8);for(c=a&(1<<-p)-1,a>>=-p,p+=o;p>0;c=256*c+r[n+w],w+=b,p-=8);if(a===0)a=1-v;else{if(a===g)return c?NaN:1/0*(I?-1:1);c+=Math.pow(2,o),a-=v}return(I?-1:1)*c*Math.pow(2,a-o)},e.write=function(r,n,i,o,s,a){var c,d,g,v=8*a-s-1,p=(1<<v)-1,w=p>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=o?0:a-1,k=o?1:-1,A=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(d=isNaN(n)?1:0,c=p):(c=Math.floor(Math.log(n)/Math.LN2),n*(g=Math.pow(2,-c))<1&&(c--,g*=2),(n+=c+w>=1?b/g:b*Math.pow(2,1-w))*g>=2&&(c++,g/=2),c+w>=p?(d=0,c=p):c+w>=1?(d=(n*g-1)*Math.pow(2,s),c+=w):(d=n*Math.pow(2,w-1)*Math.pow(2,s),c=0));s>=8;r[i+I]=255&d,I+=k,d/=256,s-=8);for(c=c<<s|d,v+=s;v>0;r[i+I]=255&c,I+=k,c/=256,v-=8);r[i+I-k]|=128*A}},function(t,e){t.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children=[],r.webpackPolyfill=1),r}},function(t,e,r){var n=new(r(7)),i={};function o(a){i[a]||(typeof n[a]=="function"?i[a]=function(){return n[a].apply(n,arguments)}:i[a]=n[a])}for(var s in n)o(s);i.initializeTTYs=function(){n.stdin===null&&(n.initializeTTYs(),i.stdin=n.stdin,i.stdout=n.stdout,i.stderr=n.stderr)},n.nextTick(function(){i.initializeTTYs()}),t.exports=i},function(t,e,r){(function(n){var i=this&&this.__extends||function(g,v){for(var p in v)v.hasOwnProperty(p)&&(g[p]=v[p]);function w(){this.constructor=g}g.prototype=v===null?Object.create(v):(w.prototype=v.prototype,new w)},o=r(8),s=null,a=function(){function g(v,p){this.fun=v,this.array=p}return g.prototype.run=function(){this.fun.apply(null,this.array)},g}(),c=function(){function g(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return g.prototype.push=function(v){var p=this;this._queue.push(v)!==1||this._draining||setTimeout(function(){return p._drainQueue()},0)},g.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},g.prototype._drainQueue=function(){var v=this;if(!this._draining){var p=setTimeout(function(){return v._cleanUpNextTick()});this._draining=!0;for(var w=this._queue.length;w;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<w;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,w=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(p)}},g}(),d=function(g){function v(){g.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new c,this.execPath=n,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=1e3*Math.random()|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return i(v,g),v.prototype.chdir=function(p){s===null&&(s=r(9)),this._cwd=s.resolve(p)},v.prototype.cwd=function(){return this._cwd},v.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},v.prototype.nextTick=function(p){for(var w=[],b=1;b<arguments.length;b++)w[b-1]=arguments[b];this._queue.push(new a(p,w))},v.prototype.abort=function(){this.emit("abort")},v.prototype.exit=function(p){this.exitCode=p,this.emit("exit",[p])},v.prototype.getgid=function(){return this._gid},v.prototype.setgid=function(p){this._gid=typeof p=="number"?p:1},v.prototype.getuid=function(){return this._uid},v.prototype.setuid=function(p){this._uid=typeof p=="number"?p:1},v.prototype.kill=function(p,w){this.emit("kill",[p,w])},v.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},v.prototype.umask=function(p){p===void 0&&(p=this._mask);var w=this._mask;return this._mask=p,this.emit("umask",[p]),w},v.prototype.hrtime=function(){var p,w=(p=typeof performance<"u"?performance.now():Date.now?Date.now():new Date().getTime())/1e3|0;return[w,p=1e6*(p-=1e3*w)|0]},v.prototype.initializeTTYs=function(){if(this.stdout===null){var p=r(10);this.stdout=new p,this.stderr=new p,this.stdin=new p}},v.prototype.disconnect=function(){},v}(o.EventEmitter);t.exports=d}).call(e,"/")},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(s){return typeof s=="function"}function i(s){return typeof s=="object"&&s!==null}function o(s){return s===void 0}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(s){if(typeof s!="number"||s<0||isNaN(s))throw TypeError("n must be a positive number");return this._maxListeners=s,this},r.prototype.emit=function(s){var a,c,d,g,v,p;if(this._events||(this._events={}),s==="error"&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((a=arguments[1])instanceof Error)throw a;var w=new Error('Uncaught, unspecified "error" event. ('+a+")");throw w.context=a,w}if(o(c=this._events[s]))return!1;if(n(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:g=Array.prototype.slice.call(arguments,1),c.apply(this,g)}else if(i(c))for(g=Array.prototype.slice.call(arguments,1),d=(p=c.slice()).length,v=0;v<d;v++)p[v].apply(this,g);return!0},r.prototype.addListener=function(s,a){var c;if(!n(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",s,n(a.listener)?a.listener:a),this._events[s]?i(this._events[s])?this._events[s].push(a):this._events[s]=[this._events[s],a]:this._events[s]=a,i(this._events[s])&&!this._events[s].warned&&(c=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[s].length>c&&(this._events[s].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s].length),typeof console.trace=="function"&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(s,a){if(!n(a))throw TypeError("listener must be a function");var c=!1;function d(){this.removeListener(s,d),c||(c=!0,a.apply(this,arguments))}return d.listener=a,this.on(s,d),this},r.prototype.removeListener=function(s,a){var c,d,g,v;if(!n(a))throw TypeError("listener must be a function");if(!this._events||!this._events[s])return this;if(g=(c=this._events[s]).length,d=-1,c===a||n(c.listener)&&c.listener===a)delete this._events[s],this._events.removeListener&&this.emit("removeListener",s,a);else if(i(c)){for(v=g;v-- >0;)if(c[v]===a||c[v].listener&&c[v].listener===a){d=v;break}if(d<0)return this;c.length===1?(c.length=0,delete this._events[s]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",s,a)}return this},r.prototype.removeAllListeners=function(s){var a,c;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[s]&&delete this._events[s],this;if(arguments.length===0){for(a in this._events)a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events={},this}if(n(c=this._events[s]))this.removeListener(s,c);else if(c)for(;c.length;)this.removeListener(s,c[c.length-1]);return delete this._events[s],this},r.prototype.listeners=function(s){return this._events&&this._events[s]?n(this._events[s])?[this._events[s]]:this._events[s].slice():[]},r.prototype.listenerCount=function(s){if(this._events){var a=this._events[s];if(n(a))return 1;if(a)return a.length}return 0},r.listenerCount=function(s,a){return s.listenerCount(a)}},function(t,e,r){(function(n){var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(){function s(){}return s.normalize=function(a){a===""&&(a=".");for(var c=a.charAt(0)===s.sep,d=(a=s._removeDuplicateSeps(a)).split(s.sep),g=[],v=0;v<d.length;v++){var p=d[v];p!=="."&&(p===".."&&(c||!c&&g.length>0&&g[0]!=="..")?g.pop():g.push(p))}return!c&&g.length<2&&(g.length===1?g[0]===""&&g.unshift("."):g.push(".")),a=g.join(s.sep),c&&a.charAt(0)!==s.sep&&(a=s.sep+a),a},s.join=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];for(var d=[],g=0;g<a.length;g++){var v=a[g];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&d.push(v)}return s.normalize(d.join(s.sep))},s.resolve=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];for(var d=[],g=0;g<a.length;g++){var v=a[g];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&(v.charAt(0)===s.sep&&(d=[]),d.push(v))}var p=s.normalize(d.join(s.sep));if(p.length>1&&p.charAt(p.length-1)===s.sep)return p.substr(0,p.length-1);if(p.charAt(0)!==s.sep){p.charAt(0)!=="."||p.length!==1&&p.charAt(1)!==s.sep||(p=p.length===1?"":p.substr(2));var w=n.cwd();p=p!==""?this.normalize(w+(w!=="/"?s.sep:"")+p):w}return p},s.relative=function(a,c){var d;a=s.resolve(a),c=s.resolve(c);var g=a.split(s.sep),v=c.split(s.sep);v.shift(),g.shift();var p=0,w=[];for(d=0;d<g.length;d++)if(g[d]!==v[d]){p=g.length-d;break}w=v.slice(d),g.length===1&&g[0]===""&&(p=0),p>g.length&&(p=g.length);var b="";for(d=0;d<p;d++)b+="../";return(b+=w.join(s.sep)).length>1&&b.charAt(b.length-1)===s.sep&&(b=b.substr(0,b.length-1)),b},s.dirname=function(a){var c=(a=s._removeDuplicateSeps(a)).charAt(0)===s.sep,d=a.split(s.sep);return d.pop()===""&&d.length>0&&d.pop(),d.length>1||d.length===1&&!c?d.join(s.sep):c?s.sep:"."},s.basename=function(a,c){if(c===void 0&&(c=""),a==="")return a;var d=(a=s.normalize(a)).split(s.sep),g=d[d.length-1];return g===""&&d.length>1?d[d.length-2]:c.length>0&&g.substr(g.length-c.length)===c?g.substr(0,g.length-c.length):g},s.extname=function(a){var c=(a=s.normalize(a)).split(s.sep);if((a=c.pop())===""&&c.length>0&&(a=c.pop()),a==="..")return"";var d=a.lastIndexOf(".");return d===-1||d===0?"":a.substr(d)},s.isAbsolute=function(a){return a.length>0&&a.charAt(0)===s.sep},s._makeLong=function(a){return a},s.parse=function(a){var c=function(d){var g=i.exec(d);return g.shift(),g}(a);return{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},s.format=function(a){if(a===null||typeof a!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);if(typeof(a.root||"")!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+s.sep:"")+(a.base||"")},s._removeDuplicateSeps=function(a){return a=a.replace(this._replaceRegex,this.sep)},s.sep="/",s._replaceRegex=new RegExp("//+","g"),s.delimiter=":",s.posix=s,s.win32=s,s}();t.exports=o}).call(e,r(6))},function(t,e,r){(function(n){var i=this&&this.__extends||function(s,a){for(var c in a)a.hasOwnProperty(c)&&(s[c]=a[c]);function d(){this.constructor=s}s.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)},o=function(s){function a(){s.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return i(a,s),a.prototype.setRawMode=function(c){this.isRaw!==c&&(this.isRaw=c,this.emit("modeChange"))},a.prototype.changeColumns=function(c){c!==this.columns&&(this.columns=c,this.emit("resize"))},a.prototype.changeRows=function(c){c!==this.rows&&(this.rows=c,this.emit("resize"))},a.isatty=function(c){return c&&c instanceof a},a.prototype._write=function(c,d,g){var v;try{var p;p=typeof c=="string"?new n(c,d):c,this._bufferedWrites.push(p),this._waitingForWrites&&this._read(1024)}catch(w){v=w}finally{g(v)}},a.prototype._read=function(c){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),this._waitingForWrites););},a}(r(11).Duplex);t.exports=o}).call(e,r(1))},function(t,e,r){t.exports=i;var n=r(8).EventEmitter;function i(){n.call(this)}r(12)(i,n),i.Readable=r(13),i.Writable=r(27),i.Duplex=r(28),i.Transform=r(29),i.PassThrough=r(30),i.Stream=i,i.prototype.pipe=function(o,s){var a=this;function c(I){o.writable&&o.write(I)===!1&&a.pause&&a.pause()}function d(){a.readable&&a.resume&&a.resume()}a.on("data",c),o.on("drain",d),o._isStdio||s&&s.end===!1||(a.on("end",v),a.on("close",p));var g=!1;function v(){g||(g=!0,o.end())}function p(){g||(g=!0,typeof o.destroy=="function"&&o.destroy())}function w(I){if(b(),n.listenerCount(this,"error")===0)throw I}function b(){a.removeListener("data",c),o.removeListener("drain",d),a.removeListener("end",v),a.removeListener("close",p),a.removeListener("error",w),o.removeListener("error",w),a.removeListener("end",b),a.removeListener("close",b),o.removeListener("close",b)}return a.on("error",w),o.on("error",w),a.on("end",b),a.on("close",b),o.on("close",b),o.emit("pipe",a),o}},function(t,e){typeof Object.create=="function"?t.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},function(t,e,r){(function(n){var i=function(){try{return r(11)}catch{}}();(e=t.exports=r(14)).Stream=i||e,e.Readable=e,e.Writable=r(22),e.Duplex=r(21),e.Transform=r(25),e.PassThrough=r(26),!n.browser&&n.env.READABLE_STREAM==="disable"&&i&&(t.exports=i)}).call(e,r(6))},function(t,e,r){(function(n){t.exports=A;var i,o=r(15),s=r(16);A.ReadableState=k,r(8).EventEmitter;var a,c=function(P,F){return P.listeners(F).length};(function(){try{a=r(11)}catch{}finally{a||(a=r(8).EventEmitter)}})();var d=r(2).Buffer,g=r(17),v=r(18);v.inherits=r(12);var p=r(19),w=void 0;w=p&&p.debuglog?p.debuglog("stream"):function(){};var b,I=r(20);function k(P,F){i=i||r(21),P=P||{},this.objectMode=!!P.objectMode,F instanceof i&&(this.objectMode=this.objectMode||!!P.readableObjectMode);var ie=P.highWaterMark,U=this.objectMode?16:16384;this.highWaterMark=ie||ie===0?ie:U,this.highWaterMark=~~this.highWaterMark,this.buffer=new I,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(b||(b=r(24).StringDecoder),this.decoder=new b(P.encoding),this.encoding=P.encoding)}function A(P){if(i=i||r(21),!(this instanceof A))return new A(P);this._readableState=new k(P,this),this.readable=!0,P&&typeof P.read=="function"&&(this._read=P.read),a.call(this)}function D(P,F,ie,U,z){var J=function(se,pe){var Se=null;return d.isBuffer(pe)||typeof pe=="string"||pe==null||se.objectMode||(Se=new TypeError("Invalid non-string/buffer chunk")),Se}(F,ie);if(J)P.emit("error",J);else if(ie===null)F.reading=!1,function(se,pe){if(!pe.ended){if(pe.decoder){var Se=pe.decoder.end();Se&&Se.length&&(pe.buffer.push(Se),pe.length+=pe.objectMode?1:Se.length)}pe.ended=!0,Z(se)}}(P,F);else if(F.objectMode||ie&&ie.length>0)if(F.ended&&!z){var ue=new Error("stream.push() after EOF");P.emit("error",ue)}else if(F.endEmitted&&z){var oe=new Error("stream.unshift() after end event");P.emit("error",oe)}else{var ne;!F.decoder||z||U||(ie=F.decoder.write(ie),ne=!F.objectMode&&ie.length===0),z||(F.reading=!1),ne||(F.flowing&&F.length===0&&!F.sync?(P.emit("data",ie),P.read(0)):(F.length+=F.objectMode?1:ie.length,z?F.buffer.unshift(ie):F.buffer.push(ie),F.needReadable&&Z(P))),function(se,pe){pe.readingMore||(pe.readingMore=!0,o(V,se,pe))}(P,F)}else z||(F.reading=!1);return function(se){return!se.ended&&(se.needReadable||se.length<se.highWaterMark||se.length===0)}(F)}v.inherits(A,a),A.prototype.push=function(P,F){var ie=this._readableState;return ie.objectMode||typeof P!="string"||(F=F||ie.defaultEncoding)!==ie.encoding&&(P=g.from(P,F),F=""),D(this,ie,P,F,!1)},A.prototype.unshift=function(P){return D(this,this._readableState,P,"",!0)},A.prototype.isPaused=function(){return this._readableState.flowing===!1},A.prototype.setEncoding=function(P){return b||(b=r(24).StringDecoder),this._readableState.decoder=new b(P),this._readableState.encoding=P,this};var Y=8388608;function H(P,F){return P<=0||F.length===0&&F.ended?0:F.objectMode?1:P!=P?F.flowing&&F.length?F.buffer.head.data.length:F.length:(P>F.highWaterMark&&(F.highWaterMark=function(ie){return ie>=Y?ie=Y:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}(P)),P<=F.length?P:F.ended?F.length:(F.needReadable=!0,0))}function Z(P){var F=P._readableState;F.needReadable=!1,F.emittedReadable||(w("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?o(j,P):j(P))}function j(P){w("emit readable"),P.emit("readable"),re(P)}function V(P,F){for(var ie=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(w("maybeReadMore read 0"),P.read(0),ie!==F.length);)ie=F.length;F.readingMore=!1}function S(P){w("readable nexttick read 0"),P.read(0)}function W(P,F){F.reading||(w("resume read 0"),P.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,P.emit("resume"),re(P),F.flowing&&!F.reading&&P.read(0)}function re(P){var F=P._readableState;for(w("flow",F.flowing);F.flowing&&P.read()!==null;);}function X(P,F){return F.length===0?null:(F.objectMode?ie=F.buffer.shift():!P||P>=F.length?(ie=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):ie=function(U,z,J){var ue;return U<z.head.data.length?(ue=z.head.data.slice(0,U),z.head.data=z.head.data.slice(U)):ue=U===z.head.data.length?z.shift():J?function(oe,ne){var se=ne.head,pe=1,Se=se.data;for(oe-=Se.length;se=se.next;){var Te=se.data,O=oe>Te.length?Te.length:oe;if(O===Te.length?Se+=Te:Se+=Te.slice(0,oe),(oe-=O)==0){O===Te.length?(++pe,se.next?ne.head=se.next:ne.head=ne.tail=null):(ne.head=se,se.data=Te.slice(O));break}++pe}return ne.length-=pe,Se}(U,z):function(oe,ne){var se=g.allocUnsafe(oe),pe=ne.head,Se=1;for(pe.data.copy(se),oe-=pe.data.length;pe=pe.next;){var Te=pe.data,O=oe>Te.length?Te.length:oe;if(Te.copy(se,se.length-oe,0,O),(oe-=O)==0){O===Te.length?(++Se,pe.next?ne.head=pe.next:ne.head=ne.tail=null):(ne.head=pe,pe.data=Te.slice(O));break}++Se}return ne.length-=Se,se}(U,z),ue}(P,F.buffer,F.decoder),ie);var ie}function le(P){var F=P._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,o(ae,F,P))}function ae(P,F){P.endEmitted||P.length!==0||(P.endEmitted=!0,F.readable=!1,F.emit("end"))}function ye(P,F){for(var ie=0,U=P.length;ie<U;ie++)if(P[ie]===F)return ie;return-1}A.prototype.read=function(P){w("read",P),P=parseInt(P,10);var F=this._readableState,ie=P;if(P!==0&&(F.emittedReadable=!1),P===0&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return w("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?le(this):Z(this),null;if((P=H(P,F))===0&&F.ended)return F.length===0&&le(this),null;var U,z=F.needReadable;return w("need readable",z),(F.length===0||F.length-P<F.highWaterMark)&&w("length less than watermark",z=!0),F.ended||F.reading?w("reading or ended",z=!1):z&&(w("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(P=H(ie,F))),(U=P>0?X(P,F):null)===null?(F.needReadable=!0,P=0):F.length-=P,F.length===0&&(F.ended||(F.needReadable=!0),ie!==P&&F.ended&&le(this)),U!==null&&this.emit("data",U),U},A.prototype._read=function(P){this.emit("error",new Error("_read() is not implemented"))},A.prototype.pipe=function(P,F){var ie=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=P;break;case 1:U.pipes=[U.pipes,P];break;default:U.pipes.push(P)}U.pipesCount+=1,w("pipe count=%d opts=%j",U.pipesCount,F);var z=F&&F.end===!1||P===n.stdout||P===n.stderr?se:ue;function J($){w("onunpipe"),$===ie&&se()}function ue(){w("onend"),P.end()}U.endEmitted?o(z):ie.once("end",z),P.on("unpipe",J);var oe=function($){return function(){var K=$._readableState;w("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&c($,"data")&&(K.flowing=!0,re($))}}(ie);P.on("drain",oe);var ne=!1;function se(){w("cleanup"),P.removeListener("close",O),P.removeListener("finish",R),P.removeListener("drain",oe),P.removeListener("error",Te),P.removeListener("unpipe",J),ie.removeListener("end",ue),ie.removeListener("end",se),ie.removeListener("data",Se),ne=!0,!U.awaitDrain||P._writableState&&!P._writableState.needDrain||oe()}var pe=!1;function Se($){w("ondata"),pe=!1,P.write($)!==!1||pe||((U.pipesCount===1&&U.pipes===P||U.pipesCount>1&&ye(U.pipes,P)!==-1)&&!ne&&(w("false write response, pause",ie._readableState.awaitDrain),ie._readableState.awaitDrain++,pe=!0),ie.pause())}function Te($){w("onerror",$),M(),P.removeListener("error",Te),c(P,"error")===0&&P.emit("error",$)}function O(){P.removeListener("finish",R),M()}function R(){w("onfinish"),P.removeListener("close",O),M()}function M(){w("unpipe"),ie.unpipe(P)}return ie.on("data",Se),function($,K,G){if(typeof $.prependListener=="function")return $.prependListener(K,G);$._events&&$._events[K]?s($._events[K])?$._events[K].unshift(G):$._events[K]=[G,$._events[K]]:$.on(K,G)}(P,"error",Te),P.once("close",O),P.once("finish",R),P.emit("pipe",ie),U.flowing||(w("pipe resume"),ie.resume()),P},A.prototype.unpipe=function(P){var F=this._readableState;if(F.pipesCount===0)return this;if(F.pipesCount===1)return P&&P!==F.pipes||(P||(P=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,P&&P.emit("unpipe",this)),this;if(!P){var ie=F.pipes,U=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var z=0;z<U;z++)ie[z].emit("unpipe",this);return this}var J=ye(F.pipes,P);return J===-1||(F.pipes.splice(J,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),P.emit("unpipe",this)),this},A.prototype.on=function(P,F){var ie=a.prototype.on.call(this,P,F);if(P==="data")this._readableState.flowing!==!1&&this.resume();else if(P==="readable"){var U=this._readableState;U.endEmitted||U.readableListening||(U.readableListening=U.needReadable=!0,U.emittedReadable=!1,U.reading?U.length&&Z(this):o(S,this))}return ie},A.prototype.addListener=A.prototype.on,A.prototype.resume=function(){var P=this._readableState;return P.flowing||(w("resume"),P.flowing=!0,function(F,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,o(W,F,ie))}(this,P)),this},A.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this},A.prototype.wrap=function(P){var F=this._readableState,ie=!1,U=this;for(var z in P.on("end",function(){if(w("wrapped end"),F.decoder&&!F.ended){var J=F.decoder.end();J&&J.length&&U.push(J)}U.push(null)}),P.on("data",function(J){w("wrapped data"),F.decoder&&(J=F.decoder.write(J)),F.objectMode&&J==null||(F.objectMode||J&&J.length)&&(U.push(J)||(ie=!0,P.pause()))}),P)this[z]===void 0&&typeof P[z]=="function"&&(this[z]=function(J){return function(){return P[J].apply(P,arguments)}}(z));return function(J,ue){for(var oe=0,ne=J.length;oe<ne;oe++)ue(J[oe],oe)}(["error","close","destroy","pause","resume"],function(J){P.on(J,U.emit.bind(U,J))}),U._read=function(J){w("wrapped _read",J),ie&&(ie=!1,P.resume())},U},A._fromList=X}).call(e,r(6))},function(t,e,r){(function(n){!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?t.exports=function(i,o,s,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var c,d,g=arguments.length;switch(g){case 0:case 1:return n.nextTick(i);case 2:return n.nextTick(function(){i.call(null,o)});case 3:return n.nextTick(function(){i.call(null,o,s)});case 4:return n.nextTick(function(){i.call(null,o,s,a)});default:for(c=new Array(g-1),d=0;d<c.length;)c[d++]=arguments[d];return n.nextTick(function(){i.apply(null,c)})}}:t.exports=n.nextTick}).call(e,r(6))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(t,e,r){(function(n){var i=r(2),o=i.Buffer,s=i.SlowBuffer,a=i.kMaxLength||2147483647;e.alloc=function(c,d,g){if(typeof o.alloc=="function")return o.alloc(c,d,g);if(typeof g=="number")throw new TypeError("encoding must not be number");if(typeof c!="number")throw new TypeError("size must be a number");if(c>a)throw new RangeError("size is too large");var v=g,p=d;p===void 0&&(v=void 0,p=0);var w=new o(c);if(typeof p=="string")for(var b=new o(p,v),I=b.length,k=-1;++k<c;)w[k]=b[k%I];else w.fill(p);return w},e.allocUnsafe=function(c){if(typeof o.allocUnsafe=="function")return o.allocUnsafe(c);if(typeof c!="number")throw new TypeError("size must be a number");if(c>a)throw new RangeError("size is too large");return new o(c)},e.from=function(c,d,g){if(typeof o.from=="function"&&(!n.Uint8Array||Uint8Array.from!==o.from))return o.from(c,d,g);if(typeof c=="number")throw new TypeError('"value" argument must not be a number');if(typeof c=="string")return new o(c,d);if(typeof ArrayBuffer<"u"&&c instanceof ArrayBuffer){var v=d;if(arguments.length===1)return new o(c);v===void 0&&(v=0);var p=g;if(p===void 0&&(p=c.byteLength-v),v>=c.byteLength)throw new RangeError("'offset' is out of bounds");if(p>c.byteLength-v)throw new RangeError("'length' is out of bounds");return new o(c.slice(v,v+p))}if(o.isBuffer(c)){var w=new o(c.length);return c.copy(w,0,0,c.length),w}if(c){if(Array.isArray(c)||typeof ArrayBuffer<"u"&&c.buffer instanceof ArrayBuffer||"length"in c)return new o(c);if(c.type==="Buffer"&&Array.isArray(c.data))return new o(c.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},e.allocUnsafeSlow=function(c){if(typeof o.allocUnsafeSlow=="function")return o.allocUnsafeSlow(c);if(typeof c!="number")throw new TypeError("size must be a number");if(c>=a)throw new RangeError("size is too large");return new s(c)}}).call(e,function(){return this}())},function(t,e,r){(function(n){function i(o){return Object.prototype.toString.call(o)}e.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},e.isBoolean=function(o){return typeof o=="boolean"},e.isNull=function(o){return o===null},e.isNullOrUndefined=function(o){return o==null},e.isNumber=function(o){return typeof o=="number"},e.isString=function(o){return typeof o=="string"},e.isSymbol=function(o){return typeof o=="symbol"},e.isUndefined=function(o){return o===void 0},e.isRegExp=function(o){return i(o)==="[object RegExp]"},e.isObject=function(o){return typeof o=="object"&&o!==null},e.isDate=function(o){return i(o)==="[object Date]"},e.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},e.isFunction=function(o){return typeof o=="function"},e.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},e.isBuffer=n.isBuffer}).call(e,r(1))},function(t,e){},function(t,e,r){r(2).Buffer;var n=r(17);function i(){this.head=null,this.tail=null,this.length=0}t.exports=i,i.prototype.push=function(o){var s={data:o,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},i.prototype.unshift=function(o){var s={data:o,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},i.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(o){if(this.length===0)return"";for(var s=this.head,a=""+s.data;s=s.next;)a+=o+s.data;return a},i.prototype.concat=function(o){if(this.length===0)return n.alloc(0);if(this.length===1)return this.head.data;for(var s=n.allocUnsafe(o>>>0),a=this.head,c=0;a;)a.data.copy(s,c),c+=a.data.length,a=a.next;return s}},function(t,e,r){var n=Object.keys||function(b){var I=[];for(var k in b)I.push(k);return I};t.exports=v;var i=r(15),o=r(18);o.inherits=r(12);var s=r(14),a=r(22);o.inherits(v,s);for(var c=n(a.prototype),d=0;d<c.length;d++){var g=c[d];v.prototype[g]||(v.prototype[g]=a.prototype[g])}function v(b){if(!(this instanceof v))return new v(b);s.call(this,b),a.call(this,b),b&&b.readable===!1&&(this.readable=!1),b&&b.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,b&&b.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||i(w,this)}function w(b){b.end()}},function(t,e,r){(function(n){t.exports=k;var i,o=r(15),s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:o;k.WritableState=I;var a=r(18);a.inherits=r(12);var c,d={deprecate:r(23)};(function(){try{c=r(11)}catch{}finally{c||(c=r(8).EventEmitter)}})();var g,v=r(2).Buffer,p=r(17);function w(){}function b(S,W,re){this.chunk=S,this.encoding=W,this.callback=re,this.next=null}function I(S,W){i=i||r(21),S=S||{},this.objectMode=!!S.objectMode,W instanceof i&&(this.objectMode=this.objectMode||!!S.writableObjectMode);var re=S.highWaterMark,X=this.objectMode?16:16384;this.highWaterMark=re||re===0?re:X,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var le=S.decodeStrings===!1;this.decodeStrings=!le,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ae){(function(ye,P){var F=ye._writableState,ie=F.sync,U=F.writecb;if(function(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}(F),P)(function(J,ue,oe,ne,se){--ue.pendingcb,oe?o(se,ne):se(ne),J._writableState.errorEmitted=!0,J.emit("error",ne)})(ye,F,ie,P,U);else{var z=H(F);z||F.corked||F.bufferProcessing||!F.bufferedRequest||Y(ye,F),ie?s(D,ye,F,z,U):D(ye,F,z,U)}})(W,ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new V(this)}function k(S){if(i=i||r(21),!(g.call(k,this)||this instanceof i))return new k(S);this._writableState=new I(S,this),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev)),c.call(this)}function A(S,W,re,X,le,ae,ye){W.writelen=X,W.writecb=ye,W.writing=!0,W.sync=!0,re?S._writev(le,W.onwrite):S._write(le,ae,W.onwrite),W.sync=!1}function D(S,W,re,X){re||function(le,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,le.emit("drain"))}(S,W),W.pendingcb--,X(),j(S,W)}function Y(S,W){W.bufferProcessing=!0;var re=W.bufferedRequest;if(S._writev&&re&&re.next){var X=W.bufferedRequestCount,le=new Array(X),ae=W.corkedRequestsFree;ae.entry=re;for(var ye=0;re;)le[ye]=re,re=re.next,ye+=1;A(S,W,!0,W.length,le,"",ae.finish),W.pendingcb++,W.lastBufferedRequest=null,ae.next?(W.corkedRequestsFree=ae.next,ae.next=null):W.corkedRequestsFree=new V(W)}else{for(;re;){var P=re.chunk,F=re.encoding,ie=re.callback;if(A(S,W,!1,W.objectMode?1:P.length,P,F,ie),re=re.next,W.writing)break}re===null&&(W.lastBufferedRequest=null)}W.bufferedRequestCount=0,W.bufferedRequest=re,W.bufferProcessing=!1}function H(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function Z(S,W){W.prefinished||(W.prefinished=!0,S.emit("prefinish"))}function j(S,W){var re=H(W);return re&&(W.pendingcb===0?(Z(S,W),W.finished=!0,S.emit("finish")):Z(S,W)),re}function V(S){var W=this;this.next=null,this.entry=null,this.finish=function(re){var X=W.entry;for(W.entry=null;X;){var le=X.callback;S.pendingcb--,le(re),X=X.next}S.corkedRequestsFree?S.corkedRequestsFree.next=W:S.corkedRequestsFree=W}}a.inherits(k,c),I.prototype.getBuffer=function(){for(var S=this.bufferedRequest,W=[];S;)W.push(S),S=S.next;return W},function(){try{Object.defineProperty(I.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(S){return!!g.call(this,S)||S&&S._writableState instanceof I}})):g=function(S){return S instanceof this},k.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},k.prototype.write=function(S,W,re){var X=this._writableState,le=!1,ae=v.isBuffer(S);return typeof W=="function"&&(re=W,W=null),ae?W="buffer":W||(W=X.defaultEncoding),typeof re!="function"&&(re=w),X.ended?function(ye,P){var F=new Error("write after end");ye.emit("error",F),o(P,F)}(this,re):(ae||function(ye,P,F,ie){var U=!0,z=!1;return F===null?z=new TypeError("May not write null values to stream"):typeof F=="string"||F===void 0||P.objectMode||(z=new TypeError("Invalid non-string/buffer chunk")),z&&(ye.emit("error",z),o(ie,z),U=!1),U}(this,X,S,re))&&(X.pendingcb++,le=function(ye,P,F,ie,U,z){F||(ie=function(ne,se,pe){return ne.objectMode||ne.decodeStrings===!1||typeof se!="string"||(se=p.from(se,pe)),se}(P,ie,U),v.isBuffer(ie)&&(U="buffer"));var J=P.objectMode?1:ie.length;P.length+=J;var ue=P.length<P.highWaterMark;if(ue||(P.needDrain=!0),P.writing||P.corked){var oe=P.lastBufferedRequest;P.lastBufferedRequest=new b(ie,U,z),oe?oe.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else A(ye,P,!1,J,ie,U,z);return ue}(this,X,ae,S,W,re)),le},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.finished||S.bufferProcessing||!S.bufferedRequest||Y(this,S))},k.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+S);return this._writableState.defaultEncoding=S,this},k.prototype._write=function(S,W,re){re(new Error("_write() is not implemented"))},k.prototype._writev=null,k.prototype.end=function(S,W,re){var X=this._writableState;typeof S=="function"?(re=S,S=null,W=null):typeof W=="function"&&(re=W,W=null),S!=null&&this.write(S,W),X.corked&&(X.corked=1,this.uncork()),X.ending||X.finished||function(le,ae,ye){ae.ending=!0,j(le,ae),ye&&(ae.finished?o(ye):le.once("finish",ye)),ae.ended=!0,le.writable=!1}(this,X,re)}}).call(e,r(6))},function(t,e){(function(r){function n(i){try{if(!r.localStorage)return!1}catch{return!1}var o=r.localStorage[i];return o!=null&&String(o).toLowerCase()==="true"}t.exports=function(i,o){if(n("noDeprecation"))return i;var s=!1;return function(){if(!s){if(n("throwDeprecation"))throw new Error(o);n("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return i.apply(this,arguments)}}}).call(e,function(){return this}())},function(t,e,r){var n=r(2).Buffer,i=n.isEncoding||function(d){switch(d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=e.StringDecoder=function(d){switch(this.encoding=(d||"utf8").toLowerCase().replace(/[-_]/,""),function(g){if(g&&!i(g))throw new Error("Unknown encoding: "+g)}(d),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=c;break;default:return void(this.write=s)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function s(d){return d.toString(this.encoding)}function a(d){this.charReceived=d.length%2,this.charLength=this.charReceived?2:0}function c(d){this.charReceived=d.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(d){for(var g="";this.charLength;){var v=d.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:d.length;if(d.copy(this.charBuffer,this.charReceived,0,v),this.charReceived+=v,this.charReceived<this.charLength)return"";if(d=d.slice(v,d.length),!((p=(g=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(g.length-1))>=55296&&p<=56319)){if(this.charReceived=this.charLength=0,d.length===0)return g;break}this.charLength+=this.surrogateSize,g=""}this.detectIncompleteChar(d);var p,w=d.length;if(this.charLength&&(d.copy(this.charBuffer,0,d.length-this.charReceived,w),w-=this.charReceived),w=(g+=d.toString(this.encoding,0,w)).length-1,(p=g.charCodeAt(w))>=55296&&p<=56319){var b=this.surrogateSize;return this.charLength+=b,this.charReceived+=b,this.charBuffer.copy(this.charBuffer,b,0,b),d.copy(this.charBuffer,0,0,b),g.substring(0,w)}return g},o.prototype.detectIncompleteChar=function(d){for(var g=d.length>=3?3:d.length;g>0;g--){var v=d[d.length-g];if(g==1&&v>>5==6){this.charLength=2;break}if(g<=2&&v>>4==14){this.charLength=3;break}if(g<=3&&v>>3==30){this.charLength=4;break}}this.charReceived=g},o.prototype.end=function(d){var g="";if(d&&d.length&&(g=this.write(d)),this.charReceived){var v=this.charReceived,p=this.charBuffer,w=this.encoding;g+=p.slice(0,v).toString(w)}return g}},function(t,e,r){t.exports=s;var n=r(21),i=r(18);function o(c){this.afterTransform=function(d,g){return function(v,p,w){var b=v._transformState;b.transforming=!1;var I=b.writecb;if(!I)return v.emit("error",new Error("no writecb in Transform class"));b.writechunk=null,b.writecb=null,w!=null&&v.push(w),I(p);var k=v._readableState;k.reading=!1,(k.needReadable||k.length<k.highWaterMark)&&v._read(k.highWaterMark)}(c,d,g)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(c){if(!(this instanceof s))return new s(c);n.call(this,c),this._transformState=new o(this);var d=this;this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(g,v){a(d,g,v)}):a(d)})}function a(c,d,g){if(d)return c.emit("error",d);g!=null&&c.push(g);var v=c._writableState,p=c._transformState;if(v.length)throw new Error("Calling transform done when ws.length != 0");if(p.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}i.inherits=r(12),i.inherits(s,n),s.prototype.push=function(c,d){return this._transformState.needTransform=!1,n.prototype.push.call(this,c,d)},s.prototype._transform=function(c,d,g){throw new Error("_transform() is not implemented")},s.prototype._write=function(c,d,g){var v=this._transformState;if(v.writecb=g,v.writechunk=c,v.writeencoding=d,!v.transforming){var p=this._readableState;(v.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},s.prototype._read=function(c){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0}},function(t,e,r){t.exports=o;var n=r(25),i=r(18);function o(s){if(!(this instanceof o))return new o(s);n.call(this,s)}i.inherits=r(12),i.inherits(o,n),o.prototype._transform=function(s,a,c){c(null,s)}},function(t,e,r){t.exports=r(22)},function(t,e,r){t.exports=r(21)},function(t,e,r){t.exports=r(25)},function(t,e,r){t.exports=r(26)},function(t,e,r){var n=r(32),i=r(33),o=r(38),s=r(39),a=r(40),c=r(41),d=r(42),g=Object.prototype.toString;function v(w){if(!(this instanceof v))return new v(w);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},w||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||w&&w.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var I=n.inflateInit2(this.strm,b.windowBits);if(I!==s.Z_OK)throw new Error(a[I]);this.header=new d,n.inflateGetHeader(this.strm,this.header)}function p(w,b){var I=new v(b);if(I.push(w,!0),I.err)throw I.msg||a[I.err];return I.result}v.prototype.push=function(w,b){var I,k,A,D,Y,H,Z=this.strm,j=this.options.chunkSize,V=this.options.dictionary,S=!1;if(this.ended)return!1;k=b===~~b?b:b===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof w=="string"?Z.input=o.binstring2buf(w):g.call(w)==="[object ArrayBuffer]"?Z.input=new Uint8Array(w):Z.input=w,Z.next_in=0,Z.avail_in=Z.input.length;do{if(Z.avail_out===0&&(Z.output=new i.Buf8(j),Z.next_out=0,Z.avail_out=j),(I=n.inflate(Z,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&V&&(H=typeof V=="string"?o.string2buf(V):g.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,I=n.inflateSetDictionary(this.strm,H)),I===s.Z_BUF_ERROR&&S===!0&&(I=s.Z_OK,S=!1),I!==s.Z_STREAM_END&&I!==s.Z_OK)return this.onEnd(I),this.ended=!0,!1;Z.next_out&&(Z.avail_out!==0&&I!==s.Z_STREAM_END&&(Z.avail_in!==0||k!==s.Z_FINISH&&k!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=o.utf8border(Z.output,Z.next_out),D=Z.next_out-A,Y=o.buf2string(Z.output,A),Z.next_out=D,Z.avail_out=j-D,D&&i.arraySet(Z.output,Z.output,A,D,0),this.onData(Y)):this.onData(i.shrinkBuf(Z.output,Z.next_out)))),Z.avail_in===0&&Z.avail_out===0&&(S=!0)}while((Z.avail_in>0||Z.avail_out===0)&&I!==s.Z_STREAM_END);return I===s.Z_STREAM_END&&(k=s.Z_FINISH),k===s.Z_FINISH?(I=n.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===s.Z_OK):k!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),Z.avail_out=0,!0)},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},e.Inflate=v,e.inflate=p,e.inflateRaw=function(w,b){return(b=b||{}).raw=!0,p(w,b)},e.ungzip=p},function(t,e,r){var n=r(33),i=r(34),o=r(35),s=r(36),a=r(37),c=-2,d=12,g=30;function v(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(j){var V;return j&&j.state?(V=j.state,j.total_in=j.total_out=V.total=0,j.msg="",V.wrap&&(j.adler=1&V.wrap),V.mode=1,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new n.Buf32(852),V.distcode=V.distdyn=new n.Buf32(592),V.sane=1,V.back=-1,0):c}function b(j){var V;return j&&j.state?((V=j.state).wsize=0,V.whave=0,V.wnext=0,w(j)):c}function I(j,V){var S,W;return j&&j.state?(W=j.state,V<0?(S=0,V=-V):(S=1+(V>>4),V<48&&(V&=15)),V&&(V<8||V>15)?c:(W.window!==null&&W.wbits!==V&&(W.window=null),W.wrap=S,W.wbits=V,b(j))):c}function k(j,V){var S,W;return j?(W=new p,j.state=W,W.window=null,(S=I(j,V))!==0&&(j.state=null),S):c}var A,D,Y=!0;function H(j){if(Y){var V;for(A=new n.Buf32(512),D=new n.Buf32(32),V=0;V<144;)j.lens[V++]=8;for(;V<256;)j.lens[V++]=9;for(;V<280;)j.lens[V++]=7;for(;V<288;)j.lens[V++]=8;for(a(1,j.lens,0,288,A,0,j.work,{bits:9}),V=0;V<32;)j.lens[V++]=5;a(2,j.lens,0,32,D,0,j.work,{bits:5}),Y=!1}j.lencode=A,j.lenbits=9,j.distcode=D,j.distbits=5}function Z(j,V,S,W){var re,X=j.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new n.Buf8(X.wsize)),W>=X.wsize?(n.arraySet(X.window,V,S-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):((re=X.wsize-X.wnext)>W&&(re=W),n.arraySet(X.window,V,S-W,re,X.wnext),(W-=re)?(n.arraySet(X.window,V,S-W,W,0),X.wnext=W,X.whave=X.wsize):(X.wnext+=re,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=re))),0}e.inflateReset=b,e.inflateReset2=I,e.inflateResetKeep=w,e.inflateInit=function(j){return k(j,15)},e.inflateInit2=k,e.inflate=function(j,V){var S,W,re,X,le,ae,ye,P,F,ie,U,z,J,ue,oe,ne,se,pe,Se,Te,O,R,M,$,K=0,G=new n.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return c;(S=j.state).mode===d&&(S.mode=13),le=j.next_out,re=j.output,ye=j.avail_out,X=j.next_in,W=j.input,ae=j.avail_in,P=S.hold,F=S.bits,ie=ae,U=ye,R=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;F<16;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}if(2&S.wrap&&P===35615){S.check=0,G[0]=255&P,G[1]=P>>>8&255,S.check=o(S.check,G,2,0),P=0,F=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&P)<<8)+(P>>8))%31){j.msg="incorrect header check",S.mode=g;break}if((15&P)!=8){j.msg="unknown compression method",S.mode=g;break}if(F-=4,O=8+(15&(P>>>=4)),S.wbits===0)S.wbits=O;else if(O>S.wbits){j.msg="invalid window size",S.mode=g;break}S.dmax=1<<O,j.adler=S.check=1,S.mode=512&P?10:d,P=0,F=0;break;case 2:for(;F<16;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}if(S.flags=P,(255&S.flags)!=8){j.msg="unknown compression method",S.mode=g;break}if(57344&S.flags){j.msg="unknown header flags set",S.mode=g;break}S.head&&(S.head.text=P>>8&1),512&S.flags&&(G[0]=255&P,G[1]=P>>>8&255,S.check=o(S.check,G,2,0)),P=0,F=0,S.mode=3;case 3:for(;F<32;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}S.head&&(S.head.time=P),512&S.flags&&(G[0]=255&P,G[1]=P>>>8&255,G[2]=P>>>16&255,G[3]=P>>>24&255,S.check=o(S.check,G,4,0)),P=0,F=0,S.mode=4;case 4:for(;F<16;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}S.head&&(S.head.xflags=255&P,S.head.os=P>>8),512&S.flags&&(G[0]=255&P,G[1]=P>>>8&255,S.check=o(S.check,G,2,0)),P=0,F=0,S.mode=5;case 5:if(1024&S.flags){for(;F<16;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}S.length=P,S.head&&(S.head.extra_len=P),512&S.flags&&(G[0]=255&P,G[1]=P>>>8&255,S.check=o(S.check,G,2,0)),P=0,F=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&((z=S.length)>ae&&(z=ae),z&&(S.head&&(O=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),n.arraySet(S.head.extra,W,X,z,O)),512&S.flags&&(S.check=o(S.check,W,z,X)),ae-=z,X+=z,S.length-=z),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(ae===0)break e;z=0;do O=W[X+z++],S.head&&O&&S.length<65536&&(S.head.name+=String.fromCharCode(O));while(O&&z<ae);if(512&S.flags&&(S.check=o(S.check,W,z,X)),ae-=z,X+=z,O)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(ae===0)break e;z=0;do O=W[X+z++],S.head&&O&&S.length<65536&&(S.head.comment+=String.fromCharCode(O));while(O&&z<ae);if(512&S.flags&&(S.check=o(S.check,W,z,X)),ae-=z,X+=z,O)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;F<16;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}if(P!==(65535&S.check)){j.msg="header crc mismatch",S.mode=g;break}P=0,F=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),j.adler=S.check=0,S.mode=d;break;case 10:for(;F<32;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}j.adler=S.check=v(P),P=0,F=0,S.mode=11;case 11:if(S.havedict===0)return j.next_out=le,j.avail_out=ye,j.next_in=X,j.avail_in=ae,S.hold=P,S.bits=F,2;j.adler=S.check=1,S.mode=d;case d:if(V===5||V===6)break e;case 13:if(S.last){P>>>=7&F,F-=7&F,S.mode=27;break}for(;F<3;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}switch(S.last=1&P,F-=1,3&(P>>>=1)){case 0:S.mode=14;break;case 1:if(H(S),S.mode=20,V===6){P>>>=2,F-=2;break e}break;case 2:S.mode=17;break;case 3:j.msg="invalid block type",S.mode=g}P>>>=2,F-=2;break;case 14:for(P>>>=7&F,F-=7&F;F<32;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}if((65535&P)!=(P>>>16^65535)){j.msg="invalid stored block lengths",S.mode=g;break}if(S.length=65535&P,P=0,F=0,S.mode=15,V===6)break e;case 15:S.mode=16;case 16:if(z=S.length){if(z>ae&&(z=ae),z>ye&&(z=ye),z===0)break e;n.arraySet(re,W,X,z,le),ae-=z,X+=z,ye-=z,le+=z,S.length-=z;break}S.mode=d;break;case 17:for(;F<14;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}if(S.nlen=257+(31&P),P>>>=5,F-=5,S.ndist=1+(31&P),P>>>=5,F-=5,S.ncode=4+(15&P),P>>>=4,F-=4,S.nlen>286||S.ndist>30){j.msg="too many length or distance symbols",S.mode=g;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;F<3;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}S.lens[_e[S.have++]]=7&P,P>>>=3,F-=3}for(;S.have<19;)S.lens[_e[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,M={bits:S.lenbits},R=a(0,S.lens,0,19,S.lencode,0,S.work,M),S.lenbits=M.bits,R){j.msg="invalid code lengths set",S.mode=g;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ne=(K=S.lencode[P&(1<<S.lenbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=F);){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}if(se<16)P>>>=oe,F-=oe,S.lens[S.have++]=se;else{if(se===16){for($=oe+2;F<$;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}if(P>>>=oe,F-=oe,S.have===0){j.msg="invalid bit length repeat",S.mode=g;break}O=S.lens[S.have-1],z=3+(3&P),P>>>=2,F-=2}else if(se===17){for($=oe+3;F<$;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}F-=oe,O=0,z=3+(7&(P>>>=oe)),P>>>=3,F-=3}else{for($=oe+7;F<$;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}F-=oe,O=0,z=11+(127&(P>>>=oe)),P>>>=7,F-=7}if(S.have+z>S.nlen+S.ndist){j.msg="invalid bit length repeat",S.mode=g;break}for(;z--;)S.lens[S.have++]=O}}if(S.mode===g)break;if(S.lens[256]===0){j.msg="invalid code -- missing end-of-block",S.mode=g;break}if(S.lenbits=9,M={bits:S.lenbits},R=a(1,S.lens,0,S.nlen,S.lencode,0,S.work,M),S.lenbits=M.bits,R){j.msg="invalid literal/lengths set",S.mode=g;break}if(S.distbits=6,S.distcode=S.distdyn,M={bits:S.distbits},R=a(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,M),S.distbits=M.bits,R){j.msg="invalid distances set",S.mode=g;break}if(S.mode=20,V===6)break e;case 20:S.mode=21;case 21:if(ae>=6&&ye>=258){j.next_out=le,j.avail_out=ye,j.next_in=X,j.avail_in=ae,S.hold=P,S.bits=F,s(j,U),le=j.next_out,re=j.output,ye=j.avail_out,X=j.next_in,W=j.input,ae=j.avail_in,P=S.hold,F=S.bits,S.mode===d&&(S.back=-1);break}for(S.back=0;ne=(K=S.lencode[P&(1<<S.lenbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=F);){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}if(ne&&(240&ne)==0){for(pe=oe,Se=ne,Te=se;ne=(K=S.lencode[Te+((P&(1<<pe+Se)-1)>>pe)])>>>16&255,se=65535&K,!(pe+(oe=K>>>24)<=F);){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}P>>>=pe,F-=pe,S.back+=pe}if(P>>>=oe,F-=oe,S.back+=oe,S.length=se,ne===0){S.mode=26;break}if(32&ne){S.back=-1,S.mode=d;break}if(64&ne){j.msg="invalid literal/length code",S.mode=g;break}S.extra=15&ne,S.mode=22;case 22:if(S.extra){for($=S.extra;F<$;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}S.length+=P&(1<<S.extra)-1,P>>>=S.extra,F-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ne=(K=S.distcode[P&(1<<S.distbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=F);){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}if((240&ne)==0){for(pe=oe,Se=ne,Te=se;ne=(K=S.distcode[Te+((P&(1<<pe+Se)-1)>>pe)])>>>16&255,se=65535&K,!(pe+(oe=K>>>24)<=F);){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}P>>>=pe,F-=pe,S.back+=pe}if(P>>>=oe,F-=oe,S.back+=oe,64&ne){j.msg="invalid distance code",S.mode=g;break}S.offset=se,S.extra=15&ne,S.mode=24;case 24:if(S.extra){for($=S.extra;F<$;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}S.offset+=P&(1<<S.extra)-1,P>>>=S.extra,F-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){j.msg="invalid distance too far back",S.mode=g;break}S.mode=25;case 25:if(ye===0)break e;if(z=U-ye,S.offset>z){if((z=S.offset-z)>S.whave&&S.sane){j.msg="invalid distance too far back",S.mode=g;break}z>S.wnext?(z-=S.wnext,J=S.wsize-z):J=S.wnext-z,z>S.length&&(z=S.length),ue=S.window}else ue=re,J=le-S.offset,z=S.length;z>ye&&(z=ye),ye-=z,S.length-=z;do re[le++]=ue[J++];while(--z);S.length===0&&(S.mode=21);break;case 26:if(ye===0)break e;re[le++]=S.length,ye--,S.mode=21;break;case 27:if(S.wrap){for(;F<32;){if(ae===0)break e;ae--,P|=W[X++]<<F,F+=8}if(U-=ye,j.total_out+=U,S.total+=U,U&&(j.adler=S.check=S.flags?o(S.check,re,U,le-U):i(S.check,re,U,le-U)),U=ye,(S.flags?P:v(P))!==S.check){j.msg="incorrect data check",S.mode=g;break}P=0,F=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;F<32;){if(ae===0)break e;ae--,P+=W[X++]<<F,F+=8}if(P!==(4294967295&S.total)){j.msg="incorrect length check",S.mode=g;break}P=0,F=0}S.mode=29;case 29:R=1;break e;case g:R=-3;break e;case 31:return-4;default:return c}return j.next_out=le,j.avail_out=ye,j.next_in=X,j.avail_in=ae,S.hold=P,S.bits=F,(S.wsize||U!==j.avail_out&&S.mode<g&&(S.mode<27||V!==4))&&Z(j,j.output,j.next_out,U-j.avail_out),ie-=j.avail_in,U-=j.avail_out,j.total_in+=ie,j.total_out+=U,S.total+=U,S.wrap&&U&&(j.adler=S.check=S.flags?o(S.check,re,U,j.next_out-U):i(S.check,re,U,j.next_out-U)),j.data_type=S.bits+(S.last?64:0)+(S.mode===d?128:0)+(S.mode===20||S.mode===15?256:0),(ie===0&&U===0||V===4)&&R===0&&(R=-5),R},e.inflateEnd=function(j){if(!j||!j.state)return c;var V=j.state;return V.window&&(V.window=null),j.state=null,0},e.inflateGetHeader=function(j,V){var S;return j&&j.state?(2&(S=j.state).wrap)==0?c:(S.head=V,V.done=!1,0):c},e.inflateSetDictionary=function(j,V){var S,W=V.length;return j&&j.state?(S=j.state).wrap!==0&&S.mode!==11?c:S.mode===11&&i(1,V,W,0)!==S.check?-3:Z(j,V,W,W)?(S.mode=31,-4):(S.havedict=1,0):c},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var c in a)a.hasOwnProperty(c)&&(o[c]=a[c])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var n={arraySet:function(o,s,a,c,d){if(s.subarray&&o.subarray)o.set(s.subarray(a,a+c),d);else for(var g=0;g<c;g++)o[d+g]=s[a+g]},flattenChunks:function(o){var s,a,c,d,g,v;for(c=0,s=0,a=o.length;s<a;s++)c+=o[s].length;for(v=new Uint8Array(c),d=0,s=0,a=o.length;s<a;s++)g=o[s],v.set(g,d),d+=g.length;return v}},i={arraySet:function(o,s,a,c,d){for(var g=0;g<c;g++)o[d+g]=s[a+g]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(r)},function(t,e){t.exports=function(r,n,i,o){for(var s=65535&r|0,a=r>>>16&65535|0,c=0;i!==0;){i-=c=i>2e3?2e3:i;do a=a+(s=s+n[o++]|0)|0;while(--c);s%=65521,a%=65521}return s|a<<16|0}},function(t,e){var r=function(){for(var n,i=[],o=0;o<256;o++){n=o;for(var s=0;s<8;s++)n=1&n?3988292384^n>>>1:n>>>1;i[o]=n}return i}();t.exports=function(n,i,o,s){var a=r,c=s+o;n^=-1;for(var d=s;d<c;d++)n=n>>>8^a[255&(n^i[d])];return-1^n}},function(t,e){t.exports=function(r,n){var i,o,s,a,c,d,g,v,p,w,b,I,k,A,D,Y,H,Z,j,V,S,W,re,X,le;i=r.state,o=r.next_in,X=r.input,s=o+(r.avail_in-5),a=r.next_out,le=r.output,c=a-(n-r.avail_out),d=a+(r.avail_out-257),g=i.dmax,v=i.wsize,p=i.whave,w=i.wnext,b=i.window,I=i.hold,k=i.bits,A=i.lencode,D=i.distcode,Y=(1<<i.lenbits)-1,H=(1<<i.distbits)-1;e:do{k<15&&(I+=X[o++]<<k,k+=8,I+=X[o++]<<k,k+=8),Z=A[I&Y];t:for(;;){if(I>>>=j=Z>>>24,k-=j,(j=Z>>>16&255)==0)le[a++]=65535&Z;else{if(!(16&j)){if((64&j)==0){Z=A[(65535&Z)+(I&(1<<j)-1)];continue t}if(32&j){i.mode=12;break e}r.msg="invalid literal/length code",i.mode=30;break e}V=65535&Z,(j&=15)&&(k<j&&(I+=X[o++]<<k,k+=8),V+=I&(1<<j)-1,I>>>=j,k-=j),k<15&&(I+=X[o++]<<k,k+=8,I+=X[o++]<<k,k+=8),Z=D[I&H];r:for(;;){if(I>>>=j=Z>>>24,k-=j,!(16&(j=Z>>>16&255))){if((64&j)==0){Z=D[(65535&Z)+(I&(1<<j)-1)];continue r}r.msg="invalid distance code",i.mode=30;break e}if(S=65535&Z,k<(j&=15)&&(I+=X[o++]<<k,(k+=8)<j&&(I+=X[o++]<<k,k+=8)),(S+=I&(1<<j)-1)>g){r.msg="invalid distance too far back",i.mode=30;break e}if(I>>>=j,k-=j,S>(j=a-c)){if((j=S-j)>p&&i.sane){r.msg="invalid distance too far back",i.mode=30;break e}if(W=0,re=b,w===0){if(W+=v-j,j<V){V-=j;do le[a++]=b[W++];while(--j);W=a-S,re=le}}else if(w<j){if(W+=v+w-j,(j-=w)<V){V-=j;do le[a++]=b[W++];while(--j);if(W=0,w<V){V-=j=w;do le[a++]=b[W++];while(--j);W=a-S,re=le}}}else if(W+=w-j,j<V){V-=j;do le[a++]=b[W++];while(--j);W=a-S,re=le}for(;V>2;)le[a++]=re[W++],le[a++]=re[W++],le[a++]=re[W++],V-=3;V&&(le[a++]=re[W++],V>1&&(le[a++]=re[W++]))}else{W=a-S;do le[a++]=le[W++],le[a++]=le[W++],le[a++]=le[W++],V-=3;while(V>2);V&&(le[a++]=le[W++],V>1&&(le[a++]=le[W++]))}break}}break}}while(o<s&&a<d);o-=V=k>>3,I&=(1<<(k-=V<<3))-1,r.next_in=o,r.next_out=a,r.avail_in=o<s?s-o+5:5-(o-s),r.avail_out=a<d?d-a+257:257-(a-d),i.hold=I,i.bits=k}},function(t,e,r){var n=r(33),i=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(d,g,v,p,w,b,I,k){var A,D,Y,H,Z,j,V,S,W,re=k.bits,X=0,le=0,ae=0,ye=0,P=0,F=0,ie=0,U=0,z=0,J=0,ue=null,oe=0,ne=new n.Buf16(16),se=new n.Buf16(16),pe=null,Se=0;for(X=0;X<=i;X++)ne[X]=0;for(le=0;le<p;le++)ne[g[v+le]]++;for(P=re,ye=i;ye>=1&&ne[ye]===0;ye--);if(P>ye&&(P=ye),ye===0)return w[b++]=20971520,w[b++]=20971520,k.bits=1,0;for(ae=1;ae<ye&&ne[ae]===0;ae++);for(P<ae&&(P=ae),U=1,X=1;X<=i;X++)if(U<<=1,(U-=ne[X])<0)return-1;if(U>0&&(d===0||ye!==1))return-1;for(se[1]=0,X=1;X<i;X++)se[X+1]=se[X]+ne[X];for(le=0;le<p;le++)g[v+le]!==0&&(I[se[g[v+le]]++]=le);if(d===0?(ue=pe=I,j=19):d===1?(ue=o,oe-=257,pe=s,Se-=257,j=256):(ue=a,pe=c,j=-1),J=0,le=0,X=ae,Z=b,F=P,ie=0,Y=-1,H=(z=1<<P)-1,d===1&&z>852||d===2&&z>592)return 1;for(;;){V=X-ie,I[le]<j?(S=0,W=I[le]):I[le]>j?(S=pe[Se+I[le]],W=ue[oe+I[le]]):(S=96,W=0),A=1<<X-ie,ae=D=1<<F;do w[Z+(J>>ie)+(D-=A)]=V<<24|S<<16|W|0;while(D!==0);for(A=1<<X-1;J&A;)A>>=1;if(A!==0?(J&=A-1,J+=A):J=0,le++,--ne[X]==0){if(X===ye)break;X=g[v+I[le]]}if(X>P&&(J&H)!==Y){for(ie===0&&(ie=P),Z+=ae,U=1<<(F=X-ie);F+ie<ye&&!((U-=ne[F+ie])<=0);)F++,U<<=1;if(z+=1<<F,d===1&&z>852||d===2&&z>592)return 1;w[Y=J&H]=P<<24|F<<16|Z-b|0}}return J!==0&&(w[Z+J]=X-ie<<24|64<<16|0),k.bits=P,0}},function(t,e,r){var n=r(33),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var s=new n.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function c(d,g){if(g<65537&&(d.subarray&&o||!d.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(d,g));for(var v="",p=0;p<g;p++)v+=String.fromCharCode(d[p]);return v}s[254]=s[254]=1,e.string2buf=function(d){var g,v,p,w,b,I=d.length,k=0;for(w=0;w<I;w++)(64512&(v=d.charCodeAt(w)))==55296&&w+1<I&&(64512&(p=d.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(p-56320),w++),k+=v<128?1:v<2048?2:v<65536?3:4;for(g=new n.Buf8(k),b=0,w=0;b<k;w++)(64512&(v=d.charCodeAt(w)))==55296&&w+1<I&&(64512&(p=d.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(p-56320),w++),v<128?g[b++]=v:v<2048?(g[b++]=192|v>>>6,g[b++]=128|63&v):v<65536?(g[b++]=224|v>>>12,g[b++]=128|v>>>6&63,g[b++]=128|63&v):(g[b++]=240|v>>>18,g[b++]=128|v>>>12&63,g[b++]=128|v>>>6&63,g[b++]=128|63&v);return g},e.buf2binstring=function(d){return c(d,d.length)},e.binstring2buf=function(d){for(var g=new n.Buf8(d.length),v=0,p=g.length;v<p;v++)g[v]=d.charCodeAt(v);return g},e.buf2string=function(d,g){var v,p,w,b,I=g||d.length,k=new Array(2*I);for(p=0,v=0;v<I;)if((w=d[v++])<128)k[p++]=w;else if((b=s[w])>4)k[p++]=65533,v+=b-1;else{for(w&=b===2?31:b===3?15:7;b>1&&v<I;)w=w<<6|63&d[v++],b--;b>1?k[p++]=65533:w<65536?k[p++]=w:(w-=65536,k[p++]=55296|w>>10&1023,k[p++]=56320|1023&w)}return c(k,p)},e.utf8border=function(d,g){var v;for((g=g||d.length)>d.length&&(g=d.length),v=g-1;v>=0&&(192&d[v])==128;)v--;return v<0||v===0?g:v+s[d[v]]>g?v:g}},function(t,e){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}])},Ra.exports=_w();Wu=!1,Ye=Ra.exports.BFSRequire("fs");Ra.exports.BFSRequire("buffer").Buffer;n0=async(t=["data","projects","extensions","settings","plugins"],e=()=>{},r=()=>{})=>!!Wu||new Promise(n=>{Ye.getRootFS(),Ra.exports.FileSystem.IndexedDB.Create({},(i,o)=>{if(i)throw i;if(!o)throw r(),new Error("Error creating BrowserFS");Ra.exports.initialize(o);let s=[];t.forEach(async a=>{s.push(o0(Ye,a))}),Promise.all(s).then(a=>{e(),Wu=!0,n(!0)})})});i0=async(t,e="data",r=n=>{console.log(n)})=>new Promise(n=>{Ye.stat("/"+e+"/"+t,(i,o)=>{if(i)throw i;let s=o.size;r(s),n(s)})}),bw=async(t="",e="data",r=(n,i)=>{console.log(n,i)})=>new Promise(n=>{Ye.open("/"+e+"/"+t,"r",(i,o)=>{if(i)throw i;Ye.read(o,65535,0,"utf-8",(s,a,c)=>{if(s)throw s;if(c!==0){let d=a.toString().split(`
`)[0];Ye.close(o,()=>{r(d,t),n(d)})}else n(void 0)})})}),Ew=async(t="data",e=n=>{},r)=>new Promise(n=>{Ye.readdir("/"+t,(i,o)=>{if(i)throw i;o&&(console.log("files",o),e(o)),n(o)})}),Go={},o0=async(t,e)=>new Promise(r=>{Go[e]==="exists"||Go[e]==="created"?r():t.exists(`/${e}`,n=>{n?(Go[e]="exists",console.log(`/${e} exists!`),r()):Go[e]==="creating"?(console.log(e+" is still being created."),r()):(console.log("creating "+e),Go[e]="creating",t.mkdir(e,i=>{if(i)throw i;Go[e]="created",setTimeout(r,500)}))})}),zi=Object.freeze({__proto__:null,fs:Ye,initFS:n0,exists:async(t="",e="data")=>new Promise(r=>{Ye.exists("/"+e+"/"+t,function(n){r(n)})}),readFile:async(t="sessionName",e="data")=>(Wu||await n0(),new Promise(r=>{Ye.readFile("/"+e+"/"+t,function(n,i){r(i)})})),readFileChunk:Sw,getFilenames:(t=r=>{},e="/data")=>new Promise(r=>{Ye.readdir(e,(n,i)=>{if(n)throw n;i?(console.log("files",i),t(i),r(i)):r(void 0)})}),writeFile:async(t,e,r="data",n=i=>{})=>new Promise(i=>{Ye.writeFile("/"+r+"/"+t,e,o=>{if(o)throw o;n(e),i(!0)})}),appendFile:async(t,e,r="data",n=i=>{})=>new Promise(i=>{Ye.appendFile("/"+r+"/"+t,e,o=>{if(o)throw o;n(e),i(!0)})}),deleteFile:(t="sessionName",e="data",r=Ew)=>new Promise(n=>{t!=""?Ye.unlink("/"+e+"/"+t,i=>{i&&console.error(i),r(),n(!0)}):(console.error("Path name is not defined"),n(!1))}),readFileAsText:async(t="sessionName.csv",e="data",r="end",n=0,i=(o,s)=>{})=>new Promise(async o=>{let s=await i0(t,e);(r==="end"||typeof r=="number"&&r>s)&&(r=s),Ye.open("/"+e+"/"+t,"r",(a,c)=>{if(a)throw a;Ye.read(c,r,n,"utf-8",(d,g,v)=>{if(d)throw d;if(v!==0){let p=g.toString();Ye.close(c,()=>{i(p,t),o(p)})}else o(void 0)})})}),getFileSize:i0,getCSVHeader:bw,listFiles:Ew,writeToCSVFromDB:async(t="sessionName",e="data",r=10)=>new Promise(n=>{t!=""?Ye.stat("/"+e+"/"+t,(i,o)=>{if(i)throw i;let s=o.size;console.log(s),Ye.open(e+"/"+t,"r",(a,c)=>{if(a)throw a;let d=1024*r*1024,g=d;s<d&&(g=s,Ye.read(c,g,0,"utf-8",(v,p,w)=>{if(v)throw v;w!==0&&Ia.saveCSV(p.toString(),t),Ye.close(c),n(!0)}))})}):(console.error("File name is not defined."),n(!1))}),readCSVChunkFromDB:async function(t,e="data",r=0,n="end"){let i=await bw(t);if(!i)return;i=i.split(",");let o=[],s=[],a={};i.forEach(v=>{v?(s.push(v),o.push(1)):o[o.length-1]++});let c=await i0(t,e);n==="end"?n=c:n>c&&(r=c-(n-r),n=c);let d=await Sw(t,e,r,n),g=0;return d.forEach((v,p)=>{let w=v.split(",");for(;g<w.length-1;){let b=o[0];b===1?(a[s[0]].push(w[g]),g++):(a[s[0]].push(w[g].slice(g,b)),g+=b)}}),a},saveToFS:async(t,e="sessionName",r="data")=>(Wu||await n0(),new Promise(async n=>{await o0(Ye,r),Ye.writeFile("/"+r+"/"+e,t,i=>{if(i)throw i;n(t)})})),dirExists:o0});WT=Object.freeze({__proto__:null,checkFolder:s0,createDriveFolder:function(t="Brainsatplay_Data"){let e=new Object;e.name=t,e.mimeType="application/vnd.google-apps.folder",window.gapi.client.drive.files.create({resource:e}).then(r=>{console.log(r.result)})},backupToDrive:(t,e="/data")=>{window.gapi.auth2.getAuthInstance().isSignedIn.get()?Ye.readFile(e+"/"+t,(r,n)=>{if(r)throw r;let i=new Blob([n.toString()],{type:"text/csv"});s0(o=>{let s={name:t+".csv",mimeType:"application/vnd.google-apps.spreadsheet",parents:[o.files[0].id]},a=window.gapi.auth.getToken().access_token;var c=new FormData;c.append("metadata",new Blob([JSON.stringify(s)],{type:"application/json"})),c.append("file",i);var d=new XMLHttpRequest;d.open("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id"),d.setRequestHeader("Authorization","Bearer "+a),d.responseType="json",d.onload=()=>{console.log("Uploaded file id: ",d.response.id),xw()},d.send(c)})}):alert("Sign in with Google first!")},listDriveFiles:xw});a0.regex=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;qT=Object.freeze({__proto__:null,dataURLtoBlob:function(t){if(a0(t)){for(var e=t.split(","),r=e[0].match(/:(.*?);/)[1],n=atob(e[1]),i=n.length,o=new Uint8Array(i);i--;)o[i]=n.charCodeAt(i);return new Blob([o],{type:r})}},blobToDataURL:function(t,e){var r=new FileReader;r.onload=function(n){e(n.target.result)},r.readAsDataURL(t)},dataToBlob:async function(t,e="text/plain",r=256e3){let n={filename,data:new Blob([t],{filetype:e})};if(Object.assign(n,props),n.data.size>r){let i=n.data.size,o=0,s=0,a=[];for(;o<i;){let c,d=o+r;if(d>i&&(d=i),c=e==="text/plain"?await n.data.slice(o,d).text():await n.data.slice(o,d).arrayBuffer(),c){let g={filename,data:new Blob([c],{type:e}),chunk:s,start:o,end:d};Object.assign(g,props),a.push(g)}o+=r,s++}return a}return n}});typeof minimongo<"u"&&(kw=Nw());Nw=t=>{try{t=new minimongo.IndexedDb}catch{try{t=new minimongo.LocalStorageDb}catch{try{t=new minimongo.MemoryDb}catch{console.error("No DB created!")}}}return t},Tw=async(t,e)=>{let r=t[e].find(),n=[];return await r.count()>0&&await Promise.all(r.map(async i=>{i.chunk!==void 0?i.chunk===0&&n.push(i.filename):n.push(i.filename)})),n},_O=Tw,Ow=async(t,e,r)=>{let n,i=t[e].find({filename:r});if(await i.count()>0){let o={};await Promise.all(i.map(async a=>{let c=await a.data.text();a.chunk!==void 0?o[a.chunk]=c:o[0]=c}));let s=Object.keys(o).length;for(let a=0;a<s;a++)n+=o[a]}return n},$T=Object.freeze({__proto__:null,get db(){return kw},localDB:Nw,remoteDB:(t,e,r,n,i,o)=>new minimongo.RemoteDb(e,r,n,i,o),connectDB:(t,e,r,n,i,o)=>{let s=new minimongo.RemoteDb(e,r,n,i,o);return t=new minimongo.HybridDb(t,s)},readData:async(t,e="",r={})=>{if(e)return t[e]||t.addCollection(e),await t[e].findOne(r)},writeData:async(t,e,r={},n=o=>{},i=o=>{})=>{if(e)return t[e]||t.addCollection(e),await t[e].upsert(r,n,i)},readFile:async(t,e,r="")=>{if(!t[e])return;let n,i={filename:r},o=t[e].find(i);return await o.count()>0&&(n=[],await Promise.all(o.map(async s=>{n.push(s)}))),n},readFileChunk:async(t,e,r="",n,i,o,s=d=>{},a=d=>{},c)=>{if(!t[e])return;let d={filename:r};return n&&(d.chunk=n),i&&(d.start=i),o&&(d.end=o),n||i&&o?await t[e].findOne(d,c,s,a):void 0},writeFile:async(t,e,r="",n,i=d=>{},o=d=>{},s={},a="text/plain",c=256e3)=>{let d=t[e].find({filename:r});await d.count()>0&&await Promise.all(d.map(async v=>{t[e].remove(v._id)}));let g={filename:r,data:new Blob([n],{filetype:a})};if(Object.assign(g,s),g.data.size>c){let v=g.data.size,p=0,w=0;for(;p<v;){let b,I=p+c;if(I>v&&(I=v),b=a==="text/plain"?await g.data.slice(p,I).text():await g.data.slice(p,I).arrayBuffer(),b){let k={filename:r,data:new Blob([b],{type:a}),chunk:w,start:p,end:I};Object.assign(k,s),t[e].upsert(k,i,o)}p+=c,w++}}else t[e].upsert(g,i,o)},appendFile:async(t,e,r="",n,i=d=>{},o=d=>{},s={},a="text/plain",c=256e3)=>{let d=t[e].find({filename:r}),g=await d.count(),v=0,p={filename:r,data:new Blob([n],{filetype:a})};if(Object.assign(p,s),g>0)if(await Promise.all(d.map(async w=>{v+=w.size})),p.data.size>c){let w=v,b=g;for(;w<p.data.size+v;){let I,k=w+c;if(k>v&&(k=v),I=a==="text/plain"?await p.data.slice(w,k).text():await p.data.slice(w,k).arrayBuffer(),I){let A={filename:r,data:new Blob([I],{type:a}),chunk:b,start:w,end:k,size:k-w};Object.assign(A,s),t[e].upsert(A,i,o)}w+=c,b++}}else p.chunk=g,p.start=v,p.end=v+p.data.size,t[e].upsert(p,i,o);else t[e].upsert(p,i,o)},getFilenames:Tw,listFiles:_O,getFileSize:async(t,e,r)=>{let n=t[e].find({filename:r}),i=await n.count(),o=0;return i>0&&await Promise.all(n.map(async s=>{o+=s.size})),o},deleteFile:async(t,e,r)=>await t[e].remove(r),writeToCSVFromDB:async(t,e,r)=>{let n=await Ow(e,r);Ia.saveCSV(n,r)},getCSVHeader:async(t,e,r)=>{let n,i=t[e].find({filename:r});return await i.count()>0&&await Promise.all(i.map(async o=>{if(o.chunk!==void 0&&o.chunk===0){let s=await o.data.text();n=s.substring(0,s.indexOf(`
`))}})),n},readFileAsText:Ow})});function SO(t="state.json",e=Br){e.subscribe("state",r=>{zi.writeFile(t,JSON.stringify(r),"data")})}function Yo(n){return te(this,arguments,function*(t,e="state.json",r=Br){yield zi.initFS(["data"]),yield zi.dirExists(zi.fs,"data");let i=yield new Promise(s=>{zi.fs.exists("/data/"+e,a=>{s(a)})}),o;if(i){o=yield zi.readFileAsText("state.json","data");try{let s=JSON.parse(o);typeof s=="object"&&(s.loggedInId&&s.loggedInId===(t==null?void 0:t._id)||!s.loggedInId)&&r.setState(s)}catch(s){console.error(s)}}return SO(e,r),o})}var Br,Fa=Ge(()=>{ww();Aw();Br=new r0({route:"/",isLoggedIn:!1,appInitialized:!1,loggedInId:void 0})});function bO(t,e){return e={exports:{}},t(e,e.exports),e.exports}function qw(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function NO(t){var e=qw(t),r=e[0],n=e[1];return(r+n)*3/4-n}function TO(t,e,r){return(e+r)*3/4-r}function AO(t){var e,r=qw(t),n=r[0],i=r[1],o=new kO(TO(t,n,i)),s=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=zr[t.charCodeAt(c)]<<18|zr[t.charCodeAt(c+1)]<<12|zr[t.charCodeAt(c+2)]<<6|zr[t.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=zr[t.charCodeAt(c)]<<2|zr[t.charCodeAt(c+1)]>>4,o[s++]=e&255),i===1&&(e=zr[t.charCodeAt(c)]<<10|zr[t.charCodeAt(c+1)]<<4|zr[t.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function IO(t){return yn[t>>18&63]+yn[t>>12&63]+yn[t>>6&63]+yn[t&63]}function RO(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(IO(n));return i.join("")}function FO(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(RO(t,s,s+o>a?a:s+o));return n===1?(e=t[r-1],i.push(yn[e>>2]+yn[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(yn[e>>10]+yn[e>>4&63]+yn[e<<2&63]+"=")),i.join("")}function g0(t,e){p0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function qu(t){return t&&t.Math==Math&&t}function $w(){return qu(typeof globalThis=="object"&&globalThis)||qu(typeof window=="object"&&window)||qu(typeof self=="object"&&self)||qu(typeof global=="object"&&global)||Function("return this")()}function LO(){var t=$w();return typeof t.navigator=="object"&&t.navigator.product==="ReactNative"}function jO(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}function m0(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function BO(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function UO(t){return Pa(t)&&Object.prototype.toString.call(t)==="[object Date]"}function Pa(t){return typeof t=="object"&&t!==null}function Ju(t,e){var r=!1;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r||(console.warn(e),r=!0),t.apply(this,i)}return n}function $u(t){if(ArrayBuffer.isView(t))return We.from(t.buffer,t.byteOffset,t.byteLength);if(jO(t))return We.from(t);throw new mt("Must use either Buffer or TypedArray")}function VO(t){return Pa(t)&&t.$id!=null&&typeof t.$ref=="string"&&(t.$db==null||typeof t.$db=="string")}function Uw(t){return!isNaN(parseInt(t,10))}function XO(t){var e=xe.fromNumber(1e9),r=xe.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:r};for(var n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new xe(t.parts[n],0)),t.parts[n]=r.div(e).low,r=r.modulo(e);return{quotient:t,rem:r}}function QO(t,e){if(!t&&!e)return{high:xe.fromNumber(0),low:xe.fromNumber(0)};var r=t.shiftRightUnsigned(32),n=new xe(t.getLowBits(),0),i=e.shiftRightUnsigned(32),o=new xe(e.getLowBits(),0),s=r.multiply(i),a=r.multiply(o),c=n.multiply(i),d=n.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new xe(a.getLowBits(),0).add(c).add(d.shiftRightUnsigned(32)),s=s.add(a.shiftRightUnsigned(32)),d=a.shiftLeft(32).add(new xe(d.getLowBits(),0)),{high:s,low:d}}function e5(t,e){var r=t.high>>>0,n=e.high>>>0;if(r<n)return!0;if(r===n){var i=t.low>>>0,o=e.low>>>0;if(i<o)return!0}return!1}function Zo(t,e){throw new mt('"'+t+'" is not a valid Decimal128 string - '+e)}function r5(t){return t.split("").sort().join("")}function i5(t){return Pa(t)&&Reflect.has(t,"_bsontype")&&typeof t._bsontype=="string"}function t_(t,e){if(e===void 0&&(e={}),typeof t=="number"){if(e.relaxed||e.legacy)return t;if(Math.floor(t)===t){if(t>=Xw&&t<=Zw)return new Ku(t);if(t>=e_&&t<=Qw)return xe.fromNumber(t)}return new Yu(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;for(var r=Object.keys(t).filter(function(v){return v.startsWith("$")&&t[v]!=null}),n=0;n<r.length;n++){var i=o5[r[n]];if(i)return i.fromExtendedJSON(t,e)}if(t.$date!=null){var o=t.$date,s=new Date;return e.legacy?typeof o=="number"?s.setTime(o):typeof o=="string"&&s.setTime(Date.parse(o)):typeof o=="string"?s.setTime(Date.parse(o)):xe.isLong(o)?s.setTime(o.toNumber()):typeof o=="number"&&e.relaxed&&s.setTime(o),s}if(t.$code!=null){var a=Object.assign({},t);return t.$scope&&(a.$scope=t_(t.$scope)),Gu.fromExtendedJSON(t)}if(VO(t)||t.$dbPointer){var c=t.$ref?t:t.$dbPointer;if(c instanceof Ca)return c;var d=Object.keys(c).filter(function(v){return v.startsWith("$")}),g=!0;if(d.forEach(function(v){["$ref","$id","$db"].indexOf(v)===-1&&(g=!1)}),g)return Ca.fromExtendedJSON(c)}return t}function s5(t,e){return t.map(function(r,n){e.seenObjects.push({propertyName:"index "+n,obj:null});try{return si(r,e)}finally{e.seenObjects.pop()}})}function zw(t){var e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function si(t,e){if((typeof t=="object"||typeof t=="function")&&t!==null){var r=e.seenObjects.findIndex(function(A){return A.obj===t});if(r!==-1){var n=e.seenObjects.map(function(A){return A.propertyName}),i=n.slice(0,r).map(function(A){return A+" -> "}).join(""),o=n[r],s=" -> "+n.slice(r+1,n.length-1).map(function(A){return A+" -> "}).join(""),a=n[n.length-1],c=" ".repeat(i.length+o.length/2),d="-".repeat(s.length+(o.length+a.length)/2-1);throw new mt(`Converting circular structure to EJSON:
`+("    "+i+o+s+a+`
`)+("    "+c+"\\"+d+"/"))}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return s5(t,e);if(t===void 0)return null;if(t instanceof Date||UO(t)){var g=t.getTime(),v=g>-1&&g<2534023188e5;return e.legacy?e.relaxed&&v?{$date:t.getTime()}:{$date:zw(t)}:e.relaxed&&v?{$date:zw(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Math.floor(t)===t){var p=t>=Xw&&t<=Zw,w=t>=e_&&t<=Qw;if(p)return{$numberInt:t.toString()};if(w)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp||BO(t)){var b=t.flags;if(b===void 0){var I=t.toString().match(/[gimuy]*$/);I&&(b=I[0])}var k=new La(t.source,b);return k.toExtendedJSON(e)}return t!=null&&typeof t=="object"?l5(t,e):t}function l5(t,e){if(t==null||typeof t!="object")throw new qi("not an object instance");var r=t._bsontype;if(typeof r>"u"){var n={};for(var i in t){e.seenObjects.push({propertyName:i,obj:null});try{n[i]=si(t[i],e)}finally{e.seenObjects.pop()}}return n}else if(i5(t)){var o=t;if(typeof o.toExtendedJSON!="function"){var s=a5[t._bsontype];if(!s)throw new mt("Unrecognized or invalid _bsontype: "+t._bsontype);o=s(o)}return r==="Code"&&o.scope?o=new Gu(o.code,si(o.scope,e)):r==="DBRef"&&o.oid&&(o=new Ca(si(o.collection,e),si(o.oid,e),si(o.db,e),si(o.fields,e))),o.toExtendedJSON(e)}else throw new qi("_bsontype must be a string, but was: "+typeof r)}var EO,xO,OO,yn,zr,kO,l0,Vi,Iw,u0,DO,CO,Ko,Hu,We,p0,qi,mt,PO,MO,Hw,zO,Jw,y0,Rw,c0,f0,Gw,$i,Gu,Ca,Ur,Fw,WO,Qo,Yw,Dw,Cw,Lw,xe,qO,$O,HO,Da,h0,Pw,JO,d0,Mw,jw,GO,YO,Bw,KO,ZO,v0,Yu,Ku,w0,_0,t5,Wi,Xo,fr,La,S0,n5,Kw,Zw,Xw,Qw,e_,o5,a5,ai,Vw,Ww,KT,ZT,u5,c5,XT,QT,f5,e8,b0=Ge(()=>{EO=NO,xO=AO,OO=FO,yn=[],zr=[],kO=typeof Uint8Array<"u"?Uint8Array:Array,l0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Vi=0,Iw=l0.length;Vi<Iw;++Vi)yn[Vi]=l0[Vi],zr[l0.charCodeAt(Vi)]=Vi;zr["-".charCodeAt(0)]=62;zr["_".charCodeAt(0)]=63;u0={byteLength:EO,toByteArray:xO,fromByteArray:OO};DO=function(e,r,n,i,o){var s,a,c=o*8-i-1,d=(1<<c)-1,g=d>>1,v=-7,p=n?o-1:0,w=n?-1:1,b=e[r+p];for(p+=w,s=b&(1<<-v)-1,b>>=-v,v+=c;v>0;s=s*256+e[r+p],p+=w,v-=8);for(a=s&(1<<-v)-1,s>>=-v,v+=i;v>0;a=a*256+e[r+p],p+=w,v-=8);if(s===0)s=1-g;else{if(s===d)return a?NaN:(b?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-g}return(b?-1:1)*a*Math.pow(2,s-i)},CO=function(e,r,n,i,o,s){var a,c,d,g=s*8-o-1,v=(1<<g)-1,p=v>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=i?0:s-1,I=i?1:-1,k=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,a=v):(a=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+p>=1?r+=w/d:r+=w*Math.pow(2,1-p),r*d>=2&&(a++,d/=2),a+p>=v?(c=0,a=v):a+p>=1?(c=(r*d-1)*Math.pow(2,o),a=a+p):(c=r*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+b]=c&255,b+=I,c/=256,o-=8);for(a=a<<o|c,g+=o;g>0;e[n+b]=a&255,b+=I,a/=256,g-=8);e[n+b-I]|=k*128},Ko={read:DO,write:CO},Hu=bO(function(t,e){var r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=A,e.INSPECT_MAX_BYTES=50;var n=2147483647;e.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var C=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(C,E),C.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function o(C){if(C>n)throw new RangeError('The value "'+C+'" is invalid for option "size"');var E=new Uint8Array(C);return Object.setPrototypeOf(E,s.prototype),E}function s(C,E,N){if(typeof C=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(C)}return a(C,E,N)}s.poolSize=8192;function a(C,E,N){if(typeof C=="string")return v(C,E);if(ArrayBuffer.isView(C))return w(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(C));if(K(C,ArrayBuffer)||C&&K(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(K(C,SharedArrayBuffer)||C&&K(C.buffer,SharedArrayBuffer)))return b(C,E,N);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var B=C.valueOf&&C.valueOf();if(B!=null&&B!==C)return s.from(B,E,N);var ee=I(C);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return s.from(C[Symbol.toPrimitive]("string"),E,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(C))}s.from=function(C,E,N){return a(C,E,N)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function d(C,E,N){return c(C),C<=0?o(C):E!==void 0?typeof N=="string"?o(C).fill(E,N):o(C).fill(E):o(C)}s.alloc=function(C,E,N){return d(C,E,N)};function g(C){return c(C),o(C<0?0:k(C)|0)}s.allocUnsafe=function(C){return g(C)},s.allocUnsafeSlow=function(C){return g(C)};function v(C,E){if((typeof E!="string"||E==="")&&(E="utf8"),!s.isEncoding(E))throw new TypeError("Unknown encoding: "+E);var N=D(C,E)|0,B=o(N),ee=B.write(C,E);return ee!==N&&(B=B.slice(0,ee)),B}function p(C){for(var E=C.length<0?0:k(C.length)|0,N=o(E),B=0;B<E;B+=1)N[B]=C[B]&255;return N}function w(C){if(K(C,Uint8Array)){var E=new Uint8Array(C);return b(E.buffer,E.byteOffset,E.byteLength)}return p(C)}function b(C,E,N){if(E<0||C.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<E+(N||0))throw new RangeError('"length" is outside of buffer bounds');var B;return E===void 0&&N===void 0?B=new Uint8Array(C):N===void 0?B=new Uint8Array(C,E):B=new Uint8Array(C,E,N),Object.setPrototypeOf(B,s.prototype),B}function I(C){if(s.isBuffer(C)){var E=k(C.length)|0,N=o(E);return N.length===0||C.copy(N,0,0,E),N}if(C.length!==void 0)return typeof C.length!="number"||G(C.length)?o(0):p(C);if(C.type==="Buffer"&&Array.isArray(C.data))return p(C.data)}function k(C){if(C>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return C|0}function A(C){return+C!=C&&(C=0),s.alloc(+C)}s.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==s.prototype},s.compare=function(E,N){if(K(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),K(N,Uint8Array)&&(N=s.from(N,N.offset,N.byteLength)),!s.isBuffer(E)||!s.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===N)return 0;for(var B=E.length,ee=N.length,fe=0,he=Math.min(B,ee);fe<he;++fe)if(E[fe]!==N[fe]){B=E[fe],ee=N[fe];break}return B<ee?-1:ee<B?1:0},s.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(E,N){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return s.alloc(0);var B;if(N===void 0)for(N=0,B=0;B<E.length;++B)N+=E[B].length;var ee=s.allocUnsafe(N),fe=0;for(B=0;B<E.length;++B){var he=E[B];if(K(he,Uint8Array))fe+he.length>ee.length?s.from(he).copy(ee,fe):Uint8Array.prototype.set.call(ee,he,fe);else if(s.isBuffer(he))he.copy(ee,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=he.length}return ee};function D(C,E){if(s.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||K(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(C));var N=C.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&N===0)return 0;for(var ee=!1;;)switch(E){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return Te(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return M(C).length;default:if(ee)return B?-1:Te(C).length;E=(""+E).toLowerCase(),ee=!0}}s.byteLength=D;function Y(C,E,N){var B=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,E>>>=0,N<=E))return"";for(C||(C="utf8");;)switch(C){case"hex":return U(this,E,N);case"utf8":case"utf-8":return ae(this,E,N);case"ascii":return F(this,E,N);case"latin1":case"binary":return ie(this,E,N);case"base64":return le(this,E,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,E,N);default:if(B)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),B=!0}}s.prototype._isBuffer=!0;function H(C,E,N){var B=C[E];C[E]=C[N],C[N]=B}s.prototype.swap16=function(){var E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<E;N+=2)H(this,N,N+1);return this},s.prototype.swap32=function(){var E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<E;N+=4)H(this,N,N+3),H(this,N+1,N+2);return this},s.prototype.swap64=function(){var E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<E;N+=8)H(this,N,N+7),H(this,N+1,N+6),H(this,N+2,N+5),H(this,N+3,N+4);return this},s.prototype.toString=function(){var E=this.length;return E===0?"":arguments.length===0?ae(this,0,E):Y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(E){if(!s.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:s.compare(this,E)===0},s.prototype.inspect=function(){var E="",N=e.INSPECT_MAX_BYTES;return E=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(E+=" ... "),"<Buffer "+E+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(E,N,B,ee,fe){if(K(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),!s.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(E));if(N===void 0&&(N=0),B===void 0&&(B=E?E.length:0),ee===void 0&&(ee=0),fe===void 0&&(fe=this.length),N<0||B>E.length||ee<0||fe>this.length)throw new RangeError("out of range index");if(ee>=fe&&N>=B)return 0;if(ee>=fe)return-1;if(N>=B)return 1;if(N>>>=0,B>>>=0,ee>>>=0,fe>>>=0,this===E)return 0;for(var he=fe-ee,Fe=B-N,Ie=Math.min(he,Fe),Je=this.slice(ee,fe),Nt=E.slice(N,B),Qe=0;Qe<Ie;++Qe)if(Je[Qe]!==Nt[Qe]){he=Je[Qe],Fe=Nt[Qe];break}return he<Fe?-1:Fe<he?1:0};function Z(C,E,N,B,ee){if(C.length===0)return-1;if(typeof N=="string"?(B=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,G(N)&&(N=ee?0:C.length-1),N<0&&(N=C.length+N),N>=C.length){if(ee)return-1;N=C.length-1}else if(N<0)if(ee)N=0;else return-1;if(typeof E=="string"&&(E=s.from(E,B)),s.isBuffer(E))return E.length===0?-1:j(C,E,N,B,ee);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(C,E,N):Uint8Array.prototype.lastIndexOf.call(C,E,N):j(C,[E],N,B,ee);throw new TypeError("val must be string, number or Buffer")}function j(C,E,N,B,ee){var fe=1,he=C.length,Fe=E.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(C.length<2||E.length<2)return-1;fe=2,he/=2,Fe/=2,N/=2}function Ie(gs,gi){return fe===1?gs[gi]:gs.readUInt16BE(gi*fe)}var Je;if(ee){var Nt=-1;for(Je=N;Je<he;Je++)if(Ie(C,Je)===Ie(E,Nt===-1?0:Je-Nt)){if(Nt===-1&&(Nt=Je),Je-Nt+1===Fe)return Nt*fe}else Nt!==-1&&(Je-=Je-Nt),Nt=-1}else for(N+Fe>he&&(N=he-Fe),Je=N;Je>=0;Je--){for(var Qe=!0,io=0;io<Fe;io++)if(Ie(C,Je+io)!==Ie(E,io)){Qe=!1;break}if(Qe)return Je}return-1}s.prototype.includes=function(E,N,B){return this.indexOf(E,N,B)!==-1},s.prototype.indexOf=function(E,N,B){return Z(this,E,N,B,!0)},s.prototype.lastIndexOf=function(E,N,B){return Z(this,E,N,B,!1)};function V(C,E,N,B){N=Number(N)||0;var ee=C.length-N;B?(B=Number(B),B>ee&&(B=ee)):B=ee;var fe=E.length;B>fe/2&&(B=fe/2);for(var he=0;he<B;++he){var Fe=parseInt(E.substr(he*2,2),16);if(G(Fe))return he;C[N+he]=Fe}return he}function S(C,E,N,B){return $(Te(E,C.length-N),C,N,B)}function W(C,E,N,B){return $(O(E),C,N,B)}function re(C,E,N,B){return $(M(E),C,N,B)}function X(C,E,N,B){return $(R(E,C.length-N),C,N,B)}s.prototype.write=function(E,N,B,ee){if(N===void 0)ee="utf8",B=this.length,N=0;else if(B===void 0&&typeof N=="string")ee=N,B=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(B)?(B=B>>>0,ee===void 0&&(ee="utf8")):(ee=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var fe=this.length-N;if((B===void 0||B>fe)&&(B=fe),E.length>0&&(B<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var he=!1;;)switch(ee){case"hex":return V(this,E,N,B);case"utf8":case"utf-8":return S(this,E,N,B);case"ascii":case"latin1":case"binary":return W(this,E,N,B);case"base64":return re(this,E,N,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,E,N,B);default:if(he)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),he=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(C,E,N){return E===0&&N===C.length?u0.fromByteArray(C):u0.fromByteArray(C.slice(E,N))}function ae(C,E,N){N=Math.min(C.length,N);for(var B=[],ee=E;ee<N;){var fe=C[ee],he=null,Fe=fe>239?4:fe>223?3:fe>191?2:1;if(ee+Fe<=N){var Ie,Je,Nt,Qe;switch(Fe){case 1:fe<128&&(he=fe);break;case 2:Ie=C[ee+1],(Ie&192)===128&&(Qe=(fe&31)<<6|Ie&63,Qe>127&&(he=Qe));break;case 3:Ie=C[ee+1],Je=C[ee+2],(Ie&192)===128&&(Je&192)===128&&(Qe=(fe&15)<<12|(Ie&63)<<6|Je&63,Qe>2047&&(Qe<55296||Qe>57343)&&(he=Qe));break;case 4:Ie=C[ee+1],Je=C[ee+2],Nt=C[ee+3],(Ie&192)===128&&(Je&192)===128&&(Nt&192)===128&&(Qe=(fe&15)<<18|(Ie&63)<<12|(Je&63)<<6|Nt&63,Qe>65535&&Qe<1114112&&(he=Qe))}}he===null?(he=65533,Fe=1):he>65535&&(he-=65536,B.push(he>>>10&1023|55296),he=56320|he&1023),B.push(he),ee+=Fe}return P(B)}var ye=4096;function P(C){var E=C.length;if(E<=ye)return String.fromCharCode.apply(String,C);for(var N="",B=0;B<E;)N+=String.fromCharCode.apply(String,C.slice(B,B+=ye));return N}function F(C,E,N){var B="";N=Math.min(C.length,N);for(var ee=E;ee<N;++ee)B+=String.fromCharCode(C[ee]&127);return B}function ie(C,E,N){var B="";N=Math.min(C.length,N);for(var ee=E;ee<N;++ee)B+=String.fromCharCode(C[ee]);return B}function U(C,E,N){var B=C.length;(!E||E<0)&&(E=0),(!N||N<0||N>B)&&(N=B);for(var ee="",fe=E;fe<N;++fe)ee+=_e[C[fe]];return ee}function z(C,E,N){for(var B=C.slice(E,N),ee="",fe=0;fe<B.length-1;fe+=2)ee+=String.fromCharCode(B[fe]+B[fe+1]*256);return ee}s.prototype.slice=function(E,N){var B=this.length;E=~~E,N=N===void 0?B:~~N,E<0?(E+=B,E<0&&(E=0)):E>B&&(E=B),N<0?(N+=B,N<0&&(N=0)):N>B&&(N=B),N<E&&(N=E);var ee=this.subarray(E,N);return Object.setPrototypeOf(ee,s.prototype),ee};function J(C,E,N){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+E>N)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(E,N,B){E=E>>>0,N=N>>>0,B||J(E,N,this.length);for(var ee=this[E],fe=1,he=0;++he<N&&(fe*=256);)ee+=this[E+he]*fe;return ee},s.prototype.readUintBE=s.prototype.readUIntBE=function(E,N,B){E=E>>>0,N=N>>>0,B||J(E,N,this.length);for(var ee=this[E+--N],fe=1;N>0&&(fe*=256);)ee+=this[E+--N]*fe;return ee},s.prototype.readUint8=s.prototype.readUInt8=function(E,N){return E=E>>>0,N||J(E,1,this.length),this[E]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(E,N){return E=E>>>0,N||J(E,2,this.length),this[E]|this[E+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(E,N){return E=E>>>0,N||J(E,2,this.length),this[E]<<8|this[E+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(E,N){return E=E>>>0,N||J(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(E,N){return E=E>>>0,N||J(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},s.prototype.readIntLE=function(E,N,B){E=E>>>0,N=N>>>0,B||J(E,N,this.length);for(var ee=this[E],fe=1,he=0;++he<N&&(fe*=256);)ee+=this[E+he]*fe;return fe*=128,ee>=fe&&(ee-=Math.pow(2,8*N)),ee},s.prototype.readIntBE=function(E,N,B){E=E>>>0,N=N>>>0,B||J(E,N,this.length);for(var ee=N,fe=1,he=this[E+--ee];ee>0&&(fe*=256);)he+=this[E+--ee]*fe;return fe*=128,he>=fe&&(he-=Math.pow(2,8*N)),he},s.prototype.readInt8=function(E,N){return E=E>>>0,N||J(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},s.prototype.readInt16LE=function(E,N){E=E>>>0,N||J(E,2,this.length);var B=this[E]|this[E+1]<<8;return B&32768?B|4294901760:B},s.prototype.readInt16BE=function(E,N){E=E>>>0,N||J(E,2,this.length);var B=this[E+1]|this[E]<<8;return B&32768?B|4294901760:B},s.prototype.readInt32LE=function(E,N){return E=E>>>0,N||J(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},s.prototype.readInt32BE=function(E,N){return E=E>>>0,N||J(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},s.prototype.readFloatLE=function(E,N){return E=E>>>0,N||J(E,4,this.length),Ko.read(this,E,!0,23,4)},s.prototype.readFloatBE=function(E,N){return E=E>>>0,N||J(E,4,this.length),Ko.read(this,E,!1,23,4)},s.prototype.readDoubleLE=function(E,N){return E=E>>>0,N||J(E,8,this.length),Ko.read(this,E,!0,52,8)},s.prototype.readDoubleBE=function(E,N){return E=E>>>0,N||J(E,8,this.length),Ko.read(this,E,!1,52,8)};function ue(C,E,N,B,ee,fe){if(!s.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>ee||E<fe)throw new RangeError('"value" argument is out of bounds');if(N+B>C.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(E,N,B,ee){if(E=+E,N=N>>>0,B=B>>>0,!ee){var fe=Math.pow(2,8*B)-1;ue(this,E,N,B,fe,0)}var he=1,Fe=0;for(this[N]=E&255;++Fe<B&&(he*=256);)this[N+Fe]=E/he&255;return N+B},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(E,N,B,ee){if(E=+E,N=N>>>0,B=B>>>0,!ee){var fe=Math.pow(2,8*B)-1;ue(this,E,N,B,fe,0)}var he=B-1,Fe=1;for(this[N+he]=E&255;--he>=0&&(Fe*=256);)this[N+he]=E/Fe&255;return N+B},s.prototype.writeUint8=s.prototype.writeUInt8=function(E,N,B){return E=+E,N=N>>>0,B||ue(this,E,N,1,255,0),this[N]=E&255,N+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(E,N,B){return E=+E,N=N>>>0,B||ue(this,E,N,2,65535,0),this[N]=E&255,this[N+1]=E>>>8,N+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(E,N,B){return E=+E,N=N>>>0,B||ue(this,E,N,2,65535,0),this[N]=E>>>8,this[N+1]=E&255,N+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(E,N,B){return E=+E,N=N>>>0,B||ue(this,E,N,4,4294967295,0),this[N+3]=E>>>24,this[N+2]=E>>>16,this[N+1]=E>>>8,this[N]=E&255,N+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(E,N,B){return E=+E,N=N>>>0,B||ue(this,E,N,4,4294967295,0),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=E&255,N+4},s.prototype.writeIntLE=function(E,N,B,ee){if(E=+E,N=N>>>0,!ee){var fe=Math.pow(2,8*B-1);ue(this,E,N,B,fe-1,-fe)}var he=0,Fe=1,Ie=0;for(this[N]=E&255;++he<B&&(Fe*=256);)E<0&&Ie===0&&this[N+he-1]!==0&&(Ie=1),this[N+he]=(E/Fe>>0)-Ie&255;return N+B},s.prototype.writeIntBE=function(E,N,B,ee){if(E=+E,N=N>>>0,!ee){var fe=Math.pow(2,8*B-1);ue(this,E,N,B,fe-1,-fe)}var he=B-1,Fe=1,Ie=0;for(this[N+he]=E&255;--he>=0&&(Fe*=256);)E<0&&Ie===0&&this[N+he+1]!==0&&(Ie=1),this[N+he]=(E/Fe>>0)-Ie&255;return N+B},s.prototype.writeInt8=function(E,N,B){return E=+E,N=N>>>0,B||ue(this,E,N,1,127,-128),E<0&&(E=255+E+1),this[N]=E&255,N+1},s.prototype.writeInt16LE=function(E,N,B){return E=+E,N=N>>>0,B||ue(this,E,N,2,32767,-32768),this[N]=E&255,this[N+1]=E>>>8,N+2},s.prototype.writeInt16BE=function(E,N,B){return E=+E,N=N>>>0,B||ue(this,E,N,2,32767,-32768),this[N]=E>>>8,this[N+1]=E&255,N+2},s.prototype.writeInt32LE=function(E,N,B){return E=+E,N=N>>>0,B||ue(this,E,N,4,2147483647,-2147483648),this[N]=E&255,this[N+1]=E>>>8,this[N+2]=E>>>16,this[N+3]=E>>>24,N+4},s.prototype.writeInt32BE=function(E,N,B){return E=+E,N=N>>>0,B||ue(this,E,N,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=E&255,N+4};function oe(C,E,N,B,ee,fe){if(N+B>C.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function ne(C,E,N,B,ee){return E=+E,N=N>>>0,ee||oe(C,E,N,4),Ko.write(C,E,N,B,23,4),N+4}s.prototype.writeFloatLE=function(E,N,B){return ne(this,E,N,!0,B)},s.prototype.writeFloatBE=function(E,N,B){return ne(this,E,N,!1,B)};function se(C,E,N,B,ee){return E=+E,N=N>>>0,ee||oe(C,E,N,8),Ko.write(C,E,N,B,52,8),N+8}s.prototype.writeDoubleLE=function(E,N,B){return se(this,E,N,!0,B)},s.prototype.writeDoubleBE=function(E,N,B){return se(this,E,N,!1,B)},s.prototype.copy=function(E,N,B,ee){if(!s.isBuffer(E))throw new TypeError("argument should be a Buffer");if(B||(B=0),!ee&&ee!==0&&(ee=this.length),N>=E.length&&(N=E.length),N||(N=0),ee>0&&ee<B&&(ee=B),ee===B||E.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),E.length-N<ee-B&&(ee=E.length-N+B);var fe=ee-B;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,B,ee):Uint8Array.prototype.set.call(E,this.subarray(B,ee),N),fe},s.prototype.fill=function(E,N,B,ee){if(typeof E=="string"){if(typeof N=="string"?(ee=N,N=0,B=this.length):typeof B=="string"&&(ee=B,B=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!s.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(E.length===1){var fe=E.charCodeAt(0);(ee==="utf8"&&fe<128||ee==="latin1")&&(E=fe)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(N<0||this.length<N||this.length<B)throw new RangeError("Out of range index");if(B<=N)return this;N=N>>>0,B=B===void 0?this.length:B>>>0,E||(E=0);var he;if(typeof E=="number")for(he=N;he<B;++he)this[he]=E;else{var Fe=s.isBuffer(E)?E:s.from(E,ee),Ie=Fe.length;if(Ie===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(he=0;he<B-N;++he)this[he+N]=Fe[he%Ie]}return this};var pe=/[^+/0-9A-Za-z-_]/g;function Se(C){if(C=C.split("=")[0],C=C.trim().replace(pe,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function Te(C,E){E=E||1/0;for(var N,B=C.length,ee=null,fe=[],he=0;he<B;++he){if(N=C.charCodeAt(he),N>55295&&N<57344){if(!ee){if(N>56319){(E-=3)>-1&&fe.push(239,191,189);continue}else if(he+1===B){(E-=3)>-1&&fe.push(239,191,189);continue}ee=N;continue}if(N<56320){(E-=3)>-1&&fe.push(239,191,189),ee=N;continue}N=(ee-55296<<10|N-56320)+65536}else ee&&(E-=3)>-1&&fe.push(239,191,189);if(ee=null,N<128){if((E-=1)<0)break;fe.push(N)}else if(N<2048){if((E-=2)<0)break;fe.push(N>>6|192,N&63|128)}else if(N<65536){if((E-=3)<0)break;fe.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((E-=4)<0)break;fe.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return fe}function O(C){for(var E=[],N=0;N<C.length;++N)E.push(C.charCodeAt(N)&255);return E}function R(C,E){for(var N,B,ee,fe=[],he=0;he<C.length&&!((E-=2)<0);++he)N=C.charCodeAt(he),B=N>>8,ee=N%256,fe.push(ee),fe.push(B);return fe}function M(C){return u0.toByteArray(Se(C))}function $(C,E,N,B){for(var ee=0;ee<B&&!(ee+N>=E.length||ee>=C.length);++ee)E[ee+N]=C[ee];return ee}function K(C,E){return C instanceof E||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===E.name}function G(C){return C!==C}var _e=function(){for(var C="0123456789abcdef",E=new Array(256),N=0;N<16;++N)for(var B=N*16,ee=0;ee<16;++ee)E[B+ee]=C[N]+C[ee];return E}()}),We=Hu.Buffer;Hu.SlowBuffer;Hu.INSPECT_MAX_BYTES;Hu.kMaxLength;p0=function(e,r){return p0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},p0(e,r)};qi=function(t){g0(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),e}(Error),mt=function(t){g0(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),e}(TypeError);PO=function(e){var r=LO()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(r);for(var n=We.alloc(e),i=0;i<e;++i)n[i]=Math.floor(Math.random()*256);return n},MO=function(){if(typeof window<"u"){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return function(r){return t.getRandomValues(We.alloc(r))}}if(typeof global<"u"&&global.crypto&&global.crypto.getRandomValues)return function(r){return global.crypto.getRandomValues(We.alloc(r))};var e;try{e=GE("crypto").randomBytes}catch{}return e||PO},Hw=MO();zO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,Jw=function(t){return typeof t=="string"&&zO.test(t)},y0=function(t){if(!Jw(t))throw new mt('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var e=t.replace(/-/g,"");return We.from(e,"hex")},Rw=function(t,e){return e===void 0&&(e=!0),e?t.toString("hex",0,4)+"-"+t.toString("hex",4,6)+"-"+t.toString("hex",6,8)+"-"+t.toString("hex",8,10)+"-"+t.toString("hex",10,16):t.toString("hex")},c0=16,f0=Symbol("id"),Gw=function(){function t(e){if(typeof e>"u")this.id=t.generate();else if(e instanceof t)this[f0]=We.from(e.id),this.__id=e.__id;else if(ArrayBuffer.isView(e)&&e.byteLength===c0)this.id=$u(e);else if(typeof e=="string")this.id=y0(e);else throw new mt("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).")}return Object.defineProperty(t.prototype,"id",{get:function(){return this[f0]},set:function(e){this[f0]=e,t.cacheHexString&&(this.__id=Rw(e))},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(e){if(e===void 0&&(e=!0),t.cacheHexString&&this.__id)return this.__id;var r=Rw(this.id,e);return t.cacheHexString&&(this.__id=r),r},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){if(!e)return!1;if(e instanceof t)return e.id.equals(this.id);try{return new t(e).id.equals(this.id)}catch{return!1}},t.prototype.toBinary=function(){return new $i(this.id,$i.SUBTYPE_UUID)},t.generate=function(){var e=Hw(c0);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,We.from(e)},t.isValid=function(e){if(!e)return!1;if(e instanceof t)return!0;if(typeof e=="string")return Jw(e);if(m0(e)){if(e.length!==c0)return!1;try{return parseInt(e[6].toString(16)[0],10)===$i.SUBTYPE_UUID}catch{return!1}}return!1},t.createFromHexString=function(e){var r=y0(e);return new t(r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new UUID("'+this.toHexString()+'")'},t}();Object.defineProperty(Gw.prototype,"_bsontype",{value:"UUID"});$i=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(e!=null&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new mt("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??t.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=We.alloc(t.BUFFER_SIZE),this.position=0):(typeof e=="string"?this.buffer=We.from(e,"binary"):Array.isArray(e)?this.buffer=We.from(e):this.buffer=$u(e),this.position=this.buffer.byteLength)}return t.prototype.put=function(e){if(typeof e=="string"&&e.length!==1)throw new mt("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new mt("only accepts single character Uint8Array or Array");var r;if(typeof e=="string"?r=e.charCodeAt(0):typeof e=="number"?r=e:r=e[0],r<0||r>255)throw new mt("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var n=We.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}},t.prototype.write=function(e,r){if(r=typeof r=="number"?r:this.position,this.buffer.length<r+e.length){var n=We.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set($u(e),r),this.position=r+e.byteLength>this.position?r+e.length:this.position):typeof e=="string"&&(this.buffer.write(e,r,e.length,"binary"),this.position=r+e.length>this.position?r+e.length:this.position)},t.prototype.read=function(e,r){return r=r&&r>0?r:this.position,this.buffer.slice(e,e+r)},t.prototype.value=function(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},t.prototype.length=function(){return this.position},t.prototype.toJSON=function(){return this.buffer.toString("base64")},t.prototype.toString=function(e){return this.buffer.toString(e)},t.prototype.toExtendedJSON=function(e){e=e||{};var r=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}},t.prototype.toUUID=function(){if(this.sub_type===t.SUBTYPE_UUID)return new Gw(this.buffer.slice(0,this.position));throw new qi('Binary sub_type "'+this.sub_type+'" is not supported for converting to UUID. Only "'+t.SUBTYPE_UUID+'" is currently supported.')},t.fromExtendedJSON=function(e,r){r=r||{};var n,i;if("$binary"in e?r.legacy&&typeof e.$binary=="string"&&"$type"in e?(i=e.$type?parseInt(e.$type,16):0,n=We.from(e.$binary,"base64")):typeof e.$binary!="string"&&(i=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=We.from(e.$binary.base64,"base64")):"$uuid"in e&&(i=4,n=y0(e.$uuid)),!n)throw new mt("Unexpected Binary Extended JSON format "+JSON.stringify(e));return new t(n,i)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'+e.toString("hex")+'", "hex"), '+this.sub_type+")"},t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BUFFER_SIZE=256,t.SUBTYPE_DEFAULT=0,t.SUBTYPE_FUNCTION=1,t.SUBTYPE_BYTE_ARRAY=2,t.SUBTYPE_UUID_OLD=3,t.SUBTYPE_UUID=4,t.SUBTYPE_MD5=5,t.SUBTYPE_ENCRYPTED=6,t.SUBTYPE_COLUMN=7,t.SUBTYPE_USER_DEFINED=128,t}();Object.defineProperty($i.prototype,"_bsontype",{value:"Binary"});Gu=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);this.code=e,this.scope=r}return t.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},t.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},t.fromExtendedJSON=function(e){return new t(e.$code,e.$scope)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},t}();Object.defineProperty(Gu.prototype,"_bsontype",{value:"Code"});Ca=function(){function t(e,r,n,i){if(!(this instanceof t))return new t(e,r,n,i);var o=e.split(".");o.length===2&&(n=o.shift(),e=o.shift()),this.collection=e,this.oid=r,this.db=n,this.fields=i||{}}return Object.defineProperty(t.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e},t.prototype.toExtendedJSON=function(e){e=e||{};var r={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r},t.fromExtendedJSON=function(e){var r=Object.assign({},e);return delete r.$ref,delete r.$id,delete r.$db,new t(e.$ref,e.$id,e.$db,r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},t}();Object.defineProperty(Ca.prototype,"_bsontype",{value:"DBRef"});Ur=void 0;try{Ur=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}Fw=1<<16,WO=1<<24,Qo=Fw*Fw,Yw=Qo*Qo,Dw=Yw/2,Cw={},Lw={},xe=function(){function t(e,r,n){if(e===void 0&&(e=0),!(this instanceof t))return new t(e,r,n);typeof e=="bigint"?Object.assign(this,t.fromBigInt(e,!!r)):typeof e=="string"?Object.assign(this,t.fromString(e,!!r)):(this.low=e|0,this.high=r|0,this.unsigned=!!n),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return t.fromBits=function(e,r,n){return new t(e,r,n)},t.fromInt=function(e,r){var n,i,o;return r?(e>>>=0,(o=0<=e&&e<256)&&(i=Lw[e],i)?i:(n=t.fromBits(e,(e|0)<0?-1:0,!0),o&&(Lw[e]=n),n)):(e|=0,(o=-128<=e&&e<128)&&(i=Cw[e],i)?i:(n=t.fromBits(e,e<0?-1:0,!1),o&&(Cw[e]=n),n))},t.fromNumber=function(e,r){if(isNaN(e))return r?t.UZERO:t.ZERO;if(r){if(e<0)return t.UZERO;if(e>=Yw)return t.MAX_UNSIGNED_VALUE}else{if(e<=-Dw)return t.MIN_VALUE;if(e+1>=Dw)return t.MAX_VALUE}return e<0?t.fromNumber(-e,r).neg():t.fromBits(e%Qo|0,e/Qo|0,r)},t.fromBigInt=function(e,r){return t.fromString(e.toString(),r)},t.fromString=function(e,r,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t.ZERO;if(typeof r=="number"?(n=r,r=!1):r=!!r,n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return t.fromString(e.substring(1),r,n).neg();for(var o=t.fromNumber(Math.pow(n,8)),s=t.ZERO,a=0;a<e.length;a+=8){var c=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+c),n);if(c<8){var g=t.fromNumber(Math.pow(n,c));s=s.mul(g).add(t.fromNumber(d))}else s=s.mul(o),s=s.add(t.fromNumber(d))}return s.unsigned=r,s},t.fromBytes=function(e,r,n){return n?t.fromBytesLE(e,r):t.fromBytesBE(e,r)},t.fromBytesLE=function(e,r){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)},t.fromBytesBE=function(e,r){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)},t.isLong=function(e){return Pa(e)&&e.__isLong__===!0},t.fromValue=function(e,r){return typeof e=="number"?t.fromNumber(e,r):typeof e=="string"?t.fromString(e,r):t.fromBits(e.low,e.high,typeof r=="boolean"?r:e.unsigned)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var r=this.high>>>16,n=this.high&65535,i=this.low>>>16,o=this.low&65535,s=e.high>>>16,a=e.high&65535,c=e.low>>>16,d=e.low&65535,g=0,v=0,p=0,w=0;return w+=o+d,p+=w>>>16,w&=65535,p+=i+c,v+=p>>>16,p&=65535,v+=n+a,g+=v>>>16,v&=65535,g+=r+s,g&=65535,t.fromBits(p<<16|w,g<<16|v,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.compare=function(e){if(t.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.comp=function(e){return this.compare(e)},t.prototype.divide=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(Ur){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?Ur.div_u:Ur.div_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Ur.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;o=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var s=this.shr(1);return n=s.div(e).shl(1),n.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(i=this.sub(e.mul(n)),o=n.add(i.div(e)),o)}else if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=t.ZERO}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),c=a<=48?1:Math.pow(2,a-48),d=t.fromNumber(n),g=d.mul(e);g.isNegative()||g.gt(i);)n-=c,d=t.fromNumber(n,this.unsigned),g=d.mul(e);d.isZero()&&(d=t.ONE),o=o.add(d),i=i.sub(g)}return o},t.prototype.div=function(e){return this.divide(e)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.eq=function(e){return this.equals(e)},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();var e=this.high!==0?this.high:this.low,r;for(r=31;r>0&&(e&1<<r)===0;r--);return this.high!==0?r+33:r+1},t.prototype.greaterThan=function(e){return this.comp(e)>0},t.prototype.gt=function(e){return this.greaterThan(e)},t.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},t.prototype.gte=function(e){return this.greaterThanOrEqual(e)},t.prototype.ge=function(e){return this.greaterThanOrEqual(e)},t.prototype.isEven=function(){return(this.low&1)===0},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isOdd=function(){return(this.low&1)===1},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isZero=function(){return this.high===0&&this.low===0},t.prototype.lessThan=function(e){return this.comp(e)<0},t.prototype.lt=function(e){return this.lessThan(e)},t.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},t.prototype.lte=function(e){return this.lessThanOrEqual(e)},t.prototype.modulo=function(e){if(t.isLong(e)||(e=t.fromValue(e)),Ur){var r=(this.unsigned?Ur.rem_u:Ur.rem_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Ur.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},t.prototype.mod=function(e){return this.modulo(e)},t.prototype.rem=function(e){return this.modulo(e)},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),Ur){var r=Ur.mul(this.low,this.high,e.low,e.high);return t.fromBits(r,Ur.get_high(),this.unsigned)}if(e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,o=this.low>>>16,s=this.low&65535,a=e.high>>>16,c=e.high&65535,d=e.low>>>16,g=e.low&65535,v=0,p=0,w=0,b=0;return b+=s*g,w+=b>>>16,b&=65535,w+=o*g,p+=w>>>16,w&=65535,w+=s*d,p+=w>>>16,w&=65535,p+=i*g,v+=p>>>16,p&=65535,p+=o*d,v+=p>>>16,p&=65535,p+=s*c,v+=p>>>16,p&=65535,v+=n*g+i*d+o*c+s*a,v&=65535,t.fromBits(w<<16|b,v<<16|p,this.unsigned)},t.prototype.mul=function(e){return this.multiply(e)},t.prototype.negate=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.neg=function(){return this.negate()},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.notEquals=function(e){return!this.equals(e)},t.prototype.neq=function(e){return this.notEquals(e)},t.prototype.ne=function(e){return this.notEquals(e)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shl=function(e){return this.shiftLeft(e)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shr=function(e){return this.shiftRight(e)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return t.fromBits(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?t.fromBits(r,0,this.unsigned):t.fromBits(r>>>e-32,0,this.unsigned)},t.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},t.prototype.shru=function(e){return this.shiftRightUnsigned(e)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())},t.prototype.sub=function(e){return this.subtract(e)},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*Qo+(this.low>>>0):this.high*Qo+(this.low>>>0)},t.prototype.toBigInt=function(){return BigInt(this.toString())},t.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},t.prototype.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},t.prototype.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(t.MIN_VALUE)){var r=t.fromNumber(e),n=this.div(r),i=n.mul(r).sub(this);return n.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=t.fromNumber(Math.pow(e,6),this.unsigned),s=this,a="";;){var c=s.div(o),d=s.sub(c.mul(o)).toInt()>>>0,g=d.toString(e);if(s=c,s.isZero())return g+a;for(;g.length<6;)g="0"+g;a=""+g+a}},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.eqz=function(){return this.isZero()},t.prototype.le=function(e){return this.lessThanOrEqual(e)},t.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},t.fromExtendedJSON=function(e,r){var n=t.fromString(e.$numberLong);return r&&r.relaxed?n.toNumber():n},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Long("'+this.toString()+'"'+(this.unsigned?", true":"")+")"},t.TWO_PWR_24=t.fromInt(WO),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t}();Object.defineProperty(xe.prototype,"__isLong__",{value:!0});Object.defineProperty(xe.prototype,"_bsontype",{value:"Long"});qO=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,$O=/^(\+|-)?(Infinity|inf)$/i,HO=/^(\+|-)?NaN$/i,Da=6111,h0=-6176,Pw=6176,JO=34,d0=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Mw=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),jw=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),GO=/^([-+])?(\d+)?$/,YO=31,Bw=16383,KO=30,ZO=31;v0=function(){function t(e){if(!(this instanceof t))return new t(e);if(typeof e=="string")this.bytes=t.fromString(e).bytes;else if(m0(e)){if(e.byteLength!==16)throw new mt("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new mt("Decimal128 must take a Buffer or string")}return t.fromString=function(e){var r=!1,n=!1,i=!1,o=0,s=0,a=0,c=0,d=0,g=[0],v=0,p=0,w=0,b=0,I=0,k=0,A=new xe(0,0),D=new xe(0,0),Y=0,H=0;if(e.length>=7e3)throw new mt(""+e+" not a valid Decimal128 string");var Z=e.match(qO),j=e.match($O),V=e.match(HO);if(!Z&&!j&&!V||e.length===0)throw new mt(""+e+" not a valid Decimal128 string");if(Z){var S=Z[2],W=Z[4],re=Z[5],X=Z[6];W&&X===void 0&&Zo(e,"missing exponent power"),W&&S===void 0&&Zo(e,"missing exponent base"),W===void 0&&(re||X)&&Zo(e,"missing e before exponent")}if((e[H]==="+"||e[H]==="-")&&(r=e[H++]==="-"),!Uw(e[H])&&e[H]!=="."){if(e[H]==="i"||e[H]==="I")return new t(We.from(r?Mw:jw));if(e[H]==="N")return new t(We.from(d0))}for(;Uw(e[H])||e[H]===".";){if(e[H]==="."){n&&Zo(e,"contains multiple periods"),n=!0,H=H+1;continue}v<34&&(e[H]!=="0"||i)&&(i||(d=s),i=!0,g[p++]=parseInt(e[H],10),v=v+1),i&&(a=a+1),n&&(c=c+1),s=s+1,H=H+1}if(n&&!s)throw new mt(""+e+" not a valid Decimal128 string");if(e[H]==="e"||e[H]==="E"){var le=e.substr(++H).match(GO);if(!le||!le[2])return new t(We.from(d0));I=parseInt(le[0],10),H=H+le[0].length}if(e[H])return new t(We.from(d0));if(w=0,!v)w=0,b=0,g[0]=0,a=1,v=1,o=0;else if(b=v-1,o=a,o!==1)for(;g[d+o-1]===0;)o=o-1;for(I<=c&&c-I>1<<14?I=h0:I=I-c;I>Da;){if(b=b+1,b-w>JO){var ae=g.join("");if(ae.match(/^0+$/)){I=Da;break}Zo(e,"overflow")}I=I-1}for(;I<h0||v<a;){if(b===0&&o<v){I=h0,o=0;break}if(v<a?a=a-1:b=b-1,I<Da)I=I+1;else{var ae=g.join("");if(ae.match(/^0+$/)){I=Da;break}Zo(e,"overflow")}}if(b-w+1<o){var ye=s;n&&(d=d+1,ye=ye+1),r&&(d=d+1,ye=ye+1);var P=parseInt(e[d+b+1],10),F=0;if(P>=5&&(F=1,P===5)){for(F=g[b]%2===1?1:0,k=d+b+2;k<ye;k++)if(parseInt(e[k],10)){F=1;break}}if(F){for(var ie=b;ie>=0;ie--)if(++g[ie]>9&&(g[ie]=0,ie===0))if(I<Da)I=I+1,g[ie]=1;else return new t(We.from(r?Mw:jw))}}if(A=xe.fromNumber(0),D=xe.fromNumber(0),o===0)A=xe.fromNumber(0),D=xe.fromNumber(0);else if(b-w<17){var ie=w;for(D=xe.fromNumber(g[ie++]),A=new xe(0,0);ie<=b;ie++)D=D.multiply(xe.fromNumber(10)),D=D.add(xe.fromNumber(g[ie]))}else{var ie=w;for(A=xe.fromNumber(g[ie++]);ie<=b-17;ie++)A=A.multiply(xe.fromNumber(10)),A=A.add(xe.fromNumber(g[ie]));for(D=xe.fromNumber(g[ie++]);ie<=b;ie++)D=D.multiply(xe.fromNumber(10)),D=D.add(xe.fromNumber(g[ie]))}var U=QO(A,xe.fromString("100000000000000000"));U.low=U.low.add(D),e5(U.low,D)&&(U.high=U.high.add(xe.fromNumber(1))),Y=I+Pw;var z={low:xe.fromNumber(0),high:xe.fromNumber(0)};U.high.shiftRightUnsigned(49).and(xe.fromNumber(1)).equals(xe.fromNumber(1))?(z.high=z.high.or(xe.fromNumber(3).shiftLeft(61)),z.high=z.high.or(xe.fromNumber(Y).and(xe.fromNumber(16383).shiftLeft(47))),z.high=z.high.or(U.high.and(xe.fromNumber(140737488355327)))):(z.high=z.high.or(xe.fromNumber(Y&16383).shiftLeft(49)),z.high=z.high.or(U.high.and(xe.fromNumber(562949953421311)))),z.low=U.low,r&&(z.high=z.high.or(xe.fromString("9223372036854775808")));var J=We.alloc(16);return H=0,J[H++]=z.low.low&255,J[H++]=z.low.low>>8&255,J[H++]=z.low.low>>16&255,J[H++]=z.low.low>>24&255,J[H++]=z.low.high&255,J[H++]=z.low.high>>8&255,J[H++]=z.low.high>>16&255,J[H++]=z.low.high>>24&255,J[H++]=z.high.low&255,J[H++]=z.high.low>>8&255,J[H++]=z.high.low>>16&255,J[H++]=z.high.low>>24&255,J[H++]=z.high.high&255,J[H++]=z.high.high>>8&255,J[H++]=z.high.high>>16&255,J[H++]=z.high.high>>24&255,new t(J)},t.prototype.toString=function(){for(var e,r=0,n=new Array(36),i=0;i<n.length;i++)n[i]=0;var o=0,s=!1,a,c={parts:[0,0,0,0]},d,g,v=[];o=0;var p=this.bytes,w=p[o++]|p[o++]<<8|p[o++]<<16|p[o++]<<24,b=p[o++]|p[o++]<<8|p[o++]<<16|p[o++]<<24,I=p[o++]|p[o++]<<8|p[o++]<<16|p[o++]<<24,k=p[o++]|p[o++]<<8|p[o++]<<16|p[o++]<<24;o=0;var A={low:new xe(w,b),high:new xe(I,k)};A.high.lessThan(xe.ZERO)&&v.push("-");var D=k>>26&YO;if(D>>3===3){if(D===KO)return v.join("")+"Infinity";if(D===ZO)return"NaN";e=k>>15&Bw,a=8+(k>>14&1)}else a=k>>14&7,e=k>>17&Bw;var Y=e-Pw;if(c.parts[0]=(k&16383)+((a&15)<<14),c.parts[1]=I,c.parts[2]=b,c.parts[3]=w,c.parts[0]===0&&c.parts[1]===0&&c.parts[2]===0&&c.parts[3]===0)s=!0;else for(g=3;g>=0;g--){var H=0,Z=XO(c);if(c=Z.quotient,H=Z.rem.low,!!H)for(d=8;d>=0;d--)n[g*9+d]=H%10,H=Math.floor(H/10)}if(s)r=1,n[o]=0;else for(r=36;!n[o];)r=r-1,o=o+1;var j=r-1+Y;if(j>=34||j<=-7||Y>0){if(r>34)return v.push(""+0),Y>0?v.push("E+"+Y):Y<0&&v.push("E"+Y),v.join("");v.push(""+n[o++]),r=r-1,r&&v.push(".");for(var i=0;i<r;i++)v.push(""+n[o++]);v.push("E"),j>0?v.push("+"+j):v.push(""+j)}else if(Y>=0)for(var i=0;i<r;i++)v.push(""+n[o++]);else{var V=r+Y;if(V>0)for(var i=0;i<V;i++)v.push(""+n[o++]);else v.push("0");for(v.push(".");V++<0;)v.push("0");for(var i=0;i<r-Math.max(V-1,0);i++)v.push(""+n[o++])}return v.join("")},t.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},t.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},t.fromExtendedJSON=function(e){return t.fromString(e.$numberDecimal)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Decimal128("'+this.toString()+'")'},t}();Object.defineProperty(v0.prototype,"_bsontype",{value:"Decimal128"});Yu=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e}return t.prototype.valueOf=function(){return this.value},t.prototype.toJSON=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toExtendedJSON=function(e){if(e&&(e.legacy||e.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-"+this.value.toFixed(1)};var r;return Number.isInteger(this.value)?(r=this.value.toFixed(1),r.length>=13&&(r=this.value.toExponential(13).toUpperCase())):r=this.value.toString(),{$numberDouble:r}},t.fromExtendedJSON=function(e,r){var n=parseFloat(e.$numberDouble);return r&&r.relaxed?n:new t(n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double("+e.$numberDouble+")"},t}();Object.defineProperty(Yu.prototype,"_bsontype",{value:"Double"});Ku=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e|0}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},t.fromExtendedJSON=function(e,r){return r&&r.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},t}();Object.defineProperty(Ku.prototype,"_bsontype",{value:"Int32"});w0=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$maxKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MaxKey()"},t}();Object.defineProperty(w0.prototype,"_bsontype",{value:"MaxKey"});_0=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$minKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MinKey()"},t}();Object.defineProperty(_0.prototype,"_bsontype",{value:"MinKey"});t5=new RegExp("^[0-9a-fA-F]{24}$"),Wi=null,Xo=Symbol("id"),fr=function(){function t(e){if(!(this instanceof t))return new t(e);var r;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new mt("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?r=We.from(e.toHexString(),"hex"):r=e.id}else r=e;if(r==null||typeof r=="number")this[Xo]=t.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[Xo]=$u(r);else if(typeof r=="string")if(r.length===12){var n=We.from(r);if(n.byteLength===12)this[Xo]=n;else throw new mt("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&t5.test(r))this[Xo]=We.from(r,"hex");else throw new mt("Argument passed in must be a string of 12 bytes or a string of 24 hex characters");else throw new mt("Argument passed in does not match the accepted types");t.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(t.prototype,"id",{get:function(){return this[Xo]},set:function(e){this[Xo]=e,t.cacheHexString&&(this.__id=e.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(){if(t.cacheHexString&&this.__id)return this.__id;var e=this.id.toString("hex");return t.cacheHexString&&!this.__id&&(this.__id=e),e},t.getInc=function(){return t.index=(t.index+1)%16777215},t.generate=function(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));var r=t.getInc(),n=We.alloc(12);return n.writeUInt32BE(e,0),Wi===null&&(Wi=Hw(5)),n[4]=Wi[0],n[5]=Wi[1],n[6]=Wi[2],n[7]=Wi[3],n[8]=Wi[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){return e==null?!1:e instanceof t?this.toString()===e.toString():typeof e=="string"&&t.isValid(e)&&e.length===12&&m0(this.id)?e===We.prototype.toString.call(this.id,"latin1"):typeof e=="string"&&t.isValid(e)&&e.length===24?e.toLowerCase()===this.toHexString():typeof e=="string"&&t.isValid(e)&&e.length===12?We.from(e).equals(this.id):typeof e=="object"&&"toHexString"in e&&typeof e.toHexString=="function"?e.toHexString()===this.toHexString():!1},t.prototype.getTimestamp=function(){var e=new Date,r=this.id.readUInt32BE(0);return e.setTime(Math.floor(r)*1e3),e},t.createPk=function(){return new t},t.createFromTime=function(e){var r=We.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(e,0),new t(r)},t.createFromHexString=function(e){if(typeof e>"u"||e!=null&&e.length!==24)throw new mt("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new t(We.from(e,"hex"))},t.isValid=function(e){if(e==null)return!1;try{return new t(e),!0}catch{return!1}},t.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},t.fromExtendedJSON=function(e){return new t(e.$oid)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},t.index=Math.floor(Math.random()*16777215),t}();Object.defineProperty(fr.prototype,"generate",{value:Ju(function(t){return fr.generate(t)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(fr.prototype,"getInc",{value:Ju(function(){return fr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(fr.prototype,"get_inc",{value:Ju(function(){return fr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(fr,"get_inc",{value:Ju(function(){return fr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(fr.prototype,"_bsontype",{value:"ObjectID"});La=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this.pattern=e,this.options=r5(r??""),this.pattern.indexOf("\0")!==-1)throw new qi("BSON Regex patterns cannot contain null bytes, found: "+JSON.stringify(this.pattern));if(this.options.indexOf("\0")!==-1)throw new qi("BSON Regex options cannot contain null bytes, found: "+JSON.stringify(this.options));for(var n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new qi("The regular expression option ["+this.options[n]+"] is not supported")}return t.parseOptions=function(e){return e?e.split("").sort().join(""):""},t.prototype.toExtendedJSON=function(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},t.fromExtendedJSON=function(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new t(e.$regex,t.parseOptions(e.$options));if("$regularExpression"in e)return new t(e.$regularExpression.pattern,t.parseOptions(e.$regularExpression.options));throw new mt("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(e))},t}();Object.defineProperty(La.prototype,"_bsontype",{value:"BSONRegExp"});S0=function(){function t(e){if(!(this instanceof t))return new t(e);this.value=e}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(){return{$symbol:this.value}},t.fromExtendedJSON=function(e){return new t(e.$symbol)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t}();Object.defineProperty(S0.prototype,"_bsontype",{value:"Symbol"});n5=xe,Kw=function(t){g0(e,t);function e(r,n){var i=this;return i instanceof e?(xe.isLong(r)?i=t.call(this,r.low,r.high,!0)||this:Pa(r)&&typeof r.t<"u"&&typeof r.i<"u"?i=t.call(this,r.i,r.t,!0)||this:i=t.call(this,r,n,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new e(r,n)}return e.prototype.toJSON=function(){return{$timestamp:this.toString()}},e.fromInt=function(r){return new e(xe.fromInt(r,!0))},e.fromNumber=function(r){return new e(xe.fromNumber(r,!0))},e.fromBits=function(r,n){return new e(r,n)},e.fromString=function(r,n){return new e(xe.fromString(r,!0,n))},e.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},e.fromExtendedJSON=function(r){return new e(r.$timestamp)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Timestamp({ t: "+this.getHighBits()+", i: "+this.getLowBits()+" })"},e.MAX_VALUE=xe.MAX_UNSIGNED_VALUE,e}(n5);Zw=2147483647,Xw=-2147483648,Qw=9223372036854776e3,e_=-9223372036854776e3,o5={$oid:fr,$binary:$i,$uuid:$i,$symbol:S0,$numberInt:Ku,$numberDecimal:v0,$numberDouble:Yu,$numberLong:xe,$minKey:_0,$maxKey:w0,$regex:La,$regularExpression:La,$timestamp:Kw};a5={Binary:function(t){return new $i(t.value(),t.sub_type)},Code:function(t){return new Gu(t.code,t.scope)},DBRef:function(t){return new Ca(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new v0(t.bytes)},Double:function(t){return new Yu(t.value)},Int32:function(t){return new Ku(t.value)},Long:function(t){return xe.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_)},MaxKey:function(){return new w0},MinKey:function(){return new _0},ObjectID:function(t){return new fr(t)},ObjectId:function(t){return new fr(t)},BSONRegExp:function(t){return new La(t.pattern,t.options)},Symbol:function(t){return new S0(t.value)},Timestamp:function(t){return Kw.fromBits(t.low,t.high)}};(function(t){function e(o,s){var a=Object.assign({},{relaxed:!0,legacy:!1},s);return typeof a.relaxed=="boolean"&&(a.strict=!a.relaxed),typeof a.strict=="boolean"&&(a.relaxed=!a.strict),JSON.parse(o,function(c,d){if(c.indexOf("\0")!==-1)throw new qi("BSON Document field names cannot contain null bytes, found: "+JSON.stringify(c));return t_(d,a)})}t.parse=e;function r(o,s,a,c){a!=null&&typeof a=="object"&&(c=a,a=0),s!=null&&typeof s=="object"&&!Array.isArray(s)&&(c=s,s=void 0,a=0);var d=Object.assign({relaxed:!0,legacy:!1},c,{seenObjects:[{propertyName:"(root)",obj:null}]}),g=si(o,d);return JSON.stringify(g,s,a)}t.stringify=r;function n(o,s){return s=s||{},JSON.parse(r(o,s))}t.serialize=n;function i(o,s){return s=s||{},e(JSON.stringify(o),s)}t.deserialize=i})(ai||(ai={}));Ww=$w();Ww.Map?Vw=Ww.Map:Vw=function(){function t(e){e===void 0&&(e=[]),this._keys=[],this._values={};for(var r=0;r<e.length;r++)if(e[r]!=null){var n=e[r],i=n[0],o=n[1];this._keys.push(i),this._values[i]={v:o,i:this._keys.length-1}}}return t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var r=this._values[e];return r==null?!1:(delete this._values[e],this._keys.splice(r.i,1),!0)},t.prototype.entries=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?[n,e._values[n].v]:void 0,done:n===void 0}}}},t.prototype.forEach=function(e,r){r=r||this;for(var n=0;n<this._keys.length;n++){var i=this._keys[n];e.call(r,this._values[i].v,i,r)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return this._values[e]!=null},t.prototype.keys=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?n:void 0,done:n===void 0}}}},t.prototype.set=function(e,r){return this._values[e]?(this._values[e].v=r,this):(this._keys.push(e),this._values[e]={v:r,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?e._values[n].v:void 0,done:n===void 0}}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),t}();KT=Math.pow(2,63)-1,ZT=-Math.pow(2,63),u5=Math.pow(2,53),c5=-Math.pow(2,53),XT=xe.fromNumber(u5),QT=xe.fromNumber(c5),f5=1024*1024*17,e8=We.alloc(f5)});function S5(t){return t?o_(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new m5:typeof navigator<"u"?o_(navigator.userAgent):x5()}function b5(t){return t!==""&&_5.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]},!1)}function o_(t){var e=b5(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new g5;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<n_&&(i=r_(r_([],i,!0),O5(n_-i.length),!0)):i=[];var o=i.join("."),s=E5(t),a=w5.exec(t);return a&&a[1]?new y5(r,o,s,a[1]):new d5(r,o,s)}function E5(t){for(var e=0,r=i_.length;e<r;e++){var n=i_[e],i=n[0],o=n[1],s=o.exec(t);if(s)return i}return null}function x5(){var t=typeof process<"u"&&process.version;return t?new p5(process.version.slice(1)):null}function O5(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}function I_(t){return ai.serialize(t,j5)}function R_(t){return Array.isArray(t)?t.map(e=>ai.deserialize(e)):ai.deserialize(t)}function I0(t){return Object.fromEntries(Object.entries(t).filter(e=>typeof e[1]<"u"))}function B5(t,e){let r="";for(let n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}function C_(t,e=!0){let r=I0(t);return(e&&Object.keys(r).length>0?"?":"")+Object.entries(r).map(([i,o])=>`${i}=${encodeURIComponent(o)}`).join("&")}function U5(t){let e=t[0]==="?"?t.substr(1):t;return Object.fromEntries(e.split("&").filter(r=>r.length>0).map(r=>r.split("=")).map(([r,n])=>[r,decodeURIComponent(n)]))}function V5(t){for(let e of t)if(typeof e=="object"&&e)for(let[r,n]of Object.entries(e))n===void 0&&delete e[r];return t}function W5(t){return V5(t).map(r=>typeof r=="object"?I_(r):r)}function H5(){return{path:"/api/client/v2.0",app(t){return{path:this.path+`/app/${t}`,location(){return{path:this.path+"/location"}},authProvider(e){return{path:this.path+`/auth/providers/${e}`,login(){return{path:this.path+"/login"}}}},emailPasswordAuth(e){return{...this.authProvider(e),register(){return{path:this.path+"/register"}},confirm(){return{path:this.path+"/confirm"}},confirmSend(){return{path:this.path+"/confirm/send"}},confirmCall(){return{path:this.path+"/confirm/call"}},reset(){return{path:this.path+"/reset"}},resetSend(){return{path:this.path+"/reset/send"}},resetCall(){return{path:this.path+"/reset/call"}}}},functionsCall(){return{path:this.path+"/functions/call"}}}},auth(){return{path:this.path+"/auth",apiKeys(){return{path:this.path+"/api_keys",key(t){return{path:this.path+`/${t}`,enable(){return{path:this.path+"/enable"}},disable(){return{path:this.path+"/disable"}}}}}},profile(){return{path:this.path+"/profile"}},session(){return{path:this.path+"/session"}},delete(){return{path:this.path+"/delete"}}}}}}function J5(t){R0=t}function ja(){if(R0)return R0;throw new Error("Cannot get environment before it's set")}function G5(t,e,r,n){return new B_(t,e,r,n)}function Y5(t,e,r){return{collection:G5.bind(null,t,e,r)}}function K5(t,e="mongo-db"){return{db:Y5.bind(null,t,e)}}function t6(t){if(typeof t!="object"||t===null)throw new Error("Expected a non-null object");if(Symbol.asyncIterator in t)return t;if("getReader"in t){let e=t;return{[Symbol.asyncIterator](){let r=e.getReader();return{next(){return r.read()},async return(){return await r.cancel(),{done:!0,value:null}}}}}}else throw new Error("Expected an AsyncIterable or a ReadableStream")}function o6(t){return typeof globalThis.open=="function"?globalThis.open(t):(console.log(`Please open ${t}`),null)}function $_(t=globalThis.location,e=q_.defaultStorage){try{let r=t.hash.substr(1);li.handleRedirect(r,e)}catch(r){console.warn(r)}}var r_,d5,p5,y5,g5,m5,v5,w5,n_,_5,i_,Zr,m_,k5,N5,T5,rs,s_,a_,A5,Ma,Zu,I5,Ht,l_,v_,w_,__,D0,N0,Xu,R5,F5,S_,u_,ts,c_,D5,C5,b_,E_,C0,x_,O_,L5,k_,T0,P5,N_,T_,A_,M5,ec,j5,A0,Kr,f_,L0,Wr,F_,E0,x0,O0,k0,D_,z5,Ua,L_,q5,$5,Hi,P_,Vr,M_,R0,Qu,tr,j_,B_,Z5,Ji,h_,F0,$t,d_,p_,U_,X5,Q5,e6,li,y_,z_,Ba,Gi,r6,g_,V_,n6,gn,W_,es,i6,q_,H_=Ge(()=>{b0();b0();r_=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},d5=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),p5=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),y5=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),g5=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),m5=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),v5=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,w5=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,n_=3,_5=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",v5]],i_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];Zr=class{constructor(){if(!Zr.fetch)throw new Error("DefaultNetworkTransport.fetch must be set before it's used");if(!Zr.AbortController)throw new Error("DefaultNetworkTransport.AbortController must be set before it's used")}fetchWithCallbacks(e,r){this.fetch(e).then(async n=>{let i=await n.text(),o={};return n.headers.forEach((s,a)=>{o[a]=s}),{statusCode:n.status,headers:o,body:i}}).then(n=>r.onSuccess(n)).catch(n=>r.onError(n))}async fetch(e){let{timeoutMs:r,url:n,...i}=e,{signal:o,cancelTimeout:s}=this.createTimeoutSignal(r);try{return await Zr.fetch(n,{...Zr.extraFetchOptions,signal:o,...i})}finally{s()}}createTimeoutSignal(e){if(typeof e=="number"){let r=new Zr.AbortController,n=setTimeout(()=>{r.abort()},e);return{signal:r.signal,cancelTimeout:()=>{clearTimeout(n)}}}else return{signal:void 0,cancelTimeout:()=>{}}}};Zr.DEFAULT_HEADERS={"Content-Type":"application/json"};Zr.fetch=globalThis.fetch.bind(globalThis);Zr.AbortController=globalThis.AbortController;m_="3.7.2",k5=m_,N5=typeof atob=="function",T5=typeof btoa=="function",rs=typeof Buffer=="function",s_=typeof TextDecoder=="function"?new TextDecoder:void 0,a_=typeof TextEncoder=="function"?new TextEncoder:void 0,A5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ma=Array.prototype.slice.call(A5),Zu=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(Ma),I5=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Ht=String.fromCharCode.bind(String),l_=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=r=>r)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),v_=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),w_=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),__=t=>{let e,r,n,i,o="",s=t.length%3;for(let a=0;a<t.length;){if((r=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|i,o+=Ma[e>>18&63]+Ma[e>>12&63]+Ma[e>>6&63]+Ma[e&63]}return s?o.slice(0,s-3)+"===".substring(s):o},D0=T5?t=>btoa(t):rs?t=>Buffer.from(t,"binary").toString("base64"):__,N0=rs?t=>Buffer.from(t).toString("base64"):t=>{let r=[];for(let n=0,i=t.length;n<i;n+=4096)r.push(Ht.apply(null,t.subarray(n,n+4096)));return D0(r.join(""))},Xu=(t,e=!1)=>e?v_(N0(t)):N0(t),R5=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Ht(192|e>>>6)+Ht(128|e&63):Ht(224|e>>>12&15)+Ht(128|e>>>6&63)+Ht(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Ht(240|e>>>18&7)+Ht(128|e>>>12&63)+Ht(128|e>>>6&63)+Ht(128|e&63)}},F5=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,S_=t=>t.replace(F5,R5),u_=rs?t=>Buffer.from(t,"utf8").toString("base64"):a_?t=>N0(a_.encode(t)):t=>D0(S_(t)),ts=(t,e=!1)=>e?v_(u_(t)):u_(t),c_=t=>ts(t,!0),D5=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,C5=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return Ht((r>>>10)+55296)+Ht((r&1023)+56320);case 3:return Ht((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Ht((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},b_=t=>t.replace(D5,C5),E_=t=>{if(t=t.replace(/\s+/g,""),!I5.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,i;for(let o=0;o<t.length;)e=Zu[t.charAt(o++)]<<18|Zu[t.charAt(o++)]<<12|(n=Zu[t.charAt(o++)])<<6|(i=Zu[t.charAt(o++)]),r+=n===64?Ht(e>>16&255):i===64?Ht(e>>16&255,e>>8&255):Ht(e>>16&255,e>>8&255,e&255);return r},C0=N5?t=>atob(w_(t)):rs?t=>Buffer.from(t,"base64").toString("binary"):E_,x_=rs?t=>l_(Buffer.from(t,"base64")):t=>l_(C0(t),e=>e.charCodeAt(0)),O_=t=>x_(k_(t)),L5=rs?t=>Buffer.from(t,"base64").toString("utf8"):s_?t=>s_.decode(x_(t)):t=>b_(C0(t)),k_=t=>w_(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),T0=t=>L5(k_(t)),P5=t=>{if(typeof t!="string")return!1;let e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},N_=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),T_=function(){let t=(e,r)=>Object.defineProperty(String.prototype,e,N_(r));t("fromBase64",function(){return T0(this)}),t("toBase64",function(e){return ts(this,e)}),t("toBase64URI",function(){return ts(this,!0)}),t("toBase64URL",function(){return ts(this,!0)}),t("toUint8Array",function(){return O_(this)})},A_=function(){let t=(e,r)=>Object.defineProperty(Uint8Array.prototype,e,N_(r));t("toBase64",function(e){return Xu(this,e)}),t("toBase64URI",function(){return Xu(this,!0)}),t("toBase64URL",function(){return Xu(this,!0)})},M5=()=>{T_(),A_()},ec={version:m_,VERSION:k5,atob:C0,atobPolyfill:E_,btoa:D0,btoaPolyfill:__,fromBase64:T0,toBase64:ts,encode:ts,encodeURI:c_,encodeURL:c_,utob:S_,btou:b_,decode:T0,isValid:P5,fromUint8Array:Xu,toUint8Array:O_,extendString:T_,extendUint8Array:A_,extendBuiltins:M5},j5={relaxed:!1};(function(t){t.Normal="normal",t.Server="server"})(A0||(A0={}));(function(t){t.NAME="name",t.EMAIL="email",t.PICTURE="picture",t.FIRST_NAME="first_name",t.LAST_NAME="last_name",t.GENDER="gender",t.BIRTHDAY="birthday",t.MIN_AGE="min_age",t.MAX_AGE="max_age"})(Kr||(Kr={}));f_={[Kr.NAME]:"name",[Kr.EMAIL]:"email",[Kr.PICTURE]:"pictureUrl",[Kr.FIRST_NAME]:"firstName",[Kr.LAST_NAME]:"lastName",[Kr.GENDER]:"gender",[Kr.BIRTHDAY]:"birthday",[Kr.MIN_AGE]:"minAge",[Kr.MAX_AGE]:"maxAge"},L0=class{constructor(e){if(this.type=A0.Normal,this.identities=[],typeof e=="object"&&e!==null){let{type:r,identities:n,data:i}=e;if(typeof r=="string")this.type=r;else throw new Error("Expected 'type' in the response body");if(Array.isArray(n))this.identities=n.map(o=>{let{id:s,provider_type:a}=o;return{id:s,providerType:a}});else throw new Error("Expected 'identities' in the response body");if(typeof i=="object"&&i!==null){let o=Object.fromEntries(Object.entries(i).map(([s,a])=>s in f_?[f_[s],a]:[s,a]));this.data=R_(o)}else throw new Error("Expected 'data' in the response body")}else this.data={}}},Wr=class{constructor(e,r){this.storage=e,this.keyPart=r}get(e){return this.storage.get(this.keyPart+Wr.PART_SEPARATOR+e)}set(e,r){return this.storage.set(this.keyPart+Wr.PART_SEPARATOR+e,r)}remove(e){return this.storage.remove(this.keyPart+Wr.PART_SEPARATOR+e)}prefix(e){return new Wr(this,e)}clear(e=""){return this.storage.clear(this.keyPart+Wr.PART_SEPARATOR+e)}addListener(e){return this.storage.addListener(e)}removeListener(e){return this.storage.addListener(e)}};Wr.PART_SEPARATOR=":";F_=class{constructor(){this.storage={},this.listeners=new Set}get(e){return e in this.storage?this.storage[e]:null}set(e,r){this.storage[e]=r,this.fireListeners()}remove(e){delete this.storage[e],this.fireListeners()}prefix(e){return new Wr(this,e)}clear(e){for(let r of Object.keys(this.storage))(!e||r.startsWith(e))&&delete this.storage[r];this.fireListeners()}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}fireListeners(){this.listeners.forEach(e=>e())}},E0="accessToken",x0="refreshToken",O0="profile",k0="providerType",D_=class extends Wr{constructor(e,r){super(e,`user(${r})`)}get accessToken(){return this.get(E0)}set accessToken(e){e===null?this.remove(E0):this.set(E0,e)}get refreshToken(){return this.get(x0)}set refreshToken(e){e===null?this.remove(x0):this.set(x0,e)}get profile(){let e=this.get(O0);if(e){let r=new L0;return Object.assign(r,JSON.parse(e)),r}}set profile(e){e?this.set(O0,JSON.stringify(e)):this.remove(O0)}get providerType(){let e=this.get(k0);if(e)return e}set providerType(e){e?this.set(k0,e):this.remove(k0)}};z5=["inspect","callFunction","callFunctionStreaming",...Object.getOwnPropertyNames(Object.prototype)];Ua=class{constructor(e,r={}){this.fetcher=e,this.serviceName=r.serviceName,this.argsTransformation=r.argsTransformation||W5}static create(e,r={}){let n=new Ua(e,r);return new Proxy(n,{get(i,o,s){if(typeof o=="string"&&z5.indexOf(o)===-1)return i.callFunction.bind(i,o);{let a=Reflect.get(i,o,s);return typeof a=="function"?a.bind(i):a}}})}async callFunction(e,...r){let n={name:e,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute;return this.fetcher.fetchJSON({method:"POST",path:i.functionsCall().path,body:n})}callFunctionStreaming(e,...r){let n={name:e,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute,o=C_({baas_request:ec.encode(JSON.stringify(n))});return this.fetcher.fetchStream({method:"GET",path:i.functionsCall().path+o})}},L_=!1,q5=t=>{L_=t},$5=(t,e)=>{!L_||console.warn(`Deprecation warning from Realm: ${t} is deprecated and will be removed in a future major release. Consider switching to ${e}.`)},Hi=(t,e,r,n)=>{if(typeof t[0]!="object"){let i=n?", ...args":"";$5(`${e}(${r.join(", ")}${i})`,`${e}({ ${r.join(", ")} }${i})`);let o=r.reduce((a,c,d)=>({...a,[c]:t[d]}),{}),s=n?t.slice(r.length):void 0;return{argsObject:o,restArgs:s}}return{argsObject:t[0],restArgs:n?t.slice(1):void 0}};q5(typeof __DEV__<"u"&&__DEV__);P_=class{constructor(e,r="local-userpass"){this.fetcher=e,this.providerName=r}async registerUser(...e){let{argsObject:r}=Hi(e,"registerUser",["email","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).register().path,body:r})}async confirmUser(...e){let{argsObject:r}=Hi(e,"confirmUser",["token","tokenId"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirm().path,body:r})}async resendConfirmationEmail(...e){let{argsObject:r}=Hi(e,"resendConfirmationEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmSend().path,body:r})}async retryCustomConfirmation(...e){let{argsObject:r}=Hi(e,"retryCustomConfirmation",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmCall().path,body:r})}async resetPassword(...e){let{argsObject:r}=Hi(e,"resetPassword",["token","tokenId","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).reset().path,body:r})}async sendResetPasswordEmail(...e){let{argsObject:r}=Hi(e,"sendResetPasswordEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).resetSend().path,body:r})}async callResetPasswordFunction(...e){let{argsObject:r,restArgs:n}=Hi(e,"callResetPasswordFunction",["email","password"],!0),i=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:i.emailPasswordAuth(this.providerName).resetCall().path,body:{...r,arguments:n}})}};Vr={api:H5},M_=class{constructor(e){this.fetcher=e}create(e){return this.fetcher.fetchJSON({method:"POST",body:{name:e},path:Vr.api().auth().apiKeys().path,tokenType:"refresh"})}fetch(e){return this.fetcher.fetchJSON({method:"GET",path:Vr.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}fetchAll(){return this.fetcher.fetchJSON({method:"GET",tokenType:"refresh",path:Vr.api().auth().apiKeys().path})}async delete(e){await this.fetcher.fetchJSON({method:"DELETE",path:Vr.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}async enable(e){await this.fetcher.fetchJSON({method:"PUT",path:Vr.api().auth().apiKeys().key(e).enable().path,tokenType:"refresh"})}async disable(e){await this.fetcher.fetchJSON({method:"PUT",path:Vr.api().auth().apiKeys().key(e).disable().path,tokenType:"refresh"})}},R0=null;Qu=class extends Error{constructor({message:e,code:r}){super(e);this.name="WatchError",this.code=r}};(function(t){t.NEED_DATA="NEED_DATA",t.HAVE_EVENT="HAVE_EVENT",t.HAVE_ERROR="HAVE_ERROR"})(tr||(tr={}));j_=class{constructor(){this._state=tr.NEED_DATA,this._error=null,this._textDecoder=new(ja()).TextDecoder,this._buffer="",this._bufferOffset=0,this._eventType="",this._dataBuffer=""}feedBuffer(e){this.assertState(tr.NEED_DATA),this._buffer+=this._textDecoder.decode(e,{stream:!0}),this.advanceBufferState()}feedLine(e){if(this.assertState(tr.NEED_DATA),e.endsWith(`
`)&&(e=e.substr(0,e.length-1)),e.endsWith("\r")&&(e=e.substr(0,e.length-1)),e.length===0){if(this._dataBuffer.length===0){this._eventType="";return}this._dataBuffer.endsWith(`
`)&&(this._dataBuffer=this._dataBuffer.substr(0,this._dataBuffer.length-1)),this.feedSse({data:this._dataBuffer,eventType:this._eventType}),this._dataBuffer="",this._eventType=""}if(e[0]===":")return;let r=e.indexOf(":"),n=e.substr(0,r),i=r===-1?"":e.substr(r+1);i.startsWith(" ")&&(i=i.substr(1)),n==="event"?this._eventType=i:n==="data"&&(this._dataBuffer+=i,this._dataBuffer+=`
`)}feedSse(e){this.assertState(tr.NEED_DATA);let r=e.data.indexOf("%");if(r!==-1){let n="",i=0;for(let o=r;o!==-1;o=e.data.indexOf("%",i)){n+=e.data.substr(i,o-i);let s=e.data.substr(o,3);s==="%25"?n+="%":s==="%0A"?n+=`
`:s==="%0D"?n+="\r":n+=s,i=o+s.length}n+=e.data.substr(i),e.data=n}if(!e.eventType||e.eventType==="message"){try{let n=ai.parse(e.data);if(typeof n=="object"){this._nextEvent=n,this._state=tr.HAVE_EVENT;return}}catch{}this._state=tr.HAVE_ERROR,this._error=new Qu({message:"server returned malformed event: "+e.data,code:"bad bson parse"})}else if(e.eventType==="error"){this._state=tr.HAVE_ERROR,this._error=new Qu({message:e.data,code:"unknown"});try{let{error_code:n,error:i}=ai.parse(e.data);if(typeof n!="string"||typeof i!="string")return;this._error=new Qu({message:i,code:n})}catch{return}}}get state(){return this._state}nextEvent(){this.assertState(tr.HAVE_EVENT);let e=this._nextEvent;return this._state=tr.NEED_DATA,this.advanceBufferState(),e}get error(){return this._error}advanceBufferState(){for(this.assertState(tr.NEED_DATA);this.state===tr.NEED_DATA;){if(this._bufferOffset===this._buffer.length){this._buffer="",this._bufferOffset=0;return}let e=this._buffer.indexOf(`
`,this._bufferOffset);if(e===-1){this._bufferOffset!==0&&(this._buffer=this._buffer.substr(this._bufferOffset,this._buffer.length-this._bufferOffset),this._bufferOffset=0);return}this.feedLine(this._buffer.substr(this._bufferOffset,e-this._bufferOffset)),this._bufferOffset=e+1}}assertState(e){if(this._state!==e)throw Error(`Expected WatchStream to be in state ${e}, but in state ${this._state}`)}},B_=class{constructor(e,r,n,i){this.functions=Ua.create(e,{serviceName:r}),this.databaseName=n,this.collectionName=i,this.serviceName=r,this.fetcher=e}find(e={},r={}){return this.functions.find({database:this.databaseName,collection:this.collectionName,query:e,project:r.projection,sort:r.sort,limit:r.limit})}findOne(e={},r={}){return this.functions.findOne({database:this.databaseName,collection:this.collectionName,query:e,project:r.projection,sort:r.sort})}findOneAndUpdate(e={},r,n={}){return this.functions.findOneAndUpdate({database:this.databaseName,collection:this.collectionName,filter:e,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndReplace(e={},r,n={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndDelete(e={},r={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,sort:r.sort,projection:r.projection})}aggregate(e){return this.functions.aggregate({database:this.databaseName,collection:this.collectionName,pipeline:e})}count(e={},r={}){return this.functions.count({database:this.databaseName,collection:this.collectionName,query:e,limit:r.limit})}insertOne(e){return this.functions.insertOne({database:this.databaseName,collection:this.collectionName,document:e})}insertMany(e){return this.functions.insertMany({database:this.databaseName,collection:this.collectionName,documents:e})}deleteOne(e={}){return this.functions.deleteOne({database:this.databaseName,collection:this.collectionName,query:e})}deleteMany(e={}){return this.functions.deleteMany({database:this.databaseName,collection:this.collectionName,query:e})}updateOne(e,r,n={}){return this.functions.updateOne({database:this.databaseName,collection:this.collectionName,query:e,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}updateMany(e,r,n={}){return this.functions.updateMany({database:this.databaseName,collection:this.collectionName,query:e,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}async*watch({ids:e,filter:r}={}){let n=await this.functions.callFunctionStreaming("watch",{database:this.databaseName,collection:this.collectionName,ids:e,filter:r}),i=new j_;for await(let o of n)if(!!o){for(i.feedBuffer(o);i.state==tr.HAVE_EVENT;)yield i.nextEvent();if(i.state==tr.HAVE_ERROR)throw i.error}}};Z5="000000000000000000000000";(function(t){t.Active="active",t.LoggedOut="logged-out",t.Removed="removed"})(Ji||(Ji={}));(function(t){t.Normal="normal",t.Server="server"})(h_||(h_={}));F0=class{constructor(e){if(this.app=e.app,this.id=e.id,this.storage=new D_(this.app.storage,this.id),"accessToken"in e&&"refreshToken"in e&&"providerType"in e)this._accessToken=e.accessToken,this._refreshToken=e.refreshToken,this.providerType=e.providerType,this.storage.accessToken=e.accessToken,this.storage.refreshToken=e.refreshToken,this.storage.providerType=e.providerType;else{this._accessToken=this.storage.accessToken,this._refreshToken=this.storage.refreshToken;let r=this.storage.providerType;if(this._profile=this.storage.profile,r)this.providerType=r;else throw new Error("Storage is missing a provider type")}this.fetcher=this.app.fetcher.clone({userContext:{currentUser:this}}),this.apiKeys=new M_(this.fetcher),this.functions=Ua.create(this.fetcher)}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,this.storage.accessToken=e}get refreshToken(){return this._refreshToken}set refreshToken(e){this._refreshToken=e,this.storage.refreshToken=e}get state(){return this.id in this.app.allUsers?this.refreshToken===null?Ji.LoggedOut:Ji.Active:Ji.Removed}get isLoggedIn(){return this.state===Ji.Active}get customData(){if(this.accessToken)return this.decodeAccessToken().userData;throw new Error("Cannot read custom data without an access token")}get profile(){if(this._profile)return this._profile.data;throw new Error("A profile was never fetched for this user")}get identities(){if(this._profile)return this._profile.identities;throw new Error("A profile was never fetched for this user")}get deviceId(){if(this.accessToken){let e=this.accessToken.split(".")[1];if(e){let n=JSON.parse(ec.decode(e)).baas_device_id;if(typeof n=="string"&&n!==Z5)return n}}return null}async refreshProfile(){let e=await this.fetcher.fetchJSON({method:"GET",path:Vr.api().auth().profile().path});this._profile=new L0(e),this.storage.profile=this._profile}async logOut(){try{this._refreshToken!==null&&await this.fetcher.fetchJSON({method:"DELETE",path:Vr.api().auth().session().path,tokenType:"refresh"})}catch(e){if(!(e instanceof Error)||!e.message.includes("failed to find refresh token"))throw e}finally{this.accessToken=null,this.refreshToken=null}}async linkCredentials(e){let r=await this.app.authenticator.authenticate(e,this);if(this.id!==r.userId){let n=`got user id ${r.userId} expected ${this.id}`;throw new Error(`Link response ment for another user (${n})`)}this.accessToken=r.accessToken,await this.refreshProfile()}async refreshAccessToken(){let e=await this.fetcher.fetchJSON({method:"POST",path:Vr.api().auth().session().path,tokenType:"refresh"}),{access_token:r}=e;if(typeof r=="string")this.accessToken=r;else throw new Error("Expected an 'access_token' in the response")}async refreshCustomData(){return await this.refreshAccessToken(),this.customData}callFunction(e,...r){return this.functions.callFunction(e,...r)}toJSON(){return{id:this.id,accessToken:this.accessToken,refreshToken:this.refreshToken,profile:this._profile,state:this.state,customData:this.customData}}push(){throw new Error("Not yet implemented")}mongoClient(e){return K5(this.fetcher,e)}decodeAccessToken(){if(this.accessToken){let e=this.accessToken.split(".");if(e.length!==3)throw new Error("Expected an access token with three parts");let r=e[1],n=ec.decode(r),i=JSON.parse(n),{exp:o,iat:s,sub:a,user_data:c={}}=i;if(typeof o!="number")throw new Error("Failed to decode access token 'exp'");if(typeof s!="number")throw new Error("Failed to decode access token 'iat'");return{expires:o,issuedAt:s,subject:a,userData:c}}else throw new Error("Missing an access token")}},$t=class{constructor(e,r,n){this.providerName=e,this.providerType=r,this.payload=n}static anonymous(){return new $t("anon-user","anon-user",{})}static userApiKey(e){return new $t("api-key","api-key",{key:e})}static serverApiKey(e){return new $t("api-key","api-key",{key:e})}static apiKey(e){return new $t("api-key","api-key",{key:e})}static emailPassword(e,r){return new $t("local-userpass","local-userpass",{username:e,password:r})}static function(e){return new $t("custom-function","custom-function",e)}static jwt(e){return new $t("custom-token","custom-token",{token:e})}static google(e){return new $t("oauth2-google","oauth2-google",$t.derivePayload(e))}static derivePayload(e){if(typeof e=="string"){if(e.includes("://"))return this.derivePayload({redirectUrl:e});if(e.startsWith("4/"))return this.derivePayload({authCode:e});if(e.startsWith("ey"))return this.derivePayload({idToken:e});throw new Error(`Unexpected payload: ${e}`)}else if(Object.keys(e).length===1){if("authCode"in e||"redirectUrl"in e)return e;if("idToken"in e)return{id_token:e.idToken};throw new Error("Unexpected payload: "+JSON.stringify(e))}else throw new Error("Expected only one property in payload, got "+JSON.stringify(e))}static facebook(e){return new $t("oauth2-facebook","oauth2-facebook",e.includes("://")?{redirectUrl:e}:{accessToken:e})}static apple(e){return new $t("oauth2-apple","oauth2-apple",e.includes("://")?{redirectUrl:e}:{id_token:e})}},d_="userIds",p_="deviceId",U_=class extends Wr{constructor(e,r){super(e,`app(${r})`)}getUserIds(){let e=this.get(d_),r=e?JSON.parse(e):[];if(Array.isArray(r))return[...new Set(r)];throw new Error("Expected the user ids to be an array")}setUserIds(e,r){if(r){let n=this.getUserIds();for(let i of n)e.indexOf(i)===-1&&e.push(i)}this.set(d_,JSON.stringify(e))}removeUserId(e){let n=this.getUserIds().filter(i=>i!==e);this.setUserIds(n,!1)}getDeviceId(){return this.get(p_)}setDeviceId(e){this.set(p_,e)}},X5="abcdefghijklmnopqrstuvwxyz",Q5=100,e6={_stitch_client_app_id:"appId",_baas_client_app_id:"appId",_stitch_ua:"userAuth",_baas_ua:"userAuth",_stitch_link:"link",_baas_link:"link",_stitch_error:"error",_baas_error:"error",_stitch_state:"state",_baas_state:"state"},li=class{constructor(e,r=ja().openWindow){this.storage=e.prefix("oauth2"),this.openWindow=r}static parseRedirectLocation(e){let r=U5(e),n={};for(let[i,o]of Object.entries(e6)){let s=r[i];s&&(n[o]=s)}return n}static handleRedirect(e,r=ja().defaultStorage){let n=li.parseRedirectLocation(e),{state:i,error:o}=n;if(typeof i=="string"){let s=r.prefix("oauth2");li.getStateStorage(s,i).set("result",JSON.stringify(n))}else throw o?new Error(`Failed to handle OAuth 2.0 redirect: ${o}`):new Error("Failed to handle OAuth 2.0 redirect.")}static decodeAuthInfo(e){let r=(e||"").split("$");if(r.length===4){let[n,i,o,s]=r;return{accessToken:n,refreshToken:i,userId:o,deviceId:s}}else throw new Error("Failed to decode 'authInfo' into ids and tokens")}static getStateStorage(e,r){return e.prefix(`state(${r})`)}openWindowAndWaitForRedirect(e,r){let n=li.getStateStorage(this.storage,r);return new Promise((i,o)=>{let s=null,a,c=()=>{let d=n.get("result");if(d){let g=JSON.parse(d);n.removeListener(c),n.clear();try{s&&(clearInterval(a),s.close())}catch(v){console.warn(`Failed closing redirect window: ${v}`)}finally{i(g)}}};n.addListener(c),s=this.openWindow(e),a=setInterval(()=>{if(!s)clearInterval(a);else if(s.closed){clearInterval(a),n.removeListener(c);let d=new Error("Window closed");o(d)}},Q5)})}generateState(){return B5(12,X5)}},y_="x-baas-location",z_=class{constructor(e,r,n){this.fetcher=e,this.oauth2=new li(r),this.getDeviceInformation=n}async authenticate(e,r){let n=this.getDeviceInformation(),i=typeof r=="object";if(e.providerType.startsWith("oauth2")&&typeof e.payload.redirectUrl=="string"){let o=this.oauth2.generateState(),s=await this.getLogInUrl(e,i,{state:o,redirect:e.payload.redirectUrl,providerRedirectHeader:i?!0:void 0,device:i?void 0:n.encode()});if(i){let c=(await this.fetcher.fetch({method:"GET",url:s,tokenType:i?"access":"none",user:r,mode:"cors",credentials:"include"})).headers.get(y_);if(c)return this.openWindowAndWaitForAuthResponse(c,o);throw new Error(`Missing ${y_} header`)}else return this.openWindowAndWaitForAuthResponse(s,o)}else{let o=await this.getLogInUrl(e,i),s=await this.fetcher.fetchJSON({method:"POST",url:o,body:{...e.payload,options:{device:n.toJSON()}},tokenType:i?"access":"none",user:r}),{user_id:a,access_token:c,refresh_token:d=null,device_id:g}=s;if(typeof a!="string")throw new Error("Expected a user id in the response");if(typeof c!="string")throw new Error("Expected an access token in the response");if(typeof d!="string"&&d!==null)throw new Error("Expected refresh token to be a string or null");if(typeof g!="string")throw new Error("Expected device id to be a string");return{userId:a,accessToken:c,refreshToken:d,deviceId:g}}}async getLogInUrl(e,r=!1,n={}){let o=this.fetcher.appRoute.authProvider(e.providerName).login(),s=C_({link:r?"true":void 0,...n});return await this.fetcher.locationUrl+o.path+s}async openWindowAndWaitForAuthResponse(e,r){let n=await this.oauth2.openWindowAndWaitForRedirect(e,r);return li.decodeAuthInfo(n.userAuth)}},Ba=class extends Error{constructor(e,r,n,i,o,s,a){let c=i?`status ${n} ${i}`:`status ${n}`;typeof o=="string"?super(`Request failed (${e} ${r}): ${o} (${c})`):super(`Request failed (${e} ${r}): (${c})`),this.method=e,this.url=r,this.statusText=i,this.statusCode=n,this.error=o,this.errorCode=s,this.link=a}static async fromRequestAndResponse(e,r){var n;let{url:i,method:o}=e,{status:s,statusText:a}=r;if((n=r.headers.get("content-type"))===null||n===void 0?void 0:n.startsWith("application/json")){let c=await r.json();if(typeof c=="object"&&c){let{error:d,error_code:g,link:v}=c;return new Ba(o,i,s,a,typeof d=="string"?d:void 0,typeof g=="string"?g:void 0,typeof v=="string"?v:void 0)}}return new Ba(o,i,s,a)}};Gi=class{constructor({appId:e,transport:r,userContext:n,locationUrlContext:i}){this.appId=e,this.transport=r,this.userContext=n,this.locationUrlContext=i}static buildAuthorizationHeader(e,r){if(!e||r==="none")return{};if(r==="access")return{Authorization:`Bearer ${e.accessToken}`};if(r==="refresh")return{Authorization:`Bearer ${e.refreshToken}`};throw new Error(`Unexpected token type (${r})`)}static buildBody(e){if(e){if(typeof e=="object"&&e!==null)return JSON.stringify(I_(e));if(typeof e=="string")return e;throw console.log("body is",e),new Error("Unexpected type of body")}else return}static buildJsonHeader(e){return e&&e.length>0?{"Content-Type":"application/json"}:{}}clone(e){return new Gi({appId:this.appId,transport:this.transport,userContext:this.userContext,locationUrlContext:this.locationUrlContext,...e})}async fetch(e){let{path:r,url:n,tokenType:i="access",user:o=this.userContext.currentUser,...s}=e;if(typeof r=="string"&&typeof n=="string")throw new Error("Use of 'url' and 'path' mutually exclusive");if(typeof r=="string"){let a=await this.locationUrlContext.locationUrl+r;return this.fetch({...e,path:void 0,url:a})}else if(typeof n=="string"){let a=await this.transport.fetch({...s,url:n,headers:{...Gi.buildAuthorizationHeader(o,i),...e.headers}});if(a.ok)return a;if(o&&a.status===401&&i==="access")return await o.refreshAccessToken(),this.fetch({...e,user:o});throw o&&a.status===401&&i==="refresh"&&(o.accessToken=null,o.refreshToken=null),await Ba.fromRequestAndResponse(e,a)}else throw new Error("Expected either 'url' or 'path'")}async fetchJSON(e){let{body:r}=e,n=Gi.buildBody(r),i=Gi.buildJsonHeader(n),o=await this.fetch({...e,body:n,headers:{Accept:"application/json",...i,...e.headers}}),s=o.headers.get("content-type");if(s==null?void 0:s.startsWith("application/json")){let a=await o.json();return R_(a)}else{if(s===null)return null;throw new Error(`Expected JSON response, got "${s}"`)}}async fetchStream(e){let{body:r}=await this.fetch({...e,headers:{Accept:"text/event-stream",...e.headers}});return t6(r)}get appRoute(){return Vr.api().app(this.appId)}get locationUrl(){return this.locationUrlContext.locationUrl}},r6="deviceId";(function(t){t.DEVICE_ID="deviceId",t.APP_ID="appId",t.APP_VERSION="appVersion",t.PLATFORM="platform",t.PLATFORM_VERSION="platformVersion",t.SDK_VERSION="sdkVersion"})(g_||(g_={}));V_=class{constructor({appId:e,appVersion:r,deviceId:n}){this.sdkVersion="1.7.0";let i=ja();this.platform=i.platform,this.platformVersion=i.platformVersion,this.appId=e,this.appVersion=r,this.deviceId=n}encode(){let e=I0(this);return ec.encode(JSON.stringify(e))}toJSON(){return I0(this)}},n6="https://realm.mongodb.com",gn=class{constructor(e){this.users=[],this._locationUrl=null;let r=typeof e=="string"?{id:e}:e;if(typeof r=="object"&&typeof r.id=="string")this.id=r.id;else throw new Error("Missing a MongoDB Realm app-id");this.baseUrl=r.baseUrl||n6,r.skipLocationRequest&&(this._locationUrl=Promise.resolve(this.baseUrl)),this.localApp=r.app;let{storage:n,transport:i=new Zr}=r;this.fetcher=new Gi({appId:this.id,userContext:this,locationUrlContext:this,transport:i}),this.emailPasswordAuth=new P_(this.fetcher);let o=n||ja().defaultStorage;this.storage=new U_(o,this.id),this.authenticator=new z_(this.fetcher,o,()=>this.deviceInformation);try{this.hydrate()}catch(s){this.storage.clear(),console.warn("Realm app hydration failed:",s instanceof Error?s.message:s)}}static getApp(e){if(e in gn.appCache)return gn.appCache[e];{let r=new gn(e);return gn.appCache[e]=r,r}}switchUser(e){let r=this.users.findIndex(i=>i===e);if(r===-1)throw new Error("The user was never logged into this app");let[n]=this.users.splice(r,1);this.users.unshift(n)}async logIn(e,r=!0){let n=await this.authenticator.authenticate(e),i=this.createOrUpdateUser(n,e.providerType);this.switchUser(i),r&&await i.refreshProfile(),this.storage.setUserIds(this.users.map(s=>s.id),!0);let o=n.deviceId;return o&&o!=="000000000000000000000000"&&this.storage.set(r6,o),i}async removeUser(e){let r=this.users.findIndex(n=>n===e);if(r===-1)throw new Error("The user was never logged into this app");this.users.splice(r,1),await e.logOut(),this.storage.remove(`user(${e.id}):profile`),this.storage.removeUserId(e.id)}async deleteUser(e){await this.fetcher.fetchJSON({method:"DELETE",path:Vr.api().auth().delete().path}),await this.removeUser(e)}get currentUser(){let e=this.users.filter(r=>r.state===Ji.Active);return e.length===0?null:e[0]}get allUsers(){return Object.fromEntries(this.users.map(e=>[e.id,e]))}get locationUrl(){if(!this._locationUrl){let e=Vr.api().app(this.id).location().path;this._locationUrl=this.fetcher.fetchJSON({method:"GET",url:this.baseUrl+e,tokenType:"none"}).then(r=>{if(typeof r!="object")throw new Error("Expected response body be an object");return r}).then(({hostname:r})=>{if(typeof r!="string")throw new Error("Expected response to contain a 'hostname'");return r}).catch(r=>{throw this._locationUrl=null,r})}return this._locationUrl}get deviceInformation(){let e=this.storage.getDeviceId(),r=typeof e=="string"&&e!=="000000000000000000000000"?new fr(e):void 0;return new V_({appId:this.localApp?this.localApp.name:void 0,appVersion:this.localApp?this.localApp.version:void 0,deviceId:r})}createOrUpdateUser(e,r){let n=this.users.find(i=>i.id===e.userId);if(n)return n.accessToken=e.accessToken,n.refreshToken=e.refreshToken,n;{if(!e.refreshToken)throw new Error("No refresh token in response from server");let i=new F0({app:this,id:e.userId,accessToken:e.accessToken,refreshToken:e.refreshToken,providerType:r});return this.users.unshift(i),i}}hydrate(){let e=this.storage.getUserIds();this.users=e.map(r=>new F0({app:this,id:r}))}};gn.appCache={};gn.Credentials=$t;W_=class{constructor(){if(typeof globalThis.localStorage=="object")this.global=globalThis;else throw new Error("Cannot use LocalStorage without a global localStorage object")}get(e){return this.global.localStorage.getItem(e)}set(e,r){return this.global.localStorage.setItem(e,r)}remove(e){return this.global.localStorage.removeItem(e)}prefix(e){return new Wr(this,e)}clear(e){let r=[];for(let n=0;n<this.global.localStorage.length;n++){let i=this.global.localStorage.key(n);i&&(!e||i.startsWith(e))&&r.push(i)}for(let n of r)this.global.localStorage.removeItem(n)}addListener(e){return this.global.addEventListener("storage",e)}removeListener(e){return this.global.removeEventListener("storage",e)}},es=S5(),i6="localStorage"in globalThis?W_:F_;q_={defaultStorage:new i6().prefix("realm-web"),openWindow:o6,platform:(es==null?void 0:es.name)||"web",platformVersion:(es==null?void 0:es.version)||"0.0.0",TextDecoder};J5(q_)});function Dt(t="struct",e={},r={_id:""},n={structType:"struct",_id:""}){function i(s=""){return`${s+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}let o={_id:i(t+"defaultId"),structType:t,ownerId:r?._id,timestamp:Date.now(),parent:{structType:n?.structType,_id:n?._id}};return o.ownerId||delete o.ownerId,o?.parent?._id||delete o.parent,Object.keys(e).length>0&&Object.assign(o,e),o}function tc(t,e={}){if(!Yi[t.tag]&&t.position&&(Yi[t.tag]=[t.position.x,t.position.y,t.position.z]),Yi[t.tag]){let r={channel:"",position:{x:Yi[t.tag][0],y:Yi[t.tag][1],z:Yi[t.tag][2]}};return Object.assign(e,r)}else return Object.assign(e,t)}function a6(t=[],e=!0){let r=[];for(let n of t){let i=ui(n);r.push(i)}return e&&r.push(...M0({channelDicts:t})),r}function rc(t=[],e={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return t.forEach(n=>r[n]=[]),Object.assign(e,r)}function ui(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=rc(),o={tag:t,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Dt("eeg",o,r,n);return t&&tc(o,s),Object.assign(s,e)}function P0(t={0:ui("FP1"),1:ui("FP2")},e={},r={_id:""},n={structType:"struct",_id:""}){let i=rc(),o={tag:t[0]?.tag+"::"+t[1]?.tag,x0:t[0]?.position?.x,y0:t[0]?.position?.y,z0:t[0]?.position?.z,x1:t[1]?.position?.x,y1:t[1]?.position?.y,z1:t[1]?.position?.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Dt("coherence",o,r,n);return Object.assign(s,e)}function M0(t={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},e={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,a=0;a<t.channelDicts.length*(t.channelDicts.length+1)/2-t.channelDicts.length;a++){if(t.taggedOnly===!1||t.taggedOnly===!0&&t.channelDicts[s].tag!==null&&t.channelDicts[s+o].tag!==null&&t.channelDicts[s].tag!=="other"&&t.channelDicts[s+o].tag!=="other"&&t.channelDicts[s].analyze===!0&&t.channelDicts[s+o].analyze===!0){var c=ui(t.channelDicts[s].tag),d=ui(t.channelDicts[s+o].tag);i.push(P0({0:c,1:d},{},r,n))}o++,o+s===t.channelDicts.length&&(s++,o=1)}return i}function j0(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=Dt("fnirs",i,r,n);return t&&tc(i,o),Object.assign(o,e)}function Y_(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=Dt("imu",i,r,n);return t&&tc(i,o),Object.assign(o,e)}function K_(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},o=Dt("eyetracker",i,r,n);return Object.assign(o,e)}function B0(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},o=Dt("ecg",i,r,n);return Object.assign(o,e)}function Z_(t="",e={},r={_id:""},n={structType:"struct",_id:""}){}function X_(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=j0(t,r,n,e);return i.structType="ppg",i}function Q_(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=B0(t,r,n,e);return i.structType="hrv",i}function e2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=ui(t,r,n,e);return i.structType="emg",i}function t2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Dt("profile",{tag:t,name:"",username:"",firstName:"",lastName:"",email:"",sex:"",birthday:"",type:"",userRoles:[],id:""},r,n);return Object.assign(i,e)}function r2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:new Array,structs:new Array,excluded:new Array,groups:new Array,status:"PENDING",expires:!1,associatedAuthId:""},o=Dt("authorization",i,r,n);return Object.assign(o,e)}function n2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,name:"",details:"",admins:new Array,peers:new Array,clients:new Array,users:new Array},o=Dt("group",i,r,n);return Object.assign(o,e)}function i2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",expires:!1,type:"",data:new Array},o=Dt("dataInstance",i,r,n);return Object.assign(o,e)}function o2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:new Array},o=Dt("event",i,r,n);return Object.assign(o,e)}function s2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:new Array,audioChatActive:!1,videoChatActive:!1},o=Dt("chatroom",i,r,n);return Object.assign(o,e)}function a2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:new Array,attachments:new Array},o=Dt("comment",i,r,n);return Object.assign(o,e)}function l2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Dt("notification",{tag:t,note:"",parentUserId:""},r,n);return Object.assign(i,e)}function u2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",attachments:new Array,dates:new Array},o=Dt("schedule",i,r,n);return Object.assign(o,e)}function c2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},o=Dt("date",i,r,n);return Object.assign(o,e)}function v6(t=[],e={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return t.forEach((n,i)=>{for(let o in e)r[o]||(r[o]=[[],[]]),n>=e[o][0]&&n<=e[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r}function S6(t,e,r){let n=(e-t)/r,i=[],o=0;for(;o<e;)i.push(o),o+=n;return i}var J_,s6,G_,qe,In,Yi,l6,u6,Ki,Le,c6,f6,h6,d6,p6,y6,g6,m6,w6,_6,f2,h2=Ge(()=>{J_=Object.defineProperty,s6=(t,e,r)=>e in t?J_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,G_=(t,e)=>{for(var r in e)J_(t,r,{get:e[r],enumerable:!0})},qe=(t,e,r)=>(s6(t,typeof e!="symbol"?e+"":e,r),r),In={};G_(In,{AuthorizationStruct:()=>r2,ChatroomStruct:()=>s2,CoherenceMap:()=>M0,CoherenceStruct:()=>P0,CommentStruct:()=>a2,DataStruct:()=>i2,DateStruct:()=>c2,ECGStruct:()=>B0,EDAStruct:()=>Z_,EEGCoordinates:()=>a6,EEGStruct:()=>ui,EMGStruct:()=>e2,EventStruct:()=>o2,EyeTrackerStruct:()=>K_,FNIRSStruct:()=>j0,FrequencyBandsStruct:()=>rc,GroupStruct:()=>n2,HRVStruct:()=>Q_,IMUStruct:()=>Y_,NotificationStruct:()=>l2,PPGStruct:()=>X_,ProfileStruct:()=>t2,ScheduleStruct:()=>u2,Struct:()=>Dt,eegCoordinates:()=>Yi,setCoordinate:()=>tc,structRegistry:()=>l6});Yi={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};l6={Struct:Dt,EEGStruct:ui,FNIRSStruct:j0,CoherenceStruct:P0,CoherenceMap:M0,FrequencyBandsStruct:rc,IMUStruct:Y_,EyeTrackerStruct:K_,ECGStruct:B0,EDAStruct:Z_,PPGStruct:X_,HRVStruct:Q_,EMGStruct:e2,ProfileStruct:t2,AuthorizationStruct:r2,GroupStruct:n2,DataStruct:i2,EventStruct:o2,ChatroomStruct:s2,CommentStruct:a2,NotificationStruct:l2,ScheduleStruct:u2,DateStruct:c2},u6={};G_(u6,{bandpassWindow:()=>S6,get40HzGamma:()=>y6,getAlphaBetaRatio:()=>d6,getAlphaRatio:()=>f6,getAlphaThetaRatio:()=>p6,getCoherenceScore:()=>c6,getHEGRatioScore:()=>m6,getLowGammaScore:()=>g6,getThetaBetaRatio:()=>h6,mapCoherenceData:()=>_6,mapFFTData:()=>w6,splitFrequencyBands:()=>v6});Ki=class{constructor(){}static genSineWave(t=20,e=1,r=1,n=512,i=0,o=1){for(var s=[],a=[],c=1/n,d=0;d<r;d+=c){var g=Math.sin(2*Math.PI*t*d)*e;g+=Math.sin(2*Math.PI*i*d)*o,s.push(g),a.push(d)}return[a,s]}static getSineAmplitude(t=20,e=1,r=0,n=0){return Math.sin(this.TWO_PI*t*r+n)*e}static mean(t){var e=t.reduce((r,n)=>n+=r);return e/t.length}static mode(t){return t.sort((e,r)=>t.filter(n=>n===e).length-t.filter(n=>n===r).length).pop()}static std(t,e=void 0){let r=e;e||(r=this.mean(t));let n=0;for(let i=0;i<t.length;i++){let o=t[i]-r;n+=o*o}return Math.sqrt(n/t.length)}static relError(t=[],e=[],r=!0){if(t.length!==e.length)throw new Error("Input arrays of same length!");let n=t.length,i=[];for(let o=0;o<n;o++){let s=(t[o]-e[o])/t[o];r&&(s=Math.abs(s)),i.push(s)}return i}static informationEntropy(t=[]){let e=[],r=t.length;for(let n=0;n<r;n++){let i=t[n]*Math.log(t[n]);isNaN(i)&&(i=0),e.push(i)}return e}static zscore(t){let e=this.mean(t),r=this.std(t,e),n=[];for(let i=0;i<t.length;i++)n.push((t[i]-e)/r);return n}static variance(t){var e=this.mean(t);return t.reduce((r,n)=>r+(n-e)**2,0)/t.length}static dot(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}static cross3D(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}static magnitude(t){var e=0;return t.forEach(r=>{e+=r*r}),Math.sqrt(e)}static distance(t,e){var r=0;return t.forEach((n,i)=>{r+=(e[i]-n)*(e[i]-n)}),Math.sqrt(r)}static normalize(t){var e=0;e=this.magnitude(t);var r=[];return t.forEach((n,i)=>{r.push(n*e)}),r}static quadraticFormula(t,e,r){let n=Math.sqrt(e*e-4*t*r);if(!isNaN(n))return["complex","complex"];let i=1/(2*t);if(n===0)return[e*i];let o=-e;return[(o+n)*i,(o-n)*i]}static newtonsMethod(t=o=>Math.pow(o,5)+o*o-o-.2,e=0,r=1,n=.01,i=10){let o=[];for(let s=0;s<i;s++){let a=Math.random()*(r-e),c=t(a),d=t(a+n),g=(d-c)/n,v=a+n;for(;Math.abs(g)>n;){let b=-c/k,I=v+b;c=d,d=t(I);let k=(d-c)/(I-v)}let p,w=o.find((b,I)=>{if(Math.abs(xn1-b)<n)return p=I,!0});w?o[p]=(xn1+w)*.5:o.push(xn1)}return o}static makeVec(t,e){var r=[];return t.forEach((n,i)=>{r.push(e[i]-n)}),r}static transpose(t){return t[0].map((e,r)=>t.map(n=>n[r]))}static matmul(t,e){for(var r=t.length,n=t[0].length,i=e.length,o=e[0].length,s=new Array(r),a=0;a<r;++a){s[a]=new Array(o);for(var c=0;c<o;++c){s[a][c]=0;for(var d=0;d<n;++d)s[a][c]+=t[a][d]*e[d][c]}}return s}static matscale(t,e){let r=[];for(var n=0;n<t.length;n++){r[n]=[];for(let i=0;i<t[0].length;i++)r[n][i]=t[n][i]*e}return r}static matadd(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]+e[i][n]}return r}static matsub(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]-e[i][n]}return r}static histogram(t=[],e=1,r=void 0){let n=[...t];n.sort(function(c,d){return c-d});let i=Math.min(...n);if(typeof r=="number"){let c=Math.max(...n);e=Math.abs((c-i)/(r-1))}let o=i,s=[],a=[];for(let c=0;c<n.length;c++){let d=e*o;if(n[c]>i+d){o++,d+=e;let g=i+d+d*.5;s.push(g),a.push(0)}a[a.length-1]++}return[s,a]}static normalDistribution(t=[],e=!0,r=1e-4){let n=this.mean(t),i=this.variance(t),o=t.length,s=[],a=1/(this.TWO_PI*i),c=1/i,d=0;for(let g=0;g<o;g++){let v=Math.exp(-.5*Math.pow((t[g]-n)*c,2))*a;v<r&&(v=0),s.push(v),d+=v}if(e){let g=1/d;s=s.map(v=>v*g)}return s}static expectedValue(t=[],e=this.normalDistribution(t)){return t.reduce((r,n,i)=>r+n*e[i])}static originMoment(t=[],e=this.normalDistribution(t),r=1){return t.reduce((n,i,o)=>n+Math.pow(i,r)*e[o])}static centralMoment(t=[],e=this.normalDistribution(t),r=1){let n=this.mean(t);return t.reduce((i,o,s)=>i+Math.pow(o-n,r)*e[s]/t.length)}static linearDiscriminantAnalysis(t=[],e=[]){let r=this.mean(t),n=this.mean(e),i=this.cov1d(t,e),o=this.normalDistribution(t),s=[];for(let a=0;a<t.length;a++)s.push(x[a]*i*n-.5*r*i*n+Math.log10(o[a]));return s}static conv1D(t=[],e=[1/3,1/3,1/3],r=Math.floor(e.length*.5)){let n=[],i=1/e.length;if(r>0){let a=new Array(r).fill(0);t=[...a,...t,...a]}let o=Math.floor(e.length*.5),s=t.length-e.length+o;for(let a=o;a<s;a++){let c=0;for(let d=0;d<e.length;d++)c+=t[a-o]*e[d];n.push(c*i)}return n}static conv2D(t=[[],[],[]],e=[[],[],[]],r=0){let n=new Array(t.length-Math.ceil(e.length*.5)).fill([]),i,o=Ki.transpose(o);if(r>0){let I=new Array(r).fill(0);i=Ki.transpose(t);for(let k=0;k<i.length;k++)i[k]=[...I,...i[k],...I];t=Ki.transpose(i);for(let k=0;k<t.length;k++)t[k]=[...I,...t[k],...I]}let s=Math.floor(e[0].length*.5),a=Math.floor(o[0].length*.5),c=t[0].length-e[0].length+s,d=i[0].length-o[0].length+a,g=1/(e[0].length*o[0].length),v=c*d,p=s,w,b=a;for(;p<v;){let I=0;w=p%t[0].length,w===0&&b++;for(let k=0;k<e[0].length;k++){for(let A=0;A<o[0].length;k++)I+=t[b-a+A][w-s+k]*e[A][k];n[b].push(I*g)}p++}return n}static cov2d(t){var e=this.transpose(t),r=[],n=[],i=[];t.forEach((b,I)=>{n.push(this.mean(b))}),e.forEach((b,I)=>{i.push(this.mean(b))}),t.forEach((b,I)=>{r.push([]);for(var k=0;k<b.length;k++)r[I].push((t[I][k]-n[I])*(t[I][k]-i[k])/(b.length-1))});for(var o=this.transpose(r),s=r.length,a=r[0].length,c=o.length,d=o[0].length,g=new Array(s),v=0;v<s;++v){g[v]=new Array(d);for(var p=0;p<d;++p){g[v][p]=0;for(var w=0;w<a;++w)g[v][p]+=r[v][w]*o[w][p]/(t[0].length-1)}}return g}static cov1d(t=[],e=[]){return this.cov2d([t,e])}static cov3d(t=[],e=[],r=[]){return[[this.cov1d(t,t),this.cov1d(t,e),this.cov1d(t,r)],[this.cov1d(e,t),this.cov1d(e,e),this.cov1d(e,r)],[this.cov1d(r,t),this.cov1d(r,e),this.cov1d(r,r)]]}static covNd(t=[]){let e=[];t.forEach((r,n)=>{e.push([]),t.forEach((i,o)=>{e[n].push(this.cov1d(r,i))})})}static eigens2x2(t=[[1,2],[3,4]]){let e=t[0][0]*t[1][1]-t[0][1]*t[1][0],r=(t[0][0]+t[1][1])*.5,n=Math.sqrt(r*r-e),i=r+n,o=r-n;return[i,o]}static eigenvectors2x2(t=[[1,2],[3,4]],e=[1,2]){let r=[-t[0][1],t[0][0]-e[0]];r[0]===0&&r[1]===0&&(r[0]=t[1][1]-e[0],r[1]=-t[1][0]);let n=[-t[0][1],t[0][0]-e[1]];return n[0]===0&&n[1]===0&&(n[0]=t[1][1]-e[1],n[1]=-t[1][0]),[r,n]}static fastpca2d(t,e){let r=this.cov1d(t,e),n=this.eigens2x2(r);n[1]>n[0]&&n.reverse();let i=this.eigenvectors2x2(r,n);return console.log(n,i),[n,i]}static crosscorrelation(t,e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(t),i=this.mean(e),o=t.reduce((v,p)=>v+=Math.pow(p-n,2));o=Math.sqrt(o);var s=e.reduce((v,p)=>v+=Math.pow(p-n,2));s=Math.sqrt(s);for(var a=1/(o*s),c=new Array(t.length).fill(0),d=0;d<t.length;d++){var g=t.reduce((v,p,w)=>v+=(p-n)*(r[d+w]-i));c[d]=g*a}return c}static autocorrelation(t){var e=[...t,...Array(t.length).fill(0)],r=this.mean(t),n=t.reduce((c,d)=>c+=Math.pow(d-r,2));n=Math.sqrt(n);for(var i=1/(n*n),o=new Array(t.length).fill(0),s=0;s<t.length;s++){var a=t.reduce((c,d,g)=>c+=(d-r)*(e[s+g]-r));o[s]=a*i}return o}static correlograms(t=[[],[]]){var e=[];return t.forEach((r,n)=>{t.forEach((i,o)=>{o>=n&&e.push(Ki.crosscorrelation(r,i))})}),e}static sma(t=[],e){for(var r=[],n=0;n<t.length;n++)if(n==0)r.push(t[0]);else if(n<e){var i=t.slice(0,n+1);r.push(i.reduce((o,s)=>s+=o)/(n+1))}else{var i=t.slice(n-e,n);r.push(i.reduce((s,a)=>a+=s)/e)}return r}static sum(t=[]){if(t.length>0){var e=t.reduce((r,n)=>n+=r);return e}else return 0}static reduceArrByFactor(t,e=2){return t.filter((r,n)=>n%e===0)}static makeArr(t,e,r){for(var n=[],i=(e-t)/(r-1),o=0;o<r;o++)n.push(t+i*o);return n}static interpolateArray(t,e,r=1){var n=function(v,p,w){return(v+(p-v)*w)*r},i=new Array,o=new Number((t.length-1)/(e-1));i[0]=t[0];for(var s=1;s<e-1;s++){var a=s*o,c=new Number(Math.floor(a)).toFixed(),d=new Number(Math.ceil(a)).toFixed(),g=a-c;i[s]=n(t[c],t[d],g)}return i[e-1]=t[t.length-1],i}static isExtrema(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}else if(e==="valley"){if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}else if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}}return n}else return}static isCriticalPoint(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}else if(e==="valley"){if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}else if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}}return n}else return}static getPeakThreshold(t,e,r){let n,i=t.filter((o,s)=>{if(e.indexOf(s)>-1)return!0});return r===0?n=this.mean(i):n=(r+this.mean(i))*.5,n}static column(t,e){let r=new Array(t.length).fill(0).map(()=>new Array(1).fill(0));for(let n=0;n<t.length;n++)r[n][0]=t[n][e];return r}static flatten_vector(t){let e=[];for(let r=0;r<t.length;r++)e[r]=t[r][0];return e}static squared_difference(t,e){let r=0;for(let n=0;n<t.length;n++)r=r+Math.pow(t[n]-e[n],2);return r}static shift_deflate(t,e,r){let n=Math.sqrt(this.matmul(this.transpose(r),r)),i=this.matscale(r,1/n),o=this.matscale(this.matmul(i,this.transpose(i)),e);return this.matsub(t,o)}static eigenvalue_of_vector(t,e){return ev=this.matmul(this.matmul(this.transpose(e),t),e),ev}static power_iteration(t,e=1e-5,r=1e3){let n=t.length,i=new Array(n).fill(0).map(()=>new Array(1).fill(Math.sqrt(n))),o=this.eigenvalue_of_vector(t,i),s=1,a=0;for(;s>e&&a<r;){let c=JSON.parse(JSON.stringify(o)),d=this.matmul(t,i);i=this.normalize(d),o=this.eigenvalue_of_vector(t,i),s=Math.abs(o-c),a++}return[o,i]}static eigens(t,e=1e-4,r=1e3){let n=[],i=[];for(let o=0;o<t.length;o++){let s=this.power_iteration(t,e,r),a=s[0],c=s[1];n[o]=a,i[o]=this.flatten_vector(c),t=this.shift_deflate(t,a,c)}return[n,i]}static pca(t,e=1e-5){let r=t.length,n=new Array(r),i=new Array(r),o=this.transpose(t);n[0]=this.column(t,0);let s=1,a=0;for(;espilon>e;){a++,i[0]=this.matmul(o,n[0]);let c=this.matmul(this.transpose(n[0]),n[0]);i[0]=this.matscale(i[0],1/c);let d=Math.sqrt(this.matmul(this.transpose(i[0]),i[0]));i[0]=this.matscale(i[0],1/d);let g=this.matmul(t,i[0]),v=this.matmul(this.transpose(i[0]),i[0]);g=this.matscale(g,1/v),s=this.squared_difference(n[0],g),n[0]=JSON.parse(JSON.stringify(g))}return this.matmul(this.transpose(n[0]),n[0])}static p300(t=[],e=[],r=[],n=256){let i=Math.floor(n/10),o=this.sma(e,i),s=this.peakDetect(o,"peak",i),a=this.mean(o),c=this.std(o,a),d=0,g=[];return s.length>0&&t.forEach((v,p)=>{for(;r[s[d]]<v+200&&(d++,!!s[d]););let w=0,b=[];for(;r[s[d+w]]<v+600&&(b.push(d+w),w++,!!s[d+w]););if(b.length>1){let I=[];b.forEach(D=>{I.push(o[s[D]])});let k=Math.max(...I),A=b[I.indexOf(k)];g.push({event_timestamp:v,event_index:p,peak_timestamp:r[[s[A]]],signal_index:[s[A]],signal_amplitude:e[[s[A]]],zscore:(o[s[A]]-a)/c})}else b.length===1&&g.push({event_timestamp:v,event_index:p,peak_timestamp:r[s[b[0]]],signal_index:s[b[0]],signal_amplitude:e[[s[b[0]]]],zscore:(o[s[b[0]]]-a)/c})}),g}},Le=Ki;qe(Le,"TWO_PI",Math.PI*2),qe(Le,"C",299792458),qe(Le,"G",66743e-15),qe(Le,"h",662607015e-42),qe(Le,"R",8314.32),qe(Le,"Ra",287),qe(Le,"H",69.3),qe(Le,"kbar",1054571817e-43),qe(Le,"kB",1380649e-29),qe(Le,"ke",89875517923e-1),qe(Le,"me",91093837015e-41),qe(Le,"mp",167262192369e-38),qe(Le,"mn",167492749804e-38),qe(Le,"P0",101325),qe(Le,"T0",288.15),qe(Le,"p0",1.225),qe(Le,"Na",60220978e16),qe(Le,"y",1.405),qe(Le,"M0",28.96643),qe(Le,"g0",9.80665),qe(Le,"Re",6378100),qe(Le,"B",1458e-9),qe(Le,"S",110.4),qe(Le,"Sigma",365e-12),qe(Le,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),qe(Le,"integral",(t=n=>n,e=[],r=.01)=>{let n=0;for(let i=e[0];i<e[1];i+=r)n+=t(i)*r;return n}),qe(Le,"dintegral",(t=(i,o)=>i+o,e=[[],[]],r=.01,n=r)=>{let i=0;for(let o=e[0][0]+r;o<e[0][1];o+=r)for(let s=e[1][0]+n;s<e[1][1];s+=n)i+=t(o,s)*r*n;return i}),qe(Le,"tintegral",(t=(o,s,a)=>o+s+a,e=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=e[0][0]+r;s<e[0][1];s+=r)for(let a=e[1][0]+n;a<e[1][1];a+=n)for(let c=e[2][0]+i;c<e[2][1];c+=i)o+=t(s,a,c)*r*n*i;return o}),qe(Le,"pintegral",(t=n=>n,e=[],r=.01)=>{let n=0,i,o;for(let s=e[0];s<e[1];s+=r)i=o,o=t(s),i&&(n+=Ki.distance([0,i],[r,o]));return n}),qe(Le,"peakDetect",(t,e="peak",r=49)=>{let n=Math.floor(r*.5),i=[];for(let o=0;o<t.length-r;o++)Ki.isExtrema(t.slice(o,o+r),e)&&i.push(o+n-1);return i});c6=(t,e="alpha1")=>{let r=[];return Array.isArray(t)||(t=[t]),t.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[e].slice(i-o);r.push(Le.mean(s))}}),Le.mean(r)},f6=t=>t.fftCount>0?t.means.alpha2[t.fftCount-1]/t.means.alpha1[t.fftCount-1]:0,h6=t=>t.fftCount>0?t.means.theta[t.fftCount-1]/t.means.beta[t.fftCount-1]:0,d6=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.beta[t.fftCount-1]:0,p6=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.theta[t.fftCount-1]:0,y6=(t,e)=>{if(t.fftCount>0&&Array.isArray(e)){let r=t.slices.lowgamma[t.fftCount-1],n=[];return r.forEach((i,o)=>{e.lowgamma[0][o]>38&&e.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}else return 0},g6=t=>{if(t.fftCount>0){let e=t.fftCount,r=20;e<r&&(r=e);let n=t.means.lowgamma.slice(e-r);return t.means.lowgamma[e-1]-Le.mean(n)}else return 0},m6=t=>{if(t.count>0){let e=t.count,r=40;e<r&&(r=e);let n=t.ratio.slice(e-r);return t.ratio[e-1]-Le.mean(n)}else return 0};w6=(t,e,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(e),n.ffts.push(t);for(let o in r){let s=t.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((a,c)=>a+c)/s.length),i+=r[o][1].length}},_6=(t,e,r,n)=>{t.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(e),n[o].ffts.push(data);let s=0;for(let a in r){let c=fft.slice(s,s+r[a][1].length);coord.slices[a].push(c),coord.means[a].push(c.reduce((d,g)=>d+g)/c.length),s+=r[a][1].length}})};f2=class{constructor(t={},e=!1,r=void 0){this.DS=In,this.collections=new Map,this.data={byTime:{},notes:{},events:{},sleep:{},food:{},hr:{},ppg:{},hrv:{},ecg:{},emg:{},eeg:{},fnirs:{}},this.rolloverLimit=5e4,this.dataSorts=new Map,this.watches={},this.onCollectionSet=(n,i)=>{},this.ontrigger=n=>{},this.threaded=e,r?this.workers=r:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&(this.threaded=!0),Object.assign(this.data,t),this.dataSorts=new Map,this.watches={},this.setSort("event",n=>(this.data.events[n.timestamp]?this.data.events[n.timestamp].push(n):this.data.events[n.timestamp]=[n],n.event==="sleep"&&(this.data.sleep[n.timestamp]?this.data.sleep[n.timestamp].push(n):this.data.sleep[n.timestamp]=[n]),n)),this.setSort(["notes","note","link"],n=>(this.data.notes[n.timestamp]?this.data.notes[n.timestamp].push(n):this.data.notes[n.timestamp]=[n],this.data.byTime[n.timestamp]?this.data.byTime[n.timestamp].push(n):this.data.byTime[n.timestamp]=[n],n)),this.id=this.randomId("dataTablet")}randomId(t=""){return`${t+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}setLocalData(t){let e=r=>{let n=r.structType,i=this.collections.get(n);i||(i=new Map,this.collections.set(n,i)),i.set(r._id,r),this.onCollectionSet(n,i)};Array.isArray(t)?t.forEach(r=>{e(r)}):e(t)}getLocalData(t,e){let r="",n="",i="";if(typeof e=="object"?(r=e.ownerId,n=Object.keys(e).filter(s=>s!="ownerId")[0],i=e[n]):i=e,!t&&!r&&!n&&!i)return[];let o=[];if(!t&&(r||n))return this.collections.forEach(s=>{if((n==="_id"||n==="id")&&i){let a=s.get(i);a&&o.push(a)}else s.forEach(a=>{n&&i?a[n]===i&&a.ownerId===r&&o.push(a):a.ownerId===r&&o.push(a)})}),o;{let s=this.collections.get(t);if(!s)return o;if(!n&&!r)return s.forEach(a=>{o.push(a)}),o;if((n==="_id"||n==="id")&&i)return s.get(i);s.forEach((a,c)=>{n&&i&&!r?a[n]===i&&o.push(a):r&&!n?a.ownerId===r&&o.push(a):r&&n&&i&&a.ownerId===r&&a[n]&&a[n]===i&&o.push(a)})}return o}runSort(t,e={},r=[],n=this){let i;if(this.threaded===!1){let o=this.getSort(t);if(o)i=o(e,r,n);else return!1}else if(this.threaded===!0)return this.workers.runWorkerFunction("runSort",[t,e,r],this.workerId,this.id);return i}setSort(t,e=(r,n=[],i=this)=>{}){if(this.threaded===!1)Array.isArray(t)?t.forEach(r=>{this.dataSorts.set(r,e)}):this.dataSorts.set(t,e);else if(this.threaded===!0)return this.workers.runWorkerFunction("setSort",[t,e.toString()],this.workerId,this.id)}getSort(t){if(this.threaded===!1)return this.dataSorts.get(t);if(this.threaded===!0)return this.workers.runWorkerFunction("getSort",[t],this.workerId,this.id)}checkWatches(t={}){for(let e in this.watches)this.watches[e].ondata(t,this.watches[e].accum,this.watches[e]),this.watches[e].triggered&&(this.ontrigger(this.watches[e].accum),this.watches[e].triggered=!1)}setWatch(t,e=(n,i,o)=>{},r=n=>{}){this.watches[t]={triggered:!1,accum:this.DS.Struct("alert"),ondata:e,ontrigger:r}}getWatch(t){return this.watches[t]}async sortStructsIntoTable(t=[]){let e=function(n,i){return n.timestamp-i.timestamp};t.sort(e);let r=[];for(let n=0;n<t.length;n++){let i=t[n];if(!i.timestamp)continue;let o=i.timestamp;if(this.data.byTime[o]?this.data.byTime[o].push(i):this.data.byTime[o]=[i],i.structType==="dataInstance"&&i.data)i.data.forEach(async s=>{if(typeof s=="object"&&!Array.isArray(s)){let a=s.dataType;if(s.ownerId=i.ownerId,s.timestamp||(s.timestamp=o),a){let c=this.runSort(a,s,r,this);c?c.constructor?.name!=="Promise"&&(this.checkWatches(c),this.onUpdate(o,c),r.push(c)):(this.data[a]||(this.data[a]={}),s.timestamp=o,this.data[a][o]?this.data[a][o].push(s):this.data[a][o]=[s],this.data.byTime[o]?this.data.byTime[o].push(s):this.data.byTime[o]=[s],this.checkWatches(s),this.onUpdate(o,s),r.push(s))}}});else{let s=this.runSort(i.structType,i,r,this);if(s)this.checkWatches(s),this.onUpdate(o,s),r.push(s);else{let a=i.structType;this.data[a]||(this.data[a]={}),this.data[a][o]?this.data[a][o].push(i):this.data[a][o]=[i],this.checkWatches(i),this.onUpdate(o,i),r.push(i)}}}for(let n in this.data)this.data[n]=this.sortObjectByPropName(this.data[n]);this.onSorted(r)}onUpdate(t,e,r=this.data){}onSorted(t=[]){}getDataByTimestamp(t,e){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimestamp",[t,e],this.workerId,this.id);let r=this.data.byTime[t];return e&&r&&(r=r.filter(n=>e?e===n.ownerId:!0)),r}getDataByTimeRange(t,e,r,n){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimeRange",[t,e,r,n],this.workerId,this.id);let i={};if(r){for(let o in this.data[r]){let s=parseInt(o);s>t&&s<e&&(i[o]=[...this.data[r][o]])}r==="sleep"&&(i=this.filterSleepResults(i))}else for(let o in this.data.byTime){let s=parseInt(o);s>t&&s<e&&(i[o]=[...this.data.byTime[o]])}if(n&&i)for(let o in i){let s=[];i[o]=i[o],i[o].forEach((a,c)=>{a.ownerId!==n&&s.push(c)}),s.reverse().forEach(a=>{i[o].splice(a,1)}),i[o].length===0&&delete i[o]}return i}getDataByType(t,e,r){if(!this.data[t])return;let n={...this.data[t]};if(e&&(n=[...n[e]]),r&&n)for(let i in n){let o=[];n[i]=[...n[i]],n[i].forEach((s,a)=>{s.ownerId!==r&&o.push(a)}),o.reverse().forEach(s=>{n[i].splice(s,1)}),n[i].length===0&&delete n[i]}return t==="sleep"&&(n=this.filterSleepResults(n)),n}filterSleepResults(t={}){let e=[];for(let r in t)t[r]=[...t[r]],e.push(...t[r].filter(n=>n.structType==="event"));return e.forEach(r=>{let n;for(let i in t)t[i].forEach((o,s)=>o.structType==="fitbitsleep"&&r.startTime&&r.endTime&&Math.abs(o.startTime-r.startTime)<1e3*12*3600&&Math.abs(o.endTime-r.endTime)<1e3*12*3600&&r.endTime-r.startTime>1e3*2*3600?(n=s,!0):!1),n&&t[i].splice(n,1)}),t}sortObjectByPropName(t){return Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{})}checkRollover(t,e=this.rolloverLimit){if(!t)return!1;let r=this.collections.get(t);return r?(r.forEach(n=>{for(let i in n)Array.isArray(n[i])?n[i].length>e&&(n[i].slice(n[i].length-e),i==="ffts"?n.fftCount=n[i].length:i==="times"&&(n.count=n[i].length)):typeof n[i]=="object"&&this.checkRollover(n[i])}),!0):!1}}});var d2,p2,y2,g2=Ge(()=>{d2=class{constructor(e=!1,r=!1){this.debug=e,this.listeners=[],this.synchronous=r,this.syncInterval="FRAMERATE",this.syncAnim=void 0,r===!0&&this.startSync()}addListener(e=null,r,n=void 0,i=void 0,o=void 0,s=this.debug,a=!0){if(r===void 0){console.error("You must assign an object");return}var c=e;c==null&&(c=Math.floor(Math.random()*1e5)),this.synchronous===!0&&(a=!1);var d={key:c,listener:new p2(r,n,i,o,s,a)};this.listeners.push(d)}getListener(e){return this.listeners.find((n,i)=>{if(n.key===e)return!0})}hasKey(e){var r=!1;return this.listeners.forEach((n,i)=>{if(n.key===e)return r=!0,!0}),r}getKeyIndices(e){var r=[];return this.listeners.find((n,i)=>{n.key===e&&r.push(i)}),r}onchange(e=null,r=null){if(e==null)this.listeners.forEach((i,o)=>{i.listener.onchange=r});else var n=this.listeners.find((i,o)=>{i.name===e&&(i.listener.onchange=r)})}addFunc=(e=null,r=null,n=!0)=>{var i=null;if(r!==null)if(e==null)this.listeners.forEach((s,a)=>{i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start()});else var o=this.listeners.find((s,a)=>{s.key===e&&(i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start())});return i};getFuncs=(e=void 0)=>{if(e){var r=this.listeners.find((n,i)=>{if(n.key===e)return!0});return r.onchangeFuncs}else return};removeFuncs=(e=null,r=null,n=!1)=>{if(e==null)this.listeners.forEach((o,s)=>{o.listener.removeFuncs(r)});else var i=this.listeners.find((o,s)=>{o.key===e&&(o.listener.removeFuncs(r),(o.listener.onchangeFuncs.length===0||n===!0)&&o.listener.stop())})};stop(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.stop()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.stop()})}start(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.start()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.start()})}startSync(){if(this.synchronous===!1){this.synchronous=!0,this.stop();let e=()=>{this.synchronous===!0&&(this.listeners.forEach(r=>{r.listener.check()}),this.syncInterval==="FRAMERATE"?this.syncAnim=requestAnimationFrame(e):typeof this.syncInterval=="number"&&setTimeout(e,this.syncInterval))};e()}}stopSync(){this.synchronous=!1,this.syncAnim&&cancelAnimationFrame(this.syncAnim)}remove(e=null){if(e==null)this.listeners.forEach(i=>{i.listener.stop()}),this.listeners.splice(0,this.listeners.length);else{var r=[],n=this.listeners.forEach((i,o)=>{i.key===e&&r.push(o)});r.reverse().forEach(i=>{this.listeners[i].listener.stop(),this.listeners.splice(i,1)})}}},p2=class{constructor(e,r="__ANY__",n=this.onchange,i="FRAMERATE",o=!1,s=!0){this.debug=o,this.onchange=n,this.onchangeFuncs=[],this.object=e,this.propName=r,this.propOld=void 0,this.setListenerRef(r),this.running=s,this.funcs=0,this.interval,i<10?(this.interval=10,console.log("Min recommended interval set: 10ms")):this.interval=i,s===!0&&(typeof window>"u"?setTimeout(()=>{this.check()},60):this.checker=requestAnimationFrame(this.check))}onchange=e=>{console.log(this.propName," changed from: ",this.propOld," to: ",this.object[this.propName])};addFunc=(e=null)=>{let r=0;return e!==null&&(this.onchangeFuncs.push({idx:this.funcs,onchange:e}),r=this.funcs,this.funcs++),r};removeFuncs(e=null){let r=0;e===null?this.onchangeFuncs=[]:this.onchangeFuncs.find((n,i)=>{if(n.idx===e)return r=i,!0})!==void 0&&this.onchangeFuncs.splice(r,1)}onchangeMulti=e=>{[...this.onchangeFuncs].forEach((n,i)=>{this.debug===!0&&console.log(n.onchange),n.onchange(e)})};setListenerRef=e=>{e==="__ANY__"||e===null||e===void 0?this.propOld=JSON.stringifyFast(this.object):Array.isArray(this.object[e])?this.propOld=JSON.stringifyFast(this.object[e].slice(this.object[e].length-20)):typeof this.object[e]=="object"?this.propOld=JSON.stringifyFast(this.object[e]):typeof this.object[e]=="function"?this.propOld=this.object[e].toString():this.propOld=this.object[e],this.debug===!0&&console.log("propname",e,", new assignment: ",this.propOld)};check=()=>{let e=!1;if(this.propName==="__ANY__"||this.propName===null||this.propName===void 0)this.propOld!==JSON.stringifyFast(this.object)&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object),this.setListenerRef(this.propName),e=!0);else if(Array.isArray(this.object[this.propName]))this.propOld!==JSON.stringifyFast(this.object[this.propName].slice(this.object[this.propName].length-20))&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);else if(typeof this.object[this.propName]=="object"){let r=JSON.stringifyFast(this.object[this.propName]);this.propOld!==r&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0)}else typeof this.object[this.propName]=="function"?this.propOld!==this.object[this.propName].toString()&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName].toString()),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName].toString()),this.setListenerRef(this.propName),e=!0):this.object[this.propName]!==this.propOld&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);return this.running===!0&&(this.debug===!0&&console.log("checking",this.object,this.propName),this.interval==="FRAMERATE"?typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check):setTimeout(()=>{this.check()},this.interval)),e};start(){this.running=!0,typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check)}stop(){this.running=!1,cancelAnimationFrame(this.checker)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1;if(e[c]){var d=e[c];if(typeof d=="object")if(d[s]===a||c===0)r.push(s),e.push(a.pushed);else for(;c-->=0;){if(d=e[c],typeof d=="object"&&d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}c--}}}function o(s,a){let c;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let g=t.get(a);if(g)return"[Circular Reference]"+g;if(t.set(a,r.join(".")),d==="Array")a.length>20?c=a.slice(a.length-20):c=a;else if(d.includes("Set"))c=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")c="instanceof_"+d;else if(d==="Object"){let v={};for(let p in a)if(a[p]==null)v[p]=a[p];else if(Array.isArray(a[p]))a[p].length>20?v[p]=a[p].slice(a[p].length-20):v[p]=a[p];else if(a[p].constructor.name==="Object"){v[p]={};for(let w in a[p])if(Array.isArray(a[p][w]))a[p][w].length>20?v[p][w]=a[p][w].slice(a[p][w].length-20):v[p][w]=a[p][w];else if(a[p][w]!=null){let b=a[p][w].constructor.name;b.includes("Set")?v[p][w]=Array.from(a[p][w]):b!=="Number"&&b!=="String"&&b!=="Boolean"?v[p][w]="instanceof_"+b:v[p][w]=a[p][w]}else v[p][w]=a[p][w]}else{let w=a[p].constructor.name;w.includes("Set")?v[p]=Array.from(a[p]):w!=="Number"&&w!=="String"&&w!=="Boolean"?v[p]="instanceof_"+w:v[p]=a[p]}c=v}else c=a}else c=a;return c}return function(a,c){e.push(a);let d=JSON.stringify(a,o,c);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1,d=e[c];if(d[s]===a||c===0)r.push(s),e.push(a);else for(;c-->=0;)if(d=e[c],d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let c=t.get(a);if(c)return"[Circular Reference]"+c;t.set(a,r.join("."))}return a}return function(a,c){try{return e.push(a),JSON.stringify(a,o,c)}finally{n()}}}());y2=d2});var m2,v2,w2=Ge(()=>{g2();m2=class{constructor(e={},r="FRAMERATE",n=!0){this.data=e,this.interval=r,this.pushToState={},this.pushRecord={pushed:[]},this.pushCallbacks={},this.triggers={},this.prev={},this.listener=new y2,this.defaultStartListenerEventLoop=n}subscribe(e,r,n=this.defaultStartListenerEventLoop){if(e&&e!=="state")if(this.data[e]===void 0)this.addToState(e,null,r,n);else return this.addSecondaryKeyResponse(e,r,void 0,n);else return this.addSecondaryKeyResponse(e,r,void 0,n)}subscribeOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribe(e,n)};n=this.subscribe(e,i)}unsubscribe(e,r=null){r!==null?this.removeSecondaryKeyResponse(e,r,!0):console.error("Specify a subcription function index")}unsubscribeAll(e){this.unsubscribeAllSequential(e),this.unsubscribeAllTriggers(e),this.clearAllKeyResponses(e),this.data[e]&&delete this.data[e],this.listener.hasKey("pushToState")&&this.setSequentialState({stateRemoved:e})}setInterval(e="FRAMERATE"){this.interval=e,this.listener.listeners.forEach((r,n)=>{r.interval=this.interval})}updateState(e,r){this.data[e]==null?this.addToState(e,r):this.data[e]=r}setupSynchronousUpdates=()=>{if(!this.listener.hasKey("pushToState")){let e=()=>{if(Object.keys(this.pushToState).length>0){Object.assign(this.data,this.pushToState);for(let r of Object.getOwnPropertyNames(this.pushToState))delete this.pushToState[r]}};this.listener.addListener("pushToState",this.pushToState,"__ANY__",e,this.interval),this.addToState("pushRecord",this.pushRecord,r=>{let n=r.pushed.length;for(let i=0;i<n;i++){let o=r.pushed[i];this.pushCallbacks.state&&this.pushCallbacks.state.forEach(s=>{s.onchange(o)});for(let s in o)this.pushCallbacks[s]&&this.pushCallbacks[s].forEach(a=>{typeof a=="object"&&a.onchange(o[s])})}this.pushRecord.pushed.splice(0,n)})}};addToState(e,r,n=null,i=this.defaultStartListenerEventLoop,o=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&this.setupSynchronousUpdates(),this.data[e]=r,this.setSequentialState({stateAdded:e}),n!==null)return this.addSecondaryKeyResponse(e,n,o,i)}get(e){return this.data[e]}getState(){return JSON.parse(JSON.stringifyFast(this.data))}setState(e={},r=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&(this.setupSynchronousUpdates(),this.pushRecord.pushed.push(JSON.parse(JSON.stringifyWithCircularRefs(e)))),e.stateUpdateTimeStamp=Date.now(),r){for(let n in e)if(n in this.pushToState){if(Array.isArray(this.pushToState[n])&&Array.isArray(e[n]))e[n]=this.pushToState[n].push(...e[n]);else if(typeof this.pushToState[n]=="object"&&typeof e[n]=="object"){for(let i in e[n])if(this.pushToState[n][i]){if(Array.isArray(this.pushToState[n][i])&&Array.isArray(e[n][i]))e[n][i]=this.pushToState[n][i].push(...e[n][i]);else if(typeof this.pushToState[n][i]=="object"&&typeof e[n][i]=="object"){for(let o in e[n][i])if(this.pushToState[n][i][o])Array.isArray(this.pushToState[n][i][o])&&Array.isArray(e[n][i][o])&&(e[n][i][o]=this.pushToState[n][i][o].push(...e[n][i][o]));else if(typeof this.pushToState[n][i][o]=="object"&&typeof e[n][i][o]=="object")for(let s in e[n][i][o])this.pushToState[n][i][o][s]&&Array.isArray(this.pushToState[n][i][o][s])&&Array.isArray(e[n][i][o][s])&&(e[n][i][o][s]=this.pushToState[n][i][o][s].push(...e[n][i][o][s]))}}}}}if(Object.assign(this.pushToState,e),Object.keys(this.triggers).length>0){this.triggers.state&&this.triggers.state.forEach(n=>{n.onchange(this.data)});for(let n of Object.getOwnPropertyNames(this.triggers))n in this.pushToState&&(this.data[n]=this.pushToState[n],delete this.pushToState[n],this.triggers[n].forEach(i=>{i.onchange(this.data[n])}))}return this.pushToState}subscribeTrigger(e=void 0,r=n=>{}){if(e){this.triggers[e]||(this.triggers[e]=[]);let n=this.triggers[e].length;return this.triggers[e].push({idx:n,onchange:r}),this.triggers[e].length-1}else return}subscribeTriggerOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeTrigger(e,n)};n=this.subscribeTrigger(e,i)}unsubscribeTrigger(e=void 0,r=0){let n,i=this.triggers[e];i&&i.find(s=>{if(s.idx===r)return!0})&&i.splice(n,1)}unsubscribeAllTriggers(e){e&&this.triggers[e]&&delete this.triggers[e]}setSequentialState(e={}){this.listener.hasKey("pushToState")||this.setupSynchronousUpdates(),e.stateUpdateTimeStamp=Date.now(),this.pushRecord.pushed.push(JSON.parse(JSON.stringify(e)))}subscribeSequential(e=void 0,r=void 0){if(e)if(this.data[e]===void 0&&e!=="state"&&this.addToState(e,null,void 0),this.pushCallbacks[e]||(this.pushCallbacks[e]=[]),r){let n=this.pushCallbacks[e].length;return this.pushCallbacks[e].push({idx:n,onchange:r}),this.pushCallbacks[e].length-1}else return;else return}subscribeSequentialOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeSequential(e,n)};n=this.subscribeSequential(e,i)}unsubscribeSequential(e=void 0,r=0){e&&this.pushCallbacks[e]&&this.pushCallbacks[e].find((n,i)=>{if(n.idx===r)return this.pushCallbacks[e].splice(i,1),!0})}unsubscribeAllSequential(e){e&&this.pushCallbacks[e]&&this.pushCallbacks[e]&&delete this.pushCallbacks[e]}setPrimaryKeyResponse(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop){if(r!==null)if(this.listener.hasKey(e))this.listener.onchange(e,r);else if(e!=null&&e!=="state")this.listener.addListener(e,this.data,e,r,this.data.stateUpdateInterval,n,i);else{if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}}addSecondaryKeyResponse=(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop)=>{if(r!=null){if(this.listener.hasKey(e))return this.listener.addFunc(e,r);if(e!=null&&e!=="state")return this.listener.addListener(e,this.data,e,()=>{},this.data.stateUpdateInterval,n,i),this.listener.addFunc(e,r);if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}};removeSecondaryKeyResponse(e=null,r=null,n=!0){e!==null?this.listener.hasKey(e)?this.listener.removeFuncs(e,r,n):console.error("key does not exist"):console.error("provide key")}clearAllKeyResponses(e=null){e===null?this.listener.remove(null):this.listener.hasKey(e)&&this.listener.remove(e)}getKeySubCallbacks(e){return this.listener.getFuncs(e)}removeState=this.unsubscribeAll;runSynchronousListeners(){this.defaultStartListenerEventLoop=!1,this.listener.startSync()}stop(e=null){this.listener.stop(e)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1;if(e[c]){var d=e[c];if(typeof d=="object")if(d[s]===a||c===0)r.push(s),e.push(a.pushed);else for(;c-->=0;){if(d=e[c],typeof d=="object"&&d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}c++}}}function o(s,a){let c;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let g=t.get(a);if(g)return"[Circular Reference]"+g;if(t.set(a,r.join(".")),d==="Array")a.length>20?c=a.slice(a.length-20):c=a;else if(d.includes("Set"))c=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")c="instanceof_"+d;else if(d==="Object"){let v={};for(let p in a)if(a[p]==null)v[p]=a[p];else if(Array.isArray(a[p]))a[p].length>20?v[p]=a[p].slice(a[p].length-20):v[p]=a[p];else if(a[p].constructor.name==="Object"){v[p]={};for(let w in a[p])if(Array.isArray(a[p][w]))a[p][w].length>20?v[p][w]=a[p][w].slice(a[p][w].length-20):v[p][w]=a[p][w];else if(a[p][w]!=null){let b=a[p][w].constructor.name;b.includes("Set")?v[p][w]=Array.from(a[p][w]):b!=="Number"&&b!=="String"&&b!=="Boolean"?v[p][w]="instanceof_"+b:v[p][w]=a[p][w]}else v[p][w]=a[p][w]}else{let w=a[p].constructor.name;w.includes("Set")?v[p]=Array.from(a[p]):w!=="Number"&&w!=="String"&&w!=="Boolean"?v[p]="instanceof_"+w:v[p]=a[p]}c=v}else c=a}else c=a;return c}return function(a,c){e.push(a);let d=JSON.stringify(a,o,c);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1,d=e[c];if(typeof d=="object")if(d[s]===a||c===0)r.push(s),e.push(a.pushed);else for(;c-->=0;){if(d=e[c],typeof d=="object"&&d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}c--}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let c=t.get(a);if(c)return"[Circular Reference]"+c;t.set(a,r.join("."))}return a}return function(a,c){try{return e.push(a),JSON.stringify(a,o,c)}finally{n()}}}());v2=m2});function nc(t,e){let r=e instanceof URL?e:new URL(e);return t=r.pathname==="/"?t:r.pathname+t,new URL(t,r.href).href}function za(t,e=!0){t=t.replace(/\/\*\*?/,"");let r=t.split("/");e&&(r=r.slice(0,r.length-1));let n=[t];return n.push(t+"/*"),n.push(t+"/**"),r.forEach((i,o)=>{let s=r.slice(0,o+1).join("/");s!=t&&(o===r.length-1&&n.push(s+"/*"),n.push(s+"/**"))}),n}var Va=Ge(()=>{});var Xr,U0,ic,ns=Ge(()=>{Xr=t=>(t?`${t}_`:"")+Math.floor(1e5*Math.random()),U0=(t=Math,e=Date,r=16,n=i=>t.floor(i).toString(r))=>n(e.now()/1e3)+" ".repeat(r).replace(/./g,()=>n(t.random()*r)),ic=(t={})=>{let e={_id:null,id:null};return e._id=t._id?t._id:t.id?t.id:U0(),e.id=t.id?t.id:e._id,e}});function _2(t){if(t instanceof Function){var e=t.toString().replace(E6,""),r=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(x6);return r===null&&(r=[]),r}else return}function u8(method=""){let getFunctionBody=t=>t.replace(/^\W*(function[^{]+\{([\s\S]*)\}|[^=]+=>[^{]*\{([\s\S]*)\}|[^=]+=>(.+))/i,"$2$3$4"),getFunctionHead=t=>{let e=t.indexOf(")");return t.slice(0,t.indexOf("{",e)+1)},newFuncHead=getFunctionHead(method),newFuncBody=getFunctionBody(method),newFunc;if(newFuncHead.includes("function ")){let t=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(t,newFuncBody)}else if(newFuncHead.substring(0,6)===newFuncBody.substring(0,6)){let t=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(t,newFuncBody.substring(newFuncBody.indexOf("{")+1,newFuncBody.length-1))}else newFunc=eval(newFuncHead+newFuncBody+"}");return newFunc}var b6,Wa,E6,x6,oc=Ge(()=>{b6=input=>{if(typeof input=="string"&&(input=JSON.parse(input)),typeof input=="object"){for(let key in input){let value=input[key],regex=new RegExp("(|[a-zA-Z]w*|([a-zA-Z]w*(,s*[a-zA-Z]w*)*))s*=>"),func=typeof value=="string"?value.substring(0,8)=="function":!1,arrow=typeof value=="string"?regex.test(value):!1;try{input[key]=func||arrow?eval("("+value+")"):value}catch(t){console.error(t,value),input[key]=value}typeof input[key]=="object"&&b6(input[key])}return input}else return{}},Wa=(t,e=!0)=>{t instanceof Object&&(t=Array.isArray(t)?[...t]:Object.assign({},t));for(let r in t)t[r]instanceof Function&&(t[r]=t[r].toString()),t[r]instanceof Object&&(t[r]=Wa(t[r],!1));return e?JSON.stringify(t):t},E6=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,x6=/([^\s,]+)/g});var S2,b2=Ge(()=>{S2=`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>404 Not Found</pre>
</body>
</html>`});var x2=Oe((is,E2)=>{"use strict";var O6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Rn<"u")return Rn;throw new Error("unable to locate global object")},Rn=O6();E2.exports=is=Rn.fetch;Rn.fetch&&(is.default=Rn.fetch.bind(Rn));is.Headers=Rn.Headers;is.Request=Rn.Request;is.Response=Rn.Response});var z0,O2=Ge(()=>{oc();Va();ns();try{if(typeof process=="object"){let t=x2();typeof globalThis.fetch!="function"&&(globalThis.fetch=t)}}catch(t){}z0=class{constructor(e="https://localhost",r,n){this.id=null;this.target=null;this.type=null;this.link=null;this.credentials={};this.connection=null;this.services={available:{},connecting:{},queue:{}};this.router=null;this.clients={};this.user=U0();this.status=!1;this.responses={};this.setCredentials=e=>{this.credentials=ic(e),console.log("Using Credentials:",this.credentials)};this.check=()=>te(this,null,function*(){var i,o,s,a,c,d;this.type==="webrtc"&&(this.clients.webrtc?yield this._subscribe({protocol:"webrtc",force:!0}).then(g=>{this.status=!0}).catch(g=>console.log("Link doesn't have WebRTC enabled.",g)):console.error("WebRTC client not added..."));let e=()=>te(this,null,function*(){if(this.clients.websocket)return yield this._subscribe({protocol:"websocket",force:!0}).then(g=>(this.status=!0,g)),yield this.send("services");console.error("Websocket client not added...")}),r=()=>te(this,null,function*(){return yield this.send("services")}),n;if(console.log("endpoint type",this.type),this.type==="websocket"){console.log("connecting ws");let g=yield e().then(v=>(this.status=!0,v)).catch(v=>te(this,null,function*(){if(this.type==="websocket")return console.log("Falling back to http"),yield r()}));console.log("endpoint res",g)}else n=yield r().then(g=>(this.status=!0,g)).catch(g=>te(this,null,function*(){return console.log("Falling back to websockets"),yield e()}));if(n){console.log("Connection successful!");let g=n.message[0],v=[];for(let p in g){let b=g[p].replace(/Backend|Service/,"").toLowerCase();this.services.available[b]=p,v.push(b),((s=(o=(i=this.router)==null?void 0:i.SERVICES)==null?void 0:o[b])==null?void 0:s.status)instanceof Function&&this.router.SERVICES[b].status(p),((a=this.clients[b])==null?void 0:a.serviceType)==="subscription"&&((c=this.services.queue[b])==null||c.forEach(I=>I()),this.services.queue[b]=[])}(d=this.services.queue.undefined)==null||d.forEach(p=>p()),this.services.queue.undefined=[]}else console.log("Connection failed!");return n==null?void 0:n.message});this.send=(i,...o)=>te(this,[i,...o],function*(e,r={},n=()=>{}){var c,d,g,v,p,w,b,I;if(typeof e=="string")r.route=e;else{let k=this.services[e.service];r.route=k?`${k}/${e.route}`:e.route}r.suppress=!!this.connection;let s,a={suppress:r.suppress,id:(c=this.link.connection)==null?void 0:c.id};if(((d=this.connection)==null?void 0:d.protocol)==="websocket")r.id=(g=this.link.credentials)==null?void 0:g.id,s=yield this.link.connection.service.send(r,a);else if(((v=this==null?void 0:this.connection)==null?void 0:v.protocol)==="webrtc")r.id=((p=this.credentials)==null?void 0:p.id)||((w=this.link.credentials)==null?void 0:w.id),s=yield this.connection.service.send(r,a);else{r.id=(b=this.link.credentials)==null?void 0:b.id,r.method||(r.method=((I=r.message)==null?void 0:I.length)>0?"POST":"GET");let k={method:r.method.toUpperCase(),mode:"cors",headers:{"Content-Type":"application/json"}};k.method!="GET"&&(k.body=Wa(r)),s=yield fetch(nc(r.route,this.link.target),k).then(A=>te(this,null,function*(){let D=A.body.getReader(),Y=A.headers.get("Content-Length"),H=0;if(globalThis.ReadableStream){let Z=new ReadableStream({start(j){let V=()=>te(this,null,function*(){D.read().then(({value:S,done:W})=>{if(W){j.close();return}H+=S.length,n(H/Y,Y),j.enqueue(S),V()})});V()}});return new Response(Z,{headers:A.headers})}else return A})),s=s&&(yield s.json().then(A=>{if(s.ok)return A;throw A.message}).catch(A=>te(this,null,function*(){throw"Invalid JSON"})))}return s&&!(s==null?void 0:s.route)&&(s.route=r.route,s.block=!0),s});this._subscribe=(...r)=>te(this,[...r],function*(e={}){let n=()=>new Promise(i=>te(this,null,function*(){var a;let o=(a=e.protocol)!=null?a:this.type;(o?[this.clients[o]]:Object.values(this.clients)).forEach(c=>te(this,null,function*(){var d;if(c&&e.force||(c==null?void 0:c.status)===!0&&(c==null?void 0:c.serviceType)==="subscription"){let g=`${(d=this.link.services.available[c==null?void 0:c.service])!=null?d:c.name.toLowerCase()}/subscribe`;if(c.setEndpoint(this.link),!this.connection){let p=this.type==="http"||this.type==="websocket"?new URL(g,this.target):this.target;console.log(p,this.target,g);let w=yield c.add(this.credentials,p.href);this.router&&c.addResponse("router",b=>{let I=typeof b=="string"?JSON.parse(b):b;Object.values(this.responses).forEach(k=>{k(I)}),this.router&&this.router.handleLocalRoute(I)}),this.connection={service:c,id:w,protocol:c.name}}this.type==="webrtc"&&(e.routes=[this.target]);let v=yield this.link.send(g,Object.assign({route:e.route,message:e.message,protocol:e.protocol},{message:[e.routes,this.credentials.id]}));i(this.connection);return}})),this.services.queue[o]||(this.services.queue[o]=[]),this.services.queue[o].push(()=>te(this,null,function*(){let c=yield n();i(c)}))}));return yield n()});this.subscribe=e=>{if(e){let r=Xr("response");return this.responses[r]=e,r}};this.unsubscribe=e=>{e?delete this.responses[e]:this.responses={}};let i,o;typeof e=="object"?e instanceof URL?i=e:(i=e.target,o=e.type,this.link=e.link,this.setCredentials(e.credentials)):i=e,o||(o="http"),this.link||(this.link=this),o==="http"||o==="websocket"?(i=i instanceof URL?i:new URL(i),this.id=i.origin):this.id=i,this.target=i,this.type=o,this.router=n,r&&(this.clients=r)}}});var k6,V0,k2=Ge(()=>{w2();Va();ns();oc();b2();O2();k6="DONOTSEND",V0=class{constructor(e={debug:!1}){this.id=Xr();this.USERS={};this.CONNECTIONS=new Map;this.SUBSCRIPTIONS=[];this.ENDPOINTS={};this.SERVICES={};this.ROUTES={};this.INTERVAL=10;this.DEFAULTROUTES=[{route:"ping",post:()=>"pong"},{route:"services/**",get:{object:this.SERVICES,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{let s=e[o];(s==null?void 0:s.serviceType)==="default"&&(n[o]=s.name)}),r.forEach((o,s)=>n=n[o]),n}}},{route:"/",aliases:["routes/**"],get:{object:this.ROUTES,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{o&&(n[o]={route:e[o].route.split("/").filter(s=>!s.match(/\*\*?/)).join("/"),args:e[o].args,wildcard:o.includes("*")})}),r.forEach((o,s)=>n=n[o]),n}}},{route:"sendMessage",aliases:["message","sendMsg"],post:(e,r)=>e.sendMsg(r[0],r[1],r[2])},{route:"setUserServerDetails",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;r[0]&&(i.username=r[0]),r[1]&&(i.password=r[1]),r[2]&&(i.props=r[2]),r[3]&&(i._id=r[3],i.id=r[3])}},{route:"setProps",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(typeof r=="object"&&!Array.isArray(r))return Object.assign(i.props,r),!0;if(Array.isArray(r)&&typeof r[1]=="object"){let o=e.USERS[r[0]];return o&&Object.assign(o.props,r[1]),!0}return!1}},{route:"getProps",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(r[0]){let o=e.USERS[r[0]];if(o)return o.props}else return i.props}},{route:"blockUser",post:(e,r,n)=>{let i=e.USERS[n];return i?this.blockUser(i,r[0]):!1}},{route:"users/**",get:{object:this.USERS,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{let s=e[o];n[o]={_id:s._id,username:s.username,origin:s.origin,props:s.props,updatedPropNames:s.updatedPropNames,lastUpdate:s.lastUpdate,lastTransmit:s.lastTransmit,latency:s.latency}}),r.forEach((o,s)=>n=n[o]),n}}},{route:"getUser",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(r[0]){let o=this.USERS[r[0]];if(o)return{_id:o._id,username:o.username,origin:o.origin,props:o.props,updatedPropNames:o.updatedPropNames,lastUpdate:o.lastUpdate,lastTransmit:o.lastTransmit,latency:o.latency}}else return{_id:i._id,username:i.username,origin:i.origin,props:i.props,updatedPropNames:i.updatedPropNames,lastUpdate:i.lastUpdate,lastTransmit:i.lastTransmit,latency:i.latency}}},{route:"login",aliases:["addUser","startSession"],post:(e,r,n)=>te(this,null,function*(){let i=yield e.addUser(r[0]);return{message:i,id:i.origin}})},{route:"logout",aliases:["removeUser","endSession"],post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;r[0]?e.removeUser(...r):e.removeUser(i)}}];this.protocols={};this.connect=(e,r)=>{let n=new z0(e,this.SERVICES,this);return this.ENDPOINTS[n.id]=n,n.check().then(i=>{i&&(r&&r(n),this.login(n,n.credentials))}),n};this.disconnect=e=>te(this,null,function*(){this.logout(this.ENDPOINTS[e]),delete this.ENDPOINTS[e]});this._loadBackend=(e,r=e.name)=>{var n;this.SERVICES[r]=e,this.SERVICES[r].status=!0,(n=e.routes)==null||n.forEach(i=>this.addRoute(Object.assign({service:r},i))),e.subscribe&&e.subscribe((i,o,s)=>te(this,null,function*(){let a=yield this.handleMessage(i,o);if(s==null?void 0:s.includes("worker"))if(a!==null&&e[s])e[s].postMessage({route:"worker/workerPost",message:a,origin:e.id,callbackId:i.callbackId});else return a;return a})),(e==null?void 0:e.serviceType)==="subscription"&&this.SUBSCRIPTIONS.push(e.updateSubscribers)};this._loadService=(n,...i)=>te(this,[n,...i],function*(e,r=e==null?void 0:e.name){return this._loadBackend(e,r),yield this._loadClient(e,r,!0)});this._loadClient=(e,r,n=!1)=>new Promise(i=>{let o=e.name;if(e.subscribe&&e.subscribe((s,a)=>te(this,null,function*(){var v;let c=this.SERVICES[o],d=c.status===!0,g;return a==="local"?g=yield this.handleLocalRoute(s):d&&(g=yield this.send({route:`${c.route}/${s.route}`,endpoint:e==null?void 0:e.endpoint},...(v=s.message)!=null?v:[])),g})),n)i(e);else{this.SERVICES[o]=e;let s=a=>{this.SERVICES[o].status=!0,e.setEndpointRoute instanceof Function&&e.setEndpointRoute(a),e.routes.forEach(c=>{this.ROUTES[`${a}/${c.route}`]=c}),i(e)};this.SERVICES[o].status===!0?s(this.SERVICES[o]):this.SERVICES[o].status=s}});this.get=(e,...r)=>this._send(e,"GET",...r);this.delete=(e,...r)=>this._send(e,"DELETE",...r);this.post=(e,...r)=>this._send(e,"POST",...r);this.send=this.post;this._send=(e,r,...n)=>te(this,null,function*(){let i;if(typeof e=="string"||(e==null?void 0:e.endpoint)==null?i=Object.values(this.ENDPOINTS)[0]:i=e.endpoint,!i)return;let o;return o=yield i.send(e,{message:n,method:r}),o&&this.handleLocalRoute(o,i),o==null?void 0:o.message});this.handleLocalRoute=(e,r,n)=>te(this,null,function*(){var i,o,s;if(r&&n&&!e.suppress&&r.connection&&((s=(o=(i=r.connection)==null?void 0:i.service)==null?void 0:o.responses)==null||s.forEach(a=>a(Object.assign({route:n},e)))),!e.block){let a=this.ROUTES[e==null?void 0:e.route];if((a==null?void 0:a.post)instanceof Function)return a.post(this,e.message,e.id)}});this.subscribe=(n,...i)=>te(this,[n,...i],function*(e,r={}){if(Object.keys(this.ENDPOINTS).length>0||(r==null?void 0:r.endpoint))return r.endpoint||(r.endpoint=Object.values(this.ENDPOINTS)[0]),yield r.endpoint._subscribe(r).then(s=>r.endpoint.subscribe(e));throw"Remote is not specified"});this.handleMessage=(e,r)=>te(this,null,function*(){var i;let n={};if(Array.isArray(e))n.route=e[0],n.message=e.slice(1),n.callbackId=void 0;else if(typeof e=="string"){let o=e.split(" ");n.route=o[0],n.message=o.slice(1),n.callbackId=void 0}else typeof e=="object"&&Object.assign(n,e);if(typeof n=="object"&&!Array.isArray(n)&&n.route!=null){console.log("runRoute",n.route);let o=yield this.runRoute(n.route,n.method,n.message,(i=n._id)!=null?i:n.id,n.callbackId);return o&&n.suppress&&(o.suppress=n.suppress),o}return null});e.interval&&(this.INTERVAL=e.interval),this.STATE=new v2({},this.INTERVAL,void 0),this.DEBUG=e==null?void 0:e.debug,"onbeforeunload"in globalThis&&(globalThis.onbeforeunload=()=>{Object.values(this.ENDPOINTS).forEach(r=>{r.type!="webrtc"&&this.logout(r)})}),this.load({routes:this.DEFAULTROUTES}),this.DEBUG&&this.runCallback("routes",[!0]),(e==null?void 0:e.endpoints)&&e.endpoints.forEach(r=>this.connect(r))}login(e,r){return te(this,null,function*(){yield this.logout(e);let n=Object.values(e?{endpoint:e}:this.ENDPOINTS),i=yield Promise.all(n.map(o=>te(this,null,function*(){let s=yield this.send({route:"login",endpoint:o},r);return o.setCredentials(s[0]),s})));return i?i[0]:i.reduce((o,s)=>o*s[0],!0)===1})}logout(e){return te(this,null,function*(){let r=yield Promise.all(Object.values(e?{endpoint:e}:this.ENDPOINTS).map(n=>te(this,null,function*(){return yield this.send({route:"logout",endpoint:n},n.credentials)})));return r?r.reduce((n,i)=>n*(i==null?void 0:i[0]),!0)===1:!1})}load(n){return te(this,arguments,function*(e,r=e.name){let i=e.constructor.type==="client",o=!e.constructor.type||e.constructor.type==="service",s=e.constructor.type==="backend";return o&&(yield this._loadService(e,r)),s&&(yield this._loadBackend(e,r)),i&&(yield this._loadClient(e)),e})}format(e,r={}){return e!==void 0&&((!e||typeof e!="object"||!("message"in e)&&!("route"in e))&&(e={message:e}),Array.isArray(e.message)||(e.message=[e.message]),r.service&&(e==null?void 0:e.route)&&(e.route=`${r.service}/${e.route}`),r.headers&&(e.headers=r.headers)),(e==null?void 0:e.route)&&(e.route=e.route.replace(/\/\*\*?/,"")),e}runRoute(s,a){return te(this,arguments,function*(e,r,n=[],i,o){try{return e==null?void 0:(!r&&Array.isArray(n)&&(r=n.length>0?"POST":"GET"),this.DEBUG&&console.log("route",e),yield this.runCallback(e,n,i,r).then(c=>{if(this.DEBUG&&console.log("Result:",c),c!==void 0)return c=this.format(c),c.callbackId=o,this.ROUTES[c.route]&&(c.block=!0),c.message===k6?void 0:c}).catch(console.error))}catch(c){return new Error("Route failed...")}})}addUser(e={},r=ic(e)){var n,i,o;if(e){let s=this.USERS[r._id],a=s!=null?s:{_id:(n=e._id)!=null?n:e.id,id:(i=e.id)!=null?i:e._id,username:(o=e.username)!=null?o:r.username,origin:r._id,props:{},updatedPropNames:[],sessions:[],blocked:[],lastUpdate:Date.now(),lastTransmit:0,latency:0,routes:new Map};Object.assign(a,e),this.DEBUG&&console.log("Adding User, Id:",e._id,"Credentials:",r),this.USERS[r._id]=a;for(let c in this.SERVICES){let d=this.SERVICES[c];if(d.status===!0){let g=d.name+"/users";za(g).forEach(p=>{this.ROUTES[p]&&this.runRoute(p,"POST",[a],r._id)})}}return a}else return!1}removeUser(e){let r=typeof e=="string"?this.USERS[e]:e;return r?(Object.values(this.SERVICES).forEach(n=>{if(n.status===!0){let i=n.name+"/users";this.ROUTES[i]&&this.runRoute(i,"DELETE",[r],r.id)}}),delete r.id,!0):!1}blockUser(e,r=""){return this.USERS[r]&&!e.blocked.includes(r)&&e.id!==r?(e.blocked.push(r),!0):!1}sendMsg(e="",r="",n=void 0){var o;let i=n?Object.assign(n,{message:r}):{message:r};if(typeof e=="string"){let s=this.USERS[e];if(s.send)return s.send(i),!0;console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${e} does not have anything to receive your message...`)}else if(typeof e=="object"){if(e.send)return e.send(i),!0;console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${(o=e.username)!=null?o:e.id} does not have anything to receive your message...`)}return!1}addRoute(e){e=Object.assign({},e);let r=[e.route,...e.aliases?e.aliases:[]];return delete e.aliases,r.forEach(n=>{var i,o;if(!n||!e.post&&!e.get)return!1;n=e.route=`${e.service?`${e.service}/`:""}`+n,this.removeRoute(n),n[0]==="/"&&(n=n.slice(1)),e.args=_2(e.post),this.ROUTES[n]=Object.assign(e,{route:n}),e.get&&(this.STATE.setState({[n]:(o=(i=e.get)==null?void 0:i.object)!=null?o:e.get}),this.STATE.subscribe(n,s=>{var c;let a=((c=e.get)==null?void 0:c.transform)?e.get.transform(s):s;this.SUBSCRIPTIONS.forEach(d=>d(this,{route:n,message:a}))}))}),!0}removeRoute(e){return delete this.ROUTES[e]}runCallback(e,r=[],n,i=r.length>0?"POST":"GET"){return new Promise(o=>te(this,null,function*(){let s=za(e),a={route:e,block:!0,message:{html:S2},headers:{"Content-Type":"text/html"}};Promise.all(s.map(c=>te(this,null,function*(){var g;let d=this.ROUTES[c];if(d){this.DEBUG&&console.log("routeInfo",d);try{let v;if((d==null?void 0:d.delete)&&i.toUpperCase()==="DELETE")v=yield d.delete(this,r,n);else if(i.toUpperCase()==="GET"||!(d==null?void 0:d.post)){let p=this.STATE.data[d.route];if(p){let w=e.replace(d.route.split("/").filter(b=>b!="*"&&b!="**").join("/"),"").split("/").filter(b=>!!b);v={message:((g=d.get)==null?void 0:g.transform)?yield d.get.transform(p,...w):p}}else v=a}else(d==null?void 0:d.post)?v=yield d==null?void 0:d.post(this,r,n):v=a;o(this.format(v,d))}catch(v){console.log("Callback Failed: ",v)}}}))).then(c=>o(a))}))}checkRoutes(e){return te(this,null,function*(){var n,i;if(!e.data)return;let r=(i=(n=this.ROUTES[e.data.foo])!=null?n:this.ROUTES[e.data.route])!=null?i:this.ROUTES[e.data.functionName];return r||(r=this.ROUTES[e.data.foo]),r?e.data.message?yield r.post(this,e.data.message,e.data.origin):void 0:!1})}}});var F2=Oe((x8,R2)=>{var W0=Math.floor(Math.random()*16777215),N2=Ke.index=parseInt(Math.random()*16777215,10),T2=(typeof process>"u"||typeof process.pid!="number"?Math.floor(Math.random()*1e5):process.pid)%65535,sc=function(t){return!!(t!=null&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))},I2=[];for(hr=0;hr<256;hr++)I2[hr]=(hr<=15?"0":"")+hr.toString(16);var hr,A2=new RegExp("^[0-9a-fA-F]{24}$"),qa=[];hr=0;for(;hr<10;)qa[48+hr]=hr++;for(;hr<16;)qa[65-10+hr]=qa[97-10+hr]=hr++;function Ke(t){if(!(this instanceof Ke))return new Ke(t);if(t&&(t instanceof Ke||t._bsontype==="ObjectID"))return t;if(this._bsontype="ObjectID",t==null||typeof t=="number"){this.id=this.generate(t);return}var e=Ke.isValid(t);if(!e&&t!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(e&&typeof t=="string"&&t.length===24)return Ke.createFromHexString(t);if(t!=null&&t.length===12)this.id=t;else{if(t!=null&&typeof t.toHexString=="function")return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}R2.exports=Ke;Ke.default=Ke;Ke.createFromTime=function(t){return t=parseInt(t,10)%4294967295,new Ke(T6(8,t)+"0000000000000000")};Ke.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var e="",r=0;r<24;)e+=String.fromCharCode(qa[t.charCodeAt(r++)]<<4|qa[t.charCodeAt(r++)]);return new Ke(e)};Ke.isValid=function(t){return t==null?!1:typeof t=="number"?!0:typeof t=="string"?t.length===12||t.length===24&&A2.test(t):t instanceof Ke||sc(t)?!0:typeof t.toHexString=="function"&&(t.id instanceof _Buffer||typeof t.id=="string")?t.id.length===12||t.id.length===24&&A2.test(t.id):!1};Ke.prototype={constructor:Ke,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(sc(this.id))return this.id.toString("hex");for(var t="",e=0;e<this.id.length;e++)t+=I2[this.id.charCodeAt(e)];return t},equals:function(t){return t instanceof Ke?this.toString()===t.toString():typeof t=="string"&&Ke.isValid(t)&&t.length===12&&sc(this.id)?t===this.id.toString("binary"):typeof t=="string"&&Ke.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&Ke.isValid(t)&&t.length===12?t===this.id:t!=null&&(t instanceof Ke||t.toHexString)?t.toHexString()===this.toHexString():!1},getTimestamp:function(){var t=new Date,e;return sc(this.id)?e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:e=this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(Math.floor(e)*1e3),t},generate:function(t){typeof t!="number"&&(t=~~(Date.now()/1e3)),t=parseInt(t,10)%4294967295;var e=N6();return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255,W0>>16&255,W0>>8&255,W0&255,T2>>8&255,T2&255,e>>16&255,e>>8&255,e&255)}};function N6(){return N2=(N2+1)%16777215}function T6(t,e){return e=e.toString(16),e.length===t?e:"00000000".substring(e.length,t)+e}var A6=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";Ke.prototype[A6]=function(){return"ObjectID("+this+")"};Ke.prototype.toJSON=Ke.prototype.toHexString;Ke.prototype.toString=Ke.prototype.toHexString});var D2,$a,q0=Ge(()=>{ns();$a=class{constructor(e){this.id=Xr("service");this.name="service";this.callbacks=new Map;this.status=!1;this.serviceType="default";this.routes=[];this.delegate=(D2=globalThis==null?void 0:globalThis.document)==null?void 0:D2.createDocumentFragment();this.protocols={};this.services={};this.setEndpointRoute=e=>{this.route=e};this.notify=(e,r,n)=>te(this,null,function*(){let i=[];return yield Promise.all(Array.from(this.callbacks).map((o,s)=>te(this,null,function*(){let a=yield o[1](e,r,n);a&&!(a instanceof Error)&&i.push(a)}))),i==null?void 0:i[0]});this.setEndpoint=e=>{this.endpoint=e};this.subscribe=e=>{if(e instanceof Function){let r=Xr();return this.callbacks.set(r,e),r}else return};this.unsubscribe=e=>this.callbacks.delete(e);this.router=e}addEventListener(...e){var r;(r=this.delegate)==null||r.addEventListener.apply(this.delegate,e)}dispatchEvent(...e){var r;return(r=this.delegate)==null?void 0:r.dispatchEvent.apply(this.delegate,e)}removeEventListener(...e){var r;return(r=this.delegate)==null?void 0:r.removeEventListener.apply(this.delegate,e)}}});var C2,Ct,I6,L2,P2,M2=Ge(()=>{C2=Tt(F2());q0();ns();Ct=t=>typeof t=="string"&&t.length===24?(0,C2.default)(t):t,I6=["profile","group","authorization","discussion","chatroom","comment","dataInstance","event","notification","schedule","date"],L2=class extends $a{constructor(e,r={},n=!1,i=!0){super(e);this.name="structs";this.collections={};this.debug=!1;this.useAuths=!0;this.wipeDB=()=>te(this,null,function*(){return yield Promise.all(Object.values(this.collections).map(e=>e.instance.deleteMany({}))),!0});this.db=r==null?void 0:r.db,this.debug=n,this.useAuths=i,this.mode=this.db&&r.mode?r.mode:"local",r.collections||(r.collections={}),I6.forEach(o=>{r.collections[o]||(r.collections[o]=this.db?{instance:this.db.collection(o)}:{},r.collections[o].reference={})}),this.collections=r.collections,this.routes=[{route:"getUser",post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoUser(c,s[0]);else{let g=this.getLocalData("profile",{_id:s[0]});if(!g)d={user:{}};else{let v=!this.useAuths;if(this.useAuths&&(v=yield this.checkAuthorization(c,g)),v){let p=this.getLocalData("group",{ownerId:s[0]}),w=this.getLocalData("authorization",{ownerId:s[0]});d={user:g,groups:p,authorizations:w}}else d={user:{}}}}return this.debug&&console.log("getUser: user:",c,"input:",s,"output",d),d})},{route:"setUser",aliases:["addUser"],post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.setMongoUser(c,s[0]);else{let g=!this.useAuths;return this.useAuths&&(g=yield this.checkAuthorization(c,s[0],"WRITE")),g&&this.setLocalData(s[0]),!0}return this.debug&&console.log("setUser user:",c,"input:",s,"output",d),d})},{route:"getUsersByIds",post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoUsersByIds(c,s[0]);else if(d=[],Array.isArray(s[0])){let g=this.getLocalData("profile",{_id:s[0]});g&&d.push(g)}return this.debug&&console.log("getUserByIds: user:",c,"input:",s,"output",d),d})},{route:"getUsersByRoles",post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoUsersByRoles(c,s[0]);else{let g=this.getLocalData("profile");d=[],g.forEach(v=>{var p;((p=v.userRoles)==null?void 0:p.includes(s[0]))&&d.push(v)})}return this.debug&&console.log("getUserByRoles: user:",c,"input:",s,"output",d),d})},{route:"deleteUser",aliases:["removeUser"],post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.deleteMongoUser(c,s[0]);else{d=!1;let g=this.getLocalData(s[0]);if(g){let v=!this.useAuths;this.useAuths&&(v=yield this.checkAuthorization(c,g,"WRITE")),v&&(d=this.deleteLocalData(g))}}return this.debug&&console.log("deleteUser: user:",c,"input:",s,"output",d),d})},{route:"setData",aliases:["setMongoData"],post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.setMongoData(c,s);else{let g=[];return d=[],yield Promise.all(s.map(v=>te(this,null,function*(){let p=this.getLocalData(v),w=!this.useAuths;this.useAuths&&(w=yield this.checkAuthorization(c,p,"WRITE")),w&&(this.setLocalData(p),d.push(p),p.structType!=="notification"&&g.push(p))}))),g.length>0&&this.checkToNotify(c,g,this.mode),this.debug&&console.log("setData:",c,s,d),!0}return this.debug&&console.log("setData: user:",c,"input:",s,"output",d),d})},{route:"getData",aliases:["getMongoData","getUserData"],post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoData(c,s[0],s[1],s[2],s[4],s[5]);else{d=[];let g;s[0]&&(g=this.getLocalData(s[0])),g&&s[1]&&(g=g.filter(v=>{if(v.ownerId===s[1])return!0})),g&&(yield Promise.all(g.map(v=>te(this,null,function*(){let p=this.getLocalData(v._id),w=!this.useAuths;this.useAuths&&(w=yield this.checkAuthorization(c,p)),w&&d.push(p)}))))}return this.debug&&console.log("getData: user:",c,"input:",s,"output",d),d})},{route:"getDataByIds",aliases:["getMongoDataByIds","getUserDataByIds"],post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoDataByIds(c,s[0],s[1],s[2]);else{d=[];let g;s[2]&&(g=this.getLocalData(s[2])),g&&s[1]&&(g=g.filter(v=>{if(v.ownerId===s[1])return!0})),g&&(yield Promise.all(g.map(v=>te(this,null,function*(){let p=this.getLocalData(v._id),w=!this.useAuths;this.useAuths&&(w=yield this.checkAuthorization(c,p)),w&&d.push(p)}))))}return this.debug&&console.log("getDataByIds: user:",c,"input:",s,"output",d),d})},{route:"getAllData",post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getAllUserMongoData(c,s[0],s[1]);else{let g=this.getLocalData(void 0,{ownerId:s[0]});d=[],yield Promise.all(g.map(v=>te(this,null,function*(){if(s[1]){if(s[1].indexOf(v.structType)<0){let p=!this.useAuths;this.useAuths&&(p=yield this.checkAuthorization(c,v)),p&&d.push(v)}}else{let p=!this.useAuths;this.useAuths&&(p=yield this.checkAuthorization(c,v)),p&&d.push(v)}})))}return this.debug&&console.log("getAllData: user:",c,"input:",s,"output",d),d})},{route:"deleteData",post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;return this.mode.includes("mongo")?d=yield this.deleteMongoData(c,s):(d=!1,yield Promise.all(s.map(g=>te(this,null,function*(){let v=this.getLocalData(g),p=!this.useAuths;this.useAuths&&(p=yield this.checkAuthorization(c,v,"WRITE")),p&&this.deleteLocalData(v),d=!0})))),this.debug&&console.log("deleteData: user:",c,"input:",s,"output",d),d})},{route:"getGroup",aliases:["getGroups"],post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoGroups(c,s[0],s[1]);else if(typeof s[1]=="string")d=this.getLocalData("group",{_id:s[1]});else{d=[];let g=this.getLocalData("group");s[0]?g.forEach(v=>{v.users.includes(s[0])&&d.push(v)}):g.forEach(v=>{v.users.includes(c._id)&&d.push(v)})}return this.debug&&console.log("getGroups: user:",c,"input:",s,"output",d),d})},{route:"setGroup",post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d=yield this.setGroup(c,s[0],this.mode);this.debug&&console.log("setGroup: user:",c,"input:",s,"output",d)})},{route:"deleteGroup",post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.deleteMongoGroup(c,s[0]);else{let g=this.getLocalData("group",s[0]),v=!this.useAuths;g&&this.useAuths&&(v=yield this.checkAuthorization(c,g,"WRITE")),v&&(d=!0)}return this.debug&&console.log("deleteGroup: user:",c,"input:",s,"output",d),d})},{route:"setAuth",post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d=yield this.setAuthorization(c,s[0],this.mode);return this.debug&&console.log("setAuth: user:",c,"input:",s,"output",d),d})},{route:"getAuths",post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoAuthorizations(c,s[0],s[1]);else if(s[1]){let g=this.getLocalData("authorization",{_id:s[1]});g&&(d=[g])}else d=this.getLocalData("authorization",{ownerId:s[0]});return this.debug&&console.log("getAuths: user:",c,"input:",s,"output",d),d})},{route:"deleteAuth",post:(o,s,a)=>te(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.deleteMongoAuthorization(c,s[0]);else{d=!0;let g=this.getLocalData("authorization",{_id:s[0]});if(g){let v=!this.useAuths;this.useAuths&&(v=yield this.checkAuthorization(c,g,"WRITE")),v&&(d=this.deleteLocalData(g))}}return this.debug&&console.log("deleteAuth: user:",c,"input:",s,"output",d),d})}]}notificationStruct(e={}){let r="notification";return{structType:r,timestamp:Date.now(),id:Xr(r),note:"",ownerId:"",parentUserId:"",parent:{structType:e==null?void 0:e.structType,_id:e==null?void 0:e._id}}}checkToNotify(i){return te(this,arguments,function*(e,r=[],n=this.mode){if(typeof e=="string")for(let a in this.router.USERS){let c=this.router.USERS[a];c._id===e&&(e=c)}if(typeof e=="string"||e==null)return!1;let o={},s=[];if(r.forEach(a=>te(this,null,function*(){if((e==null?void 0:e._id)!==a.ownerId){let c=this.notificationStruct(a);c.id="notification_"+a._id,c.ownerId=a.ownerId,c.note=a.structType,c.parentUserId=a.ownerId,s.push(c),o[a.ownerId]=a.ownerId}if(a.users)a.users.forEach(c=>{if(c!==e._id){let d=this.notificationStruct(a);d.id="notification_"+a._id,d.ownerId=c,d.note=a.structType,d.parentUserId=a.ownerId,s.push(d),o[c]=c}});else{let c=[];if(n.includes("mongo")){let d=this.collections.authorization.instance.find({$or:[{authorizedId:e._id},{authorizerId:e._id}]});(yield d.count())>0&&(yield d.forEach(g=>c.push(g)))}else c=this.getLocalData("authorization",{authorizedId:e._id}),c.push(...this.getLocalData("authorization",{authorizerId:e._id}));c.length>0&&c.forEach(d=>{if(a.authorizerId===a.ownerId&&!o[a.authorizedId]&&d.status==="OKAY"&&d.authorizations.indexOf("peer")>-1){let g=this.notificationStruct(a);g.ownerId=d.authorizedId,g.id="notification_"+a._id,g.note=a.structType,g.parentUserId=a.ownerId,s.push(g),o[g.ownerId]=g.ownerId}})}})),s.length>0){n.includes("mongo")?yield this.setMongoData(e,s):this.setLocalData(s);for(let a in o)this.router.sendMsg(a,"notifications",!0);return!0}else return!1})}setMongoData(n){return te(this,arguments,function*(e,r=[]){let i=!1;if(r.length>0){let o=!0,s="";if(yield Promise.all(r.map(a=>te(this,null,function*(){var c;if(((e==null?void 0:e._id)!==a.ownerId||e._id===a.ownerId&&((c=e.userRoles)==null?void 0:c.includes("admin_control")))&&s!==a.ownerId&&(this.useAuths&&(o=yield this.checkAuthorization(e,a,"WRITE")),s=a.ownerId),o){let d=JSON.parse(JSON.stringify(a));d._id&&d.structType!=="profile"&&delete d._id,a.id?a.id.includes("defaultId")?(yield this.db.collection(a.structType).insertOne(d),i=!0):yield this.db.collection(a.structType).updateOne({id:a.id},{$set:d},{upsert:!0}):a._id&&(a._id.includes("defaultId")?(yield this.db.collection(a.structType).insertOne(d),i=!0):yield this.db.collection(a.structType).updateOne({_id:Ct(a._id)},{$set:d},{upsert:!1}))}}))),i===!0){let a=[];return yield Promise.all(r.map((c,d)=>te(this,null,function*(){let g=JSON.parse(JSON.stringify(c));if(g._id&&g.structType!=="profile"&&delete g._id,c.structType!=="comment"){let v;c.structType!=="notification"&&(v=yield this.db.collection(g.structType).findOne(g)),v&&(v._id=v._id.toString(),a.push(v))}else if(c.structType==="comment"){let v=c,p=JSON.parse(JSON.stringify(v));p._id&&delete p._id;let w=yield this.db.collection("comment").findOne(p),b=w.replyTo,I=r.find(k=>{if(k._id===b)return!0});if(I){let k=JSON.parse(JSON.stringify(I));k._id&&delete k._id;let A;if(yield Promise.all(["discussion","chatroom","comment"].map(D=>te(this,null,function*(){let Y=yield this.db.collection(D).findOne({_id:Ct(b)});Y&&(A=Y)}))),A){let D=w.parent._id,Y,H;D!==b?(Y=r.find(j=>{if(j._id===D)return!0}),Y&&(delete Y._id,yield Promise.all(["discussion","chatroom"].map(j=>te(this,null,function*(){let V=yield this.db.collection(j).findOne(Y);V&&(H=V)}))))):H=A;let Z=[w];A&&(A.replies.indexOf(w._id)<0&&(A.replies.push(w._id.toString()),w.replyTo=A._id.toString()),Z.push(A)),H&&H.comments.indexOf(w._id)<0&&(H.comments.push(w._id.toString()),w.parent._id=H._id.toString()),yield Promise.all(Z.map(j=>te(this,null,function*(){let V=JSON.parse(JSON.stringify(j));delete V._id,yield this.db.collection(j.structType).updateOne({_id:Ct(j._id)},{$set:V},{upsert:!1})}))),[...a].reverse().forEach((j,V)=>{Z.find(S=>{if(j._id.toString()===S._id.toString())return!0})&&a.splice(a.length-V-1,1)}),a.push(...Z)}}else w&&a.push(w)}}))),this.checkToNotify(e,a),a}else{let a=[];return r.forEach(c=>{c.structType!=="notification"&&a.push(c)}),this.checkToNotify(e,a),!0}}else return!1})}setMongoUser(e,r){return te(this,null,function*(){var n;if(r._id){let i=Ct(r._id),o=i!==r._id?{_id:i}:{id:r.id};if((yield this.collections.profile.instance.findOne(o))&&(e._id!==r.ownerId||e._id===r.ownerId&&((n=e.userRoles)==null?void 0:n.includes("admin_control")))){let c=!this.useAuths;if(this.useAuths&&(c=yield this.checkAuthorization(e,r,"WRITE")),!c)return!1}let a=JSON.parse(JSON.stringify(r));return this.router.DEBUG&&console.log("RETURNS PROFILE",r),yield this.collections.profile.instance.updateOne(o,{$set:a},{upsert:!0}),e=yield this.collections.profile.instance.findOne(o),this.checkToNotify(e,[r]),e}else return!1})}setGroup(i){return te(this,arguments,function*(e,r={},n=this.mode){if(r._id){let o;if(n.includes("mongo")?o=yield this.collections.group.instance.findOne({name:r.name}):o=this.getLocalData("group",{_id:r._id}),o&&(o.ownerId!==r.ownerId||r.admins.indexOf(e._id)<0))return!1;if(e._id!==r.ownerId){let w=!this.useAuths;if(this.useAuths&&(w=yield this.checkAuthorization(e,r,"WRITE")),!w)return!1}let s=[];r.users.forEach(w=>{s.push({email:w},{id:w},{username:w})});let a=[],c=[];if(n.includes("mongo")){let w=this.collections.profile.instance.find({$or:s});(yield w.count())>0&&(yield w.forEach(b=>{a.push(b),c.push(b._id)}))}else s.forEach(w=>{let b=this.getLocalData("profile",w);b.length>0&&(a.push(b[0]),c.push(b[0]._id))});r.users=c;let d=[],g=[],v=[];a.forEach(w=>{r.admins.find((b,I)=>{if(b===w._id||b===w.email||b===w.username||w._id===r.ownerId)return d.indexOf(w._id<0)&&d.push(w._id),!0}),r.peers.find((b,I)=>{if(b===w._id||b===w.email||b===w.username)return g.indexOf(w._id<0)&&g.push(w._id),!0}),r.clients.find((b,I)=>{if(b===w._id||b===w.email||b===w.username)return v.indexOf(w._id<0)&&v.push(w._id),!0})}),r.admins=d,r.peers=g,r.clients=v;let p=JSON.parse(JSON.stringify(r));return p._id&&delete p._id,n.includes("mongo")?r._id.includes("defaultId")?yield this.db.collection(r.structType).insertOne(p):yield this.collections.group.instance.updateOne({_id:Ct(r._id)},{$set:p},{upsert:!0}):this.setLocalData(r),this.checkToNotify(e,[r],this.mode),r}else return!1})}getMongoUser(e,r="",n=!1){return te(this,null,function*(){return new Promise(i=>te(this,null,function*(){var a;let o=[{email:r},{id:r},{username:r}];try{o.push({_id:Ct(r)})}catch(c){}let s=yield this.collections.profile.instance.findOne({$or:o});if(!s||s==null)i({});else if(s._id?s._id=s._id.toString():!s._id&&s.id&&(s._id=s.id),s.ownerId||(s.ownerId=s._id),s&&n===!1){if(e._id!==s._id||e._id===s._id&&((a=e.userRoles)==null?void 0:a.includes("admin_control"))){let p=!this.useAuths;this.useAuths&&(p=yield this.checkAuthorization(e,s)),p||i(void 0)}let c=[],d=this.collections.authorization.instance.find({ownerId:s._id});(yield d.count())>0&&(yield d.forEach(p=>c.push(p)));let g=this.collections.group.instance.find({users:{$all:[s._id]}}),v=[];(yield g.count())>0&&(yield g.forEach(p=>v.push(p))),s.authorizations=c,s.groups=v,i(s)}else i(s)}))})}getMongoUsersByIds(){return te(this,arguments,function*(e={},r=[]){let n=[];r.forEach(o=>{try{n.push({_id:Ct(o)})}catch(s){}});let i=[];if(n.length>0){let o=this.collections.profile.instance.find({$or:n});(yield o.count())>0&&(yield o.forEach(s=>{i.push(s)}))}return i})}getMongoUsersByRoles(){return te(this,arguments,function*(e={},r=[]){let n=this.collections.profile.instance.find({userRoles:{$all:r}}),i=[];return(yield n.count())>0&&(yield n.forEach(o=>{i.push(o)})),i})}getMongoDataByIds(e,r,n,i){return te(this,null,function*(){if(r.length>0){let o=[];r.forEach(a=>{let c={_id:a};n&&(c.ownerId=n),o.push(c)});let s=[];if(!i)yield Promise.all(Object.keys(this.collections).map(a=>te(this,null,function*(){let c=yield this.db.collection(a).find({$or:o});if((yield c.count())>0){let d=!0,g="";yield c.forEach(v=>te(this,null,function*(){var p;(e._id!==v.ownerId||e._id===v.ownerId&&((p=e.userRoles)==null?void 0:p.includes("admincontrol")))&&g!==v.ownerId&&(this.useAuths&&(d=yield this.checkAuthorization(e,v)),g=v.ownerId),d&&s.push(v)}))}})));else{let a=yield this.db.collection(i).find({$or:o});if((yield a.count())>0){let c=!0,d="";yield a.forEach(g=>te(this,null,function*(){var v;(e._id!==g.ownerId||e._id===g.ownerId&&((v=e.userRoles)==null?void 0:v.includes("admincontrol")))&&d!==g.ownerId&&(this.useAuths&&(c=yield this.checkAuthorization(e,g)),d=g.ownerId),c&&s.push(g)}))}}return s}})}getMongoData(a,c,d){return te(this,arguments,function*(e,r,n,i={},o=0,s=0){n||(n=i==null?void 0:i.ownerId),i||(i={}),i._id&&(i._id=Ct(i._id));let g=[],v=!0,p="";if(!r&&!n&&!i)return[];if(!r&&n&&Object.keys(i).length===0)return yield this.getAllUserMongoData(e,n);if(!i&&n){let w=this.db.collection(r).find({ownerId:n}).sort({$natural:-1}).skip(s);o>0&&w.limit(o),(yield w.count())>0&&(yield w.forEach(b=>te(this,null,function*(){var I;(e._id!==b.ownerId||e._id===b.ownerId&&((I=e.userRoles)==null?void 0:I.includes("admincontrol")))&&p!==b.ownerId&&(this.useAuths&&(v=yield this.checkAuthorization(e,b)),p=b.ownerId),v===!0&&g.push(b)})))}else if(Object.keys(i).length>0&&n){let w=yield this.db.collection(r).findOne(Sg({ownerId:n},i));w&&g.push(w)}else Object.keys(i).length>0&&!n&&(yield Promise.all(Object.keys(this.collections).map(w=>te(this,null,function*(){var I;let b=yield this.db.collection(w).findOne(i);if(b){(e._id!==b.ownerId||e._id===b.ownerId&&((I=e.userRoles)==null?void 0:I.includes("admincontrol")))&&p!==b.ownerId&&(this.useAuths&&(v=yield this.checkAuthorization(e,b)),p=b.ownerId),g.push(b);return}}))));return v?g:[]})}getAllUserMongoData(i,o){return te(this,arguments,function*(e,r,n=[]){let s=[],a=!0,c="";return yield Promise.all(Object.keys(this.collections).map((d,g)=>te(this,null,function*(){var v;if(a&&n.indexOf(d)<0){let p=this.db.collection(d).find({ownerId:r}),w=yield p.count();for(let b=0;b<w;b++){let I=yield p.next();(e._id!==r||e._id===r&&((v=e.userRoles)==null?void 0:v.includes("admincontrol")))&&c!==r&&(this.useAuths&&(a=yield this.checkAuthorization(e,I)),c=r),a&&s.push(I)}}}))),a?s:[]})}getMongoDataByRefs(n){return te(this,arguments,function*(e,r=[]){let i=[];if(i.length>0){let o="";r.forEach(s=>te(this,null,function*(){var a;if(s.structType&&s._id){let c=yield this.db.collection(s.structType).findOne({_id:Ct(s._id)});if(c){let d=!0;(e._id!==c.ownerId||e._id===c.ownerId&&((a=e.userRoles)==null?void 0:a.includes("admincontrol")))&&o!==c.ownerId&&(this.useAuths&&(d=yield this.checkAuthorization(e,c)),o=c.ownerId),d===!0&&i.push(c)}}}))}return i})}getMongoAuthorizations(i){return te(this,arguments,function*(e,r=e._id,n=""){let o=[];if(n.length===0){let s=this.collections.authorization.instance.find({ownerId:r});(yield s.count)>0&&(yield s.forEach(a=>{o.push(a)}))}else o.push(yield this.collections.authorization.instance.findOne({_id:Ct(n),ownerId:r}));if(e._id!==o[0].ownerId){let s=!this.useAuths;if(this.useAuths&&(s=yield this.checkAuthorization(e,o[0])),!s)return}return o})}getMongoGroups(i){return te(this,arguments,function*(e,r=e._id,n=""){let o=[];if(n.length===0){let s=this.collections.group.instance.find({users:{$all:[r]}});(yield s.count)>0&&(yield s.forEach(a=>{o.push(a)}))}else try{o.push(yield this.collections.group.instance.findOne({_id:Ct(n),users:{$all:[r]}}))}catch(s){}return o})}deleteMongoData(n){return te(this,arguments,function*(e,r=[]){let i=[];yield Promise.all(r.map(s=>te(this,null,function*(){try{let a=Ct(s._id),c=yield this.db.collection(s.structType).findOne({_id:a});if(c){i.push(c);let d=yield this.collections.notifications.instance.find({parent:{structType:s.structType,id:s._id}}),g=yield d.count();for(let v=0;v<g;v++){let p=yield d.next();p&&i.push(p)}}}catch(a){}})));let o="";return yield Promise.all(i.map((s,a)=>te(this,null,function*(){var d;let c=!0;(s.ownerId!==e._id||e._id===s.ownerId&&((d=e.userRoles)==null?void 0:d.includes("admincontrol")))&&s.ownerId!==o&&(o=s.ownerId,this.useAuths&&(c=yield this.checkAuthorization(e,s,"WRITE"))),c&&(yield this.db.collection(s.structType).deleteOne({_id:Ct(s._id)}),s.users&&s.users.forEach(g=>{g!==e._id&&g!==s.ownerId&&this.router.sendMsg(g,"deleted",s._id)}),s.ownerId!==e._id&&this.router.sendMsg(s.ownerId,"deleted",s._id))}))),!0})}deleteMongoUser(e,r){return te(this,null,function*(){var n;if(e._id!==r||e._id===r&&((n=e.userRoles)==null?void 0:n.includes("admincontrol"))){let i=yield this.collections.profile.instance.findOne({id:r}),o=!this.useAuths;if(this.useAuths&&(o=yield this.checkAuthorization(e,i,"WRITE")),!o)return!1}return yield this.collections.profile.instance.deleteOne({id:r}),e._id!==r&&this.router.sendMsg(r,"deleted",r),!0})}deleteMongoGroup(e,r){return te(this,null,function*(){var i;let n=yield this.collections.group.instance.findOne({_id:Ct(r)});if(n){if(e._id!==n.ownerId||e._id===n.ownerId&&((i=e.userRoles)==null?void 0:i.includes("admincontrol"))){let o=!this.useAuths;if(this.useAuths&&(o=yield this.checkAuthorization(e,n,"WRITE")),!o)return!1}return n.users&&n.users.forEach(o=>{this.router.sendMsg(n.authorizerId,"deleted",n._id)}),yield this.collections.group.instance.deleteOne({_id:Ct(r)}),!0}else return!1})}deleteMongoAuthorization(e,r){return te(this,null,function*(){var i;let n=yield this.collections.authorization.instance.findOne({_id:Ct(r)});if(n){if(e._id!==n.ownerId||e._id===n.ownerId&&((i=e.userRoles)==null?void 0:i.includes("admincontrol"))){let o=!this.useAuths;if(this.useAuths&&(o=yield this.checkAuthorization(e,n,"WRITE")),!o)return!1}return n.associatedAuthId&&(this.router.DEBUG&&console.log(n),yield this.collections.authorization.instance.deleteOne({_id:Ct(n.associatedAuthId)}),n.authorizerId!==e._id?this.router.sendMsg(n.authorizerId,"deleted",n._id):n.authorizedId!==e._id&&this.router.sendMsg(n.authorizedId,"deleted",n._id)),yield this.collections.authorization.instance.deleteOne({_id:Ct(r)}),!0}else return!1})}setAuthorization(i,o){return te(this,arguments,function*(e,r,n=this.mode){var v;let s,a;if(n.includes("mongo")?(s=yield this.getMongoUser(e,r.authorizedId,!0),a=yield this.getMongoUser(e,r.authorizerId,!0)):(s=this.getLocalData("profile",{_id:r.authorizedId})[0],a=this.getLocalData("profile",{_id:r.authorizerId})[0]),console.log(s,a),!s||!a)return!1;if(r.authorizedId!==s._id&&(r.authorizedId=s._id),r.authorizerId!==a._id&&(r.authorizerId=a._id),r.authorizedName||(s.username?r.authorizedName=s.username:s.email&&(r.authorizedName=s.email)),r.authorizerName||(a.username?r.authorizerName=a.username:a.email&&(r.authorizerName=a.email)),(e._id!==r.ownerId||e._id===r.ownerId&&((v=e.userRoles)==null?void 0:v.includes("admincontrol")))&&e._id!==r.authorizedId&&e._id!==r.authorizerId){let p=!this.useAuths;if(this.useAuths&&(p=yield this.checkAuthorization(e,r,"WRITE")),!p)return!1}let c=[];if(n.includes("mongo")){let p=this.collections.authorization.instance.find({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId}]});(yield p.count())>0&&(yield p.forEach(w=>c.push(w)))}else{let p=this.getLocalData("authorization",{authorizedId:r.authorizedId});Array.isArray(p)&&p.forEach(w=>{w.authorizerId===r.authorizerId&&c.push(w)})}let d;Array.isArray(c)&&c.forEach(p=>te(this,null,function*(){if(p.ownerId!==e._id){r.authorizerId===e._id?(p.authorizations=r.authorizations,p.structs=r.structs,p.excluded=r.excluded,p.expires=r.expires,p.status="OKAY",r.status="OKAY"):(r.authorizations=p.authorizations,r.structs=p.structs,r.excluded=p.excluded,r.expires=p.expires,p.status="OKAY",r.status="OKAY"),r.associatedAuthId=p._id.toString(),p.associatedAuthId=r._id.toString(),d=p;let w=JSON.parse(JSON.stringify(p));n.includes("mongo")?(delete w._id,yield this.collections.authorization.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:p.ownerId}]},{$set:w},{upsert:!0})):this.setLocalData(w)}}));let g=JSON.parse(JSON.stringify(r));if(n.includes("mongo")?(delete g._id,yield this.collections.authorization.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:r.ownerId}]},{$set:g},{upsert:!0})):this.setLocalData(g),r._id.includes("defaultId")&&n.includes("mongo")){let p=yield this.collections.authorization.instance.findOne(g);if(p&&(r._id=p._id.toString(),d)){let w=yield this.collections.authorization.instance.findOne({$and:[{authorizedId:d.authorizedId},{authorizerId:d.authorizerId},{ownerId:d.ownerId}]});w&&(w.associatedAuthId=r._id,delete w._id,yield this.collections.authorization.instance.updateOne({$and:[{authorizedId:w.authorizedId},{authorizerId:w.authorizerId},{ownerId:w.ownerId}]},{$set:w},{upsert:!0}),this.checkToNotify(e,[w]))}}return r})}checkAuthorization(o,s){return te(this,arguments,function*(e,r,n="READ",i=this.mode){var g,v,p;if(!e||!r)return!1;if(typeof e=="object"){if(r.ownerId===e._id&&!((g=e.userRoles)==null?void 0:g.includes("admin_control")))return!0}else if(typeof e=="string"){if(r.ownerId===e)return!0;e={_id:e}}let a,c;if(i.includes("mongo")?(a=yield this.collections.authorization.instance.findOne({$or:[{authorizedId:e._id,authorizerId:r.ownerId,ownerId:e._id},{authorizedId:r.ownerId,authorizerId:e._id,ownerId:e._id}]}),c=yield this.collections.authorization.instance.findOne({$or:[{authorizedId:e._id,authorizerId:r.ownerId,ownerId:r.ownerId},{authorizedId:r.ownerId,authorizerId:e._id,ownerId:r.ownerId}]})):(a=this.getLocalData("authorization",{ownerId:e._id}).find(w=>{if(w.authorizedId===e._id&&w.authorizerId===r.ownerId)return!0}),c=this.getLocalData("authorization",{ownerId:r.ownerId}).find(w=>{if(w.authorizedId===e._id&&w.authorizerId===r.ownerId)return!0})),!a||!c)return!1;let d=!1;return a.status==="OKAY"&&c.status==="OKAY"&&(r.structType==="group"?a.authorizations.indexOf(r.name+"_admin")>-1&&c.authorizations.indexOf(r.name+"_admin")>-1?d=!0:d=!1:a.authorizations.indexOf("provider")>-1&&c.authorizations.indexOf("provider")>-1||a.authorizations.indexOf("peer")>-1&&c.authorizations.indexOf("peer")>-1||a.authorizations.indexOf("control")>-1&&c.authorizations.indexOf("control")>-1||((v=a.structIds)==null?void 0:v.indexOf(r._id))>-1&&((p=c.structIds)==null?void 0:p.indexOf(r._id))>-1?d=!0:a.excluded.indexOf(r.structType)>-1&&r.ownerId===e._id&&n==="WRITE"&&(d=!1)),d})}overwriteLocalData(e){if(Array.isArray(e))e.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:r._id});!n||(n==null?void 0:n.length)===0?this.setLocalData(r):Object.assign(n,r)});else{let r=this.getLocalData(e.structType,{ownerId:e.ownerId,_id:e._id});!r||(r==null?void 0:r.length)===0?this.setLocalData(e):Object.assign(r,e)}}setLocalData(e){let r=n=>{var s;let i=n.structType,o=(s=this.collections[i])==null?void 0:s.reference;o||(o={},this.collections[i]||(this.collections[i]={}),this.collections[i].reference=o),o[n._id]=n};Array.isArray(e)?e.forEach(n=>{r(n)}):r(e)}getLocalData(e,r){var a;let n,i,o;if(typeof r=="object"?(n=r.ownerId,i=Object.keys(r).filter(d=>d!="ownerId")[0],o=r[i]):o=r,!e&&!n&&!i&&!o)return[];let s=[];if(!e&&(n||i))return Object.values(this.collections).forEach(c=>{if(c=c.reference,(i==="_id"||i==="id")&&o){let d=c[o];d&&s.push(d)}else Object.values(c).forEach(d=>{i&&o?d[i]===o&&d.ownerId===n&&s.push(d):d.ownerId===n&&s.push(d)})}),s;{let c=(a=this.collections[e])==null?void 0:a.reference;if(!c)return s;if(!i&&!n)return Object.values(c).forEach(d=>{s.push(d)}),s;if((i==="_id"||i==="id")&&o)return c[o];Object.keys(c).forEach(d=>{let g=c[d];i&&o&&!n?g[i]===o&&s.push(g):n&&!i?g.ownerId===n&&s.push(g):n&&i&&o&&g.ownerId===n&&g[i]&&g[i]===o&&s.push(g)})}return s}deleteLocalData(e){if(!e)throw new Error("Struct not supplied");return!e.structType||!e._id?!1:(this.collections[e.structType]&&delete this.collections[e.structType].reference[e._id],!0)}},P2=L2});var j2,ac,$0=Ge(()=>{h2();k2();ns();M2();j2=class extends V0{constructor(e={},r){super(r);this.tablet=new f2;this.collections=this.tablet.collections;this.id=Xr();this.baseServerCallback=e=>{let r=e;if(typeof e=="object"&&(e==null?void 0:e.structType)&&(r=[e]),Array.isArray(e)){let n=r.filter(i=>{if(i.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(n),r.forEach(i=>{var o;(!i.structType||i.structType==="USER")&&(i.email?i.structType="user":i.structType="uncategorized"),i.structType==="user"||i.structType==="authorization"||i.structType==="group"?(i.structType==="user"&&(i._id=i.id),this.setLocalData(i)):i.structType==="notification"?(this.getLocalData("notification",{ownerId:i.ownerId,_id:i.parent._id})?this.setLocalData(i):this.getLocalData(i.structType,{_id:i.parent._id})||this.overwriteLocalData(i),i.ownerId===((o=this.currentUser)==null?void 0:o._id)&&(i.parent.structType==="user"||i.parent.structType==="dataInstance"||i.parent.structType==="schedule"||i.parent.structType==="authorization")&&this.resolveNotifications([i],!0)):this.overwriteLocalData(i)})}(e==null?void 0:e.message)==="notifications"&&this.checkForNotifications(),(e==null?void 0:e.message)==="deleted"&&this.deleteLocalData(e.id),this.onResult(e)};this.resolveNotifications=(...i)=>te(this,[...i],function*(e=[],r=!0,n=this.currentUser){if(!n||e.length===0)return;let o=[],s=[],a=[],c=!1;return e.length===0&&(e=this.getLocalData("notification",{ownerId:n._id})),e.forEach(d=>{d.parent.structType==="user"&&(c=!0),a.push(d.parent.structType),o.push(d.parent._id),s.push(d._id),this.deleteLocalData(d)}),this.deleteData(s),r&&(a.reverse().forEach((d,g)=>{d==="user"&&(this.getUser(s[g]),o.splice(o.length-g-1,1))}),o.length>0)?yield this.getDataByIds(o,n._id,"notification"):!0});this.getLocalUserPeerIds=(e=this.currentUser)=>{if(!e)return[];let r=[];return this.getLocalData("authorization",e._id).forEach(i=>{i.authorizations.indexOf("peer")>-1&&i.authorizerId===e._id&&r.push(i.authorizedId)}),r};this.authorizeUser=(v,...p)=>te(this,[v,...p],function*(e,r="",n="",i="",o="",s=[],a=[],c=[],d=[],g=!1){if(!e)return;let w=this.createStruct("authorization",void 0,e,void 0);return w.authorizedId=i,w.authorizedName=o,w.authorizerId=r,w.authorizerName=n,w.authorizations=s,w.structs=a,w.excluded=c,w.groups=d,w.expires=g,w.status="PENDING",w.associatedAuthId="",w.ownerId=e._id,console.log("new authorization"),w=yield this.setAuthorization(w),w});this.addGroup=(c,...d)=>te(this,[c,...d],function*(e,r="",n="",i=[],o=[],s=[],a=!0){if(!e)return;let g=this.createStruct("group",void 0,e);return g.name=r,g.details=n,g.admins=i,g.peers=o,g.clients=s,g.users=[...i,...o,...s],g.ownerId=e._id,a&&(g=yield this.setGroup(g)),g});this.addData=(c,...d)=>te(this,[c,...d],function*(e,r="",n="",i="",o=[],s=!1,a=!0){if(!e)return;let g=this.createStruct("dataInstance",void 0,e);return g.author=r,g.title=n,g.type=i,g.data=o,g.expires=s,g.ownerId=e._id,a&&(g=yield this.updateServerData([g])[0]),g});this.addEvent=(v,...p)=>te(this,[v,...p],function*(e,r="",n="",i="",o=0,s=0,a=0,c=[],d=[],g=!0){if(!e)return;d.length===0&&(d=this.getLocalUserPeerIds(e));let w=this.createStruct("event",void 0,e);return w.author=r,w.event=n,w.notes=i,w.startTime=o,w.endTime=s,w.grade=a,w.attachments=c,w.users=d,w.ownerId=e._id,g&&(w=yield this.updateServerData([w])[0]),w});this.addDiscussion=(d,...g)=>te(this,[d,...g],function*(e,r="",n="",i="",o="",s=[],a=[],c=!0){if(!e)return;a.length===0&&(a=this.getLocalUserPeerIds(e));let v=this.createStruct("discussion",void 0,e);v.topic=n,v.category=i,v.message=o,v.attachments=s,v.authorId=r,v.users=a,v.comments=[],v.replies=[],v.ownerId=e._id;let p=[v];return c&&(v=yield this.updateServerData(p)[0]),v});this.addChatroom=(a,...c)=>te(this,[a,...c],function*(e,r="",n="",i=[],o=[],s=!0){if(!e)return;o.length===0&&(o=this.getLocalUserPeerIds(e));let d=this.createStruct("chatroom",void 0,e);d.message=n,d.attachments=i,d.authorId=r,d.users=o,d.replies=[],d.comments=[],d.ownerId=e._id;let g=[d];return s&&(d=yield this.updateServerData(g)[0]),d});this.addComment=(c,d,g,...v)=>te(this,[c,d,g,...v],function*(e,r,n,i="",o="",s=[],a=!0){if(!r||(n||(n=r),!e))return;let p=this.createStruct("comment",void 0,e,r);p.authorId=i,p.replyTo=n==null?void 0:n._id,p.message=o,p.attachments=s,p.users=r==null?void 0:r.users,p.replies=[],p.ownerId=e._id,a||n==null||n.replies.push(p._id),a||r==null||r.comments.push(p._id);let w=[p,r];return n._id!==r._id&&w.push(n),a&&(p=yield this.updateServerData(w)[0]),p});e instanceof Object&&Object.keys(e).length>0&&this.setupUser(e),this.load(new P2(this))}setupUser(e,r=n=>{}){return te(this,null,function*(){if(!e){console.error('must provide an info object! e.g. {_id:"abc123"}'),r(void 0);return}let n=!1;e.id&&!e._id?e._id=e.id:e._id&&(e.id=e._id);let i=yield this.getUser(e._id);console.log("user gotten",i);let o,s=!1;if(i==null?void 0:i._id){o=i;for(let a in e){let c=this.userStruct();if(o[a]&&a!=="_id")if(Array.isArray(e[a])){for(let d=0;d<o[a].length;d++)if(e[a].indexOf(o[a][d])<0){o[a]=e[a],n=!0;break}if(!n){for(let d=0;d<e[a].length;d++)if(o[a].indexOf(e[a][d])<0){o[a]=e[a],n=!0;break}}}else o[a]!==e[a]&&(o[a]=e[a],n=!0);else o[a]!==e[a]&&typeof c[a]=="string"&&a!=="_id"&&(o[a]=e[a],n=!0)}(i==null?void 0:i.authorizations)&&Array.isArray(i.authorizations)&&this.setLocalData(i.authorizations),(i==null?void 0:i.groups)&&Array.isArray(i.groups)&&this.setLocalData(i.groups)}else{o=this.userStruct(e,!0),s=!0;let a=yield this.setUser(o),c=this.getLocalData(void 0,{ownerId:o._id});(c==null?void 0:c.length)>0&&this.updateServerData(c,d=>{console.log("setData",d)}),this.setAuthorizationsByGroup(o)}if(s)this.currentUser=o,this.setLocalData(o);else{let a=yield this.getAllUserData(o._id,void 0);if(console.log("getServerData",a),!(!a||a.length===0)){this.setLocalData(a),console.log("DATA",a);let c=a.filter(p=>{if(p.structType==="notification"&&(this.getLocalData("authorization",p.parent._id)||p.parent.structType==="user"||p.parent.structType==="authorization"||!this.getLocalData(p.parent.structType,p.parent._id)))return!0}),d=a.filter(p=>{if(p.structType==="comment")return!0}),g=[];d.forEach(p=>{this.getLocalData("comment",{_id:p._id})||g.push(p._id)}),g.length>0&&this.deleteData(g),c.length>0&&(this.resolveNotifications(c,!1,void 0),n=!0);let v=a.filter(p=>{if(p.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(v)}this.setLocalData(o),console.log("currentUser",o),this.currentUser=o,console.log("collections",this.tablet.collections)}return o?(r(this.currentUser),this.currentUser):(r(o),o)})}onResult(e){}randomId(e=""){return`${e+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}addStruct(){return te(this,arguments,function*(e="struct",r={},n=void 0,i=void 0,o=!0){let s=In.Struct(e,r,n,i);return o&&(s=yield this.updateServerData([s])[0]),s})}ping(e=r=>{console.log(r)}){return te(this,null,function*(){var n;let r=(n=yield this.send("ping"))==null?void 0:n[0];return e(r),r})}sendMessage(e="",r="",n=void 0,i=o=>{console.log(o)}){return te(this,null,function*(){var a;let o=[e,r];n&&(o[2]=n);let s=(a=yield this.send("sendMessage",...o))==null?void 0:a[0];return i(s),s})}getUser(){return te(this,arguments,function*(e="",r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/getUser",e))==null?void 0:i[0];return r(n),n})}getUsers(){return te(this,arguments,function*(e=[],r=this.baseServerCallback){let n=yield this.send("structs/getUsers",...e);return r(n),n})}getUsersByRoles(){return te(this,arguments,function*(e=[],r=this.baseServerCallback){let n=yield this.send("structs/getUsersByRoles",e);return r(n),n})}getAllUserData(i){return te(this,arguments,function*(e,r=[],n=this.baseServerCallback){let o=yield this.send("structs/getAllData",e,r);return n(o),o})}getData(a,c,d){return te(this,arguments,function*(e,r,n,i=0,o=0,s=this.baseServerCallback){var v;let g=(v=yield this.send("structs/getData",e,r,n,i,o))==null?void 0:v[0];return s(g),g})}getDataByIds(){return te(this,arguments,function*(e=[],r,n,i=this.baseServerCallback){let o=yield this.send("structs/getDataByIdss",e,r,n);return i(o),o})}getStructParentData(n){return te(this,arguments,function*(e,r=this.baseServerCallback){var s,a,c;if(!e.parent)return;let i=[(s=e.parent)==null?void 0:s.structType,"_id",(a=e.parent)==null?void 0:a._id],o=(c=yield this.send("structs/getData",...i))==null?void 0:c[0];return r(o),o})}setUser(){return te(this,arguments,function*(e={},r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/setUser",this.stripStruct(e)))==null?void 0:i[0];return r(n),n})}checkUserToken(i){return te(this,arguments,function*(e,r=this.currentUser,n=this.baseServerCallback){if(!e)return!1;let o=!1;for(let s in e){let a=this.userStruct();if(r[s]&&s!=="_id")if(Array.isArray(e[s])){for(let c=0;c<r[s].length;c++)if(e[s].indexOf(r[s][c])<0){r[s]=e[s],o=!0;break}if(!o){for(let c=0;c<e[s].length;c++)if(r[s].indexOf(e[s][c])<0){r[s]=e[s],o=!0;break}}}else r[s]!==e[s]&&(r[s]=e[s],o=!0);else!r[s]&&a[s]&&(r[s]=e[s],o=!0)}return o&&(yield this.setUser(r,n))})}updateServerData(){return te(this,arguments,function*(e=[],r=this.baseServerCallback){let n=new Array;e.forEach(o=>{n.push(this.stripStruct(o))});let i=yield this.send("structs/setData",...n);return r(i),i})}deleteData(){return te(this,arguments,function*(e=[],r=this.baseServerCallback){var o;let n=[];e.forEach(s=>{(s==null?void 0:s.structType)&&(s==null?void 0:s._id)&&(n.push({structType:s.structType,_id:s._id}),this.deleteLocalData(s))}),console.log("deleting",n);let i=(o=yield this.send("structs/deleteData",...n))==null?void 0:o[0];return r(i),i})}deleteUser(n){return te(this,arguments,function*(e,r=this.baseServerCallback){var o;if(!e)return;let i=(o=yield this.send("structs/deleteUser",e))==null?void 0:o[0];return r(i),i})}setGroup(){return te(this,arguments,function*(e={},r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/setGroup",this.stripStruct(e)))==null?void 0:i[0];return r(n),n})}getGroups(){return te(this,arguments,function*(e=this.currentUser._id,r="",n=this.baseServerCallback){let i=yield this.send("structs/getGroups",e,r);return n(i),i})}deleteGroup(n){return te(this,arguments,function*(e,r=this.baseServerCallback){var o;if(!e)return;this.deleteLocalData(e);let i=(o=yield this.send("structs/deleteGroup",e))==null?void 0:o[0];return r(i),i})}setAuthorization(){return te(this,arguments,function*(e={},r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/setAuth",this.stripStruct(e)))==null?void 0:i[0];return r(n),n})}getAuthorizations(){return te(this,arguments,function*(e=(i=>(i=this.currentUser)==null?void 0:i._id)(),r="",n=this.baseServerCallback){if(e===void 0)return;let o=yield this.send("structs/getAuths",e,r);return n(o),o})}deleteAuthorization(n){return te(this,arguments,function*(e,r=this.baseServerCallback){var o;if(!e)return;this.deleteLocalData(e);let i=(o=yield this.send("structs/deleteAuth",e))==null?void 0:o[0];return r(i),i})}checkForNotifications(){return te(this,arguments,function*(e=(r=>(r=this.currentUser)==null?void 0:r._id)()){return yield this.getData("notification",e)})}setAuthorizationsByGroup(){return te(this,arguments,function*(e=this.currentUser){let r=this.getLocalData("authorization",{ownerId:e._id});e.userRoles.forEach(n=>{let o=n.split("_")[0],s;n.includes("client")?s=o+"_peer":n.includes("peer")?s=o+"_client":n.includes("admin")&&(s=o+"_owner"),s&&this.getUsersByRoles([s],a=>{a==null||a.forEach(c=>{let d=c.username;d||(d=c.email),d||(d=c._id);let g=e.username;g||(g=e.email),g||(g=e._id),d!==g&&(n.includes("client")?r.find(p=>{if(p.authorizerId===c._id&&p.authorizedId===e._id)return!0})||this.authorizeUser(In.ProfileStruct("user",e,e),c._id,d,e._id,g,["peer"],void 0,[n]):n.includes("peer")&&(r.find(p=>{if(p.authorizedId===c._id&&p.authorizerId===e._id)return!0})||this.authorizeUser(In.ProfileStruct("user",e,e),e._id,g,c._id,d,["peer"],void 0,[n])))})})})})}deleteRoom(e){return te(this,null,function*(){var n;if(!e)return!1;let r=[e];return(n=e.comments)==null||n.forEach(i=>{let o=this.getLocalData("comment",{_id:i});r.push(o)}),e?yield this.deleteData(r):!1})}deleteComment(e){return te(this,null,function*(){var a,c,d;let r=[e],n=(g=e)=>{(g==null?void 0:g.replies)&&g.replies.forEach(v=>{let p=this.getLocalData("comment",{_id:v});p&&(p.replies.length>0&&p.replies.forEach(w=>{n(w)}),r.push(p))})};n(e);let i=this.getLocalData((a=e.parent)==null?void 0:a.structType,{_id:(c=e.parent)==null?void 0:c._id}),o=[];i&&(o=[i],r.forEach(g=>{var w,b;let v=(w=i.replies)==null?void 0:w.indexOf(g._id);v>-1&&i.replies.splice(v,1);let p=(b=i.comments)==null?void 0:b.indexOf(g._id);p>-1&&i.comments.splice(p,1)}));let s=this.getLocalData("comment",{_id:e.replyTo});if((s==null?void 0:s._id)!==(i==null?void 0:i._id)){let g=(d=s.replies)==null?void 0:d.indexOf(i._id);g>-1&&s.replies.splice(g,1),o.push(s)}return o.length>0&&(yield this.updateServerData(o)),yield this.deleteData(r)})}getUserDataByAuthorization(a,c,d){return te(this,arguments,function*(e,r,n,i=0,o=0,s=this.baseServerCallback){let g=e.authorizerId;if(g)return new Promise(v=>te(this,null,function*(){this.getUser(g,p=>te(this,null,function*(){r?yield this.getData(r,g,n,i,o,s):yield this.getAllUserData(g,["notification"],s),v(p),s(p)}))}))})}getUserDataByAuthorizationGroup(){return te(this,arguments,function*(e="",r,n,i=0,o=0,s=this.baseServerCallback){let a=this.getLocalData("authorization"),c=[];return yield Promise.all(a.map(d=>te(this,null,function*(){var g;if((g=d.groups)==null?void 0:g.includes(e)){let v=d.authorizerId;if(v){let p,w=yield this.getUser(v,s);w&&c.push(w),r?p=yield this.getData(r,v,n,i,o,s):p=yield this.getAllUserData(v,["notification"],s),p&&c.push(p)}return!0}}))),c})}overwriteLocalData(e){if(Array.isArray(e))e.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:r._id});!n||(n==null?void 0:n.length)===0?this.setLocalData(r):Object.assign(n,r)});else{let r=this.getLocalData(e.structType,{ownerId:e.ownerId,_id:e._id});!r||(r==null?void 0:r.length)===0?this.setLocalData(e):Object.assign(r,e)}}setLocalData(e){this.tablet.setLocalData(e)}getLocalData(e,r){return this.tablet.getLocalData(e,r)}getLocalReplies(e){let r=[];if(e.replies){if(e.replies.reduce((n,i)=>n*(typeof i=="object"?1:0),1))return e.replies}else return r;return r=this.getLocalData("comment",{replyTo:e._id}),r}hasLocalAuthorization(e,r=this.currentUser._id){let i=this.getLocalData("authorization",{ownerId:r}).find(o=>{if(o.authorizedId===r&&o.authorizerId===e||o.authorizerId===r&&o.authorizedId===e)return!0});return i||!1}deleteLocalData(e){return Array.isArray(e)?e.forEach(r=>this.deleteStruct(r)):this.deleteStruct(e),!0}deleteStruct(e){if(typeof e=="string"&&(e=this.getLocalData(e)),!e)throw new Error("Struct not supplied");return!e.structType||!e._id?!1:(this.tablet.collections.get(e.structType).delete(e._id),!0)}stripStruct(e={}){let r=Object.assign({},e);for(let n in r)(r[n]===void 0||r[n].constructor.name==="Map")&&delete r[n];return r}createStruct(e,r,n=this.currentUser,i){return In.Struct(e,r,n,i)}userStruct(e={},r=!1){let n=In.ProfileStruct(void 0,e,e);e._id?n.id=e._id:e.id?n.id=e.id:n.id="user"+Math.floor(Math.random()*1e10),n._id=n.id,n.ownerId=n.id;for(let i in e)Object.keys(In.ProfileStruct()).indexOf(i)<0&&delete n[i];return r&&(this.currentUser=n),n}dataObject(e=void 0,r="any",n=Date.now()){return{type:r,data:e,timestamp:n}}},ac=j2});var Ha,H0=Ge(()=>{q0();Va();Ha=class extends $a{constructor(e){super(e);this.responses=new Map;this.serviceType="subscription";this.subscribers=new Map;this.updateSubscribers=(e,r)=>{this.subscribers.forEach(n=>{za(r.route,!1).forEach(o=>{n.routes[o]&&(n==null?void 0:n.send)&&n.send(e.format(r))})})};this.add=(e,r)=>{throw"Add not implemented"};this.addResponse=(e,r)=>{this.responses.set(e,r)};this.removeResponse=e=>{e?this.responses.delete(e):this.responses=new Map};this.send=(e,r)=>te(this,null,function*(){throw"Send not implemented"})}}});var J0,lc,G0=Ge(()=>{H0();Va();J0=class extends Ha{constructor(e){super(e);this.name="http";this.service="http";this.add=(e,r)=>new Promise(n=>{this.connection=new EventSource(nc("",r)),this.connection.onopen=()=>{this.connection.onmessage=i=>{let o=JSON.parse(i.data);o.route==="events/subscribe"&&n(o.message[0]),this.responses.forEach(s=>s(o))}}})}};J0.type="client";lc=J0});var uc,B2=Ge(()=>{uc={protocol:"http",hosturl:"localhost",port:"80",port2:"81",docusaurus:"3000"}});var Y0,cc,K0=Ge(()=>{H0();oc();B2();Y0=class extends Ha{constructor(e,r={},n){super(e);this.name="websocket";this.service="websocket";this.connected=!1;this.sendQueue={};this.sockets=new Map;this.queue={};this.origin=`client${Math.floor(Math.random()*1e13)}`;this.encodeForSubprotocol=e=>{let r=[];return e._id&&(e.id=e._id,delete e._id),Object.keys(e).forEach(i=>r.push(`brainsatplay.com/${i}/${e[i]}?arr=`+Array.isArray(e[i]))),encodeURIComponent(r.join(";"))||void 0};this.add=(e,r)=>te(this,null,function*(){return this.addSocket(r,e)});this.send=(e,r={})=>new Promise(n=>{let i=d=>{r.callback&&r.callback(d),n(d)},o=""+Math.random();typeof e=="object"&&(Array.isArray(e)?e.splice(1,0,o):e.callbackId=o),this.queue[o]={resolve:n,suppress:e.suppress};let s,a=new URL(r.id);if(s=this.getSocket(a),!s)return;let c=()=>s.send(Wa(e),i);s.readyState===s.OPEN?c():(this.sendQueue[a.origin]||(this.sendQueue[a.origin]=[]),this.sendQueue[a.origin].push(c))});this.post=this.send;this.onmessage=e=>{let r;try{r=JSON.parse(e.data)}catch(o){r=e}console.log("WS Message",r);let n=()=>{this.responses.forEach((o,s)=>{o(r)})},i=r.callbackId;if(i){delete r.callbackId;let o=this.queue[i];(o==null?void 0:o.resolve)&&o.resolve(r),(o==null?void 0:o.suppress)||n(),delete this.queue[i]}else n(),this.defaultCallback(r)};this.defaultCallback=e=>{};this.isOpen=e=>{let r=this.getSocket(e);return r?r.readyState===1:!1};this.close=e=>{let r=this.getSocket(e);return r?r.close():!1};this.terminate=this.close;this.subprotocols=r,n&&this.addSocket(n,r)}addSocket(e=new URL(`${uc.protocol}://${uc.host}:${uc.port}`),r=this.subprotocols){let n;e instanceof URL||(e=new URL(e));let i=e.origin;try{if(e.protocol==="http:")n=new WebSocket("ws://"+e.host,this.encodeForSubprotocol(r));else if(e.protocol==="https:")n=new WebSocket("wss://"+e.host,this.encodeForSubprotocol(r));else{console.log("invalid protocol");return}return n.onmessage=this.onmessage,this.sockets.set(i,n),i}catch(o){console.error("Error with socket creation!",o);return}}getSocket(e){return typeof e=="string"&&(e=new URL(e)),e?this.sockets.get(e.origin):this.sockets.values().next().value}addCallback(e="",r=n=>{}){if(e.length>0&&!this.responses.has(e))this.responses.set(e,r);else return!1}removeCallback(e=""){this.responses.delete(e)}};Y0.type="client";cc=Y0});var He,R6,F6,os=Ge(()=>{$0();G0();K0();He=new ac,R6=new lc(He),F6=new cc(He);He.load(R6,"http");He.load(F6,"websockets")});var z2,V2,U2,Ja,Ga,Z0=Ge(()=>{z2=Tt(Wt());Fa();H_();os();V2=Tt(Aa()),U2=new gn(V2.settings.realmapp),Ja=(t,e)=>te(void 0,null,function*(){let{currentUser:r}=U2,n="LOG_IN";if(r)try{yield r.refreshAccessToken(),n="REFRESH"}catch(i){return{type:"FAIL",data:{err:i,type:"REFRESH"}}}else{let i;try{t==="google"?(yield(0,z2.wait)(0),i=$t.google({redirectUrl:window.location.origin})):t&&(i=$t.emailPassword(t,e))}catch(o){console.error(o)}if(i)try{let o=yield U2.logIn(i);o&&(yield o.refreshAccessToken(),r=o)}catch(o){return{type:"FAIL",data:{err:o,type:"LOGIN"}}}}return r?{type:n,data:r.toJSON()}:{type:"FAIL",data:{err:void 0,type:"UNCAUGHT"}}}),Ga=t=>te(void 0,null,function*(){var n,i;let e=!1,r;if((t==null?void 0:t.type)!=="FAIL"&&((t==null?void 0:t.data).id||(t==null?void 0:t.data)._id?r=He.setupUser(t.data):((i=(n=t==null?void 0:t.data)==null?void 0:n.profile)==null?void 0:i.data)._id&&(r=He.setupUser(t.data.profile.data))),r){let o=yield r;if(o)return e=!0,Br.setState({isLoggedIn:!0,loggedInId:o._id}),console.log("Logged in: ",o),o}e||(console.log("User not created with info:",t.data),Br.get("isLoggedIn")&&Br.setState({isLoggedIn:!1}))});window.location.href.includes("_baas_client_app_id")&&$_()});function Lt(t="struct",e={},r={_id:""},n={structType:"struct",_id:""}){function i(s=""){return`${s+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}let o={_id:i(t+"defaultId"),structType:t,ownerId:r?._id,timestamp:Date.now(),parent:{structType:n?.structType,_id:n?._id}};return o.ownerId||delete o.ownerId,o?.parent?._id||delete o.parent,Object.keys(e).length>0&&Object.assign(o,e),o}function fc(t,e={}){if(!Zi[t.tag]&&t.position&&(Zi[t.tag]=[t.position.x,t.position.y,t.position.z]),Zi[t.tag]){let r={channel:"",position:{x:Zi[t.tag][0],y:Zi[t.tag][1],z:Zi[t.tag][2]}};return Object.assign(e,r)}else return Object.assign(e,t)}function C6(t=[],e=!0){let r=[];for(let n of t){let i=ci(n);r.push(i)}return e&&r.push(...Q0({channelDicts:t})),r}function hc(t=[],e={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return t.forEach(n=>r[n]=[]),Object.assign(e,r)}function ci(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=hc(),o={tag:t,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Lt("eeg",o,r,n);return t&&fc(o,s),Object.assign(s,e)}function X0(t={0:ci("FP1"),1:ci("FP2")},e={},r={_id:""},n={structType:"struct",_id:""}){let i=hc(),o={tag:t[0]?.tag+"::"+t[1]?.tag,x0:t[0]?.position?.x,y0:t[0]?.position?.y,z0:t[0]?.position?.z,x1:t[1]?.position?.x,y1:t[1]?.position?.y,z1:t[1]?.position?.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Lt("coherence",o,r,n);return Object.assign(s,e)}function Q0(t={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},e={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,a=0;a<t.channelDicts.length*(t.channelDicts.length+1)/2-t.channelDicts.length;a++){if(t.taggedOnly===!1||t.taggedOnly===!0&&t.channelDicts[s].tag!==null&&t.channelDicts[s+o].tag!==null&&t.channelDicts[s].tag!=="other"&&t.channelDicts[s+o].tag!=="other"&&t.channelDicts[s].analyze===!0&&t.channelDicts[s+o].analyze===!0){var c=ci(t.channelDicts[s].tag),d=ci(t.channelDicts[s+o].tag);i.push(X0({0:c,1:d},{},r,n))}o++,o+s===t.channelDicts.length&&(s++,o=1)}return i}function ep(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=Lt("fnirs",i,r,n);return t&&fc(i,o),Object.assign(o,e)}function $2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=Lt("imu",i,r,n);return t&&fc(i,o),Object.assign(o,e)}function H2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},o=Lt("eyetracker",i,r,n);return Object.assign(o,e)}function tp(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},o=Lt("ecg",i,r,n);return Object.assign(o,e)}function J2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){}function G2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=ep(t,r,n,e);return i.structType="ppg",i}function Y2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=tp(t,r,n,e);return i.structType="hrv",i}function K2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=ci(t,r,n,e);return i.structType="emg",i}function Z2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Lt("profile",{tag:t,name:"",username:"",firstName:"",lastName:"",email:"",sex:"",birthday:"",type:"",userRoles:[],id:""},r,n);return Object.assign(i,e)}function X2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:new Array,structs:new Array,excluded:new Array,groups:new Array,status:"PENDING",expires:!1,associatedAuthId:""},o=Lt("authorization",i,r,n);return Object.assign(o,e)}function Q2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,name:"",details:"",admins:new Array,peers:new Array,clients:new Array,users:new Array},o=Lt("group",i,r,n);return Object.assign(o,e)}function eS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",expires:!1,type:"",data:new Array},o=Lt("dataInstance",i,r,n);return Object.assign(o,e)}function tS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:new Array},o=Lt("event",i,r,n);return Object.assign(o,e)}function rS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:new Array,audioChatActive:!1,videoChatActive:!1},o=Lt("chatroom",i,r,n);return Object.assign(o,e)}function nS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:new Array,attachments:new Array},o=Lt("comment",i,r,n);return Object.assign(o,e)}function iS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Lt("notification",{tag:t,note:"",parentUserId:""},r,n);return Object.assign(i,e)}function oS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",attachments:new Array,dates:new Array},o=Lt("schedule",i,r,n);return Object.assign(o,e)}function sS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},o=Lt("date",i,r,n);return Object.assign(o,e)}function $6(t=[],e={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return t.forEach((n,i)=>{for(let o in e)r[o]||(r[o]=[[],[]]),n>=e[o][0]&&n<=e[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r}function G6(t,e,r){let n=(e-t)/r,i=[],o=0;for(;o<e;)i.push(o),o+=n;return i}var W2,D6,q2,$e,Fn,Zi,L6,P6,Xi,Pe,M6,j6,B6,U6,z6,V6,W6,q6,H6,J6,rp=Ge(()=>{W2=Object.defineProperty,D6=(t,e,r)=>e in t?W2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,q2=(t,e)=>{for(var r in e)W2(t,r,{get:e[r],enumerable:!0})},$e=(t,e,r)=>(D6(t,typeof e!="symbol"?e+"":e,r),r),Fn={};q2(Fn,{AuthorizationStruct:()=>X2,ChatroomStruct:()=>rS,CoherenceMap:()=>Q0,CoherenceStruct:()=>X0,CommentStruct:()=>nS,DataStruct:()=>eS,DateStruct:()=>sS,ECGStruct:()=>tp,EDAStruct:()=>J2,EEGCoordinates:()=>C6,EEGStruct:()=>ci,EMGStruct:()=>K2,EventStruct:()=>tS,EyeTrackerStruct:()=>H2,FNIRSStruct:()=>ep,FrequencyBandsStruct:()=>hc,GroupStruct:()=>Q2,HRVStruct:()=>Y2,IMUStruct:()=>$2,NotificationStruct:()=>iS,PPGStruct:()=>G2,ProfileStruct:()=>Z2,ScheduleStruct:()=>oS,Struct:()=>Lt,eegCoordinates:()=>Zi,setCoordinate:()=>fc,structRegistry:()=>L6});Zi={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};L6={Struct:Lt,EEGStruct:ci,FNIRSStruct:ep,CoherenceStruct:X0,CoherenceMap:Q0,FrequencyBandsStruct:hc,IMUStruct:$2,EyeTrackerStruct:H2,ECGStruct:tp,EDAStruct:J2,PPGStruct:G2,HRVStruct:Y2,EMGStruct:K2,ProfileStruct:Z2,AuthorizationStruct:X2,GroupStruct:Q2,DataStruct:eS,EventStruct:tS,ChatroomStruct:rS,CommentStruct:nS,NotificationStruct:iS,ScheduleStruct:oS,DateStruct:sS},P6={};q2(P6,{bandpassWindow:()=>G6,get40HzGamma:()=>V6,getAlphaBetaRatio:()=>U6,getAlphaRatio:()=>j6,getAlphaThetaRatio:()=>z6,getCoherenceScore:()=>M6,getHEGRatioScore:()=>q6,getLowGammaScore:()=>W6,getThetaBetaRatio:()=>B6,mapCoherenceData:()=>J6,mapFFTData:()=>H6,splitFrequencyBands:()=>$6});Xi=class{constructor(){}static genSineWave(t=20,e=1,r=1,n=512,i=0,o=1){for(var s=[],a=[],c=1/n,d=0;d<r;d+=c){var g=Math.sin(2*Math.PI*t*d)*e;g+=Math.sin(2*Math.PI*i*d)*o,s.push(g),a.push(d)}return[a,s]}static getSineAmplitude(t=20,e=1,r=0,n=0){return Math.sin(this.TWO_PI*t*r+n)*e}static mean(t){var e=t.reduce((r,n)=>n+=r);return e/t.length}static mode(t){return t.sort((e,r)=>t.filter(n=>n===e).length-t.filter(n=>n===r).length).pop()}static std(t,e=void 0){let r=e;e||(r=this.mean(t));let n=0;for(let i=0;i<t.length;i++){let o=t[i]-r;n+=o*o}return Math.sqrt(n/t.length)}static relError(t=[],e=[],r=!0){if(t.length!==e.length)throw new Error("Input arrays of same length!");let n=t.length,i=[];for(let o=0;o<n;o++){let s=(t[o]-e[o])/t[o];r&&(s=Math.abs(s)),i.push(s)}return i}static informationEntropy(t=[]){let e=[],r=t.length;for(let n=0;n<r;n++){let i=t[n]*Math.log(t[n]);isNaN(i)&&(i=0),e.push(i)}return e}static zscore(t){let e=this.mean(t),r=this.std(t,e),n=[];for(let i=0;i<t.length;i++)n.push((t[i]-e)/r);return n}static variance(t){var e=this.mean(t);return t.reduce((r,n)=>r+(n-e)**2,0)/t.length}static dot(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}static cross3D(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}static magnitude(t){var e=0;return t.forEach(r=>{e+=r*r}),Math.sqrt(e)}static distance(t,e){var r=0;return t.forEach((n,i)=>{r+=(e[i]-n)*(e[i]-n)}),Math.sqrt(r)}static normalize(t){var e=0;e=this.magnitude(t);var r=[];return t.forEach((n,i)=>{r.push(n*e)}),r}static quadraticFormula(t,e,r){let n=Math.sqrt(e*e-4*t*r);if(!isNaN(n))return["complex","complex"];let i=1/(2*t);if(n===0)return[e*i];let o=-e;return[(o+n)*i,(o-n)*i]}static newtonsMethod(t=o=>Math.pow(o,5)+o*o-o-.2,e=0,r=1,n=.01,i=10){let o=[];for(let s=0;s<i;s++){let a=Math.random()*(r-e),c=t(a),d=t(a+n),g=(d-c)/n,v=a+n;for(;Math.abs(g)>n;){let b=-c/k,I=v+b;c=d,d=t(I);let k=(d-c)/(I-v)}let p,w=o.find((b,I)=>{if(Math.abs(xn1-b)<n)return p=I,!0});w?o[p]=(xn1+w)*.5:o.push(xn1)}return o}static makeVec(t,e){var r=[];return t.forEach((n,i)=>{r.push(e[i]-n)}),r}static transpose(t){return t[0].map((e,r)=>t.map(n=>n[r]))}static matmul(t,e){for(var r=t.length,n=t[0].length,i=e.length,o=e[0].length,s=new Array(r),a=0;a<r;++a){s[a]=new Array(o);for(var c=0;c<o;++c){s[a][c]=0;for(var d=0;d<n;++d)s[a][c]+=t[a][d]*e[d][c]}}return s}static matscale(t,e){let r=[];for(var n=0;n<t.length;n++){r[n]=[];for(let i=0;i<t[0].length;i++)r[n][i]=t[n][i]*e}return r}static matadd(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]+e[i][n]}return r}static matsub(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]-e[i][n]}return r}static histogram(t=[],e=1,r=void 0){let n=[...t];n.sort(function(c,d){return c-d});let i=Math.min(...n);if(typeof r=="number"){let c=Math.max(...n);e=Math.abs((c-i)/(r-1))}let o=i,s=[],a=[];for(let c=0;c<n.length;c++){let d=e*o;if(n[c]>i+d){o++,d+=e;let g=i+d+d*.5;s.push(g),a.push(0)}a[a.length-1]++}return[s,a]}static normalDistribution(t=[],e=!0,r=1e-4){let n=this.mean(t),i=this.variance(t),o=t.length,s=[],a=1/(this.TWO_PI*i),c=1/i,d=0;for(let g=0;g<o;g++){let v=Math.exp(-.5*Math.pow((t[g]-n)*c,2))*a;v<r&&(v=0),s.push(v),d+=v}if(e){let g=1/d;s=s.map(v=>v*g)}return s}static expectedValue(t=[],e=this.normalDistribution(t)){return t.reduce((r,n,i)=>r+n*e[i])}static originMoment(t=[],e=this.normalDistribution(t),r=1){return t.reduce((n,i,o)=>n+Math.pow(i,r)*e[o])}static centralMoment(t=[],e=this.normalDistribution(t),r=1){let n=this.mean(t);return t.reduce((i,o,s)=>i+Math.pow(o-n,r)*e[s]/t.length)}static linearDiscriminantAnalysis(t=[],e=[]){let r=this.mean(t),n=this.mean(e),i=this.cov1d(t,e),o=this.normalDistribution(t),s=[];for(let a=0;a<t.length;a++)s.push(x[a]*i*n-.5*r*i*n+Math.log10(o[a]));return s}static conv1D(t=[],e=[1/3,1/3,1/3],r=Math.floor(e.length*.5)){let n=[],i=1/e.length;if(r>0){let a=new Array(r).fill(0);t=[...a,...t,...a]}let o=Math.floor(e.length*.5),s=t.length-e.length+o;for(let a=o;a<s;a++){let c=0;for(let d=0;d<e.length;d++)c+=t[a-o]*e[d];n.push(c*i)}return n}static conv2D(t=[[],[],[]],e=[[],[],[]],r=0){let n=new Array(t.length-Math.ceil(e.length*.5)).fill([]),i,o=Xi.transpose(o);if(r>0){let I=new Array(r).fill(0);i=Xi.transpose(t);for(let k=0;k<i.length;k++)i[k]=[...I,...i[k],...I];t=Xi.transpose(i);for(let k=0;k<t.length;k++)t[k]=[...I,...t[k],...I]}let s=Math.floor(e[0].length*.5),a=Math.floor(o[0].length*.5),c=t[0].length-e[0].length+s,d=i[0].length-o[0].length+a,g=1/(e[0].length*o[0].length),v=c*d,p=s,w,b=a;for(;p<v;){let I=0;w=p%t[0].length,w===0&&b++;for(let k=0;k<e[0].length;k++){for(let A=0;A<o[0].length;k++)I+=t[b-a+A][w-s+k]*e[A][k];n[b].push(I*g)}p++}return n}static cov2d(t){var e=this.transpose(t),r=[],n=[],i=[];t.forEach((b,I)=>{n.push(this.mean(b))}),e.forEach((b,I)=>{i.push(this.mean(b))}),t.forEach((b,I)=>{r.push([]);for(var k=0;k<b.length;k++)r[I].push((t[I][k]-n[I])*(t[I][k]-i[k])/(b.length-1))});for(var o=this.transpose(r),s=r.length,a=r[0].length,c=o.length,d=o[0].length,g=new Array(s),v=0;v<s;++v){g[v]=new Array(d);for(var p=0;p<d;++p){g[v][p]=0;for(var w=0;w<a;++w)g[v][p]+=r[v][w]*o[w][p]/(t[0].length-1)}}return g}static cov1d(t=[],e=[]){return this.cov2d([t,e])}static cov3d(t=[],e=[],r=[]){return[[this.cov1d(t,t),this.cov1d(t,e),this.cov1d(t,r)],[this.cov1d(e,t),this.cov1d(e,e),this.cov1d(e,r)],[this.cov1d(r,t),this.cov1d(r,e),this.cov1d(r,r)]]}static covNd(t=[]){let e=[];t.forEach((r,n)=>{e.push([]),t.forEach((i,o)=>{e[n].push(this.cov1d(r,i))})})}static eigens2x2(t=[[1,2],[3,4]]){let e=t[0][0]*t[1][1]-t[0][1]*t[1][0],r=(t[0][0]+t[1][1])*.5,n=Math.sqrt(r*r-e),i=r+n,o=r-n;return[i,o]}static eigenvectors2x2(t=[[1,2],[3,4]],e=[1,2]){let r=[-t[0][1],t[0][0]-e[0]];r[0]===0&&r[1]===0&&(r[0]=t[1][1]-e[0],r[1]=-t[1][0]);let n=[-t[0][1],t[0][0]-e[1]];return n[0]===0&&n[1]===0&&(n[0]=t[1][1]-e[1],n[1]=-t[1][0]),[r,n]}static fastpca2d(t,e){let r=this.cov1d(t,e),n=this.eigens2x2(r);n[1]>n[0]&&n.reverse();let i=this.eigenvectors2x2(r,n);return console.log(n,i),[n,i]}static crosscorrelation(t,e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(t),i=this.mean(e),o=t.reduce((v,p)=>v+=Math.pow(p-n,2));o=Math.sqrt(o);var s=e.reduce((v,p)=>v+=Math.pow(p-n,2));s=Math.sqrt(s);for(var a=1/(o*s),c=new Array(t.length).fill(0),d=0;d<t.length;d++){var g=t.reduce((v,p,w)=>v+=(p-n)*(r[d+w]-i));c[d]=g*a}return c}static autocorrelation(t){var e=[...t,...Array(t.length).fill(0)],r=this.mean(t),n=t.reduce((c,d)=>c+=Math.pow(d-r,2));n=Math.sqrt(n);for(var i=1/(n*n),o=new Array(t.length).fill(0),s=0;s<t.length;s++){var a=t.reduce((c,d,g)=>c+=(d-r)*(e[s+g]-r));o[s]=a*i}return o}static correlograms(t=[[],[]]){var e=[];return t.forEach((r,n)=>{t.forEach((i,o)=>{o>=n&&e.push(Xi.crosscorrelation(r,i))})}),e}static sma(t=[],e){for(var r=[],n=0;n<t.length;n++)if(n==0)r.push(t[0]);else if(n<e){var i=t.slice(0,n+1);r.push(i.reduce((o,s)=>s+=o)/(n+1))}else{var i=t.slice(n-e,n);r.push(i.reduce((s,a)=>a+=s)/e)}return r}static sum(t=[]){if(t.length>0){var e=t.reduce((r,n)=>n+=r);return e}else return 0}static reduceArrByFactor(t,e=2){return t.filter((r,n)=>n%e===0)}static makeArr(t,e,r){for(var n=[],i=(e-t)/(r-1),o=0;o<r;o++)n.push(t+i*o);return n}static interpolateArray(t,e,r=1){var n=function(v,p,w){return(v+(p-v)*w)*r},i=new Array,o=new Number((t.length-1)/(e-1));i[0]=t[0];for(var s=1;s<e-1;s++){var a=s*o,c=new Number(Math.floor(a)).toFixed(),d=new Number(Math.ceil(a)).toFixed(),g=a-c;i[s]=n(t[c],t[d],g)}return i[e-1]=t[t.length-1],i}static isExtrema(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}else if(e==="valley"){if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}else if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}}return n}else return}static isCriticalPoint(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}else if(e==="valley"){if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}else if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}}return n}else return}static getPeakThreshold(t,e,r){let n,i=t.filter((o,s)=>{if(e.indexOf(s)>-1)return!0});return r===0?n=this.mean(i):n=(r+this.mean(i))*.5,n}static column(t,e){let r=new Array(t.length).fill(0).map(()=>new Array(1).fill(0));for(let n=0;n<t.length;n++)r[n][0]=t[n][e];return r}static flatten_vector(t){let e=[];for(let r=0;r<t.length;r++)e[r]=t[r][0];return e}static squared_difference(t,e){let r=0;for(let n=0;n<t.length;n++)r=r+Math.pow(t[n]-e[n],2);return r}static shift_deflate(t,e,r){let n=Math.sqrt(this.matmul(this.transpose(r),r)),i=this.matscale(r,1/n),o=this.matscale(this.matmul(i,this.transpose(i)),e);return this.matsub(t,o)}static eigenvalue_of_vector(t,e){return ev=this.matmul(this.matmul(this.transpose(e),t),e),ev}static power_iteration(t,e=1e-5,r=1e3){let n=t.length,i=new Array(n).fill(0).map(()=>new Array(1).fill(Math.sqrt(n))),o=this.eigenvalue_of_vector(t,i),s=1,a=0;for(;s>e&&a<r;){let c=JSON.parse(JSON.stringify(o)),d=this.matmul(t,i);i=this.normalize(d),o=this.eigenvalue_of_vector(t,i),s=Math.abs(o-c),a++}return[o,i]}static eigens(t,e=1e-4,r=1e3){let n=[],i=[];for(let o=0;o<t.length;o++){let s=this.power_iteration(t,e,r),a=s[0],c=s[1];n[o]=a,i[o]=this.flatten_vector(c),t=this.shift_deflate(t,a,c)}return[n,i]}static pca(t,e=1e-5){let r=t.length,n=new Array(r),i=new Array(r),o=this.transpose(t);n[0]=this.column(t,0);let s=1,a=0;for(;espilon>e;){a++,i[0]=this.matmul(o,n[0]);let c=this.matmul(this.transpose(n[0]),n[0]);i[0]=this.matscale(i[0],1/c);let d=Math.sqrt(this.matmul(this.transpose(i[0]),i[0]));i[0]=this.matscale(i[0],1/d);let g=this.matmul(t,i[0]),v=this.matmul(this.transpose(i[0]),i[0]);g=this.matscale(g,1/v),s=this.squared_difference(n[0],g),n[0]=JSON.parse(JSON.stringify(g))}return this.matmul(this.transpose(n[0]),n[0])}static p300(t=[],e=[],r=[],n=256){let i=Math.floor(n/10),o=this.sma(e,i),s=this.peakDetect(o,"peak",i),a=this.mean(o),c=this.std(o,a),d=0,g=[];return s.length>0&&t.forEach((v,p)=>{for(;r[s[d]]<v+200&&(d++,!!s[d]););let w=0,b=[];for(;r[s[d+w]]<v+600&&(b.push(d+w),w++,!!s[d+w]););if(b.length>1){let I=[];b.forEach(D=>{I.push(o[s[D]])});let k=Math.max(...I),A=b[I.indexOf(k)];g.push({event_timestamp:v,event_index:p,peak_timestamp:r[[s[A]]],signal_index:[s[A]],signal_amplitude:e[[s[A]]],zscore:(o[s[A]]-a)/c})}else b.length===1&&g.push({event_timestamp:v,event_index:p,peak_timestamp:r[s[b[0]]],signal_index:s[b[0]],signal_amplitude:e[[s[b[0]]]],zscore:(o[s[b[0]]]-a)/c})}),g}},Pe=Xi;$e(Pe,"TWO_PI",Math.PI*2),$e(Pe,"C",299792458),$e(Pe,"G",66743e-15),$e(Pe,"h",662607015e-42),$e(Pe,"R",8314.32),$e(Pe,"Ra",287),$e(Pe,"H",69.3),$e(Pe,"kbar",1054571817e-43),$e(Pe,"kB",1380649e-29),$e(Pe,"ke",89875517923e-1),$e(Pe,"me",91093837015e-41),$e(Pe,"mp",167262192369e-38),$e(Pe,"mn",167492749804e-38),$e(Pe,"P0",101325),$e(Pe,"T0",288.15),$e(Pe,"p0",1.225),$e(Pe,"Na",60220978e16),$e(Pe,"y",1.405),$e(Pe,"M0",28.96643),$e(Pe,"g0",9.80665),$e(Pe,"Re",6378100),$e(Pe,"B",1458e-9),$e(Pe,"S",110.4),$e(Pe,"Sigma",365e-12),$e(Pe,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),$e(Pe,"integral",(t=n=>n,e=[],r=.01)=>{let n=0;for(let i=e[0];i<e[1];i+=r)n+=t(i)*r;return n}),$e(Pe,"dintegral",(t=(i,o)=>i+o,e=[[],[]],r=.01,n=r)=>{let i=0;for(let o=e[0][0]+r;o<e[0][1];o+=r)for(let s=e[1][0]+n;s<e[1][1];s+=n)i+=t(o,s)*r*n;return i}),$e(Pe,"tintegral",(t=(o,s,a)=>o+s+a,e=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=e[0][0]+r;s<e[0][1];s+=r)for(let a=e[1][0]+n;a<e[1][1];a+=n)for(let c=e[2][0]+i;c<e[2][1];c+=i)o+=t(s,a,c)*r*n*i;return o}),$e(Pe,"pintegral",(t=n=>n,e=[],r=.01)=>{let n=0,i,o;for(let s=e[0];s<e[1];s+=r)i=o,o=t(s),i&&(n+=Xi.distance([0,i],[r,o]));return n}),$e(Pe,"peakDetect",(t,e="peak",r=49)=>{let n=Math.floor(r*.5),i=[];for(let o=0;o<t.length-r;o++)Xi.isExtrema(t.slice(o,o+r),e)&&i.push(o+n-1);return i});M6=(t,e="alpha1")=>{let r=[];return Array.isArray(t)||(t=[t]),t.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[e].slice(i-o);r.push(Pe.mean(s))}}),Pe.mean(r)},j6=t=>t.fftCount>0?t.means.alpha2[t.fftCount-1]/t.means.alpha1[t.fftCount-1]:0,B6=t=>t.fftCount>0?t.means.theta[t.fftCount-1]/t.means.beta[t.fftCount-1]:0,U6=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.beta[t.fftCount-1]:0,z6=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.theta[t.fftCount-1]:0,V6=(t,e)=>{if(t.fftCount>0&&Array.isArray(e)){let r=t.slices.lowgamma[t.fftCount-1],n=[];return r.forEach((i,o)=>{e.lowgamma[0][o]>38&&e.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}else return 0},W6=t=>{if(t.fftCount>0){let e=t.fftCount,r=20;e<r&&(r=e);let n=t.means.lowgamma.slice(e-r);return t.means.lowgamma[e-1]-Pe.mean(n)}else return 0},q6=t=>{if(t.count>0){let e=t.count,r=40;e<r&&(r=e);let n=t.ratio.slice(e-r);return t.ratio[e-1]-Pe.mean(n)}else return 0};H6=(t,e,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(e),n.ffts.push(t);for(let o in r){let s=t.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((a,c)=>a+c)/s.length),i+=r[o][1].length}},J6=(t,e,r,n)=>{t.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(e),n[o].ffts.push(data);let s=0;for(let a in r){let c=fft.slice(s,s+r[a][1].length);coord.slices[a].push(c),coord.means[a].push(c.reduce((d,g)=>d+g)/c.length),s+=r[a][1].length}})}});function dc(){return te(this,null,function*(){let t=He.connect({target:np.settings.dataserver,credentials:Ya,type:"websocket"});return t.subscribe(e=>{console.log("Indirect message from socket",e)}),console.log(t),console.log("Sending /routes from Client 1"),yield He.send("routes").then(e=>console.log("Routes (Client 1)",e)).catch(console.error),console.log("setting up client"),He.setupUser(Ya)})}function aS(){return te(this,null,function*(){return Qr.connect({target:np.settings.dataserver,credentials:Ka,type:"websocket"}).subscribe(e=>{console.log("Indirect message from socket",e)}),console.log("Sending /routes from Client 2"),Qr.send("routes").then(e=>console.log("Routes (Client 2)",e)).catch(console.error),console.log("setting up client"),Qr.setupUser(Ka)})}var np,Qr,Y6,K6,Ya,Ka,pc=Ge(()=>{os();rp();np=Tt(Aa());$0();G0();K0();Qr=new ac,Y6=new lc(Qr),K6=new cc(Qr);Qr.load(Y6,"http");Qr.load(K6,"websockets");Ya=Fn.ProfileStruct("test",{_id:"test15",email:"test@myalyce.com",username:"testuser",firstName:"Howard",lastName:"Dent",sex:"m",birthday:"09/10/1993"});Ka=Fn.ProfileStruct("test",{_id:"test16",email:"testpeer@myalyce.com",username:"testpeer",firstName:"The",lastName:"Batman",sex:"m",birthday:"01/19/1483"})});var uS=Oe(ip=>{Xv();var lS=Tt(Aa());Z0();Fa();pc();console.log("using data server URL: ",lS.settings.dataserver);Br.subscribe("route",t=>{history.replaceState(void 0,t,location.origin+t)});var Z6=!0;Z6?dc().then(t=>te(ip,null,function*(){console.log(t),yield Yo(t)})):Ja().then(t=>te(ip,null,function*(){let e=yield Ga(t);yield Yo(e)}))});var at=Oe((gA,mc)=>{var cS,fS,hS,dS,pS,yS,gS,mS,vS,yc,op,wS,_S,SS,ss,bS,ES,xS,OS,kS,NS,TS,AS,gc;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof mc=="object"&&typeof mc.exports=="object"?t(r(e,r(mc.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,s){return n[o]=i?i(o,s):s}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};cS=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},fS=Object.assign||function(n){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},hS=function(n,i){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(o[s[a]]=n[s[a]]);return o},dS=function(n,i,o,s){var a=arguments.length,c=a<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,o):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,i,o,s);else for(var g=n.length-1;g>=0;g--)(d=n[g])&&(c=(a<3?d(c):a>3?d(i,o,c):d(i,o))||c);return a>3&&c&&Object.defineProperty(i,o,c),c},pS=function(n,i){return function(o,s){i(o,s,n)}},yS=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},gS=function(n,i,o,s){function a(c){return c instanceof o?c:new o(function(d){d(c)})}return new(o||(o=Promise))(function(c,d){function g(w){try{p(s.next(w))}catch(b){d(b)}}function v(w){try{p(s.throw(w))}catch(b){d(b)}}function p(w){w.done?c(w.value):a(w.value).then(g,v)}p((s=s.apply(n,i||[])).next())})},mS=function(n,i){var o={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(p){return function(w){return v([p,w])}}function v(p){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,a&&(c=p[0]&2?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return o.label++,{value:p[1],done:!1};case 5:o.label++,a=p[1],p=[0];continue;case 7:p=o.ops.pop(),o.trys.pop();continue;default:if(c=o.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){o=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){o.label=p[1];break}if(p[0]===6&&o.label<c[1]){o.label=c[1],c=p;break}if(c&&o.label<c[2]){o.label=c[2],o.ops.push(p);break}c[2]&&o.ops.pop(),o.trys.pop();continue}p=i.call(n,o)}catch(w){p=[6,w],a=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},vS=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&gc(i,n,o)},gc=Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]},yc=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},op=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,c=[],d;try{for(;(i===void 0||i-- >0)&&!(a=s.next()).done;)c.push(a.value)}catch(g){d={error:g}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(d)throw d.error}}return c},wS=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(op(arguments[i]));return n},_S=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var s=Array(n),a=0,i=0;i<o;i++)for(var c=arguments[i],d=0,g=c.length;d<g;d++,a++)s[a]=c[d];return s},SS=function(n,i,o){if(o||arguments.length===2)for(var s=0,a=i.length,c;s<a;s++)(c||!(s in i))&&(c||(c=Array.prototype.slice.call(i,0,s)),c[s]=i[s]);return n.concat(c||Array.prototype.slice.call(i))},ss=function(n){return this instanceof ss?(this.v=n,this):new ss(n)},bS=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,i||[]),a,c=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(I){s[I]&&(a[I]=function(k){return new Promise(function(A,D){c.push([I,k,A,D])>1||g(I,k)})})}function g(I,k){try{v(s[I](k))}catch(A){b(c[0][3],A)}}function v(I){I.value instanceof ss?Promise.resolve(I.value.v).then(p,w):b(c[0][2],I)}function p(I){g("next",I)}function w(I){g("throw",I)}function b(I,k){I(k),c.shift(),c.length&&g(c[0][0],c[0][1])}},ES=function(n){var i,o;return i={},s("next"),s("throw",function(a){throw a}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(a,c){i[a]=n[a]?function(d){return(o=!o)?{value:ss(n[a](d)),done:a==="return"}:c?c(d):d}:c}},xS=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof yc=="function"?yc(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(c){o[c]=n[c]&&function(d){return new Promise(function(g,v){d=n[c](d),a(g,v,d.done,d.value)})}}function a(c,d,g,v){Promise.resolve(v).then(function(p){c({value:p,done:g})},d)}},OS=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};kS=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&gc(i,n,o);return r(i,n),i},NS=function(n){return n&&n.__esModule?n:{default:n}},TS=function(n,i,o,s){if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?s:o==="a"?s.call(n):s?s.value:i.get(n)},AS=function(n,i,o,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(n,o):a?a.value=o:i.set(n,o),o},t("__extends",cS),t("__assign",fS),t("__rest",hS),t("__decorate",dS),t("__param",pS),t("__metadata",yS),t("__awaiter",gS),t("__generator",mS),t("__exportStar",vS),t("__createBinding",gc),t("__values",yc),t("__read",op),t("__spread",wS),t("__spreadArrays",_S),t("__spreadArray",SS),t("__await",ss),t("__asyncGenerator",bS),t("__asyncDelegator",ES),t("__asyncValues",xS),t("__makeTemplateObject",OS),t("__importStar",kS),t("__importDefault",NS),t("__classPrivateFieldGet",TS),t("__classPrivateFieldSet",AS)})});var RS=Oe(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0})});var Pt=Oe((vA,vc)=>{(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(!!i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var s=e.apply(null,i);s&&r.push(s)}}else if(o==="object")if(i.toString===Object.prototype.toString)for(var a in i)t.call(i,a)&&i[a]&&r.push(a);else r.push(i.toString())}}return r.join(" ")}typeof vc<"u"&&vc.exports?(e.default=e,vc.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var FS=Oe(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.chevronIcons=void 0;var X6=at(),vt=(0,X6.__importDefault)(Ce());wc.chevronIcons={1:{viewBox:"0 0 16 16",path:vt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z"})},2:{viewBox:"0 0 16 16",path:vt.default.createElement("path",{"fill-rule":"evenodd",d:"M3.646 4.146a.5.5 0 0 1 .708 0L8 7.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zM1 11.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"})},3:{viewBox:"0 0 16 16",path:vt.default.createElement(vt.default.Fragment,null,vt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 6.646a.5.5 0 0 1 .708 0L8 12.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}),vt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 2.646a.5.5 0 0 1 .708 0L8 8.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}))},4:{viewBox:"0 0 16 16",path:vt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})},5:{viewBox:"0 0 24 24",path:vt.default.createElement(vt.default.Fragment,null,vt.default.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),vt.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},6:{viewBox:"0 0 24 24",path:vt.default.createElement(vt.default.Fragment,null,vt.default.createElement("path",{d:"M5 21h14c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM5 5h14l.001 14H5V5z"}),vt.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},7:{viewBox:"0 0 24 24",path:vt.default.createElement("path",{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"})},8:{viewBox:"0 0 24 24",path:vt.default.createElement(vt.default.Fragment,null,vt.default.createElement("path",{d:"m12 15.586-4.293-4.293-1.414 1.414L12 18.414l5.707-5.707-1.414-1.414z"}),vt.default.createElement("path",{d:"m17.707 7.707-1.414-1.414L12 10.586 7.707 6.293 6.293 7.707 12 13.414z"}))},9:{viewBox:"0 0 512 512",path:vt.default.createElement("path",{d:"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM273 369.9l135.5-135.5c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L256 285.1 154.4 183.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L239 369.9c9.4 9.4 24.6 9.4 34 0z"})},10:{viewBox:"0 0 24 24",path:vt.default.createElement("path",{d:"M21.886 5.536A1.002 1.002 0 0 0 21 5H3a1.002 1.002 0 0 0-.822 1.569l9 13a.998.998 0 0 0 1.644 0l9-13a.998.998 0 0 0 .064-1.033zM12 17.243 4.908 7h14.184L12 17.243z"})}}});var sp=Oe(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.Chevron=void 0;var CS=at(),Q6=(0,CS.__importDefault)(Ce()),ek=(0,CS.__importDefault)(Pt()),DS=FS(),tk={down:"rotate-0",up:"rotate-180",left:"rotate-90",right:"-rotate-90"},rk={xs:"h-3 w-3",sm:"h-6 w-6",md:"h-12 w-12",lg:"h-24 w-24",xl:"h-48 w-48",auto:"h-full w-full"},nk=function(t){var e=t.direction,r=t.icon,n=t.size,i=n===void 0?"auto":n,o=t.className,s=t.style;return Q6.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",className:(0,ek.default)("transform transition-transform duration-500 svg-fix",rk[i],tk[e],o),viewBox:DS.chevronIcons[r].viewBox,style:s},DS.chevronIcons[r].path)};_c.Chevron=nk});var fi=Oe(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.customScrollBar=dr.loremIpsum=dr.TextInputBorderMap=dr.regexpUtil=dr.useRefDimensions=dr.clickOutListener=void 0;var ap=Ce();function ik(t,e){(0,ap.useEffect)(function(){return document.addEventListener("click",function(r){return t.current&&!t.current.contains(r.target)&&e()})},[t])}dr.clickOutListener=ik;var ok=function(t){var e,r,n=(0,ap.useState)({width:0,height:0}),i=n[0],o=n[1];return(0,ap.useEffect)(function(){if(t.current){var s=t.current.getBoundingClientRect(),a=s.width,c=s.height;o({width:a,height:c})}},[(e=t.current)===null||e===void 0?void 0:e.offsetHeight,(r=t.current)===null||r===void 0?void 0:r.offsetWidth]),i};dr.useRefDimensions=ok;dr.regexpUtil={name:/^[a-z ,.'-]+$/i,email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/};dr.TextInputBorderMap={default:"border-secondary-300 placeholder-secondary-300 focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-200",success:"border-success-400 placeholder-success-300 focus:border-success-500 focus:outline-none focus:ring-1 focus:ring-success-200",warning:"border-warning-400 placeholder-warning-300 focus:border-warning-500 focus:outline-none focus:ring-1 focus:ring-warning-200",danger:"border-danger-400 placeholder-danger-300 focus:border-danger-500 focus:outline-none focus:ring-1 focus:ring-danger-200"};dr.loremIpsum="Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.";dr.customScrollBar="scrollbar-thin scrollbar-track-secondary-200 scrollbar-thumb-secondary-400 scrollbar"});var PS=Oe(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.Accordion=void 0;var as=at(),Sc=Wt(),bc=Ce(),en=(0,as.__importDefault)(Ce()),LS=(0,as.__importDefault)(Pt()),sk=sp(),ak=fi(),lk={xs:"max-w-xs",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",auto:"w-full"},uk={danger:"text-danger-700",info:"text-info-700",primary:"text-primary-700",secondary:"text-secondary-700",success:"text-success-700",warning:"text-warning-700"},ck={danger:"border-danger-600",info:"border-info-600",primary:"border-primary-600",secondary:"border-secondary-600",success:"border-success-600",warning:"border-warning-600"};function fk(t){var e=t.title,r=t.collapseOthers,n=r===void 0?!1:r,i=t.items,o=t.size,s=o===void 0?"auto":o,a=t.type,c=a===void 0?"secondary":a,d=t.className,g=t.style,v=t.contentMaxHeigh,p=(0,bc.useState)(Date.now()),w=p[0],b=p[1],I=function(k){return b(k)};return en.default.createElement("main",{className:(0,LS.default)(lk[s],d),style:g},en.default.createElement("div",{className:"w-full my-1"},e&&en.default.createElement("h2",{className:"text-xl font-semibold mb-2"},e),en.default.createElement("ul",{className:"flex flex-col"},i.map(function(k,A){return en.default.createElement(hk,(0,as.__assign)({},(0,as.__assign)((0,as.__assign)({},k),{collapseOthers:n,onOpen:I,openId:w,type:c,contentMaxHeigh:v}),{key:A}))}))))}Ec.Accordion=fk;var hk=function(t){var e=t.title,r=t.content,n=t.onOpen,i=t.openId,o=t.collapseOthers,s=t.type,a=t.onClick,c=(0,as.__rest)(t,["title","content","onOpen","openId","collapseOthers","type","onClick"]),d=(0,bc.useState)(i),g=d[0],v=d[1],p=(0,bc.useState)(!1),w=p[0],b=p[1];(0,bc.useEffect)(function(){i!==g&&(v(i),b(!1))},[i]);var I=function(A){if(!w){var D=Date.now();v(D),o&&n(D)}b(!w),a==null||a(A)},k=(0,Sc.isType)(c.isOpen,"boolean")?c.isOpen:w;return en.default.createElement("li",{className:"bg-white my-2 shadow-lg"},en.default.createElement("h2",{onClick:I,className:`\r
                flex flex-row justify-between items-center\r
                font-semibold p-3 cursor-pointer\r
            `},(0,Sc.isType)(r,"string")?en.default.createElement("span",null,e):e,en.default.createElement(sk.Chevron,{direction:k?"up":"down",icon:8,size:"sm",className:uk[s]})),en.default.createElement("div",{className:(0,LS.default)("border-l-2 overflow-hidden max-h-0 duration-700 transition-all",ak.customScrollBar,ck[s],k&&"max-h-96"),style:{maxHeight:!(0,Sc.nonValue)(c.contentMaxHeigh)&&k?c.contentMaxHeigh:void 0}},(0,Sc.isType)(r,"string")?en.default.createElement("p",{className:"p-3 text-gray-900"},r):r))}});var MS=Oe(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.AlertIcon=void 0;var dk=at(),Qi=(0,dk.__importDefault)(Ce()),pk={primary:Qi.default.createElement("path",{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),danger:Qi.default.createElement("path",{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zM8 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),info:Qi.default.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}),secondary:Qi.default.createElement("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}),success:Qi.default.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}),warning:Qi.default.createElement("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})},yk=function(t){return Qi.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-6 h-6"},pk[t.type])};xc.AlertIcon=yk});var jS=Oe(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.Alert=void 0;var up=at(),lp=Wt(),gk=(0,up.__importDefault)(Pt()),Or=(0,up.__importStar)(Ce()),mk=MS(),vk={primary:"text-primary-600",secondary:"text-secondary-600",info:"text-info-600",warning:"text-warning-600",danger:"text-danger-600",success:"text-success-600"},wk={primary:"text-primary-900",secondary:"text-secondary-900",info:"text-info-900",warning:"text-warning-900",danger:"text-danger-900",success:"text-success-900"},_k=function(t){(0,up.__extends)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={botW:100,isClosing:!1,isClosed:!1,isHover:!1,transitionDuration:void 0},r.closingDebounce=(0,lp.debounceTimeOut)(),r.handleMouseHover=function(n){var i=r.props.timeoutMs,o=!(0,lp.nonValue)(i);o&&!n?r.closingDebounce(r.startClosing,i):n&&r.closingDebounce("cancel"),r.setState(n?{isClosing:!1,botW:100,isHover:n}:{isHover:n,botW:o?0:100})},r.startClosing=function(){r.setState({isClosing:!0}),r.closingDebounce(r.close,700)},r.close=function(){r.props.onClose&&r.props.onClose(),r.setState({isClosed:!0})},r.componentWillUnmount=function(){return r.closingDebounce("cancel")},r.render=function(){var n=r.props,i=n.title,o=n.text,s=n.type,a=n.className,c=n.style,d=r.state,g=d.isHover,v=d.isClosing,p=d.botW,w=d.transitionDuration,b=d.isClosed,I=g?void 0:w,k=(0,gk.default)("bg-white border border-current border-b-0 rounded-lg flex flex-col overflow-hidden transition-opacity duration-700",{"opacity-0":v},vk[s],a);return b?null:Or.default.createElement("div",{className:k,style:c,onMouseEnter:function(){return r.handleMouseHover(!0)},onMouseLeave:function(){return r.handleMouseHover(!1)}},Or.default.createElement("div",{className:"p-1 flex w-full overflow-hidden mx-auto"},Or.default.createElement("div",{className:"pt-2 ml-3"},Or.default.createElement(mk.AlertIcon,{type:s})),Or.default.createElement("div",{className:"w-full flex justify-between items-start px-0 py-2"},Or.default.createElement("div",{className:"ml-3"},Or.default.createElement("p",{className:"font-bold"},i),o&&Or.default.createElement("p",{className:"mt-1 text-sm ".concat(wk[s])},o)),Or.default.createElement("a",{className:"mr-1 cursor-pointer",onClick:r.close},Or.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Or.default.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),Or.default.createElement("span",{className:"border-b-4 border-current transition-all ease-linear",style:{width:"".concat(p,"%"),transitionDuration:I}}))},r}return e.prototype.componentDidMount=function(){var r=this,n=this.props.timeoutMs;(0,lp.nonValue)(n)||(this.setState({transitionDuration:"".concat(n,"ms")}),setTimeout(function(){return r.setState({botW:0})},0),this.closingDebounce(this.startClosing,n))},e}(Or.Component);Oc.Alert=_k});var Nc=Oe(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.Badge=void 0;var US=at(),Sk=Wt(),bk=(0,US.__importDefault)(Pt()),BS=(0,US.__importDefault)(Ce()),Ek={xs:"h-2 min-w-2",sm:"h-3 min-w-3",md:"h-4 min-w-4",lg:"h-6 min-w-6",xl:"h-12 min-w-12"},xk={md:"text-xs",lg:"text-base",xl:"text-2xl"},Ok=function(t){var e=t.size,r=t.badge,n=t.className;return r?BS.default.createElement("div",{className:(0,bk.default)("bg-info-600 rounded-full absolute top-0 right-0 pl-1 pr-1 flex justify-center text-gray-100",Ek[e],n)},(0,Sk.isType)(r,"number")&&e!=="sm"&&e!=="xs"&&BS.default.createElement("span",{className:"m-auto ".concat(xk[e])},r>999?"+999":r)):null};kc.Badge=Ok});var zS=Oe(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.spinnersSvg=void 0;Tc.spinnersSvg=['<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 6h-6l2.243-2.243c-1.133-1.133-2.64-1.757-4.243-1.757s-3.109 0.624-4.243 1.757c-1.133 1.133-1.757 2.64-1.757 4.243s0.624 3.109 1.757 4.243c1.133 1.133 2.64 1.757 4.243 1.757s3.109-0.624 4.243-1.757c0.095-0.095 0.185-0.192 0.273-0.292l1.505 1.317c-1.466 1.674-3.62 2.732-6.020 2.732-4.418 0-8-3.582-8-8s3.582-8 8-8c2.209 0 4.209 0.896 5.656 2.344l2.343-2.344v6z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0.001 8.025l-0 0c0 0 0 0.001 0 0.003 0.002 0.061 0.009 0.12 0.021 0.177 0.003 0.027 0.007 0.057 0.011 0.090 0.003 0.029 0.007 0.061 0.011 0.095 0.006 0.040 0.012 0.083 0.019 0.128 0.013 0.090 0.028 0.189 0.045 0.296 0.021 0.101 0.044 0.21 0.068 0.326 0.011 0.058 0.028 0.117 0.044 0.178s0.032 0.123 0.049 0.188c0.009 0.032 0.016 0.065 0.027 0.097s0.021 0.065 0.031 0.098 0.043 0.134 0.065 0.203c0.006 0.017 0.011 0.035 0.017 0.052s0.013 0.034 0.019 0.052 0.026 0.070 0.039 0.105c0.027 0.070 0.053 0.142 0.081 0.215 0.031 0.071 0.062 0.144 0.094 0.218 0.016 0.037 0.032 0.074 0.048 0.111s0.035 0.073 0.053 0.111 0.073 0.148 0.11 0.224c0.039 0.075 0.081 0.149 0.123 0.224 0.021 0.037 0.042 0.075 0.063 0.113s0.045 0.074 0.068 0.112 0.093 0.149 0.14 0.224c0.198 0.295 0.417 0.587 0.66 0.864 0.245 0.275 0.511 0.535 0.792 0.775 0.284 0.236 0.582 0.452 0.886 0.642 0.306 0.188 0.619 0.349 0.928 0.487 0.078 0.032 0.156 0.063 0.232 0.095 0.038 0.015 0.076 0.032 0.115 0.046s0.077 0.027 0.115 0.041 0.151 0.054 0.226 0.078c0.075 0.022 0.15 0.044 0.224 0.066 0.037 0.011 0.073 0.022 0.109 0.031s0.073 0.018 0.109 0.027 0.143 0.035 0.213 0.052c0.070 0.014 0.139 0.027 0.207 0.040 0.034 0.006 0.067 0.013 0.101 0.019 0.017 0.003 0.033 0.006 0.049 0.009s0.033 0.005 0.049 0.007c0.066 0.009 0.13 0.018 0.192 0.027 0.031 0.004 0.062 0.009 0.093 0.013s0.061 0.006 0.091 0.009 0.118 0.010 0.174 0.015c0.056 0.005 0.111 0.011 0.164 0.012 0.004 0 0.007 0 0.011 0 0.010 0.544 0.453 0.982 1 0.982 0.008 0 0.017-0 0.025-0.001v0c0 0 0.001-0 0.004-0 0.061-0.002 0.12-0.009 0.177-0.021 0.027-0.003 0.057-0.007 0.090-0.011 0.029-0.003 0.061-0.007 0.095-0.011 0.040-0.006 0.083-0.012 0.128-0.019 0.090-0.013 0.189-0.028 0.296-0.045 0.101-0.021 0.21-0.044 0.326-0.068 0.058-0.011 0.117-0.028 0.178-0.044s0.123-0.033 0.188-0.049c0.032-0.009 0.065-0.016 0.097-0.027s0.065-0.021 0.098-0.031 0.134-0.043 0.203-0.065c0.017-0.006 0.035-0.011 0.052-0.017s0.034-0.013 0.052-0.019 0.070-0.026 0.105-0.039c0.070-0.027 0.142-0.053 0.215-0.081 0.071-0.031 0.144-0.062 0.218-0.094 0.037-0.016 0.074-0.032 0.111-0.048s0.073-0.035 0.111-0.053 0.148-0.073 0.224-0.11c0.075-0.039 0.149-0.081 0.224-0.123 0.037-0.021 0.075-0.042 0.113-0.063s0.074-0.045 0.112-0.068 0.149-0.093 0.224-0.14c0.295-0.197 0.587-0.417 0.864-0.66 0.275-0.245 0.535-0.511 0.775-0.792 0.236-0.284 0.452-0.582 0.642-0.886 0.188-0.306 0.349-0.619 0.487-0.928 0.032-0.078 0.063-0.156 0.095-0.232 0.015-0.038 0.032-0.076 0.046-0.115s0.027-0.077 0.040-0.115 0.054-0.151 0.078-0.226c0.022-0.075 0.044-0.15 0.066-0.224 0.011-0.037 0.022-0.073 0.031-0.109s0.018-0.073 0.027-0.109 0.035-0.143 0.052-0.213c0.014-0.070 0.027-0.139 0.040-0.207 0.006-0.034 0.013-0.067 0.019-0.101 0.003-0.017 0.006-0.033 0.009-0.049s0.005-0.033 0.007-0.050c0.009-0.065 0.018-0.13 0.027-0.192 0.004-0.031 0.009-0.062 0.013-0.093s0.006-0.061 0.009-0.091 0.010-0.118 0.015-0.174c0.005-0.056 0.011-0.111 0.012-0.165 0-0.008 0.001-0.016 0.001-0.025 0.55-0.002 0.996-0.449 0.996-1 0-0.008-0-0.017-0.001-0.025h0c0 0-0-0.001-0-0.003-0.002-0.061-0.009-0.12-0.021-0.177-0.003-0.027-0.007-0.057-0.011-0.090-0.003-0.029-0.007-0.061-0.011-0.095-0.006-0.040-0.012-0.083-0.019-0.128-0.013-0.090-0.028-0.189-0.045-0.296-0.021-0.101-0.044-0.21-0.068-0.326-0.011-0.058-0.028-0.117-0.044-0.178s-0.032-0.123-0.049-0.188c-0.009-0.032-0.016-0.065-0.027-0.097s-0.021-0.065-0.031-0.098-0.043-0.134-0.065-0.203c-0.005-0.017-0.011-0.035-0.017-0.052s-0.013-0.034-0.019-0.052-0.026-0.070-0.039-0.105c-0.027-0.070-0.053-0.142-0.081-0.215-0.031-0.071-0.062-0.144-0.094-0.218-0.016-0.037-0.032-0.074-0.048-0.111s-0.035-0.073-0.053-0.111-0.073-0.148-0.11-0.224c-0.039-0.075-0.081-0.149-0.123-0.224-0.021-0.037-0.042-0.075-0.063-0.113s-0.045-0.074-0.068-0.112-0.093-0.149-0.14-0.224c-0.197-0.295-0.417-0.587-0.66-0.864-0.245-0.275-0.511-0.535-0.792-0.775-0.284-0.236-0.582-0.452-0.886-0.642-0.306-0.188-0.619-0.349-0.928-0.487-0.078-0.032-0.156-0.063-0.232-0.095-0.038-0.015-0.076-0.032-0.115-0.046s-0.077-0.027-0.115-0.040-0.151-0.054-0.226-0.078c-0.075-0.022-0.15-0.044-0.224-0.066-0.037-0.010-0.073-0.022-0.109-0.031s-0.073-0.018-0.109-0.027-0.143-0.035-0.213-0.052c-0.070-0.014-0.139-0.027-0.207-0.040-0.034-0.006-0.067-0.013-0.101-0.019-0.017-0.003-0.033-0.006-0.049-0.009s-0.033-0.005-0.049-0.007c-0.066-0.009-0.13-0.018-0.192-0.027-0.031-0.004-0.062-0.009-0.093-0.013s-0.061-0.006-0.091-0.009-0.118-0.010-0.174-0.015c-0.056-0.005-0.111-0.011-0.164-0.012-0.013-0-0.026-0.001-0.039-0.001-0.010-0.543-0.454-0.981-0.999-0.981-0.008 0-0.017 0-0.025 0.001l-0-0c0 0-0.001 0-0.003 0-0.061 0.002-0.12 0.009-0.177 0.021-0.027 0.003-0.057 0.007-0.090 0.011-0.029 0.003-0.061 0.007-0.095 0.011-0.040 0.006-0.083 0.012-0.128 0.019-0.090 0.013-0.189 0.028-0.296 0.045-0.101 0.021-0.21 0.044-0.326 0.068-0.058 0.011-0.117 0.028-0.178 0.044s-0.123 0.033-0.188 0.049c-0.032 0.009-0.065 0.016-0.097 0.027s-0.065 0.021-0.098 0.031-0.134 0.043-0.203 0.065c-0.017 0.006-0.035 0.011-0.052 0.017s-0.034 0.013-0.052 0.019-0.070 0.026-0.105 0.039c-0.070 0.027-0.142 0.053-0.215 0.081-0.071 0.031-0.144 0.062-0.218 0.094-0.037 0.016-0.074 0.032-0.111 0.048s-0.073 0.035-0.111 0.053-0.148 0.073-0.224 0.11c-0.075 0.039-0.149 0.081-0.224 0.123-0.037 0.021-0.075 0.042-0.113 0.063s-0.074 0.045-0.112 0.068-0.149 0.093-0.224 0.14c-0.295 0.198-0.587 0.417-0.864 0.66-0.275 0.245-0.535 0.511-0.775 0.792-0.236 0.284-0.452 0.582-0.642 0.886-0.188 0.306-0.349 0.619-0.487 0.928-0.032 0.078-0.063 0.156-0.095 0.232-0.015 0.038-0.032 0.076-0.046 0.115s-0.027 0.077-0.040 0.115-0.054 0.151-0.078 0.226c-0.022 0.075-0.044 0.15-0.066 0.224-0.011 0.037-0.022 0.073-0.032 0.109s-0.018 0.073-0.027 0.109-0.035 0.143-0.052 0.213c-0.014 0.070-0.027 0.139-0.040 0.207-0.006 0.034-0.013 0.067-0.019 0.101-0.003 0.017-0.006 0.033-0.009 0.049s-0.005 0.033-0.007 0.050c-0.009 0.065-0.018 0.13-0.027 0.192-0.004 0.031-0.009 0.062-0.013 0.093s-0.006 0.061-0.009 0.091-0.010 0.118-0.015 0.174c-0.005 0.056-0.011 0.111-0.012 0.165-0 0.009-0.001 0.017-0.001 0.025-0.537 0.017-0.967 0.458-0.967 0.999 0 0.008 0 0.017 0.001 0.025zM1.149 7.011c0.001-0.003 0.001-0.006 0.002-0.009 0.010-0.051 0.026-0.102 0.040-0.155s0.030-0.107 0.045-0.163c0.008-0.028 0.015-0.056 0.024-0.084s0.019-0.057 0.028-0.086 0.038-0.116 0.058-0.176c0.005-0.015 0.010-0.030 0.015-0.045s0.012-0.030 0.017-0.045 0.023-0.060 0.035-0.091 0.048-0.123 0.073-0.186c0.028-0.062 0.056-0.125 0.084-0.189 0.014-0.032 0.028-0.064 0.043-0.096s0.032-0.064 0.048-0.096 0.065-0.128 0.098-0.194c0.034-0.065 0.073-0.128 0.109-0.194 0.018-0.032 0.037-0.065 0.056-0.098s0.040-0.064 0.061-0.096c0.041-0.064 0.082-0.129 0.124-0.194 0.176-0.255 0.369-0.506 0.583-0.744 0.217-0.236 0.451-0.459 0.697-0.665 0.25-0.202 0.511-0.385 0.776-0.547 0.268-0.159 0.541-0.294 0.808-0.41 0.068-0.027 0.135-0.053 0.202-0.079 0.033-0.013 0.066-0.027 0.099-0.038s0.067-0.022 0.1-0.033 0.131-0.045 0.196-0.065c0.065-0.018 0.13-0.036 0.194-0.054 0.032-0.009 0.063-0.019 0.095-0.026s0.063-0.014 0.094-0.021 0.123-0.028 0.184-0.042c0.061-0.011 0.12-0.021 0.179-0.032 0.029-0.005 0.058-0.010 0.087-0.015 0.014-0.003 0.029-0.005 0.043-0.008s0.029-0.003 0.043-0.005c0.056-0.007 0.112-0.014 0.166-0.020 0.027-0.003 0.053-0.007 0.080-0.010s0.053-0.004 0.078-0.006 0.102-0.007 0.15-0.011c0.049-0.003 0.095-0.008 0.142-0.008 0.091-0.002 0.177-0.004 0.256-0.006 0.073 0.003 0.14 0.005 0.2 0.007 0.030 0.001 0.058 0.002 0.085 0.002 0.033 0.002 0.064 0.004 0.093 0.006 0.033 0.002 0.063 0.004 0.091 0.006 0.051 0.008 0.103 0.012 0.156 0.012 0.007 0 0.015-0 0.022-0.001 0.002 0 0.004 0 0.004 0v-0c0.487-0.012 0.887-0.372 0.962-0.84 0.008 0.002 0.017 0.004 0.025 0.006 0.051 0.010 0.102 0.026 0.155 0.040s0.107 0.030 0.163 0.045c0.028 0.008 0.056 0.015 0.084 0.024s0.057 0.019 0.086 0.028 0.116 0.038 0.176 0.058c0.015 0.005 0.030 0.010 0.045 0.015s0.030 0.012 0.045 0.017 0.060 0.023 0.091 0.035 0.123 0.048 0.186 0.073c0.062 0.028 0.125 0.056 0.189 0.084 0.032 0.014 0.064 0.028 0.096 0.043s0.064 0.032 0.096 0.048 0.128 0.065 0.194 0.098c0.065 0.034 0.129 0.073 0.194 0.109 0.032 0.018 0.065 0.037 0.098 0.056s0.064 0.040 0.096 0.061 0.129 0.082 0.194 0.124c0.255 0.176 0.506 0.369 0.744 0.583 0.236 0.217 0.459 0.451 0.665 0.697 0.202 0.25 0.385 0.511 0.547 0.776 0.159 0.268 0.294 0.541 0.41 0.808 0.027 0.068 0.053 0.135 0.079 0.202 0.013 0.033 0.027 0.066 0.038 0.099s0.022 0.067 0.033 0.1 0.045 0.131 0.065 0.196c0.018 0.065 0.036 0.13 0.054 0.194 0.009 0.032 0.019 0.063 0.026 0.095s0.014 0.063 0.021 0.094 0.028 0.123 0.042 0.184c0.011 0.061 0.021 0.12 0.032 0.179 0.005 0.029 0.010 0.058 0.015 0.087 0.003 0.014 0.005 0.029 0.008 0.043s0.003 0.029 0.005 0.043c0.007 0.056 0.014 0.112 0.020 0.166 0.003 0.027 0.007 0.053 0.010 0.080s0.004 0.053 0.006 0.078 0.007 0.102 0.011 0.15c0.003 0.049 0.008 0.095 0.008 0.142 0.002 0.091 0.004 0.177 0.006 0.256-0.003 0.073-0.005 0.14-0.007 0.2-0.001 0.030-0.002 0.058-0.002 0.085-0.002 0.033-0.004 0.064-0.006 0.093-0.002 0.033-0.004 0.063-0.006 0.091-0.008 0.051-0.012 0.103-0.012 0.156 0 0.007 0 0.015 0.001 0.022-0 0.002-0 0.004-0 0.004h0c0.012 0.481 0.363 0.877 0.823 0.959-0.001 0.005-0.002 0.009-0.003 0.014-0.010 0.051-0.025 0.102-0.040 0.155s-0.030 0.107-0.045 0.163c-0.008 0.028-0.015 0.056-0.024 0.084s-0.019 0.057-0.028 0.086-0.039 0.116-0.058 0.176c-0.005 0.015-0.010 0.030-0.015 0.045s-0.012 0.030-0.017 0.045-0.023 0.060-0.035 0.091-0.048 0.123-0.073 0.186c-0.028 0.062-0.056 0.125-0.084 0.189-0.014 0.032-0.028 0.064-0.043 0.096s-0.032 0.064-0.048 0.096-0.065 0.128-0.098 0.194c-0.034 0.065-0.073 0.129-0.109 0.194-0.018 0.032-0.037 0.065-0.056 0.098s-0.040 0.064-0.061 0.096-0.082 0.129-0.124 0.194c-0.176 0.255-0.369 0.506-0.583 0.744-0.217 0.236-0.451 0.459-0.697 0.665-0.25 0.202-0.511 0.385-0.776 0.547-0.268 0.159-0.541 0.294-0.808 0.41-0.068 0.027-0.135 0.053-0.202 0.079-0.033 0.013-0.066 0.027-0.099 0.038s-0.067 0.022-0.1 0.033-0.131 0.045-0.196 0.065c-0.065 0.018-0.13 0.036-0.194 0.054-0.032 0.009-0.063 0.019-0.095 0.026s-0.063 0.014-0.094 0.021-0.123 0.028-0.184 0.042c-0.061 0.011-0.12 0.021-0.179 0.032-0.029 0.005-0.058 0.010-0.087 0.015-0.014 0.003-0.028 0.005-0.043 0.008s-0.029 0.003-0.043 0.005c-0.056 0.007-0.112 0.014-0.166 0.020-0.027 0.003-0.053 0.007-0.080 0.010s-0.053 0.004-0.078 0.006-0.102 0.007-0.15 0.011c-0.049 0.003-0.095 0.008-0.142 0.008-0.091 0.002-0.177 0.004-0.256 0.006-0.073-0.003-0.14-0.005-0.2-0.007-0.030-0.001-0.058-0.002-0.085-0.002-0.033-0.002-0.064-0.004-0.093-0.006-0.033-0.002-0.063-0.004-0.091-0.006-0.051-0.008-0.103-0.012-0.156-0.012-0.007 0-0.015 0-0.022 0.001-0.002-0-0.003-0-0.003-0v0c-0.484 0.012-0.883 0.369-0.961 0.834-0.050-0.010-0.101-0.025-0.153-0.039s-0.107-0.030-0.163-0.045c-0.028-0.008-0.056-0.015-0.084-0.024s-0.057-0.019-0.086-0.028-0.116-0.039-0.176-0.058c-0.015-0.005-0.030-0.010-0.045-0.015s-0.030-0.012-0.045-0.017-0.060-0.023-0.091-0.035-0.123-0.048-0.186-0.073c-0.062-0.028-0.125-0.056-0.189-0.084-0.032-0.014-0.064-0.028-0.096-0.043s-0.064-0.032-0.096-0.048-0.128-0.065-0.194-0.098c-0.065-0.034-0.129-0.073-0.194-0.109-0.032-0.018-0.065-0.037-0.098-0.056s-0.064-0.040-0.096-0.061c-0.064-0.041-0.129-0.082-0.194-0.124-0.255-0.175-0.506-0.369-0.744-0.583-0.236-0.217-0.459-0.451-0.665-0.697-0.202-0.25-0.385-0.511-0.547-0.776-0.159-0.268-0.294-0.541-0.41-0.808-0.027-0.068-0.053-0.135-0.079-0.202-0.013-0.033-0.027-0.066-0.038-0.099s-0.022-0.067-0.033-0.1-0.045-0.131-0.065-0.196c-0.018-0.065-0.036-0.13-0.054-0.194-0.009-0.032-0.019-0.063-0.026-0.095s-0.014-0.063-0.021-0.094-0.028-0.123-0.042-0.184c-0.011-0.061-0.021-0.12-0.032-0.179-0.005-0.029-0.010-0.058-0.015-0.087-0.003-0.014-0.005-0.028-0.008-0.043s-0.003-0.029-0.005-0.043c-0.007-0.056-0.014-0.112-0.020-0.166-0.003-0.027-0.007-0.053-0.010-0.080s-0.004-0.053-0.006-0.078-0.007-0.101-0.011-0.15c-0.003-0.049-0.008-0.095-0.008-0.142-0.002-0.091-0.004-0.177-0.006-0.256 0.003-0.073 0.005-0.14 0.007-0.2 0.001-0.030 0.002-0.058 0.002-0.085 0.002-0.033 0.004-0.064 0.006-0.093 0.002-0.033 0.004-0.063 0.006-0.091 0.008-0.051 0.012-0.103 0.012-0.156 0-0.007-0-0.015-0.001-0.022 0-0.002 0-0.003 0-0.003h-0c-0.012-0.49-0.377-0.893-0.851-0.964z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.355 0-7.898 3.481-7.998 7.812 0.092-3.779 2.966-6.812 6.498-6.812 3.59 0 6.5 3.134 6.5 7 0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-4.418-3.582-8-8-8zM8 16c4.355 0 7.898-3.481 7.998-7.812-0.092 3.779-2.966 6.812-6.498 6.812-3.59 0-6.5-3.134-6.5-7 0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5c0 4.418 3.582 8 8 8z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zM12.773 12.773c-1.275 1.275-2.97 1.977-4.773 1.977s-3.498-0.702-4.773-1.977-1.977-2.97-1.977-4.773c0-1.803 0.702-3.498 1.977-4.773l1.061 1.061c0 0 0 0 0 0-2.047 2.047-2.047 5.378 0 7.425 0.992 0.992 2.31 1.538 3.712 1.538s2.721-0.546 3.712-1.538c2.047-2.047 2.047-5.378 0-7.425l1.061-1.061c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 8c0-0.19 0.011-0.378 0.032-0.563l-2.89-0.939c-0.092 0.487-0.141 0.989-0.141 1.502 0 2.3 0.971 4.374 2.526 5.833l1.786-2.458c-0.814-0.889-1.312-2.074-1.312-3.375zM13 8c0 1.301-0.497 2.486-1.312 3.375l1.786 2.458c1.555-1.459 2.526-3.533 2.526-5.833 0-0.513-0.049-1.015-0.141-1.502l-2.89 0.939c0.021 0.185 0.032 0.373 0.032 0.563zM9 3.1c1.436 0.292 2.649 1.199 3.351 2.435l2.89-0.939c-1.144-2.428-3.473-4.188-6.241-4.534v3.038zM3.649 5.535c0.702-1.236 1.914-2.143 3.351-2.435v-3.038c-2.769 0.345-5.097 2.105-6.241 4.534l2.89 0.939zM10.071 12.552c-0.631 0.288-1.332 0.448-2.071 0.448s-1.44-0.16-2.071-0.448l-1.786 2.458c1.144 0.631 2.458 0.99 3.857 0.99s2.713-0.359 3.857-0.99l-1.786-2.458z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c-2.137 0-4.146-0.832-5.657-2.343s-2.343-3.52-2.343-5.657c0-1.513 0.425-2.986 1.228-4.261 0.781-1.239 1.885-2.24 3.193-2.895l0.672 1.341c-1.063 0.533-1.961 1.347-2.596 2.354-0.652 1.034-0.997 2.231-0.997 3.461 0 3.584 2.916 6.5 6.5 6.5s6.5-2.916 6.5-6.5c0-1.23-0.345-2.426-0.997-3.461-0.635-1.008-1.533-1.822-2.596-2.354l0.672-1.341c1.308 0.655 2.412 1.656 3.193 2.895 0.803 1.274 1.228 2.748 1.228 4.261 0 2.137-0.832 4.146-2.343 5.657s-3.52 2.343-5.657 2.343z"/></svg>']});var Ac=Oe(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.Spinner=eo.spinnerSizeMap=void 0;var VS=at(),kk=(0,VS.__importDefault)(Pt()),cp=(0,VS.__importDefault)(Ce()),Nk=zS();eo.spinnerSizeMap={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"};var Tk=function(t){var e=t.type,r=e===void 0?1:e,n=t.size,i=n===void 0?"auto":n,o=t.className;return cp.default.createElement("div",{className:(0,kk.default)("overflow-hidden",o,eo.spinnerSizeMap[i])},r==="pulse"?cp.default.createElement("div",{className:"bg-secondary-300 h-full w-full animate-pulse"}):cp.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(Nk.spinnersSvg[r-1]),className:"animate-spin h-full w-full"}))};eo.Spinner=Tk});var Ic=Oe(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.AvatarInner=to.Avatar=void 0;var fp=at(),WS=Wt(),pr=(0,fp.__importStar)(Ce()),Ak=Nc(),Ik=(0,fp.__importDefault)(Pt()),Rk={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},Fk=Ac(),Dk=function(t){var e=t.dataState,r=t.imgSrc,n=t.backgroundColor,i=t.status,o=t.badge,s=t.size,a=t.onClick,c=t.className,d=function(){if(e==="loading"||e==="error")return e==="error"?"Couldn't Load User":e==="loading"?"Loading...":"";if((0,WS.isType)(t.name,"string")||!t.name)return t.name||"";var g=t.name,v=g.first,p=g.last;return"".concat(v," ").concat(p)}();return pr.default.createElement("div",{onClick:a,className:(0,Ik.default)(`
            flex relative justify-center items-center
            m-1 mr-2 rounded-full text-white`,Rk[s],!(n||e==="loading")&&"bg-secondary-500",e==="loading"&&" overflow-hidden",a&&"cursor-pointer",c),title:e==="error"?"Couldn't Load User":e==="loading"?"Loading...":d,style:{backgroundColor:n}},pr.default.createElement(to.AvatarInner,(0,fp.__assign)({},{dataState:e,imgSrc:r,badge:o,size:s,status:i,name:d})))};to.Avatar=Dk;var Ck={xs:"text-sm",sm:"text-xl",md:"text-4xl",lg:"text-7xl",xl:"text-9xl"},Lk=function(t){if(t.dataState==="loading")return pr.default.createElement(Fk.Spinner,{size:"auto",type:"pulse"});if(t.dataState==="error")return pr.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(Bk),className:"rounded-full h-full w-full"});var e=t.imgSrc,r=t.status,n=t.badge,i=t.size,o=t.name,s=o===void 0?"":o,a=(0,pr.useState)(e?"loading":"error"),c=a[0],d=a[1],g=(0,WS.isType)(s,"string")?s.substring(0,2):"".concat(s.first[0].toUpperCase()).concat(s.last[0].toUpperCase());return pr.default.createElement(pr.default.Fragment,null,pr.default.createElement(Ak.Badge,{size:i,badge:n}),c==="error"?pr.default.createElement("span",{className:Ck[i]},g):pr.default.createElement("img",{className:"rounded-full h-full w-full",src:e,onLoad:function(){return d("success")},onError:function(){return d("error")}}),r&&pr.default.createElement(jk,{size:i,status:r}))};to.AvatarInner=Lk;var Pk={xs:"h-2 w-2",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-12 w-12"},Mk={online:"bg-success-500",offline:"bg-danger-500",busy:"bg-warning-500",away:"bg-secondary-500"},jk=function(t){return pr.default.createElement("span",{className:"flex absolute bottom-0 right-0"},t.status==="online"&&pr.default.createElement("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success-400 opacity-75"}),pr.default.createElement("span",{className:"relative inline-flex rounded-full ".concat(Mk[t.status]," ").concat(Pk[t.size])}))},Bk='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"/><path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/></svg>'});var HS=Oe(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.AvatarGroup=void 0;var dp=at(),hp=(0,dp.__importDefault)(Pt()),Za=(0,dp.__importDefault)(Ce()),qS=Ic(),$S={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},Uk=function(t){var e=t.maxShow,r=e===void 0?5:e,n=t.avatars,i=t.size,o=t.onClick;if(r<1)return console.error(`Property "maxShow" can't be less than 1`),null;var s=n.slice(0,r),a=n.length-s.length;return Za.default.createElement("div",{className:(0,hp.default)("flex flex-row-reverse justify-center mt-10",o&&"cursor-pointer",t.className),onClick:o},a>0&&Za.default.createElement("div",{className:(0,hp.default)(`
                flex flex-shrink-0 relative
                bg-secondary-500
                justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 text-xl text-white`,$S[i])},Za.default.createElement(qS.AvatarInner,{size:i,dataState:"done",name:"+".concat(a)})),s.map(function(c,d){var g=c.dataState,v=c.backgroundColor,p=c.imgSrc,w=c.name,b=c.status,I={dataState:g,name:w,imgSrc:p,status:b,size:i};return Za.default.createElement("div",{className:(0,hp.default)("flex flex-shrink-0 relative justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 border-white",!(c.backgroundColor||c.dataState==="loading")&&"bg-secondary-500",$S[i]),style:{backgroundColor:v},key:d},Za.default.createElement(qS.AvatarInner,(0,dp.__assign)({},I)))}))};Rc.AvatarGroup=Uk});var Dc=Oe(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.Backdrop=void 0;var yp=at(),zk=(0,yp.__importDefault)(Pt()),pp=(0,yp.__importStar)(Ce()),Vk=function(t){var e=t.zIndex,r=t.onBackdropClick,n=t.maxOpacity,i=n===void 0?40:n,o=t.transition,s=o===void 0?!0:o,a=t.style,c=t.className,d=(0,pp.useState)(!s),g=d[0],v=d[1];return(0,pp.useEffect)(function(){return!g&&setTimeout(function(){return v(!0)},0)},[g]),pp.default.createElement("div",{className:(0,zk.default)("fixed top-0 left-0 right-0 w-screen h-screen bg-black",s&&"transition-opacity duration-200",c),style:(0,yp.__assign)({zIndex:e,opacity:g?Number((i/100).toFixed(2)):0},a),onClick:r})};Fc.Backdrop=Vk});var Xa=Oe(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.Button=void 0;var Cc=at(),Wk=(0,Cc.__importDefault)(Pt()),gp=(0,Cc.__importStar)(Ce()),qk=Nc(),$k={xs:"text-xs p-0.5 px-1",sm:"text-sm p-1 px-2",md:"text-base p-1.5 px-3",lg:"text-lg p-2 px-4",xl:"text-xl p-2.5 px-5",auto:"p-1.5 text-base h-full w-full"},Hk={primary:"bg-primary-500",secondary:"bg-secondary-500",success:"bg-success-500",info:"bg-info-500",danger:"bg-danger-500",warning:"bg-warning-500"},Jk={primary:"hover:bg-primary-600",secondary:"hover:bg-secondary-600",success:"hover:bg-success-600",info:"hover:bg-info-600",danger:"hover:bg-danger-700",warning:"hover:bg-warning-600"},Gk={primary:"border-primary-500 text-primary-500",secondary:"border-secondary-500 text-secondary-500",success:"border-success-500 text-success-500",info:"border-info-500 text-info-500",danger:"border-danger-500 text-danger-500",warning:"border-warning-500 text-warning-500"},Yk={xs:"xs",sm:"sm",md:"md",lg:"md",xl:"lg",auto:"md"},Kk=function(t){var e=t.size,r=e===void 0?"md":e,n=t.type,i=n===void 0?"secondary":n,o=t.shape,s=o===void 0?"round":o,a=t.outline,c=a===void 0?!1:a,d=t.badge,g=t.className,v=t.disabled,p=t.children,w=t.htmlType,b=w===void 0?"button":w,I=(0,Cc.__rest)(t,["size","type","shape","outline","badge","className","disabled","children","htmlType"]),k=(0,gp.useState)(!1),A=k[0],D=k[1];return gp.default.createElement("button",(0,Cc.__assign)({type:b,className:(0,Wk.default)("relative text-gray-100 font-normal border-2 transition-all",$k[r],c&&!A?Gk[i]:Hk[i]+" border-transparent",s==="flat"?"rounded-none":"rounded-lg",v&&"opacity-60",!v&&Jk[i],g),onMouseEnter:function(){return D(!v)},onMouseLeave:function(){return D(!1)},disabled:v},I),d&&gp.default.createElement(qk.Badge,{size:Yk[r],badge:d,className:r==="xs"||r==="sm"?"-top-1.5 -right-1.5":"-top-2 -right-3"}),p)};Lc.Button=Kk});var JS=Oe(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.Dropdown=void 0;var Pc=at(),Zk=Wt(),Qa=(0,Pc.__importDefault)(Pt()),yr=(0,Pc.__importStar)(Ce()),Xk=fi(),Qk={xs:"w-30",sm:"w-44",md:"w-60",lg:"w-80",xl:"w-96",auto:"w-full"};function eN(t){var e=t.header,r=t.items,n=t.show,i=t.children,o=t.itemBorders,s=t.size,a=s===void 0?"md":s,c=t.className,d=t.align,g=d===void 0?"left":d,v=t.containerClassName,p=(0,yr.useState)(n||!1),w=p[0],b=p[1],I=function(){return setTimeout(function(){return b(!1)},0)},k=(0,yr.useRef)(null);(0,Xk.clickOutListener)(k,I);var A=o?r.filter(function(Y){return Y.type!=="break"}):r,D={onClick:function(){return b(!w)},onBlur:I};return yr.default.createElement("div",(0,Pc.__assign)({className:(0,Qa.default)("relative",v)},n??D,{ref:k}),i,yr.default.createElement("div",{className:(0,Qa.default)("animate-slide-down absolute bg-white text-sm list-none divide-gray-100 rounded-sm shadow-md border",!(n??w)&&"hidden",g==="right"&&"right-0 left-auto",Qk[a],c)},e&&yr.default.createElement("div",{className:(0,Qa.default)("cursor-default",o&&"border-b border-secondary-200")},(0,Zk.isType)(e,"string")?yr.default.createElement("span",{className:"py-1.5 block text-center text-gray-500 text-base"},e):e),yr.default.createElement("ul",null,A.map(function(Y,H,Z){var j=Z.length;return yr.default.createElement(tN,(0,Pc.__assign)({},Y,{border:o,isLast:H===j-1,key:H}))}))))}Mc.Dropdown=eN;var tN=function(t){var e=(0,Qa.default)(!t.isLast&&t.border&&"border-b border-secondary-200");switch(t.type){case"action":return yr.default.createElement("li",{className:e},yr.default.createElement("a",{className:"hover:bg-gray-100 text-gray-700 cursor-pointer block px-4 py-1.5",onClick:t.onClick},t.title));case"break":return yr.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return yr.default.createElement("li",{className:(0,Qa.default)("text-gray-600 text-center block py-1 cursor-default",e)},yr.default.createElement("span",{className:"text-xs"},t.title));case"jsx":return yr.default.createElement("li",{className:e},t.element);default:throw console.error(t),new Error("This type of MenuItem is not implemented.")}}});var Cp=Oe(kr=>{"use strict";function rN(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}Object.defineProperty(kr,"__esModule",{value:!0});var Re=rN(Ce()),tl=t=>t.type==="checkbox",us=t=>t instanceof Date,gr=t=>t==null,ab=t=>typeof t=="object",Mt=t=>!gr(t)&&!Array.isArray(t)&&ab(t)&&!us(t),lb=t=>Mt(t)&&t.target?tl(t.target)?t.target.checked:t.target.value:t,ub=(t,e)=>[...t].some(r=>(n=>n.substring(0,n.search(/.\d/))||n)(e)===r),rl=t=>t.filter(Boolean),it=t=>t===void 0,be=(t,e,r)=>{if(!e||!Mt(t))return r;let n=rl(e.split(/[,[\].]+?/)).reduce((i,o)=>gr(i)?i:i[o],t);return it(n)||n===t?it(t[e])?r:t[e]:n},cb="blur",nN="focusout",iN="change",oN="onBlur",fb="onChange",hb="onSubmit",sN="onTouched",nl="all",aN="max",lN="min",uN="maxLength",cN="minLength",GS="pattern",YS="required",fN="validate",qc=(t,e)=>{let r=Object.assign({},t);return delete r[e],r},db=Re.default.createContext(null),il=()=>Re.default.useContext(db),pb=(t,e,r,n=!0)=>{let i={};for(let o in t)Object.defineProperty(i,o,{get:()=>{let s=o;return e[s]!==nl&&(e[s]=!n||nl),r&&(r[s]=!0),t[s]}});return i},Nr=t=>Mt(t)&&!Object.keys(t).length,yb=(t,e,r)=>{let n=qc(t,"name");return Nr(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(i=>e[i]===(!r||nl))},Tr=t=>Array.isArray(t)?t:[t],gb=(t,e,r)=>r&&e?t===e:!t||!e||t===e||Tr(t).some(n=>n&&(n.startsWith(e)||e.startsWith(n)));function Uc(t){let e=Re.default.useRef(t);e.current=t,Re.default.useEffect(()=>{let r=!t.disabled&&e.current.subject.subscribe({next:e.current.callback});return()=>(n=>{n&&n.unsubscribe()})(r)},[t.disabled])}function mb(t){let e=il(),{control:r=e.control,disabled:n,name:i,exact:o}=t||{},[s,a]=Re.default.useState(r._formState),c=Re.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Re.default.useRef(i),g=Re.default.useRef(!0);return d.current=i,Uc({disabled:n,callback:Re.default.useCallback(v=>g.current&&gb(d.current,v.name,o)&&yb(v,c.current)&&a(Object.assign(Object.assign({},r._formState),v)),[r,o]),subject:r._subjects.state}),Re.default.useEffect(()=>()=>{g.current=!1},[]),pb(s,r._proxyFormState,c.current,!1)}var vn=t=>typeof t=="string",vb=(t,e,r,n)=>{let i=Array.isArray(t);return vn(t)?(n&&e.watch.add(t),be(r,t)):i?t.map(o=>(n&&e.watch.add(o),be(r,o))):(n&&(e.watchAll=!0),r)},$c=t=>typeof t=="function",Ip=t=>{for(let e in t)if($c(t[e]))return!0;return!1};function wb(t){let e=il(),{control:r=e.control,name:n,defaultValue:i,disabled:o,exact:s}=t||{},a=Re.default.useRef(n);a.current=n;let c=Re.default.useCallback(v=>{if(gb(a.current,v.name,s)){let p=vb(a.current,r._names,v.values||r._formValues);g(it(a.current)||Mt(p)&&!Ip(p)?Object.assign({},p):Array.isArray(p)?[...p]:it(p)?i:p)}},[r,s,i]);Uc({disabled:o,subject:r._subjects.watch,callback:c});let[d,g]=Re.default.useState(it(i)?r._getWatch(n):i);return Re.default.useEffect(()=>{r._removeUnmounted()}),d}function KS(t){let e=il(),{name:r,control:n=e.control,shouldUnregister:i}=t,o=ub(n._names.array,r),s=wb({control:n,name:r,defaultValue:be(n._formValues,r,be(n._defaultValues,r,t.defaultValue)),exact:!0}),a=mb({control:n,name:r}),c=Re.default.useRef(n.register(r,Object.assign(Object.assign({},t.rules),{value:s})));return Re.default.useEffect(()=>{let d=(g,v)=>{let p=be(n._fields,g);p&&(p._f.mount=v)};return d(r,!0),()=>{let g=n._options.shouldUnregister||i;(o?g&&!n._stateFlags.action:g)?n.unregister(r):d(r,!1)}},[r,n,o,i]),{field:{name:r,value:s,onChange:Re.default.useCallback(d=>{c.current.onChange({target:{value:lb(d),name:r},type:iN})},[r]),onBlur:Re.default.useCallback(()=>{c.current.onBlur({target:{value:be(n._formValues,r),name:r},type:cb})},[r,n]),ref:Re.default.useCallback(d=>{let g=be(n._fields,r);d&&g&&d.focus&&(g._f.ref={focus:()=>d.focus(),setCustomValidity:v=>d.setCustomValidity(v),reportValidity:()=>d.reportValidity()})},[r,n._fields])},formState:a,fieldState:n.getFieldState(r,a)}}var _b=(t,e,r,n,i)=>e?Object.assign(Object.assign({},r[t]),{types:Object.assign(Object.assign({},r[t]&&r[t].types?r[t].types:{}),{[n]:i||!0})}):{},Rp=t=>/^\w*$/.test(t),Sb=t=>rl(t.replace(/["|']|\]/g,"").split(/\.|\[/));function ct(t,e,r){let n=-1,i=Rp(e)?[e]:Sb(e),o=i.length,s=o-1;for(;++n<o;){let a=i[n],c=r;if(n!==s){let d=t[a];c=Mt(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}t[a]=c,t=t[a]}return t}var zc=(t,e,r)=>{for(let n of r||Object.keys(t)){let i=be(t,n);if(i){let o=i._f,s=qc(i,"_f");if(o&&e(o.name)){if(o.ref.focus&&it(o.ref.focus()))break;if(o.refs){o.refs[0].focus();break}}else Mt(s)&&zc(s,e)}}},hi=()=>{let t=typeof performance>"u"?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let r=(16*Math.random()+t)%16|0;return(e=="x"?r:3&r|8).toString(16)})},mp=(t,e,r={})=>r.shouldFocus||it(r.shouldFocus)?r.focusName||`${t}.${it(r.focusIndex)?e:r.focusIndex}.`:"",Tp=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));function vp(t,e){return[...t,...Tr(e)]}function mn(t){let e,r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else{if(!r&&!Mt(t))return t;e=r?[]:{};for(let n in t){if($c(t[n])){e=t;break}e[n]=mn(t[n])}}return e}var wp=t=>Array.isArray(t)?t.map(()=>{}):void 0;function _p(t,e,r){return[...t.slice(0,e),...Tr(r),...t.slice(e)]}var Sp=(t,e,r)=>Array.isArray(t)?(it(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[];function bp(t,e){return[...Tr(e),...Tr(t)]}var Ep=(t,e)=>it(e)?[]:function(r,n){let i=0,o=[...r];for(let s of n)o.splice(s-i,1),i++;return rl(o).length?o:[]}(t,Tr(e).sort((r,n)=>r-n)),xp=(t,e,r)=>{t[e]=[t[r],t[r]=t[e]][0]},ZS=(t,e,r)=>(t[e]=r,t);function Op(){let t=[];return{get observers(){return t},next:e=>{for(let r of t)r.next(e)},subscribe:e=>(t.push(e),{unsubscribe:()=>{t=t.filter(r=>r!==e)}}),unsubscribe:()=>{t=[]}}}var Vc=t=>gr(t)||!ab(t);function cs(t,e){if(Vc(t)||Vc(e))return t===e;if(us(t)&&us(e))return t.getTime()===e.getTime();let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i of r){let o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){let s=e[i];if(us(o)&&us(s)||Mt(o)&&Mt(s)||Array.isArray(o)&&Array.isArray(s)?!cs(o,s):o!==s)return!1}}return!0}var XS=t=>({isOnSubmit:!t||t===hb,isOnBlur:t===oN,isOnChange:t===fb,isOnAll:t===nl,isOnTouch:t===sN}),ol=t=>typeof t=="boolean",Fp=t=>t.type==="file",Ap=t=>t instanceof HTMLElement,bb=t=>t.type==="select-multiple",Dp=t=>t.type==="radio",QS=typeof window<"u"&&window.HTMLElement!==void 0&&typeof document<"u",kp=t=>Ap(t)&&t.isConnected;function rr(t,e){let r=Rp(e)?[e]:Sb(e),n=r.length==1?t:function(s,a){let c=a.slice(0,-1).length,d=0;for(;d<c;)s=it(s)?d++:s[a[d++]];return s}(t,r),i=r[r.length-1],o;n&&delete n[i];for(let s=0;s<r.slice(0,-1).length;s++){let a,c=-1,d=r.slice(0,-(s+1)),g=d.length-1;for(s>0&&(o=t);++c<d.length;){let v=d[c];a=a?a[v]:t[v],g===c&&(Mt(a)&&Nr(a)||Array.isArray(a)&&!a.filter(p=>Mt(p)&&!Nr(p)||ol(p)||Array.isArray(p)&&p.length).length)&&(o?delete o[v]:delete t[v]),o=a}}return t}function jc(t,e={}){let r=Array.isArray(t);if(Mt(t)||r)for(let n in t)Array.isArray(t[n])||Mt(t[n])&&!Ip(t[n])?(e[n]=Array.isArray(t[n])?[]:{},jc(t[n],e[n])):gr(t[n])||(e[n]=!0);return e}var eb=(t,e)=>function r(n,i,o){let s=Array.isArray(n);if(Mt(n)||s)for(let a in n)Array.isArray(n[a])||Mt(n[a])&&!Ip(n[a])?it(i)||Vc(o[a])?o[a]=Array.isArray(n[a])?jc(n[a],[]):Object.assign({},jc(n[a])):r(n[a],gr(i)?{}:i[a],o[a]):o[a]=!cs(n[a],i[a]);return o}(t,e,jc(e)),tb={value:!1,isValid:!1},rb={value:!0,isValid:!0},Eb=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!it(t[0].attributes.value)?it(t[0].value)||t[0].value===""?rb:{value:t[0].value,isValid:!0}:rb:tb}return tb},xb=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>it(t)?t:e?t===""?NaN:+t:r&&vn(t)?new Date(t):n?n(t):t,nb={isValid:!1,value:null},Ob=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,nb):nb;function Np(t){let e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Fp(e)?e.files:Dp(e)?Ob(t.refs).value:bb(e)?[...e.selectedOptions].map(({value:r})=>r):tl(e)?Eb(t.refs).value:xb(it(e.value)?t.ref.value:e.value,t)}var Wc=t=>t instanceof RegExp,el=t=>it(t)?void 0:Wc(t)?t.source:Mt(t)?Wc(t.value)?t.value.source:t.value:t;function ib(t,e,r){let n=be(t,r);if(n||Rp(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),s=be(e,o),a=be(t,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:r}}var Bc=t=>vn(t)||Re.default.isValidElement(t);function ob(t,e,r="validate"){if(Bc(t)||Array.isArray(t)&&t.every(Bc)||ol(t)&&!t)return{type:r,message:Bc(t)?t:"",ref:e}}var ls=t=>Mt(t)&&!Wc(t)?t:{value:t,message:""},sb=async(t,e,r,n)=>{let{ref:i,refs:o,required:s,maxLength:a,minLength:c,min:d,max:g,pattern:v,validate:p,name:w,valueAsNumber:b,mount:I,disabled:k}=t._f;if(!I||k)return{};let A=o?o[0]:i,D=re=>{n&&A.reportValidity&&(A.setCustomValidity(ol(re)?"":re||" "),A.reportValidity())},Y={},H=Dp(i),Z=tl(i),j=H||Z,V=(b||Fp(i))&&!i.value||e===""||Array.isArray(e)&&!e.length,S=_b.bind(null,w,r,Y),W=(re,X,le,ae=uN,ye=cN)=>{let P=re?X:le;Y[w]=Object.assign({type:re?ae:ye,message:P,ref:i},S(re?ae:ye,P))};if(s&&(!j&&(V||gr(e))||ol(e)&&!e||Z&&!Eb(o).isValid||H&&!Ob(o).isValid)){let{value:re,message:X}=Bc(s)?{value:!!s,message:s}:ls(s);if(re&&(Y[w]=Object.assign({type:YS,message:X,ref:A},S(YS,X)),!r))return D(X),Y}if(!(V||gr(d)&&gr(g))){let re,X,le=ls(g),ae=ls(d);if(isNaN(e)){let ye=i.valueAsDate||new Date(e);vn(le.value)&&(re=ye>new Date(le.value)),vn(ae.value)&&(X=ye<new Date(ae.value))}else{let ye=i.valueAsNumber||+e;gr(le.value)||(re=ye>le.value),gr(ae.value)||(X=ye<ae.value)}if((re||X)&&(W(!!re,le.message,ae.message,aN,lN),!r))return D(Y[w].message),Y}if((a||c)&&!V&&vn(e)){let re=ls(a),X=ls(c),le=!gr(re.value)&&e.length>re.value,ae=!gr(X.value)&&e.length<X.value;if((le||ae)&&(W(le,re.message,X.message),!r))return D(Y[w].message),Y}if(v&&!V&&vn(e)){let{value:re,message:X}=ls(v);if(Wc(re)&&!e.match(re)&&(Y[w]=Object.assign({type:GS,message:X,ref:i},S(GS,X)),!r))return D(X),Y}if(p){if($c(p)){let re=ob(await p(e),A);if(re&&(Y[w]=Object.assign(Object.assign({},re),S(fN,re.message)),!r))return D(re.message),Y}else if(Mt(p)){let re={};for(let X in p){if(!Nr(re)&&!r)break;let le=ob(await p[X](e),A,X);le&&(re=Object.assign(Object.assign({},le),S(X,le.message)),D(le.message),r&&(Y[w]=re))}if(!Nr(re)&&(Y[w]=Object.assign({ref:A},re),!r))return Y}}return D(!0),Y},hN={mode:hb,reValidateMode:fb,shouldFocusError:!0};function dN(t={}){let e,r=Object.assign(Object.assign({},hN),t),n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},o=r.defaultValues||{},s=r.shouldUnregister?{}:mn(o),a={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d=0,g={},v={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={watch:Op(),array:Op(),state:Op()},w=XS(r.mode),b=XS(r.reValidateMode),I=r.criteriaMode===nl,k=async U=>{let z=!1;return v.isValid&&(z=r.resolver?Nr((await Z()).errors):await j(i,!0),U||z===n.isValid||(n.isValid=z,p.state.next({isValid:z}))),z},A=(U,z)=>(ct(n.errors,U,z),p.state.next({errors:n.errors})),D=(U,z,J,ue)=>{let oe=be(i,U);if(oe){let ne=be(s,U,it(J)?be(o,U):J);it(ne)||ue&&ue.defaultChecked||z?ct(s,U,z?ne:Np(oe._f)):W(U,ne),a.mount&&k()}},Y=(U,z,J,ue,oe)=>{let ne=!1,se={name:U},pe=be(n.touchedFields,U);if(v.isDirty){let Se=n.isDirty;n.isDirty=se.isDirty=V(),ne=Se!==se.isDirty}if(v.dirtyFields&&(!J||ue)){let Se=be(n.dirtyFields,U);cs(be(o,U),z)?rr(n.dirtyFields,U):ct(n.dirtyFields,U,!0),se.dirtyFields=n.dirtyFields,ne=ne||Se!==be(n.dirtyFields,U)}return J&&!pe&&(ct(n.touchedFields,U,J),se.touchedFields=n.touchedFields,ne=ne||v.touchedFields&&pe!==J),ne&&oe&&p.state.next(se),ne?se:{}},H=async(U,z,J,ue,oe)=>{let ne=be(n.errors,z),se=v.isValid&&n.isValid!==J;var pe,Se;if(t.delayError&&ue?(e=e||(pe=A,Se=t.delayError,(...Te)=>{clearTimeout(d),d=window.setTimeout(()=>pe(...Te),Se)}),e(z,ue)):(clearTimeout(d),ue?ct(n.errors,z,ue):rr(n.errors,z)),((ue?!cs(ne,ue):ne)||!Nr(oe)||se)&&!U){let Te=Object.assign(Object.assign(Object.assign({},oe),se?{isValid:J}:{}),{errors:n.errors,name:z});n=Object.assign(Object.assign({},n),Te),p.state.next(Te)}g[z]--,v.isValidating&&!Object.values(g).some(Te=>Te)&&(p.state.next({isValidating:!1}),g={})},Z=async U=>r.resolver?await r.resolver(Object.assign({},s),r.context,((z,J,ue,oe)=>{let ne={};for(let se of z){let pe=be(J,se);pe&&ct(ne,se,pe._f)}return{criteriaMode:ue,names:[...z],fields:ne,shouldUseNativeValidation:oe}})(U||c.mount,i,r.criteriaMode,r.shouldUseNativeValidation)):{},j=async(U,z,J={valid:!0})=>{for(let ue in U){let oe=U[ue];if(oe){let ne=oe._f,se=qc(oe,"_f");if(ne){let pe=await sb(oe,be(s,ne.name),I,r.shouldUseNativeValidation);if(pe[ne.name]&&(J.valid=!1,z))break;z||(pe[ne.name]?ct(n.errors,ne.name,pe[ne.name]):rr(n.errors,ne.name))}se&&await j(se,z,J)}}return J.valid},V=(U,z)=>(U&&z&&ct(s,U,z),!cs(ye(),o)),S=(U,z,J)=>{let ue=Object.assign({},a.mount?s:it(z)?o:vn(U)?{[U]:z}:z);return vb(U,c,ue,J)},W=(U,z,J={})=>{let ue=be(i,U),oe=z;if(ue){let ne=ue._f;ne&&(!ne.disabled&&ct(s,U,xb(z,ne)),oe=QS&&Ap(ne.ref)&&gr(z)?"":z,bb(ne.ref)?[...ne.ref.options].forEach(se=>se.selected=oe.includes(se.value)):ne.refs?tl(ne.ref)?ne.refs.length>1?ne.refs.forEach(se=>se.checked=Array.isArray(oe)?!!oe.find(pe=>pe===se.value):oe===se.value):ne.refs[0]&&(ne.refs[0].checked=!!oe):ne.refs.forEach(se=>se.checked=se.value===oe):Fp(ne.ref)?ne.ref.value="":(ne.ref.value=oe,ne.ref.type||p.watch.next({name:U})))}(J.shouldDirty||J.shouldTouch)&&Y(U,oe,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&ae(U)},re=(U,z,J)=>{for(let ue in z){let oe=z[ue],ne=`${U}.${ue}`,se=be(i,ne);!c.array.has(U)&&Vc(oe)&&(!se||se._f)||us(oe)?W(ne,oe,J):re(ne,oe,J)}},X=(U,z,J={})=>{let ue=be(i,U),oe=c.array.has(U),ne=mn(z);ct(s,U,ne),oe?(p.array.next({name:U,values:s}),(v.isDirty||v.dirtyFields)&&J.shouldDirty&&(n.dirtyFields=eb(o,s),p.state.next({name:U,dirtyFields:n.dirtyFields,isDirty:V(U,ne)}))):!ue||ue._f||gr(ne)?W(U,ne,J):re(U,ne,J),Tp(U,c)&&p.state.next({}),p.watch.next({name:U})},le=async U=>{let z=U.target,J=z.name,ue=be(i,J);if(ue){let ne,se,pe=z.type?Np(ue._f):lb(U),Se=U.type===cb||U.type===nN,Te=!((oe=ue._f).mount&&(oe.required||oe.min||oe.max||oe.maxLength||oe.minLength||oe.pattern||oe.validate)||r.resolver||be(n.errors,J)||ue._f.deps)||(($,K,G,_e,C)=>!C.isOnAll&&(!G&&C.isOnTouch?!(K||$):(G?_e.isOnBlur:C.isOnBlur)?!$:!(G?_e.isOnChange:C.isOnChange)||$))(Se,be(n.touchedFields,J),n.isSubmitted,b,w),O=Tp(J,c,Se);ct(s,J,pe),Se?ue._f.onBlur&&ue._f.onBlur(U):ue._f.onChange&&ue._f.onChange(U);let R=Y(J,pe,Se,!1),M=!Nr(R)||O;if(!Se&&p.watch.next({name:J,type:U.type}),Te)return M&&p.state.next(Object.assign({name:J},O?{}:R));if(!Se&&O&&p.state.next({}),g[J]=(g[J],1),p.state.next({isValidating:!0}),r.resolver){let{errors:$}=await Z([J]),K=ib(n.errors,i,J),G=ib($,i,K.name||J);ne=G.error,J=G.name,se=Nr($)}else ne=(await sb(ue,be(s,J),I,r.shouldUseNativeValidation))[J],se=await k(!0);ue._f.deps&&ae(ue._f.deps),H(!1,J,se,ne,R)}var oe},ae=async(U,z={})=>{let J,ue,oe=Tr(U);if(p.state.next({isValidating:!0}),r.resolver){let ne=await(async se=>{let{errors:pe}=await Z();if(se)for(let Se of se){let Te=be(pe,Se);Te?ct(n.errors,Se,Te):rr(n.errors,Se)}else n.errors=pe;return pe})(it(U)?U:oe);J=Nr(ne),ue=U?!oe.some(se=>be(ne,se)):J}else U?(ue=(await Promise.all(oe.map(async ne=>{let se=be(i,ne);return await j(se&&se._f?{[ne]:se}:se)}))).every(Boolean),(ue||n.isValid)&&k()):ue=J=await j(i);return p.state.next(Object.assign(Object.assign(Object.assign({},!vn(U)||v.isValid&&J!==n.isValid?{}:{name:U}),r.resolver?{isValid:J}:{}),{errors:n.errors,isValidating:!1})),z.shouldFocus&&!ue&&zc(i,ne=>be(n.errors,ne),U?oe:c.mount),ue},ye=U=>{let z=Object.assign(Object.assign({},o),a.mount?s:{});return it(U)?z:vn(U)?be(z,U):U.map(J=>be(z,J))},P=(U,z)=>({invalid:!!be((z||n).errors,U),isDirty:!!be((z||n).dirtyFields,U),isTouched:!!be((z||n).touchedFields,U),error:be((z||n).errors,U)}),F=(U,z={})=>{for(let J of U?Tr(U):c.mount)c.mount.delete(J),c.array.delete(J),be(i,J)&&(z.keepValue||(rr(i,J),rr(s,J)),!z.keepError&&rr(n.errors,J),!z.keepDirty&&rr(n.dirtyFields,J),!z.keepTouched&&rr(n.touchedFields,J),!r.shouldUnregister&&!z.keepDefaultValue&&rr(o,J));p.watch.next({}),p.state.next(Object.assign(Object.assign({},n),z.keepDirty?{isDirty:V()}:{})),!z.keepIsValid&&k()},ie=(U,z={})=>{let J=be(i,U),ue=ol(z.disabled);return ct(i,U,{_f:Object.assign(Object.assign(Object.assign({},J&&J._f?J._f:{ref:{name:U}}),{name:U,mount:!0}),z)}),c.mount.add(U),J?ue&&ct(s,U,z.disabled?void 0:be(s,U,Np(J._f))):D(U,!0,z.value),Object.assign(Object.assign(Object.assign({},ue?{disabled:z.disabled}:{}),r.shouldUseNativeValidation?{required:!!z.required,min:el(z.min),max:el(z.max),minLength:el(z.minLength),maxLength:el(z.maxLength),pattern:el(z.pattern)}:{}),{name:U,onChange:le,onBlur:le,ref:oe=>{if(oe){ie(U,z),J=be(i,U);let ne=it(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,se=(Se=>Dp(Se)||tl(Se))(ne),pe=J._f.refs||[];if(se?pe.find(Se=>Se===ne):ne===J._f.ref)return;ct(i,U,{_f:Object.assign(Object.assign({},J._f),se?{refs:pe.concat(ne).filter(kp),ref:{type:ne.type,name:U}}:{ref:ne})}),D(U,!1,void 0,ne)}else J=be(i,U,{}),J._f&&(J._f.mount=!1),(r.shouldUnregister||z.shouldUnregister)&&(!ub(c.array,U)||!a.action)&&c.unMount.add(U)}})};return{control:{register:ie,unregister:F,getFieldState:P,_executeSchema:Z,_getWatch:S,_getDirty:V,_updateValid:k,_removeUnmounted:()=>{for(let U of c.unMount){let z=be(i,U);z&&(z._f.refs?z._f.refs.every(J=>!kp(J)):!kp(z._f.ref))&&F(U)}c.unMount=new Set},_updateFieldArray:(U,z=[],J,ue,oe=!0,ne=!0)=>{if(ue&&J){if(a.action=!0,ne&&Array.isArray(be(i,U))){let se=J(be(i,U),ue.argA,ue.argB);oe&&ct(i,U,se)}if(v.errors&&ne&&Array.isArray(be(n.errors,U))){let se=J(be(n.errors,U),ue.argA,ue.argB);oe&&ct(n.errors,U,se),((pe,Se)=>{!rl(be(pe,Se)).length&&rr(pe,Se)})(n.errors,U)}if(v.touchedFields&&Array.isArray(be(n.touchedFields,U))){let se=J(be(n.touchedFields,U),ue.argA,ue.argB);oe&&ct(n.touchedFields,U,se)}v.dirtyFields&&(n.dirtyFields=eb(o,s)),p.state.next({isDirty:V(U,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ct(s,U,z)},_getFieldArray:U=>rl(be(a.mount?s:o,U,t.shouldUnregister?be(o,U,[]):[])),_subjects:p,_proxyFormState:v,get _fields(){return i},get _formValues(){return s},get _stateFlags(){return a},set _stateFlags(U){a=U},get _defaultValues(){return o},get _names(){return c},set _names(U){c=U},get _formState(){return n},set _formState(U){n=U},get _options(){return r},set _options(U){r=Object.assign(Object.assign({},r),U)}},trigger:ae,register:ie,handleSubmit:(U,z)=>async J=>{J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let ue=!0,oe=mn(s);p.state.next({isSubmitting:!0});try{if(r.resolver){let{errors:ne,values:se}=await Z();n.errors=ne,oe=se}else await j(i);Nr(n.errors)&&Object.keys(n.errors).every(ne=>be(oe,ne))?(p.state.next({errors:{},isSubmitting:!0}),await U(oe,J)):(z&&await z(Object.assign({},n.errors),J),r.shouldFocusError&&zc(i,ne=>be(n.errors,ne),c.mount))}catch(ne){throw ue=!1,ne}finally{n.isSubmitted=!0,p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nr(n.errors)&&ue,submitCount:n.submitCount+1,errors:n.errors})}},watch:(U,z)=>$c(U)?p.watch.subscribe({next:J=>U(S(void 0,z),J)}):S(U,z,!0),setValue:X,getValues:ye,reset:(U,z={})=>{let J=U||o,ue=mn(J),oe=U&&!Nr(U)?ue:o;if(z.keepDefaultValues||(o=J),!z.keepValues){if(QS&&it(U))for(let ne of c.mount){let se=be(i,ne);if(se&&se._f){let pe=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;try{Ap(pe)&&pe.closest("form").reset();break}catch{}}}s=t.shouldUnregister?z.keepDefaultValues?mn(o):{}:ue,i={},p.array.next({values:oe}),p.watch.next({values:oe})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!v.isValid||!!z.keepIsValid,a.watch=!!t.shouldUnregister,p.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:z.keepDirty?n.isDirty:!!z.keepDefaultValues&&!cs(U,o),isSubmitted:!!z.keepIsSubmitted&&n.isSubmitted,dirtyFields:z.keepDirty?n.dirtyFields:z.keepDefaultValues&&U?Object.entries(U).reduce((ne,[se,pe])=>Object.assign(Object.assign({},ne),{[se]:pe!==be(o,se)}),{}):{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(U,z={})=>{be(i,U)&&(it(z.defaultValue)?X(U,be(o,U)):(X(U,z.defaultValue),ct(o,U,z.defaultValue)),z.keepTouched||rr(n.touchedFields,U),z.keepDirty||(rr(n.dirtyFields,U),n.isDirty=z.defaultValue?V(U,be(o,U)):V()),z.keepError||(rr(n.errors,U),v.isValid&&k()),p.state.next(Object.assign({},n)))},clearErrors:U=>{U?Tr(U).forEach(z=>rr(n.errors,z)):n.errors={},p.state.next({errors:n.errors})},unregister:F,setError:(U,z,J)=>{let ue=(be(i,U,{_f:{}})._f||{}).ref;ct(n.errors,U,Object.assign(Object.assign({},z),{ref:ue})),p.state.next({name:U,errors:n.errors,isValid:!1}),J&&J.shouldFocus&&ue&&ue.focus&&ue.focus()},setFocus:(U,z={})=>{let J=be(i,U)._f,ue=J.refs?J.refs[0]:J.ref;z.shouldSelect?ue.select():ue.focus()},getFieldState:P}}kr.Controller=t=>t.render(KS(t)),kr.FormProvider=t=>Re.default.createElement(db.Provider,{value:qc(t,"children")},t.children),kr.appendErrors=_b,kr.get=be,kr.set=ct,kr.useController=KS,kr.useFieldArray=function(t){let e=il(),{control:r=e.control,name:n,keyName:i="id",shouldUnregister:o}=t,[s,a]=Re.default.useState(r._getFieldArray(n)),c=Re.default.useRef(r._getFieldArray(n).map(hi)),d=Re.default.useRef(s),g=Re.default.useRef(n),v=Re.default.useRef(!1);g.current=n,d.current=s,r._names.array.add(n),Uc({callback:Re.default.useCallback(({values:w,name:b})=>{if(b===g.current||!b){let I=be(w,g.current,[]);a(I),c.current=I.map(hi)}},[]),subject:r._subjects.array});let p=Re.default.useCallback(w=>{v.current=!0,r._updateFieldArray(n,w)},[r,n]);return Re.default.useEffect(()=>{r._stateFlags.action=!1,Tp(n,r._names)&&r._subjects.state.next({}),v.current&&r._executeSchema([n]).then(w=>{let b=be(w.errors,n);b&&b.type&&!be(r._formState.errors,n)&&(ct(r._formState.errors,n,b),r._subjects.state.next({errors:r._formState.errors}))}),r._subjects.watch.next({name:n,values:r._formValues}),r._names.focus&&zc(r._fields,w=>w.startsWith(r._names.focus)),r._names.focus="",r._proxyFormState.isValid&&r._updateValid()},[s,n,r]),Re.default.useEffect(()=>(!be(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||o)&&r.unregister(n)}),[n,r,i,o]),{swap:Re.default.useCallback((w,b)=>{let I=r._getFieldArray(n);xp(I,w,b),xp(c.current,w,b),p(I),a(I),r._updateFieldArray(n,I,xp,{argA:w,argB:b},!1)},[p,n,r]),move:Re.default.useCallback((w,b)=>{let I=r._getFieldArray(n);Sp(I,w,b),Sp(c.current,w,b),p(I),a(I),r._updateFieldArray(n,I,Sp,{argA:w,argB:b},!1)},[p,n,r]),prepend:Re.default.useCallback((w,b)=>{let I=Tr(mn(w)),k=bp(r._getFieldArray(n),I);r._names.focus=mp(n,0,b),c.current=bp(c.current,I.map(hi)),p(k),a(k),r._updateFieldArray(n,k,bp,{argA:wp(w)})},[p,n,r]),append:Re.default.useCallback((w,b)=>{let I=Tr(mn(w)),k=vp(r._getFieldArray(n),I);r._names.focus=mp(n,k.length-1,b),c.current=vp(c.current,I.map(hi)),p(k),a(k),r._updateFieldArray(n,k,vp,{argA:wp(w)})},[p,n,r]),remove:Re.default.useCallback(w=>{let b=Ep(r._getFieldArray(n),w);c.current=Ep(c.current,w),p(b),a(b),r._updateFieldArray(n,b,Ep,{argA:w})},[p,n,r]),insert:Re.default.useCallback((w,b,I)=>{let k=Tr(mn(b)),A=_p(r._getFieldArray(n),w,k);r._names.focus=mp(n,w,I),c.current=_p(c.current,w,k.map(hi)),p(A),a(A),r._updateFieldArray(n,A,_p,{argA:w,argB:wp(b)})},[p,n,r]),update:Re.default.useCallback((w,b)=>{let I=ZS(r._getFieldArray(n),w,b);c.current=[...I].map((k,A)=>k&&A!==w?c.current[A]:hi()),p(I),a([...I]),r._updateFieldArray(n,I,ZS,{argA:w,argB:b},!0,!1)},[p,n,r]),replace:Re.default.useCallback(w=>{let b=Tr(mn(w));c.current=b.map(hi),p([...b]),a([...b]),r._updateFieldArray(n,[...b],I=>I,{},!0,!1)},[p,n,r]),fields:Re.default.useMemo(()=>s.map((w,b)=>Object.assign(Object.assign({},w),{[i]:c.current[b]||hi()})),[s,i])}},kr.useForm=function(t={}){let e=Re.default.useRef(),[r,n]=Re.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});e.current?e.current.control._options=t:e.current=Object.assign(Object.assign({},dN(t)),{formState:r});let i=e.current.control,o=Re.default.useCallback(s=>{yb(s,i._proxyFormState,!0)&&(i._formState=Object.assign(Object.assign({},i._formState),s),n(Object.assign({},i._formState)))},[i]);return Uc({subject:i._subjects.state,callback:o}),Re.default.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),e.current.formState=pb(r,i._proxyFormState),e.current},kr.useFormContext=il,kr.useFormState=mb,kr.useWatch=wb});var Gc=Oe(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.TextInput=void 0;var sl=at(),hs=(0,sl.__importDefault)(Ce()),Hc=(0,sl.__importDefault)(Pt()),pN=Xa(),yN=fi(),gN=function(t){var e=t.validation,r=e===void 0?"default":e,n=t.className,i=t.label,o=t.labelType,s=o===void 0?"default":o,a=t.inputClassName,c=t.button,d=t.register,g=(0,sl.__rest)(t,["validation","className","label","labelType","inputClassName","button","register"]),v=i&&s,p=hs.default.createElement("input",(0,sl.__assign)({alt:i},g,{className:(0,Hc.default)("px-3 py-1.5 outline-0 border w-full",yN.TextInputBorderMap[r],g.disabled&&"bg-secondary-200",v!=="addon"&&"rounded-l-sm",!c&&"rounded-r",i||c?a:n)},d));return i||c?hs.default.createElement("div",{className:(0,Hc.default)("flex",v==="default"?"flex-col":"flex-row",n)},i&&hs.default.createElement("div",{className:(0,Hc.default)("flex",v==="default"&&"pb-2",v==="row:1/3"&&"w-1/3",v==="row:1/4"&&"w-1/4",v==="row:2/5"&&"w-2/5",v==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},hs.default.createElement("span",{className:(0,Hc.default)(v!=="default"&&"m-auto")},i)),c?hs.default.createElement("div",{className:"flex flex-row w-full"},p,hs.default.createElement(pN.Button,(0,sl.__assign)({shape:"flat",className:"rounded-r-sm"},c),c.label)):p):p};Jc.TextInput=gN});var Ab=Oe(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.Login=void 0;var Lp=at(),kb=(0,Lp.__importDefault)(Pt()),xt=(0,Lp.__importDefault)(Ce()),mN=Cp(),Nb=Gc(),vN=fi(),Tb=Xa(),wN=Ac();function _N(t){var e=t.onLoginClick,r=t.companyName,n=t.onSignUpClick,i=t.isLoading,o=t.useRegularLogin,s=t.thirdPartyLogins,a=t.className,c=t.style,d=(0,mN.useForm)(),g=d.register,v=d.handleSubmit,p=d.formState,w=d.reset,b=d.setValue,I=p.errors,k=p.submitCount,A=function(j){w(),b("email",j.email),b("password",j.password),e==null||e(j)},D="rounded-md text-sm font-medium",Y="py-2.5 pl-3 text-base font-semibold "+(i?"bg-gray-200":"bg-gray-50"),H=k>0&&I.email,Z=k>0&&I.password;return xt.default.createElement("form",{className:(0,kb.default)("bg-white rounded max-w-lg w-full p-10",a),style:c,onSubmit:v(A)},xt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",r||"your account"),n&&xt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",xt.default.createElement("a",{onClick:i?void 0:n,className:(0,kb.default)(`
                    hover:text-gray-500 focus:text-gray-500 focus:outline-none
                    focus:underline hover:underline text-sm font-medium leading-none
                    text-gray-800`,i?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),xt.default.createElement("div",{className:"mt-4"}),s==null?void 0:s.map(function(j,V){return xt.default.createElement(SN,(0,Lp.__assign)({},j,{disabled:i,key:V}))}),s&&o&&xt.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},xt.default.createElement("hr",{className:"w-full bg-gray-400"}),xt.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),xt.default.createElement("hr",{className:"w-full bg-gray-400"})),o&&xt.default.createElement(xt.default.Fragment,null,xt.default.createElement(Nb.TextInput,{label:"Email",className:D,inputClassName:Y,disabled:i,validation:H?"danger":"default",register:g("email",{required:!0,pattern:vN.regexpUtil.email})}),xt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",H?"Please enter a valid email":""),xt.default.createElement(Nb.TextInput,{label:"Password",type:"password",className:D,inputClassName:Y,disabled:i,validation:H?"danger":"default",register:g("password",{required:!0})}),xt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",Z?"Please enter your password":""),xt.default.createElement("div",{className:"mt-6"},xt.default.createElement(Tb.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:i,htmlType:"submit"},i?xt.default.createElement(wN.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))}Yc.Login=_N;var SN=function(t){var e=t.disabled,r=t.name,n=t.logo,i=t.onClick;return xt.default.createElement(Tb.Button,{size:"auto",outline:!0,type:"secondary",disabled:e,onClick:i,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,xt.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var Ib=Oe(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.Modal=void 0;var Kc=at(),bN=Wt(),EN=(0,Kc.__importDefault)(Pt()),tn=(0,Kc.__importDefault)(Ce()),xN=Dc();function ON(t){var e=t.zIndex,r=e===void 0?1004:e,n=t.className,i=t.style,o=t.header,s=t.onClose,a=t.onBackdropClick,c=t.children;return tn.default.createElement(tn.default.Fragment,null,tn.default.createElement(xN.Backdrop,(0,Kc.__assign)({},{zIndex:r-1,onBackdropClick:a,transition:!1})),tn.default.createElement("div",{className:(0,EN.default)("fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2","border border-secondary-300 shadow-lg bg-white w-11/12 md:max-w-md mx-auto rounded overflow-y-auto",n),style:(0,Kc.__assign)({zIndex:r},i)},tn.default.createElement("div",{className:"relative"},tn.default.createElement("div",{className:"cursor-pointer absolute top-3.5 right-3.5",onClick:s},tn.default.createElement("svg",{className:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 18 18"},tn.default.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}))),tn.default.createElement("div",{className:"py-4 px-6"},o&&tn.default.createElement("div",{className:"pb-3"},(0,bN.isType)(o,"string")?tn.default.createElement("p",{className:"text-2xl font-bold"},o):o),c))))}Zc.Modal=ON});var Rb=Oe(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.SquareGrid=void 0;var Pp=at(),rn=(0,Pp.__importStar)(Ce()),kN=Wt(),NN=function(t){(0,Pp.__extends)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={sizeBy:"vw"},r.componentDidMount=function(){var n=function(){var i=window.innerHeight>window.innerWidth?"vw":"vh";i!==r.state.sizeBy&&r.setState({sizeBy:i})};n(),r.resizeRef=IN(n)},r.componentWillUnmount=function(){var n;return(n=r.resizeRef)===null||n===void 0?void 0:n.stop()},r.render=function(){var n=r.props,i=r.state,o="85"+i.sizeBy;return rn.default.createElement("div",{className:"border flex flex-col",style:{height:o,width:o}},rn.default.createElement(TN,{items:n.items}))},r}return e}(rn.Component);Xc.SquareGrid=NN;function TN(t){var e=(0,rn.useState)("0"),r=e[0],n=e[1],i=(0,rn.useState)([]),o=i[0],s=i[1];return(0,rn.useEffect)(function(){var a=t.items.length,c=Math.ceil(Math.sqrt(a)),d=(0,kN.arrDivide)(t.items,a/c);s(d),n((100/d.length).toFixed(5)+"%")},[t.items]),rn.default.createElement(rn.default.Fragment,null,o.map(function(a,c){return rn.default.createElement("div",{className:"flex flex-row",style:{height:r},key:c},a.map(function(d,g){return rn.default.createElement(AN,(0,Pp.__assign)({},{children:d,size:r},{key:g}))}))}))}function AN(t){var e=t.children,r=t.size;return rn.default.createElement("div",{style:{width:r},className:"h-full m-auto"},e)}function IN(t){return addEventListener("resize",t),{stop:function(){return removeEventListener("resize",t)}}}});var Fb=Oe(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.Radio=void 0;var jp=at(),Mp=(0,jp.__importDefault)(Ce()),RN=function(t){var e=t.label,r=t.disabled,n=(0,jp.__rest)(t,["label","disabled"]);return Mp.default.createElement("label",{className:"inline-flex items-center"},Mp.default.createElement("input",(0,jp.__assign)({type:"radio",name:"vehicle",className:"h-5 w-5 text-red-600",disabled:r},n)),e&&Mp.default.createElement("span",{className:"ml-2 text-gray-700"},e))};Qc.Radio=RN});var Db=Oe(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.TextArea=void 0;var rf=at(),ef=(0,rf.__importDefault)(Ce()),FN=fi(),tf=(0,rf.__importDefault)(Pt());function DN(t){var e=t.validation,r=e===void 0?"default":e,n=t.className,i=t.label,o=t.labelType,s=o===void 0?"default":o,a=t.inputClassName,c=t.register,d=(0,rf.__rest)(t,["validation","className","label","labelType","inputClassName","register"]),g=i&&s,v=ef.default.createElement("textarea",(0,rf.__assign)({alt:i},d,{className:(0,tf.default)("px-3 py-1.5 outline-0 border w-full rounded-r-sm",FN.TextInputBorderMap[r],d.disabled&&"bg-secondary-200",g!=="addon"&&"rounded-l-sm",i?a:n)}));return i?ef.default.createElement("div",{className:(0,tf.default)("flex",g==="default"?"flex-col":"flex-row",n)},i&&ef.default.createElement("div",{className:(0,tf.default)("flex",g==="default"&&"pb-2",g==="row:1/3"&&"w-1/3",g==="row:1/4"&&"w-1/4",g==="row:2/5"&&"w-2/5",g==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},ef.default.createElement("span",{className:(0,tf.default)(g!=="default"&&"m-auto")},i)),v):v}nf.TextArea=DN});var Cb=Oe(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.Toggle=void 0;var Bp=at(),di=(0,Bp.__importStar)(Ce()),CN=function(t){var e=t.onChange,r=t.label,n=(0,Bp.__rest)(t,["onChange","label"]),i=(0,di.useState)(!1),o=i[0],s=i[1];return di.default.createElement("div",{className:"flex flex-col"},di.default.createElement("label",{className:"mt-3 inline-flex items-center cursor-pointer"},di.default.createElement("span",{className:"relative"},di.default.createElement("span",{className:"block w-10 h-6 rounded-full shadow-inner ".concat(o?"bg-primary-300":"bg-secondary-200")}),di.default.createElement("span",{className:"absolute block w-4 h-4 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-300 ease-in-out ".concat(o?"transform translate-x-full bg-secondary-300":"bg-secondary-400")},di.default.createElement("input",(0,Bp.__assign)({},n,{type:"checkbox",className:"absolute opacity-0 w-0 h-0",onChange:function(a){s(a.target.checked),e(a.target.checked)}})))),r&&di.default.createElement("span",{className:"ml-3 text-sm"},r)))};of.Toggle=CN});var jb=Oe(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.NavDrawer=void 0;var nn=at(),Ze=(0,nn.__importStar)(Ce()),ro=(0,nn.__importDefault)(Pt()),Pb=Wt(),LN=Ic(),PN=Dc(),MN=fi(),jN=function(t){var e=t.brand,r=t.fixed,n=r===void 0?!1:r,i=t.zIndex,o=i===void 0?1002:i,s=t.user,a=t.onBrandClick,c=t.onAvatarClick,d=t.onBackdropClick,g=t.menuItems,v=t.isOpen,p=t.className,w=t.style;return Ze.default.createElement(Ze.default.Fragment,null,n&&v&&Ze.default.createElement(PN.Backdrop,(0,nn.__assign)({},{onBackdropClick:d,zIndex:o-1})),Ze.default.createElement("div",{className:(0,ro.default)(`
        flex flex-col bg-white
        dark:bg-gray-800 dark:border-gray-600
        shadow text-secondary-600 w-64
        transition-all duration-500`,n&&"h-screen fixed top-0 "+(n==="left"?"left-0":"right-0"),n&&[!v&&n==="left"&&"-translate-x-full",!v&&n==="right"&&"translate-x-full"],MN.customScrollBar,p),style:(0,nn.__assign)({zIndex:o},w)},e&&Ze.default.createElement("div",{className:(0,ro.default)("border-b border-secondary-200 px-2 py-1.5",a&&"cursor-pointer"),onClick:a},(0,Pb.isType)(e,"string")?Ze.default.createElement("h2",{className:(0,ro.default)("text-3xl font-semibold text-gray-800 dark:text-white")},e):e),s&&Ze.default.createElement("div",{className:(0,ro.default)("flex items-center border-b border-secondary-200 pl-1.5 py-2",c&&"cursor-pointer"),onClick:c},Ze.default.createElement(LN.Avatar,(0,nn.__assign)({dataState:"done",size:"sm"},s)),Ze.default.createElement("h4",{className:"ml-1 font-medium text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},s.name)),Ze.default.createElement("div",{className:"flex flex-col justify-between flex-1"},Ze.default.createElement("nav",{className:"px-1.5"},g.map(function(b,I){return Ze.default.createElement(Mb,(0,nn.__assign)({},b,{key:I}))})))))};sf.NavDrawer=jN;var Lb=function(t){var e=t.children,r=t.isActive,n=t.getHeight,i=(0,nn.__rest)(t,["children","isActive","getHeight"]);return Ze.default.createElement("div",(0,nn.__assign)({className:(0,ro.default)(`
        flex items-center
        my-1 px-4 py-2 rounded-md
        text-gray-600 dark:text-gray-400
    `,i.onClick&&"cursor-pointer",r?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200":"hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200")},i),e)},Mb=function(t){switch(t.type){case"action":{var e=t.isActive,r=t.icon,n=t.title,i=t.onClick;return(0,Pb.isType)(n,"string")?Ze.default.createElement(Lb,(0,nn.__assign)({},{isActive:e,onClick:i}),r&&r,Ze.default.createElement("span",{className:"mx-4 font-medium"},n)):n}case"break":return Ze.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return Ze.default.createElement("div",{className:`\r
                overflow-hidden my-1 py-2\r
                text-gray-600 dark:text-gray-400\r
            `},Ze.default.createElement("span",{className:"px-3 font-medium"},t.title));case"sub-menu":{var r=t.icon,n=t.title,o=t.subMenu,s=(0,Ze.useState)(!1),a=s[0],c=s[1];return Ze.default.createElement(Ze.default.Fragment,null,Ze.default.createElement(Lb,(0,nn.__assign)({},{isActive:a,onClick:function(){return c(!a)}}),r&&r,Ze.default.createElement("span",{className:"mx-4 font-medium"},n),Ze.default.createElement("svg",{className:(0,ro.default)("svg-fix transition-transform ml-auto mr-1.5",a&&"-rotate-90"),stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},Ze.default.createElement("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}))),Ze.default.createElement("div",{className:(0,ro.default)("overflow-hidden transition-all duration-700",a?"max-h-screen":"max-h-0")},o.map(function(v,p){return Ze.default.createElement(Mb,(0,nn.__assign)({},v,{key:p}))})))}default:throw console.error(t),new Error("This type of MenuItem is not implemented.")}}});var Ub=Oe(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.TopBar=void 0;var af=at(),BN=Wt(),UN=(0,af.__importDefault)(Pt()),jt=(0,af.__importStar)(Ce()),zN=jt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}),VN=jt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"});function WN(t){var e=t.fixed,r=t.onMenuExpand,n=t.leftNavItems,i=t.centerContent,o=t.rightNavItems,s=t.zIndex,a=s===void 0?1e3:s,c=t.className,d=t.style,g=t.addSpacer,v=g===void 0?!1:g,p=t.menuIsExpanded,w=(0,jt.useState)(0),b=w[0],I=w[1],k=(0,jt.useRef)(null),A=(0,jt.useRef)(new ResizeObserver(function(V){return I(V[0].borderBoxSize[0].blockSize)}));(0,jt.useEffect)(function(){return k.current&&A.current.observe(k.current),function(){return A.current.disconnect()}},[k,A]);var D=(0,jt.useState)(!1),Y=D[0],H=D[1],Z=function(V){return V&&V.map(function(S,W){var re=S.children,X=S.onClick;return jt.default.createElement(Bb,(0,af.__assign)({},{children:re,onClick:X},{key:W}))})},j=(0,BN.isType)(p,"boolean")?!p:!Y;return jt.default.createElement(jt.default.Fragment,null,v&&e&&jt.default.createElement("div",{style:{height:b},className:"w-full"}),jt.default.createElement("nav",{ref:k,className:(0,UN.default)("bg-white shadow dark:bg-gray-800 flex justify-between p-2 border",e&&"fixed top-0 left-0 right-0",c),style:(0,af.__assign)({zIndex:a},d)},jt.default.createElement("ul",{className:"flex flex-row"},r&&jt.default.createElement(Bb,{onClick:function(){H(!j),r(!j)}},jt.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"svg-fix"},j?VN:zN)),Z(n)),i,jt.default.createElement("ul",{className:"flex flex-row"},Z(o))))}lf.TopBar=WN;var Bb=function(t){return jt.default.createElement("li",{className:"p-4 text-neutral-500 hover:text-neutral-800 min-w-2"},jt.default.createElement("span",{className:"cursor-pointer",onClick:t.onClick},t.children))}});var zb=Oe(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.grTo=pi.grFrom=pi.gradients=void 0;pi.gradients={1:"bg-gradient-to-t",2:"bg-gradient-to-tr",3:"bg-gradient-to-r",4:"bg-gradient-to-br",5:"bg-gradient-to-b",6:"bg-gradient-to-bl",7:"bg-gradient-to-l",8:"bg-gradient-to-tl"};pi.grFrom={slate:"from-slate-400",gray:"from-gray-400",red:"from-red-400",pink:"from-pink-400",purple:"from-purple-400",indigo:"from-indigo-400",blue:"from-blue-400",cyan:"from-cyan-400",teal:"from-teal-400",green:"from-green-400",lime:"from-lime-400",yellow:"from-yellow-400",amber:"from-amber-400",orange:"from-orange-400",brown:"from-brown-400",grey:"from-grey-400",emerald:"from-emerald-400",rose:"from-rose-400"};pi.grTo={slate:"to-slate-900",gray:"to-gray-900",red:"to-red-900",pink:"to-pink-900",purple:"to-purple-900",indigo:"to-indigo-900",blue:"to-blue-900",cyan:"to-cyan-900",teal:"to-teal-900",green:"to-green-900",lime:"to-lime-900",yellow:"to-yellow-900",amber:"to-amber-900",orange:"to-orange-900",brown:"to-brown-900",grey:"to-grey-900",emerald:"to-emerald-900",rose:"to-rose-900"}});var $b=Oe(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.LoginPage=void 0;var zp=at(),Vb=(0,zp.__importDefault)(Pt()),ft=(0,zp.__importDefault)(Ce()),qN=Cp(),$N=cf(),qb=Xa(),Wb=Gc(),HN=fi(),Up=zb();function JN(t){var e=t.thirdPartyLogins,r=t.useRegularLogin,n=t.brand,i=t.companyName,o=t.bgGradientFrom,s=t.bgGradientTo,a=t.onLoginClick,c=t.isLoading,d=t.gradient,g=t.onSignUpClick,v=t.className,p=t.style,w=(0,qN.useForm)(),b=w.register,I=w.handleSubmit,k=w.formState,A=w.reset,D=w.setValue,Y=k.errors,H=k.submitCount,Z=function(X){A(),D("email",X.email),D("password",X.password),a==null||a(X)},j="rounded-md text-sm font-medium",V="py-2.5 pl-3 text-base font-semibold "+(c?"bg-gray-200":"bg-gray-50"),S=o&&s&&d,W=H>0&&Y.email,re=H>0&&Y.password;return ft.default.createElement("div",{className:(0,Vb.default)("h-full w-full py-14 px-4",S&&Up.gradients[d],S&&Up.grFrom[o],S&&Up.grTo[s],v),style:p},ft.default.createElement("div",{className:"flex flex-col items-center justify-center"},n,ft.default.createElement("form",{className:"bg-white shadow-lg rounded lg:w-2/3 md:w-3/4 max-w-lg w-full p-10 border border-secondary-200",onSubmit:I(Z)},ft.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",i||"your account"),g&&ft.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",ft.default.createElement("a",{onClick:c?void 0:g,className:(0,Vb.default)(`
                            hover:text-gray-500 focus:text-gray-500 focus:outline-none
                            focus:underline hover:underline text-sm font-medium leading-none
                            text-gray-800`,c?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),ft.default.createElement("div",{className:"mt-4"}),e==null?void 0:e.map(function(X,le){return ft.default.createElement(GN,(0,zp.__assign)({},X,{disabled:c,key:le}))}),e&&r&&ft.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},ft.default.createElement("hr",{className:"w-full bg-gray-400"}),ft.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),ft.default.createElement("hr",{className:"w-full bg-gray-400"})),r&&ft.default.createElement(ft.default.Fragment,null,ft.default.createElement(Wb.TextInput,{label:"Email",className:j,inputClassName:V,disabled:c,validation:W?"danger":"default",register:b("email",{required:!0,pattern:HN.regexpUtil.email})}),ft.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",W?"Please enter a valid email":""),ft.default.createElement(Wb.TextInput,{label:"Password",type:"password",className:j,inputClassName:V,disabled:c,validation:W?"danger":"default",register:b("password",{required:!0})}),ft.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",re?"Please enter your password":""),ft.default.createElement("div",{className:"mt-6"},ft.default.createElement(qb.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:c,htmlType:"submit"},c?ft.default.createElement($N.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))))}uf.LoginPage=JN;var GN=function(t){var e=t.disabled,r=t.name,n=t.logo;return ft.default.createElement(qb.Button,{size:"auto",outline:!0,type:"secondary",disabled:e,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,ft.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var cf=Oe(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});var Ot=at();(0,Ot.__exportStar)(RS(),ht);(0,Ot.__exportStar)(PS(),ht);(0,Ot.__exportStar)(jS(),ht);(0,Ot.__exportStar)(Ic(),ht);(0,Ot.__exportStar)(HS(),ht);(0,Ot.__exportStar)(Dc(),ht);(0,Ot.__exportStar)(Nc(),ht);(0,Ot.__exportStar)(Xa(),ht);(0,Ot.__exportStar)(sp(),ht);(0,Ot.__exportStar)(JS(),ht);(0,Ot.__exportStar)(Ab(),ht);(0,Ot.__exportStar)(Ib(),ht);(0,Ot.__exportStar)(Ac(),ht);(0,Ot.__exportStar)(Rb(),ht);(0,Ot.__exportStar)(Fb(),ht);(0,Ot.__exportStar)(Db(),ht);(0,Ot.__exportStar)(Gc(),ht);(0,Ot.__exportStar)(Cb(),ht);(0,Ot.__exportStar)(jb(),ht);(0,Ot.__exportStar)(Ub(),ht);(0,Ot.__exportStar)($b(),ht)});var Kp=Tt(Ce()),Xb=Tt(jv());var Gr=Tt(Ce());function Jo(){return Jo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jo.apply(this,arguments)}var ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ni||(ni={}));var Bv=function(t){return t};var Uv="beforeunload";var tx="popstate";function Wv(t){t===void 0&&(t={});var e=t,r=e.window,n=r===void 0?document.defaultView:r,i=n.history;function o(){var V=n.location,S=V.pathname,W=V.search,re=V.hash,X=i.state||{};return[X.idx,Bv({pathname:S,search:W,hash:re,state:X.usr||null,key:X.key||"default"})]}var s=null;function a(){if(s)w.call(s),s=null;else{var V=ni.Pop,S=o(),W=S[0],re=S[1];if(w.length){if(W!=null){var X=g-W;X&&(s={action:V,location:re,retry:function(){Z(X*-1)}},Z(X))}}else D(V)}}n.addEventListener(tx,a);var c=ni.Pop,d=o(),g=d[0],v=d[1],p=Vv(),w=Vv();g==null&&(g=0,i.replaceState(Jo({},i.state,{idx:g}),""));function b(V){return typeof V=="string"?V:qv(V)}function I(V,S){return S===void 0&&(S=null),Bv(Jo({pathname:v.pathname,hash:"",search:""},typeof V=="string"?Xd(V):V,{state:S,key:rx()}))}function k(V,S){return[{usr:V.state,key:V.key,idx:S},b(V)]}function A(V,S,W){return!w.length||(w.call({action:V,location:S,retry:W}),!1)}function D(V){c=V;var S=o();g=S[0],v=S[1],p.call({action:c,location:v})}function Y(V,S){var W=ni.Push,re=I(V,S);function X(){Y(V,S)}if(A(W,re,X)){var le=k(re,g+1),ae=le[0],ye=le[1];try{i.pushState(ae,"",ye)}catch{n.location.assign(ye)}D(W)}}function H(V,S){var W=ni.Replace,re=I(V,S);function X(){H(V,S)}if(A(W,re,X)){var le=k(re,g),ae=le[0],ye=le[1];i.replaceState(ae,"",ye),D(W)}}function Z(V){i.go(V)}var j={get action(){return c},get location(){return v},createHref:b,push:Y,replace:H,go:Z,back:function(){Z(-1)},forward:function(){Z(1)},listen:function(S){return p.push(S)},block:function(S){var W=w.push(S);return w.length===1&&n.addEventListener(Uv,zv),function(){W(),w.length||n.removeEventListener(Uv,zv)}}};return j}function zv(t){t.preventDefault(),t.returnValue=""}function Vv(){var t=[];return{get length(){return t.length},push:function(r){return t.push(r),function(){t=t.filter(function(n){return n!==r})}},call:function(r){t.forEach(function(n){return n&&n(r)})}}}function rx(){return Math.random().toString(36).substr(2,8)}function qv(t){var e=t.pathname,r=e===void 0?"/":e,n=t.search,i=n===void 0?"":n,o=t.hash,s=o===void 0?"":o;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Xd(t){var e={};if(t){var r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));var n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}var Rt=Tt(Ce());function nx(t,e){if(!t)throw new Error(e)}var ix=(0,Rt.createContext)(null),$v=(0,Rt.createContext)(null);function Hv(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ni.Pop,navigator:o,static:s=!1}=t;ox()&&nx(!1);let a=ax(e),c=(0,Rt.useMemo)(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof n=="string"&&(n=Xd(n));let{pathname:d="/",search:g="",hash:v="",state:p=null,key:w="default"}=n,b=(0,Rt.useMemo)(()=>{let I=sx(d,a);return I==null?null:{pathname:I,search:g,hash:v,state:p,key:w}},[a,d,g,v,p,w]);return b==null?null:(0,Rt.createElement)(ix.Provider,{value:c},(0,Rt.createElement)($v.Provider,{children:r,value:{location:b,navigationType:i}}))}function ox(){return(0,Rt.useContext)($v)!=null}function sx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=t.charAt(e.length);return r&&r!=="/"?null:t.slice(e.length)||"/"}var ax=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function Jv(t){let{basename:e,children:r,window:n}=t,i=(0,Gr.useRef)();i.current==null&&(i.current=Wv({window:n}));let o=i.current,[s,a]=(0,Gr.useState)({action:o.action,location:o.location});return(0,Gr.useLayoutEffect)(()=>o.listen(a),[o]),(0,Gr.createElement)(Hv,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o})}var NI=Tt(uS());var Jt=Tt(Ce()),ys=Tt(cf());var Hb=Tt(Ce());Fa();var no=class extends Hb.Component{constructor(e={state:Br}){super(e);this.statemgr=Br;this.UPDATED=[];e.state&&(this.statemgr=e.state);let r=this.setState.bind(this);this.setState=n=>{this.UPDATED=Object.keys(n),r(n),typeof n=="object"&&Br.setState(n)},setTimeout(()=>{let n={};for(let i in this.state)this.statemgr.subscribeTrigger(i,o=>{if(typeof this=="undefined")this.statemgr.unsubscribeTrigger(i);else{let a=this.UPDATED.indexOf(i);a>-1?this.UPDATED.splice(a,1):r({[i]:o})}});Object.keys(n).length>0&&r(n)},.001)}};var Dn=Tt(Ce()),Vp=class extends Dn.Component{render(){return Dn.default.createElement("div",null,Dn.default.createElement("div",{style:{height:200,border:"1px solid black",borderRadius:5}},"User Card + Summary"),Dn.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Selectable summary tiles"),Dn.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Descending or popup scrollview of selected timelines/details/summaries.",Dn.default.createElement("br",null),Dn.default.createElement("br",null),"E.g. Sleep timeline adjacent to events, and chart"))}};var wt=Tt(Ce());function Jb(t=""){return`${t+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}os();var Wp=class extends no{constructor(){super(...arguments);this.id=Jb("permissions");this.onclicked=()=>{let e=document.getElementById(this.id+"userid").value,r=document.getElementById(this.id+"name").value,n=document.getElementById(this.id+"perms"),i=n.options[n.selectedIndex].value,o=document.getElementById(this.id+"peers"),s=o.options[o.selectedIndex].value;s==="granting"?He.authorizeUser(He.currentUser,He.currentUser._id,"me",e,r,[n]):s==="asking"&&He.authorizeUser(He.currentUser,e,r,He.currentUser._id,"me",[i])}}componentDidMount(){return te(this,null,function*(){let e=yield He.getAuthorizations(),r=document.getElementById(this.id+"auths");e&&e.forEach(n=>{r==null||r.insertAdjacentHTML("beforeend",`
                    <tr>
                        <td>Permissions: ${n.authorizations.join(",")}</td>
                        <td>Authorized: ${n.authorizedName}</td>
                        <td>Authorizer: ${n.authorizerName}</td>
                        <td>Status: ${n.status}</td>
                    </tr>`)})})}render(){return wt.default.createElement("div",null,wt.default.createElement("div",{style:{height:400,border:"1px solid black",borderRadius:5}},"Groups and Authorizations",wt.default.createElement("br",null),"User Id or Email",wt.default.createElement("br",null),wt.default.createElement("input",{id:this.id+"userid",type:"text",placeholder:"example@example.com"}),"Name",wt.default.createElement("br",null),wt.default.createElement("input",{id:this.id+"name",type:"text",placeholder:"example@example.com"}),wt.default.createElement("br",null),"Permssions:",wt.default.createElement("br",null),wt.default.createElement("select",{id:this.id+"perms"},wt.default.createElement("option",{value:"peer",selected:!0},"Peer (read/write/chat)"),wt.default.createElement("option",{value:"control"},"Admin (hand over control)")),wt.default.createElement("br",null),"Asking or Granting?",wt.default.createElement("br",null),wt.default.createElement("select",{id:this.id+"peers"},wt.default.createElement("option",{value:"asking",selected:!0},"Asking (get access)"),wt.default.createElement("option",{value:"granting"},"Granting (give access)")),wt.default.createElement("br",null),wt.default.createElement("button",{id:this.id+"submit"},"Submit")),wt.default.createElement("div",{onClick:this.onclicked,style:{height:600,border:"1px solid black",borderRadius:5}},"Summaries of Connected Peers",wt.default.createElement("table",{id:this.id+"auths"})))}};var ds=Tt(Ce()),qp=class extends ds.Component{render(){return ds.default.createElement("div",null,ds.default.createElement("div",null,"Profile Deets + Editing"),ds.default.createElement("div",null,"More fine grained permissions and opt-in stuff"))}};var Zb=Tt(cf());Z0();Fa();var Jp=Tt(Ce());pc();os();pc();rp();var yi=class{constructor(){}static genSineWave(e=20,r=1,n=1,i=512,o=0,s=1){for(var a=[],c=[],d=1/i,g=0;g<n;g+=d){var v=Math.sin(2*Math.PI*e*g)*r;v+=Math.sin(2*Math.PI*o*g)*s,a.push(v),c.push(g)}return[c,a]}static getSineAmplitude(e=20,r=1,n=0,i=0){return Math.sin(this.TWO_PI*e*n+i)*r}static genSawtoothWave(e=1,r=1,n=1,i=512){let o=[],s=[],a=1/i;for(var c=0;c<n;c+=a){let d=Math.PI*c*e,g=Math.cos(d)/Math.sin(d),v=-c*Math.PI*.5/Math.atan(g);s.push(c),o.push(v)}return[s,o]}static genSquareWave(e=1,r=1,n=1,i=512,o=!1){let s=[],a=[],c=1/i;for(let d=0;d<n;d+=c){let g;Math.sin(e*d)<0?g=-r:g=r}return[a,s]}static mean(e){var r=e.reduce((n,i)=>i+=n);return r/e.length}static mode(e){return e.sort((r,n)=>e.filter(i=>i===r).length-e.filter(i=>i===n).length).pop()}static std(e,r=void 0){let n=r;r||(n=this.mean(e));let i=0;for(let o=0;o<e.length;o++){let s=e[o]-n;i+=s*s}return Math.sqrt(i/e.length)}static relError(e=[],r=[],n=!0){if(e.length!==r.length)throw new Error("Input arrays of same length!");let i=e.length,o=[];for(let s=0;s<i;s++){let a=(e[s]-r[s])/e[s];n&&(a=Math.abs(a)),o.push(a)}return o}static informationEntropy(e=[]){let r=[],n=e.length;for(let i=0;i<n;i++){let o=e[i]*Math.log(e[i]);isNaN(o)&&(o=0),r.push(o)}return r}static zscore(e){let r=this.mean(e),n=this.std(e,r),i=[];for(let o=0;o<e.length;o++)i.push((e[o]-r)/n);return i}static variance(e){var r=this.mean(e);return e.reduce((n,i)=>n+_g(i-r,2),0)/e.length}static linspace(e,r,n){var i=new Array(n);n<2&&(n=2);for(var o=(r-e)/(n-1),s=0;s<n;s++)i[s]=e+o*s;return i}static dot(e,r){for(var n=0,i=0;i<e.length;i++)n+=e[i]*r[i];return n}static cross3D(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}static magnitude(e){var r=0;return e.forEach(n=>{r+=n*n}),Math.sqrt(r)}static distance(e,r){var n=0;return e.forEach((i,o)=>{n+=(r[o]-i)*(r[o]-i)}),Math.sqrt(n)}static normalize(e){let r=1/this.magnitude(e),n=new Array(e.length);return e.forEach((i,o)=>{n[o]=i*r}),n}static makeVec(e,r){var n=new Array(e.length);return e.forEach((i,o)=>{n.push(r[o]-i)}),n}static vecsub(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]-r[i];return n}static vecadd(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]+r[i];return n}static vecmul(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]*r[i];return n}static vecdiv(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]/r[i];return n}static vecscale(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]*r;return n}static calcNormal(e,r,n,i=!0){var o=makeVec(e,r),s=makeVec(e,n);return i===!0?Math3D.normalize(this.cross3D(o,s)):Math3D.normalize(this.cross3D(s,o))}static quadraticFormula(e,r,n){let i=Math.sqrt(r*r-4*e*n);if(!isNaN(i))return["complex","complex"];let o=1/(2*e);if(i===0)return[r*o];let s=-r;return[(s+i)*o,(s-i)*o]}static newtonsMethod(e=s=>Math.pow(s,5)+s*s-s-.2,r=0,n=1,i=.01,o=10){let s=[];for(let a=0;a<o;a++){let c=r+(n-r)*a/(o-1),d=e(c),g=e(c+i),v=(g-d)/i,p=c+i;for(;Math.abs(v)>i;){let I=-d/A,k=p+I;d=g,g=e(k);let A=(g-d)/(k-p)}let w,b=s.find((I,k)=>{if(Math.abs(xn1-I)<i)return w=k,!0});b?s[w]=(xn1+b)*.5:s.push(xn1)}return s}static makeVec(e,r){var n=[];return e.forEach((i,o)=>{n.push(r[o]-i)}),n}static transpose(e){return e[0].map((r,n)=>e.map(i=>i[n]))}static matmul(e,r){for(var n=e.length,i=e[0].length,o=r.length,s=r[0].length,a=new Array(n),c=0;c<n;++c){a[c]=new Array(s);for(var d=0;d<s;++d){a[c][d]=0;for(var g=0;g<i;++g)a[c][d]+=e[c][g]*r[g][d]}}return a}static matscale(e,r){let n=[];for(var i=0;i<e.length;i++){n[i]=[];for(let o=0;o<e[0].length;o++)n[i][o]=e[i][o]*r}return n}static matadd(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]+r[o][i]}return n}static matsub(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]-r[o][i]}return n}static histogram(e=[],r=1,n=void 0){let i=[...e];i.sort(function(d,g){return d-g});let o=Math.min(...i);if(typeof n=="number"){let d=Math.max(...i);r=Math.abs((d-o)/(n-1))}let s=o,a=[],c=[];for(let d=0;d<i.length;d++){let g=r*s;if(i[d]>o+g){s++,g+=r;let p=o+g+g*.5;a.push(p),c.push(0)}c[c.length-1]++}return[a,c]}static normalDistribution(e=[],r=!0,n=1e-4){let i=this.mean(e),o=this.variance(e),s=e.length,a=[],c=1/(this.TWO_PI*o),d=1/o,g=0;for(let v=0;v<s;v++){let p=Math.exp(-.5*Math.pow((e[v]-i)*d,2))*c;p<n&&(p=0),a.push(p),g+=p}if(r){let v=1/g;a=a.map(p=>p*v)}return a}static expectedValue(e=[],r=this.normalDistribution(e)){return e.reduce((n,i,o)=>n+i*r[o])}static originMoment(e=[],r=this.normalDistribution(e),n=1){return e.reduce((i,o,s)=>i+Math.pow(o,n)*r[s])}static centralMoment(e=[],r=this.normalDistribution(e),n=1){let i=this.mean(e);return e.reduce((o,s,a)=>o+Math.pow(s-i,n)*r[a]/e.length)}static linearDiscriminantAnalysis(e=[],r=[]){let n=this.mean(e),i=this.mean(r),o=this.cov1d(e,r),s=this.normalDistribution(e),a=[];for(let c=0;c<e.length;c++)a.push(x[c]*o*i-.5*n*o*i+Math.log10(s[c]));return a}static conv1D(e=[],r=[1/3,1/3,1/3],n=Math.floor(r.length*.5)){let i=[],o=1/r.length;if(n>0){let c=new Array(n).fill(0);e=[...c,...e,...c]}let s=Math.floor(r.length*.5),a=e.length-r.length+s;for(let c=s;c<a;c++){let d=0;for(let g=0;g<r.length;g++)d+=e[c-s]*r[g];i.push(d*o)}return i}static conv2D(e=[[],[],[]],r=[[],[],[]],n=0){let i=new Array(e.length-Math.ceil(r.length*.5)).fill([]),o,s=yi.transpose(s);if(n>0){let k=new Array(n).fill(0);o=yi.transpose(e);for(let A=0;A<o.length;A++)o[A]=[...k,...o[A],...k];e=yi.transpose(o);for(let A=0;A<e.length;A++)e[A]=[...k,...e[A],...k]}let a=Math.floor(r[0].length*.5),c=Math.floor(s[0].length*.5),d=e[0].length-r[0].length+a,g=o[0].length-s[0].length+c,v=1/(r[0].length*s[0].length),p=d*g,w=a,b,I=c;for(;w<p;){let k=0;b=w%e[0].length,b===0&&I++;for(let A=0;A<r[0].length;A++){for(let D=0;D<s[0].length;A++)k+=e[I-c+D][b-a+A]*r[D][A];i[I].push(k*v)}w++}return i}static cov2d(e){var r=this.transpose(e),n=[],i=[],o=[];e.forEach((I,k)=>{i.push(this.mean(I))}),r.forEach((I,k)=>{o.push(this.mean(I))}),e.forEach((I,k)=>{n.push([]);for(var A=0;A<I.length;A++)n[k].push((e[k][A]-i[k])*(e[k][A]-o[A])/(I.length-1))});for(var s=this.transpose(n),a=n.length,c=n[0].length,d=s.length,g=s[0].length,v=new Array(a),p=0;p<a;++p){v[p]=new Array(g);for(var w=0;w<g;++w){v[p][w]=0;for(var b=0;b<c;++b)v[p][w]+=n[p][b]*s[b][w]/(e[0].length-1)}}return v}static cov1d(e=[],r=[]){return this.cov2d([e,r])}static cov3d(e=[],r=[],n=[]){return[[this.cov1d(e,e),this.cov1d(e,r),this.cov1d(e,n)],[this.cov1d(r,e),this.cov1d(r,r),this.cov1d(r,n)],[this.cov1d(n,e),this.cov1d(n,r),this.cov1d(n,n)]]}static covNd(e=[]){let r=[];e.forEach((n,i)=>{r.push([]),e.forEach((o,s)=>{r[i].push(this.cov1d(n,o))})})}static eigens2x2(e=[[1,2],[3,4]]){let r=e[0][0]*e[1][1]-e[0][1]*e[1][0],n=(e[0][0]+e[1][1])*.5,i=Math.sqrt(n*n-r),o=n+i,s=n-i;return[o,s]}static eigenvectors2x2(e=[[1,2],[3,4]],r=[1,2]){let n=[-e[0][1],e[0][0]-r[0]];n[0]===0&&n[1]===0&&(n[0]=e[1][1]-r[0],n[1]=-e[1][0]);let i=[-e[0][1],e[0][0]-r[1]];return i[0]===0&&i[1]===0&&(i[0]=e[1][1]-r[1],i[1]=-e[1][0]),[n,i]}static fastpca2d(e,r){let n=this.cov1d(e,r),i=this.eigens2x2(n);i[1]>i[0]&&i.reverse();let o=this.eigenvectors2x2(n,i);return console.log(i,o),[i,o]}static crosscorrelation(e,r){var n=[...r,...Array(r.length).fill(0)],i=this.mean(e),o=this.mean(r),s=e.reduce((p,w)=>p+=Math.pow(w-i,2));s=Math.sqrt(s);var a=r.reduce((p,w)=>p+=Math.pow(w-i,2));a=Math.sqrt(a);for(var c=1/(s*a),d=new Array(e.length).fill(0),g=0;g<e.length;g++){var v=e.reduce((p,w,b)=>p+=(w-i)*(n[g+b]-o));d[g]=v*c}return d}static autocorrelation(e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(e),i=e.reduce((d,g)=>d+=Math.pow(g-n,2));i=Math.sqrt(i);for(var o=1/(i*i),s=new Array(e.length).fill(0),a=0;a<e.length;a++){var c=e.reduce((d,g,v)=>d+=(g-n)*(r[a+v]-n));s[a]=c*o}return s}static correlograms(e=[[],[]]){var r=[];return e.forEach((n,i)=>{e.forEach((o,s)=>{s>=i&&r.push(yi.crosscorrelation(n,o))})}),r}static sma(e=[],r){for(var n=[],i=0;i<e.length;i++)if(i==0)n.push(e[0]);else if(i<r){var o=e.slice(0,i+1);n.push(o.reduce((s,a)=>a+=s)/(i+1))}else{var o=e.slice(i-r,i);n.push(o.reduce((a,c)=>c+=a)/r)}return n}static sum(e=[]){if(e.length>0){var r=e.reduce((n,i)=>i+=n);return r}else return 0}static reduceArrByFactor(e,r=2){return e.filter((i,o)=>o%r===0)}static makeArr(e,r,n){for(var i=[],o=(r-e)/(n-1),s=0;s<n;s++)i.push(e+o*s);return i}static interpolateArray(e,r,n=1){var i=function(p,w,b){return(p+(w-p)*b)*n},o=new Array,s=new Number((e.length-1)/(r-1));o[0]=e[0];for(var a=1;a<r-1;a++){var c=a*s,d=new Number(Math.floor(c)).toFixed(),g=new Number(Math.ceil(c)).toFixed(),v=c-d;o[a]=i(e[d],e[g],v)}return o[r-1]=e[e.length-1],o}static isExtrema(e,r="peak"){let n=[...e];if(n.length%2===0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}}else if(r==="valley"){if(o<Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}}else if(o<Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}}}return i}else return}static isCriticalPoint(e,r="peak"){let n=[...e];if(n.length%2===0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<n.length*.5&&s<=0){i=!1;break}else if(o>n.length*.5&&s>0){i=!1;break}}else if(r==="valley"){if(o<n.length*.5&&s>=0){i=!1;break}else if(o>n.length*.5&&s<0){i=!1;break}}else if(o<n.length*.5&&s>=0){i=!1;break}else if(o>n.length*.5&&s<0){i=!1;break}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<n.length*.5&&s<=0){i=!1;break}else if(o>n.length*.5&&s>0){i=!1;break}}}return i}else return}static getPeakThreshold(e,r,n){let i,o=e.filter((s,a)=>{if(r.indexOf(a)>-1)return!0});return n===0?i=this.mean(o):i=(n+this.mean(o))*.5,i}static column(e,r){let n=new Array(e.length).fill(0).map(()=>new Array(1).fill(0));for(let i=0;i<e.length;i++)n[i][0]=e[i][r];return n}static flatten_vector(e){let r=[];for(let n=0;n<e.length;n++)r[n]=e[n][0];return r}static squared_difference(e,r){let n=0;for(let i=0;i<e.length;i++)n=n+Math.pow(e[i]-r[i],2);return n}static shift_deflate(e,r,n){let i=Math.sqrt(this.matmul(this.transpose(n),n)),o=this.matscale(n,1/i),s=this.matscale(this.matmul(o,this.transpose(o)),r);return this.matsub(e,s)}static eigenvalue_of_vector(e,r){return ev=this.matmul(this.matmul(this.transpose(r),e),r),ev}static power_iteration(e,r=1e-5,n=1e3){let i=e.length,o=new Array(i).fill(0).map(()=>new Array(1).fill(Math.sqrt(i))),s=this.eigenvalue_of_vector(e,o),a=1,c=0;for(;a>r&&c<n;){let d=JSON.parse(JSON.stringify(s)),g=this.matmul(e,o);o=this.normalize(g),s=this.eigenvalue_of_vector(e,o),a=Math.abs(s-d),c++}return[s,o]}static eigens(e,r=1e-4,n=1e3){let i=[],o=[];for(let s=0;s<e.length;s++){let a=this.power_iteration(e,r,n),c=a[0],d=a[1];i[s]=c,o[s]=this.flatten_vector(d),e=this.shift_deflate(e,c,d)}return[i,o]}static pca(e,r=1e-5){let n=e.length,i=new Array(n),o=new Array(n),s=this.transpose(e);i[0]=this.column(e,0);let a=1,c=0;for(;espilon>r;){c++,o[0]=this.matmul(s,i[0]);let g=this.matmul(this.transpose(i[0]),i[0]);o[0]=this.matscale(o[0],1/g);let v=Math.sqrt(this.matmul(this.transpose(o[0]),o[0]));o[0]=this.matscale(o[0],1/v);let p=this.matmul(e,o[0]),w=this.matmul(this.transpose(o[0]),o[0]);p=this.matscale(p,1/w),a=this.squared_difference(i[0],p),i[0]=JSON.parse(JSON.stringify(p))}return this.matmul(this.transpose(i[0]),i[0])}static p300(e=[],r=[],n=[],i=256){let o=Math.floor(i/10),s=this.sma(r,o),a=this.peakDetect(s,"peak",o),c=this.mean(s),d=this.std(s,c),g=0,v=[];return a.length>0&&e.forEach((p,w)=>{for(;n[a[g]]<p+200&&(g++,!!a[g]););let b=0,I=[];for(;n[a[g+b]]<p+600&&(I.push(g+b),b++,!!a[g+b]););if(I.length>1){let k=[];I.forEach(Y=>{k.push(s[a[Y]])});let A=Math.max(...k),D=I[k.indexOf(A)];v.push({event_timestamp:p,event_index:w,peak_timestamp:n[[a[D]]],signal_index:[a[D]],signal_amplitude:r[[a[D]]],zscore:(s[a[D]]-c)/d})}else I.length===1&&v.push({event_timestamp:p,event_index:w,peak_timestamp:n[a[I[0]]],signal_index:a[I[0]],signal_amplitude:r[[a[I[0]]]],zscore:(s[a[I[0]]]-c)/d})}),v}},De=yi;Ue(De,"TWO_PI",Math.PI*2),Ue(De,"C",299792458),Ue(De,"G",66743e-15),Ue(De,"h",662607015e-42),Ue(De,"R",8314.32),Ue(De,"Ra",287),Ue(De,"H",69.3),Ue(De,"kbar",1054571817e-43),Ue(De,"kB",1380649e-29),Ue(De,"ke",89875517923e-1),Ue(De,"me",91093837015e-41),Ue(De,"mp",167262192369e-38),Ue(De,"mn",167492749804e-38),Ue(De,"P0",101325),Ue(De,"T0",288.15),Ue(De,"p0",1.225),Ue(De,"Na",60220978e16),Ue(De,"y",1.405),Ue(De,"M0",28.96643),Ue(De,"g0",9.80665),Ue(De,"Re",6378100),Ue(De,"B",1458e-9),Ue(De,"S",110.4),Ue(De,"Sigma",365e-12),Ue(De,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),Ue(De,"integral",(e=i=>i,r=[],n=.01)=>{let i=0;for(let o=r[0];o<r[1];o+=n)i+=e(o)*n;return i}),Ue(De,"dintegral",(e=(o,s)=>o+s,r=[[],[]],n=.01,i=n)=>{let o=0;for(let s=r[0][0]+n;s<r[0][1];s+=n)for(let a=r[1][0]+i;a<r[1][1];a+=i)o+=e(s,a)*n*i;return o}),Ue(De,"tintegral",(e=(s,a,c)=>s+a+c,r=[[],[],[]],n=.01,i=n,o=n)=>{let s=0;for(let a=r[0][0]+n;a<r[0][1];a+=n)for(let c=r[1][0]+i;c<r[1][1];c+=i)for(let d=r[2][0]+o;d<r[2][1];d+=o)s+=e(a,c,d)*n*i*o;return s}),Ue(De,"pintegral",(e=i=>i,r=[],n=.01)=>{let i=0,o,s;for(let a=r[0];a<r[1];a+=n)o=s,s=e(a),o&&(i+=yi.distance([0,o],[n,s]));return i}),Ue(De,"peakDetect",(e,r="peak",n=49)=>{let i=Math.floor(n*.5),o=[];for(let s=0;s<e.length-n;s++)yi.isExtrema(e.slice(s,s+n),r)&&o.push(s+i-1);return o});var ps=200,Hp=50,al=De.genSineWave(.9,500,ps,Hp,60,50),$p=De.genSineWave(.9,700,ps,Hp,60,50),Gb=De.linspace(Date.now()-ps*1e3,Date.now(),200);al=De.vecadd(al,new Array(al.length).fill(5e3));$p=De.vecadd(al,new Array($p.length).fill(5500));var ff=6,YN=2,KN=Fn.PPGStruct("dummyppg",{red:al,ir:$p,times:Gb,count:ps*Hp,startTime:Gb[0]}),hf=[],ZN=[];for(let t=ps/60;t>0;t--){let e=0;for(;e<ff;)hf.push(Date.now()-t*ps+e/1e3),ZN.push(ff),KN.beat_detect.breaths.push({t:hf[hf.length-1],rate:ff}),e++;ff-=YN}var iI=Fn.IMUStruct("dummyimu",{}),oI=Fn.ECGStruct("dummyecg",{}),sI=Fn.EMGStruct("dummyemg",{});function Yb(){return te(this,null,function*(){let t=yield XN(),e=yield QN(t.user,t.peer),r=yield eT(t.user,t.peer),n=yield tT(),i={users:t,auths:e,chatroomres:r,pnotes:n};return console.log("results",i),i})}function XN(){return te(this,null,function*(){let t=yield dc(),e=yield aS();return console.log("user",t,"peer",e),{user:t,peer:e}})}function QN(){return te(this,arguments,function*(t=Ya,e=Ka){let r=yield He.authorizeUser(t,t._id,void 0,e._id,void 0,["peer"]);console.log(t._id);let n=yield Qr.authorizeUser(e,t._id,void 0,e._id,void 0,["peer"]);return console.log("user-owned auth:",r,`
peer-owned auth:`,n),console.log("auths",r,n),{userauth:r,peerauth:n}})}function eT(){return te(this,arguments,function*(t=Ya,e=Ka){let r=He.getLocalData("chatroom"),n;r?r.length>0?n=r[0]:n=yield He.addChatroom(t,t._id,"this is the first comment",void 0,[e._id],!0):n=yield He.addChatroom(t,t._id,"this is the first comment",void 0,[e._id],!0);let i,o;return n&&(i=yield He.addComment(t,n,n,t._id,"don't go there girlfrienddd"),console.log("new comment",i),setTimeout(()=>te(this,null,function*(){o=yield He.addComment(t,n,i,t._id,"update: you did")}),1e3)),console.log("chatroom and comment 1",n,i),{chatroom:n,comment:i}})}function tT(){return te(this,null,function*(){if(yield Qr.checkForNotifications())return yield Qr.resolveNotifications()})}var Gp=class extends no{componentDidMount(){return te(this,null,function*(){let e=yield Yb();console.log(e)})}render(){return Jp.default.createElement("div",null,Jp.default.createElement("div",null,"DEV TEST (see console -- Press F12)"))}};os();var rT=()=>Jt.default.createElement("img",{src:"src/assets/myalyce.png",width:"100px",alt:"MyAlyce"}),Kb=!0,Yp=class extends no{constructor(){super(...arguments);this.state={isLoggedIn:!1,navOpen:!1,route:"/"}}onLoginClick(e){Ja(e.email,e.password).then(r=>te(this,null,function*(){let n=yield Ga(r);n&&(yield Yo(n))}))}onGoogleLoginClick(){Ja("google").then(e=>te(this,null,function*(){let r=yield Ga(e);r&&(yield Yo(r))}))}setNavOpen(e){this.setState({navOpen:e})}render(){var e,r;return console.log(this.state.route),Jt.default.createElement("div",null,!this.state.isLoggedIn&&!Kb&&Jt.default.createElement(Zb.Login,{useRegularLogin:!0,onLoginClick:this.onLoginClick,thirdPartyLogins:[{name:"google",logo:Jt.default.createElement("img",{src:"src/assets/google.png",width:"50px"}),onClick:this.onGoogleLoginClick}]}),(this.state.isLoggedIn||Kb)&&Jt.default.createElement("div",null,Jt.default.createElement(ys.NavDrawer,{fixed:"left",zIndex:102,isOpen:this.state.navOpen,brand:rT(),onBackdropClick:()=>this.setState({navOpen:!1}),menuItems:[{type:"action",icon:"D",onClick:()=>this.setState({route:"/dashboard",navOpen:!1}),title:"Dashboard"},{type:"action",icon:"P",onClick:()=>this.setState({route:"/peers",navOpen:!1}),title:"Peers & Groups"},{type:"action",icon:"S",onClick:()=>this.setState({route:"/settings",navOpen:!1}),title:"Profile Settings"},{type:"action",icon:"D",onClick:()=>this.setState({route:"/dev",navOpen:!1}),title:"DEV MODE"}]}),Jt.default.createElement("div",{id:"view"},Jt.default.createElement(ys.TopBar,{zIndex:0,onMenuExpand:()=>{let n=!this.state.navOpen;this.setState({navOpen:n})},rightNavItems:[{children:Jt.default.createElement(ys.Avatar,{dataState:"done",imgSrc:"src/assets/person.png",size:"xs",status:"online",name:{first:(e=He.currentUser)==null?void 0:e.firstName,last:(r=He.currentUser)==null?void 0:r.lastName},backgroundColor:"lightblue"}),onClick:()=>{}},{children:Jt.default.createElement("p",{style:{fontSize:"16px"}},"logout"),onClick:()=>{}}]}),Jt.default.createElement("div",{id:"viewcontent"},Jt.default.createElement("div",{id:"route"},(this.state.route.includes("dashboard")||this.state.route==="/"||this.state.route==="")&&Jt.default.createElement(Vp,null),this.state.route.includes("peers")&&Jt.default.createElement(Wp,null),this.state.route.includes("settings")&&Jt.default.createElement(qp,null),this.state.route.includes("dev")&&Jt.default.createElement(Gp,null))))))}};var nT=!0;nT&&document.head.insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="dist/app.css" type="text/css" />');Xb.default.render(Kp.default.createElement(Jv,null,Kp.default.createElement(Yp,null)),document.getElementById("react"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * React Router DOM v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=app.js.map
