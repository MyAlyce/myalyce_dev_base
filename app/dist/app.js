(()=>{var xx=Object.create;var Gl=Object.defineProperty;var Ox=Object.getOwnPropertyDescriptor;var kx=Object.getOwnPropertyNames,ng=Object.getOwnPropertySymbols,Tx=Object.getPrototypeOf,ig=Object.prototype.hasOwnProperty,Nx=Object.prototype.propertyIsEnumerable;var og=Math.pow,mh=(t,e,r)=>e in t?Gl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jl=(t,e)=>{for(var r in e||(e={}))ig.call(e,r)&&mh(t,r,e[r]);if(ng)for(var r of ng(e))Nx.call(e,r)&&mh(t,r,e[r]);return t};var Ax=t=>Gl(t,"__esModule",{value:!0});var Ix=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var tt=(t,e)=>()=>(t&&(e=t(t=0)),e);var ve=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Dx=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of kx(e))!ig.call(t,i)&&(r||i!=="default")&&Gl(t,i,{get:()=>e[i],enumerable:!(n=Ox(e,i))||n.enumerable});return t},Ft=(t,e)=>Dx(Ax(Gl(t!=null?xx(Tx(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var $e=(t,e,r)=>(mh(t,typeof e!="symbol"?e+"":e,r),r);var ee=(t,e,r)=>new Promise((n,i)=>{var o=c=>{try{a(r.next(c))}catch(d){i(d)}},s=c=>{try{a(r.throw(c))}catch(d){i(d)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,s);a((r=r.apply(t,e)).next())});var gh=ve((mI,ag)=>{"use strict";var sg=Object.getOwnPropertySymbols,Rx=Object.prototype.hasOwnProperty,Fx=Object.prototype.propertyIsEnumerable;function Cx(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Px(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}ag.exports=Px()?Object.assign:function(t,e){for(var r,n=Cx(t),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)Rx.call(r,s)&&(n[s]=r[s]);if(sg){i=sg(r);for(var a=0;a<i.length;a++)Fx.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}});var Eg=ve(Ue=>{"use strict";var wh=gh(),Co=60103,cg=60106;Ue.Fragment=60107;Ue.StrictMode=60108;Ue.Profiler=60114;var fg=60109,hg=60110,dg=60112;Ue.Suspense=60113;var pg=60115,yg=60116;typeof Symbol=="function"&&Symbol.for&&(qr=Symbol.for,Co=qr("react.element"),cg=qr("react.portal"),Ue.Fragment=qr("react.fragment"),Ue.StrictMode=qr("react.strict_mode"),Ue.Profiler=qr("react.profiler"),fg=qr("react.provider"),hg=qr("react.context"),dg=qr("react.forward_ref"),Ue.Suspense=qr("react.suspense"),pg=qr("react.memo"),yg=qr("react.lazy"));var qr,lg=typeof Symbol=="function"&&Symbol.iterator;function jx(t){return t===null||typeof t!="object"?null:(t=lg&&t[lg]||t["@@iterator"],typeof t=="function"?t:null)}function Qs(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gg={};function Po(t,e,r){this.props=t,this.context=e,this.refs=gg,this.updater=r||mg}Po.prototype.isReactComponent={};Po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Qs(85));this.updater.enqueueSetState(this,t,e,"setState")};Po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vg(){}vg.prototype=Po.prototype;function _h(t,e,r){this.props=t,this.context=e,this.refs=gg,this.updater=r||mg}var Sh=_h.prototype=new vg;Sh.constructor=_h;wh(Sh,Po.prototype);Sh.isPureReactComponent=!0;var bh={current:null},wg=Object.prototype.hasOwnProperty,_g={key:!0,ref:!0,__self:!0,__source:!0};function Sg(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)wg.call(e,n)&&!_g.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Co,type:t,key:o,ref:s,props:i,_owner:bh.current}}function Lx(t,e){return{$$typeof:Co,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Eh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Co}function Mx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ug=/\/+/g;function vh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mx(""+t.key):e.toString(36)}function Kl(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Co:case cg:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+vh(s,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(ug,"$&/")+"/"),Kl(i,e,r,"",function(d){return d})):i!=null&&(Eh(i)&&(i=Lx(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ug,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Array.isArray(t))for(var a=0;a<t.length;a++){o=t[a];var c=n+vh(o,a);s+=Kl(o,e,r,c,i)}else if(c=jx(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=n+vh(o,a++),s+=Kl(o,e,r,c,i);else if(o==="object")throw e=""+t,Error(Qs(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function Yl(t,e,r){if(t==null)return t;var n=[],i=0;return Kl(t,n,"","",function(o){return e.call(r,o,i++)}),n}function Bx(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var bg={current:null};function jn(){var t=bg.current;if(t===null)throw Error(Qs(321));return t}var Ux={ReactCurrentDispatcher:bg,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:bh,IsSomeRendererActing:{current:!1},assign:wh};Ue.Children={map:Yl,forEach:function(t,e,r){Yl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Yl(t,function(){e++}),e},toArray:function(t){return Yl(t,function(e){return e})||[]},only:function(t){if(!Eh(t))throw Error(Qs(143));return t}};Ue.Component=Po;Ue.PureComponent=_h;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ux;Ue.cloneElement=function(t,e,r){if(t==null)throw Error(Qs(267,t));var n=wh({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=bh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)wg.call(e,c)&&!_g.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:Co,type:t.type,key:i,ref:o,props:n,_owner:s}};Ue.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:hg,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:fg,_context:t},t.Consumer=t};Ue.createElement=Sg;Ue.createFactory=function(t){var e=Sg.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:dg,render:t}};Ue.isValidElement=Eh;Ue.lazy=function(t){return{$$typeof:yg,_payload:{_status:-1,_result:t},_init:Bx}};Ue.memo=function(t,e){return{$$typeof:pg,type:t,compare:e===void 0?null:e}};Ue.useCallback=function(t,e){return jn().useCallback(t,e)};Ue.useContext=function(t,e){return jn().useContext(t,e)};Ue.useDebugValue=function(){};Ue.useEffect=function(t,e){return jn().useEffect(t,e)};Ue.useImperativeHandle=function(t,e,r){return jn().useImperativeHandle(t,e,r)};Ue.useLayoutEffect=function(t,e){return jn().useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return jn().useMemo(t,e)};Ue.useReducer=function(t,e,r){return jn().useReducer(t,e,r)};Ue.useRef=function(t){return jn().useRef(t)};Ue.useState=function(t){return jn().useState(t)};Ue.version="17.0.2"});var je=ve((vI,xg)=>{"use strict";xg.exports=Eg()});var Ig=ve(We=>{"use strict";var Lo,ra,eu,Ih;typeof performance=="object"&&typeof performance.now=="function"?(Og=performance,We.unstable_now=function(){return Og.now()}):(xh=Date,kg=xh.now(),We.unstable_now=function(){return xh.now()-kg});var Og,xh,kg;typeof window>"u"||typeof MessageChannel!="function"?(jo=null,Oh=null,kh=function(){if(jo!==null)try{var t=We.unstable_now();jo(!0,t),jo=null}catch(e){throw setTimeout(kh,0),e}},Lo=function(t){jo!==null?setTimeout(Lo,0,t):(jo=t,setTimeout(kh,0))},ra=function(t,e){Oh=setTimeout(t,e)},eu=function(){clearTimeout(Oh)},We.unstable_shouldYield=function(){return!1},Ih=We.unstable_forceFrameRate=function(){}):(Tg=window.setTimeout,Ng=window.clearTimeout,typeof console<"u"&&(Ag=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Ag!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),ea=!1,ta=null,Zl=-1,Th=5,Nh=0,We.unstable_shouldYield=function(){return We.unstable_now()>=Nh},Ih=function(){},We.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Th=0<t?Math.floor(1e3/t):5},Ah=new MessageChannel,Xl=Ah.port2,Ah.port1.onmessage=function(){if(ta!==null){var t=We.unstable_now();Nh=t+Th;try{ta(!0,t)?Xl.postMessage(null):(ea=!1,ta=null)}catch(e){throw Xl.postMessage(null),e}}else ea=!1},Lo=function(t){ta=t,ea||(ea=!0,Xl.postMessage(null))},ra=function(t,e){Zl=Tg(function(){t(We.unstable_now())},e)},eu=function(){Ng(Zl),Zl=-1});var jo,Oh,kh,Tg,Ng,Ag,ea,ta,Zl,Th,Nh,Ah,Xl;function Dh(t,e){var r=t.length;t.push(e);e:for(;;){var n=r-1>>>1,i=t[n];if(i!==void 0&&0<Ql(i,e))t[n]=e,t[r]=i,r=n;else break e}}function sn(t){return t=t[0],t===void 0?null:t}function tu(t){var e=t[0];if(e!==void 0){var r=t.pop();if(r!==e){t[0]=r;e:for(var n=0,i=t.length;n<i;){var o=2*(n+1)-1,s=t[o],a=o+1,c=t[a];if(s!==void 0&&0>Ql(s,r))c!==void 0&&0>Ql(c,s)?(t[n]=c,t[a]=r,n=a):(t[n]=s,t[o]=r,n=o);else if(c!==void 0&&0>Ql(c,r))t[n]=c,t[a]=r,n=a;else break e}}return e}return null}function Ql(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}var bn=[],Zn=[],zx=1,Wr=null,rr=3,ru=!1,qi=!1,na=!1;function Rh(t){for(var e=sn(Zn);e!==null;){if(e.callback===null)tu(Zn);else if(e.startTime<=t)tu(Zn),e.sortIndex=e.expirationTime,Dh(bn,e);else break;e=sn(Zn)}}function Fh(t){if(na=!1,Rh(t),!qi)if(sn(bn)!==null)qi=!0,Lo(Ch);else{var e=sn(Zn);e!==null&&ra(Fh,e.startTime-t)}}function Ch(t,e){qi=!1,na&&(na=!1,eu()),ru=!0;var r=rr;try{for(Rh(e),Wr=sn(bn);Wr!==null&&(!(Wr.expirationTime>e)||t&&!We.unstable_shouldYield());){var n=Wr.callback;if(typeof n=="function"){Wr.callback=null,rr=Wr.priorityLevel;var i=n(Wr.expirationTime<=e);e=We.unstable_now(),typeof i=="function"?Wr.callback=i:Wr===sn(bn)&&tu(bn),Rh(e)}else tu(bn);Wr=sn(bn)}if(Wr!==null)var o=!0;else{var s=sn(Zn);s!==null&&ra(Fh,s.startTime-e),o=!1}return o}finally{Wr=null,rr=r,ru=!1}}var Vx=Ih;We.unstable_IdlePriority=5;We.unstable_ImmediatePriority=1;We.unstable_LowPriority=4;We.unstable_NormalPriority=3;We.unstable_Profiling=null;We.unstable_UserBlockingPriority=2;We.unstable_cancelCallback=function(t){t.callback=null};We.unstable_continueExecution=function(){qi||ru||(qi=!0,Lo(Ch))};We.unstable_getCurrentPriorityLevel=function(){return rr};We.unstable_getFirstCallbackNode=function(){return sn(bn)};We.unstable_next=function(t){switch(rr){case 1:case 2:case 3:var e=3;break;default:e=rr}var r=rr;rr=e;try{return t()}finally{rr=r}};We.unstable_pauseExecution=function(){};We.unstable_requestPaint=Vx;We.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=rr;rr=t;try{return e()}finally{rr=r}};We.unstable_scheduleCallback=function(t,e,r){var n=We.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,t={id:zx++,callback:e,priorityLevel:t,startTime:r,expirationTime:i,sortIndex:-1},r>n?(t.sortIndex=r,Dh(Zn,t),sn(bn)===null&&t===sn(Zn)&&(na?eu():na=!0,ra(Fh,r-n))):(t.sortIndex=i,Dh(bn,t),qi||ru||(qi=!0,Lo(Ch))),t};We.unstable_wrapCallback=function(t){var e=rr;return function(){var r=rr;rr=e;try{return t.apply(this,arguments)}finally{rr=r}}}});var Rg=ve((_I,Dg)=>{"use strict";Dg.exports=Ig()});var ww=ve(Zr=>{"use strict";var Yu=je(),ft=gh(),Ut=Rg();function ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Yu)throw Error(ge(227));var W1=new Set,Fa={};function to(t,e){is(t,e),is(t+"Capture",e)}function is(t,e){for(Fa[t]=e,t=0;t<e.length;t++)W1.add(e[t])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fg=Object.prototype.hasOwnProperty,Cg={},Pg={};function qx(t){return Fg.call(Pg,t)?!0:Fg.call(Cg,t)?!1:$x.test(t)?Pg[t]=!0:(Cg[t]=!0,!1)}function Wx(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hx(t,e,r,n){if(e===null||typeof e>"u"||Wx(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ur(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yt[t]=new ur(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yt[e]=new ur(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yt[t]=new ur(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yt[t]=new ur(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yt[t]=new ur(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yt[t]=new ur(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yt[t]=new ur(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yt[t]=new ur(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yt[t]=new ur(t,5,!1,t.toLowerCase(),null,!1,!1)});var $d=/[\-:]([a-z])/g;function qd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($d,qd);Yt[e]=new ur(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($d,qd);Yt[e]=new ur(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($d,qd);Yt[e]=new ur(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yt[t]=new ur(t,1,!1,t.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yt[t]=new ur(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wd(t,e,r,n){var i=Yt.hasOwnProperty(e)?Yt[e]:null,o=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(Hx(e,r,i,n)&&(r=null),n||i===null?qx(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ro=Yu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ma=60103,Hi=60106,Qn=60107,Hd=60108,Sa=60114,Gd=60109,Jd=60110,Ku=60112,ba=60113,ku=60120,Zu=60115,Yd=60116,Kd=60121,Zd=60128,H1=60129,Xd=60130,nd=60131;typeof Symbol=="function"&&Symbol.for&&(jt=Symbol.for,ma=jt("react.element"),Hi=jt("react.portal"),Qn=jt("react.fragment"),Hd=jt("react.strict_mode"),Sa=jt("react.profiler"),Gd=jt("react.provider"),Jd=jt("react.context"),Ku=jt("react.forward_ref"),ba=jt("react.suspense"),ku=jt("react.suspense_list"),Zu=jt("react.memo"),Yd=jt("react.lazy"),Kd=jt("react.block"),jt("react.scope"),Zd=jt("react.opaque.id"),H1=jt("react.debug_trace_mode"),Xd=jt("react.offscreen"),nd=jt("react.legacy_hidden"));var jt,jg=typeof Symbol=="function"&&Symbol.iterator;function ia(t){return t===null||typeof t!="object"?null:(t=jg&&t[jg]||t["@@iterator"],typeof t=="function"?t:null)}var Ph;function ga(t){if(Ph===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ph=e&&e[1]||""}return`
`+Ph+t}var jh=!1;function nu(t,e){if(!t||jh)return"";jh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{jh=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ga(t):""}function Gx(t){switch(t.tag){case 5:return ga(t.type);case 16:return ga("Lazy");case 13:return ga("Suspense");case 19:return ga("SuspenseList");case 0:case 2:case 15:return t=nu(t.type,!1),t;case 11:return t=nu(t.type.render,!1),t;case 22:return t=nu(t.type._render,!1),t;case 1:return t=nu(t.type,!0),t;default:return""}}function Jo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qn:return"Fragment";case Hi:return"Portal";case Sa:return"Profiler";case Hd:return"StrictMode";case ba:return"Suspense";case ku:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jd:return(t.displayName||"Context")+".Consumer";case Gd:return(t._context.displayName||"Context")+".Provider";case Ku:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Zu:return Jo(t.type);case Kd:return Jo(t._render);case Yd:e=t._payload,t=t._init;try{return Jo(t(e))}catch{}}return null}function fi(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function G1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jx(t){var e=G1(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function iu(t){t._valueTracker||(t._valueTracker=Jx(t))}function J1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=G1(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function id(t,e){var r=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Lg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Y1(t,e){e=e.checked,e!=null&&Wd(t,"checked",e,!1)}function od(t,e){Y1(t,e);var r=fi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sd(t,e.type,r):e.hasOwnProperty("defaultValue")&&sd(t,e.type,fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function sd(t,e,r){(e!=="number"||Tu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function Yx(t){var e="";return Yu.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function ad(t,e){return t=ft({children:void 0},e),(e=Yx(e.children))&&(t.children=e),t}function Yo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ld(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ge(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ge(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(ge(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fi(r)}}function K1(t,e){var r=fi(e.value),n=fi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ug(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var ud={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Z1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Z1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ou,X1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==ud.svg||"innerHTML"in t)t.innerHTML=e;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ca(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ea={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kx=["Webkit","ms","Moz","O"];Object.keys(Ea).forEach(function(t){Kx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ea[e]=Ea[t]})});function Q1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ea.hasOwnProperty(t)&&Ea[t]?(""+e).trim():e+"px"}function tv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Q1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Zx=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fd(t,e){if(e){if(Zx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ge(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ge(62))}}function hd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Qd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dd=null,Ko=null,Zo=null;function zg(t){if(t=Ja(t)){if(typeof dd!="function")throw Error(ge(280));var e=t.stateNode;e&&(e=nc(e),dd(t.stateNode,t.type,e))}}function rv(t){Ko?Zo?Zo.push(t):Zo=[t]:Ko=t}function nv(){if(Ko){var t=Ko,e=Zo;if(Zo=Ko=null,zg(t),e)for(t=0;t<e.length;t++)zg(e[t])}}function e0(t,e){return t(e)}function iv(t,e,r,n,i){return t(e,r,n,i)}function t0(){}var ov=e0,Gi=!1,Lh=!1;function r0(){(Ko!==null||Zo!==null)&&(t0(),nv())}function Xx(t,e,r){if(Lh)return t(e,r);Lh=!0;try{return ov(t,e,r)}finally{Lh=!1,r0()}}function Pa(t,e){var r=t.stateNode;if(r===null)return null;var n=nc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ge(231,e,typeof r));return r}var pd=!1;if(Vn)try{Mo={},Object.defineProperty(Mo,"passive",{get:function(){pd=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{pd=!1}var Mo;function Qx(t,e,r,n,i,o,s,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(m){this.onError(m)}}var xa=!1,Nu=null,Au=!1,yd=null,eO={onError:function(t){xa=!0,Nu=t}};function tO(t,e,r,n,i,o,s,a,c){xa=!1,Nu=null,Qx.apply(eO,arguments)}function rO(t,e,r,n,i,o,s,a,c){if(tO.apply(this,arguments),xa){if(xa){var d=Nu;xa=!1,Nu=null}else throw Error(ge(198));Au||(Au=!0,yd=d)}}function no(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function sv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vg(t){if(no(t)!==t)throw Error(ge(188))}function nO(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(ge(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Vg(i),t;if(o===n)return Vg(i),e;o=o.sibling}throw Error(ge(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?t:e}function av(t){if(t=nO(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function $g(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var lv,n0,uv,cv,md=!1,En=[],ni=null,ii=null,oi=null,ja=new Map,La=new Map,oa=[],qg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gd(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function Wg(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":ja.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(e.pointerId)}}function sa(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t=gd(e,r,n,i,o),e!==null&&(e=Ja(e),e!==null&&n0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iO(t,e,r,n,i){switch(e){case"focusin":return ni=sa(ni,t,e,r,n,i),!0;case"dragenter":return ii=sa(ii,t,e,r,n,i),!0;case"mouseover":return oi=sa(oi,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return ja.set(o,sa(ja.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,La.set(o,sa(La.get(o)||null,t,e,r,n,i)),!0}return!1}function oO(t){var e=Ji(t.target);if(e!==null){var r=no(e);if(r!==null){if(e=r.tag,e===13){if(e=sv(r),e!==null){t.blockedOn=e,cv(t.lanePriority,function(){Ut.unstable_runWithPriority(t.priority,function(){uv(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=a0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Ja(r),e!==null&&n0(e),t.blockedOn=r,!1;e.shift()}return!0}function Hg(t,e,r){mu(t)&&r.delete(e)}function sO(){for(md=!1;0<En.length;){var t=En[0];if(t.blockedOn!==null){t=Ja(t.blockedOn),t!==null&&lv(t);break}for(var e=t.targetContainers;0<e.length;){var r=a0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&En.shift()}ni!==null&&mu(ni)&&(ni=null),ii!==null&&mu(ii)&&(ii=null),oi!==null&&mu(oi)&&(oi=null),ja.forEach(Hg),La.forEach(Hg)}function aa(t,e){t.blockedOn===e&&(t.blockedOn=null,md||(md=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,sO)))}function fv(t){function e(i){return aa(i,t)}if(0<En.length){aa(En[0],t);for(var r=1;r<En.length;r++){var n=En[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ni!==null&&aa(ni,t),ii!==null&&aa(ii,t),oi!==null&&aa(oi,t),ja.forEach(e),La.forEach(e),r=0;r<oa.length;r++)n=oa[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<oa.length&&(r=oa[0],r.blockedOn===null);)oO(r),r.blockedOn===null&&oa.shift()}function su(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Vo={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},Mh={},hv={};Vn&&(hv=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Xu(t){if(Mh[t])return Mh[t];if(!Vo[t])return t;var e=Vo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in hv)return Mh[t]=e[r];return t}var dv=Xu("animationend"),pv=Xu("animationiteration"),yv=Xu("animationstart"),mv=Xu("transitionend"),gv=new Map,i0=new Map,aO=["abort","abort",dv,"animationEnd",pv,"animationIteration",yv,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",mv,"transitionEnd","waiting","waiting"];function o0(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),i0.set(n,e),gv.set(n,i),to(i,[n])}}var lO=Ut.unstable_now;lO();var rt=8;function Uo(t){if((1&t)!==0)return rt=15,1;if((2&t)!==0)return rt=14,2;if((4&t)!==0)return rt=13,4;var e=24&t;return e!==0?(rt=12,e):(t&32)!==0?(rt=11,32):(e=192&t,e!==0?(rt=10,e):(t&256)!==0?(rt=9,256):(e=3584&t,e!==0?(rt=8,e):(t&4096)!==0?(rt=7,4096):(e=4186112&t,e!==0?(rt=6,e):(e=62914560&t,e!==0?(rt=5,e):t&67108864?(rt=4,67108864):(t&134217728)!==0?(rt=3,134217728):(e=805306368&t,e!==0?(rt=2,e):(1073741824&t)!==0?(rt=1,1073741824):(rt=8,t))))))}function uO(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function cO(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ge(358,t))}}function Ma(t,e){var r=t.pendingLanes;if(r===0)return rt=0;var n=0,i=0,o=t.expiredLanes,s=t.suspendedLanes,a=t.pingedLanes;if(o!==0)n=o,i=rt=15;else if(o=r&134217727,o!==0){var c=o&~s;c!==0?(n=Uo(c),i=rt):(a&=o,a!==0&&(n=Uo(a),i=rt))}else o=r&~s,o!==0?(n=Uo(o),i=rt):a!==0&&(n=Uo(a),i=rt);if(n===0)return 0;if(n=31-hi(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&(e&s)===0){if(Uo(e),i<=rt)return e;rt=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-hi(e),i=1<<r,n|=t[r],e&=~i;return n}function vv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Iu(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=zo(24&~e),t===0?Iu(10,e):t;case 10:return t=zo(192&~e),t===0?Iu(8,e):t;case 8:return t=zo(3584&~e),t===0&&(t=zo(4186112&~e),t===0&&(t=512)),t;case 2:return e=zo(805306368&~e),e===0&&(e=268435456),e}throw Error(ge(358,t))}function zo(t){return t&-t}function Bh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Qu(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-hi(e),t[e]=r}var hi=Math.clz32?Math.clz32:dO,fO=Math.log,hO=Math.LN2;function dO(t){return t===0?32:31-(fO(t)/hO|0)|0}var pO=Ut.unstable_UserBlockingPriority,yO=Ut.unstable_runWithPriority,gu=!0;function mO(t,e,r,n){Gi||t0();var i=s0,o=Gi;Gi=!0;try{iv(i,t,e,r,n)}finally{(Gi=o)||r0()}}function gO(t,e,r,n){yO(pO,s0.bind(null,t,e,r,n))}function s0(t,e,r,n){if(gu){var i;if((i=(e&4)===0)&&0<En.length&&-1<qg.indexOf(t))t=gd(null,t,e,r,n),En.push(t);else{var o=a0(t,e,r,n);if(o===null)i&&Wg(t,n);else{if(i){if(-1<qg.indexOf(t)){t=gd(o,t,e,r,n),En.push(t);return}if(iO(o,t,e,r,n))return;Wg(t,n)}Dv(t,e,n,null,r)}}}}function a0(t,e,r,n){var i=Qd(n);if(i=Ji(i),i!==null){var o=no(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=sv(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dv(t,e,n,i,r),null}var ei=null,l0=null,vu=null;function wv(){if(vu)return vu;var t,e=l0,r=e.length,n,i="value"in ei?ei.value:ei.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return vu=i.slice(t,1<n?1-n:void 0)}function wu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function au(){return!0}function Gg(){return!1}function Cr(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?au:Gg,this.isPropagationStopped=Gg,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),e}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u0=Cr(ls),Ga=ft({},ls,{view:0,detail:0}),vO=Cr(Ga),Uh,zh,la,ec=ft({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==la&&(la&&t.type==="mousemove"?(Uh=t.screenX-la.screenX,zh=t.screenY-la.screenY):zh=Uh=0,la=t),Uh)},movementY:function(t){return"movementY"in t?t.movementY:zh}}),Jg=Cr(ec),wO=ft({},ec,{dataTransfer:0}),_O=Cr(wO),SO=ft({},Ga,{relatedTarget:0}),Vh=Cr(SO),bO=ft({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),EO=Cr(bO),xO=ft({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OO=Cr(xO),kO=ft({},ls,{data:0}),Yg=Cr(kO),TO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AO[t])?!!e[t]:!1}function c0(){return IO}var DO=ft({},Ga,{key:function(t){if(t.key){var e=TO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c0,charCode:function(t){return t.type==="keypress"?wu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RO=Cr(DO),FO=ft({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=Cr(FO),CO=ft({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c0}),PO=Cr(CO),jO=ft({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),LO=Cr(jO),MO=ft({},ec,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BO=Cr(MO),UO=[9,13,27,32],f0=Vn&&"CompositionEvent"in window,Oa=null;Vn&&"documentMode"in document&&(Oa=document.documentMode);var zO=Vn&&"TextEvent"in window&&!Oa,_v=Vn&&(!f0||Oa&&8<Oa&&11>=Oa),Zg=String.fromCharCode(32),Xg=!1;function Sv(t,e){switch(t){case"keyup":return UO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function VO(t,e){switch(t){case"compositionend":return bv(e);case"keypress":return e.which!==32?null:(Xg=!0,Zg);case"textInput":return t=e.data,t===Zg&&Xg?null:t;default:return null}}function $O(t,e){if($o)return t==="compositionend"||!f0&&Sv(t,e)?(t=wv(),vu=l0=ei=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _v&&e.locale!=="ko"?null:e.data;default:return null}}var qO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qO[t.type]:e==="textarea"}function Ev(t,e,r,n){rv(n),e=Du(e,"onChange"),0<e.length&&(r=new u0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ka=null,Ba=null;function WO(t){Nv(t,0)}function tc(t){var e=Wo(t);if(J1(e))return t}function HO(t,e){if(t==="change")return e}var xv=!1;Vn&&(Vn?(uu="oninput"in document,uu||($h=document.createElement("div"),$h.setAttribute("oninput","return;"),uu=typeof $h.oninput=="function"),lu=uu):lu=!1,xv=lu&&(!document.documentMode||9<document.documentMode));var lu,uu,$h;function e1(){ka&&(ka.detachEvent("onpropertychange",Ov),Ba=ka=null)}function Ov(t){if(t.propertyName==="value"&&tc(Ba)){var e=[];if(Ev(e,Ba,t,Qd(t)),t=WO,Gi)t(e);else{Gi=!0;try{e0(t,e)}finally{Gi=!1,r0()}}}}function GO(t,e,r){t==="focusin"?(e1(),ka=e,Ba=r,ka.attachEvent("onpropertychange",Ov)):t==="focusout"&&e1()}function JO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(Ba)}function YO(t,e){if(t==="click")return tc(e)}function KO(t,e){if(t==="input"||t==="change")return tc(e)}function ZO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hr=typeof Object.is=="function"?Object.is:ZO,XO=Object.prototype.hasOwnProperty;function Ua(t,e){if(Hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!XO.call(e,r[n])||!Hr(t[r[n]],e[r[n]]))return!1;return!0}function t1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r1(t,e){var r=t1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=t1(r)}}function kv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function n1(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Tu(t.document)}return e}function vd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var QO=Vn&&"documentMode"in document&&11>=document.documentMode,qo=null,wd=null,Ta=null,_d=!1;function i1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_d||qo==null||qo!==Tu(n)||(n=qo,"selectionStart"in n&&vd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ta&&Ua(Ta,n)||(Ta=n,n=Du(wd,"onSelect"),0<n.length&&(e=new u0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qo)))}o0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);o0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);o0(aO,2);for(qh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),cu=0;cu<qh.length;cu++)i0.set(qh[cu],0);var qh,cu;is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tv=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function o1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,rO(n,e,void 0,t),t.currentTarget=null}function Nv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;o1(i,a,d),o=c}else for(s=0;s<n.length;s++){if(a=n[s],c=a.instance,d=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;o1(i,a,d),o=c}}}if(Au)throw t=yd,Au=!1,yd=null,t}function at(t,e){var r=Fv(e),n=t+"__bubble";r.has(n)||(Iv(e,t,2,!1),r.add(n))}var s1="_reactListening"+Math.random().toString(36).slice(2);function Av(t){t[s1]||(t[s1]=!0,W1.forEach(function(e){Tv.has(e)||a1(e,!1,t,null),a1(e,!0,t,null)}))}function a1(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(t==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!e&&Tv.has(t)){if(t!=="scroll")return;i|=2,o=n}var s=Fv(o),a=t+"__"+(e?"capture":"bubble");s.has(a)||(e&&(i|=4),Iv(o,t,i,e),s.add(a))}function Iv(t,e,r,n){var i=i0.get(e);switch(i===void 0?2:i){case 0:i=mO;break;case 1:i=gO;break;default:i=s0}r=i.bind(null,e,r,t),i=void 0,!pd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Dv(t,e,r,n,i){var o=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ji(a),s===null)return;if(c=s.tag,c===5||c===6){n=o=s;continue e}a=a.parentNode}}n=n.return}Xx(function(){var d=o,m=Qd(r),v=[];e:{var y=gv.get(t);if(y!==void 0){var w=u0,b=t;switch(t){case"keypress":if(wu(r)===0)break e;case"keydown":case"keyup":w=RO;break;case"focusin":b="focus",w=Vh;break;case"focusout":b="blur",w=Vh;break;case"beforeblur":case"afterblur":w=Vh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=_O;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=PO;break;case dv:case pv:case yv:w=EO;break;case mv:w=LO;break;case"scroll":w=vO;break;case"wheel":w=BO;break;case"copy":case"cut":case"paste":w=OO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Kg}var A=(e&4)!==0,O=!A&&t==="scroll",I=A?y!==null?y+"Capture":null:y;A=[];for(var F=d,K;F!==null;){K=F;var H=K.stateNode;if(K.tag===5&&H!==null&&(K=H,I!==null&&(H=Pa(F,I),H!=null&&A.push(za(F,H,K)))),O)break;F=F.return}0<A.length&&(y=new w(y,b,null,r,m),v.push({event:y,listeners:A}))}}if((e&7)===0){e:{if(y=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",y&&(e&16)===0&&(b=r.relatedTarget||r.fromElement)&&(Ji(b)||b[us]))break e;if((w||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,w?(b=r.relatedTarget||r.toElement,w=d,b=b?Ji(b):null,b!==null&&(O=no(b),b!==O||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=d),w!==b)){if(A=Jg,H="onMouseLeave",I="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(A=Kg,H="onPointerLeave",I="onPointerEnter",F="pointer"),O=w==null?y:Wo(w),K=b==null?y:Wo(b),y=new A(H,F+"leave",w,r,m),y.target=O,y.relatedTarget=K,H=null,Ji(m)===d&&(A=new A(I,F+"enter",b,r,m),A.target=K,A.relatedTarget=O,H=A),O=H,w&&b)t:{for(A=w,I=b,F=0,K=A;K;K=Bo(K))F++;for(K=0,H=I;H;H=Bo(H))K++;for(;0<F-K;)A=Bo(A),F--;for(;0<K-F;)I=Bo(I),K--;for(;F--;){if(A===I||I!==null&&A===I.alternate)break t;A=Bo(A),I=Bo(I)}A=null}else A=null;w!==null&&l1(v,y,w,A,!1),b!==null&&O!==null&&l1(v,O,b,A,!0)}}e:{if(y=d?Wo(d):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var Y=HO;else if(Qg(y))if(xv)Y=KO;else{Y=JO;var M=GO}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(Y=YO);if(Y&&(Y=Y(t,d))){Ev(v,Y,r,m);break e}M&&M(t,y,d),t==="focusout"&&(M=y._wrapperState)&&M.controlled&&y.type==="number"&&sd(y,"number",y.value)}switch(M=d?Wo(d):window,t){case"focusin":(Qg(M)||M.contentEditable==="true")&&(qo=M,wd=d,Ta=null);break;case"focusout":Ta=wd=qo=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,i1(v,r,m);break;case"selectionchange":if(QO)break;case"keydown":case"keyup":i1(v,r,m)}var z;if(f0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else $o?Sv(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(_v&&r.locale!=="ko"&&($o||S!=="onCompositionStart"?S==="onCompositionEnd"&&$o&&(z=wv()):(ei=m,l0="value"in ei?ei.value:ei.textContent,$o=!0)),M=Du(d,S),0<M.length&&(S=new Yg(S,t,null,r,m),v.push({event:S,listeners:M}),z?S.data=z:(z=bv(r),z!==null&&(S.data=z)))),(z=zO?VO(t,r):$O(t,r))&&(d=Du(d,"onBeforeInput"),0<d.length&&(m=new Yg("onBeforeInput","beforeinput",null,r,m),v.push({event:m,listeners:d}),m.data=z))}Nv(v,e)})}function za(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Du(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pa(t,r),o!=null&&n.unshift(za(t,o,i)),o=Pa(t,e),o!=null&&n.push(za(t,o,i))),t=t.return}return n}function Bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l1(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,c=a.alternate,d=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&d!==null&&(a=d,i?(c=Pa(r,o),c!=null&&s.unshift(za(r,c,a))):i||(c=Pa(r,o),c!=null&&s.push(za(r,c,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}function Ru(){}var Wh=null,Hh=null;function Rv(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Sd(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var u1=typeof setTimeout=="function"?setTimeout:void 0,e4=typeof clearTimeout=="function"?clearTimeout:void 0;function h0(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function c1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Gh=0;function t4(t){return{$$typeof:Zd,toString:t,valueOf:t}}var rc=Math.random().toString(36).slice(2),ti="__reactFiber$"+rc,Fu="__reactProps$"+rc,us="__reactContainer$"+rc,f1="__reactEvents$"+rc;function Ji(t){var e=t[ti];if(e)return e;for(var r=t.parentNode;r;){if(e=r[us]||r[ti]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=c1(t);t!==null;){if(r=t[ti])return r;t=c1(t)}return e}t=r,r=t.parentNode}return null}function Ja(t){return t=t[ti]||t[us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function nc(t){return t[Fu]||null}function Fv(t){var e=t[f1];return e===void 0&&(e=t[f1]=new Set),e}var bd=[],Ho=-1;function mi(t){return{current:t}}function lt(t){0>Ho||(t.current=bd[Ho],bd[Ho]=null,Ho--)}function wt(t,e){Ho++,bd[Ho]=t.current,t.current=e}var di={},sr=mi(di),wr=mi(!1),Xi=di;function os(t,e){var r=t.type.contextTypes;if(!r)return di;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _r(t){return t=t.childContextTypes,t!=null}function Cu(){lt(wr),lt(sr)}function h1(t,e,r){if(sr.current!==di)throw Error(ge(168));wt(sr,e),wt(wr,r)}function Cv(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ge(108,Jo(e)||"Unknown",i));return ft({},r,n)}function _u(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,Xi=sr.current,wt(sr,t),wt(wr,wr.current),!0}function d1(t,e,r){var n=t.stateNode;if(!n)throw Error(ge(169));r?(t=Cv(t,e,Xi),n.__reactInternalMemoizedMergedChildContext=t,lt(wr),lt(sr),wt(sr,t)):lt(wr),wt(wr,r)}var d0=null,Zi=null,r4=Ut.unstable_runWithPriority,p0=Ut.unstable_scheduleCallback,Ed=Ut.unstable_cancelCallback,n4=Ut.unstable_shouldYield,p1=Ut.unstable_requestPaint,xd=Ut.unstable_now,i4=Ut.unstable_getCurrentPriorityLevel,ic=Ut.unstable_ImmediatePriority,Pv=Ut.unstable_UserBlockingPriority,jv=Ut.unstable_NormalPriority,Lv=Ut.unstable_LowPriority,Mv=Ut.unstable_IdlePriority,Jh={},o4=p1!==void 0?p1:function(){},Ln=null,Su=null,Yh=!1,y1=xd(),ir=1e4>y1?xd:function(){return xd()-y1};function ss(){switch(i4()){case ic:return 99;case Pv:return 98;case jv:return 97;case Lv:return 96;case Mv:return 95;default:throw Error(ge(332))}}function Bv(t){switch(t){case 99:return ic;case 98:return Pv;case 97:return jv;case 96:return Lv;case 95:return Mv;default:throw Error(ge(332))}}function Qi(t,e){return t=Bv(t),r4(t,e)}function Va(t,e,r){return t=Bv(t),p0(t,e,r)}function Nn(){if(Su!==null){var t=Su;Su=null,Ed(t)}Uv()}function Uv(){if(!Yh&&Ln!==null){Yh=!0;var t=0;try{var e=Ln;Qi(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),Ln=null}catch(r){throw Ln!==null&&(Ln=Ln.slice(t+1)),p0(ic,Nn),r}finally{Yh=!1}}}var s4=ro.ReactCurrentBatchConfig;function an(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Pu=mi(null),ju=null,Go=null,Lu=null;function y0(){Lu=Go=ju=null}function m0(t){var e=Pu.current;lt(Pu),t.type._context._currentValue=e}function zv(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Qo(t,e){ju=t,Lu=Go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(ln=!0),t.firstContext=null)}function Yr(t,e){if(Lu!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Lu=t,e=1073741823),e={context:t,observedBits:e,next:null},Go===null){if(ju===null)throw Error(ge(308));Go=e,ju.dependencies={lanes:0,firstContext:e,responders:null}}else Go=Go.next=e;return t._currentValue}var Xn=!1;function g0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Vv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ai(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function m1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function $a(t,e,r,n){var i=t.updateQueue;Xn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,d=c.next;c.next=null,s===null?o=d:s.next=d,s=c;var m=t.alternate;if(m!==null){m=m.updateQueue;var v=m.lastBaseUpdate;v!==s&&(v===null?m.firstBaseUpdate=d:v.next=d,m.lastBaseUpdate=c)}}if(o!==null){v=i.baseState,s=0,m=d=c=null;do{a=o.lane;var y=o.eventTime;if((n&a)===a){m!==null&&(m=m.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,b=o;switch(a=e,y=r,b.tag){case 1:if(w=b.payload,typeof w=="function"){v=w.call(y,v,a);break e}v=w;break e;case 3:w.flags=w.flags&-4097|64;case 0:if(w=b.payload,a=typeof w=="function"?w.call(y,v,a):w,a==null)break e;v=ft({},v,a);break e;case 2:Xn=!0}}o.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else y={eventTime:y,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=y,c=v):m=m.next=y,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);m===null&&(c=v),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=m,Ka|=s,t.lanes=s,t.memoizedState=v}}function g1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ge(191,i));i.call(n)}}}var $v=new Yu.Component().refs;function Mu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ft({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var oc={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fr(),i=li(t),o=si(n,i);o.payload=e,r!=null&&(o.callback=r),ai(t,o),ui(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fr(),i=li(t),o=si(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),ai(t,o),ui(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fr(),n=li(t),i=si(r,n);i.tag=2,e!=null&&(i.callback=e),ai(t,i),ui(t,n,r)}};function v1(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ua(r,n)||!Ua(i,o):!0}function qv(t,e,r){var n=!1,i=di,o=e.contextType;return typeof o=="object"&&o!==null?o=Yr(o):(i=_r(e)?Xi:sr.current,n=e.contextTypes,o=(n=n!=null)?os(t,i):di),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function w1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&oc.enqueueReplaceState(e,e.state,null)}function Od(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=$v,g0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Yr(o):(o=_r(e)?Xi:sr.current,i.context=os(t,o)),$a(t,r,i,n),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Mu(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oc.enqueueReplaceState(i,i.state,null),$a(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var fu=Array.isArray;function ua(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=n.refs;s===$v&&(s=n.refs={}),o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,t))}return t}function hu(t,e){if(t.type!=="textarea")throw Error(ge(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Wv(t){function e(O,I){if(t){var F=O.lastEffect;F!==null?(F.nextEffect=I,O.lastEffect=I):O.firstEffect=O.lastEffect=I,I.nextEffect=null,I.flags=8}}function r(O,I){if(!t)return null;for(;I!==null;)e(O,I),I=I.sibling;return null}function n(O,I){for(O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function i(O,I){return O=yi(O,I),O.index=0,O.sibling=null,O}function o(O,I,F){return O.index=F,t?(F=O.alternate,F!==null?(F=F.index,F<I?(O.flags=2,I):F):(O.flags=2,I)):I}function s(O){return t&&O.alternate===null&&(O.flags=2),O}function a(O,I,F,K){return I===null||I.tag!==6?(I=ed(F,O.mode,K),I.return=O,I):(I=i(I,F),I.return=O,I)}function c(O,I,F,K){return I!==null&&I.elementType===F.type?(K=i(I,F.props),K.ref=ua(O,I,F),K.return=O,K):(K=Ou(F.type,F.key,F.props,null,O.mode,K),K.ref=ua(O,I,F),K.return=O,K)}function d(O,I,F,K){return I===null||I.tag!==4||I.stateNode.containerInfo!==F.containerInfo||I.stateNode.implementation!==F.implementation?(I=td(F,O.mode,K),I.return=O,I):(I=i(I,F.children||[]),I.return=O,I)}function m(O,I,F,K,H){return I===null||I.tag!==7?(I=ns(F,O.mode,K,H),I.return=O,I):(I=i(I,F),I.return=O,I)}function v(O,I,F){if(typeof I=="string"||typeof I=="number")return I=ed(""+I,O.mode,F),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ma:return F=Ou(I.type,I.key,I.props,null,O.mode,F),F.ref=ua(O,null,I),F.return=O,F;case Hi:return I=td(I,O.mode,F),I.return=O,I}if(fu(I)||ia(I))return I=ns(I,O.mode,F,null),I.return=O,I;hu(O,I)}return null}function y(O,I,F,K){var H=I!==null?I.key:null;if(typeof F=="string"||typeof F=="number")return H!==null?null:a(O,I,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ma:return F.key===H?F.type===Qn?m(O,I,F.props.children,K,H):c(O,I,F,K):null;case Hi:return F.key===H?d(O,I,F,K):null}if(fu(F)||ia(F))return H!==null?null:m(O,I,F,K,null);hu(O,F)}return null}function w(O,I,F,K,H){if(typeof K=="string"||typeof K=="number")return O=O.get(F)||null,a(I,O,""+K,H);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ma:return O=O.get(K.key===null?F:K.key)||null,K.type===Qn?m(I,O,K.props.children,H,K.key):c(I,O,K,H);case Hi:return O=O.get(K.key===null?F:K.key)||null,d(I,O,K,H)}if(fu(K)||ia(K))return O=O.get(F)||null,m(I,O,K,H,null);hu(I,K)}return null}function b(O,I,F,K){for(var H=null,Y=null,M=I,z=I=0,S=null;M!==null&&z<F.length;z++){M.index>z?(S=M,M=null):S=M.sibling;var $=y(O,M,F[z],K);if($===null){M===null&&(M=S);break}t&&M&&$.alternate===null&&e(O,M),I=o($,I,z),Y===null?H=$:Y.sibling=$,Y=$,M=S}if(z===F.length)return r(O,M),H;if(M===null){for(;z<F.length;z++)M=v(O,F[z],K),M!==null&&(I=o(M,I,z),Y===null?H=M:Y.sibling=M,Y=M);return H}for(M=n(O,M);z<F.length;z++)S=w(M,O,z,F[z],K),S!==null&&(t&&S.alternate!==null&&M.delete(S.key===null?z:S.key),I=o(S,I,z),Y===null?H=S:Y.sibling=S,Y=S);return t&&M.forEach(function(re){return e(O,re)}),H}function A(O,I,F,K){var H=ia(F);if(typeof H!="function")throw Error(ge(150));if(F=H.call(F),F==null)throw Error(ge(151));for(var Y=H=null,M=I,z=I=0,S=null,$=F.next();M!==null&&!$.done;z++,$=F.next()){M.index>z?(S=M,M=null):S=M.sibling;var re=y(O,M,$.value,K);if(re===null){M===null&&(M=S);break}t&&M&&re.alternate===null&&e(O,M),I=o(re,I,z),Y===null?H=re:Y.sibling=re,Y=re,M=S}if($.done)return r(O,M),H;if(M===null){for(;!$.done;z++,$=F.next())$=v(O,$.value,K),$!==null&&(I=o($,I,z),Y===null?H=$:Y.sibling=$,Y=$);return H}for(M=n(O,M);!$.done;z++,$=F.next())$=w(M,O,z,$.value,K),$!==null&&(t&&$.alternate!==null&&M.delete($.key===null?z:$.key),I=o($,I,z),Y===null?H=$:Y.sibling=$,Y=$);return t&&M.forEach(function(X){return e(O,X)}),H}return function(O,I,F,K){var H=typeof F=="object"&&F!==null&&F.type===Qn&&F.key===null;H&&(F=F.props.children);var Y=typeof F=="object"&&F!==null;if(Y)switch(F.$$typeof){case ma:e:{for(Y=F.key,H=I;H!==null;){if(H.key===Y){switch(H.tag){case 7:if(F.type===Qn){r(O,H.sibling),I=i(H,F.props.children),I.return=O,O=I;break e}break;default:if(H.elementType===F.type){r(O,H.sibling),I=i(H,F.props),I.ref=ua(O,H,F),I.return=O,O=I;break e}}r(O,H);break}else e(O,H);H=H.sibling}F.type===Qn?(I=ns(F.props.children,O.mode,K,F.key),I.return=O,O=I):(K=Ou(F.type,F.key,F.props,null,O.mode,K),K.ref=ua(O,I,F),K.return=O,O=K)}return s(O);case Hi:e:{for(H=F.key;I!==null;){if(I.key===H)if(I.tag===4&&I.stateNode.containerInfo===F.containerInfo&&I.stateNode.implementation===F.implementation){r(O,I.sibling),I=i(I,F.children||[]),I.return=O,O=I;break e}else{r(O,I);break}else e(O,I);I=I.sibling}I=td(F,O.mode,K),I.return=O,O=I}return s(O)}if(typeof F=="string"||typeof F=="number")return F=""+F,I!==null&&I.tag===6?(r(O,I.sibling),I=i(I,F),I.return=O,O=I):(r(O,I),I=ed(F,O.mode,K),I.return=O,O=I),s(O);if(fu(F))return b(O,I,F,K);if(ia(F))return A(O,I,F,K);if(Y&&hu(O,F),typeof F>"u"&&!H)switch(O.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ge(152,Jo(O.type)||"Component"))}return r(O,I)}}var Bu=Wv(!0),Hv=Wv(!1),Ya={},kn=mi(Ya),qa=mi(Ya),Wa=mi(Ya);function Yi(t){if(t===Ya)throw Error(ge(174));return t}function kd(t,e){switch(wt(Wa,e),wt(qa,t),wt(kn,Ya),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cd(e,t)}lt(kn),wt(kn,e)}function as(){lt(kn),lt(qa),lt(Wa)}function _1(t){Yi(Wa.current);var e=Yi(kn.current),r=cd(e,t.type);e!==r&&(wt(qa,t),wt(kn,r))}function v0(t){qa.current===t&&(lt(kn),lt(qa))}var vt=mi(0);function Uu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bn=null,ri=null,Tn=!1;function Gv(t,e){var r=Gr(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function S1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Td(t){if(Tn){var e=ri;if(e){var r=e;if(!S1(t,e)){if(e=Xo(r.nextSibling),!e||!S1(t,e)){t.flags=t.flags&-1025|2,Tn=!1,Bn=t;return}Gv(Bn,r)}Bn=t,ri=Xo(e.firstChild)}else t.flags=t.flags&-1025|2,Tn=!1,Bn=t}}function b1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function du(t){if(t!==Bn)return!1;if(!Tn)return b1(t),Tn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Sd(e,t.memoizedProps))for(e=ri;e;)Gv(t,e),e=Xo(e.nextSibling);if(b1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ri=Xo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ri=null}}else ri=Bn?Xo(t.stateNode.nextSibling):null;return!0}function Kh(){ri=Bn=null,Tn=!1}var es=[];function w0(){for(var t=0;t<es.length;t++)es[t]._workInProgressVersionPrimary=null;es.length=0}var Na=ro.ReactCurrentDispatcher,Jr=ro.ReactCurrentBatchConfig,Ha=0,Nt=null,nr=null,Gt=null,zu=!1,Aa=!1;function gr(){throw Error(ge(321))}function _0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Hr(t[r],e[r]))return!1;return!0}function S0(t,e,r,n,i,o){if(Ha=o,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Na.current=t===null||t.memoizedState===null?l4:u4,t=r(n,i),Aa){o=0;do{if(Aa=!1,!(25>o))throw Error(ge(301));o+=1,Gt=nr=null,e.updateQueue=null,Na.current=c4,t=r(n,i)}while(Aa)}if(Na.current=Wu,e=nr!==null&&nr.next!==null,Ha=0,Gt=nr=Nt=null,zu=!1,e)throw Error(ge(300));return t}function Ki(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Nt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function io(){if(nr===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=nr.next;var e=Gt===null?Nt.memoizedState:Gt.next;if(e!==null)Gt=e,nr=t;else{if(t===null)throw Error(ge(310));nr=t,t={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},Gt===null?Nt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function xn(t,e){return typeof e=="function"?e(t):e}function ca(t){var e=io(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=nr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var a=s=o=null,c=i;do{var d=c.lane;if((Ha&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var m={lane:d,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};a===null?(s=a=m,o=n):a=a.next=m,Nt.lanes|=d,Ka|=d}c=c.next}while(c!==null&&c!==i);a===null?o=n:a.next=s,Hr(n,e.memoizedState)||(ln=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function fa(t){var e=io(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Hr(o,e.memoizedState)||(ln=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function E1(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Ha&t)===t)&&(e._workInProgressVersionPrimary=n,es.push(e))),t)return r(e._source);throw es.push(e),Error(ge(350))}function Jv(t,e,r,n){var i=lr;if(i===null)throw Error(ge(349));var o=e._getVersion,s=o(e._source),a=Na.current,c=a.useState(function(){return E1(i,e,r)}),d=c[1],m=c[0];c=Gt;var v=t.memoizedState,y=v.refs,w=y.getSnapshot,b=v.source;v=v.subscribe;var A=Nt;return t.memoizedState={refs:y,source:e,subscribe:n},a.useEffect(function(){y.getSnapshot=r,y.setSnapshot=d;var O=o(e._source);if(!Hr(s,O)){O=r(e._source),Hr(m,O)||(d(O),O=li(A),i.mutableReadLanes|=O&i.pendingLanes),O=i.mutableReadLanes,i.entangledLanes|=O;for(var I=i.entanglements,F=O;0<F;){var K=31-hi(F),H=1<<K;I[K]|=O,F&=~H}}},[r,e,n]),a.useEffect(function(){return n(e._source,function(){var O=y.getSnapshot,I=y.setSnapshot;try{I(O(e._source));var F=li(A);i.mutableReadLanes|=F&i.pendingLanes}catch(K){I(function(){throw K})}})},[e,n]),Hr(w,r)&&Hr(b,e)&&Hr(v,n)||(t={pending:null,dispatch:null,lastRenderedReducer:xn,lastRenderedState:m},t.dispatch=d=x0.bind(null,Nt,t),c.queue=t,c.baseQueue=null,m=E1(i,e,r),c.memoizedState=c.baseState=m),m}function Yv(t,e,r){var n=io();return Jv(n,t,e,r)}function ha(t){var e=Ki();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:xn,lastRenderedState:t},t=t.dispatch=x0.bind(null,Nt,t),[e.memoizedState,t]}function Vu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Nt.updateQueue,e===null?(e={lastEffect:null},Nt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function x1(t){var e=Ki();return t={current:t},e.memoizedState=t}function $u(){return io().memoizedState}function Nd(t,e,r,n){var i=Ki();Nt.flags|=t,i.memoizedState=Vu(1|e,r,void 0,n===void 0?null:n)}function b0(t,e,r,n){var i=io();n=n===void 0?null:n;var o=void 0;if(nr!==null){var s=nr.memoizedState;if(o=s.destroy,n!==null&&_0(n,s.deps)){Vu(e,r,o,n);return}}Nt.flags|=t,i.memoizedState=Vu(1|e,r,o,n)}function O1(t,e){return Nd(516,4,t,e)}function qu(t,e){return b0(516,4,t,e)}function Kv(t,e){return b0(4,2,t,e)}function Zv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xv(t,e,r){return r=r!=null?r.concat([t]):null,b0(4,2,Zv.bind(null,e,t),r)}function E0(){}function Qv(t,e){var r=io();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&_0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ew(t,e){var r=io();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&_0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function a4(t,e){var r=ss();Qi(98>r?98:r,function(){t(!0)}),Qi(97<r?97:r,function(){var n=Jr.transition;Jr.transition=1;try{t(!1),e()}finally{Jr.transition=n}})}function x0(t,e,r){var n=Fr(),i=li(t),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),e.pending=o,s=t.alternate,t===Nt||s!==null&&s===Nt)Aa=zu=!0;else{if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,r);if(o.eagerReducer=s,o.eagerState=c,Hr(c,a))return}catch{}finally{}ui(t,i,n)}}var Wu={readContext:Yr,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useOpaqueIdentifier:gr,unstable_isNewReconciler:!1},l4={readContext:Yr,useCallback:function(t,e){return Ki().memoizedState=[t,e===void 0?null:e],t},useContext:Yr,useEffect:O1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Nd(4,2,Zv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Nd(4,2,t,e)},useMemo:function(t,e){var r=Ki();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ki();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=x0.bind(null,Nt,t),[n.memoizedState,t]},useRef:x1,useState:ha,useDebugValue:E0,useDeferredValue:function(t){var e=ha(t),r=e[0],n=e[1];return O1(function(){var i=Jr.transition;Jr.transition=1;try{n(t)}finally{Jr.transition=i}},[t]),r},useTransition:function(){var t=ha(!1),e=t[0];return t=a4.bind(null,t[1]),x1(t),[t,e]},useMutableSource:function(t,e,r){var n=Ki();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},Jv(n,t,e,r)},useOpaqueIdentifier:function(){if(Tn){var t=!1,e=t4(function(){throw t||(t=!0,r("r:"+(Gh++).toString(36))),Error(ge(355))}),r=ha(e)[1];return(Nt.mode&2)===0&&(Nt.flags|=516,Vu(5,function(){r("r:"+(Gh++).toString(36))},void 0,null)),e}return e="r:"+(Gh++).toString(36),ha(e),e},unstable_isNewReconciler:!1},u4={readContext:Yr,useCallback:Qv,useContext:Yr,useEffect:qu,useImperativeHandle:Xv,useLayoutEffect:Kv,useMemo:ew,useReducer:ca,useRef:$u,useState:function(){return ca(xn)},useDebugValue:E0,useDeferredValue:function(t){var e=ca(xn),r=e[0],n=e[1];return qu(function(){var i=Jr.transition;Jr.transition=1;try{n(t)}finally{Jr.transition=i}},[t]),r},useTransition:function(){var t=ca(xn)[0];return[$u().current,t]},useMutableSource:Yv,useOpaqueIdentifier:function(){return ca(xn)[0]},unstable_isNewReconciler:!1},c4={readContext:Yr,useCallback:Qv,useContext:Yr,useEffect:qu,useImperativeHandle:Xv,useLayoutEffect:Kv,useMemo:ew,useReducer:fa,useRef:$u,useState:function(){return fa(xn)},useDebugValue:E0,useDeferredValue:function(t){var e=fa(xn),r=e[0],n=e[1];return qu(function(){var i=Jr.transition;Jr.transition=1;try{n(t)}finally{Jr.transition=i}},[t]),r},useTransition:function(){var t=fa(xn)[0];return[$u().current,t]},useMutableSource:Yv,useOpaqueIdentifier:function(){return fa(xn)[0]},unstable_isNewReconciler:!1},f4=ro.ReactCurrentOwner,ln=!1;function vr(t,e,r,n){e.child=t===null?Hv(e,null,r,n):Bu(e,t.child,r,n)}function k1(t,e,r,n,i){r=r.render;var o=e.ref;return Qo(e,i),n=S0(t,e,r,n,o,i),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Un(t,e,i)):(e.flags|=1,vr(t,e,n,i),e.child)}function T1(t,e,r,n,i,o){if(t===null){var s=r.type;return typeof s=="function"&&!I0(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,tw(t,e,s,n,i,o)):(t=Ou(r.type,null,n,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return s=t.child,(i&o)===0&&(i=s.memoizedProps,r=r.compare,r=r!==null?r:Ua,r(i,n)&&t.ref===e.ref)?Un(t,e,o):(e.flags|=1,t=yi(s,n),t.ref=e.ref,t.return=e,e.child=t)}function tw(t,e,r,n,i,o){if(t!==null&&Ua(t.memoizedProps,n)&&t.ref===e.ref)if(ln=!1,(o&i)!==0)(t.flags&16384)!==0&&(ln=!0);else return e.lanes=t.lanes,Un(t,e,o);return Ad(t,e,r,n,o)}function Zh(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},yu(e,r);else if((r&1073741824)!==0)e.memoizedState={baseLanes:0},yu(e,o!==null?o.baseLanes:r);else return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},yu(e,t),null;else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,yu(e,n);return vr(t,e,i,r),e.child}function rw(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function Ad(t,e,r,n,i){var o=_r(r)?Xi:sr.current;return o=os(e,o),Qo(e,i),r=S0(t,e,r,n,o,i),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Un(t,e,i)):(e.flags|=1,vr(t,e,r,i),e.child)}function N1(t,e,r,n,i){if(_r(r)){var o=!0;_u(e)}else o=!1;if(Qo(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),qv(e,r,n),Od(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,d=r.contextType;typeof d=="object"&&d!==null?d=Yr(d):(d=_r(r)?Xi:sr.current,d=os(e,d));var m=r.getDerivedStateFromProps,v=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||c!==d)&&w1(e,s,n,d),Xn=!1;var y=e.memoizedState;s.state=y,$a(e,n,s,i),c=e.memoizedState,a!==n||y!==c||wr.current||Xn?(typeof m=="function"&&(Mu(e,r,m,n),c=e.memoizedState),(a=Xn||v1(e,r,a,n,y,c,d))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=d,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{s=e.stateNode,Vv(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:an(e.type,a),s.props=d,v=e.pendingProps,y=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Yr(c):(c=_r(r)?Xi:sr.current,c=os(e,c));var w=r.getDerivedStateFromProps;(m=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==v||y!==c)&&w1(e,s,n,c),Xn=!1,y=e.memoizedState,s.state=y,$a(e,n,s,i);var b=e.memoizedState;a!==v||y!==b||wr.current||Xn?(typeof w=="function"&&(Mu(e,r,w,n),b=e.memoizedState),(d=Xn||v1(e,r,d,n,y,b,c))?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,b,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,b,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=b),s.props=n,s.state=b,s.context=c,n=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),n=!1)}return Id(t,e,r,n,o,i)}function Id(t,e,r,n,i,o){rw(t,e);var s=(e.flags&64)!==0;if(!n&&!s)return i&&d1(e,r,!1),Un(t,e,o);n=e.stateNode,f4.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Bu(e,t.child,null,o),e.child=Bu(e,null,a,o)):vr(t,e,a,o),e.memoizedState=n.state,i&&d1(e,r,!0),e.child}function A1(t){var e=t.stateNode;e.pendingContext?h1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&h1(t,e.context,!1),kd(t,e.containerInfo)}var pu={dehydrated:null,retryLane:0};function I1(t,e,r){var n=e.pendingProps,i=vt.current,o=!1,s;return(s=(e.flags&64)!==0)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),wt(vt,i&1),t===null?(n.fallback!==void 0&&Td(e),t=n.children,i=n.fallback,o?(t=D1(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=pu,t):typeof n.unstable_expectedLoadTime=="number"?(t=D1(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=pu,e.lanes=33554432,t):(r=D0({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?o?(n=F1(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=pu,n):(r=R1(t,e,n.children,r),e.memoizedState=null,r):o?(n=F1(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=pu,n):(r=R1(t,e,n.children,r),e.memoizedState=null,r)}function D1(t,e,r,n){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=e):o=D0(e,i,0,null),r=ns(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r}function R1(t,e,r,n){var i=t.child;return t=i.sibling,r=yi(i,{mode:"visible",children:r}),(e.mode&2)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function F1(t,e,r,n,i){var o=e.mode,s=t.child;t=s.sibling;var a={mode:"hidden",children:r};return(o&2)===0&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,s=r.lastEffect,s!==null?(e.firstEffect=r.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):r=yi(s,a),t!==null?n=yi(t,n):(n=ns(n,o,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function C1(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zv(t.return,e)}function Xh(t,e,r,n,i,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.lastEffect=o)}function P1(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(vr(t,e,n.children,r),n=vt.current,(n&2)!==0)n=n&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C1(t,r);else if(t.tag===19)C1(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(wt(vt,n),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Uu(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Xh(e,!1,i,r,o,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Uu(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Xh(e,!0,r,null,o,e.lastEffect);break;case"together":Xh(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Un(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ka|=e.lanes,(r&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(ge(153));if(e.child!==null){for(t=e.child,r=yi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=yi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var nw,Dd,iw,ow;nw=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dd=function(){};iw=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Yi(kn.current);var o=null;switch(r){case"input":i=id(t,i),n=id(t,n),o=[];break;case"option":i=ad(t,i),n=ad(t,n),o=[];break;case"select":i=ft({},i,{value:void 0}),n=ft({},n,{value:void 0}),o=[];break;case"textarea":i=ld(t,i),n=ld(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ru)}fd(r,n);var s;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fa.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(a=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fa.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&at("scroll",t),o||a===c||(o=[])):typeof c=="object"&&c!==null&&c.$$typeof===Zd?c.toString():(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};ow=function(t,e,r,n){r!==n&&(e.flags|=4)};function da(t,e){if(!Tn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function h4(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return _r(e.type)&&Cu(),null;case 3:return as(),lt(wr),lt(sr),w0(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(du(e)?e.flags|=4:n.hydrate||(e.flags|=256)),Dd(e),null;case 5:v0(e);var i=Yi(Wa.current);if(r=e.type,t!==null&&e.stateNode!=null)iw(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(ge(166));return null}if(t=Yi(kn.current),du(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[ti]=e,n[Fu]=o,r){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(t=0;t<va.length;t++)at(va[t],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":Lg(n,o),at("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},at("invalid",n);break;case"textarea":Bg(n,o),at("invalid",n)}fd(r,o),t=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Fa.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&at("scroll",n));switch(r){case"input":iu(n),Mg(n,o,!0);break;case"textarea":iu(n),Ug(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ru)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,t===ud.html&&(t=Z1(r)),t===ud.html?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[ti]=e,t[Fu]=n,nw(t,e,!1,!1),e.stateNode=t,s=hd(r,n),r){case"dialog":at("cancel",t),at("close",t),i=n;break;case"iframe":case"object":case"embed":at("load",t),i=n;break;case"video":case"audio":for(i=0;i<va.length;i++)at(va[i],t);i=n;break;case"source":at("error",t),i=n;break;case"img":case"image":case"link":at("error",t),at("load",t),i=n;break;case"details":at("toggle",t),i=n;break;case"input":Lg(t,n),i=id(t,n),at("invalid",t);break;case"option":i=ad(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ft({},n,{value:void 0}),at("invalid",t);break;case"textarea":Bg(t,n),i=ld(t,n),at("invalid",t);break;default:i=n}fd(r,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?tv(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&X1(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ca(t,c):typeof c=="number"&&Ca(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fa.hasOwnProperty(o)?c!=null&&o==="onScroll"&&at("scroll",t):c!=null&&Wd(t,o,c,s))}switch(r){case"input":iu(t),Mg(t,n,!1);break;case"textarea":iu(t),Ug(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fi(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Yo(t,!!n.multiple,o,!1):n.defaultValue!=null&&Yo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ru)}Rv(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)ow(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ge(166));r=Yi(Wa.current),Yi(kn.current),du(e)?(n=e.stateNode,r=e.memoizedProps,n[ti]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ti]=e,e.stateNode=n)}return null;case 13:return lt(vt),n=e.memoizedState,(e.flags&64)!==0?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&du(e):r=t.memoizedState!==null,n&&!r&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(vt.current&1)!==0?Jt===0&&(Jt=3):((Jt===0||Jt===3)&&(Jt=4),lr===null||(Ka&134217727)===0&&(hs&134217727)===0||ts(lr,or))),(n||r)&&(e.flags|=4),null);case 4:return as(),Dd(e),t===null&&Av(e.stateNode.containerInfo),null;case 10:return m0(e),null;case 17:return _r(e.type)&&Cu(),null;case 19:if(lt(vt),n=e.memoizedState,n===null)return null;if(o=(e.flags&64)!==0,s=n.rendering,s===null)if(o)da(n,!1);else{if(Jt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(s=Uu(t),s!==null){for(e.flags|=64,da(n,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return wt(vt,vt.current&1|2),e.child}t=t.sibling}n.tail!==null&&ir()>Ld&&(e.flags|=64,o=!0,da(n,!1),e.lanes=33554432)}else{if(!o)if(t=Uu(s),t!==null){if(e.flags|=64,o=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),da(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!Tn)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*ir()-n.renderingStartTime>Ld&&r!==1073741824&&(e.flags|=64,o=!0,da(n,!1),e.lanes=33554432);n.isBackwards?(s.sibling=e.child,e.child=s):(r=n.last,r!==null?r.sibling=s:e.child=s,n.last=s)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=ir(),r.sibling=null,e=vt.current,wt(vt,o?e&1|2:e&1),r):null;case 23:case 24:return A0(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(ge(156,e.tag))}function d4(t){switch(t.tag){case 1:_r(t.type)&&Cu();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(as(),lt(wr),lt(sr),w0(),e=t.flags,(e&64)!==0)throw Error(ge(285));return t.flags=e&-4097|64,t;case 5:return v0(t),null;case 13:return lt(vt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return lt(vt),null;case 4:return as(),null;case 10:return m0(t),null;case 23:case 24:return A0(),null;default:return null}}function O0(t,e){try{var r="",n=e;do r+=Gx(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function Rd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var p4=typeof WeakMap=="function"?WeakMap:Map;function sw(t,e,r){r=si(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Gu||(Gu=!0,Md=n),Rd(t,e)},r}function aw(t,e,r){r=si(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return Rd(t,e),n(i)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(On===null?On=new Set([this]):On.add(this),Rd(t,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}var y4=typeof WeakSet=="function"?WeakSet:Set;function j1(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){ci(t,r)}else e.current=null}function m4(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:an(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&h0(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ge(163))}function g4(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(mw(r,t),O4(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:an(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&g1(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}g1(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&Rv(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&fv(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ge(163))}function L1(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=Q1("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function M1(t,e){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(d0,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)mw(e,r);else{n=e;try{i()}catch(o){ci(n,o)}}r=r.next}while(r!==t)}break;case 1:if(j1(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){ci(e,o)}break;case 5:j1(e);break;case 4:lw(t,e)}}function B1(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function U1(t){return t.tag===5||t.tag===3||t.tag===4}function z1(t){e:{for(var e=t.return;e!==null;){if(U1(e))break e;e=e.return}throw Error(ge(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(ge(161))}r.flags&16&&(Ca(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||U1(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Fd(t,r,e):Cd(t,r,e)}function Fd(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ru));else if(n!==4&&(t=t.child,t!==null))for(Fd(t,e,r),t=t.sibling;t!==null;)Fd(t,e,r),t=t.sibling}function Cd(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Cd(t,e,r),t=t.sibling;t!==null;)Cd(t,e,r),t=t.sibling}function lw(t,e){for(var r=e,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(ge(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var s=t,a=r,c=a;;)if(M1(s,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}o?(s=i,a=r.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(M1(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Qh(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(r[Fu]=n,t==="input"&&n.type==="radio"&&n.name!=null&&Y1(r,n),hd(t,i),e=hd(t,n),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?tv(r,a):s==="dangerouslySetInnerHTML"?X1(r,a):s==="children"?Ca(r,a):Wd(r,s,a,e)}switch(t){case"input":od(r,n);break;case"textarea":K1(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Yo(r,!!n.multiple,o,!1):t!==!!n.multiple&&(n.defaultValue!=null?Yo(r,!!n.multiple,n.defaultValue,!0):Yo(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(ge(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,fv(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(N0=ir(),L1(e.child,!0)),V1(e);return;case 19:V1(e);return;case 17:return;case 23:case 24:L1(e,e.memoizedState!==null);return}throw Error(ge(163))}function V1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new y4),e.forEach(function(n){var i=N4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function v4(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var w4=Math.ceil,Hu=ro.ReactCurrentDispatcher,k0=ro.ReactCurrentOwner,De=0,lr=null,Lt=null,or=0,eo=0,Pd=mi(0),Jt=0,sc=null,cs=0,Ka=0,hs=0,T0=0,jd=null,N0=0,Ld=1/0;function ds(){Ld=ir()+500}var ke=null,Gu=!1,Md=null,On=null,pi=!1,Ia=null,wa=90,Bd=[],Ud=[],zn=null,Da=0,zd=null,bu=-1,Mn=0,Eu=0,Ra=null,xu=!1;function Fr(){return(De&48)!==0?ir():bu!==-1?bu:bu=ir()}function li(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return ss()===99?1:2;if(Mn===0&&(Mn=cs),s4.transition!==0){Eu!==0&&(Eu=jd!==null?jd.pendingLanes:0),t=Mn;var e=4186112&~Eu;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=ss(),(De&4)!==0&&t===98?t=Iu(12,Mn):(t=uO(t),t=Iu(t,Mn)),t}function ui(t,e,r){if(50<Da)throw Da=0,zd=null,Error(ge(185));if(t=ac(t,e),t===null)return null;Qu(t,e,r),t===lr&&(hs|=e,Jt===4&&ts(t,or));var n=ss();e===1?(De&8)!==0&&(De&48)===0?Vd(t):(Kr(t,r),De===0&&(ds(),Nn())):((De&4)===0||n!==98&&n!==99||(zn===null?zn=new Set([t]):zn.add(t)),Kr(t,r)),jd=t}function ac(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function Kr(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-hi(s),c=1<<a,d=o[a];if(d===-1){if((c&n)===0||(c&i)!==0){d=e,Uo(c);var m=rt;o[a]=10<=m?d+250:6<=m?d+5e3:-1}}else d<=e&&(t.expiredLanes|=c);s&=~c}if(n=Ma(t,t===lr?or:0),e=rt,n===0)r!==null&&(r!==Jh&&Ed(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==Jh&&Ed(r)}e===15?(r=Vd.bind(null,t),Ln===null?(Ln=[r],Su=p0(ic,Uv)):Ln.push(r),r=Jh):e===14?r=Va(99,Vd.bind(null,t)):(r=cO(e),r=Va(r,uw.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function uw(t){if(bu=-1,Eu=Mn=0,(De&48)!==0)throw Error(ge(327));var e=t.callbackNode;if(gi()&&t.callbackNode!==e)return null;var r=Ma(t,t===lr?or:0);if(r===0)return null;var n=r,i=De;De|=16;var o=dw();(lr!==t||or!==n)&&(ds(),rs(t,n));do try{b4();break}catch(a){hw(t,a)}while(1);if(y0(),Hu.current=o,De=i,Lt!==null?n=0:(lr=null,or=0,n=Jt),(cs&hs)!==0)rs(t,0);else if(n!==0){if(n===2&&(De|=64,t.hydrate&&(t.hydrate=!1,h0(t.containerInfo)),r=vv(t),r!==0&&(n=_a(t,r))),n===1)throw e=sc,rs(t,0),ts(t,r),Kr(t,ir()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(ge(345));case 2:Wi(t);break;case 3:if(ts(t,r),(r&62914560)===r&&(n=N0+500-ir(),10<n)){if(Ma(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Fr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=u1(Wi.bind(null,t),n);break}Wi(t);break;case 4:if(ts(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var s=31-hi(r);o=1<<s,s=n[s],s>i&&(i=s),r&=~o}if(r=i,r=ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w4(r/1960))-r,10<r){t.timeoutHandle=u1(Wi.bind(null,t),r);break}Wi(t);break;case 5:Wi(t);break;default:throw Error(ge(329))}}return Kr(t,ir()),t.callbackNode===e?uw.bind(null,t):null}function ts(t,e){for(e&=~T0,e&=~hs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-hi(e),n=1<<r;t[r]=-1,e&=~n}}function Vd(t){if((De&48)!==0)throw Error(ge(327));if(gi(),t===lr&&(t.expiredLanes&or)!==0){var e=or,r=_a(t,e);(cs&hs)!==0&&(e=Ma(t,e),r=_a(t,e))}else e=Ma(t,0),r=_a(t,e);if(t.tag!==0&&r===2&&(De|=64,t.hydrate&&(t.hydrate=!1,h0(t.containerInfo)),e=vv(t),e!==0&&(r=_a(t,e))),r===1)throw r=sc,rs(t,0),ts(t,e),Kr(t,ir()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wi(t),Kr(t,ir()),null}function _4(){if(zn!==null){var t=zn;zn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Kr(e,ir())})}Nn()}function cw(t,e){var r=De;De|=1;try{return t(e)}finally{De=r,De===0&&(ds(),Nn())}}function fw(t,e){var r=De;De&=-2,De|=8;try{return t(e)}finally{De=r,De===0&&(ds(),Nn())}}function yu(t,e){wt(Pd,eo),eo|=e,cs|=e}function A0(){eo=Pd.current,lt(Pd)}function rs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,e4(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cu();break;case 3:as(),lt(wr),lt(sr),w0();break;case 5:v0(n);break;case 4:as();break;case 13:lt(vt);break;case 19:lt(vt);break;case 10:m0(n);break;case 23:case 24:A0()}r=r.return}lr=t,Lt=yi(t.current,null),or=eo=cs=e,Jt=0,sc=null,T0=hs=Ka=0}function hw(t,e){do{var r=Lt;try{if(y0(),Na.current=Wu,zu){for(var n=Nt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zu=!1}if(Ha=0,Gt=nr=Nt=null,Aa=!1,k0.current=null,r===null||r.return===null){Jt=1,sc=e,Lt=null;break}e:{var o=t,s=r.return,a=r,c=e;if(e=or,a.flags|=2048,a.firstEffect=a.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c;if((a.mode&2)===0){var m=a.alternate;m?(a.updateQueue=m.updateQueue,a.memoizedState=m.memoizedState,a.lanes=m.lanes):(a.updateQueue=null,a.memoizedState=null)}var v=(vt.current&1)!==0,y=s;do{var w;if(w=y.tag===13){var b=y.memoizedState;if(b!==null)w=b.dehydrated!==null;else{var A=y.memoizedProps;w=A.fallback===void 0?!1:A.unstable_avoidThisFallback!==!0?!0:!v}}if(w){var O=y.updateQueue;if(O===null){var I=new Set;I.add(d),y.updateQueue=I}else O.add(d);if((y.mode&2)===0){if(y.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var F=si(-1,1);F.tag=2,ai(a,F)}a.lanes|=1;break e}c=void 0,a=e;var K=o.pingCache;if(K===null?(K=o.pingCache=new p4,c=new Set,K.set(d,c)):(c=K.get(d),c===void 0&&(c=new Set,K.set(d,c))),!c.has(a)){c.add(a);var H=T4.bind(null,o,d,a);d.then(H,H)}y.flags|=4096,y.lanes=e;break e}y=y.return}while(y!==null);c=Error((Jo(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Jt!==5&&(Jt=2),c=O0(c,a),y=s;do{switch(y.tag){case 3:o=c,y.flags|=4096,e&=-e,y.lanes|=e;var Y=sw(y,o,e);m1(y,Y);break e;case 1:o=c;var M=y.type,z=y.stateNode;if((y.flags&64)===0&&(typeof M.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(On===null||!On.has(z)))){y.flags|=4096,e&=-e,y.lanes|=e;var S=aw(y,o,e);m1(y,S);break e}}y=y.return}while(y!==null)}yw(r)}catch($){e=$,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(1)}function dw(){var t=Hu.current;return Hu.current=Wu,t===null?Wu:t}function _a(t,e){var r=De;De|=16;var n=dw();lr===t&&or===e||rs(t,e);do try{S4();break}catch(i){hw(t,i)}while(1);if(y0(),De=r,Hu.current=n,Lt!==null)throw Error(ge(261));return lr=null,or=0,Jt}function S4(){for(;Lt!==null;)pw(Lt)}function b4(){for(;Lt!==null&&!n4();)pw(Lt)}function pw(t){var e=gw(t.alternate,t,eo);t.memoizedProps=t.pendingProps,e===null?yw(t):Lt=e,k0.current=null}function yw(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&2048)===0){if(r=h4(r,e,eo),r!==null){Lt=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||(eo&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(r=d4(e),r!==null){r.flags&=2047,Lt=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);Jt===0&&(Jt=5)}function Wi(t){var e=ss();return Qi(99,E4.bind(null,t,e)),null}function E4(t,e){do gi();while(Ia!==null);if((De&48)!==0)throw Error(ge(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ge(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,a=t.expirationTimes;0<o;){var c=31-hi(o),d=1<<c;i[c]=0,s[c]=-1,a[c]=-1,o&=~d}if(zn!==null&&(n&24)===0&&zn.has(t)&&zn.delete(t),t===lr&&(Lt=lr=null,or=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=De,De|=32,k0.current=null,Wh=gu,s=n1(),vd(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(d=a.getSelection&&a.getSelection())&&d.rangeCount!==0){a=d.anchorNode,o=d.anchorOffset,c=d.focusNode,d=d.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var m=0,v=-1,y=-1,w=0,b=0,A=s,O=null;t:for(;;){for(var I;A!==a||o!==0&&A.nodeType!==3||(v=m+o),A!==c||d!==0&&A.nodeType!==3||(y=m+d),A.nodeType===3&&(m+=A.nodeValue.length),(I=A.firstChild)!==null;)O=A,A=I;for(;;){if(A===s)break t;if(O===a&&++w===o&&(v=m),O===c&&++b===d&&(y=m),(I=A.nextSibling)!==null)break;A=O,O=A.parentNode}A=I}a=v===-1||y===-1?null:{start:v,end:y}}else a=null;a=a||{start:0,end:0}}else a=null;Hh={focusedElem:s,selectionRange:a},gu=!1,Ra=null,xu=!1,ke=n;do try{x4()}catch($){if(ke===null)throw Error(ge(330));ci(ke,$),ke=ke.nextEffect}while(ke!==null);Ra=null,ke=n;do try{for(s=t;ke!==null;){var F=ke.flags;if(F&16&&Ca(ke.stateNode,""),F&128){var K=ke.alternate;if(K!==null){var H=K.ref;H!==null&&(typeof H=="function"?H(null):H.current=null)}}switch(F&1038){case 2:z1(ke),ke.flags&=-3;break;case 6:z1(ke),ke.flags&=-3,Qh(ke.alternate,ke);break;case 1024:ke.flags&=-1025;break;case 1028:ke.flags&=-1025,Qh(ke.alternate,ke);break;case 4:Qh(ke.alternate,ke);break;case 8:a=ke,lw(s,a);var Y=a.alternate;B1(a),Y!==null&&B1(Y)}ke=ke.nextEffect}}catch($){if(ke===null)throw Error(ge(330));ci(ke,$),ke=ke.nextEffect}while(ke!==null);if(H=Hh,K=n1(),F=H.focusedElem,s=H.selectionRange,K!==F&&F&&F.ownerDocument&&kv(F.ownerDocument.documentElement,F)){for(s!==null&&vd(F)&&(K=s.start,H=s.end,H===void 0&&(H=K),"selectionStart"in F?(F.selectionStart=K,F.selectionEnd=Math.min(H,F.value.length)):(H=(K=F.ownerDocument||document)&&K.defaultView||window,H.getSelection&&(H=H.getSelection(),a=F.textContent.length,Y=Math.min(s.start,a),s=s.end===void 0?Y:Math.min(s.end,a),!H.extend&&Y>s&&(a=s,s=Y,Y=a),a=r1(F,Y),o=r1(F,s),a&&o&&(H.rangeCount!==1||H.anchorNode!==a.node||H.anchorOffset!==a.offset||H.focusNode!==o.node||H.focusOffset!==o.offset)&&(K=K.createRange(),K.setStart(a.node,a.offset),H.removeAllRanges(),Y>s?(H.addRange(K),H.extend(o.node,o.offset)):(K.setEnd(o.node,o.offset),H.addRange(K)))))),K=[],H=F;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<K.length;F++)H=K[F],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}gu=!!Wh,Hh=Wh=null,t.current=r,ke=n;do try{for(F=t;ke!==null;){var M=ke.flags;if(M&36&&g4(F,ke.alternate,ke),M&128){K=void 0;var z=ke.ref;if(z!==null){var S=ke.stateNode;switch(ke.tag){case 5:K=S;break;default:K=S}typeof z=="function"?z(K):z.current=K}}ke=ke.nextEffect}}catch($){if(ke===null)throw Error(ge(330));ci(ke,$),ke=ke.nextEffect}while(ke!==null);ke=null,o4(),De=i}else t.current=r;if(pi)pi=!1,Ia=t,wa=e;else for(ke=n;ke!==null;)e=ke.nextEffect,ke.nextEffect=null,ke.flags&8&&(M=ke,M.sibling=null,M.stateNode=null),ke=e;if(n=t.pendingLanes,n===0&&(On=null),n===1?t===zd?Da++:(Da=0,zd=t):Da=0,r=r.stateNode,Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(d0,r,void 0,(r.current.flags&64)===64)}catch{}if(Kr(t,ir()),Gu)throw Gu=!1,t=Md,Md=null,t;return(De&8)!==0||Nn(),null}function x4(){for(;ke!==null;){var t=ke.alternate;xu||Ra===null||((ke.flags&8)!==0?$g(ke,Ra)&&(xu=!0):ke.tag===13&&v4(t,ke)&&$g(ke,Ra)&&(xu=!0));var e=ke.flags;(e&256)!==0&&m4(t,ke),(e&512)===0||pi||(pi=!0,Va(97,function(){return gi(),null})),ke=ke.nextEffect}}function gi(){if(wa!==90){var t=97<wa?97:wa;return wa=90,Qi(t,k4)}return!1}function O4(t,e){Bd.push(e,t),pi||(pi=!0,Va(97,function(){return gi(),null}))}function mw(t,e){Ud.push(e,t),pi||(pi=!0,Va(97,function(){return gi(),null}))}function k4(){if(Ia===null)return!1;var t=Ia;if(Ia=null,(De&48)!==0)throw Error(ge(331));var e=De;De|=32;var r=Ud;Ud=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(c){if(o===null)throw Error(ge(330));ci(o,c)}}for(r=Bd,Bd=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var a=i.create;i.destroy=a()}catch(c){if(o===null)throw Error(ge(330));ci(o,c)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return De=e,Nn(),!0}function $1(t,e,r){e=O0(r,e),e=sw(t,e,1),ai(t,e),e=Fr(),t=ac(t,1),t!==null&&(Qu(t,1,e),Kr(t,e))}function ci(t,e){if(t.tag===3)$1(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){$1(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(On===null||!On.has(n))){t=O0(e,t);var i=aw(r,t,1);if(ai(r,i),i=Fr(),r=ac(r,1),r!==null)Qu(r,1,i),Kr(r,i);else if(typeof n.componentDidCatch=="function"&&(On===null||!On.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function T4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fr(),t.pingedLanes|=t.suspendedLanes&r,lr===t&&(or&r)===r&&(Jt===4||Jt===3&&(or&62914560)===or&&500>ir()-N0?rs(t,0):T0|=r),Kr(t,e)}function N4(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=ss()===99?1:2:(Mn===0&&(Mn=cs),e=zo(62914560&~Mn),e===0&&(e=4194304))),r=Fr(),t=ac(t,e),t!==null&&(Qu(t,e,r),Kr(t,r))}var gw;gw=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||wr.current)ln=!0;else if((r&n)!==0)ln=(t.flags&16384)!==0;else{switch(ln=!1,e.tag){case 3:A1(e),Kh();break;case 5:_1(e);break;case 1:_r(e.type)&&_u(e);break;case 4:kd(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;wt(Pu,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return(r&e.child.childLanes)!==0?I1(t,e,r):(wt(vt,vt.current&1),e=Un(t,e,r),e!==null?e.sibling:null);wt(vt,vt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,(t.flags&64)!==0){if(n)return P1(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wt(vt,vt.current),n)break;return null;case 23:case 24:return e.lanes=0,Zh(t,e,r)}return Un(t,e,r)}else ln=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=os(e,sr.current),Qo(e,r),i=S0(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,_r(n)){var o=!0;_u(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,g0(e);var s=n.getDerivedStateFromProps;typeof s=="function"&&Mu(e,n,s,t),i.updater=oc,e.stateNode=i,i._reactInternals=e,Od(e,n,t,r),e=Id(null,e,n,!0,o,r)}else e.tag=0,vr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=I4(i),t=an(i,t),o){case 0:e=Ad(null,e,i,t,r);break e;case 1:e=N1(null,e,i,t,r);break e;case 11:e=k1(null,e,i,t,r);break e;case 14:e=T1(null,e,i,an(i.type,t),n,r);break e}throw Error(ge(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),Ad(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),N1(t,e,n,i,r);case 3:if(A1(e),n=e.updateQueue,t===null||n===null)throw Error(ge(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,Vv(t,e),$a(e,n,null,r),n=e.memoizedState.element,n===i)Kh(),e=Un(t,e,r);else{if(i=e.stateNode,(o=i.hydrate)&&(ri=Xo(e.stateNode.containerInfo.firstChild),Bn=e,o=Tn=!0),o){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)o=t[i],o._workInProgressVersionPrimary=t[i+1],es.push(o);for(r=Hv(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else vr(t,e,n,r),Kh();e=e.child}return e;case 5:return _1(e),t===null&&Td(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Sd(n,i)?s=null:o!==null&&Sd(n,o)&&(e.flags|=16),rw(t,e),vr(t,e,s,r),e.child;case 6:return t===null&&Td(e),null;case 13:return I1(t,e,r);case 4:return kd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Bu(e,null,n,r):vr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),k1(t,e,n,i,r);case 7:return vr(t,e,e.pendingProps,r),e.child;case 8:return vr(t,e,e.pendingProps.children,r),e.child;case 12:return vr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var a=e.type._context;if(wt(Pu,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=Hr(a,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!wr.current){e=Un(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){s=a.child;for(var d=c.firstContext;d!==null;){if(d.context===n&&(d.observedBits&o)!==0){a.tag===1&&(d=si(-1,r&-r),d.tag=2,ai(a,d)),a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),zv(a.return,r),c.lanes|=r;break}d=d.next}}else s=a.tag===10&&a.type===e.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}vr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,n=o.children,Qo(e,r),i=Yr(i,o.unstable_observedBits),n=n(i),e.flags|=1,vr(t,e,n,r),e.child;case 14:return i=e.type,o=an(i,e.pendingProps),o=an(i.type,o),T1(t,e,i,o,n,r);case 15:return tw(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,_r(n)?(t=!0,_u(e)):t=!1,Qo(e,r),qv(e,n,i),Od(e,n,i,r),Id(null,e,n,!0,t,r);case 19:return P1(t,e,r);case 23:return Zh(t,e,r);case 24:return Zh(t,e,r)}throw Error(ge(156,e.tag))};function A4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,e,r,n){return new A4(t,e,r,n)}function I0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I4(t){if(typeof t=="function")return I0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ku)return 11;if(t===Zu)return 14}return 2}function yi(t,e){var r=t.alternate;return r===null?(r=Gr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ou(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")I0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Qn:return ns(r.children,i,o,e);case H1:s=8,i|=16;break;case Hd:s=8,i|=1;break;case Sa:return t=Gr(12,r,e,i|8),t.elementType=Sa,t.type=Sa,t.lanes=o,t;case ba:return t=Gr(13,r,e,i),t.type=ba,t.elementType=ba,t.lanes=o,t;case ku:return t=Gr(19,r,e,i),t.elementType=ku,t.lanes=o,t;case Xd:return D0(r,i,o,e);case nd:return t=Gr(24,r,e,i),t.elementType=nd,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gd:s=10;break e;case Jd:s=9;break e;case Ku:s=11;break e;case Zu:s=14;break e;case Yd:s=16,n=null;break e;case Kd:s=22;break e}throw Error(ge(130,t==null?t:typeof t,""))}return e=Gr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function ns(t,e,r,n){return t=Gr(7,t,n,e),t.lanes=r,t}function D0(t,e,r,n){return t=Gr(23,t,n,e),t.elementType=Xd,t.lanes=r,t}function ed(t,e,r){return t=Gr(6,t,null,e),t.lanes=r,t}function td(t,e,r){return e=Gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function D4(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bh(0),this.expirationTimes=Bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bh(0),this.mutableSourceEagerHydrationData=null}function R4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ju(t,e,r,n){var i=e.current,o=Fr(),s=li(i);e:if(r){r=r._reactInternals;t:{if(no(r)!==r||r.tag!==1)throw Error(ge(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(_r(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(ge(171))}if(r.tag===1){var c=r.type;if(_r(c)){r=Cv(r,c,a);break e}}r=a}else r=di;return e.context===null?e.context=r:e.pendingContext=r,e=si(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),ai(i,e),ui(i,s,o),s}function rd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function q1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function R0(t,e){q1(t,e),(t=t.alternate)&&q1(t,e)}function F4(){return null}function F0(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new D4(t,e,r!=null&&r.hydrate===!0),e=Gr(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,g0(e),t[us]=r.current,Av(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}F0.prototype.render=function(t){Ju(t,this._internalRoot,null,null)};F0.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ju(null,t,null,function(){e[us]=null})};function Za(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function C4(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new F0(t,0,e?{hydrate:!0}:void 0)}function lc(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var d=rd(s);a.call(d)}}Ju(e,s,t,i)}else{if(o=r._reactRootContainer=C4(r,n),s=o._internalRoot,typeof i=="function"){var c=i;i=function(){var d=rd(s);c.call(d)}}fw(function(){Ju(e,s,t,i)})}return rd(s)}lv=function(t){if(t.tag===13){var e=Fr();ui(t,4,e),R0(t,4)}};n0=function(t){if(t.tag===13){var e=Fr();ui(t,67108864,e),R0(t,67108864)}};uv=function(t){if(t.tag===13){var e=Fr(),r=li(t);ui(t,r,e),R0(t,r)}};cv=function(t,e){return e()};dd=function(t,e,r){switch(e){case"input":if(od(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=nc(n);if(!i)throw Error(ge(90));J1(n),od(n,i)}}}break;case"textarea":K1(t,r);break;case"select":e=r.value,e!=null&&Yo(t,!!r.multiple,e,!1)}};e0=cw;iv=function(t,e,r,n,i){var o=De;De|=4;try{return Qi(98,t.bind(null,e,r,n,i))}finally{De=o,De===0&&(ds(),Nn())}};t0=function(){(De&49)===0&&(_4(),gi())};ov=function(t,e){var r=De;De|=2;try{return t(e)}finally{De=r,De===0&&(ds(),Nn())}};function vw(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Za(e))throw Error(ge(200));return R4(t,e,null,r)}var P4={Events:[Ja,Wo,nc,rv,nv,gi,{current:!1}]},pa={findFiberByHostInstance:Ji,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},j4={bundleType:pa.bundleType,version:pa.version,rendererPackageName:pa.rendererPackageName,rendererConfig:pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=av(t),t===null?null:t.stateNode},findFiberByHostInstance:pa.findFiberByHostInstance||F4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ya=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ya.isDisabled&&ya.supportsFiber))try{d0=ya.inject(j4),Zi=ya}catch{}var ya;Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P4;Zr.createPortal=vw;Zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ge(188)):Error(ge(268,Object.keys(t)));return t=av(e),t=t===null?null:t.stateNode,t};Zr.flushSync=function(t,e){var r=De;if((r&48)!==0)return t(e);De|=1;try{if(t)return Qi(99,t.bind(null,e))}finally{De=r,Nn()}};Zr.hydrate=function(t,e,r){if(!Za(e))throw Error(ge(200));return lc(null,t,e,!0,r)};Zr.render=function(t,e,r){if(!Za(e))throw Error(ge(200));return lc(null,t,e,!1,r)};Zr.unmountComponentAtNode=function(t){if(!Za(t))throw Error(ge(40));return t._reactRootContainer?(fw(function(){lc(null,null,t,!1,function(){t._reactRootContainer=null,t[us]=null})}),!0):!1};Zr.unstable_batchedUpdates=cw;Zr.unstable_createPortal=function(t,e){return vw(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Zr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Za(r))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return lc(t,e,r,!1,n)};Zr.version="17.0.2"});var bw=ve((bI,Sw)=>{"use strict";function _w(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_w)}catch(t){console.error(t)}}_w(),Sw.exports=ww()});var Xa=ve(Rw=>{var q4={debug:!1,protocol:"http",host:"localhost",port:8080,socket_protocol:"ws",hotreload:5e3,python:void 0,python_node:7001,startpage:"src/index.html",errpage:"src/other/404.html",certpath:"node_server/ssl/cert.pem",keypath:"node_server/ssl/key.pem",dataserver:"http://localhost:4000",realmapp:"buckleup-ilscy",googleclientid:"406817559914-boi30d05dk9jtj55frgi1dg8gkp6rrj9.apps.googleusercontent.com"};Rw.settings=q4});var Cw,Pw,Fw,jw=tt(()=>{Cw=Ft(Xa()),Fw={log:console.log,gAuth:new Promise(t=>Pw=t)};Object.keys(Fw).forEach(t=>{window[t]=Fw[t]});(function(){if(location.hostname==="localhost"&&location.port!=="4000")return;function e(){gapi.load("auth2",()=>{gapi.auth2.init({client_id:Cw.settings.googleclientid,scope:"https://www.googleapis.com/auth/drive"}).then(i=>{Pw(()=>i)},i=>{console.log("UNHANDLED"),console.error(i)})})}let r=document.createElement("script");r.type="text/javascript",r.src="https://apis.google.com/js/platform.js",r.onload=e,document.head.appendChild(r)})()});var Mw=ve(Lw=>{"use strict";Object.defineProperty(Lw,"__esModule",{value:!0})});var P0=ve(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.arrHas=He.arrLast=He.arrToBoolDict=He.arrToIdxDict=He.arrToDict=He.arrRemoveValues=He.arrReplace=He.arrDeepFlatten=He.arrFlatten=He.arrDivide=He.arrGetByIds=He.arrRemoveById=He.arrGen=void 0;var wi=_i(),W4=t=>Array(t).fill(null);He.arrGen=W4;function H4(t,e,r="id"){let n=Bw(t,r),i=wi.objRemoveKeys(n,e);return wi.objVals(i)}He.arrRemoveById=H4;function G4(t,e,r="id"){let n=Uw(e);return t.filter(i=>n[i[r]])}He.arrGetByIds=G4;function J4(t,e){let r=Math.ceil(t.length/e),n=He.arrGen(r).map(()=>[]);return t.forEach((i,o)=>n[Math.floor(o/e)].push(i)),n}He.arrDivide=J4;function Y4(t){return[].concat.apply([],t)}He.arrFlatten=Y4;var K4=t=>t.reduce((e,r)=>e.concat(wi.isType(r,"array")?He.arrDeepFlatten(r):r),[]);He.arrDeepFlatten=K4;function Z4(t){let e=[...t];return{all:r=>{let n=[];return t.forEach((i,o)=>wi.equal(r,i)?n[o]=o:null),{with:i=>n.length?(n.forEach(o=>e[o]=i),e):t}},first:r=>{let n=t.findIndex(i=>wi.equal(r,i));return{with:i=>wi.nonValue(n)?t:(e[n]=i,e)}}}}He.arrReplace=Z4;function X4(t,e){let r=[...t];return e.forEach(n=>r=r.filter(i=>!wi.equal(i,n))),r}He.arrRemoveValues=X4;function Bw(t,e){let r={};return t.forEach(n=>r[n[e]]=n),r}He.arrToDict=Bw;function Q4(t){let e={};return t.forEach((r,n)=>e[r]=n+""),e}He.arrToIdxDict=Q4;function Uw(t){let e={};return t.forEach(r=>e[r]=!0),e}He.arrToBoolDict=Uw;var e6=t=>t[t.length-1];He.arrLast=e6;function t6(t,e,r=!1){let n=r?i=>wi.equal(i,e):i=>i===e;return t.findIndex(n)!==-1}He.arrHas=t6});var zw=ve(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.clone=void 0;function j0(t){let e,r,n,i,o,s,a;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t);if(r=Object.keys(t),n=r.length,Array.isArray(t)){for(s=new Array(n),i=0;i<n;i++)o=r[i],e=t[o],typeof e!="object"||e===null?s[o]=e:e instanceof Date?s[o]=new Date(e):s[o]=j0(e);return s}for(a={},i=0;i<n;i++)o=r[i],e=t[o],Object.hasOwnProperty.call(t,o)!==!1&&(typeof e!="object"||e===null?a[o]=e:e instanceof Date?a[o]=new Date(e):a[o]=j0(e));return a}uc.clone=j0});var Vw=ve(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.equal=void 0;function cc(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!cc(t[n],e[n]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;for(n of t.entries())if(!cc(n[1],e.get(n[0])))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!cc(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}fc.equal=cc});var qw=ve(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.promiseOut=_t.debounceTimeOut=_t.randomColorHex=_t.uiid=_t.assertType=_t.type=_t.cloneLog=_t.unsubAll=_t.wait=_t.interval=void 0;var $n=_i(),r6=(t,e,r)=>{if($n.isType(r,"number")&&r<1)throw Error(`argument "times" can't be less than 1`);let n=0,i=setInterval(()=>{t(n),n++,r&&n>=r&&clearInterval(i)},e);return{stop:()=>clearInterval(i)}};_t.interval=r6;var n6=t=>new Promise(e=>setTimeout(()=>e(),t));_t.wait=n6;var $w=(t,e="unsubscribe")=>$n.isType(t,"object")&&$n.hasKey(t,e)?t[e]():null;function i6(t,e="unsubscribe"){if($n.isType(t,"array"))t.forEach(r=>$w(r,e));else if($n.isType(t,"object"))$n.objMap(t,({val:r})=>$w(r,e));else throw Error('argument "objOrArr" must be of type "object" or "array"')}_t.unsubAll=i6;var o6=t=>console.log($n.clone(t));_t.cloneLog=o6;function s6(t){return typeof t=="object"?Array.isArray(t)?"array":t===null?"null":"object":t!==t?"NaN":typeof t}_t.type=s6;function a6(t,e){$n.isType(e,"array")||(e=[e]);for(let r of e)if($n.isType(t,r))return;throw Error(`value needs to be of type ${e.join(" || ")}`)}_t.assertType=a6;var l6=()=>{let t=new Date().getTime(),e=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=Math.random()*16;return t>0?(i=(t+i)%16|0,t=Math.floor(t/16)):(i=(e+i)%16|0,e=Math.floor(e/16)),(n==="x"?i:i&3|8).toString(16)})};_t.uiid=l6;var u6=()=>"#"+((1<<24)*Math.random()|0).toString(16);_t.randomColorHex=u6;function c6(){let t=null;return(e,r)=>{t&&clearTimeout(t),t=setTimeout(e,r)}}_t.debounceTimeOut=c6;function f6(){let t,e=new Promise(r=>t=r);return{resolve:t,promise:e}}_t.promiseOut=f6});var Ww=ve(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.iterate=void 0;var L0=P0();function h6(t,e,r){let n=(i,o=!1)=>{let s=[];for(let a=0;a<t;a++)if(!e)s.push(i({x:a}));else for(let c=0;c<e;c++)if(!r)s.push(i({x:a,y:c}));else for(let d=0;d<r;d++)s.push(i({x:a,y:c,z:d}));return o?r&&e?L0.arrDivide(s,e*r).map(c=>L0.arrDivide(c,r)):e?L0.arrDivide(s,e):s:s};return{for:i=>{n(i)},map:i=>n(i),nestedMap:i=>n(i,!0)}}hc.iterate=h6});var Gw=ve(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.newNumFromRange=Pr.numberWithCommas=Pr.decPlace=Pr.average=Pr.rand=void 0;var Hw=_i(),d6=(t,e)=>Math.floor(Math.random()*(e+1-t))+t;Pr.rand=d6;var p6=t=>t.reduce((e=0,r=0)=>e+r,0)/t.length;Pr.average=p6;var y6=(t,e)=>parseFloat(t.toFixed(e));Pr.decPlace=y6;var m6=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Pr.numberWithCommas=m6;function g6(t,e,r){let n,i=0,o=Hw.isType(t,"array")?Hw.arrToBoolDict(t):{[t]:!0};do if(n=Pr.rand(e,r),i++,i>1e6)throw console.error("Check for infinite loops"),new Error("Looped 1 million times");while(o[n]);return n}Pr.newNumFromRange=g6});var Jw=ve(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.objPromiseAll=dt.objSortKeys=dt.objResolve=dt.objExtract=dt.objKeyVals=dt.objVals=dt.objKeys=dt.objRemoveKeys=dt.objFilter=dt.objMap=void 0;function v6(t,e){let r={};for(let n in t)r[n]=e({key:n,val:t[n]});return r}dt.objMap=v6;function w6(t,e){let r=Object.assign({},t);for(let n in t)e({key:n,val:t[n]})||delete r[n];return r}dt.objFilter=w6;function _6(t,e){let r=Object.assign({},t);return e.forEach(n=>delete r[n]),r}dt.objRemoveKeys=_6;function dc(t){if(Object.keys)return Object.keys(t);let e=[];for(let r in t)e.push(r);return e}dt.objKeys=dc;var S6=t=>Object.values?Object.values(t):dc(t).map(e=>t[e]);dt.objVals=S6;var b6=t=>dc(t).map(e=>({key:e,val:t[e]}));dt.objKeyVals=b6;function E6(t,e){let r={};return e.forEach(n=>r[n]=t[n]),r}dt.objExtract=E6;var x6=(t,e)=>e.split(".").reduce((r,n)=>r[n],t);dt.objResolve=x6;var O6=(t,e)=>{let r={};return dc(t).sort(e).map(i=>r[i]=t[i]),r};dt.objSortKeys=O6;function k6(t){let e=dt.objKeyVals(t),r=e.length,n={},i=0;return new Promise(o=>e.forEach(({key:s,val:a})=>a.then(c=>{n[s]=c,i++,r===i&&o(n)})))}dt.objPromiseAll=k6});var Yw=ve(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.minAppend=Si.strRemove=Si.strIncludes=void 0;var T6=(t,e)=>t.indexOf(e)!==-1;Si.strIncludes=T6;var N6=(t,e)=>t.replace(new RegExp(e,"g"),"");Si.strRemove=N6;var A6=(t,e,r="0")=>{if(t=t+"",e<1)throw Error("length can not be less than 1");if(t.length>e)throw Error("item can not exceed length");return(r.repeat(e-1)+t).slice(-e)};Si.minAppend=A6});var Zw=ve(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.isValidEmail=Ct.nonValue=Ct.nullOrEmpty=Ct.isType=Ct.hasKeys=Ct.hasKey=void 0;var Kw=_i(),I6=(t,e)=>Ct.isType(t,"object")&&t.hasOwnProperty(e);Ct.hasKey=I6;function D6(t,e){if(!Ct.isType(t,"object"))return!1;for(let r of e)if(!t.hasOwnProperty(r))return!1;return!0}Ct.hasKeys=D6;var R6=(t,e)=>Kw.type(t)===e;Ct.isType=R6;function F6(t){return Ct.nonValue(t)?!0:Ct.isType(t,"string")||Ct.isType(t,"array")?!t.length:Ct.isType(t,"object")?!Kw.objVals(t).length:!1}Ct.nullOrEmpty=F6;var C6=t=>t==null;Ct.nonValue=C6;var P6=t=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t);Ct.isValidEmail=P6});var Xw=ve(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.yearStartEnd=Ee.monthStartEnd=Ee.weekStartEnd=Ee.getDayStartEnd=Ee.wks=Ee.weeks=Ee.dys=Ee.days=Ee.hrs=Ee.hours=Ee.min=Ee.minutes=Ee.sec=Ee.seconds=Ee.msToTime=Ee.msToWks=Ee.msToDys=Ee.msToHrs=Ee.msToMin=Ee.msToSec=Ee.dateTimeToString=Ee.weekTuple=Ee.msTime=void 0;var pc=_i();Ee.msTime={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};Ee.weekTuple=["sun","mon","tue","wed","thu","fri","sat"];function j6(t=new Date){let e=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2),n=("0"+t.getSeconds()).slice(-2),i=("00"+t.getMilliseconds()).slice(-3);return`${e}:${r}:${n}:${i}`}Ee.dateTimeToString=j6;var L6=t=>t/Ee.msTime.s;Ee.msToSec=L6;var M6=t=>t/Ee.msTime.m;Ee.msToMin=M6;var B6=t=>t/Ee.msTime.h;Ee.msToHrs=B6;var U6=t=>t/Ee.msTime.d;Ee.msToDys=U6;var z6=t=>t/Ee.msTime.w;Ee.msToWks=z6;function V6(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);o=o%24;let a=("00"+s).slice(-3),c=("0"+o).slice(-2),d=("0"+i).slice(-2),m=("0"+n).slice(-2),v=("00"+r).slice(-3);return e?{d:s,h:o,m:i,s:n,ms:r}:`${s?a+":":""}${c}:${d}:${m}:${v}`}Ee.msToTime=V6;var $6=t=>t*Ee.msTime.s;Ee.seconds=$6;Ee.sec=Ee.seconds;var q6=t=>t*Ee.msTime.m;Ee.minutes=q6;Ee.min=Ee.minutes;var W6=t=>t*Ee.msTime.h;Ee.hours=W6;Ee.hrs=Ee.hours;var H6=t=>t*Ee.msTime.d;Ee.days=H6;Ee.dys=Ee.days;var G6=t=>t*Ee.msTime.w;Ee.weeks=G6;Ee.wks=Ee.weeks;function J6(t,e="local"){pc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),o=new Date(r,n,i),s=new Date(r,n,i,23,59,59,999);if(e==="unix"){let a=Ee.min(o.getTimezoneOffset());o=new Date(o.getTime()+a),s=new Date(s.getTime()+a)}return{start:o,end:s}}Ee.getDayStartEnd=J6;function Y6(t,e="sun",r="local"){pc.isType(t,"number")&&(t=new Date(t));let i=t.getDay()*-1+(e==="mon"?1:0),o=6+i,s=new Date(t.getTime()+Ee.days(i)),a=new Date(t.getTime()+Ee.days(o)),c=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999);if(r==="unix"){let m=Ee.min(c.getTimezoneOffset());c=new Date(c.getTime()+m),d=new Date(d.getTime()+m)}return{start:c,end:d}}Ee.weekStartEnd=Y6;function K6(t,e="local"){pc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=new Date(r,n,1),o=new Date(r,n,0,23,59,59,999);if(e==="unix"){let s=Ee.min(i.getTimezoneOffset());i=new Date(i.getTime()+s),o=new Date(o.getTime()+s)}return{start:i,end:o}}Ee.monthStartEnd=K6;function Z6(t,e="local"){pc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=new Date(r,0,1),i=new Date(r,12,0,23,59,59,999);if(e==="unix"){let o=Ee.min(n.getTimezoneOffset());n=new Date(n.getTime()+o),i=new Date(i.getTime()+o)}return{start:n,end:i}}Ee.yearStartEnd=Z6});var _i=ve(Kt=>{"use strict";var X6=Kt&&Kt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cn=Kt&&Kt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&X6(e,t,r)};Object.defineProperty(Kt,"__esModule",{value:!0});cn(Mw(),Kt);cn(P0(),Kt);cn(zw(),Kt);cn(Vw(),Kt);cn(qw(),Kt);cn(Ww(),Kt);cn(Gw(),Kt);cn(Jw(),Kt);cn(Yw(),Kt);cn(Zw(),Kt);cn(Xw(),Kt)});var Qw,e_,t_,r_=tt(()=>{Qw=class{constructor(e=!1,r=!1){this.debug=e,this.listeners=[],this.synchronous=r,this.syncInterval="FRAMERATE",this.syncAnim=void 0,r===!0&&this.startSync()}addListener(e=null,r,n=void 0,i=void 0,o=void 0,s=this.debug,a=!0){if(r===void 0){console.error("You must assign an object");return}var c=e;c==null&&(c=Math.floor(Math.random()*1e5)),this.synchronous===!0&&(a=!1);var d={key:c,listener:new e_(r,n,i,o,s,a)};this.listeners.push(d)}getListener(e){return this.listeners.find((n,i)=>{if(n.key===e)return!0})}hasKey(e){var r=!1;return this.listeners.forEach((n,i)=>{if(n.key===e)return r=!0,!0}),r}getKeyIndices(e){var r=[];return this.listeners.find((n,i)=>{n.key===e&&r.push(i)}),r}onchange(e=null,r=null){if(e==null)this.listeners.forEach((i,o)=>{i.listener.onchange=r});else var n=this.listeners.find((i,o)=>{i.name===e&&(i.listener.onchange=r)})}addFunc=(e=null,r=null,n=!0)=>{var i=null;if(r!==null)if(e==null)this.listeners.forEach((s,a)=>{i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start()});else var o=this.listeners.find((s,a)=>{s.key===e&&(i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start())});return i};getFuncs=(e=void 0)=>{if(e){var r=this.listeners.find((n,i)=>{if(n.key===e)return!0});return r.onchangeFuncs}else return};removeFuncs=(e=null,r=null,n=!1)=>{if(e==null)this.listeners.forEach((o,s)=>{o.listener.removeFuncs(r)});else var i=this.listeners.find((o,s)=>{o.key===e&&(o.listener.removeFuncs(r),(o.listener.onchangeFuncs.length===0||n===!0)&&o.listener.stop())})};stop(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.stop()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.stop()})}start(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.start()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.start()})}startSync(){if(this.synchronous===!1){this.synchronous=!0,this.stop();let e=()=>{this.synchronous===!0&&(this.listeners.forEach(r=>{r.listener.check()}),this.syncInterval==="FRAMERATE"?this.syncAnim=requestAnimationFrame(e):typeof this.syncInterval=="number"&&setTimeout(e,this.syncInterval))};e()}}stopSync(){this.synchronous=!1,this.syncAnim&&cancelAnimationFrame(this.syncAnim)}remove(e=null){if(e==null)this.listeners.forEach(i=>{i.listener.stop()}),this.listeners.splice(0,this.listeners.length);else{var r=[],n=this.listeners.forEach((i,o)=>{i.key===e&&r.push(o)});r.reverse().forEach(i=>{this.listeners[i].listener.stop(),this.listeners.splice(i,1)})}}},e_=class{constructor(e,r="__ANY__",n=this.onchange,i="FRAMERATE",o=!1,s=!0){this.debug=o,this.onchange=n,this.onchangeFuncs=[],this.object=e,this.propName=r,this.propOld=void 0,this.setListenerRef(r),this.running=s,this.funcs=0,this.interval,i<10?(this.interval=10,console.log("Min recommended interval set: 10ms")):this.interval=i,s===!0&&(typeof window>"u"?setTimeout(()=>{this.check()},60):this.checker=requestAnimationFrame(this.check))}onchange=e=>{console.log(this.propName," changed from: ",this.propOld," to: ",this.object[this.propName])};addFunc=(e=null)=>{let r=0;return e!==null&&(this.onchangeFuncs.push({idx:this.funcs,onchange:e}),r=this.funcs,this.funcs++),r};removeFuncs(e=null){let r=0;e===null?this.onchangeFuncs=[]:this.onchangeFuncs.find((n,i)=>{if(n.idx===e)return r=i,!0})!==void 0&&this.onchangeFuncs.splice(r,1)}onchangeMulti=e=>{[...this.onchangeFuncs].forEach((n,i)=>{this.debug===!0&&console.log(n.onchange),n.onchange(e)})};setListenerRef=e=>{e==="__ANY__"||e===null||e===void 0?this.propOld=JSON.stringifyFast(this.object):Array.isArray(this.object[e])?this.propOld=JSON.stringifyFast(this.object[e].slice(this.object[e].length-20)):typeof this.object[e]=="object"?this.propOld=JSON.stringifyFast(this.object[e]):typeof this.object[e]=="function"?this.propOld=this.object[e].toString():this.propOld=this.object[e],this.debug===!0&&console.log("propname",e,", new assignment: ",this.propOld)};check=()=>{let e=!1;if(this.propName==="__ANY__"||this.propName===null||this.propName===void 0)this.propOld!==JSON.stringifyFast(this.object)&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object),this.setListenerRef(this.propName),e=!0);else if(Array.isArray(this.object[this.propName]))this.propOld!==JSON.stringifyFast(this.object[this.propName].slice(this.object[this.propName].length-20))&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);else if(typeof this.object[this.propName]=="object"){let r=JSON.stringifyFast(this.object[this.propName]);this.propOld!==r&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0)}else typeof this.object[this.propName]=="function"?this.propOld!==this.object[this.propName].toString()&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName].toString()),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName].toString()),this.setListenerRef(this.propName),e=!0):this.object[this.propName]!==this.propOld&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);return this.running===!0&&(this.debug===!0&&console.log("checking",this.object,this.propName),this.interval==="FRAMERATE"?typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check):setTimeout(()=>{this.check()},this.interval)),e};start(){this.running=!0,typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check)}stop(){this.running=!1,cancelAnimationFrame(this.checker)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1;if(e[c]){var d=e[c];if(typeof d=="object")if(d[s]===a||c===0)r.push(s),e.push(a.pushed);else for(;c-->=0;){if(d=e[c],typeof d=="object"&&d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}c--}}}function o(s,a){let c;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let m=t.get(a);if(m)return"[Circular Reference]"+m;if(t.set(a,r.join(".")),d==="Array")a.length>20?c=a.slice(a.length-20):c=a;else if(d.includes("Set"))c=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")c="instanceof_"+d;else if(d==="Object"){let v={};for(let y in a)if(a[y]==null)v[y]=a[y];else if(Array.isArray(a[y]))a[y].length>20?v[y]=a[y].slice(a[y].length-20):v[y]=a[y];else if(a[y].constructor.name==="Object"){v[y]={};for(let w in a[y])if(Array.isArray(a[y][w]))a[y][w].length>20?v[y][w]=a[y][w].slice(a[y][w].length-20):v[y][w]=a[y][w];else if(a[y][w]!=null){let b=a[y][w].constructor.name;b.includes("Set")?v[y][w]=Array.from(a[y][w]):b!=="Number"&&b!=="String"&&b!=="Boolean"?v[y][w]="instanceof_"+b:v[y][w]=a[y][w]}else v[y][w]=a[y][w]}else{let w=a[y].constructor.name;w.includes("Set")?v[y]=Array.from(a[y]):w!=="Number"&&w!=="String"&&w!=="Boolean"?v[y]="instanceof_"+w:v[y]=a[y]}c=v}else c=a}else c=a;return c}return function(a,c){e.push(a);let d=JSON.stringify(a,o,c);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1,d=e[c];if(d[s]===a||c===0)r.push(s),e.push(a);else for(;c-->=0;)if(d=e[c],d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let c=t.get(a);if(c)return"[Circular Reference]"+c;t.set(a,r.join("."))}return a}return function(a,c){try{return e.push(a),JSON.stringify(a,o,c)}finally{n()}}}());t_=Qw});var yc,n_,M0=tt(()=>{r_();yc=class{constructor(e={},r="FRAMERATE",n=!0){this.data=e,this.interval=r,this.pushToState={},this.pushRecord={pushed:[]},this.pushCallbacks={},this.triggers={},this.prev={},this.listener=new t_,this.defaultStartListenerEventLoop=n}subscribe(e,r,n=this.defaultStartListenerEventLoop){if(e&&e!=="state")if(this.data[e]===void 0)this.addToState(e,null,r,n);else return this.addSecondaryKeyResponse(e,r,void 0,n);else return this.addSecondaryKeyResponse(e,r,void 0,n)}subscribeOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribe(e,n)};n=this.subscribe(e,i)}unsubscribe(e,r=null){r!==null?this.removeSecondaryKeyResponse(e,r,!0):console.error("Specify a subcription function index")}unsubscribeAll(e){this.unsubscribeAllSequential(e),this.unsubscribeAllTriggers(e),this.clearAllKeyResponses(e),this.data[e]&&delete this.data[e],this.listener.hasKey("pushToState")&&this.setSequentialState({stateRemoved:e})}setInterval(e="FRAMERATE"){this.interval=e,this.listener.listeners.forEach((r,n)=>{r.interval=this.interval})}updateState(e,r){this.data[e]==null?this.addToState(e,r):this.data[e]=r}setupSynchronousUpdates=()=>{if(!this.listener.hasKey("pushToState")){let e=()=>{if(Object.keys(this.pushToState).length>0){Object.assign(this.data,this.pushToState);for(let r of Object.getOwnPropertyNames(this.pushToState))delete this.pushToState[r]}};this.listener.addListener("pushToState",this.pushToState,"__ANY__",e,this.interval),this.addToState("pushRecord",this.pushRecord,r=>{let n=r.pushed.length;for(let i=0;i<n;i++){let o=r.pushed[i];this.pushCallbacks.state&&this.pushCallbacks.state.forEach(s=>{s.onchange(o)});for(let s in o)this.pushCallbacks[s]&&this.pushCallbacks[s].forEach(a=>{typeof a=="object"&&a.onchange(o[s])})}this.pushRecord.pushed.splice(0,n)})}};addToState(e,r,n=null,i=this.defaultStartListenerEventLoop,o=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&this.setupSynchronousUpdates(),this.data[e]=r,this.setSequentialState({stateAdded:e}),n!==null)return this.addSecondaryKeyResponse(e,n,o,i)}get(e){return this.data[e]}getState(){return JSON.parse(JSON.stringifyFast(this.data))}setState(e={},r=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&(this.setupSynchronousUpdates(),this.pushRecord.pushed.push(JSON.parse(JSON.stringifyWithCircularRefs(e)))),e.stateUpdateTimeStamp=Date.now(),r){for(let n in e)if(n in this.pushToState){if(Array.isArray(this.pushToState[n])&&Array.isArray(e[n]))e[n]=this.pushToState[n].push(...e[n]);else if(typeof this.pushToState[n]=="object"&&typeof e[n]=="object"){for(let i in e[n])if(this.pushToState[n][i]){if(Array.isArray(this.pushToState[n][i])&&Array.isArray(e[n][i]))e[n][i]=this.pushToState[n][i].push(...e[n][i]);else if(typeof this.pushToState[n][i]=="object"&&typeof e[n][i]=="object"){for(let o in e[n][i])if(this.pushToState[n][i][o])Array.isArray(this.pushToState[n][i][o])&&Array.isArray(e[n][i][o])&&(e[n][i][o]=this.pushToState[n][i][o].push(...e[n][i][o]));else if(typeof this.pushToState[n][i][o]=="object"&&typeof e[n][i][o]=="object")for(let s in e[n][i][o])this.pushToState[n][i][o][s]&&Array.isArray(this.pushToState[n][i][o][s])&&Array.isArray(e[n][i][o][s])&&(e[n][i][o][s]=this.pushToState[n][i][o][s].push(...e[n][i][o][s]))}}}}}if(Object.assign(this.pushToState,e),Object.keys(this.triggers).length>0){this.triggers.state&&this.triggers.state.forEach(n=>{n.onchange(this.data)});for(let n of Object.getOwnPropertyNames(this.triggers))n in this.pushToState&&(this.data[n]=this.pushToState[n],delete this.pushToState[n],this.triggers[n].forEach(i=>{i.onchange(this.data[n])}))}return this.pushToState}subscribeTrigger(e=void 0,r=n=>{}){if(e){this.triggers[e]||(this.triggers[e]=[]);let n=this.triggers[e].length;return this.triggers[e].push({idx:n,onchange:r}),this.triggers[e].length-1}else return}subscribeTriggerOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeTrigger(e,n)};n=this.subscribeTrigger(e,i)}unsubscribeTrigger(e=void 0,r=0){let n,i=this.triggers[e];i&&i.find(s=>{if(s.idx===r)return!0})&&i.splice(n,1)}unsubscribeAllTriggers(e){e&&this.triggers[e]&&delete this.triggers[e]}setSequentialState(e={}){this.listener.hasKey("pushToState")||this.setupSynchronousUpdates(),e.stateUpdateTimeStamp=Date.now(),this.pushRecord.pushed.push(JSON.parse(JSON.stringify(e)))}subscribeSequential(e=void 0,r=void 0){if(e)if(this.data[e]===void 0&&e!=="state"&&this.addToState(e,null,void 0),this.pushCallbacks[e]||(this.pushCallbacks[e]=[]),r){let n=this.pushCallbacks[e].length;return this.pushCallbacks[e].push({idx:n,onchange:r}),this.pushCallbacks[e].length-1}else return;else return}subscribeSequentialOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeSequential(e,n)};n=this.subscribeSequential(e,i)}unsubscribeSequential(e=void 0,r=0){e&&this.pushCallbacks[e]&&this.pushCallbacks[e].find((n,i)=>{if(n.idx===r)return this.pushCallbacks[e].splice(i,1),!0})}unsubscribeAllSequential(e){e&&this.pushCallbacks[e]&&this.pushCallbacks[e]&&delete this.pushCallbacks[e]}setPrimaryKeyResponse(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop){if(r!==null)if(this.listener.hasKey(e))this.listener.onchange(e,r);else if(e!=null&&e!=="state")this.listener.addListener(e,this.data,e,r,this.data.stateUpdateInterval,n,i);else{if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}}addSecondaryKeyResponse=(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop)=>{if(r!=null){if(this.listener.hasKey(e))return this.listener.addFunc(e,r);if(e!=null&&e!=="state")return this.listener.addListener(e,this.data,e,()=>{},this.data.stateUpdateInterval,n,i),this.listener.addFunc(e,r);if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}};removeSecondaryKeyResponse(e=null,r=null,n=!0){e!==null?this.listener.hasKey(e)?this.listener.removeFuncs(e,r,n):console.error("key does not exist"):console.error("provide key")}clearAllKeyResponses(e=null){e===null?this.listener.remove(null):this.listener.hasKey(e)&&this.listener.remove(e)}getKeySubCallbacks(e){return this.listener.getFuncs(e)}removeState=this.unsubscribeAll;runSynchronousListeners(){this.defaultStartListenerEventLoop=!1,this.listener.startSync()}stop(e=null){this.listener.stop(e)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1;if(e[c]){var d=e[c];if(typeof d=="object")if(d[s]===a||c===0)r.push(s),e.push(a.pushed);else for(;c-->=0;){if(d=e[c],typeof d=="object"&&d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}c++}}}function o(s,a){let c;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let m=t.get(a);if(m)return"[Circular Reference]"+m;if(t.set(a,r.join(".")),d==="Array")a.length>20?c=a.slice(a.length-20):c=a;else if(d.includes("Set"))c=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")c="instanceof_"+d;else if(d==="Object"){let v={};for(let y in a)if(a[y]==null)v[y]=a[y];else if(Array.isArray(a[y]))a[y].length>20?v[y]=a[y].slice(a[y].length-20):v[y]=a[y];else if(a[y].constructor.name==="Object"){v[y]={};for(let w in a[y])if(Array.isArray(a[y][w]))a[y][w].length>20?v[y][w]=a[y][w].slice(a[y][w].length-20):v[y][w]=a[y][w];else if(a[y][w]!=null){let b=a[y][w].constructor.name;b.includes("Set")?v[y][w]=Array.from(a[y][w]):b!=="Number"&&b!=="String"&&b!=="Boolean"?v[y][w]="instanceof_"+b:v[y][w]=a[y][w]}else v[y][w]=a[y][w]}else{let w=a[y].constructor.name;w.includes("Set")?v[y]=Array.from(a[y]):w!=="Number"&&w!=="String"&&w!=="Boolean"?v[y]="instanceof_"+w:v[y]=a[y]}c=v}else c=a}else c=a;return c}return function(a,c){e.push(a);let d=JSON.stringify(a,o,c);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var c=e.length-1,d=e[c];if(typeof d=="object")if(d[s]===a||c===0)r.push(s),e.push(a.pushed);else for(;c-->=0;){if(d=e[c],typeof d=="object"&&d[s]===a){c+=2,e.length=c,r.length=c,--c,e[c]=a,r[c]=s;break}c--}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let c=t.get(a);if(c)return"[Circular Reference]"+c;t.set(a,r.join("."))}return a}return function(a,c){try{return e.push(a),JSON.stringify(a,o,c)}finally{n()}}}());n_=yc});async function o_(t="sessionName",e="data",r=0,n=5120,i=o=>{}){return t!=""?new Promise(async o=>{Xe.open("/"+e+"/"+t,"r",(s,a)=>{if(s)throw s;Xe.read(a,n,r,"utf-8",(c,d,m)=>{if(c)throw c;if(m!==0){let v=d.toString();Xe.close(a,()=>{i(v,t),o(v)})}else o(void 0)})})}):void console.error("Path name is not defined")}function V0(t=e=>{}){window.gapi.client.drive.files.list({q:"name='Brainsatplay_Data' and mimeType='application/vnd.google-apps.folder'"}).then(e=>{e.result.files.length===0&&this.createDriveFolder(),t&&t(e.result)})}function l_(t=e=>{}){V0(e=>{window.gapi.client.drive.files.list({q:`'${e.files[0].id}' in parents`,pageSize:10,fields:"nextPageToken, files(id, name)"}).then(r=>{var n=r.result.files;n&&n.length>0&&t(n)})})}function $0(t){return!!t.match($0.regex)}var Qa,i_,QI,el,mc,Xe,B0,U0,s_,a_,ys,z0,oo,eD,tD,c_,f_,h_,Q6,u_,rD,d_=tt(()=>{Qa=class{constructor(e=this.onOpen,r=null,n=null){this.onOpen=e,this.notes=[{idx:0,text:"comment"}],r!==null&&document.getElementById(r).addEventListener("click",this.saveCSV),n!==null&&document.getElementById(n).addEventListener("click",this.openCSV)}processArraysForCSV(e=["1|2|3","3|2|1"],r="|",n="a,b,c",i=!1){let o=n+`
`,s=0;return e.forEach((a,c)=>{e[c]==="string"&&r!==","?o+=a.split(r).join(","):csvData+=a.join(","),i===!0&&this.notes[s].idx===c&&(a+=this.notes[s].text,s++),a.indexOf(`
`)<0&&(o+=`
`)}),o}static saveCSV(e=`a,b,c
1,2,3
3,2,1
`,r=new Date().toISOString()){var n=document.createElement("a");n.href="data:text/csv;charset=utf-8,"+encodeURI(e),n.target="_blank",n.download=r!==""?r+".csv":Date().toISOString()+".csv",n.click()}static openCSV(e=",",r=(n,i,o)=>o){var n=document.createElement("input");n.accept=".csv",n.type="file",n.onchange=i=>{var o=i.target.files[0],s=new FileReader;s.onload=a=>{var c=a.target.result.split(`
`);let d=[];var m=[];c.pop(),c.forEach((v,y)=>{if(y==0)d=v.split(e);else{var w=v.split(e);m.push(w)}}),r(m,d,n.value),n.value=""},s.readAsText(o)},n.click()}static openCSVRaw(e=(r,n)=>n){var r=document.createElement("input");r.accept=".csv",r.type="file",r.onchange=n=>{var i=n.target.files[0],o=new FileReader;o.onload=s=>{var a=s.target.result;e(a,r.value),r.value=""},o.readAsText(i)},r.click()}onOpen(e=[],r=[]){console.log("CSV Opened!",r,e)}},QI=Object.freeze({__proto__:null,CSV:Qa,parseCSVData:(t,e,r,n=!0,i=(o,s,a)=>{let c={filename:a,head:s},d=s;typeof s=="string"&&(d=s.split(","));for(let m=0;m<o.length;m++){let v=o[m].split(",");for(let y=0;y<v.length;y++)c[d[y]]||c[d[y]],c[d[y]]=v[y]}return c})=>{let o=t.split(`
`);return o.shift(),n===!1&&o.pop(),i(o,e,r)},processDataForCSV:(t={})=>{let e="";typeof t.data[0]!="object"||Array.isArray(t.data[0])||(t.data[0].x?e="x,":t.data[0].timestamp&&(e="timestamp,localtime,"));let r=0,n={};t.data.forEach((s,a)=>{if(Array.isArray(s))for(let c=0;c<s.length;c++)n[c]||(n[c]=""),Array.isArray(s[c])?(c===0&&(e[r]+=t.header[r]+new Array(s[c].length-1).fill("").join(",")),n[c]+=s[c].join(",")+",",r+=s[c].length):(c===0&&(e[r]+=t.header[r]+","),n[c]+=s[c]+",",r++);else if(typeof s=="object"){let c;s.x?c=s.x:s.timestamp&&(c=s.timestamp);for(let d=0;d<c.length;d++){n[c[d]]||(n[c[d]]=c[d]+","),s.timestamp&&(n[c[d]]+=toISOLocal(s.timestamp[d])+",");for(let m in s)m!=="x"&&(n[c[d]]||(n[c[d]]=""),Array.isArray(s[m][d])?(d===0&&(e[r]+=t.header[r]+Array(s[m][d].length-1).fill("").join(",")),n[c[d]]+=s[m][d].join(",")+",",r+=s[m][d].length):(d===0&&(e[r]+=t.header[r]+","),n[c[d]]+=s[m][d]+",",r++))}}}),e.splice(e.length-1,1),e+=`
`;let i="";for(let s in n)n[s].splice(n[s].length-1,1),i+=n[s]+`
`;let o={filename:t.filename,header:e,body:i};return t.save&&Qa.saveCSV(e+i,t.filename),t.write&&fs.exists(t.filename,s=>{s?appendFile(t.filename,i,t.dir):appendFile(t.filename,e+i,t.dir)}),o}}),el=(typeof globalThis<"u"||typeof window<"u"||(typeof global<"u"?global:typeof self<"u"),{exports:{}});i_=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=t,r.c=e,r.p="",r(0)}([function(t,e,r){(function(n,i,o,s){Object.defineProperty(e,"__esModule",{value:!0});var a,c=r(2),d=r(9);(function(f){f[f.EPERM=1]="EPERM",f[f.ENOENT=2]="ENOENT",f[f.EIO=5]="EIO",f[f.EBADF=9]="EBADF",f[f.EACCES=13]="EACCES",f[f.EBUSY=16]="EBUSY",f[f.EEXIST=17]="EEXIST",f[f.ENOTDIR=20]="ENOTDIR",f[f.EISDIR=21]="EISDIR",f[f.EINVAL=22]="EINVAL",f[f.EFBIG=27]="EFBIG",f[f.ENOSPC=28]="ENOSPC",f[f.EROFS=30]="EROFS",f[f.ENOTEMPTY=39]="ENOTEMPTY",f[f.ENOTSUP=95]="ENOTSUP"})(a||(a={}));var m={};m[a.EPERM]="Operation not permitted.",m[a.ENOENT]="No such file or directory.",m[a.EIO]="Input/output error.",m[a.EBADF]="Bad file descriptor.",m[a.EACCES]="Permission denied.",m[a.EBUSY]="Resource busy or locked.",m[a.EEXIST]="File exists.",m[a.ENOTDIR]="File is not a directory.",m[a.EISDIR]="File is a directory.",m[a.EINVAL]="Invalid argument.",m[a.EFBIG]="File is too big.",m[a.ENOSPC]="No space left on disk.",m[a.EROFS]="Cannot modify a read-only file system.",m[a.ENOTEMPTY]="Directory is not empty.",m[a.ENOTSUP]="Operation is not supported.";var v,y=function(f){function u(l,h,p){h===void 0&&(h=m[l]),f.call(this,h),this.syscall="",this.errno=l,this.code=a[l],this.path=p,this.stack=new f().stack,this.message="Error: "+this.code+": "+h+(this.path?", '"+this.path+"'":"")}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.fromJSON=function(l){var h=new u(0);return h.errno=l.errno,h.code=l.code,h.path=l.path,h.stack=l.stack,h.message=l.message,h},u.fromBuffer=function(l,h){return h===void 0&&(h=0),u.fromJSON(JSON.parse(l.toString("utf8",h+4,h+4+l.readUInt32LE(h))))},u.FileError=function(l,h){return new u(l,m[l],h)},u.ENOENT=function(l){return this.FileError(a.ENOENT,l)},u.EEXIST=function(l){return this.FileError(a.EEXIST,l)},u.EISDIR=function(l){return this.FileError(a.EISDIR,l)},u.ENOTDIR=function(l){return this.FileError(a.ENOTDIR,l)},u.EPERM=function(l){return this.FileError(a.EPERM,l)},u.ENOTEMPTY=function(l){return this.FileError(a.ENOTEMPTY,l)},u.prototype.toString=function(){return this.message},u.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},u.prototype.writeToBuffer=function(l,h){l===void 0&&(l=n.alloc(this.bufferSize())),h===void 0&&(h=0);var p=l.write(JSON.stringify(this.toJSON()),h+4);return l.writeUInt32LE(p,h),l},u.prototype.bufferSize=function(){return 4+n.byteLength(JSON.stringify(this.toJSON()))},u}(Error),w=Object.freeze({get ErrorCode(){return a},ErrorStrings:m,ApiError:y});(function(f){f[f.NOP=0]="NOP",f[f.THROW_EXCEPTION=1]="THROW_EXCEPTION",f[f.TRUNCATE_FILE=2]="TRUNCATE_FILE",f[f.CREATE_FILE=3]="CREATE_FILE"})(v||(v={}));var b,A=function f(u){if(this.flagStr=u,f.validFlagStrs.indexOf(u)<0)throw new y(a.EINVAL,"Invalid flag: "+u)};A.getFileFlag=function(f){return A.flagCache.hasOwnProperty(f)?A.flagCache[f]:A.flagCache[f]=new A(f)},A.prototype.getFlagString=function(){return this.flagStr},A.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},A.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},A.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},A.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},A.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},A.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},A.prototype.pathExistsAction=function(){return this.isExclusive()?v.THROW_EXCEPTION:this.isTruncating()?v.TRUNCATE_FILE:v.NOP},A.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?v.CREATE_FILE:v.THROW_EXCEPTION},A.flagCache={},A.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"],function(f){f[f.FILE=32768]="FILE",f[f.DIRECTORY=16384]="DIRECTORY",f[f.SYMLINK=40960]="SYMLINK"}(b||(b={}));var O=function(f,u,l,h,p,g){if(h===void 0&&(h=new Date),p===void 0&&(p=new Date),g===void 0&&(g=new Date),this.size=u,this.atime=h,this.mtime=p,this.ctime=g,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,l)this.mode=l;else switch(f){case b.FILE:this.mode=420;break;case b.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(u/512),this.mode<4096&&(this.mode|=f)};O.fromBuffer=function(f){var u=f.readUInt32LE(0),l=f.readUInt32LE(4),h=f.readDoubleLE(8),p=f.readDoubleLE(16),g=f.readDoubleLE(24);return new O(61440&l,u,4095&l,new Date(h),new Date(p),new Date(g))},O.prototype.toBuffer=function(){var f=n.alloc(32);return f.writeUInt32LE(this.size,0),f.writeUInt32LE(this.mode,4),f.writeDoubleLE(this.atime.getTime(),8),f.writeDoubleLE(this.mtime.getTime(),16),f.writeDoubleLE(this.ctime.getTime(),24),f},O.prototype.clone=function(){return new O(61440&this.mode,this.size,4095&this.mode,this.atime,this.mtime,this.ctime)},O.prototype.isFile=function(){return(61440&this.mode)===b.FILE},O.prototype.isDirectory=function(){return(61440&this.mode)===b.DIRECTORY},O.prototype.isSymbolicLink=function(){return(61440&this.mode)===b.SYMLINK},O.prototype.chmod=function(f){this.mode=61440&this.mode|f},O.prototype.isSocket=function(){return!1},O.prototype.isBlockDevice=function(){return!1},O.prototype.isCharacterDevice=function(){return!1},O.prototype.isFIFO=function(){return!1};var I=function(f,u){return f};function F(f){if(f)return f;throw new y(a.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function K(f,u){switch(typeof f){case"number":return f;case"string":var l=parseInt(f,8);return isNaN(l)?u:l;default:return u}}function H(f){if(f instanceof Date)return f;if(typeof f=="number")return new Date(1e3*f);throw new y(a.EINVAL,"Invalid time.")}function Y(f){if(f.indexOf("\0")>=0)throw new y(a.EINVAL,"Path must be a string without null bytes.");if(f==="")throw new y(a.EINVAL,"Path must not be empty.");return d.resolve(f)}function M(f,u,l,h){switch(typeof f){case"object":return{encoding:f.encoding!==void 0?f.encoding:u,flag:f.flag!==void 0?f.flag:l,mode:K(f.mode,h)};case"string":return{encoding:f,flag:l,mode:h};default:return{encoding:u,flag:l,mode:h}}}function z(){}var S=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};S.prototype.initialize=function(f){if(!f.constructor.isAvailable())throw new y(a.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=f},S.prototype._toUnixTimestamp=function(f){if(typeof f=="number")return f;if(f instanceof Date)return f.getTime()/1e3;throw new Error("Cannot parse time: "+f)},S.prototype.getRootFS=function(){return this.root?this.root:null},S.prototype.rename=function(f,u,l){l===void 0&&(l=z);var h=I(l,1);try{F(this.root).rename(Y(f),Y(u),h)}catch(p){h(p)}},S.prototype.renameSync=function(f,u){F(this.root).renameSync(Y(f),Y(u))},S.prototype.exists=function(f,u){u===void 0&&(u=z);var l=I(u,1);try{return F(this.root).exists(Y(f),l)}catch{return l(!1)}},S.prototype.existsSync=function(f){try{return F(this.root).existsSync(Y(f))}catch{return!1}},S.prototype.stat=function(f,u){u===void 0&&(u=z);var l=I(u,2);try{return F(this.root).stat(Y(f),!1,l)}catch(h){return l(h)}},S.prototype.statSync=function(f){return F(this.root).statSync(Y(f),!1)},S.prototype.lstat=function(f,u){u===void 0&&(u=z);var l=I(u,2);try{return F(this.root).stat(Y(f),!0,l)}catch(h){return l(h)}},S.prototype.lstatSync=function(f){return F(this.root).statSync(Y(f),!0)},S.prototype.truncate=function(f,u,l){u===void 0&&(u=0),l===void 0&&(l=z);var h=0;typeof u=="function"?l=u:typeof u=="number"&&(h=u);var p=I(l,1);try{if(h<0)throw new y(a.EINVAL);return F(this.root).truncate(Y(f),h,p)}catch(g){return p(g)}},S.prototype.truncateSync=function(f,u){if(u===void 0&&(u=0),u<0)throw new y(a.EINVAL);return F(this.root).truncateSync(Y(f),u)},S.prototype.unlink=function(f,u){u===void 0&&(u=z);var l=I(u,1);try{return F(this.root).unlink(Y(f),l)}catch(h){return l(h)}},S.prototype.unlinkSync=function(f){return F(this.root).unlinkSync(Y(f))},S.prototype.open=function(f,u,l,h){var p=this;h===void 0&&(h=z);var g=K(l,420),_=I(h=typeof l=="function"?l:h,2);try{F(this.root).open(Y(f),A.getFileFlag(u),g,function(N,P){P?_(N,p.getFdForFile(P)):_(N)})}catch(N){_(N)}},S.prototype.openSync=function(f,u,l){return l===void 0&&(l=420),this.getFdForFile(F(this.root).openSync(Y(f),A.getFileFlag(u),K(l,420)))},S.prototype.readFile=function(f,u,l){u===void 0&&(u={}),l===void 0&&(l=z);var h=M(u,null,"r",null),p=I(l=typeof u=="function"?u:l,2);try{var g=A.getFileFlag(h.flag);return g.isReadable()?F(this.root).readFile(Y(f),h.encoding,g,p):p(new y(a.EINVAL,"Flag passed to readFile must allow for reading."))}catch(_){return p(_)}},S.prototype.readFileSync=function(f,u){u===void 0&&(u={});var l=M(u,null,"r",null),h=A.getFileFlag(l.flag);if(!h.isReadable())throw new y(a.EINVAL,"Flag passed to readFile must allow for reading.");return F(this.root).readFileSync(Y(f),l.encoding,h)},S.prototype.writeFile=function(f,u,l,h){l===void 0&&(l={}),h===void 0&&(h=z);var p=M(l,"utf8","w",420),g=I(h=typeof l=="function"?l:h,1);try{var _=A.getFileFlag(p.flag);return _.isWriteable()?F(this.root).writeFile(Y(f),u,p.encoding,_,p.mode,g):g(new y(a.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(N){return g(N)}},S.prototype.writeFileSync=function(f,u,l){var h=M(l,"utf8","w",420),p=A.getFileFlag(h.flag);if(!p.isWriteable())throw new y(a.EINVAL,"Flag passed to writeFile must allow for writing.");return F(this.root).writeFileSync(Y(f),u,h.encoding,p,h.mode)},S.prototype.appendFile=function(f,u,l,h){h===void 0&&(h=z);var p=M(l,"utf8","a",420),g=I(h=typeof l=="function"?l:h,1);try{var _=A.getFileFlag(p.flag);if(!_.isAppendable())return g(new y(a.EINVAL,"Flag passed to appendFile must allow for appending."));F(this.root).appendFile(Y(f),u,p.encoding,_,p.mode,g)}catch(N){g(N)}},S.prototype.appendFileSync=function(f,u,l){var h=M(l,"utf8","a",420),p=A.getFileFlag(h.flag);if(!p.isAppendable())throw new y(a.EINVAL,"Flag passed to appendFile must allow for appending.");return F(this.root).appendFileSync(Y(f),u,h.encoding,p,h.mode)},S.prototype.fstat=function(f,u){u===void 0&&(u=z);var l=I(u,2);try{this.fd2file(f).stat(l)}catch(h){l(h)}},S.prototype.fstatSync=function(f){return this.fd2file(f).statSync()},S.prototype.close=function(f,u){var l=this;u===void 0&&(u=z);var h=I(u,1);try{this.fd2file(f).close(function(p){p||l.closeFd(f),h(p)})}catch(p){h(p)}},S.prototype.closeSync=function(f){this.fd2file(f).closeSync(),this.closeFd(f)},S.prototype.ftruncate=function(f,u,l){l===void 0&&(l=z);var h=typeof u=="number"?u:0,p=I(l=typeof u=="function"?u:l,1);try{var g=this.fd2file(f);if(h<0)throw new y(a.EINVAL);g.truncate(h,p)}catch(_){p(_)}},S.prototype.ftruncateSync=function(f,u){u===void 0&&(u=0);var l=this.fd2file(f);if(u<0)throw new y(a.EINVAL);l.truncateSync(u)},S.prototype.fsync=function(f,u){u===void 0&&(u=z);var l=I(u,1);try{this.fd2file(f).sync(l)}catch(h){l(h)}},S.prototype.fsyncSync=function(f){this.fd2file(f).syncSync()},S.prototype.fdatasync=function(f,u){u===void 0&&(u=z);var l=I(u,1);try{this.fd2file(f).datasync(l)}catch(h){l(h)}},S.prototype.fdatasyncSync=function(f){this.fd2file(f).datasyncSync()},S.prototype.write=function(f,u,l,h,p,g){g===void 0&&(g=z);var _,N,P,q=null;if(typeof u=="string"){var Q="utf8";switch(typeof l){case"function":g=l;break;case"number":q=l,Q=typeof h=="string"?h:"utf8",g=typeof p=="function"?p:g;break;default:return(g=typeof h=="function"?h:typeof p=="function"?p:g)(new y(a.EINVAL,"Invalid arguments."))}N=0,P=(_=n.from(u,Q)).length}else _=u,N=l,P=h,q=typeof p=="number"?p:null,g=typeof p=="function"?p:g;var fe=I(g,3);try{var pe=this.fd2file(f);q==null&&(q=pe.getPos()),pe.write(_,N,P,q,fe)}catch(we){fe(we)}},S.prototype.writeSync=function(f,u,l,h,p){var g,_,N,P=0;if(typeof u=="string"){N=typeof l=="number"?l:null;var q=typeof h=="string"?h:"utf8";P=0,_=(g=n.from(u,q)).length}else g=u,P=l,_=h,N=typeof p=="number"?p:null;var Q=this.fd2file(f);return N==null&&(N=Q.getPos()),Q.writeSync(g,P,_,N)},S.prototype.read=function(f,u,l,h,p,g){var _,N,P,q,Q;if(g===void 0&&(g=z),typeof u=="number"){P=u,_=l;var fe=h;g=typeof p=="function"?p:g,N=0,q=n.alloc(P),Q=I(function(we,_e,Ne){if(we)return g(we);g(we,Ne.toString(fe),_e)},3)}else q=u,N=l,P=h,_=p,Q=I(g,3);try{var pe=this.fd2file(f);_==null&&(_=pe.getPos()),pe.read(q,N,P,_,Q)}catch(we){Q(we)}},S.prototype.readSync=function(f,u,l,h,p){var g,_,N,P,q=!1,Q="utf8";typeof u=="number"?(N=u,P=l,Q=h,_=0,g=n.alloc(N),q=!0):(g=u,_=l,N=h,P=p);var fe=this.fd2file(f);P==null&&(P=fe.getPos());var pe=fe.readSync(g,_,N,P);return q?[g.toString(Q),pe]:pe},S.prototype.fchown=function(f,u,l,h){h===void 0&&(h=z);var p=I(h,1);try{this.fd2file(f).chown(u,l,p)}catch(g){p(g)}},S.prototype.fchownSync=function(f,u,l){this.fd2file(f).chownSync(u,l)},S.prototype.fchmod=function(f,u,l){var h=I(l,1);try{var p=typeof u=="string"?parseInt(u,8):u;this.fd2file(f).chmod(p,h)}catch(g){h(g)}},S.prototype.fchmodSync=function(f,u){var l=typeof u=="string"?parseInt(u,8):u;this.fd2file(f).chmodSync(l)},S.prototype.futimes=function(f,u,l,h){h===void 0&&(h=z);var p=I(h,1);try{var g=this.fd2file(f);typeof u=="number"&&(u=new Date(1e3*u)),typeof l=="number"&&(l=new Date(1e3*l)),g.utimes(u,l,p)}catch(_){p(_)}},S.prototype.futimesSync=function(f,u,l){this.fd2file(f).utimesSync(H(u),H(l))},S.prototype.rmdir=function(f,u){u===void 0&&(u=z);var l=I(u,1);try{f=Y(f),F(this.root).rmdir(f,l)}catch(h){l(h)}},S.prototype.rmdirSync=function(f){return f=Y(f),F(this.root).rmdirSync(f)},S.prototype.mkdir=function(f,u,l){l===void 0&&(l=z),typeof u=="function"&&(l=u,u=511);var h=I(l,1);try{f=Y(f),F(this.root).mkdir(f,u,h)}catch(p){h(p)}},S.prototype.mkdirSync=function(f,u){F(this.root).mkdirSync(Y(f),K(u,511))},S.prototype.readdir=function(f,u){u===void 0&&(u=z);var l=I(u,2);try{f=Y(f),F(this.root).readdir(f,l)}catch(h){l(h)}},S.prototype.readdirSync=function(f){return f=Y(f),F(this.root).readdirSync(f)},S.prototype.link=function(f,u,l){l===void 0&&(l=z);var h=I(l,1);try{f=Y(f),u=Y(u),F(this.root).link(f,u,h)}catch(p){h(p)}},S.prototype.linkSync=function(f,u){return f=Y(f),u=Y(u),F(this.root).linkSync(f,u)},S.prototype.symlink=function(f,u,l,h){h===void 0&&(h=z);var p=typeof l=="string"?l:"file",g=I(h=typeof l=="function"?l:h,1);try{if(p!=="file"&&p!=="dir")return g(new y(a.EINVAL,"Invalid type: "+p));f=Y(f),u=Y(u),F(this.root).symlink(f,u,p,g)}catch(_){g(_)}},S.prototype.symlinkSync=function(f,u,l){if(l){if(l!=="file"&&l!=="dir")throw new y(a.EINVAL,"Invalid type: "+l)}else l="file";return f=Y(f),u=Y(u),F(this.root).symlinkSync(f,u,l)},S.prototype.readlink=function(f,u){u===void 0&&(u=z);var l=I(u,2);try{f=Y(f),F(this.root).readlink(f,l)}catch(h){l(h)}},S.prototype.readlinkSync=function(f){return f=Y(f),F(this.root).readlinkSync(f)},S.prototype.chown=function(f,u,l,h){h===void 0&&(h=z);var p=I(h,1);try{f=Y(f),F(this.root).chown(f,!1,u,l,p)}catch(g){p(g)}},S.prototype.chownSync=function(f,u,l){f=Y(f),F(this.root).chownSync(f,!1,u,l)},S.prototype.lchown=function(f,u,l,h){h===void 0&&(h=z);var p=I(h,1);try{f=Y(f),F(this.root).chown(f,!0,u,l,p)}catch(g){p(g)}},S.prototype.lchownSync=function(f,u,l){f=Y(f),F(this.root).chownSync(f,!0,u,l)},S.prototype.chmod=function(f,u,l){l===void 0&&(l=z);var h=I(l,1);try{var p=K(u,-1);if(p<0)throw new y(a.EINVAL,"Invalid mode.");F(this.root).chmod(Y(f),!1,p,h)}catch(g){h(g)}},S.prototype.chmodSync=function(f,u){var l=K(u,-1);if(l<0)throw new y(a.EINVAL,"Invalid mode.");f=Y(f),F(this.root).chmodSync(f,!1,l)},S.prototype.lchmod=function(f,u,l){l===void 0&&(l=z);var h=I(l,1);try{var p=K(u,-1);if(p<0)throw new y(a.EINVAL,"Invalid mode.");F(this.root).chmod(Y(f),!0,p,h)}catch(g){h(g)}},S.prototype.lchmodSync=function(f,u){var l=K(u,-1);if(l<1)throw new y(a.EINVAL,"Invalid mode.");F(this.root).chmodSync(Y(f),!0,l)},S.prototype.utimes=function(f,u,l,h){h===void 0&&(h=z);var p=I(h,1);try{F(this.root).utimes(Y(f),H(u),H(l),p)}catch(g){p(g)}},S.prototype.utimesSync=function(f,u,l){F(this.root).utimesSync(Y(f),H(u),H(l))},S.prototype.realpath=function(f,u,l){l===void 0&&(l=z);var h=typeof u=="object"?u:{},p=I(l=typeof u=="function"?u:z,2);try{f=Y(f),F(this.root).realpath(f,h,p)}catch(g){p(g)}},S.prototype.realpathSync=function(f,u){return u===void 0&&(u={}),f=Y(f),F(this.root).realpathSync(f,u)},S.prototype.watchFile=function(f,u,l){throw new y(a.ENOTSUP)},S.prototype.unwatchFile=function(f,u){throw new y(a.ENOTSUP)},S.prototype.watch=function(f,u,l){throw new y(a.ENOTSUP)},S.prototype.access=function(f,u,l){throw new y(a.ENOTSUP)},S.prototype.accessSync=function(f,u){throw new y(a.ENOTSUP)},S.prototype.createReadStream=function(f,u){throw new y(a.ENOTSUP)},S.prototype.createWriteStream=function(f,u){throw new y(a.ENOTSUP)},S.prototype.wrapCallbacks=function(f){I=f},S.prototype.getFdForFile=function(f){var u=this.nextFd++;return this.fdMap[u]=f,u},S.prototype.fd2file=function(f){var u=this.fdMap[f];if(u)return u;throw new y(a.EBADF,"Invalid file descriptor.")},S.prototype.closeFd=function(f){delete this.fdMap[f]},S.Stats=O;var $=new S,re={},X=S.prototype;function le(f,u,l,h,p){return f<u||l<u?f>l?l+1:f+1:h===p?u:u+1}function ae(f,u){if(f===u)return 0;if(f.length>u.length){var l=f;f=u,u=l}for(var h=f.length,p=u.length;h>0&&f.charCodeAt(h-1)===u.charCodeAt(p-1);)h--,p--;for(var g=0;g<h&&f.charCodeAt(g)===u.charCodeAt(g);)g++;if(p-=g,(h-=g)==0||p===1)return p;for(var _,N,P,q,Q,fe=new Array(h<<1),pe=0;pe<h;)fe[h+pe]=f.charCodeAt(g+pe),fe[pe]=++pe;for(_=0;_+3<p;)for(var we=u.charCodeAt(g+(N=_)),_e=u.charCodeAt(g+(P=_+1)),Ne=u.charCodeAt(g+(q=_+2)),Ve=u.charCodeAt(g+(Q=_+3)),Tt=_+=4,on=0;on<h;){var Rr=fe[h+on],Fo=fe[on];N=le(Fo,N,P,we,Rr),P=le(N,P,q,_e,Rr),q=le(P,q,Q,Ne,Rr),Tt=le(q,Q,Tt,Ve,Rr),fe[on++]=Tt,Q=q,q=P,P=N,N=Fo}for(var mr=0;_<p;){var ph=u.charCodeAt(g+(N=_));mr=++_;for(var Vi=0;Vi<h;Vi++){var $i=fe[Vi];fe[Vi]=mr=$i<N||mr<N?$i>mr?mr+1:$i+1:ph===fe[h+Vi]?N:N+1,N=$i}}return mr}function me(f,u,l){f&&console.warn("["+u+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+u+".Create("+JSON.stringify(l)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}Object.keys(X).forEach(function(f){typeof $[f]=="function"?re[f]=function(){return $[f].apply($,arguments)}:re[f]=$[f]}),re.changeFSModule=function(f){$=f},re.getFSModule=function(){return $},re.FS=S;var j=typeof navigator<"u"&&!(!/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&navigator.userAgent.indexOf("Trident")===-1),R=typeof window>"u";function ie(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function U(f,u,l){l.existsSync(f)||(U(d.dirname(f),u,l),l.mkdirSync(f,u))}function V(f){var u=G(f),l=u.byteOffset,h=u.byteLength;return l===0&&h===u.buffer.byteLength?u.buffer:u.buffer.slice(l,l+h)}function G(f){return f instanceof Uint8Array?f:new Uint8Array(f)}function ce(f){return f instanceof n?f:f instanceof Uint8Array?oe(f):n.from(f)}function oe(f){return f instanceof n?f:f.byteOffset===0&&f.byteLength===f.buffer.byteLength?ne(f.buffer):n.from(f.buffer,f.byteOffset,f.byteLength)}function ne(f){return n.from(f)}function se(f,u,l){if(u===void 0&&(u=0),l===void 0&&(l=f.length),u<0||l<0||l>f.length||u>l)throw new TypeError("Invalid slice bounds on buffer of length "+f.length+": ["+u+", "+l+"]");if(f.length===0)return xe();var h=G(f),p=f[0],g=(p+1)%255;return f[0]=g,h[0]===g?(h[0]=p,oe(h.slice(u,l))):(f[0]=p,oe(h.subarray(u,l)))}var ye=null;function xe(){return ye||(ye=n.alloc(0))}function Ie(f,u){n.isBuffer(f)?u():u(new y(a.EINVAL,"option must be a Buffer."))}function k(f,u,l){var h=f.Options,p=f.Name,g=0,_=!1,N=!1;function P(pe){_||(pe&&(_=!0,l(pe)),--g==0&&N&&l())}var q=function(pe){if(h.hasOwnProperty(pe)){var we=h[pe],_e=u[pe];if(_e==null){if(!we.optional){var Ne=Object.keys(u).filter(function(Ve){return!(Ve in h)}).map(function(Ve){return{str:Ve,distance:ae(pe,Ve)}}).filter(function(Ve){return Ve.distance<5}).sort(function(Ve,Tt){return Ve.distance-Tt.distance});return _?{}:(_=!0,{v:l(new y(a.EINVAL,"["+p+"] Required option '"+pe+"' not provided."+(Ne.length>0?" You provided unrecognized option '"+Ne[0].str+"'; perhaps you meant to type '"+pe+"'.":"")+`
Option description: `+we.description))})}}else{if(!(Array.isArray(we.type)?we.type.indexOf(typeof _e)!==-1:typeof _e===we.type))return _?{}:(_=!0,{v:l(new y(a.EINVAL,"["+p+"] Value provided for option "+pe+" is not the proper type. Expected "+(Array.isArray(we.type)?"one of {"+we.type.join(", ")+"}":we.type)+", but received "+typeof _e+`
Option description: `+we.description))});we.validator&&(g++,we.validator(_e,P))}}};for(var Q in h){var fe=q(Q);if(fe)return fe.v}N=!0,g!==0||_||l()}var D=Object.freeze({deprecationMessage:me,isIE:j,isWebWorker:R,fail:ie,mkdirpSync:U,buffer2ArrayBuffer:V,buffer2Uint8array:G,arrayish2Buffer:ce,uint8Array2Buffer:oe,arrayBuffer2Buffer:ne,copyingSlice:se,emptyBuffer:xe,bufferValidator:Ie,checkOptions:k}),L=function(f){this.fs=f,this.nodefs=f.getNodeFS(),this.FS=f.getFS(),this.PATH=f.getPATH(),this.ERRNO_CODES=f.getERRNO_CODES()};L.prototype.open=function(f){var u=this.fs.realPath(f.node),l=this.FS;try{l.isFile(f.node.mode)&&(f.nfd=this.nodefs.openSync(u,this.fs.flagsToPermissionString(f.flags)))}catch(h){throw h.code?new l.ErrnoError(this.ERRNO_CODES[h.code]):h}},L.prototype.close=function(f){var u=this.FS;try{u.isFile(f.node.mode)&&f.nfd&&this.nodefs.closeSync(f.nfd)}catch(l){throw l.code?new u.ErrnoError(this.ERRNO_CODES[l.code]):l}},L.prototype.read=function(f,u,l,h,p){try{return this.nodefs.readSync(f.nfd,oe(u),l,h,p)}catch(g){throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code])}},L.prototype.write=function(f,u,l,h,p){try{return this.nodefs.writeSync(f.nfd,oe(u),l,h,p)}catch(g){throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code])}},L.prototype.llseek=function(f,u,l){var h=u;if(l===1)h+=f.position;else if(l===2&&this.FS.isFile(f.node.mode))try{h+=this.nodefs.fstatSync(f.nfd).size}catch(p){throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(h<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return f.position=h,h};var W=function(f){this.fs=f,this.nodefs=f.getNodeFS(),this.FS=f.getFS(),this.PATH=f.getPATH(),this.ERRNO_CODES=f.getERRNO_CODES()};W.prototype.getattr=function(f){var u,l=this.fs.realPath(f);try{u=this.nodefs.lstatSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}return{dev:u.dev,ino:u.ino,mode:u.mode,nlink:u.nlink,uid:u.uid,gid:u.gid,rdev:u.rdev,size:u.size,atime:u.atime,mtime:u.mtime,ctime:u.ctime,blksize:u.blksize,blocks:u.blocks}},W.prototype.setattr=function(f,u){var l=this.fs.realPath(f);try{if(u.mode!==void 0&&(this.nodefs.chmodSync(l,u.mode),f.mode=u.mode),u.timestamp!==void 0){var h=new Date(u.timestamp);this.nodefs.utimesSync(l,h,h)}}catch(p){if(!p.code)throw p;if(p.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(u.size!==void 0)try{this.nodefs.truncateSync(l,u.size)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},W.prototype.lookup=function(f,u){var l=this.PATH.join2(this.fs.realPath(f),u),h=this.fs.getMode(l);return this.fs.createNode(f,u,h)},W.prototype.mknod=function(f,u,l,h){var p=this.fs.createNode(f,u,l,h),g=this.fs.realPath(p);try{this.FS.isDir(p.mode)?this.nodefs.mkdirSync(g,p.mode):this.nodefs.writeFileSync(g,"",{mode:p.mode})}catch(_){throw _.code?new this.FS.ErrnoError(this.ERRNO_CODES[_.code]):_}return p},W.prototype.rename=function(f,u,l){var h=this.fs.realPath(f),p=this.PATH.join2(this.fs.realPath(u),l);try{this.nodefs.renameSync(h,p),f.name=l,f.parent=u}catch(g){throw g.code?new this.FS.ErrnoError(this.ERRNO_CODES[g.code]):g}},W.prototype.unlink=function(f,u){var l=this.PATH.join2(this.fs.realPath(f),u);try{this.nodefs.unlinkSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},W.prototype.rmdir=function(f,u){var l=this.PATH.join2(this.fs.realPath(f),u);try{this.nodefs.rmdirSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},W.prototype.readdir=function(f){var u=this.fs.realPath(f);try{var l=this.nodefs.readdirSync(u);return l.push(".",".."),l}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},W.prototype.symlink=function(f,u,l){var h=this.PATH.join2(this.fs.realPath(f),u);try{this.nodefs.symlinkSync(l,h)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},W.prototype.readlink=function(f){var u=this.fs.realPath(f);try{return this.nodefs.readlinkSync(u)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}};var Z=function(f,u,l,h){f===void 0&&(f=self.FS),u===void 0&&(u=self.PATH),l===void 0&&(l=self.ERRNO_CODES),h===void 0&&(h=re),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=h,this.FS=f,this.PATH=u,this.ERRNO_CODES=l,this.node_ops=new W(this),this.stream_ops=new L(this)};Z.prototype.mount=function(f){return this.createNode(null,"/",this.getMode(f.opts.root),0)},Z.prototype.createNode=function(f,u,l,h){var p=this.FS;if(!p.isDir(l)&&!p.isFile(l)&&!p.isLink(l))throw new p.ErrnoError(this.ERRNO_CODES.EINVAL);var g=p.createNode(f,u,l);return g.node_ops=this.node_ops,g.stream_ops=this.stream_ops,g},Z.prototype.getMode=function(f){var u;try{u=this.nodefs.lstatSync(f)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}return u.mode},Z.prototype.realPath=function(f){for(var u=[];f.parent!==f;)u.push(f.name),f=f.parent;return u.push(f.mount.opts.root),u.reverse(),this.PATH.join.apply(null,u)},Z.prototype.flagsToPermissionString=function(f){var u=typeof f=="string"?parseInt(f,10):f;return(u&=8191)in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[u]:f},Z.prototype.getNodeFS=function(){return this.nodefs},Z.prototype.getFS=function(){return this.FS},Z.prototype.getPATH=function(){return this.PATH},Z.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var J=function(){};J.prototype.supportsLinks=function(){return!1},J.prototype.diskSpace=function(f,u){u(0,0)},J.prototype.openFile=function(f,u,l){throw new y(a.ENOTSUP)},J.prototype.createFile=function(f,u,l,h){throw new y(a.ENOTSUP)},J.prototype.open=function(f,u,l,h){var p=this;this.stat(f,!1,function(g,_){if(g)switch(u.pathNotExistsAction()){case v.CREATE_FILE:return p.stat(d.dirname(f),!1,function(N,P){N?h(N):P&&!P.isDirectory()?h(y.ENOTDIR(d.dirname(f))):p.createFile(f,u,l,h)});case v.THROW_EXCEPTION:return h(y.ENOENT(f));default:return h(new y(a.EINVAL,"Invalid FileFlag object."))}else{if(_&&_.isDirectory())return h(y.EISDIR(f));switch(u.pathExistsAction()){case v.THROW_EXCEPTION:return h(y.EEXIST(f));case v.TRUNCATE_FILE:return p.openFile(f,u,function(N,P){N?h(N):P?P.truncate(0,function(){P.sync(function(){h(null,P)})}):ie()});case v.NOP:return p.openFile(f,u,h);default:return h(new y(a.EINVAL,"Invalid FileFlag object."))}}})},J.prototype.rename=function(f,u,l){l(new y(a.ENOTSUP))},J.prototype.renameSync=function(f,u){throw new y(a.ENOTSUP)},J.prototype.stat=function(f,u,l){l(new y(a.ENOTSUP))},J.prototype.statSync=function(f,u){throw new y(a.ENOTSUP)},J.prototype.openFileSync=function(f,u,l){throw new y(a.ENOTSUP)},J.prototype.createFileSync=function(f,u,l){throw new y(a.ENOTSUP)},J.prototype.openSync=function(f,u,l){var h;try{h=this.statSync(f,!1)}catch{switch(u.pathNotExistsAction()){case v.CREATE_FILE:if(!this.statSync(d.dirname(f),!1).isDirectory())throw y.ENOTDIR(d.dirname(f));return this.createFileSync(f,u,l);case v.THROW_EXCEPTION:throw y.ENOENT(f);default:throw new y(a.EINVAL,"Invalid FileFlag object.")}}if(h.isDirectory())throw y.EISDIR(f);switch(u.pathExistsAction()){case v.THROW_EXCEPTION:throw y.EEXIST(f);case v.TRUNCATE_FILE:return this.unlinkSync(f),this.createFileSync(f,u,h.mode);case v.NOP:return this.openFileSync(f,u,l);default:throw new y(a.EINVAL,"Invalid FileFlag object.")}},J.prototype.unlink=function(f,u){u(new y(a.ENOTSUP))},J.prototype.unlinkSync=function(f){throw new y(a.ENOTSUP)},J.prototype.rmdir=function(f,u){u(new y(a.ENOTSUP))},J.prototype.rmdirSync=function(f){throw new y(a.ENOTSUP)},J.prototype.mkdir=function(f,u,l){l(new y(a.ENOTSUP))},J.prototype.mkdirSync=function(f,u){throw new y(a.ENOTSUP)},J.prototype.readdir=function(f,u){u(new y(a.ENOTSUP))},J.prototype.readdirSync=function(f){throw new y(a.ENOTSUP)},J.prototype.exists=function(f,u){this.stat(f,null,function(l){u(!l)})},J.prototype.existsSync=function(f){try{return this.statSync(f,!0),!0}catch{return!1}},J.prototype.realpath=function(f,u,l){if(this.supportsLinks())for(var h=f.split(d.sep),p=0;p<h.length;p++){var g=h.slice(0,p+1);h[p]=d.join.apply(null,g)}else this.exists(f,function(_){_?l(null,f):l(y.ENOENT(f))})},J.prototype.realpathSync=function(f,u){if(this.supportsLinks()){for(var l=f.split(d.sep),h=0;h<l.length;h++){var p=l.slice(0,h+1);l[h]=d.join.apply(d,p)}return l.join(d.sep)}if(this.existsSync(f))return f;throw y.ENOENT(f)},J.prototype.truncate=function(f,u,l){this.open(f,A.getFileFlag("r+"),420,function(h,p){if(h)return l(h);p.truncate(u,function(g){p.close(function(_){l(g||_)})})})},J.prototype.truncateSync=function(f,u){var l=this.openSync(f,A.getFileFlag("r+"),420);try{l.truncateSync(u)}catch(h){throw h}finally{l.closeSync()}},J.prototype.readFile=function(f,u,l,h){var p=h;this.open(f,l,420,function(g,_){if(g)return h(g);h=function(N,P){_.close(function(q){return N||(N=q),p(N,P)})},_.stat(function(N,P){if(N)return h(N);var q=n.alloc(P.size);_.read(q,0,P.size,0,function(Q){if(Q)return h(Q);if(u===null)return h(Q,q);try{h(null,q.toString(u))}catch(fe){h(fe)}})})})},J.prototype.readFileSync=function(f,u,l){var h=this.openSync(f,l,420);try{var p=h.statSync(),g=n.alloc(p.size);return h.readSync(g,0,p.size,0),h.closeSync(),u===null?g:g.toString(u)}finally{h.closeSync()}},J.prototype.writeFile=function(f,u,l,h,p,g){var _=g;this.open(f,h,420,function(N,P){if(N)return g(N);g=function(q){P.close(function(Q){_(q||Q)})};try{typeof u=="string"&&(u=n.from(u,l))}catch(q){return g(q)}P.write(u,0,u.length,0,g)})},J.prototype.writeFileSync=function(f,u,l,h,p){var g=this.openSync(f,h,p);try{typeof u=="string"&&(u=n.from(u,l)),g.writeSync(u,0,u.length,0)}finally{g.closeSync()}},J.prototype.appendFile=function(f,u,l,h,p,g){var _=g;this.open(f,h,p,function(N,P){if(N)return g(N);g=function(q){P.close(function(Q){_(q||Q)})},typeof u=="string"&&(u=n.from(u,l)),P.write(u,0,u.length,null,g)})},J.prototype.appendFileSync=function(f,u,l,h,p){var g=this.openSync(f,h,p);try{typeof u=="string"&&(u=n.from(u,l)),g.writeSync(u,0,u.length,null)}finally{g.closeSync()}},J.prototype.chmod=function(f,u,l,h){h(new y(a.ENOTSUP))},J.prototype.chmodSync=function(f,u,l){throw new y(a.ENOTSUP)},J.prototype.chown=function(f,u,l,h,p){p(new y(a.ENOTSUP))},J.prototype.chownSync=function(f,u,l,h){throw new y(a.ENOTSUP)},J.prototype.utimes=function(f,u,l,h){h(new y(a.ENOTSUP))},J.prototype.utimesSync=function(f,u,l){throw new y(a.ENOTSUP)},J.prototype.link=function(f,u,l){l(new y(a.ENOTSUP))},J.prototype.linkSync=function(f,u){throw new y(a.ENOTSUP)},J.prototype.symlink=function(f,u,l,h){h(new y(a.ENOTSUP))},J.prototype.symlinkSync=function(f,u,l){throw new y(a.ENOTSUP)},J.prototype.readlink=function(f,u){u(new y(a.ENOTSUP))},J.prototype.readlinkSync=function(f){throw new y(a.ENOTSUP)};var be=function(f){function u(){f.apply(this,arguments)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.supportsSynch=function(){return!0},u.prototype.rename=function(l,h,p){try{this.renameSync(l,h),p()}catch(g){p(g)}},u.prototype.stat=function(l,h,p){try{p(null,this.statSync(l,h))}catch(g){p(g)}},u.prototype.open=function(l,h,p,g){try{g(null,this.openSync(l,h,p))}catch(_){g(_)}},u.prototype.unlink=function(l,h){try{this.unlinkSync(l),h()}catch(p){h(p)}},u.prototype.rmdir=function(l,h){try{this.rmdirSync(l),h()}catch(p){h(p)}},u.prototype.mkdir=function(l,h,p){try{this.mkdirSync(l,h),p()}catch(g){p(g)}},u.prototype.readdir=function(l,h){try{h(null,this.readdirSync(l))}catch(p){h(p)}},u.prototype.chmod=function(l,h,p,g){try{this.chmodSync(l,h,p),g()}catch(_){g(_)}},u.prototype.chown=function(l,h,p,g,_){try{this.chownSync(l,h,p,g),_()}catch(N){_(N)}},u.prototype.utimes=function(l,h,p,g){try{this.utimesSync(l,h,p),g()}catch(_){g(_)}},u.prototype.link=function(l,h,p){try{this.linkSync(l,h),p()}catch(g){p(g)}},u.prototype.symlink=function(l,h,p,g){try{this.symlinkSync(l,h,p),g()}catch(_){g(_)}},u.prototype.readlink=function(l,h){try{h(null,this.readlinkSync(l))}catch(p){h(p)}},u}(J),C=function(){};C.prototype.sync=function(f){f(new y(a.ENOTSUP))},C.prototype.syncSync=function(){throw new y(a.ENOTSUP)},C.prototype.datasync=function(f){this.sync(f)},C.prototype.datasyncSync=function(){return this.syncSync()},C.prototype.chown=function(f,u,l){l(new y(a.ENOTSUP))},C.prototype.chownSync=function(f,u){throw new y(a.ENOTSUP)},C.prototype.chmod=function(f,u){u(new y(a.ENOTSUP))},C.prototype.chmodSync=function(f){throw new y(a.ENOTSUP)},C.prototype.utimes=function(f,u,l){l(new y(a.ENOTSUP))},C.prototype.utimesSync=function(f,u){throw new y(a.ENOTSUP)};var E=function(f){function u(l,h,p,g,_){if(f.call(this),this._pos=0,this._dirty=!1,this._fs=l,this._path=h,this._flag=p,this._stat=g,this._buffer=_||xe(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.getBuffer=function(){return this._buffer},u.prototype.getStats=function(){return this._stat},u.prototype.getFlag=function(){return this._flag},u.prototype.getPath=function(){return this._path},u.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},u.prototype.advancePos=function(l){return this._pos+=l},u.prototype.setPos=function(l){return this._pos=l},u.prototype.sync=function(l){try{this.syncSync(),l()}catch(h){l(h)}},u.prototype.syncSync=function(){throw new y(a.ENOTSUP)},u.prototype.close=function(l){try{this.closeSync(),l()}catch(h){l(h)}},u.prototype.closeSync=function(){throw new y(a.ENOTSUP)},u.prototype.stat=function(l){try{l(null,this._stat.clone())}catch(h){l(h)}},u.prototype.statSync=function(){return this._stat.clone()},u.prototype.truncate=function(l,h){try{this.truncateSync(l),this._flag.isSynchronous()&&!re.getRootFS().supportsSynch()&&this.sync(h),h()}catch(p){return h(p)}},u.prototype.truncateSync=function(l){if(this._dirty=!0,!this._flag.isWriteable())throw new y(a.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,l>this._buffer.length){var h=n.alloc(l-this._buffer.length,0);return this.writeSync(h,0,h.length,this._buffer.length),void(this._flag.isSynchronous()&&re.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=l;var p=n.alloc(l);this._buffer.copy(p,0,0,l),this._buffer=p,this._flag.isSynchronous()&&re.getRootFS().supportsSynch()&&this.syncSync()},u.prototype.write=function(l,h,p,g,_){try{_(null,this.writeSync(l,h,p,g),l)}catch(N){_(N)}},u.prototype.writeSync=function(l,h,p,g){if(this._dirty=!0,g==null&&(g=this.getPos()),!this._flag.isWriteable())throw new y(a.EPERM,"File not opened with a writeable mode.");var _=g+p;if(_>this._stat.size&&(this._stat.size=_,_>this._buffer.length)){var N=n.alloc(_);this._buffer.copy(N),this._buffer=N}var P=l.copy(this._buffer,g,h,h+p);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),P):(this.setPos(g+P),P)},u.prototype.read=function(l,h,p,g,_){try{_(null,this.readSync(l,h,p,g),l)}catch(N){_(N)}},u.prototype.readSync=function(l,h,p,g){if(!this._flag.isReadable())throw new y(a.EPERM,"File not opened with a readable mode.");g==null&&(g=this.getPos()),g+p>this._stat.size&&(p=this._stat.size-g);var _=this._buffer.copy(l,h,g,g+p);return this._stat.atime=new Date,this._pos=g+p,_},u.prototype.chmod=function(l,h){try{this.chmodSync(l),h()}catch(p){h(p)}},u.prototype.chmodSync=function(l){if(!this._fs.supportsProps())throw new y(a.ENOTSUP);this._dirty=!0,this._stat.chmod(l),this.syncSync()},u.prototype.isDirty=function(){return this._dirty},u.prototype.resetDirty=function(){this._dirty=!1},u}(C),T=function(f){function u(l,h,p,g,_){f.call(this,l,h,p,g,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){l()},u.prototype.syncSync=function(){},u.prototype.close=function(l){l()},u.prototype.closeSync=function(){},u}(E),B=function(f){function u(l,h,p,g,_){f.call(this,l,h,p,g,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(E),te=function(f){function u(l,h,p){if(p===void 0&&(p=!0),f.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=l,this._async=h,!l.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");me(p,u.Name,{sync:"sync file system instance",async:"async file system instance"})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{var p=new u(l.sync,l.async,!1);p.initialize(function(g){g?h(g):h(null,p)},!1)}catch(g){h(g)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){return u.Name},u.prototype._syncSync=function(l){this._sync.writeFileSync(l.getPath(),l.getBuffer(),null,A.getFileFlag("w"),l.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[l.getPath(),l.getBuffer(),null,l.getFlag(),l.getStats().mode]})},u.prototype.initialize=function(l,h){var p=this;h===void 0&&(h=!0),h&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var g=this._initializeCallbacks;if(this._isInitialized)l();else if(g.push(l)===1){var _=function(P,q,Q){P!=="/"&&p._sync.mkdirSync(P,q),p._async.readdir(P,function(fe,pe){var we=0;fe?Q(fe):function _e(Ne){Ne?Q(Ne):we<pe.length?(N(d.join(P,pe[we]),_e),we++):Q()}()})},N=function(P,q){p._async.stat(P,!1,function(Q,fe){Q?q(Q):fe.isDirectory()?_(P,fe.mode,q):function(pe,we,_e){p._async.readFile(pe,null,A.getFileFlag("r"),function(Ne,Ve){if(Ne)_e(Ne);else try{p._sync.writeFileSync(pe,Ve,null,A.getFileFlag("w"),we)}catch(Tt){Ne=Tt}finally{_e(Ne)}})}(P,fe.mode,q)})};_("/",0,function(P){p._isInitialized=!P,p._initializeCallbacks=[],g.forEach(function(q){return q(P)})})}},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},u.prototype.renameSync=function(l,h){this.checkInitialized(),this._sync.renameSync(l,h),this.enqueueOp({apiMethod:"rename",arguments:[l,h]})},u.prototype.statSync=function(l,h){return this.checkInitialized(),this._sync.statSync(l,h)},u.prototype.openSync=function(l,h,p){return this.checkInitialized(),this._sync.openSync(l,h,p).closeSync(),new B(this,l,h,this._sync.statSync(l,!1),this._sync.readFileSync(l,null,A.getFileFlag("r")))},u.prototype.unlinkSync=function(l){this.checkInitialized(),this._sync.unlinkSync(l),this.enqueueOp({apiMethod:"unlink",arguments:[l]})},u.prototype.rmdirSync=function(l){this.checkInitialized(),this._sync.rmdirSync(l),this.enqueueOp({apiMethod:"rmdir",arguments:[l]})},u.prototype.mkdirSync=function(l,h){this.checkInitialized(),this._sync.mkdirSync(l,h),this.enqueueOp({apiMethod:"mkdir",arguments:[l,h]})},u.prototype.readdirSync=function(l){return this.checkInitialized(),this._sync.readdirSync(l)},u.prototype.existsSync=function(l){return this.checkInitialized(),this._sync.existsSync(l)},u.prototype.chmodSync=function(l,h,p){this.checkInitialized(),this._sync.chmodSync(l,h,p),this.enqueueOp({apiMethod:"chmod",arguments:[l,h,p]})},u.prototype.chownSync=function(l,h,p,g){this.checkInitialized(),this._sync.chownSync(l,h,p,g),this.enqueueOp({apiMethod:"chown",arguments:[l,h,p,g]})},u.prototype.utimesSync=function(l,h,p){this.checkInitialized(),this._sync.utimesSync(l,h,p),this.enqueueOp({apiMethod:"utimes",arguments:[l,h,p]})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new y(a.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},u.prototype.enqueueOp=function(l){var h=this;if(this._queue.push(l),!this._queueRunning){this._queueRunning=!0;var p=function(g){if(g&&console.error("WARNING: File system has desynchronized. Received following error: "+g+`
$`),h._queue.length>0){var _=h._queue.shift(),N=_.arguments;N.push(p),h._async[_.apiMethod].apply(h._async,N)}else h._queueRunning=!1};p()}},u}(be);function he(f,u,l){switch(l.length){case 0:return f.call(u);case 1:return f.call(u,l[0]);case 2:return f.call(u,l[0],l[1]);case 3:return f.call(u,l[0],l[1],l[2])}return f.apply(u,l)}te.Name="AsyncMirror",te.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};var de=Math.max;function Ce(f){return f}function Re(f,u){return function(l,h,p){return h=de(h===void 0?l.length-1:h,0),function(){for(var g=arguments,_=-1,N=de(g.length-h,0),P=Array(N);++_<N;)P[_]=g[h+_];_=-1;for(var q=Array(h+1);++_<h;)q[_]=g[_];return q[h]=p(P),he(l,this,q)}}(f,u,Ce)}var Ze=function(f){return Re(function(u){var l=u.pop();f.call(this,u,l)})};function Pt(f){return Re(function(u,l){var h=Ze(function(p,g){var _=this;return f(u,function(N,P){N.apply(_,p.concat(P))},g)});return l.length?h.apply(this,l):h})}var it=typeof i=="object"&&i&&i.Object===Object&&i,Oo=typeof self=="object"&&self&&self.Object===Object&&self,Bs=it||Oo||Function("return this")(),Ci=Bs.Symbol,jy=Object.prototype,P3=jy.hasOwnProperty,j3=jy.toString,Us=Ci?Ci.toStringTag:void 0,L3=Object.prototype.toString,Ly=Ci?Ci.toStringTag:void 0;function Yf(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":Ly&&Ly in Object(f)?function(u){var l=P3.call(u,Us),h=u[Us];try{u[Us]=void 0;var p=!0}catch{}var g=j3.call(u);return p&&(l?u[Us]=h:delete u[Us]),g}(f):function(u){return L3.call(u)}(f)}function My(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=9007199254740991}function Kf(f){return f!=null&&My(f.length)&&!function(u){if(!function(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}(u))return!1;var l=Yf(u);return l=="[object Function]"||l=="[object GeneratorFunction]"||l=="[object AsyncFunction]"||l=="[object Proxy]"}(f)}var By={};function zs(){}function Zf(f){return function(){if(f!==null){var u=f;f=null,u.apply(this,arguments)}}}var Xf=typeof Symbol=="function"&&Symbol.iterator;function Qf(f){return f!=null&&typeof f=="object"}function Uy(f){return Qf(f)&&Yf(f)=="[object Arguments]"}var zy=Object.prototype,M3=zy.hasOwnProperty,B3=zy.propertyIsEnumerable,U3=Uy(function(){return arguments}())?Uy:function(f){return Qf(f)&&M3.call(f,"callee")&&!B3.call(f,"callee")},z3=Array.isArray,Vy=typeof e=="object"&&e&&!e.nodeType&&e,$y=Vy&&typeof o=="object"&&o&&!o.nodeType&&o,qy=$y&&$y.exports===Vy?Bs.Buffer:void 0,V3=(qy?qy.isBuffer:void 0)||function(){return!1},$3=/^(?:0|[1-9]\d*)$/;function q3(f,u){return!!(u=u??9007199254740991)&&(typeof f=="number"||$3.test(f))&&f>-1&&f%1==0&&f<u}var ot={};ot["[object Float32Array]"]=ot["[object Float64Array]"]=ot["[object Int8Array]"]=ot["[object Int16Array]"]=ot["[object Int32Array]"]=ot["[object Uint8Array]"]=ot["[object Uint8ClampedArray]"]=ot["[object Uint16Array]"]=ot["[object Uint32Array]"]=!0,ot["[object Arguments]"]=ot["[object Array]"]=ot["[object ArrayBuffer]"]=ot["[object Boolean]"]=ot["[object DataView]"]=ot["[object Date]"]=ot["[object Error]"]=ot["[object Function]"]=ot["[object Map]"]=ot["[object Number]"]=ot["[object Object]"]=ot["[object RegExp]"]=ot["[object Set]"]=ot["[object String]"]=ot["[object WeakMap]"]=!1;var Wy,Hy=typeof e=="object"&&e&&!e.nodeType&&e,Gy=Hy&&typeof o=="object"&&o&&!o.nodeType&&o,eh=Gy&&Gy.exports===Hy&&it.process,Jy=function(){try{return eh&&eh.binding&&eh.binding("util")}catch{}}(),Yy=Jy&&Jy.isTypedArray,W3=Yy?(Wy=Yy,function(f){return Wy(f)}):function(f){return Qf(f)&&My(f.length)&&!!ot[Yf(f)]},H3=Object.prototype.hasOwnProperty;function G3(f,u){var l=z3(f),h=!l&&U3(f),p=!l&&!h&&V3(f),g=!l&&!h&&!p&&W3(f),_=l||h||p||g,N=_?function(Q,fe){for(var pe=-1,we=Array(Q);++pe<Q;)we[pe]=fe(pe);return we}(f.length,String):[],P=N.length;for(var q in f)!u&&!H3.call(f,q)||_&&(q=="length"||p&&(q=="offset"||q=="parent")||g&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||q3(q,P))||N.push(q);return N}var J3=Object.prototype,Y3=function(f,u){return function(l){return f(u(l))}}(Object.keys,Object),K3=Object.prototype.hasOwnProperty;function Z3(f){if(l=(u=f)&&u.constructor,u!==(typeof l=="function"&&l.prototype||J3))return Y3(f);var u,l,h=[];for(var p in Object(f))K3.call(f,p)&&p!="constructor"&&h.push(p);return h}function X3(f){var u,l=Kf(u=f)?G3(u):Z3(u),h=-1,p=l.length;return function(){var g=l[++h];return h<p?{value:f[g],key:g}:null}}function Q3(f){if(Kf(f))return function(l){var h=-1,p=l.length;return function(){return++h<p?{value:l[h],key:h}:null}}(f);var u=function(l){return Xf&&l[Xf]&&l[Xf]()}(f);return u?function(l){var h=-1;return function(){var p=l.next();return p.done?null:(h++,{value:p.value,key:h})}}(u):X3(f)}function Ky(f){return function(){if(f===null)throw new Error("Callback was already called.");var u=f;f=null,u.apply(this,arguments)}}function Zy(f){return function(u,l,h){if(h=Zf(h||zs),f<=0||!u)return h(null);var p=Q3(u),g=!1,_=0;function N(q,Q){if(_-=1,q)g=!0,h(q);else{if(Q===By||g&&_<=0)return g=!0,h(null);P()}}function P(){for(;_<f&&!g;){var q=p();if(q===null)return g=!0,void(_<=0&&h(null));_+=1,l(q.value,q.key,Ky(N))}}P()}}function Xy(f,u,l,h){Zy(u)(f,l,h)}function th(f,u){return function(l,h,p){return f(l,u,h,p)}}function ex(f,u,l){l=Zf(l||zs);var h=0,p=0,g=f.length;function _(N,P){N?l(N):++p!==g&&P!==By||l(null)}for(g===0&&l(null);h<g;h++)u(f[h],h,Ky(_))}var Qy,tx=th(Xy,1/0),em=function(f,u,l){(Kf(f)?ex:tx)(f,u,l)};function tm(f,u,l,h){h=h||zs;var p=[],g=0;f(u=u||[],function(_,N,P){var q=g++;l(_,function(Q,fe){p[q]=fe,P(Q)})},function(_){h(_,p)})}Pt((Qy=tm,function(f,u,l){return Qy(em,f,u,l)}));var rx=function(f){return function(u,l,h,p){return f(Zy(l),u,h,p)}}(tm);Pt(th(rx,1)),Re(function(f,u){return Re(function(l){return f.apply(null,u.concat(l))})});var rm=typeof setImmediate=="function"&&setImmediate,nm=typeof s=="object"&&typeof s.nextTick=="function";function im(f){setTimeout(f,0)}function om(f){return Re(function(u,l){f(function(){u.apply(null,l)})})}om(rm?setImmediate:nm?s.nextTick:im);var Nr,nx=th(Xy,1),ix=Re(function(f){return Re(function(u){var l,h,p,g,_=this,N=u[u.length-1];typeof N=="function"?u.pop():N=zs,l=f,h=u,p=function(P,q,Q){q.apply(_,P.concat(Re(function(fe,pe){Q(fe,pe)})))},g=Zf((g=function(P,q){N.apply(_,[P].concat(q))})||zs),nx(l,function(P,q,Q){p(h,P,function(fe,pe){h=pe,Q(fe)})},function(P){g(P,h)})})});function sm(f){return Re(function(u,l){u.apply(null,l.concat(Re(function(h,p){typeof console=="object"&&(h?console.error&&console.error(h):console[f]&&function(g,_){for(var N=-1,P=g==null?0:g.length;++N<P&&_(g[N],N,g)!==!1;);}(p,function(g){console[f](g)}))})))})}function am(f,u,l){em(f,function(h){return function(p,g,_){return h(p,_)}}(u),l)}Re(function(f){return ix.apply(null,f.reverse())}),Re(function(f){var u=[null].concat(f);return Ze(function(l,h){return h.apply(this,u)})}),sm("dir"),sm("log"),om(nm?s.nextTick:rm?setImmediate:im);var Ht=function(f){this._cache={},this._client=f};Ht.prototype.readdir=function(f,u){var l=this,h=this.getCachedDirInfo(f);this._wrap(function(p){h!==null&&h.contents?l._client.readdir(f,{contentHash:h.stat.contentHash},p):l._client.readdir(f,p)},function(p,g,_,N){p?p.status===Dropbox.ApiError.NO_CONTENT&&h!==null?u(null,h.contents.slice(0)):u(p):(l.updateCachedDirInfo(f,_,g.slice(0)),N.forEach(function(P){l.updateCachedInfo(d.join(f,P.name),P)}),u(null,g))})},Ht.prototype.remove=function(f,u){var l=this;this._wrap(function(h){l._client.remove(f,h)},function(h,p){h||l.updateCachedInfo(f,p),u(h)})},Ht.prototype.move=function(f,u,l){var h=this;this._wrap(function(p){h._client.move(f,u,p)},function(p,g){p||(h.deleteCachedInfo(f),h.updateCachedInfo(u,g)),l(p)})},Ht.prototype.stat=function(f,u){var l=this;this._wrap(function(h){l._client.stat(f,h)},function(h,p){h||l.updateCachedInfo(f,p),u(h,p)})},Ht.prototype.readFile=function(f,u){var l=this,h=this.getCachedFileInfo(f);h!==null&&h.contents!==null?this.stat(f,function(p,g){p?u(p):g.contentHash===h.stat.contentHash?u(p,h.contents.slice(0),h.stat):l.readFile(f,u)}):this._wrap(function(p){l._client.readFile(f,{arrayBuffer:!0},p)},function(p,g,_){p||l.updateCachedInfo(f,_,g.slice(0)),u(p,g,_)})},Ht.prototype.writeFile=function(f,u,l){var h=this;this._wrap(function(p){h._client.writeFile(f,u,p)},function(p,g){p||h.updateCachedInfo(f,g,u.slice(0)),l(p,g)})},Ht.prototype.mkdir=function(f,u){var l=this;this._wrap(function(h){l._client.mkdir(f,h)},function(h,p){h||l.updateCachedInfo(f,p,[]),u(h)})},Ht.prototype._wrap=function(f,u){var l=0,h=function(p){var g=2;if(p&&3>++l)switch(p.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){f(h)},1e3*g);break;default:u.apply(null,arguments)}else u.apply(null,arguments)};f(h)},Ht.prototype.getCachedInfo=function(f){return this._cache[f.toLowerCase()]},Ht.prototype.putCachedInfo=function(f,u){this._cache[f.toLowerCase()]=u},Ht.prototype.deleteCachedInfo=function(f){delete this._cache[f.toLowerCase()]},Ht.prototype.getCachedDirInfo=function(f){var u,l=this.getCachedInfo(f);return(u=l)&&u.stat.isFolder?l:null},Ht.prototype.getCachedFileInfo=function(f){var u,l=this.getCachedInfo(f);return(u=l)&&u.stat.isFile?l:null},Ht.prototype.updateCachedDirInfo=function(f,u,l){l===void 0&&(l=null);var h=this.getCachedInfo(f);u.contentHash===null||h!==void 0&&h.stat.contentHash===u.contentHash||this.putCachedInfo(f,{stat:u,contents:l})},Ht.prototype.updateCachedFileInfo=function(f,u,l){l===void 0&&(l=null);var h=this.getCachedInfo(f);u.versionTag===null||h!==void 0&&h.stat.versionTag===u.versionTag||this.putCachedInfo(f,{stat:u,contents:l})},Ht.prototype.updateCachedInfo=function(f,u,l){var h;l===void 0&&(l=null),u.isFile&&((h=l)==null||typeof h=="object"&&typeof h.byteLength=="number")?this.updateCachedFileInfo(f,u,l):u.isFolder&&Array.isArray(l)&&this.updateCachedDirInfo(f,u,l)};var ox=function(f){function u(l,h,p,g,_){f.call(this,l,h,p,g,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;if(this.isDirty()){var p=V(this.getBuffer());this._fs._writeFileStrict(this.getPath(),p,function(g){g||h.resetDirty(),l(g)})}else l()},u.prototype.close=function(l){this.sync(l)},u}(E),Fl=function(f){function u(l,h){h===void 0&&(h=!0),f.call(this),this._client=new Ht(l),me(h,u.Name,{client:"authenticated dropbox client instance"}),Nr||((Nr={})[Dropbox.ApiError.NETWORK_ERROR]=a.EIO,Nr[Dropbox.ApiError.INVALID_PARAM]=a.EINVAL,Nr[Dropbox.ApiError.INVALID_TOKEN]=a.EPERM,Nr[Dropbox.ApiError.OAUTH_ERROR]=a.EPERM,Nr[Dropbox.ApiError.NOT_FOUND]=a.ENOENT,Nr[Dropbox.ApiError.INVALID_METHOD]=a.EINVAL,Nr[Dropbox.ApiError.NOT_ACCEPTABLE]=a.EINVAL,Nr[Dropbox.ApiError.CONFLICT]=a.EINVAL,Nr[Dropbox.ApiError.RATE_LIMITED]=a.EBUSY,Nr[Dropbox.ApiError.SERVER_ERROR]=a.EBUSY,Nr[Dropbox.ApiError.OVER_QUOTA]=a.ENOSPC)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.client,!1))},u.isAvailable=function(){return typeof Dropbox<"u"},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(l){var h=this;this._client.readdir("/",function(p,g){p?l(h.convert(p,"/")):am(g,function(_,N){var P=d.join("/",_);h._client.remove(P,function(q){N(q?h.convert(q,P):null)})},function(_){_?l(_):l()})})},u.prototype.rename=function(l,h,p){var g=this;this._client.move(l,h,function(_){_?g._client.stat(h,function(N,P){if(N||P.isFolder){var q=_.response.error.indexOf(l)>-1?l:h;p(g.convert(_,q))}else g._client.remove(h,function(Q){Q?p(g.convert(Q,h)):g.rename(l,h,p)})}):p()})},u.prototype.stat=function(l,h,p){var g=this;this._client.stat(l,function(_,N){if(_)p(g.convert(_,l));else{if(!N||!N.isRemoved){var P=new O(g._statType(N),N.size);return p(null,P)}p(y.FileError(a.ENOENT,l))}})},u.prototype.open=function(l,h,p,g){var _=this;this._client.readFile(l,function(N,P,q){if(!N){var Q;Q=P===null?xe():ne(P);var fe=_._makeFile(l,h,q,Q);return g(null,fe)}if(!h.isReadable()){if(N.status===Dropbox.ApiError.NOT_FOUND){var pe=new ArrayBuffer(0);return _._writeFileStrict(l,pe,function(we,_e){if(we)g(we);else{var Ne=_._makeFile(l,h,_e,ne(pe));g(null,Ne)}})}return g(_.convert(N,l))}g(_.convert(N,l))})},u.prototype._writeFileStrict=function(l,h,p){var g=this,_=d.dirname(l);this.stat(_,!1,function(N,P){N?p(y.FileError(a.ENOENT,_)):g._client.writeFile(l,h,function(q,Q){q?p(g.convert(q,l)):p(null,Q)})})},u.prototype._statType=function(l){return l.isFile?b.FILE:b.DIRECTORY},u.prototype._makeFile=function(l,h,p,g){var _=this._statType(p),N=new O(_,p.size);return new ox(this,l,h,N,g)},u.prototype._remove=function(l,h,p){var g=this;this._client.stat(l,function(_,N){_?h(g.convert(_,l)):N.isFile&&!p?h(y.FileError(a.ENOTDIR,l)):!N.isFile&&p?h(y.FileError(a.EISDIR,l)):g._client.remove(l,function(P){h(P?g.convert(P,l):null)})})},u.prototype.unlink=function(l,h){this._remove(l,h,!0)},u.prototype.rmdir=function(l,h){this._remove(l,h,!1)},u.prototype.mkdir=function(l,h,p){var g=this,_=d.dirname(l);this._client.stat(_,function(N,P){N?p(g.convert(N,_)):g._client.mkdir(l,function(q){p(q?y.FileError(a.EEXIST,l):null)})})},u.prototype.readdir=function(l,h){var p=this;this._client.readdir(l,function(g,_){return g?h(p.convert(g)):h(null,_)})},u.prototype.convert=function(l,h){h===void 0&&(h=null);var p=Nr[l.status];return p===void 0&&(p=a.EIO),h?y.FileError(p,h):new y(p)},u}(J);function ht(f,u){u===void 0&&(u="");for(var l=f.errno,h=f.node,p=[];h&&(p.unshift(h.name),h!==h.parent);)h=h.parent;return new y(l,m[l],p.length>0?"/"+p.join("/"):u)}Fl.Name="Dropbox",Fl.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(f,u){f.isAuthenticated&&f.isAuthenticated()?u():u(new y(a.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};var sx=function(f){function u(l,h,p,g){f.call(this),this._fs=l,this._FS=h,this._path=p,this._stream=g}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.getPos=function(){},u.prototype.close=function(l){var h=null;try{this.closeSync()}catch(p){h=p}finally{l(h)}},u.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(l){throw ht(l,this._path)}},u.prototype.stat=function(l){try{l(null,this.statSync())}catch(h){l(h)}},u.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(l){throw ht(l,this._path)}},u.prototype.truncate=function(l,h){var p=null;try{this.truncateSync(l)}catch(g){p=g}finally{h(p)}},u.prototype.truncateSync=function(l){try{this._FS.ftruncate(this._stream.fd,l)}catch(h){throw ht(h,this._path)}},u.prototype.write=function(l,h,p,g,_){try{_(null,this.writeSync(l,h,p,g),l)}catch(N){_(N)}},u.prototype.writeSync=function(l,h,p,g){try{var _=G(l),N=g===null?void 0:g;return this._FS.write(this._stream,_,h,p,N)}catch(P){throw ht(P,this._path)}},u.prototype.read=function(l,h,p,g,_){try{_(null,this.readSync(l,h,p,g),l)}catch(N){_(N)}},u.prototype.readSync=function(l,h,p,g){try{var _=G(l),N=g===null?void 0:g;return this._FS.read(this._stream,_,h,p,N)}catch(P){throw ht(P,this._path)}},u.prototype.sync=function(l){l()},u.prototype.syncSync=function(){},u.prototype.chown=function(l,h,p){var g=null;try{this.chownSync(l,h)}catch(_){g=_}finally{p(g)}},u.prototype.chownSync=function(l,h){try{this._FS.fchown(this._stream.fd,l,h)}catch(p){throw ht(p,this._path)}},u.prototype.chmod=function(l,h){var p=null;try{this.chmodSync(l)}catch(g){p=g}finally{h(p)}},u.prototype.chmodSync=function(l){try{this._FS.fchmod(this._stream.fd,l)}catch(h){throw ht(h,this._path)}},u.prototype.utimes=function(l,h,p){var g=null;try{this.utimesSync(l,h)}catch(_){g=_}finally{p(g)}},u.prototype.utimesSync=function(l,h){this._fs.utimesSync(this._path,l,h)},u}(C),Cl=function(f){function u(l){f.call(this),this._FS=l}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.FS))},u.isAvailable=function(){return!0},u.prototype.getName=function(){return this._FS.DB_NAME()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!0},u.prototype.supportsProps=function(){return!0},u.prototype.supportsSynch=function(){return!0},u.prototype.renameSync=function(l,h){try{this._FS.rename(l,h)}catch(p){throw p.errno===a.ENOENT?ht(p,this.existsSync(l)?h:l):ht(p)}},u.prototype.statSync=function(l,h){try{var p=h?this._FS.lstat(l):this._FS.stat(l),g=this.modeToFileType(p.mode);return new O(g,p.size,p.mode,p.atime,p.mtime,p.ctime)}catch(_){throw ht(_,l)}},u.prototype.openSync=function(l,h,p){try{var g=this._FS.open(l,h.getFlagString(),p);if(this._FS.isDir(g.node.mode))throw this._FS.close(g),y.EISDIR(l);return new sx(this,this._FS,l,g)}catch(_){throw ht(_,l)}},u.prototype.unlinkSync=function(l){try{this._FS.unlink(l)}catch(h){throw ht(h,l)}},u.prototype.rmdirSync=function(l){try{this._FS.rmdir(l)}catch(h){throw ht(h,l)}},u.prototype.mkdirSync=function(l,h){try{this._FS.mkdir(l,h)}catch(p){throw ht(p,l)}},u.prototype.readdirSync=function(l){try{return this._FS.readdir(l).filter(function(h){return h!=="."&&h!==".."})}catch(h){throw ht(h,l)}},u.prototype.truncateSync=function(l,h){try{this._FS.truncate(l,h)}catch(p){throw ht(p,l)}},u.prototype.readFileSync=function(l,h,p){try{var g=oe(this._FS.readFile(l,{flags:p.getFlagString()}));return h?g.toString(h):g}catch(_){throw ht(_,l)}},u.prototype.writeFileSync=function(l,h,p,g,_){try{p&&(h=n.from(h,p));var N=G(h);this._FS.writeFile(l,N,{flags:g.getFlagString(),encoding:"binary"}),this._FS.chmod(l,_)}catch(P){throw ht(P,l)}},u.prototype.chmodSync=function(l,h,p){try{h?this._FS.lchmod(l,p):this._FS.chmod(l,p)}catch(g){throw ht(g,l)}},u.prototype.chownSync=function(l,h,p,g){try{h?this._FS.lchown(l,p,g):this._FS.chown(l,p,g)}catch(_){throw ht(_,l)}},u.prototype.symlinkSync=function(l,h,p){try{this._FS.symlink(l,h)}catch(g){throw ht(g)}},u.prototype.readlinkSync=function(l){try{return this._FS.readlink(l)}catch(h){throw ht(h,l)}},u.prototype.utimesSync=function(l,h,p){try{this._FS.utime(l,h.getTime(),p.getTime())}catch(g){throw ht(g,l)}},u.prototype.modeToFileType=function(l){if(this._FS.isDir(l))return b.DIRECTORY;if(this._FS.isFile(l))return b.FILE;if(this._FS.isLink(l))return b.SYMLINK;throw y.EPERM("Invalid mode: "+l)},u}(be);Cl.Name="EmscriptenFileSystem",Cl.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var ko=function(f){function u(l,h){f.call(this),this._folder=l,this._wrapped=h}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.folder,l.wrapped))},u.isAvailable=function(){return!0},u.prototype.initialize=function(l){var h=this;this._wrapped.exists(this._folder,function(p){p?l():h._wrapped.isReadOnly()?l(y.ENOENT(h._folder)):h._wrapped.mkdir(h._folder,511,l)})},u.prototype.getName=function(){return this._wrapped.getName()},u.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},u.prototype.supportsProps=function(){return this._wrapped.supportsProps()},u.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u}(J);function lm(f,u){if(u!==null&&typeof u=="object"){var l=u,h=l.path;h&&(h="/"+d.relative(f,h),l.message=l.message.replace(l.path,h),l.path=h)}return u}function ax(f,u){return typeof u=="function"?function(l){arguments.length>0&&(arguments[0]=lm(f,l)),u.apply(null,arguments)}:u}function um(f,u,l){return f.slice(f.length-4)!=="Sync"?function(){return arguments.length>0&&(u&&(arguments[0]=d.join(this._folder,arguments[0])),l&&(arguments[1]=d.join(this._folder,arguments[1])),arguments[arguments.length-1]=ax(this._folder,arguments[arguments.length-1])),this._wrapped[f].apply(this._wrapped,arguments)}:function(){try{return u&&(arguments[0]=d.join(this._folder,arguments[0])),l&&(arguments[1]=d.join(this._folder,arguments[1])),this._wrapped[f].apply(this._wrapped,arguments)}catch(h){throw lm(this._folder,h)}}}ko.Name="FolderAdapter",ko.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}},["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(f){ko.prototype[f]=um(f,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(f){ko.prototype[f]=um(f,!0,!0)});var Ot=typeof window<"u"?window:typeof self<"u"?self:i,rh=Ot.webkitRequestFileSystem||Ot.requestFileSystem||null;function wn(f,u,l){switch(f.name){case"PathExistsError":return y.EEXIST(u);case"QuotaExceededError":return y.FileError(a.ENOSPC,u);case"NotFoundError":return y.ENOENT(u);case"SecurityError":return y.FileError(a.EACCES,u);case"InvalidModificationError":return y.FileError(a.EPERM,u);case"TypeMismatchError":return y.FileError(l?a.ENOTDIR:a.EISDIR,u);default:return y.FileError(a.EINVAL,u)}}var lx=function(f){function u(l,h,p,g,_,N){f.call(this,l,p,g,_,N),this._entry=h}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;if(!this.isDirty())return l();this._entry.createWriter(function(p){var g=h.getBuffer(),_=new Blob([V(g)]),N=_.size;p.onwriteend=function(P){p.onwriteend=null,p.onerror=null,p.truncate(N),h.resetDirty(),l()},p.onerror=function(P){l(wn(P,h.getPath(),!1))},p.write(_)})},u.prototype.close=function(l){this.sync(l)},u}(E),Pl=function(f){function u(l,h,p){l===void 0&&(l=5),h===void 0&&(h=Ot.PERSISTENT),p===void 0&&(p=!0),f.call(this),this.size=1048576*l,this.type=h,me(p,u.Name,{size:l,type:h})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u(l.size,l.type,!1);p.allocate(function(g){return g?h(g):h(null,p)},!1)},u.isAvailable=function(){return!!rh},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.allocate=function(l,h){var p=this;l===void 0&&(l=function(){}),h===void 0&&(h=!0),h&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var g=function(N){p.fs=N,l()},_=function(N){l(wn(N,"/",!0))};this.type===Ot.PERSISTENT?function(N,P,q,Q){if(navigator.webkitPersistentStorage!==void 0)switch(N){case Ot.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(P,q,Q);break;case Ot.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(P,q,Q);break;default:Q(new TypeError("Invalid storage type: "+N))}else Ot.webkitStorageInfo.requestQuota(N,P,q,Q)}(this.type,this.size,function(N){rh(p.type,N,g,_)},_):rh(this.type,this.size,g,_)},u.prototype.empty=function(l){this._readdir("/",function(h,p){h?(console.error("Failed to empty FS"),l(h)):am(p,function(g,_){var N=function(){_()},P=function(q){_(wn(q,g.fullPath,!g.isDirectory))};(function(q){return q.isDirectory})(g)?g.removeRecursively(N,P):g.remove(N,P)},function(g){h?(console.error("Failed to empty FS"),l(h)):l()})})},u.prototype.rename=function(l,h,p){var g=this,_=2,N=0,P=this.fs.root,q=l,Q=function(pe){--_<=0&&p(wn(pe,q,!1))},fe=function(pe){return++N==2?p(new y(a.EINVAL,"Something was identified as both a file and a directory. This should never happen.")):l===h?p():(q=d.dirname(h),void P.getDirectory(q,{},function(we){q=d.basename(h),pe.moveTo(we,q,function(_e){p()},function(_e){pe.isDirectory?(q=h,g.unlink(h,function(Ne){Ne?Q(_e):g.rename(l,h,p)})):Q(_e)})},Q))};P.getFile(l,{},fe,Q),P.getDirectory(l,{},fe,Q)},u.prototype.stat=function(l,h,p){var g=this,_={create:!1},N=function(q){var Q=new O(b.DIRECTORY,4096);p(null,Q)},P=function(q){p(wn(q,l,!1))};this.fs.root.getFile(l,_,function(q){q.file(function(Q){var fe=new O(b.FILE,Q.size);p(null,fe)},P)},function(){g.fs.root.getDirectory(l,_,N,P)})},u.prototype.open=function(l,h,p,g){var _=this,N=function(P){P.name==="InvalidModificationError"&&h.isExclusive()?g(y.EEXIST(l)):g(wn(P,l,!1))};this.fs.root.getFile(l,{create:h.pathNotExistsAction()===v.CREATE_FILE,exclusive:h.isExclusive()},function(P){P.file(function(q){var Q=new FileReader;Q.onloadend=function(fe){var pe=_._makeFile(l,P,h,q,Q.result);g(null,pe)},Q.onerror=function(fe){N(Q.error)},Q.readAsArrayBuffer(q)},N)},N)},u.prototype.unlink=function(l,h){this._remove(l,h,!0)},u.prototype.rmdir=function(l,h){var p=this;this.readdir(l,function(g,_){g?h(g):_.length>0?h(y.ENOTEMPTY(l)):p._remove(l,h,!1)})},u.prototype.mkdir=function(l,h,p){this.fs.root.getDirectory(l,{create:!0,exclusive:!0},function(g){p()},function(g){p(wn(g,l,!0))})},u.prototype.readdir=function(l,h){this._readdir(l,function(p,g){if(!g)return h(p);for(var _=[],N=0,P=g;N<P.length;N+=1){var q=P[N];_.push(q.name)}h(null,_)})},u.prototype._makeFile=function(l,h,p,g,_){_===void 0&&(_=new ArrayBuffer(0));var N=new O(b.FILE,g.size),P=ne(_);return new lx(this,h,l,p,N,P)},u.prototype._readdir=function(l,h){var p=function(g){h(wn(g,l,!0))};this.fs.root.getDirectory(l,{create:!1},function(g){var _=g.createReader(),N=[],P=function(){_.readEntries(function(q){q.length?(N=N.concat(function(Q){return Array.prototype.slice.call(Q||[],0)}(q)),P()):h(null,N)},p)};P()},p)},u.prototype._remove=function(l,h,p){var g=function(P){P.remove(function(){h()},function(q){h(wn(q,l,!p))})},_=function(P){h(wn(P,l,!p))},N={create:!1};p?this.fs.root.getFile(l,N,g,_):this.fs.root.getDirectory(l,N,g,_)},u}(J);Pl.Name="HTML5FS",Pl.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var dr=function(f,u,l,h,p,g){this.id=f,this.size=u,this.mode=l,this.atime=h,this.mtime=p,this.ctime=g};dr.fromBuffer=function(f){if(f===void 0)throw new Error("NO");return new dr(f.toString("ascii",30),f.readUInt32LE(0),f.readUInt16LE(4),f.readDoubleLE(6),f.readDoubleLE(14),f.readDoubleLE(22))},dr.prototype.toStats=function(){return new O((61440&this.mode)===b.DIRECTORY?b.DIRECTORY:b.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},dr.prototype.getSize=function(){return 30+this.id.length},dr.prototype.toBuffer=function(f){return f===void 0&&(f=n.alloc(this.getSize())),f.writeUInt32LE(this.size,0),f.writeUInt16LE(this.mode,4),f.writeDoubleLE(this.atime,6),f.writeDoubleLE(this.mtime,14),f.writeDoubleLE(this.ctime,22),f.write(this.id,30,this.id.length,"ascii"),f},dr.prototype.update=function(f){var u=!1;this.size!==f.size&&(this.size=f.size,u=!0),this.mode!==f.mode&&(this.mode=f.mode,u=!0);var l=f.atime.getTime();this.atime!==l&&(this.atime=l,u=!0);var h=f.mtime.getTime();this.mtime!==h&&(this.mtime=h,u=!0);var p=f.ctime.getTime();return this.ctime!==p&&(this.ctime=p,u=!0),u},dr.prototype.isFile=function(){return(61440&this.mode)===b.FILE},dr.prototype.isDirectory=function(){return(61440&this.mode)===b.DIRECTORY};var Yn="/",cm=null;function fm(){return cm||(cm=n.from("{}"))}function jl(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var u=16*Math.random()|0;return(f==="x"?u:3&u|8).toString(16)})}function Ar(f,u){return!f||(u(f),!1)}function Rt(f,u,l){return!f||(u.abort(function(){l(f)}),!1)}var Fn=function(f){this.store=f,this.originalData={},this.modifiedKeys=[]};Fn.prototype.get=function(f){var u=this.store.get(f);return this.stashOldValue(f,u),u},Fn.prototype.put=function(f,u,l){return this.markModified(f),this.store.put(f,u,l)},Fn.prototype.del=function(f){this.markModified(f),this.store.del(f)},Fn.prototype.commit=function(){},Fn.prototype.abort=function(){for(var f=this,u=0,l=f.modifiedKeys;u<l.length;u+=1){var h=l[u],p=f.originalData[h];p?f.store.put(h,p,!0):f.store.del(h)}},Fn.prototype.stashOldValue=function(f,u){this.originalData.hasOwnProperty(f)||(this.originalData[f]=u)},Fn.prototype.markModified=function(f){this.modifiedKeys.indexOf(f)===-1&&(this.modifiedKeys.push(f),this.originalData.hasOwnProperty(f)||(this.originalData[f]=this.store.get(f)))};var hm=function(f){function u(l,h,p,g,_){f.call(this,l,h,p,g,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(E),dm=function(f){function u(l){f.call(this),this.store=l.store,this.makeRootDirectory()}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},u.prototype.renameSync=function(l,h){var p=this.store.beginTransaction("readwrite"),g=d.dirname(l),_=d.basename(l),N=d.dirname(h),P=d.basename(h),q=this.findINode(p,g),Q=this.getDirListing(p,g,q);if(!Q[_])throw y.ENOENT(l);var fe,pe,we=Q[_];if(delete Q[_],(N+"/").indexOf(l+"/")===0)throw new y(a.EBUSY,g);if(N===g?(fe=q,pe=Q):(fe=this.findINode(p,N),pe=this.getDirListing(p,N,fe)),pe[P]){var _e=this.getINode(p,h,pe[P]);if(!_e.isFile())throw y.EPERM(h);try{p.del(_e.id),p.del(pe[P])}catch(Ne){throw p.abort(),Ne}}pe[P]=we;try{p.put(q.id,n.from(JSON.stringify(Q)),!0),p.put(fe.id,n.from(JSON.stringify(pe)),!0)}catch(Ne){throw p.abort(),Ne}p.commit()},u.prototype.statSync=function(l,h){return this.findINode(this.store.beginTransaction("readonly"),l).toStats()},u.prototype.createFileSync=function(l,h,p){var g=this.store.beginTransaction("readwrite"),_=xe(),N=this.commitNewFile(g,l,b.FILE,p,_);return new hm(this,l,h,N.toStats(),_)},u.prototype.openFileSync=function(l,h){var p=this.store.beginTransaction("readonly"),g=this.findINode(p,l),_=p.get(g.id);if(_===void 0)throw y.ENOENT(l);return new hm(this,l,h,g.toStats(),_)},u.prototype.unlinkSync=function(l){this.removeEntry(l,!1)},u.prototype.rmdirSync=function(l){if(this.readdirSync(l).length>0)throw y.ENOTEMPTY(l);this.removeEntry(l,!0)},u.prototype.mkdirSync=function(l,h){var p=this.store.beginTransaction("readwrite"),g=n.from("{}");this.commitNewFile(p,l,b.DIRECTORY,h,g)},u.prototype.readdirSync=function(l){var h=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(h,l,this.findINode(h,l)))},u.prototype._syncSync=function(l,h,p){var g=this.store.beginTransaction("readwrite"),_=this._findINode(g,d.dirname(l),d.basename(l)),N=this.getINode(g,l,_),P=N.update(p);try{g.put(N.id,h,!0),P&&g.put(_,N.toBuffer(),!0)}catch(q){throw g.abort(),q}g.commit()},u.prototype.makeRootDirectory=function(){var l=this.store.beginTransaction("readwrite");if(l.get(Yn)===void 0){var h=new Date().getTime(),p=new dr(jl(),4096,511|b.DIRECTORY,h,h,h);l.put(p.id,fm(),!1),l.put(Yn,p.toBuffer(),!1),l.commit()}},u.prototype._findINode=function(l,h,p){var g=this,_=function(N){var P=g.getDirListing(l,h,N);if(P[p])return P[p];throw y.ENOENT(d.resolve(h,p))};return h==="/"?p===""?Yn:_(this.getINode(l,h,Yn)):_(this.getINode(l,h+d.sep+p,this._findINode(l,d.dirname(h),d.basename(h))))},u.prototype.findINode=function(l,h){return this.getINode(l,h,this._findINode(l,d.dirname(h),d.basename(h)))},u.prototype.getINode=function(l,h,p){var g=l.get(p);if(g===void 0)throw y.ENOENT(h);return dr.fromBuffer(g)},u.prototype.getDirListing=function(l,h,p){if(!p.isDirectory())throw y.ENOTDIR(h);var g=l.get(p.id);if(g===void 0)throw y.ENOENT(h);return JSON.parse(g.toString())},u.prototype.addNewNode=function(l,h){for(var p;;)try{return p=jl(),l.put(p,h,!1),p}catch{}throw new y(a.EIO,"Unable to commit data to key-value store.")},u.prototype.commitNewFile=function(l,h,p,g,_){var N,P=d.dirname(h),q=d.basename(h),Q=this.findINode(l,P),fe=this.getDirListing(l,P,Q),pe=new Date().getTime();if(h==="/"||fe[q])throw y.EEXIST(h);try{var we=this.addNewNode(l,_);N=new dr(we,_.length,g|p,pe,pe,pe);var _e=this.addNewNode(l,N.toBuffer());fe[q]=_e,l.put(Q.id,n.from(JSON.stringify(fe)),!0)}catch(Ne){throw l.abort(),Ne}return l.commit(),N},u.prototype.removeEntry=function(l,h){var p=this.store.beginTransaction("readwrite"),g=d.dirname(l),_=this.findINode(p,g),N=this.getDirListing(p,g,_),P=d.basename(l);if(!N[P])throw y.ENOENT(l);var q=N[P];delete N[P];var Q=this.getINode(p,l,q);if(!h&&Q.isDirectory())throw y.EISDIR(l);if(h&&!Q.isDirectory())throw y.ENOTDIR(l);try{p.del(Q.id),p.del(q),p.put(_.id,n.from(JSON.stringify(N)),!0)}catch(fe){throw p.abort(),fe}p.commit()},u}(be),pm=function(f){function u(l,h,p,g,_){f.call(this,l,h,p,g,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(p){p||h.resetDirty(),l(p)}):l()},u.prototype.close=function(l){this.sync(l)},u}(E),ux=function(f){function u(){f.apply(this,arguments)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.init=function(l,h){this.store=l,this.makeRootDirectory(h)},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(l){var h=this;this.store.clear(function(p){Ar(p,l)&&h.makeRootDirectory(l)})},u.prototype.rename=function(l,h,p){var g=this,_=this.store.beginTransaction("readwrite"),N=d.dirname(l),P=d.basename(l),q=d.dirname(h),Q=d.basename(h),fe={},pe={},we=!1;if((q+"/").indexOf(l+"/")===0)return p(new y(a.EBUSY,N));var _e=function(Ne){g.findINodeAndDirListing(_,Ne,function(Ve,Tt,on){Ve?we||(we=!0,_.abort(function(){p(Ve)})):(fe[Ne]=Tt,pe[Ne]=on,function(){if(!we&&pe.hasOwnProperty(N)&&pe.hasOwnProperty(q)){var Rr=pe[N],Fo=fe[N],mr=pe[q],ph=fe[q];if(Rr[P]){var Vi=Rr[P];delete Rr[P];var $i=function(){mr[Q]=Vi,_.put(Fo.id,n.from(JSON.stringify(Rr)),!0,function(yh){Rt(yh,_,p)&&(N===q?_.commit(p):_.put(ph.id,n.from(JSON.stringify(mr)),!0,function(Hl){Rt(Hl,_,p)&&_.commit(p)}))})};mr[Q]?g.getINode(_,h,mr[Q],function(yh,Hl){Rt(yh,_,p)&&(Hl.isFile()?_.del(Hl.id,function(rg){Rt(rg,_,p)&&_.del(mr[Q],function(Ex){Rt(Ex,_,p)&&$i()})}):_.abort(function(rg){p(y.EPERM(h))}))}):$i()}else p(y.ENOENT(l))}}())})};_e(N),N!==q&&_e(q)},u.prototype.stat=function(l,h,p){var g=this.store.beginTransaction("readonly");this.findINode(g,l,function(_,N){Ar(_,p)&&p(null,N.toStats())})},u.prototype.createFile=function(l,h,p,g){var _=this,N=this.store.beginTransaction("readwrite"),P=xe();this.commitNewFile(N,l,b.FILE,p,P,function(q,Q){Ar(q,g)&&g(null,new pm(_,l,h,Q.toStats(),P))})},u.prototype.openFile=function(l,h,p){var g=this,_=this.store.beginTransaction("readonly");this.findINode(_,l,function(N,P){Ar(N,p)&&_.get(P.id,function(q,Q){Ar(q,p)&&(Q===void 0?p(y.ENOENT(l)):p(null,new pm(g,l,h,P.toStats(),Q)))})})},u.prototype.unlink=function(l,h){this.removeEntry(l,!1,h)},u.prototype.rmdir=function(l,h){var p=this;this.readdir(l,function(g,_){g?h(g):_.length>0?h(y.ENOTEMPTY(l)):p.removeEntry(l,!0,h)})},u.prototype.mkdir=function(l,h,p){var g=this.store.beginTransaction("readwrite"),_=n.from("{}");this.commitNewFile(g,l,b.DIRECTORY,h,_,p)},u.prototype.readdir=function(l,h){var p=this,g=this.store.beginTransaction("readonly");this.findINode(g,l,function(_,N){Ar(_,h)&&p.getDirListing(g,l,N,function(P,q){Ar(P,h)&&h(null,Object.keys(q))})})},u.prototype._sync=function(l,h,p,g){var _=this,N=this.store.beginTransaction("readwrite");this._findINode(N,d.dirname(l),d.basename(l),function(P,q){Rt(P,N,g)&&_.getINode(N,l,q,function(Q,fe){if(Rt(Q,N,g)){var pe=fe.update(p);N.put(fe.id,h,!0,function(we){Rt(we,N,g)&&(pe?N.put(q,fe.toBuffer(),!0,function(_e){Rt(_e,N,g)&&N.commit(g)}):N.commit(g))})}})})},u.prototype.makeRootDirectory=function(l){var h=this.store.beginTransaction("readwrite");h.get(Yn,function(p,g){if(p||g===void 0){var _=new Date().getTime(),N=new dr(jl(),4096,511|b.DIRECTORY,_,_,_);h.put(N.id,fm(),!1,function(P){Rt(P,h,l)&&h.put(Yn,N.toBuffer(),!1,function(q){q?h.abort(function(){l(q)}):h.commit(l)})})}else h.commit(l)})},u.prototype._findINode=function(l,h,p,g){var _=this,N=function(P,q,Q){P?g(P):Q[p]?g(null,Q[p]):g(y.ENOENT(d.resolve(h,p)))};h==="/"?p===""?g(null,Yn):this.getINode(l,h,Yn,function(P,q){Ar(P,g)&&_.getDirListing(l,h,q,function(Q,fe){N(Q,0,fe)})}):this.findINodeAndDirListing(l,h,N)},u.prototype.findINode=function(l,h,p){var g=this;this._findINode(l,d.dirname(h),d.basename(h),function(_,N){Ar(_,p)&&g.getINode(l,h,N,p)})},u.prototype.getINode=function(l,h,p,g){l.get(p,function(_,N){Ar(_,g)&&(N===void 0?g(y.ENOENT(h)):g(null,dr.fromBuffer(N)))})},u.prototype.getDirListing=function(l,h,p,g){p.isDirectory()?l.get(p.id,function(_,N){if(Ar(_,g))try{g(null,JSON.parse(N.toString()))}catch{g(y.ENOENT(h))}}):g(y.ENOTDIR(h))},u.prototype.findINodeAndDirListing=function(l,h,p){var g=this;this.findINode(l,h,function(_,N){Ar(_,p)&&g.getDirListing(l,h,N,function(P,q){Ar(P,p)&&p(null,N,q)})})},u.prototype.addNewNode=function(l,h,p){var g,_=0,N=function(){++_==5?p(new y(a.EIO,"Unable to commit data to key-value store.")):(g=jl(),l.put(g,h,!1,function(P,q){P||!q?N():p(null,g)}))};N()},u.prototype.commitNewFile=function(l,h,p,g,_,N){var P=this,q=d.dirname(h),Q=d.basename(h),fe=new Date().getTime();if(h==="/")return N(y.EEXIST(h));this.findINodeAndDirListing(l,q,function(pe,we,_e){Rt(pe,l,N)&&(_e[Q]?l.abort(function(){N(y.EEXIST(h))}):P.addNewNode(l,_,function(Ne,Ve){if(Rt(Ne,l,N)){var Tt=new dr(Ve,_.length,g|p,fe,fe,fe);P.addNewNode(l,Tt.toBuffer(),function(on,Rr){Rt(on,l,N)&&(_e[Q]=Rr,l.put(we.id,n.from(JSON.stringify(_e)),!0,function(Fo){Rt(Fo,l,N)&&l.commit(function(mr){Rt(mr,l,N)&&N(null,Tt)})}))})}}))})},u.prototype.removeEntry=function(l,h,p){var g=this,_=this.store.beginTransaction("readwrite"),N=d.dirname(l),P=d.basename(l);this.findINodeAndDirListing(_,N,function(q,Q,fe){if(Rt(q,_,p))if(fe[P]){var pe=fe[P];delete fe[P],g.getINode(_,l,pe,function(we,_e){Rt(we,_,p)&&(!h&&_e.isDirectory()?_.abort(function(){p(y.EISDIR(l))}):h&&!_e.isDirectory()?_.abort(function(){p(y.ENOTDIR(l))}):_.del(_e.id,function(Ne){Rt(Ne,_,p)&&_.del(pe,function(Ve){Rt(Ve,_,p)&&_.put(Q.id,n.from(JSON.stringify(fe)),!0,function(Tt){Rt(Tt,_,p)&&_.commit(p)})})}))})}else _.abort(function(){p(y.ENOENT(l))})})},u}(J),Pi=function(){this.store={}};Pi.prototype.name=function(){return To.Name},Pi.prototype.clear=function(){this.store={}},Pi.prototype.beginTransaction=function(f){return new Fn(this)},Pi.prototype.get=function(f){return this.store[f]},Pi.prototype.put=function(f,u,l){return!(!l&&this.store.hasOwnProperty(f)||(this.store[f]=u,0))},Pi.prototype.del=function(f){delete this.store[f]};var To=function(f){function u(){f.call(this,{store:new Pi})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u)},u}(dm);To.Name="InMemory",To.Options={};var nh=Ot.indexedDB||Ot.mozIndexedDB||Ot.webkitIndexedDB||Ot.msIndexedDB;function Vs(f,u){switch(u===void 0&&(u=f.toString()),f.name){case"NotFoundError":return new y(a.ENOENT,u);case"QuotaExceededError":return new y(a.ENOSPC,u);default:return new y(a.EIO,u)}}function $s(f,u,l){return u===void 0&&(u=a.EIO),l===void 0&&(l=null),function(h){h.preventDefault(),f(new y(u,l!==null?l:void 0))}}var ih=function(f,u){this.tx=f,this.store=u};ih.prototype.get=function(f,u){try{var l=this.store.get(f);l.onerror=$s(u),l.onsuccess=function(h){var p=h.target.result;u(null,p===void 0?p:ne(p))}}catch(h){u(Vs(h))}};var cx=function(f){function u(l,h){f.call(this,l,h)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.put=function(l,h,p,g){try{var _,N=V(h);(_=p?this.store.put(N,l):this.store.add(N,l)).onerror=$s(g),_.onsuccess=function(P){g(null,!0)}}catch(P){g(Vs(P))}},u.prototype.del=function(l,h){try{var p=this.store.delete(l);p.onerror=$s(h),p.onsuccess=function(g){h()}}catch(g){h(Vs(g))}},u.prototype.commit=function(l){setTimeout(l,0)},u.prototype.abort=function(l){var h=null;try{this.tx.abort()}catch(p){h=Vs(p)}finally{l(h)}},u}(ih),Ll=function(f,u){var l=this;u===void 0&&(u="browserfs"),this.storeName=u;var h=nh.open(this.storeName,1);h.onupgradeneeded=function(p){var g=p.target.result;g.objectStoreNames.contains(l.storeName)&&g.deleteObjectStore(l.storeName),g.createObjectStore(l.storeName)},h.onsuccess=function(p){l.db=p.target.result,f(null,l)},h.onerror=$s(f,a.EACCES)};Ll.prototype.name=function(){return qs.Name+" - "+this.storeName},Ll.prototype.clear=function(f){try{var u=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();u.onsuccess=function(l){setTimeout(f,0)},u.onerror=$s(f)}catch(l){f(Vs(l))}},Ll.prototype.beginTransaction=function(f){f===void 0&&(f="readonly");var u=this.db.transaction(this.storeName,f),l=u.objectStore(this.storeName);if(f==="readwrite")return new cx(u,l);if(f==="readonly")return new ih(u,l);throw new y(a.EINVAL,"Invalid transaction type.")};var qs=function(f){function u(l,h,p){var g=this;p===void 0&&(p=!0),f.call(this),this.store=new Ll(function(_){_?l(_):g.init(g.store,function(N){l(N,g)})},h),me(p,u.Name,{storeName:h})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){new u(h,l.storeName,!1)},u.isAvailable=function(){try{return nh!==void 0&&nh.open("__browserfs_test__")!==null}catch{return!1}},u}(ux);qs.Name="IndexedDB",qs.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var Ws,oh=!1;try{Ot.localStorage.setItem("__test__",String.fromCharCode(55296)),oh=Ot.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{oh=!1}Ws=oh?"binary_string":"binary_string_ie",n.isEncoding(Ws)||(Ws="base64");var ji=function(){};ji.prototype.name=function(){return Hs.Name},ji.prototype.clear=function(){Ot.localStorage.clear()},ji.prototype.beginTransaction=function(f){return new Fn(this)},ji.prototype.get=function(f){try{var u=Ot.localStorage.getItem(f);if(u!==null)return n.from(u,Ws)}catch{}},ji.prototype.put=function(f,u,l){try{return!(!l&&Ot.localStorage.getItem(f)!==null||(Ot.localStorage.setItem(f,u.toString(Ws)),0))}catch{throw new y(a.ENOSPC,"LocalStorage is full.")}},ji.prototype.del=function(f){try{Ot.localStorage.removeItem(f)}catch(u){throw new y(a.EIO,"Unable to delete key "+f+": "+u)}};var Hs=function(f){function u(){f.call(this,{store:new ji})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u)},u.isAvailable=function(){return Ot.localStorage!==void 0},u}(dm);Hs.Name="LocalStorage",Hs.Options={};var No=function(f){function u(){f.call(this),this.mountList=[],this.mntMap={},this.rootFs=new To}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u;Object.keys(l).forEach(function(g){p.mount(g,l[g])}),h(null,p)},u.isAvailable=function(){return!0},u.prototype.mount=function(l,h){if(l[0]!=="/"&&(l="/"+l),l=d.resolve(l),this.mntMap[l])throw new y(a.EINVAL,"Mount point "+l+" is already taken.");U(l,511,this.rootFs),this.mntMap[l]=h,this.mountList.push(l),this.mountList=this.mountList.sort(function(p,g){return g.length-p.length})},u.prototype.umount=function(l){if(l[0]!=="/"&&(l="/"+l),l=d.resolve(l),!this.mntMap[l])throw new y(a.EINVAL,"Mount point "+l+" is already unmounted.");for(delete this.mntMap[l],this.mountList.splice(this.mountList.indexOf(l),1);l!=="/"&&this.rootFs.readdirSync(l).length===0;)this.rootFs.rmdirSync(l),l=d.dirname(l)},u.prototype._getFs=function(l){for(var h=this.mountList,p=h.length,g=0;g<p;g++){var _=h[g];if(_.length<=l.length&&l.indexOf(_)===0)return(l=l.substr(_.length>1?_.length:0))===""&&(l="/"),{fs:this.mntMap[_],path:l}}return{fs:this.rootFs,path:l}},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(l,h){h(0,0)},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.standardizeError=function(l,h,p){var g=l.message.indexOf(h);return g!==-1&&(l.message=l.message.substr(0,g)+p+l.message.substr(g+h.length),l.path=p),l},u.prototype.rename=function(l,h,p){var g=this,_=this._getFs(l),N=this._getFs(h);return _.fs===N.fs?_.fs.rename(_.path,N.path,function(P){P&&g.standardizeError(g.standardizeError(P,_.path,l),N.path,h),p(P)}):re.readFile(l,function(P,q){if(P)return p(P);re.writeFile(h,q,function(Q){if(Q)return p(Q);re.unlink(l,p)})})},u.prototype.renameSync=function(l,h){var p=this._getFs(l),g=this._getFs(h);if(p.fs===g.fs)try{return p.fs.renameSync(p.path,g.path)}catch(N){throw this.standardizeError(this.standardizeError(N,p.path,l),g.path,h),N}var _=re.readFileSync(l);return re.writeFileSync(h,_),re.unlinkSync(l)},u.prototype.readdirSync=function(l){var h=this._getFs(l),p=null;if(h.fs!==this.rootFs)try{p=this.rootFs.readdirSync(l)}catch{}try{var g=h.fs.readdirSync(h.path);return p===null?g:g.concat(p.filter(function(_){return g.indexOf(_)===-1}))}catch(_){if(p===null)throw this.standardizeError(_,h.path,l);return p}},u.prototype.readdir=function(l,h){var p=this,g=this._getFs(l);g.fs.readdir(g.path,function(_,N){if(g.fs!==p.rootFs)try{var P=p.rootFs.readdirSync(l);N=N?N.concat(P.filter(function(q){return N.indexOf(q)===-1})):P}catch{if(_)return h(p.standardizeError(_,g.path,l))}else if(_)return h(p.standardizeError(_,g.path,l));h(null,N)})},u.prototype.rmdirSync=function(l){var h=this._getFs(l);if(this._containsMountPt(l))throw y.ENOTEMPTY(l);try{h.fs.rmdirSync(h.path)}catch(p){throw this.standardizeError(p,h.path,l)}},u.prototype.rmdir=function(l,h){var p=this,g=this._getFs(l);this._containsMountPt(l)?h(y.ENOTEMPTY(l)):g.fs.rmdir(g.path,function(_){h(_?p.standardizeError(_,g.path,l):null)})},u.prototype._containsMountPt=function(l){for(var h=this.mountList,p=h.length,g=0;g<p;g++){var _=h[g];if(_.length>=l.length&&_.slice(0,l.length)===l)return!0}return!1},u}(J);function ym(f,u,l){return u?function(){for(var h=[],p=arguments.length;p--;)h[p]=arguments[p];var g=h[0],_=this._getFs(g);h[0]=_.path;try{return _.fs[f].apply(_.fs,h)}catch(N){throw this.standardizeError(N,_.path,g),N}}:function(){for(var h=this,p=[],g=arguments.length;g--;)p[g]=arguments[g];var _=p[0],N=this._getFs(_);if(p[0]=N.path,typeof p[p.length-1]=="function"){var P=p[p.length-1];p[p.length-1]=function(){for(var q=[],Q=arguments.length;Q--;)q[Q]=arguments[Q];q.length>0&&q[0]instanceof y&&h.standardizeError(q[0],N.path,_),P.apply(null,q)}}return N.fs[f].apply(N.fs,p)}}No.Name="MountableFileSystem",No.Options={};for(var Gs,mm=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],sh=0;sh<mm.length;sh++)for(var ah=0,gm=mm[sh];ah<gm.length;ah+=1){var Ml=gm[ah];No.prototype[Ml]=ym(Ml,!1),No.prototype[Ml+"Sync"]=ym(Ml+"Sync",!0)}if(typeof setImmediate<"u")Gs=setImmediate;else{var Vr=Ot,Ao=[],vm="zero-timeout-message";if(function(){if(Vr.importScripts!==void 0||!Vr.postMessage)return!1;var f=!0,u=Vr.onmessage;return Vr.onmessage=function(){f=!1},Vr.postMessage("","*"),Vr.onmessage=u,f}()){Gs=function(f){Ao.push(f),Vr.postMessage(vm,"*")};var wm=function(f){if(f.source===self&&f.data===vm&&(f.stopPropagation?f.stopPropagation():f.cancelBubble=!0,Ao.length>0))return Ao.shift()()};Vr.addEventListener?Vr.addEventListener("message",wm,!0):Vr.attachEvent("onmessage",wm)}else if(Vr.MessageChannel){var _m=new Vr.MessageChannel;_m.port1.onmessage=function(f){if(Ao.length>0)return Ao.shift()()},Gs=function(f){Ao.push(f),_m.port2.postMessage("")}}else Gs=function(f){return setTimeout(f,0)}}var lh=Gs,Js=function(){this._locked=!1,this._waiters=[]};Js.prototype.lock=function(f){this._locked?this._waiters.push(f):(this._locked=!0,f())},Js.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var f=this._waiters.shift();f?lh(f):this._locked=!1},Js.prototype.tryLock=function(){return!this._locked&&(this._locked=!0,!0)},Js.prototype.isLocked=function(){return this._locked};var Ae=function(f){this._fs=f,this._mu=new Js};Ae.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},Ae.prototype.getFSUnlocked=function(){return this._fs},Ae.prototype.initialize=function(f){this._fs.initialize(f)},Ae.prototype.diskSpace=function(f,u){this._fs.diskSpace(f,u)},Ae.prototype.isReadOnly=function(){return this._fs.isReadOnly()},Ae.prototype.supportsLinks=function(){return this._fs.supportsLinks()},Ae.prototype.supportsProps=function(){return this._fs.supportsProps()},Ae.prototype.supportsSynch=function(){return this._fs.supportsSynch()},Ae.prototype.rename=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.rename(f,u,function(p){h._mu.unlock(),l(p)})})},Ae.prototype.renameSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(f,u)},Ae.prototype.stat=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.stat(f,u,function(p,g){h._mu.unlock(),l(p,g)})})},Ae.prototype.statSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(f,u)},Ae.prototype.open=function(f,u,l,h){var p=this;this._mu.lock(function(){p._fs.open(f,u,l,function(g,_){p._mu.unlock(),h(g,_)})})},Ae.prototype.openSync=function(f,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(f,u,l)},Ae.prototype.unlink=function(f,u){var l=this;this._mu.lock(function(){l._fs.unlink(f,function(h){l._mu.unlock(),u(h)})})},Ae.prototype.unlinkSync=function(f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(f)},Ae.prototype.rmdir=function(f,u){var l=this;this._mu.lock(function(){l._fs.rmdir(f,function(h){l._mu.unlock(),u(h)})})},Ae.prototype.rmdirSync=function(f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(f)},Ae.prototype.mkdir=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.mkdir(f,u,function(p){h._mu.unlock(),l(p)})})},Ae.prototype.mkdirSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(f,u)},Ae.prototype.readdir=function(f,u){var l=this;this._mu.lock(function(){l._fs.readdir(f,function(h,p){l._mu.unlock(),u(h,p)})})},Ae.prototype.readdirSync=function(f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(f)},Ae.prototype.exists=function(f,u){var l=this;this._mu.lock(function(){l._fs.exists(f,function(h){l._mu.unlock(),u(h)})})},Ae.prototype.existsSync=function(f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(f)},Ae.prototype.realpath=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.realpath(f,u,function(p,g){h._mu.unlock(),l(p,g)})})},Ae.prototype.realpathSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(f,u)},Ae.prototype.truncate=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.truncate(f,u,function(p){h._mu.unlock(),l(p)})})},Ae.prototype.truncateSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(f,u)},Ae.prototype.readFile=function(f,u,l,h){var p=this;this._mu.lock(function(){p._fs.readFile(f,u,l,function(g,_){p._mu.unlock(),h(g,_)})})},Ae.prototype.readFileSync=function(f,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(f,u,l)},Ae.prototype.writeFile=function(f,u,l,h,p,g){var _=this;this._mu.lock(function(){_._fs.writeFile(f,u,l,h,p,function(N){_._mu.unlock(),g(N)})})},Ae.prototype.writeFileSync=function(f,u,l,h,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(f,u,l,h,p)},Ae.prototype.appendFile=function(f,u,l,h,p,g){var _=this;this._mu.lock(function(){_._fs.appendFile(f,u,l,h,p,function(N){_._mu.unlock(),g(N)})})},Ae.prototype.appendFileSync=function(f,u,l,h,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(f,u,l,h,p)},Ae.prototype.chmod=function(f,u,l,h){var p=this;this._mu.lock(function(){p._fs.chmod(f,u,l,function(g){p._mu.unlock(),h(g)})})},Ae.prototype.chmodSync=function(f,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(f,u,l)},Ae.prototype.chown=function(f,u,l,h,p){var g=this;this._mu.lock(function(){g._fs.chown(f,u,l,h,function(_){g._mu.unlock(),p(_)})})},Ae.prototype.chownSync=function(f,u,l,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(f,u,l,h)},Ae.prototype.utimes=function(f,u,l,h){var p=this;this._mu.lock(function(){p._fs.utimes(f,u,l,function(g){p._mu.unlock(),h(g)})})},Ae.prototype.utimesSync=function(f,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(f,u,l)},Ae.prototype.link=function(f,u,l){var h=this;this._mu.lock(function(){h._fs.link(f,u,function(p){h._mu.unlock(),l(p)})})},Ae.prototype.linkSync=function(f,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(f,u)},Ae.prototype.symlink=function(f,u,l,h){var p=this;this._mu.lock(function(){p._fs.symlink(f,u,l,function(g){p._mu.unlock(),h(g)})})},Ae.prototype.symlinkSync=function(f,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(f,u,l)},Ae.prototype.readlink=function(f,u){var l=this;this._mu.lock(function(){l._fs.readlink(f,function(h,p){l._mu.unlock(),u(h,p)})})},Ae.prototype.readlinkSync=function(f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(f)};var Cn="/.deletedFiles.log";function Sm(f){return 146|f}function Ir(f){return A.getFileFlag(f)}var ct,bm=function(f){function u(l,h,p,g,_){f.call(this,l,h,p,g,_)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;this.isDirty()?this._fs._syncAsync(this,function(p){h.resetDirty(),l(p)}):l(null)},u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.close=function(l){this.sync(l)},u.prototype.closeSync=function(){this.syncSync()},u}(E),Em=function(f){function u(l,h){if(f.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=l,this._readable=h,this._writable.isReadOnly())throw new y(a.EINVAL,"Writable file system must be writable.")}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},u.prototype._syncAsync=function(l,h){var p=this;this.createParentDirectoriesAsync(l.getPath(),function(g){if(g)return h(g);p._writable.writeFile(l.getPath(),l.getBuffer(),null,Ir("w"),l.getStats().mode,h)})},u.prototype._syncSync=function(l){this.createParentDirectories(l.getPath()),this._writable.writeFileSync(l.getPath(),l.getBuffer(),null,Ir("w"),l.getStats().mode)},u.prototype.getName=function(){return Ys.Name},u.prototype.initialize=function(l){var h=this,p=this._initializeCallbacks,g=function(_){h._isInitialized=!_,h._initializeCallbacks=[],p.forEach(function(N){return N(_)})};if(this._isInitialized)return l();p.push(l),p.length===1&&this._writable.readFile(Cn,"utf8",Ir("r"),function(_,N){if(_){if(_.errno!==a.ENOENT)return g(_)}else h._deleteLog=N;h._reparseDeletionLog(),g()})},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},u.prototype.getDeletionLog=function(){return this._deleteLog},u.prototype.restoreDeletionLog=function(l){this._deleteLog=l,this._reparseDeletionLog(),this.updateLog("")},u.prototype.rename=function(l,h,p){var g=this;if(this.checkInitAsync(p)&&!this.checkPathAsync(l,p)&&!this.checkPathAsync(h,p))return l===Cn||h===Cn?p(y.EPERM("Cannot rename deletion log.")):l===h?p():void this.stat(l,!1,function(_,N){return _?p(_):g.stat(h,!1,function(P,q){var Q=g;function fe(we){var _e=we.shift();if(!_e)return p();var Ne=d.resolve(l,_e),Ve=d.resolve(h,_e);Q.rename(Ne,Ve,function(Tt){if(Tt)return p(Tt);fe(we)})}var pe=511;if(N.isDirectory()){if(P)return P.errno!==a.ENOENT?p(P):g._writable.exists(l,function(we){if(we)return g._writable.rename(l,h,p);g._writable.mkdir(h,pe,function(_e){if(_e)return p(_e);g._readable.readdir(l,function(Ne,Ve){if(Ne)return p();fe(Ve)})})});if(pe=q.mode,!q.isDirectory())return p(y.ENOTDIR(h));g.readdir(h,function(we,_e){if(_e&&_e.length)return p(y.ENOTEMPTY(h));g._readable.readdir(l,function(Ne,Ve){if(Ne)return p();fe(Ve)})})}if(q&&q.isDirectory())return p(y.EISDIR(h));g.readFile(l,null,Ir("r"),function(we,_e){return we?p(we):g.writeFile(h,_e,null,Ir("w"),N.mode,function(Ne){return Ne?p(Ne):g.unlink(l,p)})})})})},u.prototype.renameSync=function(l,h){var p=this;if(this.checkInitialized(),this.checkPath(l),this.checkPath(h),l===Cn||h===Cn)throw y.EPERM("Cannot rename deletion log.");var g=this.statSync(l,!1);if(g.isDirectory()){if(l===h)return;var _=511;if(this.existsSync(h)){var N=this.statSync(h,!1);if(_=N.mode,!N.isDirectory())throw y.ENOTDIR(h);if(this.readdirSync(h).length>0)throw y.ENOTEMPTY(h)}this._writable.existsSync(l)?this._writable.renameSync(l,h):this._writable.existsSync(h)||this._writable.mkdirSync(h,_),this._readable.existsSync(l)&&this._readable.readdirSync(l).forEach(function(P){p.renameSync(d.resolve(l,P),d.resolve(h,P))})}else{if(this.existsSync(h)&&this.statSync(h,!1).isDirectory())throw y.EISDIR(h);this.writeFileSync(h,this.readFileSync(l,null,Ir("r")),null,Ir("w"),g.mode)}l!==h&&this.existsSync(l)&&this.unlinkSync(l)},u.prototype.stat=function(l,h,p){var g=this;this.checkInitAsync(p)&&this._writable.stat(l,h,function(_,N){_&&_.errno===a.ENOENT?(g._deletedFiles[l]&&p(y.ENOENT(l)),g._readable.stat(l,h,function(P,q){q&&((q=q.clone()).mode=Sm(q.mode)),p(P,q)})):p(_,N)})},u.prototype.statSync=function(l,h){this.checkInitialized();try{return this._writable.statSync(l,h)}catch{if(this._deletedFiles[l])throw y.ENOENT(l);var p=this._readable.statSync(l,h).clone();return p.mode=Sm(p.mode),p}},u.prototype.open=function(l,h,p,g){var _=this;this.checkInitAsync(g)&&!this.checkPathAsync(l,g)&&this.stat(l,!1,function(N,P){if(!P)return h.pathNotExistsAction()===v.CREATE_FILE?_.createParentDirectoriesAsync(l,function(q){return q?g(q):_._writable.open(l,h,p,g)}):g(y.ENOENT(l));switch(h.pathExistsAction()){case v.TRUNCATE_FILE:return _.createParentDirectoriesAsync(l,function(q){if(q)return g(q);_._writable.open(l,h,p,g)});case v.NOP:return _._writable.exists(l,function(q){q?_._writable.open(l,h,p,g):((P=P.clone()).mode=p,_._readable.readFile(l,null,Ir("r"),function(Q,fe){if(Q)return g(Q);P.size===-1&&(P.size=fe.length);var pe=new bm(_,l,h,P,fe);g(null,pe)}))});default:return g(y.EEXIST(l))}})},u.prototype.openSync=function(l,h,p){if(this.checkInitialized(),this.checkPath(l),l===Cn)throw y.EPERM("Cannot open deletion log.");if(!this.existsSync(l)){if(h.pathNotExistsAction()===v.CREATE_FILE)return this.createParentDirectories(l),this._writable.openSync(l,h,p);throw y.ENOENT(l)}switch(h.pathExistsAction()){case v.TRUNCATE_FILE:return this.createParentDirectories(l),this._writable.openSync(l,h,p);case v.NOP:if(this._writable.existsSync(l))return this._writable.openSync(l,h,p);var g=this._readable.readFileSync(l,null,Ir("r")),_=this._readable.statSync(l,!1).clone();return _.mode=p,new bm(this,l,h,_,g);default:throw y.EEXIST(l)}},u.prototype.unlink=function(l,h){var p=this;this.checkInitAsync(h)&&!this.checkPathAsync(l,h)&&this.exists(l,function(g){if(!g)return h(y.ENOENT(l));p._writable.exists(l,function(_){if(_)return p._writable.unlink(l,function(N){if(N)return h(N);p.exists(l,function(P){P&&p.deletePath(l),h(null)})});p.deletePath(l),h(null)})})},u.prototype.unlinkSync=function(l){if(this.checkInitialized(),this.checkPath(l),!this.existsSync(l))throw y.ENOENT(l);this._writable.existsSync(l)&&this._writable.unlinkSync(l),this.existsSync(l)&&this.deletePath(l)},u.prototype.rmdir=function(l,h){var p=this;if(this.checkInitAsync(h)){var g=function(){p.readdir(l,function(_,N){return _?h(_):N.length?h(y.ENOTEMPTY(l)):(p.deletePath(l),void h(null))})};this.exists(l,function(_){if(!_)return h(y.ENOENT(l));p._writable.exists(l,function(N){N?p._writable.rmdir(l,function(P){if(P)return h(P);p._readable.exists(l,function(q){q?g():h()})}):g()})})}},u.prototype.rmdirSync=function(l){if(this.checkInitialized(),!this.existsSync(l))throw y.ENOENT(l);if(this._writable.existsSync(l)&&this._writable.rmdirSync(l),this.existsSync(l)){if(this.readdirSync(l).length>0)throw y.ENOTEMPTY(l);this.deletePath(l)}},u.prototype.mkdir=function(l,h,p){var g=this;this.checkInitAsync(p)&&this.exists(l,function(_){if(_)return p(y.EEXIST(l));g.createParentDirectoriesAsync(l,function(N){if(N)return p(N);g._writable.mkdir(l,h,p)})})},u.prototype.mkdirSync=function(l,h){if(this.checkInitialized(),this.existsSync(l))throw y.EEXIST(l);this.createParentDirectories(l),this._writable.mkdirSync(l,h)},u.prototype.readdir=function(l,h){var p=this;this.checkInitAsync(h)&&this.stat(l,!1,function(g,_){return g?h(g):_.isDirectory()?void p._writable.readdir(l,function(N,P){if(N&&N.code!=="ENOENT")return h(N);!N&&P||(P=[]),p._readable.readdir(l,function(q,Q){!q&&Q||(Q=[]);var fe={},pe=P.concat(Q.filter(function(we){return!p._deletedFiles[l+"/"+we]})).filter(function(we){var _e=!fe[we];return fe[we]=!0,_e});h(null,pe)})}):h(y.ENOTDIR(l))})},u.prototype.readdirSync=function(l){var h=this;if(this.checkInitialized(),!this.statSync(l,!1).isDirectory())throw y.ENOTDIR(l);var p=[];try{p=p.concat(this._writable.readdirSync(l))}catch{}try{p=p.concat(this._readable.readdirSync(l).filter(function(_){return!h._deletedFiles[l+"/"+_]}))}catch{}var g={};return p.filter(function(_){var N=!g[_];return g[_]=!0,N})},u.prototype.exists=function(l,h){var p=this;this.checkInitialized(),this._writable.exists(l,function(g){if(g)return h(!0);p._readable.exists(l,function(_){h(_&&p._deletedFiles[l]!==!0)})})},u.prototype.existsSync=function(l){return this.checkInitialized(),this._writable.existsSync(l)||this._readable.existsSync(l)&&this._deletedFiles[l]!==!0},u.prototype.chmod=function(l,h,p,g){var _=this;this.checkInitAsync(g)&&this.operateOnWritableAsync(l,function(N){if(N)return g(N);_._writable.chmod(l,h,p,g)})},u.prototype.chmodSync=function(l,h,p){var g=this;this.checkInitialized(),this.operateOnWritable(l,function(){g._writable.chmodSync(l,h,p)})},u.prototype.chown=function(l,h,p,g,_){var N=this;this.checkInitAsync(_)&&this.operateOnWritableAsync(l,function(P){if(P)return _(P);N._writable.chown(l,h,p,g,_)})},u.prototype.chownSync=function(l,h,p,g){var _=this;this.checkInitialized(),this.operateOnWritable(l,function(){_._writable.chownSync(l,h,p,g)})},u.prototype.utimes=function(l,h,p,g){var _=this;this.checkInitAsync(g)&&this.operateOnWritableAsync(l,function(N){if(N)return g(N);_._writable.utimes(l,h,p,g)})},u.prototype.utimesSync=function(l,h,p){var g=this;this.checkInitialized(),this.operateOnWritable(l,function(){g._writable.utimesSync(l,h,p)})},u.prototype.deletePath=function(l){this._deletedFiles[l]=!0,this.updateLog("d"+l+`
`)},u.prototype.updateLog=function(l){var h=this;this._deleteLog+=l,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Cn,this._deleteLog,"utf8",A.getFileFlag("w"),420,function(p){h._deleteLogUpdatePending=!1,p?h._deleteLogError=p:h._deleteLogUpdateNeeded&&(h._deleteLogUpdateNeeded=!1,h.updateLog(""))}))},u.prototype._reparseDeletionLog=function(){var l=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(h){l._deletedFiles[h.slice(1)]=h.slice(0,1)==="d"})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new y(a.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(this._deleteLogError!==null){var l=this._deleteLogError;throw this._deleteLogError=null,l}},u.prototype.checkInitAsync=function(l){if(!this._isInitialized)return l(new y(a.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;if(this._deleteLogError!==null){var h=this._deleteLogError;return this._deleteLogError=null,l(h),!1}return!0},u.prototype.checkPath=function(l){if(l===Cn)throw y.EPERM(l)},u.prototype.checkPathAsync=function(l,h){return l===Cn&&(h(y.EPERM(l)),!0)},u.prototype.createParentDirectoriesAsync=function(l,h){var p=d.dirname(l),g=[],_=this;function N(){if(!g.length)return h();var P=g.pop();_._readable.stat(P,!1,function(q,Q){if(!Q)return h();_._writable.mkdir(P,Q.mode,function(fe){if(fe)return h(fe);N()})})}this._writable.stat(p,!1,function P(q,Q){q?(g.push(p),p=d.dirname(p),_._writable.stat(p,!1,P)):N()})},u.prototype.createParentDirectories=function(l){for(var h=this,p=d.dirname(l),g=[];!this._writable.existsSync(p);)g.push(p),p=d.dirname(p);(g=g.reverse()).forEach(function(_){h._writable.mkdirSync(_,h.statSync(_,!1).mode)})},u.prototype.operateOnWritable=function(l,h){if(!this.existsSync(l))throw y.ENOENT(l);this._writable.existsSync(l)||this.copyToWritable(l),h()},u.prototype.operateOnWritableAsync=function(l,h){var p=this;this.exists(l,function(g){if(!g)return h(y.ENOENT(l));p._writable.exists(l,function(_){if(!_)return p.copyToWritableAsync(l,h);h()})})},u.prototype.copyToWritable=function(l){var h=this.statSync(l,!1);h.isDirectory()?this._writable.mkdirSync(l,h.mode):this.writeFileSync(l,this._readable.readFileSync(l,null,Ir("r")),null,Ir("w"),this.statSync(l,!1).mode)},u.prototype.copyToWritableAsync=function(l,h){var p=this;this.stat(l,!1,function(g,_){return g?h(g):_.isDirectory()?p._writable.mkdir(l,_.mode,h):void p._readable.readFile(l,null,Ir("r"),function(N,P){if(N)return h(N);p.writeFile(l,P,null,Ir("w"),_.mode,h)})})},u}(J),Ys=function(f){function u(l,h,p){p===void 0&&(p=!0),f.call(this,new Em(l,h)),me(p,u.Name,{readable:"readable file system",writable:"writable file system"})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{var p=new u(l.writable,l.readable,!1);p.initialize(function(g){h(g,p)},!1)}catch(g){h(g)}},u.isAvailable=function(){return Em.isAvailable()},u.prototype.initialize=function(l,h){h===void 0&&(h=!0),h&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),f.prototype.initialize.call(this,l)},u.prototype.getOverlayedFileSystems=function(){return f.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},u.prototype.unwrap=function(){return f.prototype.getFSUnlocked.call(this)},u}(Ae);Ys.Name="OverlayFS",Ys.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}},function(f){f[f.CB=0]="CB",f[f.FD=1]="FD",f[f.API_ERROR=2]="API_ERROR",f[f.STATS=3]="STATS",f[f.PROBE=4]="PROBE",f[f.FILEFLAG=5]="FILEFLAG",f[f.BUFFER=6]="BUFFER",f[f.ERROR=7]="ERROR"}(ct||(ct={}));var uh=function(){this._callbacks={},this._nextId=0};uh.prototype.toRemoteArg=function(f){var u=this._nextId++;return this._callbacks[u]=f,{type:ct.CB,id:u}},uh.prototype.toLocalArg=function(f){var u=this._callbacks[f];return delete this._callbacks[f],u};var Bl=function(){this._fileDescriptors={},this._nextId=0};function Ul(f){return{type:ct.API_ERROR,errorData:Li(f.writeToBuffer())}}function xm(f){return y.fromBuffer(Mi(f.errorData))}function Om(f){return{type:ct.ERROR,name:f.name,message:f.message,stack:f.stack}}function km(f){var u=Ot[f.name];typeof u!="function"&&(u=Error);var l=new u(f.message);return l.stack=f.stack,l}function Tm(f){return{type:ct.STATS,statsData:Li(f.toBuffer())}}function Nm(f){return O.fromBuffer(Mi(f.statsData))}function Am(f){return{type:ct.FILEFLAG,flagStr:f.getFlagString()}}function Im(f){return A.getFileFlag(f.flagStr)}function Li(f){return V(f)}function Mi(f){return ne(f)}function Dm(f){return{type:ct.BUFFER,data:Li(f)}}function Rm(f){return Mi(f.data)}Bl.prototype.toRemoteArg=function(f,u,l,h){var p,g,_=this._nextId++;this._fileDescriptors[_]=f,f.stat(function(N,P){N?h(N):(g=Li(P.toBuffer()),l.isReadable()?f.read(n.alloc(P.size),0,P.size,0,function(q,Q,fe){q?h(q):(p=Li(fe),h(null,{type:ct.FD,id:_,data:p,stat:g,path:u,flag:l.getFlagString()}))}):h(null,{type:ct.FD,id:_,data:new ArrayBuffer(0),stat:g,path:u,flag:l.getFlagString()}))})},Bl.prototype.applyFdAPIRequest=function(f,u){var l=this,h=f.args[0];this._applyFdChanges(h,function(p,g){p?u(p):g[f.method](function(_){f.method==="close"&&delete l._fileDescriptors[h.id],u(_)})})},Bl.prototype._applyFdChanges=function(f,u){var l=this._fileDescriptors[f.id],h=Mi(f.data),p=O.fromBuffer(Mi(f.stat)),g=A.getFileFlag(f.flag);g.isWriteable()?l.write(h,0,h.length,g.isAppendable()?l.getPos():0,function(_){function N(){l.stat(function(P,q){P?u(P):q.mode!==p.mode?l.chmod(p.mode,function(Q){u(Q,l)}):u(P,l)})}_?u(_):g.isAppendable()?N():l.truncate(h.length,function(){N()})}):u(null,l)};var Fm=function(f){function u(l,h,p,g,_,N){f.call(this,l,h,p,g,N),this._remoteFdId=_}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.getRemoteFdId=function(){return this._remoteFdId},u.prototype.toRemoteArg=function(){return{type:ct.FD,id:this._remoteFdId,data:Li(this.getBuffer()),stat:Li(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},u.prototype.sync=function(l){this._syncClose("sync",l)},u.prototype.close=function(l){this._syncClose("close",l)},u.prototype._syncClose=function(l,h){var p=this;this.isDirty()?this._fs.syncClose(l,this,function(g){g||p.resetDirty(),h(g)}):h()},u}(E),zl=function(f){function u(l,h){var p=this;h===void 0&&(h=!0),f.call(this),this._callbackConverter=new uh,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=l,me(h,u.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(g){var _,N=g.data;if((_=N)&&typeof _=="object"&&_.hasOwnProperty("browserfsMessage")&&_.browserfsMessage){var P,q=N.args,Q=new Array(q.length);for(P=0;P<Q.length;P++)Q[P]=p._argRemote2Local(q[P]);p._callbackConverter.toLocalArg(N.cbId).apply(null,Q)}})}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u(l.worker,!1);p.initialize(function(){h(null,p)})},u.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},u.attachRemoteListener=function(l){var h=new Bl;function p(_,N,P){typeof _=="object"?_ instanceof O?P(null,Tm(_)):_ instanceof y?P(null,Ul(_)):_ instanceof C?P(null,h.toRemoteArg(_,N[0],N[1],P)):_ instanceof A?P(null,Am(_)):_ instanceof n?P(null,Dm(_)):_ instanceof Error?P(null,Om(_)):P(null,_):P(null,_)}function g(_,N){if(!_)return _;if(typeof _=="object"){if(typeof _.type!="number")return _;var P=_;switch(P.type){case ct.CB:var q=_.id;return function(){var Q,fe,pe=arguments,we=new Array(arguments.length),_e=arguments.length;function Ne(Ve){_e>0&&(_e=-1,fe={browserfsMessage:!0,cbId:q,args:[Ul(Ve)]},l.postMessage(fe))}for(Q=0;Q<arguments.length;Q++)(function(Ve,Tt){p(Tt,N,function(on,Rr){we[Ve]=Rr,on?Ne(on):--_e==0&&(fe={browserfsMessage:!0,cbId:q,args:we},l.postMessage(fe))})})(Q,pe[Q]);arguments.length===0&&(fe={browserfsMessage:!0,cbId:q,args:we},l.postMessage(fe))};case ct.API_ERROR:return xm(P);case ct.STATS:return Nm(P);case ct.FILEFLAG:return Im(P);case ct.BUFFER:return Rm(P);case ct.ERROR:return km(P);default:return _}}return _}l.addEventListener("message",function(_){var N,P,q=_.data;if((P=q)&&typeof P=="object"&&P.hasOwnProperty("browserfsMessage")&&P.browserfsMessage){var Q=q.args,fe=new Array(Q.length);switch(q.method){case"close":case"sync":N=Q[1],h.applyFdAPIRequest(q,function(_e){var Ne={browserfsMessage:!0,cbId:N.id,args:_e?[Ul(_e)]:[]};l.postMessage(Ne)});break;case"probe":(function(){var _e=re.getRootFS(),Ne=Q[1],Ve={type:ct.PROBE,isReadOnly:_e.isReadOnly(),supportsLinks:_e.supportsLinks(),supportsProps:_e.supportsProps()},Tt={browserfsMessage:!0,cbId:Ne.id,args:[Ve]};l.postMessage(Tt)})();break;default:for(var pe=0;pe<Q.length;pe++)fe[pe]=g(Q[pe],fe);var we=re.getRootFS();we[q.method].apply(we,fe)}}})},u.prototype.getName=function(){return u.Name},u.prototype.initialize=function(l){var h=this;if(this._isInitialized)l();else{var p={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(xe()),this._callbackConverter.toRemoteArg(function(g){h._isInitialized=!0,h._isReadOnly=g.isReadOnly,h._supportLinks=g.supportsLinks,h._supportProps=g.supportsProps,l()})]};this._worker.postMessage(p)}},u.prototype.isReadOnly=function(){return this._isReadOnly},u.prototype.supportsSynch=function(){return!1},u.prototype.supportsLinks=function(){return this._supportLinks},u.prototype.supportsProps=function(){return this._supportProps},u.prototype.rename=function(l,h,p){this._rpc("rename",arguments)},u.prototype.stat=function(l,h,p){this._rpc("stat",arguments)},u.prototype.open=function(l,h,p,g){this._rpc("open",arguments)},u.prototype.unlink=function(l,h){this._rpc("unlink",arguments)},u.prototype.rmdir=function(l,h){this._rpc("rmdir",arguments)},u.prototype.mkdir=function(l,h,p){this._rpc("mkdir",arguments)},u.prototype.readdir=function(l,h){this._rpc("readdir",arguments)},u.prototype.exists=function(l,h){this._rpc("exists",arguments)},u.prototype.realpath=function(l,h,p){this._rpc("realpath",arguments)},u.prototype.truncate=function(l,h,p){this._rpc("truncate",arguments)},u.prototype.readFile=function(l,h,p,g){this._rpc("readFile",arguments)},u.prototype.writeFile=function(l,h,p,g,_,N){this._rpc("writeFile",arguments)},u.prototype.appendFile=function(l,h,p,g,_,N){this._rpc("appendFile",arguments)},u.prototype.chmod=function(l,h,p,g){this._rpc("chmod",arguments)},u.prototype.chown=function(l,h,p,g,_){this._rpc("chown",arguments)},u.prototype.utimes=function(l,h,p,g){this._rpc("utimes",arguments)},u.prototype.link=function(l,h,p){this._rpc("link",arguments)},u.prototype.symlink=function(l,h,p,g){this._rpc("symlink",arguments)},u.prototype.readlink=function(l,h){this._rpc("readlink",arguments)},u.prototype.syncClose=function(l,h,p){this._worker.postMessage({browserfsMessage:!0,method:l,args:[h.toRemoteArg(),this._callbackConverter.toRemoteArg(p)]})},u.prototype._argRemote2Local=function(l){if(!l)return l;if(typeof l=="object"){if(typeof l.type!="number")return l;var h=l;switch(h.type){case ct.API_ERROR:return xm(h);case ct.FD:var p=h;return new Fm(this,p.path,A.getFileFlag(p.flag),O.fromBuffer(Mi(p.stat)),p.id,Mi(p.data));case ct.STATS:return Nm(h);case ct.FILEFLAG:return Im(h);case ct.BUFFER:return Rm(h);case ct.ERROR:return km(h);default:return l}}return l},u.prototype._rpc=function(l,h){for(var p=new Array(h.length),g=0;g<h.length;g++)p[g]=this._argLocal2Remote(h[g]);var _={browserfsMessage:!0,method:l,args:p};this._worker.postMessage(_)},u.prototype._argLocal2Remote=function(l){if(!l)return l;switch(typeof l){case"object":return l instanceof O?Tm(l):l instanceof y?Ul(l):l instanceof Fm?l.toRemoteArg():l instanceof A?Am(l):l instanceof n?Dm(l):l instanceof Error?Om(l):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(l);default:return l}},u}(J);function Cm(f,u,l){var h=new XMLHttpRequest;h.open("HEAD",u,f),h.onreadystatechange=function(p){if(h.readyState===4){if(h.status!==200)return l(new y(h.status,"XHR HEAD error."));try{return l(null,parseInt(h.getResponseHeader("Content-Length")||"-1",10))}catch{return l(new y(a.EIO,"XHR HEAD error: Could not read content-length."))}}},h.send()}zl.Name="WorkerFS",zl.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(f,u){f.postMessage?u():u(new y(a.EINVAL,"option must be a Web Worker instance."))}}};var Pm=function(f,u,l){var h=new XMLHttpRequest;h.open("GET",f,!0);var p=!0;switch(u){case"buffer":h.responseType="arraybuffer";break;case"json":try{h.responseType="json",p=h.responseType==="json"}catch{p=!1}break;default:return l(new y(a.EINVAL,"Invalid download type: "+u))}h.onreadystatechange=function(g){if(h.readyState===4){if(h.status!==200)return l(new y(h.status,"XHR error."));switch(u){case"buffer":return l(null,h.response?n.from(h.response):xe());case"json":return l(null,p?h.response:JSON.parse(h.responseText))}}},h.send()},fx=j&&typeof Blob<"u"?function(f,u){var l,h,p=new XMLHttpRequest;switch(p.open("GET",f,!1),u){case"buffer":p.responseType="arraybuffer";break;case"json":break;default:throw new y(a.EINVAL,"Invalid download type: "+u)}if(p.onreadystatechange=function(g){if(p.readyState===4)if(p.status===200)switch(u){case"buffer":l=n.from(p.response);break;case"json":l=JSON.parse(p.response)}else h=new y(p.status,"XHR error.")},p.send(),h)throw h;return l}:function(f,u){var l=new XMLHttpRequest;l.open("GET",f,!1);var h=null,p=null;if(l.overrideMimeType("text/plain; charset=x-user-defined"),l.onreadystatechange=function(g){if(l.readyState===4){if(l.status!==200)return void(p=new y(l.status,"XHR error."));switch(u){case"buffer":var _=l.responseText;h=n.alloc(_.length);for(var N=0;N<_.length;N++)h[N]=_.charCodeAt(N);return;case"json":return void(h=JSON.parse(l.responseText))}}},l.send(),p)throw p;return h},$r=function(){this._index={},this.addPath("/",new pr)};$r.fromListing=function(f){var u=new $r,l=new pr;u._index["/"]=l;for(var h=[["",f,l]];h.length>0;){var p=void 0,g=h.pop(),_=g[0],N=g[1],P=g[2];for(var q in N)if(N.hasOwnProperty(q)){var Q=N[q],fe=_+"/"+q;Q?(u._index[fe]=p=new pr,h.push([fe,Q,p])):p=new Io(new O(b.FILE,-1,365)),P&&(P._ls[q]=p)}}return u},$r.prototype.fileIterator=function(f){var u=this;for(var l in u._index)if(u._index.hasOwnProperty(l))for(var h=u._index[l],p=0,g=h.getListing();p<g.length;p+=1){var _=g[p],N=h.getItem(_);Pn(N)&&f(N.getData())}},$r.prototype.addPath=function(f,u){if(!u)throw new Error("Inode must be specified");if(f[0]!=="/")throw new Error("Path must be absolute, got: "+f);if(this._index.hasOwnProperty(f))return this._index[f]===u;var l=this._split_path(f),h=l[0],p=l[1],g=this._index[h];return!(g===void 0&&f!=="/"&&(g=new pr,!this.addPath(h,g))||f!=="/"&&!g.addItem(p,u)||(Kn(u)&&(this._index[f]=u),0))},$r.prototype.addPathFast=function(f,u){var l=f.lastIndexOf("/"),h=l===0?"/":f.substring(0,l),p=f.substring(l+1),g=this._index[h];return g===void 0&&(g=new pr,this.addPathFast(h,g)),!!g.addItem(p,u)&&(u.isDir()&&(this._index[f]=u),!0)},$r.prototype.removePath=function(f){var u=this._split_path(f),l=u[0],h=u[1],p=this._index[l];if(p===void 0)return null;var g=p.remItem(h);if(g===null)return null;if(Kn(g)){for(var _=0,N=g.getListing();_<N.length;_+=1){var P=N[_];this.removePath(f+"/"+P)}f!=="/"&&delete this._index[f]}return g},$r.prototype.ls=function(f){var u=this._index[f];return u===void 0?null:u.getListing()},$r.prototype.getInode=function(f){var u=this._split_path(f),l=u[0],h=u[1],p=this._index[l];return p===void 0?null:l===f?p:p.getItem(h)},$r.prototype._split_path=function(f){var u=d.dirname(f);return[u,f.substr(u.length+(u==="/"?0:1))]};var Io=function(f){this.data=f};Io.prototype.isFile=function(){return!0},Io.prototype.isDir=function(){return!1},Io.prototype.getData=function(){return this.data},Io.prototype.setData=function(f){this.data=f};var pr=function(f){f===void 0&&(f=null),this.data=f,this._ls={}};function Pn(f){return!!f&&f.isFile()}function Kn(f){return!!f&&f.isDir()}pr.prototype.isFile=function(){return!1},pr.prototype.isDir=function(){return!0},pr.prototype.getData=function(){return this.data},pr.prototype.getStats=function(){return new O(b.DIRECTORY,4096,365)},pr.prototype.getListing=function(){return Object.keys(this._ls)},pr.prototype.getItem=function(f){var u=this._ls[f];return u||null},pr.prototype.addItem=function(f,u){return!(f in this._ls)&&(this._ls[f]=u,!0)},pr.prototype.remItem=function(f){var u=this._ls[f];return u===void 0?null:(delete this._ls[f],u)};var Vl=function(f){function u(l,h,p){h===void 0&&(h=""),p===void 0&&(p=!0),f.call(this),l||(l="index.json"),h.length>0&&h.charAt(h.length-1)!=="/"&&(h+="/"),this.prefixUrl=h;var g=null;if(typeof l=="string"){if(!(g=this._requestFileSync(l,"json")))throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else g=l;me(p,u.Name,{index:typeof l=="string"?l:"file index as an object",baseUrl:h}),this._index=$r.fromListing(g)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){l.index===void 0&&(l.index="index.json"),typeof l.index=="string"?u.FromURL(l.index,h,l.baseUrl,!1):h(null,new u(l.index,l.baseUrl,!1))},u.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},u.FromURL=function(l,h,p,g){p===void 0&&(p=l.slice(0,l.lastIndexOf("/")+1)),g===void 0&&(g=!0),g&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+l+'", baseUrl: "'+p+`" }, cb)' instead.`),Pm(l,"json",function(_,N){_?h(_):h(null,new u(N,p,!1))})},u.prototype.empty=function(){this._index.fileIterator(function(l){l.fileData=null})},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(l,h){h(0,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.preloadFile=function(l,h){var p=this._index.getInode(l);if(!Pn(p))throw y.EISDIR(l);if(p===null)throw y.ENOENT(l);var g=p.getData();g.size=h.length,g.fileData=h},u.prototype.stat=function(l,h,p){var g,_=this._index.getInode(l);if(_===null)return p(y.ENOENT(l));Pn(_)?(g=_.getData()).size<0?this._requestFileSizeAsync(l,function(N,P){if(N)return p(N);g.size=P,p(null,g.clone())}):p(null,g.clone()):Kn(_)?(g=_.getStats(),p(null,g)):p(y.FileError(a.EINVAL,l))},u.prototype.statSync=function(l,h){var p,g=this._index.getInode(l);if(g===null)throw y.ENOENT(l);if(Pn(g))(p=g.getData()).size<0&&(p.size=this._requestFileSizeSync(l));else{if(!Kn(g))throw y.FileError(a.EINVAL,l);p=g.getStats()}return p},u.prototype.open=function(l,h,p,g){if(h.isWriteable())return g(new y(a.EPERM,l));var _=this,N=this._index.getInode(l);if(N===null)return g(y.ENOENT(l));if(!Pn(N))return g(y.EISDIR(l));var P=N.getData();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:return g(y.EEXIST(l));case v.NOP:if(P.fileData)return g(null,new T(_,l,h,P.clone(),P.fileData));this._requestFileAsync(l,"buffer",function(q,Q){return q?g(q):(P.size=Q.length,P.fileData=Q,g(null,new T(_,l,h,P.clone(),Q)))});break;default:return g(new y(a.EINVAL,"Invalid FileMode object."))}},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var g=this._index.getInode(l);if(g===null)throw y.ENOENT(l);if(!Pn(g))throw y.EISDIR(l);var _=g.getData();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(l);case v.NOP:if(_.fileData)return new T(this,l,h,_.clone(),_.fileData);var N=this._requestFileSync(l,"buffer");return _.size=N.length,_.fileData=N,new T(this,l,h,_.clone(),N);default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdir=function(l,h){try{h(null,this.readdirSync(l))}catch(p){h(p)}},u.prototype.readdirSync=function(l){var h=this._index.getInode(l);if(h===null)throw y.ENOENT(l);if(Kn(h))return h.getListing();throw y.ENOTDIR(l)},u.prototype.readFile=function(l,h,p,g){var _=g;this.open(l,p,420,function(N,P){if(N)return g(N);g=function(Q,fe){P.close(function(pe){return Q||(Q=pe),_(Q,fe)})};var q=P.getBuffer();h===null?g(N,se(q)):function(Q,fe,pe){try{pe(null,Q.toString(fe))}catch(we){pe(we)}}(q,h,g)})},u.prototype.readFileSync=function(l,h,p){var g=this.openSync(l,p,420);try{var _=g.getBuffer();return h===null?se(_):_.toString(h)}finally{g.closeSync()}},u.prototype.getXhrPath=function(l){return l.charAt(0)==="/"&&(l=l.slice(1)),this.prefixUrl+l},u.prototype._requestFileAsync=function(l,h,p){Pm(this.getXhrPath(l),h,p)},u.prototype._requestFileSync=function(l,h){return fx(this.getXhrPath(l),h)},u.prototype._requestFileSizeAsync=function(l,h){(function(p,g){Cm(!0,p,g)})(this.getXhrPath(l),h)},u.prototype._requestFileSizeSync=function(l){return h=this.getXhrPath(l),p=-1,Cm(!1,h,function(g,_){if(g)throw g;p=_}),p;var h,p},u}(J);Vl.Name="XmlHttpRequest",Vl.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Bi=function(){};Bi.str2byte=function(f,u){for(var l=f.length>u.length?u.length:f.length,h=0;h<l;h++){var p=f.charCodeAt(h);if(p>127){var g=Bi.extendedChars.indexOf(f.charAt(h));g>-1&&(p=g+128)}u[p]=h}return l},Bi.byte2str=function(f){for(var u=new Array(f.length),l=0;l<f.length;l++){var h=f[l];u[l]=h>127?Bi.extendedChars[h-128]:String.fromCharCode(h)}return u.join("")},Bi.byteLength=function(f){return f.length},Bi.extendedChars=["\xC7","\xFC","\xE9","\xE2","\xE4","\xE0","\xE5","\xE7","\xEA","\xEB","\xE8","\xEF","\xEE","\xEC","\xC4","\xC5","\xC9","\xE6","\xC6","\xF4","\xF6","\xF2","\xFB","\xF9","\xFF","\xD6","\xDC","\xF8","\xA3","\xD8","\xD7","\u0192","\xE1","\xED","\xF3","\xFA","\xF1","\xD1","\xAA","\xBA","\xBF","\xAE","\xAC","\xBD","\xBC","\xA1","\xAB","\xBB","_","_","_","\xA6","\xA6","\xC1","\xC2","\xC0","\xA9","\xA6","\xA6","+","+","\xA2","\xA5","+","+","-","-","+","-","+","\xE3","\xC3","+","+","-","-","\xA6","-","+","\xA4","\xF0","\xD0","\xCA","\xCB","\xC8","i","\xCD","\xCE","\xCF","+","+","_","_","\xA6","\xCC","_","\xD3","\xDF","\xD4","\xD2","\xF5","\xD5","\xB5","\xFE","\xDE","\xDA","\xDB","\xD9","\xFD","\xDD","\xAF","\xB4","\xAD","\xB1","_","\xBE","\xB6","\xA7","\xF7","\xB8","\xB0","\xA8","\xB7","\xB9","\xB3","\xB2","_"," "];var jm,Do,hx=r(31).inflateRaw,Lm={};function Mm(f,u){return new Date(1980+(u>>9),(u>>5&15)-1,31&u,f>>11,f>>5&63,31&f)}function $l(f,u,l,h){return h===0?"":u?f.toString("utf8",l,l+h):Bi.byte2str(f.slice(l,l+h))}(function(f){f[f.MSDOS=0]="MSDOS",f[f.AMIGA=1]="AMIGA",f[f.OPENVMS=2]="OPENVMS",f[f.UNIX=3]="UNIX",f[f.VM_CMS=4]="VM_CMS",f[f.ATARI_ST=5]="ATARI_ST",f[f.OS2_HPFS=6]="OS2_HPFS",f[f.MAC=7]="MAC",f[f.Z_SYSTEM=8]="Z_SYSTEM",f[f.CP_M=9]="CP_M",f[f.NTFS=10]="NTFS",f[f.MVS=11]="MVS",f[f.VSE=12]="VSE",f[f.ACORN_RISC=13]="ACORN_RISC",f[f.VFAT=14]="VFAT",f[f.ALT_MVS=15]="ALT_MVS",f[f.BEOS=16]="BEOS",f[f.TANDEM=17]="TANDEM",f[f.OS_400=18]="OS_400",f[f.OSX=19]="OSX"})(jm||(jm={})),function(f){f[f.STORED=0]="STORED",f[f.SHRUNK=1]="SHRUNK",f[f.REDUCED_1=2]="REDUCED_1",f[f.REDUCED_2=3]="REDUCED_2",f[f.REDUCED_3=4]="REDUCED_3",f[f.REDUCED_4=5]="REDUCED_4",f[f.IMPLODE=6]="IMPLODE",f[f.DEFLATE=8]="DEFLATE",f[f.DEFLATE64=9]="DEFLATE64",f[f.TERSE_OLD=10]="TERSE_OLD",f[f.BZIP2=12]="BZIP2",f[f.LZMA=14]="LZMA",f[f.TERSE_NEW=18]="TERSE_NEW",f[f.LZ77=19]="LZ77",f[f.WAVPACK=97]="WAVPACK",f[f.PPMD=98]="PPMD"}(Do||(Do={}));var Dr=function(f){if(this.data=f,f.readUInt32LE(0)!==67324752)throw new y(a.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Dr.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Dr.prototype.flags=function(){return this.data.readUInt16LE(6)},Dr.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Dr.prototype.lastModFileTime=function(){return Mm(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Dr.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Dr.prototype.crc32=function(){return this.data.readUInt32LE(14)},Dr.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Dr.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Dr.prototype.fileName=function(){return $l(this.data,this.useUTF8(),30,this.fileNameLength())},Dr.prototype.extraField=function(){var f=30+this.fileNameLength();return this.data.slice(f,f+this.extraFieldLength())},Dr.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Dr.prototype.useUTF8=function(){return(2048&this.flags())==2048};var Ks=function(f,u,l){this.header=f,this.record=u,this.data=l};Ks.prototype.decompress=function(){var f=this.header.compressionMethod(),u=Lm[f];if(u)return u(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var l=Do[f];throw l||(l="Unknown: "+f),new y(a.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+l)},Ks.prototype.getHeader=function(){return this.header},Ks.prototype.getRecord=function(){return this.record},Ks.prototype.getRawData=function(){return this.data};var Be=function(f,u){if(this.zipData=f,this.data=u,this.data.readUInt32LE(0)!==33639248)throw new y(a.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};Be.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},Be.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},Be.prototype.flag=function(){return this.data.readUInt16LE(8)},Be.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},Be.prototype.lastModFileTime=function(){return Mm(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},Be.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},Be.prototype.crc32=function(){return this.data.readUInt32LE(16)},Be.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},Be.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},Be.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},Be.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},Be.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},Be.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},Be.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},Be.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},Be.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},Be.prototype.produceFilename=function(){return $l(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},Be.prototype.fileName=function(){return this._filename},Be.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},Be.prototype.extraField=function(){var f=44+this.fileNameLength();return this.data.slice(f,f+this.extraFieldLength())},Be.prototype.fileComment=function(){var f=46+this.fileNameLength()+this.extraFieldLength();return $l(this.data,this.useUTF8(),f,this.fileCommentLength())},Be.prototype.rawFileComment=function(){var f=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(f,f+this.fileCommentLength())},Be.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},Be.prototype.isDirectory=function(){var f=this.fileName();return!!(16&this.externalAttributes())||f.charAt(f.length-1)==="/"},Be.prototype.isFile=function(){return!this.isDirectory()},Be.prototype.useUTF8=function(){return(2048&this.flag())==2048},Be.prototype.isEncrypted=function(){return(1&this.flag())==1},Be.prototype.getFileData=function(){var f=this.headerRelativeOffset(),u=new Dr(this.zipData.slice(f));return new Ks(u,this,this.zipData.slice(f+u.totalSize()))},Be.prototype.getData=function(){return this.getFileData().decompress()},Be.prototype.getRawData=function(){return this.getFileData().getRawData()},Be.prototype.getStats=function(){return new O(b.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var _n=function(f){if(this.data=f,this.data.readUInt32LE(0)!==101010256)throw new y(a.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};_n.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},_n.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},_n.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},_n.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},_n.prototype.cdSize=function(){return this.data.readUInt32LE(12)},_n.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},_n.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},_n.prototype.cdZipComment=function(){return $l(this.data,!0,22,this.cdZipCommentLength())},_n.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Bm=function(f,u,l,h){this.index=f,this.directoryEntries=u,this.eocd=l,this.data=h},Ui=function(f){function u(l,h,p){h===void 0&&(h=""),p===void 0&&(p=!0),f.call(this),this.name=h,this._index=new $r,this._directoryEntries=[],this._eocd=null,me(p,u.Name,{zipData:"zip data as a Buffer",name:h}),l instanceof Bm?(this._index=l.index,this._directoryEntries=l.directoryEntries,this._eocd=l.eocd,this.data=l.data):(this.data=l,this.populateIndex())}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{u.computeIndex(l.zipData,function(p){var g=new u(p,l.name,!1);h(null,g)},!1)}catch(p){h(p)}},u.isAvailable=function(){return!0},u.RegisterDecompressionMethod=function(l,h){Lm[l]=h},u.computeIndex=function(l,h,p){p===void 0&&(p=!0),p&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var g=new $r,_=u.getEOCD(l);if(_.diskNumber()!==_.cdDiskNumber())throw new y(a.EINVAL,"ZipFS does not support spanned zip files.");var N=_.cdOffset();if(N===4294967295)throw new y(a.EINVAL,"ZipFS does not support Zip64.");var P=N+_.cdSize();u.computeIndexResponsive(l,g,N,P,h,[],_)},u.getEOCD=function(l){for(var h=Math.min(65557,l.length-1),p=22;p<h;p++)if(l.readUInt32LE(l.length-p)===101010256)return new _n(l.slice(l.length-p));throw new y(a.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},u.addToIndex=function(l,h){var p=l.fileName();if(p.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");p.charAt(p.length-1)==="/"&&(p=p.substr(0,p.length-1)),l.isDirectory()?h.addPathFast("/"+p,new pr(l)):h.addPathFast("/"+p,new Io(l))},u.computeIndexResponsive=function(l,h,p,g,_,N,P){if(p<g){for(var q=0;q++<200&&p<g;){var Q=new Be(l,l.slice(p));u.addToIndex(Q,h),p+=Q.totalSize(),N.push(Q)}lh(function(){u.computeIndexResponsive(l,h,p,g,_,N,P)})}else _(new Bm(h,N,P,l))},u.prototype.getName=function(){return u.Name+(this.name!==""?" "+this.name:"")},u.prototype.getCentralDirectoryEntry=function(l){var h=this._index.getInode(l);if(h===null)throw y.ENOENT(l);if(Pn(h)||Kn(h))return h.getData();throw y.EPERM("Invalid inode: "+h)},u.prototype.getCentralDirectoryEntryAt=function(l){var h=this._directoryEntries[l];if(!h)throw new RangeError("Invalid directory index: "+l+".");return h},u.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},u.prototype.getEndOfCentralDirectory=function(){return this._eocd},u.prototype.diskSpace=function(l,h){h(this.data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(l,h){var p,g=this._index.getInode(l);if(g===null)throw y.ENOENT(l);if(Pn(g))p=g.getData().getStats();else{if(!Kn(g))throw new y(a.EINVAL,"Invalid inode.");p=g.getStats()}return p},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var g=this._index.getInode(l);if(!g)throw y.ENOENT(l);if(!Pn(g))throw y.EISDIR(l);var _=g.getData(),N=_.getStats();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(l);case v.NOP:return new T(this,l,h,N,_.getData());default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(l){var h=this._index.getInode(l);if(h){if(Kn(h))return h.getListing();throw y.ENOTDIR(l)}throw y.ENOENT(l)},u.prototype.readFileSync=function(l,h,p){var g=this.openSync(l,p,420);try{var _=g.getBuffer();return h===null?se(_):_.toString(h)}finally{g.closeSync()}},u.prototype.populateIndex=function(){var l=this,h=this._eocd=u.getEOCD(this.data);if(h.diskNumber()!==h.cdDiskNumber())throw new y(a.EINVAL,"ZipFS does not support spanned zip files.");var p=h.cdOffset();if(p===4294967295)throw new y(a.EINVAL,"ZipFS does not support Zip64.");for(var g=p+h.cdSize();p<g;){var _=new Be(l.data,l.data.slice(p));p+=_.totalSize(),u.addToIndex(_,l._index),l._directoryEntries.push(_)}},u}(be);function yr(f,u,l){return f.toString("ascii",u,u+l).trim()}function ch(f,u,l){if(l===1)return String.fromCharCode(f[u]);for(var h=Math.floor(l/2),p=new Array(h),g=0;g<h;g++){var _=u+(g<<1);p[g]=String.fromCharCode(f[_+1]|f[_]<<8)}return p.join("")}function Sn(f,u){var l=parseInt(yr(f,u,4),10),h=parseInt(yr(f,u+4,2),10),p=parseInt(yr(f,u+6,2),10),g=parseInt(yr(f,u+8,2),10),_=parseInt(yr(f,u+10,2),10),N=parseInt(yr(f,u+12,2),10),P=parseInt(yr(f,u+14,2),10);return new Date(l,h,p,g,_,N,100*P)}function zi(f,u){var l=f[u],h=f[u+1],p=f[u+2],g=f[u+3],_=f[u+4],N=f[u+5];return new Date(l,h-1,p,g,_,N)}function dx(f,u){var l=f.slice(u),h=new kt(l);switch(h.signatureWord()){case 17221:return new qm(l);case 20548:return new mx(l);case 21328:return new Wm(l);case 21332:return new Hm(l);case 17746:return new Gm(l);case 17747:return new gx(l);case 20568:return new Ym(l);case 20558:return new vx(l);case 21324:return new fh(l);case 20045:return new Km(l);case 17228:return new hh(l);case 20556:return new wx(l);case 21061:return new Zm(l);case 21574:return new Xm(l);case 21318:return new _x(l);case 21074:return new Jm(l);default:return h}}function Um(f,u,l,h){l-=4;for(var p=new Array;u<l;){var g=dx(f,u),_=g.length();if(_===0)return p;if(u+=_,g instanceof Hm)break;g instanceof qm?p=p.concat(g.getEntries(h)):p.push(g)}return p}Ui.Name="ZipFS",Ui.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:Ie},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Ui.CompressionMethod=Do,Ui.RegisterDecompressionMethod(Do.DEFLATE,function(f,u,l){return ce(hx(f.slice(0,u),{chunkSize:l}))}),Ui.RegisterDecompressionMethod(Do.STORED,function(f,u,l){return se(f,0,l)});var Ro=function(f){this._data=f};Ro.prototype.type=function(){return this._data[0]},Ro.prototype.standardIdentifier=function(){return yr(this._data,1,5)},Ro.prototype.version=function(){return this._data[6]},Ro.prototype.data=function(){return this._data.slice(7,2048)};var zm=function(f){function u(l){f.call(this,l),this._root=null}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.systemIdentifier=function(){return this._getString32(8)},u.prototype.volumeIdentifier=function(){return this._getString32(40)},u.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},u.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},u.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},u.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},u.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},u.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},u.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},u.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},u.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},u.prototype.rootDirectoryEntry=function(l){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(l)),this._root},u.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},u.prototype.publisherIdentifier=function(){return this._getString(318,128)},u.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},u.prototype.applicationIdentifier=function(){return this._getString(574,128)},u.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},u.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},u.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},u.prototype.volumeCreationDate=function(){return Sn(this._data,813)},u.prototype.volumeModificationDate=function(){return Sn(this._data,830)},u.prototype.volumeExpirationDate=function(){return Sn(this._data,847)},u.prototype.volumeEffectiveDate=function(){return Sn(this._data,864)},u.prototype.fileStructureVersion=function(){return this._data[881]},u.prototype.applicationUsed=function(){return this._data.slice(883,1395)},u.prototype.reserved=function(){return this._data.slice(1395,2048)},u.prototype._getString32=function(l){return this._getString(l,32)},u}(Ro),px=function(f){function u(l){if(f.call(this,l),this.type()!==1)throw new y(a.EIO,"Invalid primary volume descriptor.")}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"ISO9660"},u.prototype._constructRootDirectoryRecord=function(l){return new Vm(l,-1)},u.prototype._getString=function(l,h){return this._getString(l,h)},u}(zm),yx=function(f){function u(l){if(f.call(this,l),this.type()!==2)throw new y(a.EIO,"Invalid supplementary volume descriptor.");var h=this.escapeSequence(),p=h[2];if(h[0]!==37||h[1]!==47||p!==64&&p!==67&&p!==69)throw new y(a.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+h.toString())}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"Joliet"},u.prototype.escapeSequence=function(){return this._data.slice(88,120)},u.prototype._constructRootDirectoryRecord=function(l){return new $m(l,-1)},u.prototype._getString=function(l,h){return ch(this._data,l,h)},u}(zm),st=function(f,u){this._suEntries=null,this._fileOrDir=null,this._data=f,this._rockRidgeOffset=u};st.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},st.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},st.prototype.rootCheckForRockRidge=function(f){var u=this.getDirectory(f);this._rockRidgeOffset=u.getDotEntry(f)._getRockRidgeOffset(f),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},st.prototype.length=function(){return this._data[0]},st.prototype.extendedAttributeRecordLength=function(){return this._data[1]},st.prototype.lba=function(){return 2048*this._data.readUInt32LE(2)},st.prototype.dataLength=function(){return this._data.readUInt32LE(10)},st.prototype.recordingDate=function(){return zi(this._data,18)},st.prototype.fileFlags=function(){return this._data[25]},st.prototype.fileUnitSize=function(){return this._data[26]},st.prototype.interleaveGapSize=function(){return this._data[27]},st.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},st.prototype.identifier=function(){return this._getString(33,this._data[32])},st.prototype.fileName=function(f){if(this.hasRockRidge()){var u=this._rockRidgeFilename(f);if(u!==null)return u}var l=this.identifier();if(this.isDirectory(f))return l;var h=l.indexOf(";");return h===-1?l:l[h-1]==="."?l.slice(0,h-1):l.slice(0,h)},st.prototype.isDirectory=function(f){var u=!!(2&this.fileFlags());return!u&&this.hasRockRidge()&&(u=this.getSUEntries(f).filter(function(l){return l instanceof hh}).length>0),u},st.prototype.isSymlink=function(f){return this.hasRockRidge()&&this.getSUEntries(f).filter(function(u){return u instanceof fh}).length>0},st.prototype.getSymlinkPath=function(f){for(var u="",l=this.getSUEntries(f),h=this._getGetString(),p=0,g=l;p<g.length;p+=1){var _=g[p];if(_ instanceof fh){for(var N=0,P=_.componentRecords();N<P.length;N+=1){var q=P[N],Q=q.flags();2&Q?u+="./":4&Q?u+="../":8&Q?u+="/":(u+=q.content(h),1&Q||(u+="/"))}if(!_.continueFlag())break}}return u.length>1&&u[u.length-1]==="/"?u.slice(0,u.length-1):u},st.prototype.getFile=function(f){if(this.isDirectory(f))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=f.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},st.prototype.getDirectory=function(f){if(!this.isDirectory(f))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(f)),this._fileOrDir},st.prototype.getSUEntries=function(f){return this._suEntries||this._constructSUEntries(f),this._suEntries},st.prototype._rockRidgeFilename=function(f){var u=this.getSUEntries(f).filter(function(N){return N instanceof Km});if(u.length===0||6&u[0].flags())return null;for(var l="",h=this._getGetString(),p=0,g=u;p<g.length;p+=1){var _=g[p];if(l+=_.name(h),!(1&_.flags()))break}return l},st.prototype._constructSUEntries=function(f){var u=33+this._data[32];u%2==1&&u++,u+=this._rockRidgeOffset,this._suEntries=Um(this._data,u,this.length(),f)},st.prototype._getRockRidgeOffset=function(f){this._rockRidgeOffset=0;var u=this.getSUEntries(f);if(u.length>0){var l=u[0];if(l instanceof Wm&&l.checkBytesPass())for(var h=1;h<u.length;h++){var p=u[h];if(p instanceof Jm||p instanceof Gm&&p.extensionIdentifier()==="IEEE_P1282")return l.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Vm=function(f){function u(l,h){f.call(this,l,h)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype._getString=function(l,h){return yr(this._data,l,h)},u.prototype._constructDirectory=function(l){return new Sx(this,l)},u.prototype._getGetString=function(){return yr},u}(st),$m=function(f){function u(l,h){f.call(this,l,h)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype._getString=function(l,h){return ch(this._data,l,h)},u.prototype._constructDirectory=function(l){return new bx(this,l)},u.prototype._getGetString=function(){return ch},u}(st),kt=function(f){this._data=f};kt.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},kt.prototype.signatureWordString=function(){return yr(this._data,0,2)},kt.prototype.length=function(){return this._data[2]},kt.prototype.suVersion=function(){return this._data[3]};var qm=function(f){function u(l){f.call(this,l),this._entries=null}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},u.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},u.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},u.prototype.getEntries=function(l){if(!this._entries){var h=2048*this.continuationLba()+this.continuationLbaOffset();this._entries=Um(l,h,this.continuationLength(),l)}return this._entries},u}(kt),mx=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u}(kt),Wm=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},u.prototype.bytesSkipped=function(){return this._data[6]},u}(kt),Hm=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u}(kt),Gm=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.identifierLength=function(){return this._data[4]},u.prototype.descriptorLength=function(){return this._data[5]},u.prototype.sourceLength=function(){return this._data[6]},u.prototype.extensionVersion=function(){return this._data[7]},u.prototype.extensionIdentifier=function(){return yr(this._data,8,this.identifierLength())},u.prototype.extensionDescriptor=function(){return yr(this._data,8+this.identifierLength(),this.descriptorLength())},u.prototype.extensionSource=function(){return yr(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},u}(kt),gx=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.extensionSequence=function(){return this._data[4]},u}(kt),Jm=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u}(kt),Ym=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.mode=function(){return this._data.readUInt32LE(4)},u.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},u.prototype.uid=function(){return this._data.readUInt32LE(20)},u.prototype.gid=function(){return this._data.readUInt32LE(28)},u.prototype.inode=function(){return this._data.readUInt32LE(36)},u}(kt),vx=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},u.prototype.devTLow=function(){return this._data.readUInt32LE(12)},u}(kt),fh=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.continueFlag=function(){return 1&this.flags()},u.prototype.componentRecords=function(){for(var l=new Array,h=5;h<this.length();){var p=new Zs(this._data.slice(h));l.push(p),h+=p.length()}return l},u}(kt),Zs=function(f){this._data=f};Zs.prototype.flags=function(){return this._data[0]},Zs.prototype.length=function(){return 2+this.componentLength()},Zs.prototype.componentLength=function(){return this._data[1]},Zs.prototype.content=function(f){return f(this._data,2,this.componentLength())};var Km=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.name=function(l){return l(this._data,5,this.length()-5)},u}(kt),hh=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(kt),wx=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(kt),Zm=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u}(kt),Xm=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.creation=function(){return 1&this.flags()?this._longFormDates()?Sn(this._data,5):zi(this._data,5):null},u.prototype.modify=function(){if(2&this.flags()){var l=1&this.flags()?1:0;return this._longFormDates?Sn(this._data,5+17*l):zi(this._data,5+7*l)}return null},u.prototype.access=function(){if(4&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,this._longFormDates?Sn(this._data,5+17*l):zi(this._data,5+7*l)}return null},u.prototype.backup=function(){if(16&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,this._longFormDates?Sn(this._data,5+17*l):zi(this._data,5+7*l)}return null},u.prototype.expiration=function(){if(32&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,this._longFormDates?Sn(this._data,5+17*l):zi(this._data,5+7*l)}return null},u.prototype.effective=function(){if(64&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,l+=32&this.flags()?1:0,this._longFormDates?Sn(this._data,5+17*l):zi(this._data,5+7*l)}return null},u.prototype._longFormDates=function(){return!!this.flags()},u}(kt),_x=function(f){function u(l){f.call(this,l)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},u.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},u.prototype.tableDepth=function(){return this._data[20]},u}(kt),Xs=function(f,u){var l=this;this._fileList=[],this._fileMap={},this._record=f;var h=f.lba(),p=h+f.dataLength();for(2&f.fileFlags()||(h=2048*f.getSUEntries(u).filter(function(N){return N instanceof hh})[0].childDirectoryLba(),p=1/0);h<p;)if(u[h]!==0){var g=l._constructDirectoryRecord(u.slice(h)),_=g.fileName(u);_!=="\0"&&_!==""?g.hasRockRidge()&&g.getSUEntries(u).filter(function(N){return N instanceof Zm}).length!==0||(l._fileMap[_]=g,l._fileList.push(_)):p===1/0&&(p=h+g.dataLength()),h+=g.length()}else h++};Xs.prototype.getRecord=function(f){return this._fileMap[f]},Xs.prototype.getFileList=function(){return this._fileList},Xs.prototype.getDotEntry=function(f){return this._constructDirectoryRecord(f.slice(this._record.lba()))};var Sx=function(f){function u(l,h){f.call(this,l,h)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(l){return new Vm(l,this._record.getRockRidgeOffset())},u}(Xs),bx=function(f){function u(l,h){f.call(this,l,h)}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(l){return new $m(l,this._record.getRockRidgeOffset())},u}(Xs),ql=function(f){function u(l,h,p){var g=this;h===void 0&&(h=""),p===void 0&&(p=!0),f.call(this),this._data=l,me(p,u.Name,{data:"ISO data as a Buffer",name:h});for(var _=!1,N=32768,P=new Array;!_;){var q=l.slice(N);switch(new Ro(q).type()){case 1:P.push(new px(q));break;case 2:P.push(new yx(q));break;case 255:_=!0}N+=2048}if(P.length===0)throw new y(a.EIO,"Unable to find a suitable volume descriptor.");P.forEach(function(Q){g._pvd&&g._pvd.type()===2||(g._pvd=Q)}),this._root=this._pvd.rootDirectoryEntry(l),this._name=h}return f&&(u.__proto__=f),u.prototype=Object.create(f&&f.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p,g;try{p=new u(l.data,l.name,!1)}catch(_){_=_}finally{h(void 0,p)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){var l="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(l+="-RockRidge"),l},u.prototype.diskSpace=function(l,h){h(this._data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(l,h){var p=this._getDirectoryRecord(l);if(p===null)throw y.ENOENT(l);return this._getStats(l,p)},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var g=this._getDirectoryRecord(l);if(!g)throw y.ENOENT(l);if(g.isSymlink(this._data))return this.openSync(d.resolve(l,g.getSymlinkPath(this._data)),h,p);if(g.isDirectory(this._data))throw y.EISDIR(l);var _=g.getFile(this._data),N=this._getStats(l,g);switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(l);case v.NOP:return new T(this,l,h,N,_);default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(l){var h=this._getDirectoryRecord(l);if(h){if(h.isDirectory(this._data))return h.getDirectory(this._data).getFileList().slice(0);throw y.ENOTDIR(l)}throw y.ENOENT(l)},u.prototype.readFileSync=function(l,h,p){var g=this.openSync(l,p,420);try{var _=g.getBuffer();return h===null?se(_):_.toString(h)}finally{g.closeSync()}},u.prototype._getDirectoryRecord=function(l){if(l==="/")return this._root;for(var h=l.split("/").slice(1),p=this._root,g=0,_=h;g<_.length;g+=1){var N=_[g];if(!p.isDirectory(this._data)||!(p=p.getDirectory(this._data).getRecord(N)))return null}return p},u.prototype._getStats=function(l,h){if(h.isSymlink(this._data)){var p=d.resolve(l,h.getSymlinkPath(this._data)),g=this._getDirectoryRecord(p);return g?this._getStats(p,g):null}var _=h.dataLength(),N=365,P=h.recordingDate(),q=P,Q=P,fe=P;if(h.hasRockRidge())for(var pe=0,we=h.getSUEntries(this._data);pe<we.length;pe+=1){var _e=we[pe];if(_e instanceof Ym)N=_e.mode();else if(_e instanceof Xm){var Ne=_e.flags();4&Ne&&(q=_e.access()),2&Ne&&(Q=_e.modify()),1&Ne&&(fe=_e.creation())}}return N&=365,new O(h.isDirectory(this._data)?b.DIRECTORY:b.FILE,_,N,q,Q,fe)},u}(be);ql.Name="IsoFS",ql.Options={data:{type:"object",description:"The ISO file in a buffer",validator:Ie}},[te,Fl,Cl,ko,Pl,To,qs,ql,Hs,No,Ys,zl,Vl,Ui].forEach(function(f){var u=f.Create;f.Create=function(l,h){var p=typeof l=="function",g=p?l:h,_=p?{}:l;k(f,_,function(N){N?g(N):u.call(f,_,g)})}});var Qm,Wl={AsyncMirror:te,Dropbox:Fl,Emscripten:Cl,FolderAdapter:ko,HTML5FS:Pl,InMemory:To,IndexedDB:qs,IsoFS:ql,LocalStorage:Hs,MountableFileSystem:No,OverlayFS:Ys,WorkerFS:zl,XmlHttpRequest:Vl,ZipFS:Ui};function eg(f){switch(f){case"fs":return re;case"path":return d;case"buffer":return c;case"process":return s;case"bfs_utils":return D;default:return Wl[f]}}function tg(f){return re.initialize(f)}function dh(f,u){var l=f.fs;if(!l)return u(new y(a.EPERM,'Missing "fs" property on configuration object.'));var h=f.options,p=0,g=!1;function _(){if(!g){g=!0;var P=Wl[l];P?P.Create(h,u):u(new y(a.EPERM,"File system "+l+" is not available in BrowserFS."))}}if(h!==null&&typeof h=="object"){var N=!1;Object.keys(h).filter(function(P){return P!=="fs"}).forEach(function(P){var q=h[P];q!==null&&typeof q=="object"&&q.fs&&(p++,dh(q,function(Q,fe){if(p--,Q){if(g)return;g=!0,u(Q)}else h[P]=fe,p===0&&N&&_()}))}),N=!0}p===0&&_()}s.initializeTTYs&&s.initializeTTYs(),"ab".substr(-1)!=="b"&&(String.prototype.substr=(Qm=String.prototype.substr,function(f,u){return f<0&&(f=this.length+f),Qm.call(this,f,u)})),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(f,u){return f===void 0&&(f=0),u===void 0&&(u=this.length),f<0&&(f=this.length+f)<0&&(f=0),u<0&&(u=this.length+u)<0&&(u=0),u<f&&(u=f),new Uint8Array(this.buffer,this.byteOffset+f,u-f)})),e.install=function(f){f.Buffer=n,f.process=s;var u=f.require?f.require:null;f.require=function(l){var h=eg(l);return h||u.apply(null,Array.prototype.slice.call(arguments,0))}},e.registerFileSystem=function(f,u){Wl[f]=u},e.BFSRequire=eg,e.initialize=tg,e.configure=function(f,u){dh(f,function(l,h){h?(tg(h),u()):u(l)})},e.getFileSystem=dh,e.EmscriptenFS=Z,e.FileSystem=Wl,e.Errors=w,e.setImmediate=lh}).call(e,r(1),function(){return this}(),r(5)(t),r(6))},function(t,e,r){t.exports=r(2).Buffer},function(t,e,r){(function(c){var i=r(3),o=r(4);e.Buffer=c,e.SlowBuffer=function(k){return+k!=k&&(k=0),c.alloc(+k)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(k){if(k>s)throw new RangeError("Invalid typed array length");var D=new Uint8Array(k);return D.__proto__=c.prototype,D}function c(k,D,L){if(typeof k=="number"){if(typeof D=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(k)}return d(k,D,L)}function d(k,D,L){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return ye(k)?function(W,Z,J){if(Z<0||W.byteLength<Z)throw new RangeError("'offset' is out of bounds");if(W.byteLength<Z+(J||0))throw new RangeError("'length' is out of bounds");var be;return(be=Z===void 0&&J===void 0?new Uint8Array(W):J===void 0?new Uint8Array(W,Z):new Uint8Array(W,Z,J)).__proto__=c.prototype,be}(k,D,L):typeof k=="string"?function(W,Z){if(typeof Z=="string"&&Z!==""||(Z="utf8"),!c.isEncoding(Z))throw new TypeError('"encoding" must be a valid string encoding');var J=0|b(W,Z),be=a(J),C=be.write(W,Z);return C!==J&&(be=be.slice(0,C)),be}(k,D):function(W){if(c.isBuffer(W)){var Z=0|w(W.length),J=a(Z);return J.length===0||W.copy(J,0,0,Z),J}if(W){if(xe(W)||"length"in W)return typeof W.length!="number"||Ie(W.length)?a(0):y(W);if(W.type==="Buffer"&&Array.isArray(W.data))return y(W.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(k)}function m(k){if(typeof k!="number")throw new TypeError('"size" argument must be a number');if(k<0)throw new RangeError('"size" argument must not be negative')}function v(k){return m(k),a(k<0?0:0|w(k))}function y(k){for(var D=k.length<0?0:0|w(k.length),L=a(D),W=0;W<D;W+=1)L[W]=255&k[W];return L}function w(k){if(k>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|k}function b(k,D){if(c.isBuffer(k))return k.length;if(xe(k)||ye(k))return k.byteLength;typeof k!="string"&&(k=""+k);var L=k.length;if(L===0)return 0;for(var W=!1;;)switch(D){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":case void 0:return oe(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*L;case"hex":return L>>>1;case"base64":return ne(k).length;default:if(W)return oe(k).length;D=(""+D).toLowerCase(),W=!0}}function A(k,D,L){var W=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0)<=(D>>>=0))return"";for(k||(k="utf8");;)switch(k){case"hex":return me(this,D,L);case"utf8":case"utf-8":return re(this,D,L);case"ascii":return le(this,D,L);case"latin1":case"binary":return ae(this,D,L);case"base64":return $(this,D,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,D,L);default:if(W)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),W=!0}}function O(k,D,L){var W=k[D];k[D]=k[L],k[L]=W}function I(k,D,L,W,Z){if(k.length===0)return-1;if(typeof L=="string"?(W=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),Ie(L=+L)&&(L=Z?0:k.length-1),L<0&&(L=k.length+L),L>=k.length){if(Z)return-1;L=k.length-1}else if(L<0){if(!Z)return-1;L=0}if(typeof D=="string"&&(D=c.from(D,W)),c.isBuffer(D))return D.length===0?-1:F(k,D,L,W,Z);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(k,D,L):Uint8Array.prototype.lastIndexOf.call(k,D,L):F(k,[D],L,W,Z);throw new TypeError("val must be string, number or Buffer")}function F(k,D,L,W,Z){var J,be=1,C=k.length,E=D.length;if(W!==void 0&&((W=String(W).toLowerCase())==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(k.length<2||D.length<2)return-1;be=2,C/=2,E/=2,L/=2}function T(de,Ce){return be===1?de[Ce]:de.readUInt16BE(Ce*be)}if(Z){var B=-1;for(J=L;J<C;J++)if(T(k,J)===T(D,B===-1?0:J-B)){if(B===-1&&(B=J),J-B+1===E)return B*be}else B!==-1&&(J-=J-B),B=-1}else for(L+E>C&&(L=C-E),J=L;J>=0;J--){for(var te=!0,he=0;he<E;he++)if(T(k,J+he)!==T(D,he)){te=!1;break}if(te)return J}return-1}function K(k,D,L,W){L=Number(L)||0;var Z=k.length-L;W?(W=Number(W))>Z&&(W=Z):W=Z;var J=D.length;if(J%2!=0)throw new TypeError("Invalid hex string");W>J/2&&(W=J/2);for(var be=0;be<W;++be){var C=parseInt(D.substr(2*be,2),16);if(Ie(C))return be;k[L+be]=C}return be}function H(k,D,L,W){return se(oe(D,k.length-L),k,L,W)}function Y(k,D,L,W){return se(function(Z){for(var J=[],be=0;be<Z.length;++be)J.push(255&Z.charCodeAt(be));return J}(D),k,L,W)}function M(k,D,L,W){return Y(k,D,L,W)}function z(k,D,L,W){return se(ne(D),k,L,W)}function S(k,D,L,W){return se(function(Z,J){for(var be,C,E,T=[],B=0;B<Z.length&&!((J-=2)<0);++B)C=(be=Z.charCodeAt(B))>>8,E=be%256,T.push(E),T.push(C);return T}(D,k.length-L),k,L,W)}function $(k,D,L){return D===0&&L===k.length?i.fromByteArray(k):i.fromByteArray(k.slice(D,L))}function re(k,D,L){L=Math.min(k.length,L);for(var W=[],Z=D;Z<L;){var J,be,C,E,T=k[Z],B=null,te=T>239?4:T>223?3:T>191?2:1;if(Z+te<=L)switch(te){case 1:T<128&&(B=T);break;case 2:(192&(J=k[Z+1]))==128&&(E=(31&T)<<6|63&J)>127&&(B=E);break;case 3:J=k[Z+1],be=k[Z+2],(192&J)==128&&(192&be)==128&&(E=(15&T)<<12|(63&J)<<6|63&be)>2047&&(E<55296||E>57343)&&(B=E);break;case 4:J=k[Z+1],be=k[Z+2],C=k[Z+3],(192&J)==128&&(192&be)==128&&(192&C)==128&&(E=(15&T)<<18|(63&J)<<12|(63&be)<<6|63&C)>65535&&E<1114112&&(B=E)}B===null?(B=65533,te=1):B>65535&&(B-=65536,W.push(B>>>10&1023|55296),B=56320|1023&B),W.push(B),Z+=te}return function(he){var de=he.length;if(de<=X)return String.fromCharCode.apply(String,he);for(var Ce="",Re=0;Re<de;)Ce+=String.fromCharCode.apply(String,he.slice(Re,Re+=X));return Ce}(W)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{var k=new Uint8Array(1);return k.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},k.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(k,D,L){return d(k,D,L)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(k,D,L){return function(W,Z,J){return m(W),W<=0?a(W):Z!==void 0?typeof J=="string"?a(W).fill(Z,J):a(W).fill(Z):a(W)}(k,D,L)},c.allocUnsafe=function(k){return v(k)},c.allocUnsafeSlow=function(k){return v(k)},c.isBuffer=function(k){return k!=null&&k._isBuffer===!0},c.compare=function(k,D){if(!c.isBuffer(k)||!c.isBuffer(D))throw new TypeError("Arguments must be Buffers");if(k===D)return 0;for(var L=k.length,W=D.length,Z=0,J=Math.min(L,W);Z<J;++Z)if(k[Z]!==D[Z]){L=k[Z],W=D[Z];break}return L<W?-1:W<L?1:0},c.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(k,D){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return c.alloc(0);var L;if(D===void 0)for(D=0,L=0;L<k.length;++L)D+=k[L].length;var W=c.allocUnsafe(D),Z=0;for(L=0;L<k.length;++L){var J=k[L];if(!c.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');J.copy(W,Z),Z+=J.length}return W},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<k;D+=2)O(this,D,D+1);return this},c.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<k;D+=4)O(this,D,D+3),O(this,D+1,D+2);return this},c.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<k;D+=8)O(this,D,D+7),O(this,D+1,D+6),O(this,D+2,D+5),O(this,D+3,D+4);return this},c.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?re(this,0,k):A.apply(this,arguments)},c.prototype.equals=function(k){if(!c.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||c.compare(this,k)===0},c.prototype.inspect=function(){var k="",D=e.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,D).match(/.{2}/g).join(" "),this.length>D&&(k+=" ... ")),"<Buffer "+k+">"},c.prototype.compare=function(k,D,L,W,Z){if(!c.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(D===void 0&&(D=0),L===void 0&&(L=k?k.length:0),W===void 0&&(W=0),Z===void 0&&(Z=this.length),D<0||L>k.length||W<0||Z>this.length)throw new RangeError("out of range index");if(W>=Z&&D>=L)return 0;if(W>=Z)return-1;if(D>=L)return 1;if(this===k)return 0;for(var J=(Z>>>=0)-(W>>>=0),be=(L>>>=0)-(D>>>=0),C=Math.min(J,be),E=this.slice(W,Z),T=k.slice(D,L),B=0;B<C;++B)if(E[B]!==T[B]){J=E[B],be=T[B];break}return J<be?-1:be<J?1:0},c.prototype.includes=function(k,D,L){return this.indexOf(k,D,L)!==-1},c.prototype.indexOf=function(k,D,L){return I(this,k,D,L,!0)},c.prototype.lastIndexOf=function(k,D,L){return I(this,k,D,L,!1)},c.prototype.write=function(k,D,L,W){if(D===void 0)W="utf8",L=this.length,D=0;else if(L===void 0&&typeof D=="string")W=D,L=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(L)?(L>>>=0,W===void 0&&(W="utf8")):(W=L,L=void 0)}var Z=this.length-D;if((L===void 0||L>Z)&&(L=Z),k.length>0&&(L<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");for(var J=!1;;)switch(W){case"hex":return K(this,k,D,L);case"utf8":case"utf-8":return H(this,k,D,L);case"ascii":return Y(this,k,D,L);case"latin1":case"binary":return M(this,k,D,L);case"base64":return z(this,k,D,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,k,D,L);default:if(J)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),J=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function le(k,D,L){var W="";L=Math.min(k.length,L);for(var Z=D;Z<L;++Z)W+=String.fromCharCode(127&k[Z]);return W}function ae(k,D,L){var W="";L=Math.min(k.length,L);for(var Z=D;Z<L;++Z)W+=String.fromCharCode(k[Z]);return W}function me(k,D,L){var W,Z=k.length;(!D||D<0)&&(D=0),(!L||L<0||L>Z)&&(L=Z);for(var J="",be=D;be<L;++be)J+=(W=k[be])<16?"0"+W.toString(16):W.toString(16);return J}function j(k,D,L){for(var W=k.slice(D,L),Z="",J=0;J<W.length;J+=2)Z+=String.fromCharCode(W[J]+256*W[J+1]);return Z}function R(k,D,L){if(k%1!=0||k<0)throw new RangeError("offset is not uint");if(k+D>L)throw new RangeError("Trying to access beyond buffer length")}function ie(k,D,L,W,Z,J){if(!c.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>Z||D<J)throw new RangeError('"value" argument is out of bounds');if(L+W>k.length)throw new RangeError("Index out of range")}function U(k,D,L,W,Z,J){if(L+W>k.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function V(k,D,L,W,Z){return D=+D,L>>>=0,Z||U(k,0,L,4),o.write(k,D,L,W,23,4),L+4}function G(k,D,L,W,Z){return D=+D,L>>>=0,Z||U(k,0,L,8),o.write(k,D,L,W,52,8),L+8}c.prototype.slice=function(k,D){var L=this.length;(k=~~k)<0?(k+=L)<0&&(k=0):k>L&&(k=L),(D=D===void 0?L:~~D)<0?(D+=L)<0&&(D=0):D>L&&(D=L),D<k&&(D=k);var W=this.subarray(k,D);return W.__proto__=c.prototype,W},c.prototype.readUIntLE=function(k,D,L){k>>>=0,D>>>=0,L||R(k,D,this.length);for(var W=this[k],Z=1,J=0;++J<D&&(Z*=256);)W+=this[k+J]*Z;return W},c.prototype.readUIntBE=function(k,D,L){k>>>=0,D>>>=0,L||R(k,D,this.length);for(var W=this[k+--D],Z=1;D>0&&(Z*=256);)W+=this[k+--D]*Z;return W},c.prototype.readUInt8=function(k,D){return k>>>=0,D||R(k,1,this.length),this[k]},c.prototype.readUInt16LE=function(k,D){return k>>>=0,D||R(k,2,this.length),this[k]|this[k+1]<<8},c.prototype.readUInt16BE=function(k,D){return k>>>=0,D||R(k,2,this.length),this[k]<<8|this[k+1]},c.prototype.readUInt32LE=function(k,D){return k>>>=0,D||R(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},c.prototype.readUInt32BE=function(k,D){return k>>>=0,D||R(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},c.prototype.readIntLE=function(k,D,L){k>>>=0,D>>>=0,L||R(k,D,this.length);for(var W=this[k],Z=1,J=0;++J<D&&(Z*=256);)W+=this[k+J]*Z;return W>=(Z*=128)&&(W-=Math.pow(2,8*D)),W},c.prototype.readIntBE=function(k,D,L){k>>>=0,D>>>=0,L||R(k,D,this.length);for(var W=D,Z=1,J=this[k+--W];W>0&&(Z*=256);)J+=this[k+--W]*Z;return J>=(Z*=128)&&(J-=Math.pow(2,8*D)),J},c.prototype.readInt8=function(k,D){return k>>>=0,D||R(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},c.prototype.readInt16LE=function(k,D){k>>>=0,D||R(k,2,this.length);var L=this[k]|this[k+1]<<8;return 32768&L?4294901760|L:L},c.prototype.readInt16BE=function(k,D){k>>>=0,D||R(k,2,this.length);var L=this[k+1]|this[k]<<8;return 32768&L?4294901760|L:L},c.prototype.readInt32LE=function(k,D){return k>>>=0,D||R(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},c.prototype.readInt32BE=function(k,D){return k>>>=0,D||R(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},c.prototype.readFloatLE=function(k,D){return k>>>=0,D||R(k,4,this.length),o.read(this,k,!0,23,4)},c.prototype.readFloatBE=function(k,D){return k>>>=0,D||R(k,4,this.length),o.read(this,k,!1,23,4)},c.prototype.readDoubleLE=function(k,D){return k>>>=0,D||R(k,8,this.length),o.read(this,k,!0,52,8)},c.prototype.readDoubleBE=function(k,D){return k>>>=0,D||R(k,8,this.length),o.read(this,k,!1,52,8)},c.prototype.writeUIntLE=function(k,D,L,W){k=+k,D>>>=0,L>>>=0,W||ie(this,k,D,L,Math.pow(2,8*L)-1,0);var Z=1,J=0;for(this[D]=255&k;++J<L&&(Z*=256);)this[D+J]=k/Z&255;return D+L},c.prototype.writeUIntBE=function(k,D,L,W){k=+k,D>>>=0,L>>>=0,W||ie(this,k,D,L,Math.pow(2,8*L)-1,0);var Z=L-1,J=1;for(this[D+Z]=255&k;--Z>=0&&(J*=256);)this[D+Z]=k/J&255;return D+L},c.prototype.writeUInt8=function(k,D,L){return k=+k,D>>>=0,L||ie(this,k,D,1,255,0),this[D]=255&k,D+1},c.prototype.writeUInt16LE=function(k,D,L){return k=+k,D>>>=0,L||ie(this,k,D,2,65535,0),this[D]=255&k,this[D+1]=k>>>8,D+2},c.prototype.writeUInt16BE=function(k,D,L){return k=+k,D>>>=0,L||ie(this,k,D,2,65535,0),this[D]=k>>>8,this[D+1]=255&k,D+2},c.prototype.writeUInt32LE=function(k,D,L){return k=+k,D>>>=0,L||ie(this,k,D,4,4294967295,0),this[D+3]=k>>>24,this[D+2]=k>>>16,this[D+1]=k>>>8,this[D]=255&k,D+4},c.prototype.writeUInt32BE=function(k,D,L){return k=+k,D>>>=0,L||ie(this,k,D,4,4294967295,0),this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=255&k,D+4},c.prototype.writeIntLE=function(k,D,L,W){if(k=+k,D>>>=0,!W){var Z=Math.pow(2,8*L-1);ie(this,k,D,L,Z-1,-Z)}var J=0,be=1,C=0;for(this[D]=255&k;++J<L&&(be*=256);)k<0&&C===0&&this[D+J-1]!==0&&(C=1),this[D+J]=(k/be>>0)-C&255;return D+L},c.prototype.writeIntBE=function(k,D,L,W){if(k=+k,D>>>=0,!W){var Z=Math.pow(2,8*L-1);ie(this,k,D,L,Z-1,-Z)}var J=L-1,be=1,C=0;for(this[D+J]=255&k;--J>=0&&(be*=256);)k<0&&C===0&&this[D+J+1]!==0&&(C=1),this[D+J]=(k/be>>0)-C&255;return D+L},c.prototype.writeInt8=function(k,D,L){return k=+k,D>>>=0,L||ie(this,k,D,1,127,-128),k<0&&(k=255+k+1),this[D]=255&k,D+1},c.prototype.writeInt16LE=function(k,D,L){return k=+k,D>>>=0,L||ie(this,k,D,2,32767,-32768),this[D]=255&k,this[D+1]=k>>>8,D+2},c.prototype.writeInt16BE=function(k,D,L){return k=+k,D>>>=0,L||ie(this,k,D,2,32767,-32768),this[D]=k>>>8,this[D+1]=255&k,D+2},c.prototype.writeInt32LE=function(k,D,L){return k=+k,D>>>=0,L||ie(this,k,D,4,2147483647,-2147483648),this[D]=255&k,this[D+1]=k>>>8,this[D+2]=k>>>16,this[D+3]=k>>>24,D+4},c.prototype.writeInt32BE=function(k,D,L){return k=+k,D>>>=0,L||ie(this,k,D,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=255&k,D+4},c.prototype.writeFloatLE=function(k,D,L){return V(this,k,D,!0,L)},c.prototype.writeFloatBE=function(k,D,L){return V(this,k,D,!1,L)},c.prototype.writeDoubleLE=function(k,D,L){return G(this,k,D,!0,L)},c.prototype.writeDoubleBE=function(k,D,L){return G(this,k,D,!1,L)},c.prototype.copy=function(k,D,L,W){if(L||(L=0),W||W===0||(W=this.length),D>=k.length&&(D=k.length),D||(D=0),W>0&&W<L&&(W=L),W===L||k.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("sourceStart out of bounds");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),k.length-D<W-L&&(W=k.length-D+L);var Z,J=W-L;if(this===k&&L<D&&D<W)for(Z=J-1;Z>=0;--Z)k[Z+D]=this[Z+L];else if(J<1e3)for(Z=0;Z<J;++Z)k[Z+D]=this[Z+L];else Uint8Array.prototype.set.call(k,this.subarray(L,L+J),D);return J},c.prototype.fill=function(k,D,L,W){if(typeof k=="string"){if(typeof D=="string"?(W=D,D=0,L=this.length):typeof L=="string"&&(W=L,L=this.length),k.length===1){var Z=k.charCodeAt(0);Z<256&&(k=Z)}if(W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!c.isEncoding(W))throw new TypeError("Unknown encoding: "+W)}else typeof k=="number"&&(k&=255);if(D<0||this.length<D||this.length<L)throw new RangeError("Out of range index");if(L<=D)return this;var J;if(D>>>=0,L=L===void 0?this.length:L>>>0,k||(k=0),typeof k=="number")for(J=D;J<L;++J)this[J]=k;else{var be=c.isBuffer(k)?k:new c(k,W),C=be.length;for(J=0;J<L-D;++J)this[J+D]=be[J%C]}return this};var ce=/[^+/0-9A-Za-z-_]/g;function oe(k,D){var L;D=D||1/0;for(var W=k.length,Z=null,J=[],be=0;be<W;++be){if((L=k.charCodeAt(be))>55295&&L<57344){if(!Z){if(L>56319){(D-=3)>-1&&J.push(239,191,189);continue}if(be+1===W){(D-=3)>-1&&J.push(239,191,189);continue}Z=L;continue}if(L<56320){(D-=3)>-1&&J.push(239,191,189),Z=L;continue}L=65536+(Z-55296<<10|L-56320)}else Z&&(D-=3)>-1&&J.push(239,191,189);if(Z=null,L<128){if((D-=1)<0)break;J.push(L)}else if(L<2048){if((D-=2)<0)break;J.push(L>>6|192,63&L|128)}else if(L<65536){if((D-=3)<0)break;J.push(L>>12|224,L>>6&63|128,63&L|128)}else{if(!(L<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;J.push(L>>18|240,L>>12&63|128,L>>6&63|128,63&L|128)}}return J}function ne(k){return i.toByteArray(function(D){if((D=D.trim().replace(ce,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(k))}function se(k,D,L,W){for(var Z=0;Z<W&&!(Z+L>=D.length||Z>=k.length);++Z)D[Z+L]=k[Z];return Z}function ye(k){return k instanceof ArrayBuffer||k!=null&&k.constructor!=null&&k.constructor.name==="ArrayBuffer"&&typeof k.byteLength=="number"}function xe(k){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(k)}function Ie(k){return k!=k}}).call(e,r(1))},function(t,e){e.byteLength=function(m){return 3*m.length/4-c(m)},e.toByteArray=function(m){var v,y,w,b,A,O,I=m.length;A=c(m),O=new i(3*I/4-A),w=A>0?I-4:I;var F=0;for(v=0,y=0;v<w;v+=4,y+=3)b=n[m.charCodeAt(v)]<<18|n[m.charCodeAt(v+1)]<<12|n[m.charCodeAt(v+2)]<<6|n[m.charCodeAt(v+3)],O[F++]=b>>16&255,O[F++]=b>>8&255,O[F++]=255&b;return A===2?(b=n[m.charCodeAt(v)]<<2|n[m.charCodeAt(v+1)]>>4,O[F++]=255&b):A===1&&(b=n[m.charCodeAt(v)]<<10|n[m.charCodeAt(v+1)]<<4|n[m.charCodeAt(v+2)]>>2,O[F++]=b>>8&255,O[F++]=255&b),O},e.fromByteArray=function(m){for(var v,y=m.length,w=y%3,b="",A=[],O=16383,I=0,F=y-w;I<F;I+=O)A.push(d(m,I,I+O>F?F:I+O));return w===1?(v=m[y-1],b+=r[v>>2],b+=r[v<<4&63],b+="=="):w===2&&(v=(m[y-2]<<8)+m[y-1],b+=r[v>>10],b+=r[v>>4&63],b+=r[v<<2&63],b+="="),A.push(b),A.join("")};for(var r=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function c(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return m[v-2]==="="?2:m[v-1]==="="?1:0}function d(m,v,y){for(var w,b,A=[],O=v;O<y;O+=3)w=(m[O]<<16)+(m[O+1]<<8)+m[O+2],A.push(r[(b=w)>>18&63]+r[b>>12&63]+r[b>>6&63]+r[63&b]);return A.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){e.read=function(r,n,i,o,s){var a,c,d=8*s-o-1,m=(1<<d)-1,v=m>>1,y=-7,w=i?s-1:0,b=i?-1:1,A=r[n+w];for(w+=b,a=A&(1<<-y)-1,A>>=-y,y+=d;y>0;a=256*a+r[n+w],w+=b,y-=8);for(c=a&(1<<-y)-1,a>>=-y,y+=o;y>0;c=256*c+r[n+w],w+=b,y-=8);if(a===0)a=1-v;else{if(a===m)return c?NaN:1/0*(A?-1:1);c+=Math.pow(2,o),a-=v}return(A?-1:1)*c*Math.pow(2,a-o)},e.write=function(r,n,i,o,s,a){var c,d,m,v=8*a-s-1,y=(1<<v)-1,w=y>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=o?0:a-1,O=o?1:-1,I=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(d=isNaN(n)?1:0,c=y):(c=Math.floor(Math.log(n)/Math.LN2),n*(m=Math.pow(2,-c))<1&&(c--,m*=2),(n+=c+w>=1?b/m:b*Math.pow(2,1-w))*m>=2&&(c++,m/=2),c+w>=y?(d=0,c=y):c+w>=1?(d=(n*m-1)*Math.pow(2,s),c+=w):(d=n*Math.pow(2,w-1)*Math.pow(2,s),c=0));s>=8;r[i+A]=255&d,A+=O,d/=256,s-=8);for(c=c<<s|d,v+=s;v>0;r[i+A]=255&c,A+=O,c/=256,v-=8);r[i+A-O]|=128*I}},function(t,e){t.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children=[],r.webpackPolyfill=1),r}},function(t,e,r){var n=new(r(7)),i={};function o(a){i[a]||(typeof n[a]=="function"?i[a]=function(){return n[a].apply(n,arguments)}:i[a]=n[a])}for(var s in n)o(s);i.initializeTTYs=function(){n.stdin===null&&(n.initializeTTYs(),i.stdin=n.stdin,i.stdout=n.stdout,i.stderr=n.stderr)},n.nextTick(function(){i.initializeTTYs()}),t.exports=i},function(t,e,r){(function(n){var i=this&&this.__extends||function(m,v){for(var y in v)v.hasOwnProperty(y)&&(m[y]=v[y]);function w(){this.constructor=m}m.prototype=v===null?Object.create(v):(w.prototype=v.prototype,new w)},o=r(8),s=null,a=function(){function m(v,y){this.fun=v,this.array=y}return m.prototype.run=function(){this.fun.apply(null,this.array)},m}(),c=function(){function m(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return m.prototype.push=function(v){var y=this;this._queue.push(v)!==1||this._draining||setTimeout(function(){return y._drainQueue()},0)},m.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},m.prototype._drainQueue=function(){var v=this;if(!this._draining){var y=setTimeout(function(){return v._cleanUpNextTick()});this._draining=!0;for(var w=this._queue.length;w;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<w;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,w=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(y)}},m}(),d=function(m){function v(){m.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new c,this.execPath=n,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=1e3*Math.random()|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return i(v,m),v.prototype.chdir=function(y){s===null&&(s=r(9)),this._cwd=s.resolve(y)},v.prototype.cwd=function(){return this._cwd},v.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},v.prototype.nextTick=function(y){for(var w=[],b=1;b<arguments.length;b++)w[b-1]=arguments[b];this._queue.push(new a(y,w))},v.prototype.abort=function(){this.emit("abort")},v.prototype.exit=function(y){this.exitCode=y,this.emit("exit",[y])},v.prototype.getgid=function(){return this._gid},v.prototype.setgid=function(y){this._gid=typeof y=="number"?y:1},v.prototype.getuid=function(){return this._uid},v.prototype.setuid=function(y){this._uid=typeof y=="number"?y:1},v.prototype.kill=function(y,w){this.emit("kill",[y,w])},v.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},v.prototype.umask=function(y){y===void 0&&(y=this._mask);var w=this._mask;return this._mask=y,this.emit("umask",[y]),w},v.prototype.hrtime=function(){var y,w=(y=typeof performance<"u"?performance.now():Date.now?Date.now():new Date().getTime())/1e3|0;return[w,y=1e6*(y-=1e3*w)|0]},v.prototype.initializeTTYs=function(){if(this.stdout===null){var y=r(10);this.stdout=new y,this.stderr=new y,this.stdin=new y}},v.prototype.disconnect=function(){},v}(o.EventEmitter);t.exports=d}).call(e,"/")},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(s){return typeof s=="function"}function i(s){return typeof s=="object"&&s!==null}function o(s){return s===void 0}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(s){if(typeof s!="number"||s<0||isNaN(s))throw TypeError("n must be a positive number");return this._maxListeners=s,this},r.prototype.emit=function(s){var a,c,d,m,v,y;if(this._events||(this._events={}),s==="error"&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((a=arguments[1])instanceof Error)throw a;var w=new Error('Uncaught, unspecified "error" event. ('+a+")");throw w.context=a,w}if(o(c=this._events[s]))return!1;if(n(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:m=Array.prototype.slice.call(arguments,1),c.apply(this,m)}else if(i(c))for(m=Array.prototype.slice.call(arguments,1),d=(y=c.slice()).length,v=0;v<d;v++)y[v].apply(this,m);return!0},r.prototype.addListener=function(s,a){var c;if(!n(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",s,n(a.listener)?a.listener:a),this._events[s]?i(this._events[s])?this._events[s].push(a):this._events[s]=[this._events[s],a]:this._events[s]=a,i(this._events[s])&&!this._events[s].warned&&(c=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[s].length>c&&(this._events[s].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s].length),typeof console.trace=="function"&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(s,a){if(!n(a))throw TypeError("listener must be a function");var c=!1;function d(){this.removeListener(s,d),c||(c=!0,a.apply(this,arguments))}return d.listener=a,this.on(s,d),this},r.prototype.removeListener=function(s,a){var c,d,m,v;if(!n(a))throw TypeError("listener must be a function");if(!this._events||!this._events[s])return this;if(m=(c=this._events[s]).length,d=-1,c===a||n(c.listener)&&c.listener===a)delete this._events[s],this._events.removeListener&&this.emit("removeListener",s,a);else if(i(c)){for(v=m;v-- >0;)if(c[v]===a||c[v].listener&&c[v].listener===a){d=v;break}if(d<0)return this;c.length===1?(c.length=0,delete this._events[s]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",s,a)}return this},r.prototype.removeAllListeners=function(s){var a,c;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[s]&&delete this._events[s],this;if(arguments.length===0){for(a in this._events)a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events={},this}if(n(c=this._events[s]))this.removeListener(s,c);else if(c)for(;c.length;)this.removeListener(s,c[c.length-1]);return delete this._events[s],this},r.prototype.listeners=function(s){return this._events&&this._events[s]?n(this._events[s])?[this._events[s]]:this._events[s].slice():[]},r.prototype.listenerCount=function(s){if(this._events){var a=this._events[s];if(n(a))return 1;if(a)return a.length}return 0},r.listenerCount=function(s,a){return s.listenerCount(a)}},function(t,e,r){(function(n){var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(){function s(){}return s.normalize=function(a){a===""&&(a=".");for(var c=a.charAt(0)===s.sep,d=(a=s._removeDuplicateSeps(a)).split(s.sep),m=[],v=0;v<d.length;v++){var y=d[v];y!=="."&&(y===".."&&(c||!c&&m.length>0&&m[0]!=="..")?m.pop():m.push(y))}return!c&&m.length<2&&(m.length===1?m[0]===""&&m.unshift("."):m.push(".")),a=m.join(s.sep),c&&a.charAt(0)!==s.sep&&(a=s.sep+a),a},s.join=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];for(var d=[],m=0;m<a.length;m++){var v=a[m];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&d.push(v)}return s.normalize(d.join(s.sep))},s.resolve=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];for(var d=[],m=0;m<a.length;m++){var v=a[m];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&(v.charAt(0)===s.sep&&(d=[]),d.push(v))}var y=s.normalize(d.join(s.sep));if(y.length>1&&y.charAt(y.length-1)===s.sep)return y.substr(0,y.length-1);if(y.charAt(0)!==s.sep){y.charAt(0)!=="."||y.length!==1&&y.charAt(1)!==s.sep||(y=y.length===1?"":y.substr(2));var w=n.cwd();y=y!==""?this.normalize(w+(w!=="/"?s.sep:"")+y):w}return y},s.relative=function(a,c){var d;a=s.resolve(a),c=s.resolve(c);var m=a.split(s.sep),v=c.split(s.sep);v.shift(),m.shift();var y=0,w=[];for(d=0;d<m.length;d++)if(m[d]!==v[d]){y=m.length-d;break}w=v.slice(d),m.length===1&&m[0]===""&&(y=0),y>m.length&&(y=m.length);var b="";for(d=0;d<y;d++)b+="../";return(b+=w.join(s.sep)).length>1&&b.charAt(b.length-1)===s.sep&&(b=b.substr(0,b.length-1)),b},s.dirname=function(a){var c=(a=s._removeDuplicateSeps(a)).charAt(0)===s.sep,d=a.split(s.sep);return d.pop()===""&&d.length>0&&d.pop(),d.length>1||d.length===1&&!c?d.join(s.sep):c?s.sep:"."},s.basename=function(a,c){if(c===void 0&&(c=""),a==="")return a;var d=(a=s.normalize(a)).split(s.sep),m=d[d.length-1];return m===""&&d.length>1?d[d.length-2]:c.length>0&&m.substr(m.length-c.length)===c?m.substr(0,m.length-c.length):m},s.extname=function(a){var c=(a=s.normalize(a)).split(s.sep);if((a=c.pop())===""&&c.length>0&&(a=c.pop()),a==="..")return"";var d=a.lastIndexOf(".");return d===-1||d===0?"":a.substr(d)},s.isAbsolute=function(a){return a.length>0&&a.charAt(0)===s.sep},s._makeLong=function(a){return a},s.parse=function(a){var c=function(d){var m=i.exec(d);return m.shift(),m}(a);return{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},s.format=function(a){if(a===null||typeof a!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);if(typeof(a.root||"")!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+s.sep:"")+(a.base||"")},s._removeDuplicateSeps=function(a){return a=a.replace(this._replaceRegex,this.sep)},s.sep="/",s._replaceRegex=new RegExp("//+","g"),s.delimiter=":",s.posix=s,s.win32=s,s}();t.exports=o}).call(e,r(6))},function(t,e,r){(function(n){var i=this&&this.__extends||function(s,a){for(var c in a)a.hasOwnProperty(c)&&(s[c]=a[c]);function d(){this.constructor=s}s.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)},o=function(s){function a(){s.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return i(a,s),a.prototype.setRawMode=function(c){this.isRaw!==c&&(this.isRaw=c,this.emit("modeChange"))},a.prototype.changeColumns=function(c){c!==this.columns&&(this.columns=c,this.emit("resize"))},a.prototype.changeRows=function(c){c!==this.rows&&(this.rows=c,this.emit("resize"))},a.isatty=function(c){return c&&c instanceof a},a.prototype._write=function(c,d,m){var v;try{var y;y=typeof c=="string"?new n(c,d):c,this._bufferedWrites.push(y),this._waitingForWrites&&this._read(1024)}catch(w){v=w}finally{m(v)}},a.prototype._read=function(c){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),this._waitingForWrites););},a}(r(11).Duplex);t.exports=o}).call(e,r(1))},function(t,e,r){t.exports=i;var n=r(8).EventEmitter;function i(){n.call(this)}r(12)(i,n),i.Readable=r(13),i.Writable=r(27),i.Duplex=r(28),i.Transform=r(29),i.PassThrough=r(30),i.Stream=i,i.prototype.pipe=function(o,s){var a=this;function c(A){o.writable&&o.write(A)===!1&&a.pause&&a.pause()}function d(){a.readable&&a.resume&&a.resume()}a.on("data",c),o.on("drain",d),o._isStdio||s&&s.end===!1||(a.on("end",v),a.on("close",y));var m=!1;function v(){m||(m=!0,o.end())}function y(){m||(m=!0,typeof o.destroy=="function"&&o.destroy())}function w(A){if(b(),n.listenerCount(this,"error")===0)throw A}function b(){a.removeListener("data",c),o.removeListener("drain",d),a.removeListener("end",v),a.removeListener("close",y),a.removeListener("error",w),o.removeListener("error",w),a.removeListener("end",b),a.removeListener("close",b),o.removeListener("close",b)}return a.on("error",w),o.on("error",w),a.on("end",b),a.on("close",b),o.on("close",b),o.emit("pipe",a),o}},function(t,e){typeof Object.create=="function"?t.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},function(t,e,r){(function(n){var i=function(){try{return r(11)}catch{}}();(e=t.exports=r(14)).Stream=i||e,e.Readable=e,e.Writable=r(22),e.Duplex=r(21),e.Transform=r(25),e.PassThrough=r(26),!n.browser&&n.env.READABLE_STREAM==="disable"&&i&&(t.exports=i)}).call(e,r(6))},function(t,e,r){(function(n){t.exports=I;var i,o=r(15),s=r(16);I.ReadableState=O,r(8).EventEmitter;var a,c=function(j,R){return j.listeners(R).length};(function(){try{a=r(11)}catch{}finally{a||(a=r(8).EventEmitter)}})();var d=r(2).Buffer,m=r(17),v=r(18);v.inherits=r(12);var y=r(19),w=void 0;w=y&&y.debuglog?y.debuglog("stream"):function(){};var b,A=r(20);function O(j,R){i=i||r(21),j=j||{},this.objectMode=!!j.objectMode,R instanceof i&&(this.objectMode=this.objectMode||!!j.readableObjectMode);var ie=j.highWaterMark,U=this.objectMode?16:16384;this.highWaterMark=ie||ie===0?ie:U,this.highWaterMark=~~this.highWaterMark,this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(b||(b=r(24).StringDecoder),this.decoder=new b(j.encoding),this.encoding=j.encoding)}function I(j){if(i=i||r(21),!(this instanceof I))return new I(j);this._readableState=new O(j,this),this.readable=!0,j&&typeof j.read=="function"&&(this._read=j.read),a.call(this)}function F(j,R,ie,U,V){var G=function(se,ye){var xe=null;return d.isBuffer(ye)||typeof ye=="string"||ye==null||se.objectMode||(xe=new TypeError("Invalid non-string/buffer chunk")),xe}(R,ie);if(G)j.emit("error",G);else if(ie===null)R.reading=!1,function(se,ye){if(!ye.ended){if(ye.decoder){var xe=ye.decoder.end();xe&&xe.length&&(ye.buffer.push(xe),ye.length+=ye.objectMode?1:xe.length)}ye.ended=!0,Y(se)}}(j,R);else if(R.objectMode||ie&&ie.length>0)if(R.ended&&!V){var ce=new Error("stream.push() after EOF");j.emit("error",ce)}else if(R.endEmitted&&V){var oe=new Error("stream.unshift() after end event");j.emit("error",oe)}else{var ne;!R.decoder||V||U||(ie=R.decoder.write(ie),ne=!R.objectMode&&ie.length===0),V||(R.reading=!1),ne||(R.flowing&&R.length===0&&!R.sync?(j.emit("data",ie),j.read(0)):(R.length+=R.objectMode?1:ie.length,V?R.buffer.unshift(ie):R.buffer.push(ie),R.needReadable&&Y(j))),function(se,ye){ye.readingMore||(ye.readingMore=!0,o(z,se,ye))}(j,R)}else V||(R.reading=!1);return function(se){return!se.ended&&(se.needReadable||se.length<se.highWaterMark||se.length===0)}(R)}v.inherits(I,a),I.prototype.push=function(j,R){var ie=this._readableState;return ie.objectMode||typeof j!="string"||(R=R||ie.defaultEncoding)!==ie.encoding&&(j=m.from(j,R),R=""),F(this,ie,j,R,!1)},I.prototype.unshift=function(j){return F(this,this._readableState,j,"",!0)},I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(j){return b||(b=r(24).StringDecoder),this._readableState.decoder=new b(j),this._readableState.encoding=j,this};var K=8388608;function H(j,R){return j<=0||R.length===0&&R.ended?0:R.objectMode?1:j!=j?R.flowing&&R.length?R.buffer.head.data.length:R.length:(j>R.highWaterMark&&(R.highWaterMark=function(ie){return ie>=K?ie=K:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}(j)),j<=R.length?j:R.ended?R.length:(R.needReadable=!0,0))}function Y(j){var R=j._readableState;R.needReadable=!1,R.emittedReadable||(w("emitReadable",R.flowing),R.emittedReadable=!0,R.sync?o(M,j):M(j))}function M(j){w("emit readable"),j.emit("readable"),re(j)}function z(j,R){for(var ie=R.length;!R.reading&&!R.flowing&&!R.ended&&R.length<R.highWaterMark&&(w("maybeReadMore read 0"),j.read(0),ie!==R.length);)ie=R.length;R.readingMore=!1}function S(j){w("readable nexttick read 0"),j.read(0)}function $(j,R){R.reading||(w("resume read 0"),j.read(0)),R.resumeScheduled=!1,R.awaitDrain=0,j.emit("resume"),re(j),R.flowing&&!R.reading&&j.read(0)}function re(j){var R=j._readableState;for(w("flow",R.flowing);R.flowing&&j.read()!==null;);}function X(j,R){return R.length===0?null:(R.objectMode?ie=R.buffer.shift():!j||j>=R.length?(ie=R.decoder?R.buffer.join(""):R.buffer.length===1?R.buffer.head.data:R.buffer.concat(R.length),R.buffer.clear()):ie=function(U,V,G){var ce;return U<V.head.data.length?(ce=V.head.data.slice(0,U),V.head.data=V.head.data.slice(U)):ce=U===V.head.data.length?V.shift():G?function(oe,ne){var se=ne.head,ye=1,xe=se.data;for(oe-=xe.length;se=se.next;){var Ie=se.data,k=oe>Ie.length?Ie.length:oe;if(k===Ie.length?xe+=Ie:xe+=Ie.slice(0,oe),(oe-=k)==0){k===Ie.length?(++ye,se.next?ne.head=se.next:ne.head=ne.tail=null):(ne.head=se,se.data=Ie.slice(k));break}++ye}return ne.length-=ye,xe}(U,V):function(oe,ne){var se=m.allocUnsafe(oe),ye=ne.head,xe=1;for(ye.data.copy(se),oe-=ye.data.length;ye=ye.next;){var Ie=ye.data,k=oe>Ie.length?Ie.length:oe;if(Ie.copy(se,se.length-oe,0,k),(oe-=k)==0){k===Ie.length?(++xe,ye.next?ne.head=ye.next:ne.head=ne.tail=null):(ne.head=ye,ye.data=Ie.slice(k));break}++xe}return ne.length-=xe,se}(U,V),ce}(j,R.buffer,R.decoder),ie);var ie}function le(j){var R=j._readableState;if(R.length>0)throw new Error('"endReadable()" called on non-empty stream');R.endEmitted||(R.ended=!0,o(ae,R,j))}function ae(j,R){j.endEmitted||j.length!==0||(j.endEmitted=!0,R.readable=!1,R.emit("end"))}function me(j,R){for(var ie=0,U=j.length;ie<U;ie++)if(j[ie]===R)return ie;return-1}I.prototype.read=function(j){w("read",j),j=parseInt(j,10);var R=this._readableState,ie=j;if(j!==0&&(R.emittedReadable=!1),j===0&&R.needReadable&&(R.length>=R.highWaterMark||R.ended))return w("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?le(this):Y(this),null;if((j=H(j,R))===0&&R.ended)return R.length===0&&le(this),null;var U,V=R.needReadable;return w("need readable",V),(R.length===0||R.length-j<R.highWaterMark)&&w("length less than watermark",V=!0),R.ended||R.reading?w("reading or ended",V=!1):V&&(w("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(j=H(ie,R))),(U=j>0?X(j,R):null)===null?(R.needReadable=!0,j=0):R.length-=j,R.length===0&&(R.ended||(R.needReadable=!0),ie!==j&&R.ended&&le(this)),U!==null&&this.emit("data",U),U},I.prototype._read=function(j){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(j,R){var ie=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=j;break;case 1:U.pipes=[U.pipes,j];break;default:U.pipes.push(j)}U.pipesCount+=1,w("pipe count=%d opts=%j",U.pipesCount,R);var V=R&&R.end===!1||j===n.stdout||j===n.stderr?se:ce;function G(W){w("onunpipe"),W===ie&&se()}function ce(){w("onend"),j.end()}U.endEmitted?o(V):ie.once("end",V),j.on("unpipe",G);var oe=function(W){return function(){var Z=W._readableState;w("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&c(W,"data")&&(Z.flowing=!0,re(W))}}(ie);j.on("drain",oe);var ne=!1;function se(){w("cleanup"),j.removeListener("close",k),j.removeListener("finish",D),j.removeListener("drain",oe),j.removeListener("error",Ie),j.removeListener("unpipe",G),ie.removeListener("end",ce),ie.removeListener("end",se),ie.removeListener("data",xe),ne=!0,!U.awaitDrain||j._writableState&&!j._writableState.needDrain||oe()}var ye=!1;function xe(W){w("ondata"),ye=!1,j.write(W)!==!1||ye||((U.pipesCount===1&&U.pipes===j||U.pipesCount>1&&me(U.pipes,j)!==-1)&&!ne&&(w("false write response, pause",ie._readableState.awaitDrain),ie._readableState.awaitDrain++,ye=!0),ie.pause())}function Ie(W){w("onerror",W),L(),j.removeListener("error",Ie),c(j,"error")===0&&j.emit("error",W)}function k(){j.removeListener("finish",D),L()}function D(){w("onfinish"),j.removeListener("close",k),L()}function L(){w("unpipe"),ie.unpipe(j)}return ie.on("data",xe),function(W,Z,J){if(typeof W.prependListener=="function")return W.prependListener(Z,J);W._events&&W._events[Z]?s(W._events[Z])?W._events[Z].unshift(J):W._events[Z]=[J,W._events[Z]]:W.on(Z,J)}(j,"error",Ie),j.once("close",k),j.once("finish",D),j.emit("pipe",ie),U.flowing||(w("pipe resume"),ie.resume()),j},I.prototype.unpipe=function(j){var R=this._readableState;if(R.pipesCount===0)return this;if(R.pipesCount===1)return j&&j!==R.pipes||(j||(j=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,j&&j.emit("unpipe",this)),this;if(!j){var ie=R.pipes,U=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var V=0;V<U;V++)ie[V].emit("unpipe",this);return this}var G=me(R.pipes,j);return G===-1||(R.pipes.splice(G,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),j.emit("unpipe",this)),this},I.prototype.on=function(j,R){var ie=a.prototype.on.call(this,j,R);if(j==="data")this._readableState.flowing!==!1&&this.resume();else if(j==="readable"){var U=this._readableState;U.endEmitted||U.readableListening||(U.readableListening=U.needReadable=!0,U.emittedReadable=!1,U.reading?U.length&&Y(this):o(S,this))}return ie},I.prototype.addListener=I.prototype.on,I.prototype.resume=function(){var j=this._readableState;return j.flowing||(w("resume"),j.flowing=!0,function(R,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,o($,R,ie))}(this,j)),this},I.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this},I.prototype.wrap=function(j){var R=this._readableState,ie=!1,U=this;for(var V in j.on("end",function(){if(w("wrapped end"),R.decoder&&!R.ended){var G=R.decoder.end();G&&G.length&&U.push(G)}U.push(null)}),j.on("data",function(G){w("wrapped data"),R.decoder&&(G=R.decoder.write(G)),R.objectMode&&G==null||(R.objectMode||G&&G.length)&&(U.push(G)||(ie=!0,j.pause()))}),j)this[V]===void 0&&typeof j[V]=="function"&&(this[V]=function(G){return function(){return j[G].apply(j,arguments)}}(V));return function(G,ce){for(var oe=0,ne=G.length;oe<ne;oe++)ce(G[oe],oe)}(["error","close","destroy","pause","resume"],function(G){j.on(G,U.emit.bind(U,G))}),U._read=function(G){w("wrapped _read",G),ie&&(ie=!1,j.resume())},U},I._fromList=X}).call(e,r(6))},function(t,e,r){(function(n){!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?t.exports=function(i,o,s,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var c,d,m=arguments.length;switch(m){case 0:case 1:return n.nextTick(i);case 2:return n.nextTick(function(){i.call(null,o)});case 3:return n.nextTick(function(){i.call(null,o,s)});case 4:return n.nextTick(function(){i.call(null,o,s,a)});default:for(c=new Array(m-1),d=0;d<c.length;)c[d++]=arguments[d];return n.nextTick(function(){i.apply(null,c)})}}:t.exports=n.nextTick}).call(e,r(6))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(t,e,r){(function(n){var i=r(2),o=i.Buffer,s=i.SlowBuffer,a=i.kMaxLength||2147483647;e.alloc=function(c,d,m){if(typeof o.alloc=="function")return o.alloc(c,d,m);if(typeof m=="number")throw new TypeError("encoding must not be number");if(typeof c!="number")throw new TypeError("size must be a number");if(c>a)throw new RangeError("size is too large");var v=m,y=d;y===void 0&&(v=void 0,y=0);var w=new o(c);if(typeof y=="string")for(var b=new o(y,v),A=b.length,O=-1;++O<c;)w[O]=b[O%A];else w.fill(y);return w},e.allocUnsafe=function(c){if(typeof o.allocUnsafe=="function")return o.allocUnsafe(c);if(typeof c!="number")throw new TypeError("size must be a number");if(c>a)throw new RangeError("size is too large");return new o(c)},e.from=function(c,d,m){if(typeof o.from=="function"&&(!n.Uint8Array||Uint8Array.from!==o.from))return o.from(c,d,m);if(typeof c=="number")throw new TypeError('"value" argument must not be a number');if(typeof c=="string")return new o(c,d);if(typeof ArrayBuffer<"u"&&c instanceof ArrayBuffer){var v=d;if(arguments.length===1)return new o(c);v===void 0&&(v=0);var y=m;if(y===void 0&&(y=c.byteLength-v),v>=c.byteLength)throw new RangeError("'offset' is out of bounds");if(y>c.byteLength-v)throw new RangeError("'length' is out of bounds");return new o(c.slice(v,v+y))}if(o.isBuffer(c)){var w=new o(c.length);return c.copy(w,0,0,c.length),w}if(c){if(Array.isArray(c)||typeof ArrayBuffer<"u"&&c.buffer instanceof ArrayBuffer||"length"in c)return new o(c);if(c.type==="Buffer"&&Array.isArray(c.data))return new o(c.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},e.allocUnsafeSlow=function(c){if(typeof o.allocUnsafeSlow=="function")return o.allocUnsafeSlow(c);if(typeof c!="number")throw new TypeError("size must be a number");if(c>=a)throw new RangeError("size is too large");return new s(c)}}).call(e,function(){return this}())},function(t,e,r){(function(n){function i(o){return Object.prototype.toString.call(o)}e.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},e.isBoolean=function(o){return typeof o=="boolean"},e.isNull=function(o){return o===null},e.isNullOrUndefined=function(o){return o==null},e.isNumber=function(o){return typeof o=="number"},e.isString=function(o){return typeof o=="string"},e.isSymbol=function(o){return typeof o=="symbol"},e.isUndefined=function(o){return o===void 0},e.isRegExp=function(o){return i(o)==="[object RegExp]"},e.isObject=function(o){return typeof o=="object"&&o!==null},e.isDate=function(o){return i(o)==="[object Date]"},e.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},e.isFunction=function(o){return typeof o=="function"},e.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},e.isBuffer=n.isBuffer}).call(e,r(1))},function(t,e){},function(t,e,r){r(2).Buffer;var n=r(17);function i(){this.head=null,this.tail=null,this.length=0}t.exports=i,i.prototype.push=function(o){var s={data:o,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},i.prototype.unshift=function(o){var s={data:o,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},i.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(o){if(this.length===0)return"";for(var s=this.head,a=""+s.data;s=s.next;)a+=o+s.data;return a},i.prototype.concat=function(o){if(this.length===0)return n.alloc(0);if(this.length===1)return this.head.data;for(var s=n.allocUnsafe(o>>>0),a=this.head,c=0;a;)a.data.copy(s,c),c+=a.data.length,a=a.next;return s}},function(t,e,r){var n=Object.keys||function(b){var A=[];for(var O in b)A.push(O);return A};t.exports=v;var i=r(15),o=r(18);o.inherits=r(12);var s=r(14),a=r(22);o.inherits(v,s);for(var c=n(a.prototype),d=0;d<c.length;d++){var m=c[d];v.prototype[m]||(v.prototype[m]=a.prototype[m])}function v(b){if(!(this instanceof v))return new v(b);s.call(this,b),a.call(this,b),b&&b.readable===!1&&(this.readable=!1),b&&b.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,b&&b.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||i(w,this)}function w(b){b.end()}},function(t,e,r){(function(n){t.exports=O;var i,o=r(15),s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:o;O.WritableState=A;var a=r(18);a.inherits=r(12);var c,d={deprecate:r(23)};(function(){try{c=r(11)}catch{}finally{c||(c=r(8).EventEmitter)}})();var m,v=r(2).Buffer,y=r(17);function w(){}function b(S,$,re){this.chunk=S,this.encoding=$,this.callback=re,this.next=null}function A(S,$){i=i||r(21),S=S||{},this.objectMode=!!S.objectMode,$ instanceof i&&(this.objectMode=this.objectMode||!!S.writableObjectMode);var re=S.highWaterMark,X=this.objectMode?16:16384;this.highWaterMark=re||re===0?re:X,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var le=S.decodeStrings===!1;this.decodeStrings=!le,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ae){(function(me,j){var R=me._writableState,ie=R.sync,U=R.writecb;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(R),j)(function(G,ce,oe,ne,se){--ce.pendingcb,oe?o(se,ne):se(ne),G._writableState.errorEmitted=!0,G.emit("error",ne)})(me,R,ie,j,U);else{var V=H(R);V||R.corked||R.bufferProcessing||!R.bufferedRequest||K(me,R),ie?s(F,me,R,V,U):F(me,R,V,U)}})($,ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new z(this)}function O(S){if(i=i||r(21),!(m.call(O,this)||this instanceof i))return new O(S);this._writableState=new A(S,this),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev)),c.call(this)}function I(S,$,re,X,le,ae,me){$.writelen=X,$.writecb=me,$.writing=!0,$.sync=!0,re?S._writev(le,$.onwrite):S._write(le,ae,$.onwrite),$.sync=!1}function F(S,$,re,X){re||function(le,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,le.emit("drain"))}(S,$),$.pendingcb--,X(),M(S,$)}function K(S,$){$.bufferProcessing=!0;var re=$.bufferedRequest;if(S._writev&&re&&re.next){var X=$.bufferedRequestCount,le=new Array(X),ae=$.corkedRequestsFree;ae.entry=re;for(var me=0;re;)le[me]=re,re=re.next,me+=1;I(S,$,!0,$.length,le,"",ae.finish),$.pendingcb++,$.lastBufferedRequest=null,ae.next?($.corkedRequestsFree=ae.next,ae.next=null):$.corkedRequestsFree=new z($)}else{for(;re;){var j=re.chunk,R=re.encoding,ie=re.callback;if(I(S,$,!1,$.objectMode?1:j.length,j,R,ie),re=re.next,$.writing)break}re===null&&($.lastBufferedRequest=null)}$.bufferedRequestCount=0,$.bufferedRequest=re,$.bufferProcessing=!1}function H(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function Y(S,$){$.prefinished||($.prefinished=!0,S.emit("prefinish"))}function M(S,$){var re=H($);return re&&($.pendingcb===0?(Y(S,$),$.finished=!0,S.emit("finish")):Y(S,$)),re}function z(S){var $=this;this.next=null,this.entry=null,this.finish=function(re){var X=$.entry;for($.entry=null;X;){var le=X.callback;S.pendingcb--,le(re),X=X.next}S.corkedRequestsFree?S.corkedRequestsFree.next=$:S.corkedRequestsFree=$}}a.inherits(O,c),A.prototype.getBuffer=function(){for(var S=this.bufferedRequest,$=[];S;)$.push(S),S=S.next;return $},function(){try{Object.defineProperty(A.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(S){return!!m.call(this,S)||S&&S._writableState instanceof A}})):m=function(S){return S instanceof this},O.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},O.prototype.write=function(S,$,re){var X=this._writableState,le=!1,ae=v.isBuffer(S);return typeof $=="function"&&(re=$,$=null),ae?$="buffer":$||($=X.defaultEncoding),typeof re!="function"&&(re=w),X.ended?function(me,j){var R=new Error("write after end");me.emit("error",R),o(j,R)}(this,re):(ae||function(me,j,R,ie){var U=!0,V=!1;return R===null?V=new TypeError("May not write null values to stream"):typeof R=="string"||R===void 0||j.objectMode||(V=new TypeError("Invalid non-string/buffer chunk")),V&&(me.emit("error",V),o(ie,V),U=!1),U}(this,X,S,re))&&(X.pendingcb++,le=function(me,j,R,ie,U,V){R||(ie=function(ne,se,ye){return ne.objectMode||ne.decodeStrings===!1||typeof se!="string"||(se=y.from(se,ye)),se}(j,ie,U),v.isBuffer(ie)&&(U="buffer"));var G=j.objectMode?1:ie.length;j.length+=G;var ce=j.length<j.highWaterMark;if(ce||(j.needDrain=!0),j.writing||j.corked){var oe=j.lastBufferedRequest;j.lastBufferedRequest=new b(ie,U,V),oe?oe.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else I(me,j,!1,G,ie,U,V);return ce}(this,X,ae,S,$,re)),le},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.finished||S.bufferProcessing||!S.bufferedRequest||K(this,S))},O.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+S);return this._writableState.defaultEncoding=S,this},O.prototype._write=function(S,$,re){re(new Error("_write() is not implemented"))},O.prototype._writev=null,O.prototype.end=function(S,$,re){var X=this._writableState;typeof S=="function"?(re=S,S=null,$=null):typeof $=="function"&&(re=$,$=null),S!=null&&this.write(S,$),X.corked&&(X.corked=1,this.uncork()),X.ending||X.finished||function(le,ae,me){ae.ending=!0,M(le,ae),me&&(ae.finished?o(me):le.once("finish",me)),ae.ended=!0,le.writable=!1}(this,X,re)}}).call(e,r(6))},function(t,e){(function(r){function n(i){try{if(!r.localStorage)return!1}catch{return!1}var o=r.localStorage[i];return o!=null&&String(o).toLowerCase()==="true"}t.exports=function(i,o){if(n("noDeprecation"))return i;var s=!1;return function(){if(!s){if(n("throwDeprecation"))throw new Error(o);n("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return i.apply(this,arguments)}}}).call(e,function(){return this}())},function(t,e,r){var n=r(2).Buffer,i=n.isEncoding||function(d){switch(d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=e.StringDecoder=function(d){switch(this.encoding=(d||"utf8").toLowerCase().replace(/[-_]/,""),function(m){if(m&&!i(m))throw new Error("Unknown encoding: "+m)}(d),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=c;break;default:return void(this.write=s)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function s(d){return d.toString(this.encoding)}function a(d){this.charReceived=d.length%2,this.charLength=this.charReceived?2:0}function c(d){this.charReceived=d.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(d){for(var m="";this.charLength;){var v=d.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:d.length;if(d.copy(this.charBuffer,this.charReceived,0,v),this.charReceived+=v,this.charReceived<this.charLength)return"";if(d=d.slice(v,d.length),!((y=(m=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(m.length-1))>=55296&&y<=56319)){if(this.charReceived=this.charLength=0,d.length===0)return m;break}this.charLength+=this.surrogateSize,m=""}this.detectIncompleteChar(d);var y,w=d.length;if(this.charLength&&(d.copy(this.charBuffer,0,d.length-this.charReceived,w),w-=this.charReceived),w=(m+=d.toString(this.encoding,0,w)).length-1,(y=m.charCodeAt(w))>=55296&&y<=56319){var b=this.surrogateSize;return this.charLength+=b,this.charReceived+=b,this.charBuffer.copy(this.charBuffer,b,0,b),d.copy(this.charBuffer,0,0,b),m.substring(0,w)}return m},o.prototype.detectIncompleteChar=function(d){for(var m=d.length>=3?3:d.length;m>0;m--){var v=d[d.length-m];if(m==1&&v>>5==6){this.charLength=2;break}if(m<=2&&v>>4==14){this.charLength=3;break}if(m<=3&&v>>3==30){this.charLength=4;break}}this.charReceived=m},o.prototype.end=function(d){var m="";if(d&&d.length&&(m=this.write(d)),this.charReceived){var v=this.charReceived,y=this.charBuffer,w=this.encoding;m+=y.slice(0,v).toString(w)}return m}},function(t,e,r){t.exports=s;var n=r(21),i=r(18);function o(c){this.afterTransform=function(d,m){return function(v,y,w){var b=v._transformState;b.transforming=!1;var A=b.writecb;if(!A)return v.emit("error",new Error("no writecb in Transform class"));b.writechunk=null,b.writecb=null,w!=null&&v.push(w),A(y);var O=v._readableState;O.reading=!1,(O.needReadable||O.length<O.highWaterMark)&&v._read(O.highWaterMark)}(c,d,m)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(c){if(!(this instanceof s))return new s(c);n.call(this,c),this._transformState=new o(this);var d=this;this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(m,v){a(d,m,v)}):a(d)})}function a(c,d,m){if(d)return c.emit("error",d);m!=null&&c.push(m);var v=c._writableState,y=c._transformState;if(v.length)throw new Error("Calling transform done when ws.length != 0");if(y.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}i.inherits=r(12),i.inherits(s,n),s.prototype.push=function(c,d){return this._transformState.needTransform=!1,n.prototype.push.call(this,c,d)},s.prototype._transform=function(c,d,m){throw new Error("_transform() is not implemented")},s.prototype._write=function(c,d,m){var v=this._transformState;if(v.writecb=m,v.writechunk=c,v.writeencoding=d,!v.transforming){var y=this._readableState;(v.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},s.prototype._read=function(c){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0}},function(t,e,r){t.exports=o;var n=r(25),i=r(18);function o(s){if(!(this instanceof o))return new o(s);n.call(this,s)}i.inherits=r(12),i.inherits(o,n),o.prototype._transform=function(s,a,c){c(null,s)}},function(t,e,r){t.exports=r(22)},function(t,e,r){t.exports=r(21)},function(t,e,r){t.exports=r(25)},function(t,e,r){t.exports=r(26)},function(t,e,r){var n=r(32),i=r(33),o=r(38),s=r(39),a=r(40),c=r(41),d=r(42),m=Object.prototype.toString;function v(w){if(!(this instanceof v))return new v(w);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},w||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||w&&w.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var A=n.inflateInit2(this.strm,b.windowBits);if(A!==s.Z_OK)throw new Error(a[A]);this.header=new d,n.inflateGetHeader(this.strm,this.header)}function y(w,b){var A=new v(b);if(A.push(w,!0),A.err)throw A.msg||a[A.err];return A.result}v.prototype.push=function(w,b){var A,O,I,F,K,H,Y=this.strm,M=this.options.chunkSize,z=this.options.dictionary,S=!1;if(this.ended)return!1;O=b===~~b?b:b===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof w=="string"?Y.input=o.binstring2buf(w):m.call(w)==="[object ArrayBuffer]"?Y.input=new Uint8Array(w):Y.input=w,Y.next_in=0,Y.avail_in=Y.input.length;do{if(Y.avail_out===0&&(Y.output=new i.Buf8(M),Y.next_out=0,Y.avail_out=M),(A=n.inflate(Y,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&z&&(H=typeof z=="string"?o.string2buf(z):m.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,A=n.inflateSetDictionary(this.strm,H)),A===s.Z_BUF_ERROR&&S===!0&&(A=s.Z_OK,S=!1),A!==s.Z_STREAM_END&&A!==s.Z_OK)return this.onEnd(A),this.ended=!0,!1;Y.next_out&&(Y.avail_out!==0&&A!==s.Z_STREAM_END&&(Y.avail_in!==0||O!==s.Z_FINISH&&O!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=o.utf8border(Y.output,Y.next_out),F=Y.next_out-I,K=o.buf2string(Y.output,I),Y.next_out=F,Y.avail_out=M-F,F&&i.arraySet(Y.output,Y.output,I,F,0),this.onData(K)):this.onData(i.shrinkBuf(Y.output,Y.next_out)))),Y.avail_in===0&&Y.avail_out===0&&(S=!0)}while((Y.avail_in>0||Y.avail_out===0)&&A!==s.Z_STREAM_END);return A===s.Z_STREAM_END&&(O=s.Z_FINISH),O===s.Z_FINISH?(A=n.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===s.Z_OK):O!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),Y.avail_out=0,!0)},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},e.Inflate=v,e.inflate=y,e.inflateRaw=function(w,b){return(b=b||{}).raw=!0,y(w,b)},e.ungzip=y},function(t,e,r){var n=r(33),i=r(34),o=r(35),s=r(36),a=r(37),c=-2,d=12,m=30;function v(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(M){var z;return M&&M.state?(z=M.state,M.total_in=M.total_out=z.total=0,M.msg="",z.wrap&&(M.adler=1&z.wrap),z.mode=1,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new n.Buf32(852),z.distcode=z.distdyn=new n.Buf32(592),z.sane=1,z.back=-1,0):c}function b(M){var z;return M&&M.state?((z=M.state).wsize=0,z.whave=0,z.wnext=0,w(M)):c}function A(M,z){var S,$;return M&&M.state?($=M.state,z<0?(S=0,z=-z):(S=1+(z>>4),z<48&&(z&=15)),z&&(z<8||z>15)?c:($.window!==null&&$.wbits!==z&&($.window=null),$.wrap=S,$.wbits=z,b(M))):c}function O(M,z){var S,$;return M?($=new y,M.state=$,$.window=null,(S=A(M,z))!==0&&(M.state=null),S):c}var I,F,K=!0;function H(M){if(K){var z;for(I=new n.Buf32(512),F=new n.Buf32(32),z=0;z<144;)M.lens[z++]=8;for(;z<256;)M.lens[z++]=9;for(;z<280;)M.lens[z++]=7;for(;z<288;)M.lens[z++]=8;for(a(1,M.lens,0,288,I,0,M.work,{bits:9}),z=0;z<32;)M.lens[z++]=5;a(2,M.lens,0,32,F,0,M.work,{bits:5}),K=!1}M.lencode=I,M.lenbits=9,M.distcode=F,M.distbits=5}function Y(M,z,S,$){var re,X=M.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new n.Buf8(X.wsize)),$>=X.wsize?(n.arraySet(X.window,z,S-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):((re=X.wsize-X.wnext)>$&&(re=$),n.arraySet(X.window,z,S-$,re,X.wnext),($-=re)?(n.arraySet(X.window,z,S-$,$,0),X.wnext=$,X.whave=X.wsize):(X.wnext+=re,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=re))),0}e.inflateReset=b,e.inflateReset2=A,e.inflateResetKeep=w,e.inflateInit=function(M){return O(M,15)},e.inflateInit2=O,e.inflate=function(M,z){var S,$,re,X,le,ae,me,j,R,ie,U,V,G,ce,oe,ne,se,ye,xe,Ie,k,D,L,W,Z=0,J=new n.Buf8(4),be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return c;(S=M.state).mode===d&&(S.mode=13),le=M.next_out,re=M.output,me=M.avail_out,X=M.next_in,$=M.input,ae=M.avail_in,j=S.hold,R=S.bits,ie=ae,U=me,D=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;R<16;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}if(2&S.wrap&&j===35615){S.check=0,J[0]=255&j,J[1]=j>>>8&255,S.check=o(S.check,J,2,0),j=0,R=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&j)<<8)+(j>>8))%31){M.msg="incorrect header check",S.mode=m;break}if((15&j)!=8){M.msg="unknown compression method",S.mode=m;break}if(R-=4,k=8+(15&(j>>>=4)),S.wbits===0)S.wbits=k;else if(k>S.wbits){M.msg="invalid window size",S.mode=m;break}S.dmax=1<<k,M.adler=S.check=1,S.mode=512&j?10:d,j=0,R=0;break;case 2:for(;R<16;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}if(S.flags=j,(255&S.flags)!=8){M.msg="unknown compression method",S.mode=m;break}if(57344&S.flags){M.msg="unknown header flags set",S.mode=m;break}S.head&&(S.head.text=j>>8&1),512&S.flags&&(J[0]=255&j,J[1]=j>>>8&255,S.check=o(S.check,J,2,0)),j=0,R=0,S.mode=3;case 3:for(;R<32;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}S.head&&(S.head.time=j),512&S.flags&&(J[0]=255&j,J[1]=j>>>8&255,J[2]=j>>>16&255,J[3]=j>>>24&255,S.check=o(S.check,J,4,0)),j=0,R=0,S.mode=4;case 4:for(;R<16;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}S.head&&(S.head.xflags=255&j,S.head.os=j>>8),512&S.flags&&(J[0]=255&j,J[1]=j>>>8&255,S.check=o(S.check,J,2,0)),j=0,R=0,S.mode=5;case 5:if(1024&S.flags){for(;R<16;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}S.length=j,S.head&&(S.head.extra_len=j),512&S.flags&&(J[0]=255&j,J[1]=j>>>8&255,S.check=o(S.check,J,2,0)),j=0,R=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&((V=S.length)>ae&&(V=ae),V&&(S.head&&(k=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),n.arraySet(S.head.extra,$,X,V,k)),512&S.flags&&(S.check=o(S.check,$,V,X)),ae-=V,X+=V,S.length-=V),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(ae===0)break e;V=0;do k=$[X+V++],S.head&&k&&S.length<65536&&(S.head.name+=String.fromCharCode(k));while(k&&V<ae);if(512&S.flags&&(S.check=o(S.check,$,V,X)),ae-=V,X+=V,k)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(ae===0)break e;V=0;do k=$[X+V++],S.head&&k&&S.length<65536&&(S.head.comment+=String.fromCharCode(k));while(k&&V<ae);if(512&S.flags&&(S.check=o(S.check,$,V,X)),ae-=V,X+=V,k)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;R<16;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}if(j!==(65535&S.check)){M.msg="header crc mismatch",S.mode=m;break}j=0,R=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),M.adler=S.check=0,S.mode=d;break;case 10:for(;R<32;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}M.adler=S.check=v(j),j=0,R=0,S.mode=11;case 11:if(S.havedict===0)return M.next_out=le,M.avail_out=me,M.next_in=X,M.avail_in=ae,S.hold=j,S.bits=R,2;M.adler=S.check=1,S.mode=d;case d:if(z===5||z===6)break e;case 13:if(S.last){j>>>=7&R,R-=7&R,S.mode=27;break}for(;R<3;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}switch(S.last=1&j,R-=1,3&(j>>>=1)){case 0:S.mode=14;break;case 1:if(H(S),S.mode=20,z===6){j>>>=2,R-=2;break e}break;case 2:S.mode=17;break;case 3:M.msg="invalid block type",S.mode=m}j>>>=2,R-=2;break;case 14:for(j>>>=7&R,R-=7&R;R<32;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}if((65535&j)!=(j>>>16^65535)){M.msg="invalid stored block lengths",S.mode=m;break}if(S.length=65535&j,j=0,R=0,S.mode=15,z===6)break e;case 15:S.mode=16;case 16:if(V=S.length){if(V>ae&&(V=ae),V>me&&(V=me),V===0)break e;n.arraySet(re,$,X,V,le),ae-=V,X+=V,me-=V,le+=V,S.length-=V;break}S.mode=d;break;case 17:for(;R<14;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}if(S.nlen=257+(31&j),j>>>=5,R-=5,S.ndist=1+(31&j),j>>>=5,R-=5,S.ncode=4+(15&j),j>>>=4,R-=4,S.nlen>286||S.ndist>30){M.msg="too many length or distance symbols",S.mode=m;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;R<3;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}S.lens[be[S.have++]]=7&j,j>>>=3,R-=3}for(;S.have<19;)S.lens[be[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,L={bits:S.lenbits},D=a(0,S.lens,0,19,S.lencode,0,S.work,L),S.lenbits=L.bits,D){M.msg="invalid code lengths set",S.mode=m;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ne=(Z=S.lencode[j&(1<<S.lenbits)-1])>>>16&255,se=65535&Z,!((oe=Z>>>24)<=R);){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}if(se<16)j>>>=oe,R-=oe,S.lens[S.have++]=se;else{if(se===16){for(W=oe+2;R<W;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}if(j>>>=oe,R-=oe,S.have===0){M.msg="invalid bit length repeat",S.mode=m;break}k=S.lens[S.have-1],V=3+(3&j),j>>>=2,R-=2}else if(se===17){for(W=oe+3;R<W;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}R-=oe,k=0,V=3+(7&(j>>>=oe)),j>>>=3,R-=3}else{for(W=oe+7;R<W;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}R-=oe,k=0,V=11+(127&(j>>>=oe)),j>>>=7,R-=7}if(S.have+V>S.nlen+S.ndist){M.msg="invalid bit length repeat",S.mode=m;break}for(;V--;)S.lens[S.have++]=k}}if(S.mode===m)break;if(S.lens[256]===0){M.msg="invalid code -- missing end-of-block",S.mode=m;break}if(S.lenbits=9,L={bits:S.lenbits},D=a(1,S.lens,0,S.nlen,S.lencode,0,S.work,L),S.lenbits=L.bits,D){M.msg="invalid literal/lengths set",S.mode=m;break}if(S.distbits=6,S.distcode=S.distdyn,L={bits:S.distbits},D=a(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,L),S.distbits=L.bits,D){M.msg="invalid distances set",S.mode=m;break}if(S.mode=20,z===6)break e;case 20:S.mode=21;case 21:if(ae>=6&&me>=258){M.next_out=le,M.avail_out=me,M.next_in=X,M.avail_in=ae,S.hold=j,S.bits=R,s(M,U),le=M.next_out,re=M.output,me=M.avail_out,X=M.next_in,$=M.input,ae=M.avail_in,j=S.hold,R=S.bits,S.mode===d&&(S.back=-1);break}for(S.back=0;ne=(Z=S.lencode[j&(1<<S.lenbits)-1])>>>16&255,se=65535&Z,!((oe=Z>>>24)<=R);){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}if(ne&&(240&ne)==0){for(ye=oe,xe=ne,Ie=se;ne=(Z=S.lencode[Ie+((j&(1<<ye+xe)-1)>>ye)])>>>16&255,se=65535&Z,!(ye+(oe=Z>>>24)<=R);){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}j>>>=ye,R-=ye,S.back+=ye}if(j>>>=oe,R-=oe,S.back+=oe,S.length=se,ne===0){S.mode=26;break}if(32&ne){S.back=-1,S.mode=d;break}if(64&ne){M.msg="invalid literal/length code",S.mode=m;break}S.extra=15&ne,S.mode=22;case 22:if(S.extra){for(W=S.extra;R<W;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}S.length+=j&(1<<S.extra)-1,j>>>=S.extra,R-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ne=(Z=S.distcode[j&(1<<S.distbits)-1])>>>16&255,se=65535&Z,!((oe=Z>>>24)<=R);){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}if((240&ne)==0){for(ye=oe,xe=ne,Ie=se;ne=(Z=S.distcode[Ie+((j&(1<<ye+xe)-1)>>ye)])>>>16&255,se=65535&Z,!(ye+(oe=Z>>>24)<=R);){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}j>>>=ye,R-=ye,S.back+=ye}if(j>>>=oe,R-=oe,S.back+=oe,64&ne){M.msg="invalid distance code",S.mode=m;break}S.offset=se,S.extra=15&ne,S.mode=24;case 24:if(S.extra){for(W=S.extra;R<W;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}S.offset+=j&(1<<S.extra)-1,j>>>=S.extra,R-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){M.msg="invalid distance too far back",S.mode=m;break}S.mode=25;case 25:if(me===0)break e;if(V=U-me,S.offset>V){if((V=S.offset-V)>S.whave&&S.sane){M.msg="invalid distance too far back",S.mode=m;break}V>S.wnext?(V-=S.wnext,G=S.wsize-V):G=S.wnext-V,V>S.length&&(V=S.length),ce=S.window}else ce=re,G=le-S.offset,V=S.length;V>me&&(V=me),me-=V,S.length-=V;do re[le++]=ce[G++];while(--V);S.length===0&&(S.mode=21);break;case 26:if(me===0)break e;re[le++]=S.length,me--,S.mode=21;break;case 27:if(S.wrap){for(;R<32;){if(ae===0)break e;ae--,j|=$[X++]<<R,R+=8}if(U-=me,M.total_out+=U,S.total+=U,U&&(M.adler=S.check=S.flags?o(S.check,re,U,le-U):i(S.check,re,U,le-U)),U=me,(S.flags?j:v(j))!==S.check){M.msg="incorrect data check",S.mode=m;break}j=0,R=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;R<32;){if(ae===0)break e;ae--,j+=$[X++]<<R,R+=8}if(j!==(4294967295&S.total)){M.msg="incorrect length check",S.mode=m;break}j=0,R=0}S.mode=29;case 29:D=1;break e;case m:D=-3;break e;case 31:return-4;default:return c}return M.next_out=le,M.avail_out=me,M.next_in=X,M.avail_in=ae,S.hold=j,S.bits=R,(S.wsize||U!==M.avail_out&&S.mode<m&&(S.mode<27||z!==4))&&Y(M,M.output,M.next_out,U-M.avail_out),ie-=M.avail_in,U-=M.avail_out,M.total_in+=ie,M.total_out+=U,S.total+=U,S.wrap&&U&&(M.adler=S.check=S.flags?o(S.check,re,U,M.next_out-U):i(S.check,re,U,M.next_out-U)),M.data_type=S.bits+(S.last?64:0)+(S.mode===d?128:0)+(S.mode===20||S.mode===15?256:0),(ie===0&&U===0||z===4)&&D===0&&(D=-5),D},e.inflateEnd=function(M){if(!M||!M.state)return c;var z=M.state;return z.window&&(z.window=null),M.state=null,0},e.inflateGetHeader=function(M,z){var S;return M&&M.state?(2&(S=M.state).wrap)==0?c:(S.head=z,z.done=!1,0):c},e.inflateSetDictionary=function(M,z){var S,$=z.length;return M&&M.state?(S=M.state).wrap!==0&&S.mode!==11?c:S.mode===11&&i(1,z,$,0)!==S.check?-3:Y(M,z,$,$)?(S.mode=31,-4):(S.havedict=1,0):c},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var c in a)a.hasOwnProperty(c)&&(o[c]=a[c])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var n={arraySet:function(o,s,a,c,d){if(s.subarray&&o.subarray)o.set(s.subarray(a,a+c),d);else for(var m=0;m<c;m++)o[d+m]=s[a+m]},flattenChunks:function(o){var s,a,c,d,m,v;for(c=0,s=0,a=o.length;s<a;s++)c+=o[s].length;for(v=new Uint8Array(c),d=0,s=0,a=o.length;s<a;s++)m=o[s],v.set(m,d),d+=m.length;return v}},i={arraySet:function(o,s,a,c,d){for(var m=0;m<c;m++)o[d+m]=s[a+m]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(r)},function(t,e){t.exports=function(r,n,i,o){for(var s=65535&r|0,a=r>>>16&65535|0,c=0;i!==0;){i-=c=i>2e3?2e3:i;do a=a+(s=s+n[o++]|0)|0;while(--c);s%=65521,a%=65521}return s|a<<16|0}},function(t,e){var r=function(){for(var n,i=[],o=0;o<256;o++){n=o;for(var s=0;s<8;s++)n=1&n?3988292384^n>>>1:n>>>1;i[o]=n}return i}();t.exports=function(n,i,o,s){var a=r,c=s+o;n^=-1;for(var d=s;d<c;d++)n=n>>>8^a[255&(n^i[d])];return-1^n}},function(t,e){t.exports=function(r,n){var i,o,s,a,c,d,m,v,y,w,b,A,O,I,F,K,H,Y,M,z,S,$,re,X,le;i=r.state,o=r.next_in,X=r.input,s=o+(r.avail_in-5),a=r.next_out,le=r.output,c=a-(n-r.avail_out),d=a+(r.avail_out-257),m=i.dmax,v=i.wsize,y=i.whave,w=i.wnext,b=i.window,A=i.hold,O=i.bits,I=i.lencode,F=i.distcode,K=(1<<i.lenbits)-1,H=(1<<i.distbits)-1;e:do{O<15&&(A+=X[o++]<<O,O+=8,A+=X[o++]<<O,O+=8),Y=I[A&K];t:for(;;){if(A>>>=M=Y>>>24,O-=M,(M=Y>>>16&255)==0)le[a++]=65535&Y;else{if(!(16&M)){if((64&M)==0){Y=I[(65535&Y)+(A&(1<<M)-1)];continue t}if(32&M){i.mode=12;break e}r.msg="invalid literal/length code",i.mode=30;break e}z=65535&Y,(M&=15)&&(O<M&&(A+=X[o++]<<O,O+=8),z+=A&(1<<M)-1,A>>>=M,O-=M),O<15&&(A+=X[o++]<<O,O+=8,A+=X[o++]<<O,O+=8),Y=F[A&H];r:for(;;){if(A>>>=M=Y>>>24,O-=M,!(16&(M=Y>>>16&255))){if((64&M)==0){Y=F[(65535&Y)+(A&(1<<M)-1)];continue r}r.msg="invalid distance code",i.mode=30;break e}if(S=65535&Y,O<(M&=15)&&(A+=X[o++]<<O,(O+=8)<M&&(A+=X[o++]<<O,O+=8)),(S+=A&(1<<M)-1)>m){r.msg="invalid distance too far back",i.mode=30;break e}if(A>>>=M,O-=M,S>(M=a-c)){if((M=S-M)>y&&i.sane){r.msg="invalid distance too far back",i.mode=30;break e}if($=0,re=b,w===0){if($+=v-M,M<z){z-=M;do le[a++]=b[$++];while(--M);$=a-S,re=le}}else if(w<M){if($+=v+w-M,(M-=w)<z){z-=M;do le[a++]=b[$++];while(--M);if($=0,w<z){z-=M=w;do le[a++]=b[$++];while(--M);$=a-S,re=le}}}else if($+=w-M,M<z){z-=M;do le[a++]=b[$++];while(--M);$=a-S,re=le}for(;z>2;)le[a++]=re[$++],le[a++]=re[$++],le[a++]=re[$++],z-=3;z&&(le[a++]=re[$++],z>1&&(le[a++]=re[$++]))}else{$=a-S;do le[a++]=le[$++],le[a++]=le[$++],le[a++]=le[$++],z-=3;while(z>2);z&&(le[a++]=le[$++],z>1&&(le[a++]=le[$++]))}break}}break}}while(o<s&&a<d);o-=z=O>>3,A&=(1<<(O-=z<<3))-1,r.next_in=o,r.next_out=a,r.avail_in=o<s?s-o+5:5-(o-s),r.avail_out=a<d?d-a+257:257-(a-d),i.hold=A,i.bits=O}},function(t,e,r){var n=r(33),i=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(d,m,v,y,w,b,A,O){var I,F,K,H,Y,M,z,S,$,re=O.bits,X=0,le=0,ae=0,me=0,j=0,R=0,ie=0,U=0,V=0,G=0,ce=null,oe=0,ne=new n.Buf16(16),se=new n.Buf16(16),ye=null,xe=0;for(X=0;X<=i;X++)ne[X]=0;for(le=0;le<y;le++)ne[m[v+le]]++;for(j=re,me=i;me>=1&&ne[me]===0;me--);if(j>me&&(j=me),me===0)return w[b++]=20971520,w[b++]=20971520,O.bits=1,0;for(ae=1;ae<me&&ne[ae]===0;ae++);for(j<ae&&(j=ae),U=1,X=1;X<=i;X++)if(U<<=1,(U-=ne[X])<0)return-1;if(U>0&&(d===0||me!==1))return-1;for(se[1]=0,X=1;X<i;X++)se[X+1]=se[X]+ne[X];for(le=0;le<y;le++)m[v+le]!==0&&(A[se[m[v+le]]++]=le);if(d===0?(ce=ye=A,M=19):d===1?(ce=o,oe-=257,ye=s,xe-=257,M=256):(ce=a,ye=c,M=-1),G=0,le=0,X=ae,Y=b,R=j,ie=0,K=-1,H=(V=1<<j)-1,d===1&&V>852||d===2&&V>592)return 1;for(;;){z=X-ie,A[le]<M?(S=0,$=A[le]):A[le]>M?(S=ye[xe+A[le]],$=ce[oe+A[le]]):(S=96,$=0),I=1<<X-ie,ae=F=1<<R;do w[Y+(G>>ie)+(F-=I)]=z<<24|S<<16|$|0;while(F!==0);for(I=1<<X-1;G&I;)I>>=1;if(I!==0?(G&=I-1,G+=I):G=0,le++,--ne[X]==0){if(X===me)break;X=m[v+A[le]]}if(X>j&&(G&H)!==K){for(ie===0&&(ie=j),Y+=ae,U=1<<(R=X-ie);R+ie<me&&!((U-=ne[R+ie])<=0);)R++,U<<=1;if(V+=1<<R,d===1&&V>852||d===2&&V>592)return 1;w[K=G&H]=j<<24|R<<16|Y-b|0}}return G!==0&&(w[Y+G]=X-ie<<24|64<<16|0),O.bits=j,0}},function(t,e,r){var n=r(33),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var s=new n.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function c(d,m){if(m<65537&&(d.subarray&&o||!d.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(d,m));for(var v="",y=0;y<m;y++)v+=String.fromCharCode(d[y]);return v}s[254]=s[254]=1,e.string2buf=function(d){var m,v,y,w,b,A=d.length,O=0;for(w=0;w<A;w++)(64512&(v=d.charCodeAt(w)))==55296&&w+1<A&&(64512&(y=d.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),w++),O+=v<128?1:v<2048?2:v<65536?3:4;for(m=new n.Buf8(O),b=0,w=0;b<O;w++)(64512&(v=d.charCodeAt(w)))==55296&&w+1<A&&(64512&(y=d.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),w++),v<128?m[b++]=v:v<2048?(m[b++]=192|v>>>6,m[b++]=128|63&v):v<65536?(m[b++]=224|v>>>12,m[b++]=128|v>>>6&63,m[b++]=128|63&v):(m[b++]=240|v>>>18,m[b++]=128|v>>>12&63,m[b++]=128|v>>>6&63,m[b++]=128|63&v);return m},e.buf2binstring=function(d){return c(d,d.length)},e.binstring2buf=function(d){for(var m=new n.Buf8(d.length),v=0,y=m.length;v<y;v++)m[v]=d.charCodeAt(v);return m},e.buf2string=function(d,m){var v,y,w,b,A=m||d.length,O=new Array(2*A);for(y=0,v=0;v<A;)if((w=d[v++])<128)O[y++]=w;else if((b=s[w])>4)O[y++]=65533,v+=b-1;else{for(w&=b===2?31:b===3?15:7;b>1&&v<A;)w=w<<6|63&d[v++],b--;b>1?O[y++]=65533:w<65536?O[y++]=w:(w-=65536,O[y++]=55296|w>>10&1023,O[y++]=56320|1023&w)}return c(O,y)},e.utf8border=function(d,m){var v;for((m=m||d.length)>d.length&&(m=d.length),v=m-1;v>=0&&(192&d[v])==128;)v--;return v<0||v===0?m:v+s[d[v]]>m?v:m}},function(t,e){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}])},el.exports=i_();mc=!1,Xe=el.exports.BFSRequire("fs");el.exports.BFSRequire("buffer").Buffer;B0=async(t=["data","projects","extensions","settings","plugins"],e=()=>{},r=()=>{})=>!!mc||new Promise(n=>{Xe.getRootFS(),el.exports.FileSystem.IndexedDB.Create({},(i,o)=>{if(i)throw i;if(!o)throw r(),new Error("Error creating BrowserFS");el.exports.initialize(o);let s=[];t.forEach(async a=>{s.push(z0(Xe,a))}),Promise.all(s).then(a=>{e(),mc=!0,n(!0)})})});U0=async(t,e="data",r=n=>{console.log(n)})=>new Promise(n=>{Xe.stat("/"+e+"/"+t,(i,o)=>{if(i)throw i;let s=o.size;r(s),n(s)})}),s_=async(t="",e="data",r=(n,i)=>{console.log(n,i)})=>new Promise(n=>{Xe.open("/"+e+"/"+t,"r",(i,o)=>{if(i)throw i;Xe.read(o,65535,0,"utf-8",(s,a,c)=>{if(s)throw s;if(c!==0){let d=a.toString().split(`
`)[0];Xe.close(o,()=>{r(d,t),n(d)})}else n(void 0)})})}),a_=async(t="data",e=n=>{},r)=>new Promise(n=>{Xe.readdir("/"+t,(i,o)=>{if(i)throw i;o&&(console.log("files",o),e(o)),n(o)})}),ys={},z0=async(t,e)=>new Promise(r=>{ys[e]==="exists"||ys[e]==="created"?r():t.exists(`/${e}`,n=>{n?(ys[e]="exists",console.log(`/${e} exists!`),r()):ys[e]==="creating"?(console.log(e+" is still being created."),r()):(console.log("creating "+e),ys[e]="creating",t.mkdir(e,i=>{if(i)throw i;ys[e]="created",setTimeout(r,500)}))})}),oo=Object.freeze({__proto__:null,fs:Xe,initFS:B0,exists:async(t="",e="data")=>new Promise(r=>{Xe.exists("/"+e+"/"+t,function(n){r(n)})}),readFile:async(t="sessionName",e="data")=>(mc||await B0(),new Promise(r=>{Xe.readFile("/"+e+"/"+t,function(n,i){r(i)})})),readFileChunk:o_,getFilenames:(t=r=>{},e="/data")=>new Promise(r=>{Xe.readdir(e,(n,i)=>{if(n)throw n;i?(console.log("files",i),t(i),r(i)):r(void 0)})}),writeFile:async(t,e,r="data",n=i=>{})=>new Promise(i=>{Xe.writeFile("/"+r+"/"+t,e,o=>{if(o)throw o;n(e),i(!0)})}),appendFile:async(t,e,r="data",n=i=>{})=>new Promise(i=>{Xe.appendFile("/"+r+"/"+t,e,o=>{if(o)throw o;n(e),i(!0)})}),deleteFile:(t="sessionName",e="data",r=a_)=>new Promise(n=>{t!=""?Xe.unlink("/"+e+"/"+t,i=>{i&&console.error(i),r(),n(!0)}):(console.error("Path name is not defined"),n(!1))}),readFileAsText:async(t="sessionName.csv",e="data",r="end",n=0,i=(o,s)=>{})=>new Promise(async o=>{let s=await U0(t,e);(r==="end"||typeof r=="number"&&r>s)&&(r=s),Xe.open("/"+e+"/"+t,"r",(a,c)=>{if(a)throw a;Xe.read(c,r,n,"utf-8",(d,m,v)=>{if(d)throw d;if(v!==0){let y=m.toString();Xe.close(c,()=>{i(y,t),o(y)})}else o(void 0)})})}),getFileSize:U0,getCSVHeader:s_,listFiles:a_,writeToCSVFromDB:async(t="sessionName",e="data",r=10)=>new Promise(n=>{t!=""?Xe.stat("/"+e+"/"+t,(i,o)=>{if(i)throw i;let s=o.size;console.log(s),Xe.open(e+"/"+t,"r",(a,c)=>{if(a)throw a;let d=1024*r*1024,m=d;s<d&&(m=s,Xe.read(c,m,0,"utf-8",(v,y,w)=>{if(v)throw v;w!==0&&Qa.saveCSV(y.toString(),t),Xe.close(c),n(!0)}))})}):(console.error("File name is not defined."),n(!1))}),readCSVChunkFromDB:async function(t,e="data",r=0,n="end"){let i=await s_(t);if(!i)return;i=i.split(",");let o=[],s=[],a={};i.forEach(v=>{v?(s.push(v),o.push(1)):o[o.length-1]++});let c=await U0(t,e);n==="end"?n=c:n>c&&(r=c-(n-r),n=c);let d=await o_(t,e,r,n),m=0;return d.forEach((v,y)=>{let w=v.split(",");for(;m<w.length-1;){let b=o[0];b===1?(a[s[0]].push(w[m]),m++):(a[s[0]].push(w[m].slice(m,b)),m+=b)}}),a},saveToFS:async(t,e="sessionName",r="data")=>(mc||await B0(),new Promise(async n=>{await z0(Xe,r),Xe.writeFile("/"+r+"/"+e,t,i=>{if(i)throw i;n(t)})})),dirExists:z0});eD=Object.freeze({__proto__:null,checkFolder:V0,createDriveFolder:function(t="Brainsatplay_Data"){let e=new Object;e.name=t,e.mimeType="application/vnd.google-apps.folder",window.gapi.client.drive.files.create({resource:e}).then(r=>{console.log(r.result)})},backupToDrive:(t,e="/data")=>{window.gapi.auth2.getAuthInstance().isSignedIn.get()?Xe.readFile(e+"/"+t,(r,n)=>{if(r)throw r;let i=new Blob([n.toString()],{type:"text/csv"});V0(o=>{let s={name:t+".csv",mimeType:"application/vnd.google-apps.spreadsheet",parents:[o.files[0].id]},a=window.gapi.auth.getToken().access_token;var c=new FormData;c.append("metadata",new Blob([JSON.stringify(s)],{type:"application/json"})),c.append("file",i);var d=new XMLHttpRequest;d.open("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id"),d.setRequestHeader("Authorization","Bearer "+a),d.responseType="json",d.onload=()=>{console.log("Uploaded file id: ",d.response.id),l_()},d.send(c)})}):alert("Sign in with Google first!")},listDriveFiles:l_});$0.regex=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;tD=Object.freeze({__proto__:null,dataURLtoBlob:function(t){if($0(t)){for(var e=t.split(","),r=e[0].match(/:(.*?);/)[1],n=atob(e[1]),i=n.length,o=new Uint8Array(i);i--;)o[i]=n.charCodeAt(i);return new Blob([o],{type:r})}},blobToDataURL:function(t,e){var r=new FileReader;r.onload=function(n){e(n.target.result)},r.readAsDataURL(t)},dataToBlob:async function(t,e="text/plain",r=256e3){let n={filename,data:new Blob([t],{filetype:e})};if(Object.assign(n,props),n.data.size>r){let i=n.data.size,o=0,s=0,a=[];for(;o<i;){let c,d=o+r;if(d>i&&(d=i),c=e==="text/plain"?await n.data.slice(o,d).text():await n.data.slice(o,d).arrayBuffer(),c){let m={filename,data:new Blob([c],{type:e}),chunk:s,start:o,end:d};Object.assign(m,props),a.push(m)}o+=r,s++}return a}return n}});typeof minimongo<"u"&&(c_=f_());f_=t=>{try{t=new minimongo.IndexedDb}catch{try{t=new minimongo.LocalStorageDb}catch{try{t=new minimongo.MemoryDb}catch{console.error("No DB created!")}}}return t},h_=async(t,e)=>{let r=t[e].find(),n=[];return await r.count()>0&&await Promise.all(r.map(async i=>{i.chunk!==void 0?i.chunk===0&&n.push(i.filename):n.push(i.filename)})),n},Q6=h_,u_=async(t,e,r)=>{let n,i=t[e].find({filename:r});if(await i.count()>0){let o={};await Promise.all(i.map(async a=>{let c=await a.data.text();a.chunk!==void 0?o[a.chunk]=c:o[0]=c}));let s=Object.keys(o).length;for(let a=0;a<s;a++)n+=o[a]}return n},rD=Object.freeze({__proto__:null,get db(){return c_},localDB:f_,remoteDB:(t,e,r,n,i,o)=>new minimongo.RemoteDb(e,r,n,i,o),connectDB:(t,e,r,n,i,o)=>{let s=new minimongo.RemoteDb(e,r,n,i,o);return t=new minimongo.HybridDb(t,s)},readData:async(t,e="",r={})=>{if(e)return t[e]||t.addCollection(e),await t[e].findOne(r)},writeData:async(t,e,r={},n=o=>{},i=o=>{})=>{if(e)return t[e]||t.addCollection(e),await t[e].upsert(r,n,i)},readFile:async(t,e,r="")=>{if(!t[e])return;let n,i={filename:r},o=t[e].find(i);return await o.count()>0&&(n=[],await Promise.all(o.map(async s=>{n.push(s)}))),n},readFileChunk:async(t,e,r="",n,i,o,s=d=>{},a=d=>{},c)=>{if(!t[e])return;let d={filename:r};return n&&(d.chunk=n),i&&(d.start=i),o&&(d.end=o),n||i&&o?await t[e].findOne(d,c,s,a):void 0},writeFile:async(t,e,r="",n,i=d=>{},o=d=>{},s={},a="text/plain",c=256e3)=>{let d=t[e].find({filename:r});await d.count()>0&&await Promise.all(d.map(async v=>{t[e].remove(v._id)}));let m={filename:r,data:new Blob([n],{filetype:a})};if(Object.assign(m,s),m.data.size>c){let v=m.data.size,y=0,w=0;for(;y<v;){let b,A=y+c;if(A>v&&(A=v),b=a==="text/plain"?await m.data.slice(y,A).text():await m.data.slice(y,A).arrayBuffer(),b){let O={filename:r,data:new Blob([b],{type:a}),chunk:w,start:y,end:A};Object.assign(O,s),t[e].upsert(O,i,o)}y+=c,w++}}else t[e].upsert(m,i,o)},appendFile:async(t,e,r="",n,i=d=>{},o=d=>{},s={},a="text/plain",c=256e3)=>{let d=t[e].find({filename:r}),m=await d.count(),v=0,y={filename:r,data:new Blob([n],{filetype:a})};if(Object.assign(y,s),m>0)if(await Promise.all(d.map(async w=>{v+=w.size})),y.data.size>c){let w=v,b=m;for(;w<y.data.size+v;){let A,O=w+c;if(O>v&&(O=v),A=a==="text/plain"?await y.data.slice(w,O).text():await y.data.slice(w,O).arrayBuffer(),A){let I={filename:r,data:new Blob([A],{type:a}),chunk:b,start:w,end:O,size:O-w};Object.assign(I,s),t[e].upsert(I,i,o)}w+=c,b++}}else y.chunk=m,y.start=v,y.end=v+y.data.size,t[e].upsert(y,i,o);else t[e].upsert(y,i,o)},getFilenames:h_,listFiles:Q6,getFileSize:async(t,e,r)=>{let n=t[e].find({filename:r}),i=await n.count(),o=0;return i>0&&await Promise.all(n.map(async s=>{o+=s.size})),o},deleteFile:async(t,e,r)=>await t[e].remove(r),writeToCSVFromDB:async(t,e,r)=>{let n=await u_(e,r);Qa.saveCSV(n,r)},getCSVHeader:async(t,e,r)=>{let n,i=t[e].find({filename:r});return await i.count()>0&&await Promise.all(i.map(async o=>{if(o.chunk!==void 0&&o.chunk===0){let s=await o.data.text();n=s.substring(0,s.indexOf(`
`))}})),n},readFileAsText:u_})});function e5(t="state.json",e=Xr){e.subscribe("state",r=>{oo.writeFile(t,JSON.stringify(r),"data")})}function ms(n){return ee(this,arguments,function*(t,e="state.json",r=Xr){yield oo.initFS(["data"]),yield oo.dirExists(oo.fs,"data");let i=yield new Promise(s=>{oo.fs.exists("/data/"+e,a=>{s(a)})}),o;if(i){o=yield oo.readFileAsText("state.json","data");try{let s=JSON.parse(o);typeof s=="object"&&(s.loggedInId&&s.loggedInId===(t==null?void 0:t._id)||!s.loggedInId)&&r.setState(s)}catch(s){console.error(s)}}return e5(e,r),o})}var Xr,tl=tt(()=>{M0();d_();Xr=new yc({route:"/",isLoggedIn:!1,appInitialized:!1,loggedInId:void 0,viewingId:void 0})});function t5(t,e){return e={exports:{}},t(e,e.exports),e.exports}function N_(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function s5(t){var e=N_(t),r=e[0],n=e[1];return(r+n)*3/4-n}function a5(t,e,r){return(e+r)*3/4-r}function l5(t){var e,r=N_(t),n=r[0],i=r[1],o=new o5(a5(t,n,i)),s=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=en[t.charCodeAt(c)]<<18|en[t.charCodeAt(c+1)]<<12|en[t.charCodeAt(c+2)]<<6|en[t.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=en[t.charCodeAt(c)]<<2|en[t.charCodeAt(c+1)]>>4,o[s++]=e&255),i===1&&(e=en[t.charCodeAt(c)]<<10|en[t.charCodeAt(c+1)]<<4|en[t.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function u5(t){return An[t>>18&63]+An[t>>12&63]+An[t>>6&63]+An[t&63]}function c5(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(u5(n));return i.join("")}function f5(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(c5(t,s,s+o>a?a:s+o));return n===1?(e=t[r-1],i.push(An[e>>2]+An[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(An[e>>10]+An[e>>4&63]+An[e<<2&63]+"=")),i.join("")}function X0(t,e){K0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function gc(t){return t&&t.Math==Math&&t}function A_(){return gc(typeof globalThis=="object"&&globalThis)||gc(typeof window=="object"&&window)||gc(typeof self=="object"&&self)||gc(typeof global=="object"&&global)||Function("return this")()}function p5(){var t=A_();return typeof t.navigator=="object"&&t.navigator.product==="ReactNative"}function g5(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}function Q0(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function v5(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function w5(t){return ol(t)&&Object.prototype.toString.call(t)==="[object Date]"}function ol(t){return typeof t=="object"&&t!==null}function _c(t,e){var r=!1;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r||(console.warn(e),r=!0),t.apply(this,i)}return n}function vc(t){if(ArrayBuffer.isView(t))return Ge.from(t.buffer,t.byteOffset,t.byteLength);if(g5(t))return Ge.from(t);throw new St("Must use either Buffer or TypedArray")}function S5(t){return ol(t)&&t.$id!=null&&typeof t.$ref=="string"&&(t.$db==null||typeof t.$db=="string")}function x_(t){return!isNaN(parseInt(t,10))}function D5(t){var e=Te.fromNumber(1e9),r=Te.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:r};for(var n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new Te(t.parts[n],0)),t.parts[n]=r.div(e).low,r=r.modulo(e);return{quotient:t,rem:r}}function R5(t,e){if(!t&&!e)return{high:Te.fromNumber(0),low:Te.fromNumber(0)};var r=t.shiftRightUnsigned(32),n=new Te(t.getLowBits(),0),i=e.shiftRightUnsigned(32),o=new Te(e.getLowBits(),0),s=r.multiply(i),a=r.multiply(o),c=n.multiply(i),d=n.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new Te(a.getLowBits(),0).add(c).add(d.shiftRightUnsigned(32)),s=s.add(a.shiftRightUnsigned(32)),d=a.shiftLeft(32).add(new Te(d.getLowBits(),0)),{high:s,low:d}}function F5(t,e){var r=t.high>>>0,n=e.high>>>0;if(r<n)return!0;if(r===n){var i=t.low>>>0,o=e.low>>>0;if(i<o)return!0}return!1}function vs(t,e){throw new St('"'+t+'" is not a valid Decimal128 string - '+e)}function P5(t){return t.split("").sort().join("")}function L5(t){return ol(t)&&Reflect.has(t,"_bsontype")&&typeof t._bsontype=="string"}function B_(t,e){if(e===void 0&&(e={}),typeof t=="number"){if(e.relaxed||e.legacy)return t;if(Math.floor(t)===t){if(t>=j_&&t<=P_)return new Ec(t);if(t>=M_&&t<=L_)return Te.fromNumber(t)}return new bc(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;for(var r=Object.keys(t).filter(function(v){return v.startsWith("$")&&t[v]!=null}),n=0;n<r.length;n++){var i=M5[r[n]];if(i)return i.fromExtendedJSON(t,e)}if(t.$date!=null){var o=t.$date,s=new Date;return e.legacy?typeof o=="number"?s.setTime(o):typeof o=="string"&&s.setTime(Date.parse(o)):typeof o=="string"?s.setTime(Date.parse(o)):Te.isLong(o)?s.setTime(o.toNumber()):typeof o=="number"&&e.relaxed&&s.setTime(o),s}if(t.$code!=null){var a=Object.assign({},t);return t.$scope&&(a.$scope=B_(t.$scope)),Sc.fromExtendedJSON(t)}if(S5(t)||t.$dbPointer){var c=t.$ref?t:t.$dbPointer;if(c instanceof nl)return c;var d=Object.keys(c).filter(function(v){return v.startsWith("$")}),m=!0;if(d.forEach(function(v){["$ref","$id","$db"].indexOf(v)===-1&&(m=!1)}),m)return nl.fromExtendedJSON(c)}return t}function B5(t,e){return t.map(function(r,n){e.seenObjects.push({propertyName:"index "+n,obj:null});try{return bi(r,e)}finally{e.seenObjects.pop()}})}function O_(t){var e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function bi(t,e){if((typeof t=="object"||typeof t=="function")&&t!==null){var r=e.seenObjects.findIndex(function(I){return I.obj===t});if(r!==-1){var n=e.seenObjects.map(function(I){return I.propertyName}),i=n.slice(0,r).map(function(I){return I+" -> "}).join(""),o=n[r],s=" -> "+n.slice(r+1,n.length-1).map(function(I){return I+" -> "}).join(""),a=n[n.length-1],c=" ".repeat(i.length+o.length/2),d="-".repeat(s.length+(o.length+a.length)/2-1);throw new St(`Converting circular structure to EJSON:
`+("    "+i+o+s+a+`
`)+("    "+c+"\\"+d+"/"))}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return B5(t,e);if(t===void 0)return null;if(t instanceof Date||w5(t)){var m=t.getTime(),v=m>-1&&m<2534023188e5;return e.legacy?e.relaxed&&v?{$date:t.getTime()}:{$date:O_(t)}:e.relaxed&&v?{$date:O_(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Math.floor(t)===t){var y=t>=j_&&t<=P_,w=t>=M_&&t<=L_;if(y)return{$numberInt:t.toString()};if(w)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp||v5(t)){var b=t.flags;if(b===void 0){var A=t.toString().match(/[gimuy]*$/);A&&(b=A[0])}var O=new il(t.source,b);return O.toExtendedJSON(e)}return t!=null&&typeof t=="object"?z5(t,e):t}function z5(t,e){if(t==null||typeof t!="object")throw new lo("not an object instance");var r=t._bsontype;if(typeof r>"u"){var n={};for(var i in t){e.seenObjects.push({propertyName:i,obj:null});try{n[i]=bi(t[i],e)}finally{e.seenObjects.pop()}}return n}else if(L5(t)){var o=t;if(typeof o.toExtendedJSON!="function"){var s=U5[t._bsontype];if(!s)throw new St("Unrecognized or invalid _bsontype: "+t._bsontype);o=s(o)}return r==="Code"&&o.scope?o=new Sc(o.code,bi(o.scope,e)):r==="DBRef"&&o.oid&&(o=new nl(bi(o.collection,e),bi(o.oid,e),bi(o.db,e),bi(o.fields,e))),o.toExtendedJSON(e)}else throw new lo("_bsontype must be a string, but was: "+typeof r)}var r5,n5,i5,An,en,o5,q0,so,p_,W0,h5,d5,gs,wc,Ge,K0,lo,St,y5,m5,I_,_5,D_,Z0,y_,H0,G0,R_,uo,Sc,nl,Qr,m_,b5,_s,F_,g_,v_,w_,Te,E5,x5,O5,rl,J0,__,k5,Y0,S_,b_,T5,N5,E_,A5,I5,ep,bc,Ec,tp,rp,C5,ao,ws,Sr,il,np,j5,C_,P_,j_,L_,M_,M5,U5,Ei,k_,T_,aD,lD,V5,$5,uD,cD,q5,fD,ip=tt(()=>{r5=s5,n5=l5,i5=f5,An=[],en=[],o5=typeof Uint8Array<"u"?Uint8Array:Array,q0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(so=0,p_=q0.length;so<p_;++so)An[so]=q0[so],en[q0.charCodeAt(so)]=so;en["-".charCodeAt(0)]=62;en["_".charCodeAt(0)]=63;W0={byteLength:r5,toByteArray:n5,fromByteArray:i5};h5=function(e,r,n,i,o){var s,a,c=o*8-i-1,d=(1<<c)-1,m=d>>1,v=-7,y=n?o-1:0,w=n?-1:1,b=e[r+y];for(y+=w,s=b&(1<<-v)-1,b>>=-v,v+=c;v>0;s=s*256+e[r+y],y+=w,v-=8);for(a=s&(1<<-v)-1,s>>=-v,v+=i;v>0;a=a*256+e[r+y],y+=w,v-=8);if(s===0)s=1-m;else{if(s===d)return a?NaN:(b?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-m}return(b?-1:1)*a*Math.pow(2,s-i)},d5=function(e,r,n,i,o,s){var a,c,d,m=s*8-o-1,v=(1<<m)-1,y=v>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=i?0:s-1,A=i?1:-1,O=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,a=v):(a=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+y>=1?r+=w/d:r+=w*Math.pow(2,1-y),r*d>=2&&(a++,d/=2),a+y>=v?(c=0,a=v):a+y>=1?(c=(r*d-1)*Math.pow(2,o),a=a+y):(c=r*Math.pow(2,y-1)*Math.pow(2,o),a=0));o>=8;e[n+b]=c&255,b+=A,c/=256,o-=8);for(a=a<<o|c,m+=o;m>0;e[n+b]=a&255,b+=A,a/=256,m-=8);e[n+b-A]|=O*128},gs={read:h5,write:d5},wc=t5(function(t,e){var r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=I,e.INSPECT_MAX_BYTES=50;var n=2147483647;e.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var C=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(C,E),C.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function o(C){if(C>n)throw new RangeError('The value "'+C+'" is invalid for option "size"');var E=new Uint8Array(C);return Object.setPrototypeOf(E,s.prototype),E}function s(C,E,T){if(typeof C=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(C)}return a(C,E,T)}s.poolSize=8192;function a(C,E,T){if(typeof C=="string")return v(C,E);if(ArrayBuffer.isView(C))return w(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(C));if(Z(C,ArrayBuffer)||C&&Z(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Z(C,SharedArrayBuffer)||C&&Z(C.buffer,SharedArrayBuffer)))return b(C,E,T);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var B=C.valueOf&&C.valueOf();if(B!=null&&B!==C)return s.from(B,E,T);var te=A(C);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return s.from(C[Symbol.toPrimitive]("string"),E,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(C))}s.from=function(C,E,T){return a(C,E,T)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function d(C,E,T){return c(C),C<=0?o(C):E!==void 0?typeof T=="string"?o(C).fill(E,T):o(C).fill(E):o(C)}s.alloc=function(C,E,T){return d(C,E,T)};function m(C){return c(C),o(C<0?0:O(C)|0)}s.allocUnsafe=function(C){return m(C)},s.allocUnsafeSlow=function(C){return m(C)};function v(C,E){if((typeof E!="string"||E==="")&&(E="utf8"),!s.isEncoding(E))throw new TypeError("Unknown encoding: "+E);var T=F(C,E)|0,B=o(T),te=B.write(C,E);return te!==T&&(B=B.slice(0,te)),B}function y(C){for(var E=C.length<0?0:O(C.length)|0,T=o(E),B=0;B<E;B+=1)T[B]=C[B]&255;return T}function w(C){if(Z(C,Uint8Array)){var E=new Uint8Array(C);return b(E.buffer,E.byteOffset,E.byteLength)}return y(C)}function b(C,E,T){if(E<0||C.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<E+(T||0))throw new RangeError('"length" is outside of buffer bounds');var B;return E===void 0&&T===void 0?B=new Uint8Array(C):T===void 0?B=new Uint8Array(C,E):B=new Uint8Array(C,E,T),Object.setPrototypeOf(B,s.prototype),B}function A(C){if(s.isBuffer(C)){var E=O(C.length)|0,T=o(E);return T.length===0||C.copy(T,0,0,E),T}if(C.length!==void 0)return typeof C.length!="number"||J(C.length)?o(0):y(C);if(C.type==="Buffer"&&Array.isArray(C.data))return y(C.data)}function O(C){if(C>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return C|0}function I(C){return+C!=C&&(C=0),s.alloc(+C)}s.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==s.prototype},s.compare=function(E,T){if(Z(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),Z(T,Uint8Array)&&(T=s.from(T,T.offset,T.byteLength)),!s.isBuffer(E)||!s.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===T)return 0;for(var B=E.length,te=T.length,he=0,de=Math.min(B,te);he<de;++he)if(E[he]!==T[he]){B=E[he],te=T[he];break}return B<te?-1:te<B?1:0},s.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(E,T){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return s.alloc(0);var B;if(T===void 0)for(T=0,B=0;B<E.length;++B)T+=E[B].length;var te=s.allocUnsafe(T),he=0;for(B=0;B<E.length;++B){var de=E[B];if(Z(de,Uint8Array))he+de.length>te.length?s.from(de).copy(te,he):Uint8Array.prototype.set.call(te,de,he);else if(s.isBuffer(de))de.copy(te,he);else throw new TypeError('"list" argument must be an Array of Buffers');he+=de.length}return te};function F(C,E){if(s.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||Z(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(C));var T=C.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&T===0)return 0;for(var te=!1;;)switch(E){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Ie(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return L(C).length;default:if(te)return B?-1:Ie(C).length;E=(""+E).toLowerCase(),te=!0}}s.byteLength=F;function K(C,E,T){var B=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,E>>>=0,T<=E))return"";for(C||(C="utf8");;)switch(C){case"hex":return U(this,E,T);case"utf8":case"utf-8":return ae(this,E,T);case"ascii":return R(this,E,T);case"latin1":case"binary":return ie(this,E,T);case"base64":return le(this,E,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,E,T);default:if(B)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),B=!0}}s.prototype._isBuffer=!0;function H(C,E,T){var B=C[E];C[E]=C[T],C[T]=B}s.prototype.swap16=function(){var E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<E;T+=2)H(this,T,T+1);return this},s.prototype.swap32=function(){var E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<E;T+=4)H(this,T,T+3),H(this,T+1,T+2);return this},s.prototype.swap64=function(){var E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<E;T+=8)H(this,T,T+7),H(this,T+1,T+6),H(this,T+2,T+5),H(this,T+3,T+4);return this},s.prototype.toString=function(){var E=this.length;return E===0?"":arguments.length===0?ae(this,0,E):K.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(E){if(!s.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:s.compare(this,E)===0},s.prototype.inspect=function(){var E="",T=e.INSPECT_MAX_BYTES;return E=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(E+=" ... "),"<Buffer "+E+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(E,T,B,te,he){if(Z(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),!s.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(E));if(T===void 0&&(T=0),B===void 0&&(B=E?E.length:0),te===void 0&&(te=0),he===void 0&&(he=this.length),T<0||B>E.length||te<0||he>this.length)throw new RangeError("out of range index");if(te>=he&&T>=B)return 0;if(te>=he)return-1;if(T>=B)return 1;if(T>>>=0,B>>>=0,te>>>=0,he>>>=0,this===E)return 0;for(var de=he-te,Ce=B-T,Re=Math.min(de,Ce),Ze=this.slice(te,he),Pt=E.slice(T,B),it=0;it<Re;++it)if(Ze[it]!==Pt[it]){de=Ze[it],Ce=Pt[it];break}return de<Ce?-1:Ce<de?1:0};function Y(C,E,T,B,te){if(C.length===0)return-1;if(typeof T=="string"?(B=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,J(T)&&(T=te?0:C.length-1),T<0&&(T=C.length+T),T>=C.length){if(te)return-1;T=C.length-1}else if(T<0)if(te)T=0;else return-1;if(typeof E=="string"&&(E=s.from(E,B)),s.isBuffer(E))return E.length===0?-1:M(C,E,T,B,te);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(C,E,T):Uint8Array.prototype.lastIndexOf.call(C,E,T):M(C,[E],T,B,te);throw new TypeError("val must be string, number or Buffer")}function M(C,E,T,B,te){var he=1,de=C.length,Ce=E.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(C.length<2||E.length<2)return-1;he=2,de/=2,Ce/=2,T/=2}function Re(Bs,Ci){return he===1?Bs[Ci]:Bs.readUInt16BE(Ci*he)}var Ze;if(te){var Pt=-1;for(Ze=T;Ze<de;Ze++)if(Re(C,Ze)===Re(E,Pt===-1?0:Ze-Pt)){if(Pt===-1&&(Pt=Ze),Ze-Pt+1===Ce)return Pt*he}else Pt!==-1&&(Ze-=Ze-Pt),Pt=-1}else for(T+Ce>de&&(T=de-Ce),Ze=T;Ze>=0;Ze--){for(var it=!0,Oo=0;Oo<Ce;Oo++)if(Re(C,Ze+Oo)!==Re(E,Oo)){it=!1;break}if(it)return Ze}return-1}s.prototype.includes=function(E,T,B){return this.indexOf(E,T,B)!==-1},s.prototype.indexOf=function(E,T,B){return Y(this,E,T,B,!0)},s.prototype.lastIndexOf=function(E,T,B){return Y(this,E,T,B,!1)};function z(C,E,T,B){T=Number(T)||0;var te=C.length-T;B?(B=Number(B),B>te&&(B=te)):B=te;var he=E.length;B>he/2&&(B=he/2);for(var de=0;de<B;++de){var Ce=parseInt(E.substr(de*2,2),16);if(J(Ce))return de;C[T+de]=Ce}return de}function S(C,E,T,B){return W(Ie(E,C.length-T),C,T,B)}function $(C,E,T,B){return W(k(E),C,T,B)}function re(C,E,T,B){return W(L(E),C,T,B)}function X(C,E,T,B){return W(D(E,C.length-T),C,T,B)}s.prototype.write=function(E,T,B,te){if(T===void 0)te="utf8",B=this.length,T=0;else if(B===void 0&&typeof T=="string")te=T,B=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(B)?(B=B>>>0,te===void 0&&(te="utf8")):(te=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var he=this.length-T;if((B===void 0||B>he)&&(B=he),E.length>0&&(B<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");for(var de=!1;;)switch(te){case"hex":return z(this,E,T,B);case"utf8":case"utf-8":return S(this,E,T,B);case"ascii":case"latin1":case"binary":return $(this,E,T,B);case"base64":return re(this,E,T,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,E,T,B);default:if(de)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),de=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(C,E,T){return E===0&&T===C.length?W0.fromByteArray(C):W0.fromByteArray(C.slice(E,T))}function ae(C,E,T){T=Math.min(C.length,T);for(var B=[],te=E;te<T;){var he=C[te],de=null,Ce=he>239?4:he>223?3:he>191?2:1;if(te+Ce<=T){var Re,Ze,Pt,it;switch(Ce){case 1:he<128&&(de=he);break;case 2:Re=C[te+1],(Re&192)===128&&(it=(he&31)<<6|Re&63,it>127&&(de=it));break;case 3:Re=C[te+1],Ze=C[te+2],(Re&192)===128&&(Ze&192)===128&&(it=(he&15)<<12|(Re&63)<<6|Ze&63,it>2047&&(it<55296||it>57343)&&(de=it));break;case 4:Re=C[te+1],Ze=C[te+2],Pt=C[te+3],(Re&192)===128&&(Ze&192)===128&&(Pt&192)===128&&(it=(he&15)<<18|(Re&63)<<12|(Ze&63)<<6|Pt&63,it>65535&&it<1114112&&(de=it))}}de===null?(de=65533,Ce=1):de>65535&&(de-=65536,B.push(de>>>10&1023|55296),de=56320|de&1023),B.push(de),te+=Ce}return j(B)}var me=4096;function j(C){var E=C.length;if(E<=me)return String.fromCharCode.apply(String,C);for(var T="",B=0;B<E;)T+=String.fromCharCode.apply(String,C.slice(B,B+=me));return T}function R(C,E,T){var B="";T=Math.min(C.length,T);for(var te=E;te<T;++te)B+=String.fromCharCode(C[te]&127);return B}function ie(C,E,T){var B="";T=Math.min(C.length,T);for(var te=E;te<T;++te)B+=String.fromCharCode(C[te]);return B}function U(C,E,T){var B=C.length;(!E||E<0)&&(E=0),(!T||T<0||T>B)&&(T=B);for(var te="",he=E;he<T;++he)te+=be[C[he]];return te}function V(C,E,T){for(var B=C.slice(E,T),te="",he=0;he<B.length-1;he+=2)te+=String.fromCharCode(B[he]+B[he+1]*256);return te}s.prototype.slice=function(E,T){var B=this.length;E=~~E,T=T===void 0?B:~~T,E<0?(E+=B,E<0&&(E=0)):E>B&&(E=B),T<0?(T+=B,T<0&&(T=0)):T>B&&(T=B),T<E&&(T=E);var te=this.subarray(E,T);return Object.setPrototypeOf(te,s.prototype),te};function G(C,E,T){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+E>T)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(E,T,B){E=E>>>0,T=T>>>0,B||G(E,T,this.length);for(var te=this[E],he=1,de=0;++de<T&&(he*=256);)te+=this[E+de]*he;return te},s.prototype.readUintBE=s.prototype.readUIntBE=function(E,T,B){E=E>>>0,T=T>>>0,B||G(E,T,this.length);for(var te=this[E+--T],he=1;T>0&&(he*=256);)te+=this[E+--T]*he;return te},s.prototype.readUint8=s.prototype.readUInt8=function(E,T){return E=E>>>0,T||G(E,1,this.length),this[E]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(E,T){return E=E>>>0,T||G(E,2,this.length),this[E]|this[E+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(E,T){return E=E>>>0,T||G(E,2,this.length),this[E]<<8|this[E+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(E,T){return E=E>>>0,T||G(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(E,T){return E=E>>>0,T||G(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},s.prototype.readIntLE=function(E,T,B){E=E>>>0,T=T>>>0,B||G(E,T,this.length);for(var te=this[E],he=1,de=0;++de<T&&(he*=256);)te+=this[E+de]*he;return he*=128,te>=he&&(te-=Math.pow(2,8*T)),te},s.prototype.readIntBE=function(E,T,B){E=E>>>0,T=T>>>0,B||G(E,T,this.length);for(var te=T,he=1,de=this[E+--te];te>0&&(he*=256);)de+=this[E+--te]*he;return he*=128,de>=he&&(de-=Math.pow(2,8*T)),de},s.prototype.readInt8=function(E,T){return E=E>>>0,T||G(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},s.prototype.readInt16LE=function(E,T){E=E>>>0,T||G(E,2,this.length);var B=this[E]|this[E+1]<<8;return B&32768?B|4294901760:B},s.prototype.readInt16BE=function(E,T){E=E>>>0,T||G(E,2,this.length);var B=this[E+1]|this[E]<<8;return B&32768?B|4294901760:B},s.prototype.readInt32LE=function(E,T){return E=E>>>0,T||G(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},s.prototype.readInt32BE=function(E,T){return E=E>>>0,T||G(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},s.prototype.readFloatLE=function(E,T){return E=E>>>0,T||G(E,4,this.length),gs.read(this,E,!0,23,4)},s.prototype.readFloatBE=function(E,T){return E=E>>>0,T||G(E,4,this.length),gs.read(this,E,!1,23,4)},s.prototype.readDoubleLE=function(E,T){return E=E>>>0,T||G(E,8,this.length),gs.read(this,E,!0,52,8)},s.prototype.readDoubleBE=function(E,T){return E=E>>>0,T||G(E,8,this.length),gs.read(this,E,!1,52,8)};function ce(C,E,T,B,te,he){if(!s.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>te||E<he)throw new RangeError('"value" argument is out of bounds');if(T+B>C.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(E,T,B,te){if(E=+E,T=T>>>0,B=B>>>0,!te){var he=Math.pow(2,8*B)-1;ce(this,E,T,B,he,0)}var de=1,Ce=0;for(this[T]=E&255;++Ce<B&&(de*=256);)this[T+Ce]=E/de&255;return T+B},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(E,T,B,te){if(E=+E,T=T>>>0,B=B>>>0,!te){var he=Math.pow(2,8*B)-1;ce(this,E,T,B,he,0)}var de=B-1,Ce=1;for(this[T+de]=E&255;--de>=0&&(Ce*=256);)this[T+de]=E/Ce&255;return T+B},s.prototype.writeUint8=s.prototype.writeUInt8=function(E,T,B){return E=+E,T=T>>>0,B||ce(this,E,T,1,255,0),this[T]=E&255,T+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(E,T,B){return E=+E,T=T>>>0,B||ce(this,E,T,2,65535,0),this[T]=E&255,this[T+1]=E>>>8,T+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(E,T,B){return E=+E,T=T>>>0,B||ce(this,E,T,2,65535,0),this[T]=E>>>8,this[T+1]=E&255,T+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(E,T,B){return E=+E,T=T>>>0,B||ce(this,E,T,4,4294967295,0),this[T+3]=E>>>24,this[T+2]=E>>>16,this[T+1]=E>>>8,this[T]=E&255,T+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(E,T,B){return E=+E,T=T>>>0,B||ce(this,E,T,4,4294967295,0),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4},s.prototype.writeIntLE=function(E,T,B,te){if(E=+E,T=T>>>0,!te){var he=Math.pow(2,8*B-1);ce(this,E,T,B,he-1,-he)}var de=0,Ce=1,Re=0;for(this[T]=E&255;++de<B&&(Ce*=256);)E<0&&Re===0&&this[T+de-1]!==0&&(Re=1),this[T+de]=(E/Ce>>0)-Re&255;return T+B},s.prototype.writeIntBE=function(E,T,B,te){if(E=+E,T=T>>>0,!te){var he=Math.pow(2,8*B-1);ce(this,E,T,B,he-1,-he)}var de=B-1,Ce=1,Re=0;for(this[T+de]=E&255;--de>=0&&(Ce*=256);)E<0&&Re===0&&this[T+de+1]!==0&&(Re=1),this[T+de]=(E/Ce>>0)-Re&255;return T+B},s.prototype.writeInt8=function(E,T,B){return E=+E,T=T>>>0,B||ce(this,E,T,1,127,-128),E<0&&(E=255+E+1),this[T]=E&255,T+1},s.prototype.writeInt16LE=function(E,T,B){return E=+E,T=T>>>0,B||ce(this,E,T,2,32767,-32768),this[T]=E&255,this[T+1]=E>>>8,T+2},s.prototype.writeInt16BE=function(E,T,B){return E=+E,T=T>>>0,B||ce(this,E,T,2,32767,-32768),this[T]=E>>>8,this[T+1]=E&255,T+2},s.prototype.writeInt32LE=function(E,T,B){return E=+E,T=T>>>0,B||ce(this,E,T,4,2147483647,-2147483648),this[T]=E&255,this[T+1]=E>>>8,this[T+2]=E>>>16,this[T+3]=E>>>24,T+4},s.prototype.writeInt32BE=function(E,T,B){return E=+E,T=T>>>0,B||ce(this,E,T,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4};function oe(C,E,T,B,te,he){if(T+B>C.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function ne(C,E,T,B,te){return E=+E,T=T>>>0,te||oe(C,E,T,4),gs.write(C,E,T,B,23,4),T+4}s.prototype.writeFloatLE=function(E,T,B){return ne(this,E,T,!0,B)},s.prototype.writeFloatBE=function(E,T,B){return ne(this,E,T,!1,B)};function se(C,E,T,B,te){return E=+E,T=T>>>0,te||oe(C,E,T,8),gs.write(C,E,T,B,52,8),T+8}s.prototype.writeDoubleLE=function(E,T,B){return se(this,E,T,!0,B)},s.prototype.writeDoubleBE=function(E,T,B){return se(this,E,T,!1,B)},s.prototype.copy=function(E,T,B,te){if(!s.isBuffer(E))throw new TypeError("argument should be a Buffer");if(B||(B=0),!te&&te!==0&&(te=this.length),T>=E.length&&(T=E.length),T||(T=0),te>0&&te<B&&(te=B),te===B||E.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),E.length-T<te-B&&(te=E.length-T+B);var he=te-B;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,B,te):Uint8Array.prototype.set.call(E,this.subarray(B,te),T),he},s.prototype.fill=function(E,T,B,te){if(typeof E=="string"){if(typeof T=="string"?(te=T,T=0,B=this.length):typeof B=="string"&&(te=B,B=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!s.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(E.length===1){var he=E.charCodeAt(0);(te==="utf8"&&he<128||te==="latin1")&&(E=he)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(T<0||this.length<T||this.length<B)throw new RangeError("Out of range index");if(B<=T)return this;T=T>>>0,B=B===void 0?this.length:B>>>0,E||(E=0);var de;if(typeof E=="number")for(de=T;de<B;++de)this[de]=E;else{var Ce=s.isBuffer(E)?E:s.from(E,te),Re=Ce.length;if(Re===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(de=0;de<B-T;++de)this[de+T]=Ce[de%Re]}return this};var ye=/[^+/0-9A-Za-z-_]/g;function xe(C){if(C=C.split("=")[0],C=C.trim().replace(ye,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function Ie(C,E){E=E||1/0;for(var T,B=C.length,te=null,he=[],de=0;de<B;++de){if(T=C.charCodeAt(de),T>55295&&T<57344){if(!te){if(T>56319){(E-=3)>-1&&he.push(239,191,189);continue}else if(de+1===B){(E-=3)>-1&&he.push(239,191,189);continue}te=T;continue}if(T<56320){(E-=3)>-1&&he.push(239,191,189),te=T;continue}T=(te-55296<<10|T-56320)+65536}else te&&(E-=3)>-1&&he.push(239,191,189);if(te=null,T<128){if((E-=1)<0)break;he.push(T)}else if(T<2048){if((E-=2)<0)break;he.push(T>>6|192,T&63|128)}else if(T<65536){if((E-=3)<0)break;he.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((E-=4)<0)break;he.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return he}function k(C){for(var E=[],T=0;T<C.length;++T)E.push(C.charCodeAt(T)&255);return E}function D(C,E){for(var T,B,te,he=[],de=0;de<C.length&&!((E-=2)<0);++de)T=C.charCodeAt(de),B=T>>8,te=T%256,he.push(te),he.push(B);return he}function L(C){return W0.toByteArray(xe(C))}function W(C,E,T,B){for(var te=0;te<B&&!(te+T>=E.length||te>=C.length);++te)E[te+T]=C[te];return te}function Z(C,E){return C instanceof E||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===E.name}function J(C){return C!==C}var be=function(){for(var C="0123456789abcdef",E=new Array(256),T=0;T<16;++T)for(var B=T*16,te=0;te<16;++te)E[B+te]=C[T]+C[te];return E}()}),Ge=wc.Buffer;wc.SlowBuffer;wc.INSPECT_MAX_BYTES;wc.kMaxLength;K0=function(e,r){return K0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},K0(e,r)};lo=function(t){X0(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),e}(Error),St=function(t){X0(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),e}(TypeError);y5=function(e){var r=p5()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(r);for(var n=Ge.alloc(e),i=0;i<e;++i)n[i]=Math.floor(Math.random()*256);return n},m5=function(){if(typeof window<"u"){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return function(r){return t.getRandomValues(Ge.alloc(r))}}if(typeof global<"u"&&global.crypto&&global.crypto.getRandomValues)return function(r){return global.crypto.getRandomValues(Ge.alloc(r))};var e;try{e=Ix("crypto").randomBytes}catch{}return e||y5},I_=m5();_5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,D_=function(t){return typeof t=="string"&&_5.test(t)},Z0=function(t){if(!D_(t))throw new St('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var e=t.replace(/-/g,"");return Ge.from(e,"hex")},y_=function(t,e){return e===void 0&&(e=!0),e?t.toString("hex",0,4)+"-"+t.toString("hex",4,6)+"-"+t.toString("hex",6,8)+"-"+t.toString("hex",8,10)+"-"+t.toString("hex",10,16):t.toString("hex")},H0=16,G0=Symbol("id"),R_=function(){function t(e){if(typeof e>"u")this.id=t.generate();else if(e instanceof t)this[G0]=Ge.from(e.id),this.__id=e.__id;else if(ArrayBuffer.isView(e)&&e.byteLength===H0)this.id=vc(e);else if(typeof e=="string")this.id=Z0(e);else throw new St("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).")}return Object.defineProperty(t.prototype,"id",{get:function(){return this[G0]},set:function(e){this[G0]=e,t.cacheHexString&&(this.__id=y_(e))},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(e){if(e===void 0&&(e=!0),t.cacheHexString&&this.__id)return this.__id;var r=y_(this.id,e);return t.cacheHexString&&(this.__id=r),r},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){if(!e)return!1;if(e instanceof t)return e.id.equals(this.id);try{return new t(e).id.equals(this.id)}catch{return!1}},t.prototype.toBinary=function(){return new uo(this.id,uo.SUBTYPE_UUID)},t.generate=function(){var e=I_(H0);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Ge.from(e)},t.isValid=function(e){if(!e)return!1;if(e instanceof t)return!0;if(typeof e=="string")return D_(e);if(Q0(e)){if(e.length!==H0)return!1;try{return parseInt(e[6].toString(16)[0],10)===uo.SUBTYPE_UUID}catch{return!1}}return!1},t.createFromHexString=function(e){var r=Z0(e);return new t(r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new UUID("'+this.toHexString()+'")'},t}();Object.defineProperty(R_.prototype,"_bsontype",{value:"UUID"});uo=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(e!=null&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new St("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??t.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=Ge.alloc(t.BUFFER_SIZE),this.position=0):(typeof e=="string"?this.buffer=Ge.from(e,"binary"):Array.isArray(e)?this.buffer=Ge.from(e):this.buffer=vc(e),this.position=this.buffer.byteLength)}return t.prototype.put=function(e){if(typeof e=="string"&&e.length!==1)throw new St("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new St("only accepts single character Uint8Array or Array");var r;if(typeof e=="string"?r=e.charCodeAt(0):typeof e=="number"?r=e:r=e[0],r<0||r>255)throw new St("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var n=Ge.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}},t.prototype.write=function(e,r){if(r=typeof r=="number"?r:this.position,this.buffer.length<r+e.length){var n=Ge.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(vc(e),r),this.position=r+e.byteLength>this.position?r+e.length:this.position):typeof e=="string"&&(this.buffer.write(e,r,e.length,"binary"),this.position=r+e.length>this.position?r+e.length:this.position)},t.prototype.read=function(e,r){return r=r&&r>0?r:this.position,this.buffer.slice(e,e+r)},t.prototype.value=function(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},t.prototype.length=function(){return this.position},t.prototype.toJSON=function(){return this.buffer.toString("base64")},t.prototype.toString=function(e){return this.buffer.toString(e)},t.prototype.toExtendedJSON=function(e){e=e||{};var r=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}},t.prototype.toUUID=function(){if(this.sub_type===t.SUBTYPE_UUID)return new R_(this.buffer.slice(0,this.position));throw new lo('Binary sub_type "'+this.sub_type+'" is not supported for converting to UUID. Only "'+t.SUBTYPE_UUID+'" is currently supported.')},t.fromExtendedJSON=function(e,r){r=r||{};var n,i;if("$binary"in e?r.legacy&&typeof e.$binary=="string"&&"$type"in e?(i=e.$type?parseInt(e.$type,16):0,n=Ge.from(e.$binary,"base64")):typeof e.$binary!="string"&&(i=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=Ge.from(e.$binary.base64,"base64")):"$uuid"in e&&(i=4,n=Z0(e.$uuid)),!n)throw new St("Unexpected Binary Extended JSON format "+JSON.stringify(e));return new t(n,i)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'+e.toString("hex")+'", "hex"), '+this.sub_type+")"},t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BUFFER_SIZE=256,t.SUBTYPE_DEFAULT=0,t.SUBTYPE_FUNCTION=1,t.SUBTYPE_BYTE_ARRAY=2,t.SUBTYPE_UUID_OLD=3,t.SUBTYPE_UUID=4,t.SUBTYPE_MD5=5,t.SUBTYPE_ENCRYPTED=6,t.SUBTYPE_COLUMN=7,t.SUBTYPE_USER_DEFINED=128,t}();Object.defineProperty(uo.prototype,"_bsontype",{value:"Binary"});Sc=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);this.code=e,this.scope=r}return t.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},t.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},t.fromExtendedJSON=function(e){return new t(e.$code,e.$scope)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},t}();Object.defineProperty(Sc.prototype,"_bsontype",{value:"Code"});nl=function(){function t(e,r,n,i){if(!(this instanceof t))return new t(e,r,n,i);var o=e.split(".");o.length===2&&(n=o.shift(),e=o.shift()),this.collection=e,this.oid=r,this.db=n,this.fields=i||{}}return Object.defineProperty(t.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e},t.prototype.toExtendedJSON=function(e){e=e||{};var r={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r},t.fromExtendedJSON=function(e){var r=Object.assign({},e);return delete r.$ref,delete r.$id,delete r.$db,new t(e.$ref,e.$id,e.$db,r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},t}();Object.defineProperty(nl.prototype,"_bsontype",{value:"DBRef"});Qr=void 0;try{Qr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}m_=1<<16,b5=1<<24,_s=m_*m_,F_=_s*_s,g_=F_/2,v_={},w_={},Te=function(){function t(e,r,n){if(e===void 0&&(e=0),!(this instanceof t))return new t(e,r,n);typeof e=="bigint"?Object.assign(this,t.fromBigInt(e,!!r)):typeof e=="string"?Object.assign(this,t.fromString(e,!!r)):(this.low=e|0,this.high=r|0,this.unsigned=!!n),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return t.fromBits=function(e,r,n){return new t(e,r,n)},t.fromInt=function(e,r){var n,i,o;return r?(e>>>=0,(o=0<=e&&e<256)&&(i=w_[e],i)?i:(n=t.fromBits(e,(e|0)<0?-1:0,!0),o&&(w_[e]=n),n)):(e|=0,(o=-128<=e&&e<128)&&(i=v_[e],i)?i:(n=t.fromBits(e,e<0?-1:0,!1),o&&(v_[e]=n),n))},t.fromNumber=function(e,r){if(isNaN(e))return r?t.UZERO:t.ZERO;if(r){if(e<0)return t.UZERO;if(e>=F_)return t.MAX_UNSIGNED_VALUE}else{if(e<=-g_)return t.MIN_VALUE;if(e+1>=g_)return t.MAX_VALUE}return e<0?t.fromNumber(-e,r).neg():t.fromBits(e%_s|0,e/_s|0,r)},t.fromBigInt=function(e,r){return t.fromString(e.toString(),r)},t.fromString=function(e,r,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t.ZERO;if(typeof r=="number"?(n=r,r=!1):r=!!r,n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return t.fromString(e.substring(1),r,n).neg();for(var o=t.fromNumber(Math.pow(n,8)),s=t.ZERO,a=0;a<e.length;a+=8){var c=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+c),n);if(c<8){var m=t.fromNumber(Math.pow(n,c));s=s.mul(m).add(t.fromNumber(d))}else s=s.mul(o),s=s.add(t.fromNumber(d))}return s.unsigned=r,s},t.fromBytes=function(e,r,n){return n?t.fromBytesLE(e,r):t.fromBytesBE(e,r)},t.fromBytesLE=function(e,r){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)},t.fromBytesBE=function(e,r){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)},t.isLong=function(e){return ol(e)&&e.__isLong__===!0},t.fromValue=function(e,r){return typeof e=="number"?t.fromNumber(e,r):typeof e=="string"?t.fromString(e,r):t.fromBits(e.low,e.high,typeof r=="boolean"?r:e.unsigned)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var r=this.high>>>16,n=this.high&65535,i=this.low>>>16,o=this.low&65535,s=e.high>>>16,a=e.high&65535,c=e.low>>>16,d=e.low&65535,m=0,v=0,y=0,w=0;return w+=o+d,y+=w>>>16,w&=65535,y+=i+c,v+=y>>>16,y&=65535,v+=n+a,m+=v>>>16,v&=65535,m+=r+s,m&=65535,t.fromBits(y<<16|w,m<<16|v,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.compare=function(e){if(t.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.comp=function(e){return this.compare(e)},t.prototype.divide=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(Qr){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?Qr.div_u:Qr.div_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Qr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;o=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var s=this.shr(1);return n=s.div(e).shl(1),n.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(i=this.sub(e.mul(n)),o=n.add(i.div(e)),o)}else if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=t.ZERO}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),c=a<=48?1:Math.pow(2,a-48),d=t.fromNumber(n),m=d.mul(e);m.isNegative()||m.gt(i);)n-=c,d=t.fromNumber(n,this.unsigned),m=d.mul(e);d.isZero()&&(d=t.ONE),o=o.add(d),i=i.sub(m)}return o},t.prototype.div=function(e){return this.divide(e)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.eq=function(e){return this.equals(e)},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();var e=this.high!==0?this.high:this.low,r;for(r=31;r>0&&(e&1<<r)===0;r--);return this.high!==0?r+33:r+1},t.prototype.greaterThan=function(e){return this.comp(e)>0},t.prototype.gt=function(e){return this.greaterThan(e)},t.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},t.prototype.gte=function(e){return this.greaterThanOrEqual(e)},t.prototype.ge=function(e){return this.greaterThanOrEqual(e)},t.prototype.isEven=function(){return(this.low&1)===0},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isOdd=function(){return(this.low&1)===1},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isZero=function(){return this.high===0&&this.low===0},t.prototype.lessThan=function(e){return this.comp(e)<0},t.prototype.lt=function(e){return this.lessThan(e)},t.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},t.prototype.lte=function(e){return this.lessThanOrEqual(e)},t.prototype.modulo=function(e){if(t.isLong(e)||(e=t.fromValue(e)),Qr){var r=(this.unsigned?Qr.rem_u:Qr.rem_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Qr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},t.prototype.mod=function(e){return this.modulo(e)},t.prototype.rem=function(e){return this.modulo(e)},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),Qr){var r=Qr.mul(this.low,this.high,e.low,e.high);return t.fromBits(r,Qr.get_high(),this.unsigned)}if(e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,o=this.low>>>16,s=this.low&65535,a=e.high>>>16,c=e.high&65535,d=e.low>>>16,m=e.low&65535,v=0,y=0,w=0,b=0;return b+=s*m,w+=b>>>16,b&=65535,w+=o*m,y+=w>>>16,w&=65535,w+=s*d,y+=w>>>16,w&=65535,y+=i*m,v+=y>>>16,y&=65535,y+=o*d,v+=y>>>16,y&=65535,y+=s*c,v+=y>>>16,y&=65535,v+=n*m+i*d+o*c+s*a,v&=65535,t.fromBits(w<<16|b,v<<16|y,this.unsigned)},t.prototype.mul=function(e){return this.multiply(e)},t.prototype.negate=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.neg=function(){return this.negate()},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.notEquals=function(e){return!this.equals(e)},t.prototype.neq=function(e){return this.notEquals(e)},t.prototype.ne=function(e){return this.notEquals(e)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shl=function(e){return this.shiftLeft(e)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shr=function(e){return this.shiftRight(e)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return t.fromBits(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?t.fromBits(r,0,this.unsigned):t.fromBits(r>>>e-32,0,this.unsigned)},t.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},t.prototype.shru=function(e){return this.shiftRightUnsigned(e)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())},t.prototype.sub=function(e){return this.subtract(e)},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*_s+(this.low>>>0):this.high*_s+(this.low>>>0)},t.prototype.toBigInt=function(){return BigInt(this.toString())},t.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},t.prototype.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},t.prototype.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(t.MIN_VALUE)){var r=t.fromNumber(e),n=this.div(r),i=n.mul(r).sub(this);return n.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=t.fromNumber(Math.pow(e,6),this.unsigned),s=this,a="";;){var c=s.div(o),d=s.sub(c.mul(o)).toInt()>>>0,m=d.toString(e);if(s=c,s.isZero())return m+a;for(;m.length<6;)m="0"+m;a=""+m+a}},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.eqz=function(){return this.isZero()},t.prototype.le=function(e){return this.lessThanOrEqual(e)},t.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},t.fromExtendedJSON=function(e,r){var n=t.fromString(e.$numberLong);return r&&r.relaxed?n.toNumber():n},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Long("'+this.toString()+'"'+(this.unsigned?", true":"")+")"},t.TWO_PWR_24=t.fromInt(b5),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t}();Object.defineProperty(Te.prototype,"__isLong__",{value:!0});Object.defineProperty(Te.prototype,"_bsontype",{value:"Long"});E5=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,x5=/^(\+|-)?(Infinity|inf)$/i,O5=/^(\+|-)?NaN$/i,rl=6111,J0=-6176,__=6176,k5=34,Y0=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),S_=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),b_=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),T5=/^([-+])?(\d+)?$/,N5=31,E_=16383,A5=30,I5=31;ep=function(){function t(e){if(!(this instanceof t))return new t(e);if(typeof e=="string")this.bytes=t.fromString(e).bytes;else if(Q0(e)){if(e.byteLength!==16)throw new St("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new St("Decimal128 must take a Buffer or string")}return t.fromString=function(e){var r=!1,n=!1,i=!1,o=0,s=0,a=0,c=0,d=0,m=[0],v=0,y=0,w=0,b=0,A=0,O=0,I=new Te(0,0),F=new Te(0,0),K=0,H=0;if(e.length>=7e3)throw new St(""+e+" not a valid Decimal128 string");var Y=e.match(E5),M=e.match(x5),z=e.match(O5);if(!Y&&!M&&!z||e.length===0)throw new St(""+e+" not a valid Decimal128 string");if(Y){var S=Y[2],$=Y[4],re=Y[5],X=Y[6];$&&X===void 0&&vs(e,"missing exponent power"),$&&S===void 0&&vs(e,"missing exponent base"),$===void 0&&(re||X)&&vs(e,"missing e before exponent")}if((e[H]==="+"||e[H]==="-")&&(r=e[H++]==="-"),!x_(e[H])&&e[H]!=="."){if(e[H]==="i"||e[H]==="I")return new t(Ge.from(r?S_:b_));if(e[H]==="N")return new t(Ge.from(Y0))}for(;x_(e[H])||e[H]===".";){if(e[H]==="."){n&&vs(e,"contains multiple periods"),n=!0,H=H+1;continue}v<34&&(e[H]!=="0"||i)&&(i||(d=s),i=!0,m[y++]=parseInt(e[H],10),v=v+1),i&&(a=a+1),n&&(c=c+1),s=s+1,H=H+1}if(n&&!s)throw new St(""+e+" not a valid Decimal128 string");if(e[H]==="e"||e[H]==="E"){var le=e.substr(++H).match(T5);if(!le||!le[2])return new t(Ge.from(Y0));A=parseInt(le[0],10),H=H+le[0].length}if(e[H])return new t(Ge.from(Y0));if(w=0,!v)w=0,b=0,m[0]=0,a=1,v=1,o=0;else if(b=v-1,o=a,o!==1)for(;m[d+o-1]===0;)o=o-1;for(A<=c&&c-A>1<<14?A=J0:A=A-c;A>rl;){if(b=b+1,b-w>k5){var ae=m.join("");if(ae.match(/^0+$/)){A=rl;break}vs(e,"overflow")}A=A-1}for(;A<J0||v<a;){if(b===0&&o<v){A=J0,o=0;break}if(v<a?a=a-1:b=b-1,A<rl)A=A+1;else{var ae=m.join("");if(ae.match(/^0+$/)){A=rl;break}vs(e,"overflow")}}if(b-w+1<o){var me=s;n&&(d=d+1,me=me+1),r&&(d=d+1,me=me+1);var j=parseInt(e[d+b+1],10),R=0;if(j>=5&&(R=1,j===5)){for(R=m[b]%2===1?1:0,O=d+b+2;O<me;O++)if(parseInt(e[O],10)){R=1;break}}if(R){for(var ie=b;ie>=0;ie--)if(++m[ie]>9&&(m[ie]=0,ie===0))if(A<rl)A=A+1,m[ie]=1;else return new t(Ge.from(r?S_:b_))}}if(I=Te.fromNumber(0),F=Te.fromNumber(0),o===0)I=Te.fromNumber(0),F=Te.fromNumber(0);else if(b-w<17){var ie=w;for(F=Te.fromNumber(m[ie++]),I=new Te(0,0);ie<=b;ie++)F=F.multiply(Te.fromNumber(10)),F=F.add(Te.fromNumber(m[ie]))}else{var ie=w;for(I=Te.fromNumber(m[ie++]);ie<=b-17;ie++)I=I.multiply(Te.fromNumber(10)),I=I.add(Te.fromNumber(m[ie]));for(F=Te.fromNumber(m[ie++]);ie<=b;ie++)F=F.multiply(Te.fromNumber(10)),F=F.add(Te.fromNumber(m[ie]))}var U=R5(I,Te.fromString("100000000000000000"));U.low=U.low.add(F),F5(U.low,F)&&(U.high=U.high.add(Te.fromNumber(1))),K=A+__;var V={low:Te.fromNumber(0),high:Te.fromNumber(0)};U.high.shiftRightUnsigned(49).and(Te.fromNumber(1)).equals(Te.fromNumber(1))?(V.high=V.high.or(Te.fromNumber(3).shiftLeft(61)),V.high=V.high.or(Te.fromNumber(K).and(Te.fromNumber(16383).shiftLeft(47))),V.high=V.high.or(U.high.and(Te.fromNumber(140737488355327)))):(V.high=V.high.or(Te.fromNumber(K&16383).shiftLeft(49)),V.high=V.high.or(U.high.and(Te.fromNumber(562949953421311)))),V.low=U.low,r&&(V.high=V.high.or(Te.fromString("9223372036854775808")));var G=Ge.alloc(16);return H=0,G[H++]=V.low.low&255,G[H++]=V.low.low>>8&255,G[H++]=V.low.low>>16&255,G[H++]=V.low.low>>24&255,G[H++]=V.low.high&255,G[H++]=V.low.high>>8&255,G[H++]=V.low.high>>16&255,G[H++]=V.low.high>>24&255,G[H++]=V.high.low&255,G[H++]=V.high.low>>8&255,G[H++]=V.high.low>>16&255,G[H++]=V.high.low>>24&255,G[H++]=V.high.high&255,G[H++]=V.high.high>>8&255,G[H++]=V.high.high>>16&255,G[H++]=V.high.high>>24&255,new t(G)},t.prototype.toString=function(){for(var e,r=0,n=new Array(36),i=0;i<n.length;i++)n[i]=0;var o=0,s=!1,a,c={parts:[0,0,0,0]},d,m,v=[];o=0;var y=this.bytes,w=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,b=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,A=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,O=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24;o=0;var I={low:new Te(w,b),high:new Te(A,O)};I.high.lessThan(Te.ZERO)&&v.push("-");var F=O>>26&N5;if(F>>3===3){if(F===A5)return v.join("")+"Infinity";if(F===I5)return"NaN";e=O>>15&E_,a=8+(O>>14&1)}else a=O>>14&7,e=O>>17&E_;var K=e-__;if(c.parts[0]=(O&16383)+((a&15)<<14),c.parts[1]=A,c.parts[2]=b,c.parts[3]=w,c.parts[0]===0&&c.parts[1]===0&&c.parts[2]===0&&c.parts[3]===0)s=!0;else for(m=3;m>=0;m--){var H=0,Y=D5(c);if(c=Y.quotient,H=Y.rem.low,!!H)for(d=8;d>=0;d--)n[m*9+d]=H%10,H=Math.floor(H/10)}if(s)r=1,n[o]=0;else for(r=36;!n[o];)r=r-1,o=o+1;var M=r-1+K;if(M>=34||M<=-7||K>0){if(r>34)return v.push(""+0),K>0?v.push("E+"+K):K<0&&v.push("E"+K),v.join("");v.push(""+n[o++]),r=r-1,r&&v.push(".");for(var i=0;i<r;i++)v.push(""+n[o++]);v.push("E"),M>0?v.push("+"+M):v.push(""+M)}else if(K>=0)for(var i=0;i<r;i++)v.push(""+n[o++]);else{var z=r+K;if(z>0)for(var i=0;i<z;i++)v.push(""+n[o++]);else v.push("0");for(v.push(".");z++<0;)v.push("0");for(var i=0;i<r-Math.max(z-1,0);i++)v.push(""+n[o++])}return v.join("")},t.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},t.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},t.fromExtendedJSON=function(e){return t.fromString(e.$numberDecimal)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Decimal128("'+this.toString()+'")'},t}();Object.defineProperty(ep.prototype,"_bsontype",{value:"Decimal128"});bc=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e}return t.prototype.valueOf=function(){return this.value},t.prototype.toJSON=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toExtendedJSON=function(e){if(e&&(e.legacy||e.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-"+this.value.toFixed(1)};var r;return Number.isInteger(this.value)?(r=this.value.toFixed(1),r.length>=13&&(r=this.value.toExponential(13).toUpperCase())):r=this.value.toString(),{$numberDouble:r}},t.fromExtendedJSON=function(e,r){var n=parseFloat(e.$numberDouble);return r&&r.relaxed?n:new t(n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double("+e.$numberDouble+")"},t}();Object.defineProperty(bc.prototype,"_bsontype",{value:"Double"});Ec=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e|0}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},t.fromExtendedJSON=function(e,r){return r&&r.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},t}();Object.defineProperty(Ec.prototype,"_bsontype",{value:"Int32"});tp=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$maxKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MaxKey()"},t}();Object.defineProperty(tp.prototype,"_bsontype",{value:"MaxKey"});rp=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$minKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MinKey()"},t}();Object.defineProperty(rp.prototype,"_bsontype",{value:"MinKey"});C5=new RegExp("^[0-9a-fA-F]{24}$"),ao=null,ws=Symbol("id"),Sr=function(){function t(e){if(!(this instanceof t))return new t(e);var r;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new St("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?r=Ge.from(e.toHexString(),"hex"):r=e.id}else r=e;if(r==null||typeof r=="number")this[ws]=t.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[ws]=vc(r);else if(typeof r=="string")if(r.length===12){var n=Ge.from(r);if(n.byteLength===12)this[ws]=n;else throw new St("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&C5.test(r))this[ws]=Ge.from(r,"hex");else throw new St("Argument passed in must be a string of 12 bytes or a string of 24 hex characters");else throw new St("Argument passed in does not match the accepted types");t.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(t.prototype,"id",{get:function(){return this[ws]},set:function(e){this[ws]=e,t.cacheHexString&&(this.__id=e.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(){if(t.cacheHexString&&this.__id)return this.__id;var e=this.id.toString("hex");return t.cacheHexString&&!this.__id&&(this.__id=e),e},t.getInc=function(){return t.index=(t.index+1)%16777215},t.generate=function(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));var r=t.getInc(),n=Ge.alloc(12);return n.writeUInt32BE(e,0),ao===null&&(ao=I_(5)),n[4]=ao[0],n[5]=ao[1],n[6]=ao[2],n[7]=ao[3],n[8]=ao[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){return e==null?!1:e instanceof t?this.toString()===e.toString():typeof e=="string"&&t.isValid(e)&&e.length===12&&Q0(this.id)?e===Ge.prototype.toString.call(this.id,"latin1"):typeof e=="string"&&t.isValid(e)&&e.length===24?e.toLowerCase()===this.toHexString():typeof e=="string"&&t.isValid(e)&&e.length===12?Ge.from(e).equals(this.id):typeof e=="object"&&"toHexString"in e&&typeof e.toHexString=="function"?e.toHexString()===this.toHexString():!1},t.prototype.getTimestamp=function(){var e=new Date,r=this.id.readUInt32BE(0);return e.setTime(Math.floor(r)*1e3),e},t.createPk=function(){return new t},t.createFromTime=function(e){var r=Ge.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(e,0),new t(r)},t.createFromHexString=function(e){if(typeof e>"u"||e!=null&&e.length!==24)throw new St("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new t(Ge.from(e,"hex"))},t.isValid=function(e){if(e==null)return!1;try{return new t(e),!0}catch{return!1}},t.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},t.fromExtendedJSON=function(e){return new t(e.$oid)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},t.index=Math.floor(Math.random()*16777215),t}();Object.defineProperty(Sr.prototype,"generate",{value:_c(function(t){return Sr.generate(t)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(Sr.prototype,"getInc",{value:_c(function(){return Sr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(Sr.prototype,"get_inc",{value:_c(function(){return Sr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(Sr,"get_inc",{value:_c(function(){return Sr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(Sr.prototype,"_bsontype",{value:"ObjectID"});il=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this.pattern=e,this.options=P5(r??""),this.pattern.indexOf("\0")!==-1)throw new lo("BSON Regex patterns cannot contain null bytes, found: "+JSON.stringify(this.pattern));if(this.options.indexOf("\0")!==-1)throw new lo("BSON Regex options cannot contain null bytes, found: "+JSON.stringify(this.options));for(var n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new lo("The regular expression option ["+this.options[n]+"] is not supported")}return t.parseOptions=function(e){return e?e.split("").sort().join(""):""},t.prototype.toExtendedJSON=function(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},t.fromExtendedJSON=function(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new t(e.$regex,t.parseOptions(e.$options));if("$regularExpression"in e)return new t(e.$regularExpression.pattern,t.parseOptions(e.$regularExpression.options));throw new St("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(e))},t}();Object.defineProperty(il.prototype,"_bsontype",{value:"BSONRegExp"});np=function(){function t(e){if(!(this instanceof t))return new t(e);this.value=e}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(){return{$symbol:this.value}},t.fromExtendedJSON=function(e){return new t(e.$symbol)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t}();Object.defineProperty(np.prototype,"_bsontype",{value:"Symbol"});j5=Te,C_=function(t){X0(e,t);function e(r,n){var i=this;return i instanceof e?(Te.isLong(r)?i=t.call(this,r.low,r.high,!0)||this:ol(r)&&typeof r.t<"u"&&typeof r.i<"u"?i=t.call(this,r.i,r.t,!0)||this:i=t.call(this,r,n,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new e(r,n)}return e.prototype.toJSON=function(){return{$timestamp:this.toString()}},e.fromInt=function(r){return new e(Te.fromInt(r,!0))},e.fromNumber=function(r){return new e(Te.fromNumber(r,!0))},e.fromBits=function(r,n){return new e(r,n)},e.fromString=function(r,n){return new e(Te.fromString(r,!0,n))},e.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},e.fromExtendedJSON=function(r){return new e(r.$timestamp)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Timestamp({ t: "+this.getHighBits()+", i: "+this.getLowBits()+" })"},e.MAX_VALUE=Te.MAX_UNSIGNED_VALUE,e}(j5);P_=2147483647,j_=-2147483648,L_=9223372036854776e3,M_=-9223372036854776e3,M5={$oid:Sr,$binary:uo,$uuid:uo,$symbol:np,$numberInt:Ec,$numberDecimal:ep,$numberDouble:bc,$numberLong:Te,$minKey:rp,$maxKey:tp,$regex:il,$regularExpression:il,$timestamp:C_};U5={Binary:function(t){return new uo(t.value(),t.sub_type)},Code:function(t){return new Sc(t.code,t.scope)},DBRef:function(t){return new nl(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new ep(t.bytes)},Double:function(t){return new bc(t.value)},Int32:function(t){return new Ec(t.value)},Long:function(t){return Te.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_)},MaxKey:function(){return new tp},MinKey:function(){return new rp},ObjectID:function(t){return new Sr(t)},ObjectId:function(t){return new Sr(t)},BSONRegExp:function(t){return new il(t.pattern,t.options)},Symbol:function(t){return new np(t.value)},Timestamp:function(t){return C_.fromBits(t.low,t.high)}};(function(t){function e(o,s){var a=Object.assign({},{relaxed:!0,legacy:!1},s);return typeof a.relaxed=="boolean"&&(a.strict=!a.relaxed),typeof a.strict=="boolean"&&(a.relaxed=!a.strict),JSON.parse(o,function(c,d){if(c.indexOf("\0")!==-1)throw new lo("BSON Document field names cannot contain null bytes, found: "+JSON.stringify(c));return B_(d,a)})}t.parse=e;function r(o,s,a,c){a!=null&&typeof a=="object"&&(c=a,a=0),s!=null&&typeof s=="object"&&!Array.isArray(s)&&(c=s,s=void 0,a=0);var d=Object.assign({relaxed:!0,legacy:!1},c,{seenObjects:[{propertyName:"(root)",obj:null}]}),m=bi(o,d);return JSON.stringify(m,s,a)}t.stringify=r;function n(o,s){return s=s||{},JSON.parse(r(o,s))}t.serialize=n;function i(o,s){return s=s||{},e(JSON.stringify(o),s)}t.deserialize=i})(Ei||(Ei={}));T_=A_();T_.Map?k_=T_.Map:k_=function(){function t(e){e===void 0&&(e=[]),this._keys=[],this._values={};for(var r=0;r<e.length;r++)if(e[r]!=null){var n=e[r],i=n[0],o=n[1];this._keys.push(i),this._values[i]={v:o,i:this._keys.length-1}}}return t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var r=this._values[e];return r==null?!1:(delete this._values[e],this._keys.splice(r.i,1),!0)},t.prototype.entries=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?[n,e._values[n].v]:void 0,done:n===void 0}}}},t.prototype.forEach=function(e,r){r=r||this;for(var n=0;n<this._keys.length;n++){var i=this._keys[n];e.call(r,this._values[i].v,i,r)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return this._values[e]!=null},t.prototype.keys=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?n:void 0,done:n===void 0}}}},t.prototype.set=function(e,r){return this._values[e]?(this._values[e].v=r,this):(this._keys.push(e),this._values[e]={v:r,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?e._values[n].v:void 0,done:n===void 0}}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),t}();aD=Math.pow(2,63)-1,lD=-Math.pow(2,63),V5=Math.pow(2,53),$5=-Math.pow(2,53),uD=Te.fromNumber(V5),cD=Te.fromNumber($5),q5=1024*1024*17,fD=Ge.alloc(q5)});function ek(t){return t?$_(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new K5:typeof navigator<"u"?$_(navigator.userAgent):nk()}function tk(t){return t!==""&&Q5.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]},!1)}function $_(t){var e=tk(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Y5;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<z_&&(i=U_(U_([],i,!0),ik(z_-i.length),!0)):i=[];var o=i.join("."),s=rk(t),a=X5.exec(t);return a&&a[1]?new J5(r,o,s,a[1]):new H5(r,o,s)}function rk(t){for(var e=0,r=V_.length;e<r;e++){var n=V_[e],i=n[0],o=n[1],s=o.exec(t);if(s)return i}return null}function nk(){var t=typeof process<"u"&&process.version;return t?new G5(process.version.slice(1)):null}function ik(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}function p2(t){return Ei.serialize(t,gk)}function y2(t){return Array.isArray(t)?t.map(e=>Ei.deserialize(e)):Ei.deserialize(t)}function hp(t){return Object.fromEntries(Object.entries(t).filter(e=>typeof e[1]<"u"))}function vk(t,e){let r="";for(let n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}function v2(t,e=!0){let r=hp(t);return(e&&Object.keys(r).length>0?"?":"")+Object.entries(r).map(([i,o])=>`${i}=${encodeURIComponent(o)}`).join("&")}function wk(t){let e=t[0]==="?"?t.substr(1):t;return Object.fromEntries(e.split("&").filter(r=>r.length>0).map(r=>r.split("=")).map(([r,n])=>[r,decodeURIComponent(n)]))}function Sk(t){for(let e of t)if(typeof e=="object"&&e)for(let[r,n]of Object.entries(e))n===void 0&&delete e[r];return t}function bk(t){return Sk(t).map(r=>typeof r=="object"?p2(r):r)}function Ok(){return{path:"/api/client/v2.0",app(t){return{path:this.path+`/app/${t}`,location(){return{path:this.path+"/location"}},authProvider(e){return{path:this.path+`/auth/providers/${e}`,login(){return{path:this.path+"/login"}}}},emailPasswordAuth(e){return{...this.authProvider(e),register(){return{path:this.path+"/register"}},confirm(){return{path:this.path+"/confirm"}},confirmSend(){return{path:this.path+"/confirm/send"}},confirmCall(){return{path:this.path+"/confirm/call"}},reset(){return{path:this.path+"/reset"}},resetSend(){return{path:this.path+"/reset/send"}},resetCall(){return{path:this.path+"/reset/call"}}}},functionsCall(){return{path:this.path+"/functions/call"}}}},auth(){return{path:this.path+"/auth",apiKeys(){return{path:this.path+"/api_keys",key(t){return{path:this.path+`/${t}`,enable(){return{path:this.path+"/enable"}},disable(){return{path:this.path+"/disable"}}}}}},profile(){return{path:this.path+"/profile"}},session(){return{path:this.path+"/session"}},delete(){return{path:this.path+"/delete"}}}}}}function kk(t){dp=t}function al(){if(dp)return dp;throw new Error("Cannot get environment before it's set")}function Tk(t,e,r,n){return new E2(t,e,r,n)}function Nk(t,e,r){return{collection:Tk.bind(null,t,e,r)}}function Ak(t,e="mongo-db"){return{db:Nk.bind(null,t,e)}}function Ck(t){if(typeof t!="object"||t===null)throw new Error("Expected a non-null object");if(Symbol.asyncIterator in t)return t;if("getReader"in t){let e=t;return{[Symbol.asyncIterator](){let r=e.getReader();return{next(){return r.read()},async return(){return await r.cancel(),{done:!0,value:null}}}}}}else throw new Error("Expected an AsyncIterable or a ReadableStream")}function Mk(t){return typeof globalThis.open=="function"?globalThis.open(t):(console.log(`Please open ${t}`),null)}function A2(t=globalThis.location,e=N2.defaultStorage){try{let r=t.hash.substr(1);xi.handleRedirect(r,e)}catch(r){console.warn(r)}}var U_,H5,G5,J5,Y5,K5,Z5,X5,z_,Q5,V_,hn,t2,ok,sk,ak,Es,q_,W_,lk,sl,xc,uk,Xt,H_,r2,n2,i2,yp,up,Oc,ck,fk,o2,G_,bs,J_,hk,dk,s2,a2,mp,l2,u2,pk,c2,cp,yk,f2,h2,d2,mk,Tc,gk,fp,fn,Y_,gp,rn,m2,op,sp,ap,lp,g2,_k,ul,w2,Ek,xk,co,_2,tn,S2,dp,kc,cr,b2,E2,Ik,fo,K_,pp,Zt,Z_,X_,x2,Dk,Rk,Fk,xi,Q_,O2,ll,ho,Pk,e2,k2,jk,In,T2,Ss,Lk,N2,I2=tt(()=>{ip();ip();U_=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},H5=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),G5=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),J5=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),Y5=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),K5=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Z5=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,X5=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,z_=3,Q5=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Z5]],V_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];hn=class{constructor(){if(!hn.fetch)throw new Error("DefaultNetworkTransport.fetch must be set before it's used");if(!hn.AbortController)throw new Error("DefaultNetworkTransport.AbortController must be set before it's used")}fetchWithCallbacks(e,r){this.fetch(e).then(async n=>{let i=await n.text(),o={};return n.headers.forEach((s,a)=>{o[a]=s}),{statusCode:n.status,headers:o,body:i}}).then(n=>r.onSuccess(n)).catch(n=>r.onError(n))}async fetch(e){let{timeoutMs:r,url:n,...i}=e,{signal:o,cancelTimeout:s}=this.createTimeoutSignal(r);try{return await hn.fetch(n,{...hn.extraFetchOptions,signal:o,...i})}finally{s()}}createTimeoutSignal(e){if(typeof e=="number"){let r=new hn.AbortController,n=setTimeout(()=>{r.abort()},e);return{signal:r.signal,cancelTimeout:()=>{clearTimeout(n)}}}else return{signal:void 0,cancelTimeout:()=>{}}}};hn.DEFAULT_HEADERS={"Content-Type":"application/json"};hn.fetch=globalThis.fetch.bind(globalThis);hn.AbortController=globalThis.AbortController;t2="3.7.2",ok=t2,sk=typeof atob=="function",ak=typeof btoa=="function",Es=typeof Buffer=="function",q_=typeof TextDecoder=="function"?new TextDecoder:void 0,W_=typeof TextEncoder=="function"?new TextEncoder:void 0,lk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",sl=Array.prototype.slice.call(lk),xc=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(sl),uk=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Xt=String.fromCharCode.bind(String),H_=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=r=>r)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),r2=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),n2=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),i2=t=>{let e,r,n,i,o="",s=t.length%3;for(let a=0;a<t.length;){if((r=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|i,o+=sl[e>>18&63]+sl[e>>12&63]+sl[e>>6&63]+sl[e&63]}return s?o.slice(0,s-3)+"===".substring(s):o},yp=ak?t=>btoa(t):Es?t=>Buffer.from(t,"binary").toString("base64"):i2,up=Es?t=>Buffer.from(t).toString("base64"):t=>{let r=[];for(let n=0,i=t.length;n<i;n+=4096)r.push(Xt.apply(null,t.subarray(n,n+4096)));return yp(r.join(""))},Oc=(t,e=!1)=>e?r2(up(t)):up(t),ck=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Xt(192|e>>>6)+Xt(128|e&63):Xt(224|e>>>12&15)+Xt(128|e>>>6&63)+Xt(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Xt(240|e>>>18&7)+Xt(128|e>>>12&63)+Xt(128|e>>>6&63)+Xt(128|e&63)}},fk=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,o2=t=>t.replace(fk,ck),G_=Es?t=>Buffer.from(t,"utf8").toString("base64"):W_?t=>up(W_.encode(t)):t=>yp(o2(t)),bs=(t,e=!1)=>e?r2(G_(t)):G_(t),J_=t=>bs(t,!0),hk=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,dk=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return Xt((r>>>10)+55296)+Xt((r&1023)+56320);case 3:return Xt((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Xt((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},s2=t=>t.replace(hk,dk),a2=t=>{if(t=t.replace(/\s+/g,""),!uk.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,i;for(let o=0;o<t.length;)e=xc[t.charAt(o++)]<<18|xc[t.charAt(o++)]<<12|(n=xc[t.charAt(o++)])<<6|(i=xc[t.charAt(o++)]),r+=n===64?Xt(e>>16&255):i===64?Xt(e>>16&255,e>>8&255):Xt(e>>16&255,e>>8&255,e&255);return r},mp=sk?t=>atob(n2(t)):Es?t=>Buffer.from(t,"base64").toString("binary"):a2,l2=Es?t=>H_(Buffer.from(t,"base64")):t=>H_(mp(t),e=>e.charCodeAt(0)),u2=t=>l2(c2(t)),pk=Es?t=>Buffer.from(t,"base64").toString("utf8"):q_?t=>q_.decode(l2(t)):t=>s2(mp(t)),c2=t=>n2(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),cp=t=>pk(c2(t)),yk=t=>{if(typeof t!="string")return!1;let e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},f2=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),h2=function(){let t=(e,r)=>Object.defineProperty(String.prototype,e,f2(r));t("fromBase64",function(){return cp(this)}),t("toBase64",function(e){return bs(this,e)}),t("toBase64URI",function(){return bs(this,!0)}),t("toBase64URL",function(){return bs(this,!0)}),t("toUint8Array",function(){return u2(this)})},d2=function(){let t=(e,r)=>Object.defineProperty(Uint8Array.prototype,e,f2(r));t("toBase64",function(e){return Oc(this,e)}),t("toBase64URI",function(){return Oc(this,!0)}),t("toBase64URL",function(){return Oc(this,!0)})},mk=()=>{h2(),d2()},Tc={version:t2,VERSION:ok,atob:mp,atobPolyfill:a2,btoa:yp,btoaPolyfill:i2,fromBase64:cp,toBase64:bs,encode:bs,encodeURI:J_,encodeURL:J_,utob:o2,btou:s2,decode:cp,isValid:yk,fromUint8Array:Oc,toUint8Array:u2,extendString:h2,extendUint8Array:d2,extendBuiltins:mk},gk={relaxed:!1};(function(t){t.Normal="normal",t.Server="server"})(fp||(fp={}));(function(t){t.NAME="name",t.EMAIL="email",t.PICTURE="picture",t.FIRST_NAME="first_name",t.LAST_NAME="last_name",t.GENDER="gender",t.BIRTHDAY="birthday",t.MIN_AGE="min_age",t.MAX_AGE="max_age"})(fn||(fn={}));Y_={[fn.NAME]:"name",[fn.EMAIL]:"email",[fn.PICTURE]:"pictureUrl",[fn.FIRST_NAME]:"firstName",[fn.LAST_NAME]:"lastName",[fn.GENDER]:"gender",[fn.BIRTHDAY]:"birthday",[fn.MIN_AGE]:"minAge",[fn.MAX_AGE]:"maxAge"},gp=class{constructor(e){if(this.type=fp.Normal,this.identities=[],typeof e=="object"&&e!==null){let{type:r,identities:n,data:i}=e;if(typeof r=="string")this.type=r;else throw new Error("Expected 'type' in the response body");if(Array.isArray(n))this.identities=n.map(o=>{let{id:s,provider_type:a}=o;return{id:s,providerType:a}});else throw new Error("Expected 'identities' in the response body");if(typeof i=="object"&&i!==null){let o=Object.fromEntries(Object.entries(i).map(([s,a])=>s in Y_?[Y_[s],a]:[s,a]));this.data=y2(o)}else throw new Error("Expected 'data' in the response body")}else this.data={}}},rn=class{constructor(e,r){this.storage=e,this.keyPart=r}get(e){return this.storage.get(this.keyPart+rn.PART_SEPARATOR+e)}set(e,r){return this.storage.set(this.keyPart+rn.PART_SEPARATOR+e,r)}remove(e){return this.storage.remove(this.keyPart+rn.PART_SEPARATOR+e)}prefix(e){return new rn(this,e)}clear(e=""){return this.storage.clear(this.keyPart+rn.PART_SEPARATOR+e)}addListener(e){return this.storage.addListener(e)}removeListener(e){return this.storage.addListener(e)}};rn.PART_SEPARATOR=":";m2=class{constructor(){this.storage={},this.listeners=new Set}get(e){return e in this.storage?this.storage[e]:null}set(e,r){this.storage[e]=r,this.fireListeners()}remove(e){delete this.storage[e],this.fireListeners()}prefix(e){return new rn(this,e)}clear(e){for(let r of Object.keys(this.storage))(!e||r.startsWith(e))&&delete this.storage[r];this.fireListeners()}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}fireListeners(){this.listeners.forEach(e=>e())}},op="accessToken",sp="refreshToken",ap="profile",lp="providerType",g2=class extends rn{constructor(e,r){super(e,`user(${r})`)}get accessToken(){return this.get(op)}set accessToken(e){e===null?this.remove(op):this.set(op,e)}get refreshToken(){return this.get(sp)}set refreshToken(e){e===null?this.remove(sp):this.set(sp,e)}get profile(){let e=this.get(ap);if(e){let r=new gp;return Object.assign(r,JSON.parse(e)),r}}set profile(e){e?this.set(ap,JSON.stringify(e)):this.remove(ap)}get providerType(){let e=this.get(lp);if(e)return e}set providerType(e){e?this.set(lp,e):this.remove(lp)}};_k=["inspect","callFunction","callFunctionStreaming",...Object.getOwnPropertyNames(Object.prototype)];ul=class{constructor(e,r={}){this.fetcher=e,this.serviceName=r.serviceName,this.argsTransformation=r.argsTransformation||bk}static create(e,r={}){let n=new ul(e,r);return new Proxy(n,{get(i,o,s){if(typeof o=="string"&&_k.indexOf(o)===-1)return i.callFunction.bind(i,o);{let a=Reflect.get(i,o,s);return typeof a=="function"?a.bind(i):a}}})}async callFunction(e,...r){let n={name:e,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute;return this.fetcher.fetchJSON({method:"POST",path:i.functionsCall().path,body:n})}callFunctionStreaming(e,...r){let n={name:e,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute,o=v2({baas_request:Tc.encode(JSON.stringify(n))});return this.fetcher.fetchStream({method:"GET",path:i.functionsCall().path+o})}},w2=!1,Ek=t=>{w2=t},xk=(t,e)=>{!w2||console.warn(`Deprecation warning from Realm: ${t} is deprecated and will be removed in a future major release. Consider switching to ${e}.`)},co=(t,e,r,n)=>{if(typeof t[0]!="object"){let i=n?", ...args":"";xk(`${e}(${r.join(", ")}${i})`,`${e}({ ${r.join(", ")} }${i})`);let o=r.reduce((a,c,d)=>({...a,[c]:t[d]}),{}),s=n?t.slice(r.length):void 0;return{argsObject:o,restArgs:s}}return{argsObject:t[0],restArgs:n?t.slice(1):void 0}};Ek(typeof __DEV__<"u"&&__DEV__);_2=class{constructor(e,r="local-userpass"){this.fetcher=e,this.providerName=r}async registerUser(...e){let{argsObject:r}=co(e,"registerUser",["email","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).register().path,body:r})}async confirmUser(...e){let{argsObject:r}=co(e,"confirmUser",["token","tokenId"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirm().path,body:r})}async resendConfirmationEmail(...e){let{argsObject:r}=co(e,"resendConfirmationEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmSend().path,body:r})}async retryCustomConfirmation(...e){let{argsObject:r}=co(e,"retryCustomConfirmation",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmCall().path,body:r})}async resetPassword(...e){let{argsObject:r}=co(e,"resetPassword",["token","tokenId","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).reset().path,body:r})}async sendResetPasswordEmail(...e){let{argsObject:r}=co(e,"sendResetPasswordEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).resetSend().path,body:r})}async callResetPasswordFunction(...e){let{argsObject:r,restArgs:n}=co(e,"callResetPasswordFunction",["email","password"],!0),i=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:i.emailPasswordAuth(this.providerName).resetCall().path,body:{...r,arguments:n}})}};tn={api:Ok},S2=class{constructor(e){this.fetcher=e}create(e){return this.fetcher.fetchJSON({method:"POST",body:{name:e},path:tn.api().auth().apiKeys().path,tokenType:"refresh"})}fetch(e){return this.fetcher.fetchJSON({method:"GET",path:tn.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}fetchAll(){return this.fetcher.fetchJSON({method:"GET",tokenType:"refresh",path:tn.api().auth().apiKeys().path})}async delete(e){await this.fetcher.fetchJSON({method:"DELETE",path:tn.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}async enable(e){await this.fetcher.fetchJSON({method:"PUT",path:tn.api().auth().apiKeys().key(e).enable().path,tokenType:"refresh"})}async disable(e){await this.fetcher.fetchJSON({method:"PUT",path:tn.api().auth().apiKeys().key(e).disable().path,tokenType:"refresh"})}},dp=null;kc=class extends Error{constructor({message:e,code:r}){super(e);this.name="WatchError",this.code=r}};(function(t){t.NEED_DATA="NEED_DATA",t.HAVE_EVENT="HAVE_EVENT",t.HAVE_ERROR="HAVE_ERROR"})(cr||(cr={}));b2=class{constructor(){this._state=cr.NEED_DATA,this._error=null,this._textDecoder=new(al()).TextDecoder,this._buffer="",this._bufferOffset=0,this._eventType="",this._dataBuffer=""}feedBuffer(e){this.assertState(cr.NEED_DATA),this._buffer+=this._textDecoder.decode(e,{stream:!0}),this.advanceBufferState()}feedLine(e){if(this.assertState(cr.NEED_DATA),e.endsWith(`
`)&&(e=e.substr(0,e.length-1)),e.endsWith("\r")&&(e=e.substr(0,e.length-1)),e.length===0){if(this._dataBuffer.length===0){this._eventType="";return}this._dataBuffer.endsWith(`
`)&&(this._dataBuffer=this._dataBuffer.substr(0,this._dataBuffer.length-1)),this.feedSse({data:this._dataBuffer,eventType:this._eventType}),this._dataBuffer="",this._eventType=""}if(e[0]===":")return;let r=e.indexOf(":"),n=e.substr(0,r),i=r===-1?"":e.substr(r+1);i.startsWith(" ")&&(i=i.substr(1)),n==="event"?this._eventType=i:n==="data"&&(this._dataBuffer+=i,this._dataBuffer+=`
`)}feedSse(e){this.assertState(cr.NEED_DATA);let r=e.data.indexOf("%");if(r!==-1){let n="",i=0;for(let o=r;o!==-1;o=e.data.indexOf("%",i)){n+=e.data.substr(i,o-i);let s=e.data.substr(o,3);s==="%25"?n+="%":s==="%0A"?n+=`
`:s==="%0D"?n+="\r":n+=s,i=o+s.length}n+=e.data.substr(i),e.data=n}if(!e.eventType||e.eventType==="message"){try{let n=Ei.parse(e.data);if(typeof n=="object"){this._nextEvent=n,this._state=cr.HAVE_EVENT;return}}catch{}this._state=cr.HAVE_ERROR,this._error=new kc({message:"server returned malformed event: "+e.data,code:"bad bson parse"})}else if(e.eventType==="error"){this._state=cr.HAVE_ERROR,this._error=new kc({message:e.data,code:"unknown"});try{let{error_code:n,error:i}=Ei.parse(e.data);if(typeof n!="string"||typeof i!="string")return;this._error=new kc({message:i,code:n})}catch{return}}}get state(){return this._state}nextEvent(){this.assertState(cr.HAVE_EVENT);let e=this._nextEvent;return this._state=cr.NEED_DATA,this.advanceBufferState(),e}get error(){return this._error}advanceBufferState(){for(this.assertState(cr.NEED_DATA);this.state===cr.NEED_DATA;){if(this._bufferOffset===this._buffer.length){this._buffer="",this._bufferOffset=0;return}let e=this._buffer.indexOf(`
`,this._bufferOffset);if(e===-1){this._bufferOffset!==0&&(this._buffer=this._buffer.substr(this._bufferOffset,this._buffer.length-this._bufferOffset),this._bufferOffset=0);return}this.feedLine(this._buffer.substr(this._bufferOffset,e-this._bufferOffset)),this._bufferOffset=e+1}}assertState(e){if(this._state!==e)throw Error(`Expected WatchStream to be in state ${e}, but in state ${this._state}`)}},E2=class{constructor(e,r,n,i){this.functions=ul.create(e,{serviceName:r}),this.databaseName=n,this.collectionName=i,this.serviceName=r,this.fetcher=e}find(e={},r={}){return this.functions.find({database:this.databaseName,collection:this.collectionName,query:e,project:r.projection,sort:r.sort,limit:r.limit})}findOne(e={},r={}){return this.functions.findOne({database:this.databaseName,collection:this.collectionName,query:e,project:r.projection,sort:r.sort})}findOneAndUpdate(e={},r,n={}){return this.functions.findOneAndUpdate({database:this.databaseName,collection:this.collectionName,filter:e,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndReplace(e={},r,n={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndDelete(e={},r={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,sort:r.sort,projection:r.projection})}aggregate(e){return this.functions.aggregate({database:this.databaseName,collection:this.collectionName,pipeline:e})}count(e={},r={}){return this.functions.count({database:this.databaseName,collection:this.collectionName,query:e,limit:r.limit})}insertOne(e){return this.functions.insertOne({database:this.databaseName,collection:this.collectionName,document:e})}insertMany(e){return this.functions.insertMany({database:this.databaseName,collection:this.collectionName,documents:e})}deleteOne(e={}){return this.functions.deleteOne({database:this.databaseName,collection:this.collectionName,query:e})}deleteMany(e={}){return this.functions.deleteMany({database:this.databaseName,collection:this.collectionName,query:e})}updateOne(e,r,n={}){return this.functions.updateOne({database:this.databaseName,collection:this.collectionName,query:e,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}updateMany(e,r,n={}){return this.functions.updateMany({database:this.databaseName,collection:this.collectionName,query:e,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}async*watch({ids:e,filter:r}={}){let n=await this.functions.callFunctionStreaming("watch",{database:this.databaseName,collection:this.collectionName,ids:e,filter:r}),i=new b2;for await(let o of n)if(!!o){for(i.feedBuffer(o);i.state==cr.HAVE_EVENT;)yield i.nextEvent();if(i.state==cr.HAVE_ERROR)throw i.error}}};Ik="000000000000000000000000";(function(t){t.Active="active",t.LoggedOut="logged-out",t.Removed="removed"})(fo||(fo={}));(function(t){t.Normal="normal",t.Server="server"})(K_||(K_={}));pp=class{constructor(e){if(this.app=e.app,this.id=e.id,this.storage=new g2(this.app.storage,this.id),"accessToken"in e&&"refreshToken"in e&&"providerType"in e)this._accessToken=e.accessToken,this._refreshToken=e.refreshToken,this.providerType=e.providerType,this.storage.accessToken=e.accessToken,this.storage.refreshToken=e.refreshToken,this.storage.providerType=e.providerType;else{this._accessToken=this.storage.accessToken,this._refreshToken=this.storage.refreshToken;let r=this.storage.providerType;if(this._profile=this.storage.profile,r)this.providerType=r;else throw new Error("Storage is missing a provider type")}this.fetcher=this.app.fetcher.clone({userContext:{currentUser:this}}),this.apiKeys=new S2(this.fetcher),this.functions=ul.create(this.fetcher)}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,this.storage.accessToken=e}get refreshToken(){return this._refreshToken}set refreshToken(e){this._refreshToken=e,this.storage.refreshToken=e}get state(){return this.id in this.app.allUsers?this.refreshToken===null?fo.LoggedOut:fo.Active:fo.Removed}get isLoggedIn(){return this.state===fo.Active}get customData(){if(this.accessToken)return this.decodeAccessToken().userData;throw new Error("Cannot read custom data without an access token")}get profile(){if(this._profile)return this._profile.data;throw new Error("A profile was never fetched for this user")}get identities(){if(this._profile)return this._profile.identities;throw new Error("A profile was never fetched for this user")}get deviceId(){if(this.accessToken){let e=this.accessToken.split(".")[1];if(e){let n=JSON.parse(Tc.decode(e)).baas_device_id;if(typeof n=="string"&&n!==Ik)return n}}return null}async refreshProfile(){let e=await this.fetcher.fetchJSON({method:"GET",path:tn.api().auth().profile().path});this._profile=new gp(e),this.storage.profile=this._profile}async logOut(){try{this._refreshToken!==null&&await this.fetcher.fetchJSON({method:"DELETE",path:tn.api().auth().session().path,tokenType:"refresh"})}catch(e){if(!(e instanceof Error)||!e.message.includes("failed to find refresh token"))throw e}finally{this.accessToken=null,this.refreshToken=null}}async linkCredentials(e){let r=await this.app.authenticator.authenticate(e,this);if(this.id!==r.userId){let n=`got user id ${r.userId} expected ${this.id}`;throw new Error(`Link response ment for another user (${n})`)}this.accessToken=r.accessToken,await this.refreshProfile()}async refreshAccessToken(){let e=await this.fetcher.fetchJSON({method:"POST",path:tn.api().auth().session().path,tokenType:"refresh"}),{access_token:r}=e;if(typeof r=="string")this.accessToken=r;else throw new Error("Expected an 'access_token' in the response")}async refreshCustomData(){return await this.refreshAccessToken(),this.customData}callFunction(e,...r){return this.functions.callFunction(e,...r)}toJSON(){return{id:this.id,accessToken:this.accessToken,refreshToken:this.refreshToken,profile:this._profile,state:this.state,customData:this.customData}}push(){throw new Error("Not yet implemented")}mongoClient(e){return Ak(this.fetcher,e)}decodeAccessToken(){if(this.accessToken){let e=this.accessToken.split(".");if(e.length!==3)throw new Error("Expected an access token with three parts");let r=e[1],n=Tc.decode(r),i=JSON.parse(n),{exp:o,iat:s,sub:a,user_data:c={}}=i;if(typeof o!="number")throw new Error("Failed to decode access token 'exp'");if(typeof s!="number")throw new Error("Failed to decode access token 'iat'");return{expires:o,issuedAt:s,subject:a,userData:c}}else throw new Error("Missing an access token")}},Zt=class{constructor(e,r,n){this.providerName=e,this.providerType=r,this.payload=n}static anonymous(){return new Zt("anon-user","anon-user",{})}static userApiKey(e){return new Zt("api-key","api-key",{key:e})}static serverApiKey(e){return new Zt("api-key","api-key",{key:e})}static apiKey(e){return new Zt("api-key","api-key",{key:e})}static emailPassword(e,r){return new Zt("local-userpass","local-userpass",{username:e,password:r})}static function(e){return new Zt("custom-function","custom-function",e)}static jwt(e){return new Zt("custom-token","custom-token",{token:e})}static google(e){return new Zt("oauth2-google","oauth2-google",Zt.derivePayload(e))}static derivePayload(e){if(typeof e=="string"){if(e.includes("://"))return this.derivePayload({redirectUrl:e});if(e.startsWith("4/"))return this.derivePayload({authCode:e});if(e.startsWith("ey"))return this.derivePayload({idToken:e});throw new Error(`Unexpected payload: ${e}`)}else if(Object.keys(e).length===1){if("authCode"in e||"redirectUrl"in e)return e;if("idToken"in e)return{id_token:e.idToken};throw new Error("Unexpected payload: "+JSON.stringify(e))}else throw new Error("Expected only one property in payload, got "+JSON.stringify(e))}static facebook(e){return new Zt("oauth2-facebook","oauth2-facebook",e.includes("://")?{redirectUrl:e}:{accessToken:e})}static apple(e){return new Zt("oauth2-apple","oauth2-apple",e.includes("://")?{redirectUrl:e}:{id_token:e})}},Z_="userIds",X_="deviceId",x2=class extends rn{constructor(e,r){super(e,`app(${r})`)}getUserIds(){let e=this.get(Z_),r=e?JSON.parse(e):[];if(Array.isArray(r))return[...new Set(r)];throw new Error("Expected the user ids to be an array")}setUserIds(e,r){if(r){let n=this.getUserIds();for(let i of n)e.indexOf(i)===-1&&e.push(i)}this.set(Z_,JSON.stringify(e))}removeUserId(e){let n=this.getUserIds().filter(i=>i!==e);this.setUserIds(n,!1)}getDeviceId(){return this.get(X_)}setDeviceId(e){this.set(X_,e)}},Dk="abcdefghijklmnopqrstuvwxyz",Rk=100,Fk={_stitch_client_app_id:"appId",_baas_client_app_id:"appId",_stitch_ua:"userAuth",_baas_ua:"userAuth",_stitch_link:"link",_baas_link:"link",_stitch_error:"error",_baas_error:"error",_stitch_state:"state",_baas_state:"state"},xi=class{constructor(e,r=al().openWindow){this.storage=e.prefix("oauth2"),this.openWindow=r}static parseRedirectLocation(e){let r=wk(e),n={};for(let[i,o]of Object.entries(Fk)){let s=r[i];s&&(n[o]=s)}return n}static handleRedirect(e,r=al().defaultStorage){let n=xi.parseRedirectLocation(e),{state:i,error:o}=n;if(typeof i=="string"){let s=r.prefix("oauth2");xi.getStateStorage(s,i).set("result",JSON.stringify(n))}else throw o?new Error(`Failed to handle OAuth 2.0 redirect: ${o}`):new Error("Failed to handle OAuth 2.0 redirect.")}static decodeAuthInfo(e){let r=(e||"").split("$");if(r.length===4){let[n,i,o,s]=r;return{accessToken:n,refreshToken:i,userId:o,deviceId:s}}else throw new Error("Failed to decode 'authInfo' into ids and tokens")}static getStateStorage(e,r){return e.prefix(`state(${r})`)}openWindowAndWaitForRedirect(e,r){let n=xi.getStateStorage(this.storage,r);return new Promise((i,o)=>{let s=null,a,c=()=>{let d=n.get("result");if(d){let m=JSON.parse(d);n.removeListener(c),n.clear();try{s&&(clearInterval(a),s.close())}catch(v){console.warn(`Failed closing redirect window: ${v}`)}finally{i(m)}}};n.addListener(c),s=this.openWindow(e),a=setInterval(()=>{if(!s)clearInterval(a);else if(s.closed){clearInterval(a),n.removeListener(c);let d=new Error("Window closed");o(d)}},Rk)})}generateState(){return vk(12,Dk)}},Q_="x-baas-location",O2=class{constructor(e,r,n){this.fetcher=e,this.oauth2=new xi(r),this.getDeviceInformation=n}async authenticate(e,r){let n=this.getDeviceInformation(),i=typeof r=="object";if(e.providerType.startsWith("oauth2")&&typeof e.payload.redirectUrl=="string"){let o=this.oauth2.generateState(),s=await this.getLogInUrl(e,i,{state:o,redirect:e.payload.redirectUrl,providerRedirectHeader:i?!0:void 0,device:i?void 0:n.encode()});if(i){let c=(await this.fetcher.fetch({method:"GET",url:s,tokenType:i?"access":"none",user:r,mode:"cors",credentials:"include"})).headers.get(Q_);if(c)return this.openWindowAndWaitForAuthResponse(c,o);throw new Error(`Missing ${Q_} header`)}else return this.openWindowAndWaitForAuthResponse(s,o)}else{let o=await this.getLogInUrl(e,i),s=await this.fetcher.fetchJSON({method:"POST",url:o,body:{...e.payload,options:{device:n.toJSON()}},tokenType:i?"access":"none",user:r}),{user_id:a,access_token:c,refresh_token:d=null,device_id:m}=s;if(typeof a!="string")throw new Error("Expected a user id in the response");if(typeof c!="string")throw new Error("Expected an access token in the response");if(typeof d!="string"&&d!==null)throw new Error("Expected refresh token to be a string or null");if(typeof m!="string")throw new Error("Expected device id to be a string");return{userId:a,accessToken:c,refreshToken:d,deviceId:m}}}async getLogInUrl(e,r=!1,n={}){let o=this.fetcher.appRoute.authProvider(e.providerName).login(),s=v2({link:r?"true":void 0,...n});return await this.fetcher.locationUrl+o.path+s}async openWindowAndWaitForAuthResponse(e,r){let n=await this.oauth2.openWindowAndWaitForRedirect(e,r);return xi.decodeAuthInfo(n.userAuth)}},ll=class extends Error{constructor(e,r,n,i,o,s,a){let c=i?`status ${n} ${i}`:`status ${n}`;typeof o=="string"?super(`Request failed (${e} ${r}): ${o} (${c})`):super(`Request failed (${e} ${r}): (${c})`),this.method=e,this.url=r,this.statusText=i,this.statusCode=n,this.error=o,this.errorCode=s,this.link=a}static async fromRequestAndResponse(e,r){var n;let{url:i,method:o}=e,{status:s,statusText:a}=r;if((n=r.headers.get("content-type"))===null||n===void 0?void 0:n.startsWith("application/json")){let c=await r.json();if(typeof c=="object"&&c){let{error:d,error_code:m,link:v}=c;return new ll(o,i,s,a,typeof d=="string"?d:void 0,typeof m=="string"?m:void 0,typeof v=="string"?v:void 0)}}return new ll(o,i,s,a)}};ho=class{constructor({appId:e,transport:r,userContext:n,locationUrlContext:i}){this.appId=e,this.transport=r,this.userContext=n,this.locationUrlContext=i}static buildAuthorizationHeader(e,r){if(!e||r==="none")return{};if(r==="access")return{Authorization:`Bearer ${e.accessToken}`};if(r==="refresh")return{Authorization:`Bearer ${e.refreshToken}`};throw new Error(`Unexpected token type (${r})`)}static buildBody(e){if(e){if(typeof e=="object"&&e!==null)return JSON.stringify(p2(e));if(typeof e=="string")return e;throw console.log("body is",e),new Error("Unexpected type of body")}else return}static buildJsonHeader(e){return e&&e.length>0?{"Content-Type":"application/json"}:{}}clone(e){return new ho({appId:this.appId,transport:this.transport,userContext:this.userContext,locationUrlContext:this.locationUrlContext,...e})}async fetch(e){let{path:r,url:n,tokenType:i="access",user:o=this.userContext.currentUser,...s}=e;if(typeof r=="string"&&typeof n=="string")throw new Error("Use of 'url' and 'path' mutually exclusive");if(typeof r=="string"){let a=await this.locationUrlContext.locationUrl+r;return this.fetch({...e,path:void 0,url:a})}else if(typeof n=="string"){let a=await this.transport.fetch({...s,url:n,headers:{...ho.buildAuthorizationHeader(o,i),...e.headers}});if(a.ok)return a;if(o&&a.status===401&&i==="access")return await o.refreshAccessToken(),this.fetch({...e,user:o});throw o&&a.status===401&&i==="refresh"&&(o.accessToken=null,o.refreshToken=null),await ll.fromRequestAndResponse(e,a)}else throw new Error("Expected either 'url' or 'path'")}async fetchJSON(e){let{body:r}=e,n=ho.buildBody(r),i=ho.buildJsonHeader(n),o=await this.fetch({...e,body:n,headers:{Accept:"application/json",...i,...e.headers}}),s=o.headers.get("content-type");if(s==null?void 0:s.startsWith("application/json")){let a=await o.json();return y2(a)}else{if(s===null)return null;throw new Error(`Expected JSON response, got "${s}"`)}}async fetchStream(e){let{body:r}=await this.fetch({...e,headers:{Accept:"text/event-stream",...e.headers}});return Ck(r)}get appRoute(){return tn.api().app(this.appId)}get locationUrl(){return this.locationUrlContext.locationUrl}},Pk="deviceId";(function(t){t.DEVICE_ID="deviceId",t.APP_ID="appId",t.APP_VERSION="appVersion",t.PLATFORM="platform",t.PLATFORM_VERSION="platformVersion",t.SDK_VERSION="sdkVersion"})(e2||(e2={}));k2=class{constructor({appId:e,appVersion:r,deviceId:n}){this.sdkVersion="1.7.0";let i=al();this.platform=i.platform,this.platformVersion=i.platformVersion,this.appId=e,this.appVersion=r,this.deviceId=n}encode(){let e=hp(this);return Tc.encode(JSON.stringify(e))}toJSON(){return hp(this)}},jk="https://realm.mongodb.com",In=class{constructor(e){this.users=[],this._locationUrl=null;let r=typeof e=="string"?{id:e}:e;if(typeof r=="object"&&typeof r.id=="string")this.id=r.id;else throw new Error("Missing a MongoDB Realm app-id");this.baseUrl=r.baseUrl||jk,r.skipLocationRequest&&(this._locationUrl=Promise.resolve(this.baseUrl)),this.localApp=r.app;let{storage:n,transport:i=new hn}=r;this.fetcher=new ho({appId:this.id,userContext:this,locationUrlContext:this,transport:i}),this.emailPasswordAuth=new _2(this.fetcher);let o=n||al().defaultStorage;this.storage=new x2(o,this.id),this.authenticator=new O2(this.fetcher,o,()=>this.deviceInformation);try{this.hydrate()}catch(s){this.storage.clear(),console.warn("Realm app hydration failed:",s instanceof Error?s.message:s)}}static getApp(e){if(e in In.appCache)return In.appCache[e];{let r=new In(e);return In.appCache[e]=r,r}}switchUser(e){let r=this.users.findIndex(i=>i===e);if(r===-1)throw new Error("The user was never logged into this app");let[n]=this.users.splice(r,1);this.users.unshift(n)}async logIn(e,r=!0){let n=await this.authenticator.authenticate(e),i=this.createOrUpdateUser(n,e.providerType);this.switchUser(i),r&&await i.refreshProfile(),this.storage.setUserIds(this.users.map(s=>s.id),!0);let o=n.deviceId;return o&&o!=="000000000000000000000000"&&this.storage.set(Pk,o),i}async removeUser(e){let r=this.users.findIndex(n=>n===e);if(r===-1)throw new Error("The user was never logged into this app");this.users.splice(r,1),await e.logOut(),this.storage.remove(`user(${e.id}):profile`),this.storage.removeUserId(e.id)}async deleteUser(e){await this.fetcher.fetchJSON({method:"DELETE",path:tn.api().auth().delete().path}),await this.removeUser(e)}get currentUser(){let e=this.users.filter(r=>r.state===fo.Active);return e.length===0?null:e[0]}get allUsers(){return Object.fromEntries(this.users.map(e=>[e.id,e]))}get locationUrl(){if(!this._locationUrl){let e=tn.api().app(this.id).location().path;this._locationUrl=this.fetcher.fetchJSON({method:"GET",url:this.baseUrl+e,tokenType:"none"}).then(r=>{if(typeof r!="object")throw new Error("Expected response body be an object");return r}).then(({hostname:r})=>{if(typeof r!="string")throw new Error("Expected response to contain a 'hostname'");return r}).catch(r=>{throw this._locationUrl=null,r})}return this._locationUrl}get deviceInformation(){let e=this.storage.getDeviceId(),r=typeof e=="string"&&e!=="000000000000000000000000"?new Sr(e):void 0;return new k2({appId:this.localApp?this.localApp.name:void 0,appVersion:this.localApp?this.localApp.version:void 0,deviceId:r})}createOrUpdateUser(e,r){let n=this.users.find(i=>i.id===e.userId);if(n)return n.accessToken=e.accessToken,n.refreshToken=e.refreshToken,n;{if(!e.refreshToken)throw new Error("No refresh token in response from server");let i=new pp({app:this,id:e.userId,accessToken:e.accessToken,refreshToken:e.refreshToken,providerType:r});return this.users.unshift(i),i}}hydrate(){let e=this.storage.getUserIds();this.users=e.map(r=>new pp({app:this,id:r}))}};In.appCache={};In.Credentials=Zt;T2=class{constructor(){if(typeof globalThis.localStorage=="object")this.global=globalThis;else throw new Error("Cannot use LocalStorage without a global localStorage object")}get(e){return this.global.localStorage.getItem(e)}set(e,r){return this.global.localStorage.setItem(e,r)}remove(e){return this.global.localStorage.removeItem(e)}prefix(e){return new rn(this,e)}clear(e){let r=[];for(let n=0;n<this.global.localStorage.length;n++){let i=this.global.localStorage.key(n);i&&(!e||i.startsWith(e))&&r.push(i)}for(let n of r)this.global.localStorage.removeItem(n)}addListener(e){return this.global.addEventListener("storage",e)}removeListener(e){return this.global.removeEventListener("storage",e)}},Ss=ek(),Lk="localStorage"in globalThis?T2:m2;N2={defaultStorage:new Lk().prefix("realm-web"),openWindow:Mk,platform:(Ss==null?void 0:Ss.name)||"web",platformVersion:(Ss==null?void 0:Ss.version)||"0.0.0",TextDecoder};kk(N2)});function zt(t="struct",e={},r={_id:""},n={structType:"struct",_id:""}){function i(s=""){return`${s+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}let o={_id:i(t+"defaultId"),structType:t,ownerId:r?._id,timestamp:Date.now(),parent:{structType:n?.structType,_id:n?._id}};return o.ownerId||delete o.ownerId,o?.parent?._id||delete o.parent,Object.keys(e).length>0&&Object.assign(o,e),o}function Nc(t,e={}){if(!po[t.tag]&&t.position&&(po[t.tag]=[t.position.x,t.position.y,t.position.z]),po[t.tag]){let r={channel:"",position:{x:po[t.tag][0],y:po[t.tag][1],z:po[t.tag][2]}};return Object.assign(e,r)}else return Object.assign(e,t)}function Uk(t=[],e=!0){let r=[];for(let n of t){let i=Oi(n);r.push(i)}return e&&r.push(...wp({channelDicts:t})),r}function Ac(t=[],e={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return t.forEach(n=>r[n]=[]),Object.assign(e,r)}function Oi(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Ac(),o={tag:t,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=zt("eeg",o,r,n);return t&&Nc(o,s),Object.assign(s,e)}function vp(t={0:Oi("FP1"),1:Oi("FP2")},e={},r={_id:""},n={structType:"struct",_id:""}){let i=Ac(),o={tag:t[0]?.tag+"::"+t[1]?.tag,x0:t[0]?.position?.x,y0:t[0]?.position?.y,z0:t[0]?.position?.z,x1:t[1]?.position?.x,y1:t[1]?.position?.y,z1:t[1]?.position?.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=zt("coherence",o,r,n);return Object.assign(s,e)}function wp(t={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},e={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,a=0;a<t.channelDicts.length*(t.channelDicts.length+1)/2-t.channelDicts.length;a++){if(t.taggedOnly===!1||t.taggedOnly===!0&&t.channelDicts[s].tag!==null&&t.channelDicts[s+o].tag!==null&&t.channelDicts[s].tag!=="other"&&t.channelDicts[s+o].tag!=="other"&&t.channelDicts[s].analyze===!0&&t.channelDicts[s+o].analyze===!0){var c=Oi(t.channelDicts[s].tag),d=Oi(t.channelDicts[s+o].tag);i.push(vp({0:c,1:d},{},r,n))}o++,o+s===t.channelDicts.length&&(s++,o=1)}return i}function _p(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=zt("fnirs",i,r,n);return t&&Nc(i,o),Object.assign(o,e)}function F2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=zt("imu",i,r,n);return t&&Nc(i,o),Object.assign(o,e)}function C2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},o=zt("eyetracker",i,r,n);return Object.assign(o,e)}function Sp(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},o=zt("ecg",i,r,n);return Object.assign(o,e)}function P2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){}function j2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=_p(t,r,n,e);return i.structType="ppg",i}function L2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Sp(t,r,n,e);return i.structType="hrv",i}function M2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Oi(t,r,n,e);return i.structType="emg",i}function B2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=zt("profile",{tag:t,name:"",username:"",firstName:"",lastName:"",email:"",phone:"",sex:"",birthday:"",type:"",userRoles:{},socials:{},data:{},id:""},r,n);return Object.assign(i,e)}function U2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=zt("authorization",{tag:t,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:{},structs:{},excluded:{},groups:{},status:"PENDING",expires:!1,associatedAuthId:""},r,n);return Object.assign(i,e)}function z2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=zt("group",{tag:t,name:"",details:"",admins:{},peers:{},clients:{},users:{}},r,n);return Object.assign(i,e)}function V2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",expires:!1,type:"",data:new Array},o=zt("dataInstance",i,r,n);return Object.assign(o,e)}function $2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:{}},o=zt("event",i,r,n);return Object.assign(o,e)}function q2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:{},audioChatActive:!1,videoChatActive:!1},o=zt("chatroom",i,r,n);return Object.assign(o,e)}function W2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:{},attachments:new Array},o=zt("comment",i,r,n);return Object.assign(o,e)}function H2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=zt("notification",{tag:t,note:"",parentUserId:""},r,n);return Object.assign(i,e)}function G2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",attachments:new Array,dates:new Array},o=zt("schedule",i,r,n);return Object.assign(o,e)}function J2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},o=zt("date",i,r,n);return Object.assign(o,e)}function Zk(t=[],e={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return t.forEach((n,i)=>{for(let o in e)r[o]||(r[o]=[[],[]]),n>=e[o][0]&&n<=e[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r}function eT(t,e,r){let n=(e-t)/r,i=[],o=0;for(;o<e;)i.push(o),o+=n;return i}var D2,Bk,R2,Je,qn,po,zk,Vk,yo,Le,$k,qk,Wk,Hk,Gk,Jk,Yk,Kk,Xk,Qk,Y2,K2=tt(()=>{D2=Object.defineProperty,Bk=(t,e,r)=>e in t?D2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,R2=(t,e)=>{for(var r in e)D2(t,r,{get:e[r],enumerable:!0})},Je=(t,e,r)=>(Bk(t,typeof e!="symbol"?e+"":e,r),r),qn={};R2(qn,{AuthorizationStruct:()=>U2,ChatroomStruct:()=>q2,CoherenceMap:()=>wp,CoherenceStruct:()=>vp,CommentStruct:()=>W2,DataStruct:()=>V2,DateStruct:()=>J2,ECGStruct:()=>Sp,EDAStruct:()=>P2,EEGCoordinates:()=>Uk,EEGStruct:()=>Oi,EMGStruct:()=>M2,EventStruct:()=>$2,EyeTrackerStruct:()=>C2,FNIRSStruct:()=>_p,FrequencyBandsStruct:()=>Ac,GroupStruct:()=>z2,HRVStruct:()=>L2,IMUStruct:()=>F2,NotificationStruct:()=>H2,PPGStruct:()=>j2,ProfileStruct:()=>B2,ScheduleStruct:()=>G2,Struct:()=>zt,eegCoordinates:()=>po,setCoordinate:()=>Nc,structRegistry:()=>zk});po={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};zk={Struct:zt,EEGStruct:Oi,FNIRSStruct:_p,CoherenceStruct:vp,CoherenceMap:wp,FrequencyBandsStruct:Ac,IMUStruct:F2,EyeTrackerStruct:C2,ECGStruct:Sp,EDAStruct:P2,PPGStruct:j2,HRVStruct:L2,EMGStruct:M2,ProfileStruct:B2,AuthorizationStruct:U2,GroupStruct:z2,DataStruct:V2,EventStruct:$2,ChatroomStruct:q2,CommentStruct:W2,NotificationStruct:H2,ScheduleStruct:G2,DateStruct:J2},Vk={};R2(Vk,{bandpassWindow:()=>eT,get40HzGamma:()=>Jk,getAlphaBetaRatio:()=>Hk,getAlphaRatio:()=>qk,getAlphaThetaRatio:()=>Gk,getCoherenceScore:()=>$k,getHEGRatioScore:()=>Kk,getLowGammaScore:()=>Yk,getThetaBetaRatio:()=>Wk,mapCoherenceData:()=>Qk,mapFFTData:()=>Xk,splitFrequencyBands:()=>Zk});yo=class{constructor(){}static genSineWave(t=20,e=1,r=1,n=512,i=0,o=1){for(var s=[],a=[],c=1/n,d=0;d<r;d+=c){var m=Math.sin(2*Math.PI*t*d)*e;m+=Math.sin(2*Math.PI*i*d)*o,s.push(m),a.push(d)}return[a,s]}static getSineAmplitude(t=20,e=1,r=0,n=0){return Math.sin(this.TWO_PI*t*r+n)*e}static mean(t){var e=t.reduce((r,n)=>n+=r);return e/t.length}static mode(t){return t.sort((e,r)=>t.filter(n=>n===e).length-t.filter(n=>n===r).length).pop()}static std(t,e=void 0){let r=e;e||(r=this.mean(t));let n=0;for(let i=0;i<t.length;i++){let o=t[i]-r;n+=o*o}return Math.sqrt(n/t.length)}static relError(t=[],e=[],r=!0){if(t.length!==e.length)throw new Error("Input arrays of same length!");let n=t.length,i=[];for(let o=0;o<n;o++){let s=(t[o]-e[o])/t[o];r&&(s=Math.abs(s)),i.push(s)}return i}static informationEntropy(t=[]){let e=[],r=t.length;for(let n=0;n<r;n++){let i=t[n]*Math.log(t[n]);isNaN(i)&&(i=0),e.push(i)}return e}static zscore(t){let e=this.mean(t),r=this.std(t,e),n=[];for(let i=0;i<t.length;i++)n.push((t[i]-e)/r);return n}static variance(t){var e=this.mean(t);return t.reduce((r,n)=>r+(n-e)**2,0)/t.length}static dot(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}static cross3D(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}static magnitude(t){var e=0;return t.forEach(r=>{e+=r*r}),Math.sqrt(e)}static distance(t,e){var r=0;return t.forEach((n,i)=>{r+=(e[i]-n)*(e[i]-n)}),Math.sqrt(r)}static normalize(t){var e=0;e=this.magnitude(t);var r=[];return t.forEach((n,i)=>{r.push(n*e)}),r}static quadraticFormula(t,e,r){let n=Math.sqrt(e*e-4*t*r);if(!isNaN(n))return["complex","complex"];let i=1/(2*t);if(n===0)return[e*i];let o=-e;return[(o+n)*i,(o-n)*i]}static newtonsMethod(t=o=>Math.pow(o,5)+o*o-o-.2,e=0,r=1,n=.01,i=10){let o=[];for(let s=0;s<i;s++){let a=Math.random()*(r-e),c=t(a),d=t(a+n),m=(d-c)/n,v=a+n;for(;Math.abs(m)>n;){let b=-c/O,A=v+b;c=d,d=t(A);let O=(d-c)/(A-v)}let y,w=o.find((b,A)=>{if(Math.abs(xn1-b)<n)return y=A,!0});w?o[y]=(xn1+w)*.5:o.push(xn1)}return o}static makeVec(t,e){var r=[];return t.forEach((n,i)=>{r.push(e[i]-n)}),r}static transpose(t){return t[0].map((e,r)=>t.map(n=>n[r]))}static matmul(t,e){for(var r=t.length,n=t[0].length,i=e.length,o=e[0].length,s=new Array(r),a=0;a<r;++a){s[a]=new Array(o);for(var c=0;c<o;++c){s[a][c]=0;for(var d=0;d<n;++d)s[a][c]+=t[a][d]*e[d][c]}}return s}static matscale(t,e){let r=[];for(var n=0;n<t.length;n++){r[n]=[];for(let i=0;i<t[0].length;i++)r[n][i]=t[n][i]*e}return r}static matadd(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]+e[i][n]}return r}static matsub(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]-e[i][n]}return r}static histogram(t=[],e=1,r=void 0){let n=[...t];n.sort(function(c,d){return c-d});let i=Math.min(...n);if(typeof r=="number"){let c=Math.max(...n);e=Math.abs((c-i)/(r-1))}let o=i,s=[],a=[];for(let c=0;c<n.length;c++){let d=e*o;if(n[c]>i+d){o++,d+=e;let m=i+d+d*.5;s.push(m),a.push(0)}a[a.length-1]++}return[s,a]}static normalDistribution(t=[],e=!0,r=1e-4){let n=this.mean(t),i=this.variance(t),o=t.length,s=[],a=1/(this.TWO_PI*i),c=1/i,d=0;for(let m=0;m<o;m++){let v=Math.exp(-.5*Math.pow((t[m]-n)*c,2))*a;v<r&&(v=0),s.push(v),d+=v}if(e){let m=1/d;s=s.map(v=>v*m)}return s}static expectedValue(t=[],e=this.normalDistribution(t)){return t.reduce((r,n,i)=>r+n*e[i])}static originMoment(t=[],e=this.normalDistribution(t),r=1){return t.reduce((n,i,o)=>n+Math.pow(i,r)*e[o])}static centralMoment(t=[],e=this.normalDistribution(t),r=1){let n=this.mean(t);return t.reduce((i,o,s)=>i+Math.pow(o-n,r)*e[s]/t.length)}static linearDiscriminantAnalysis(t=[],e=[]){let r=this.mean(t),n=this.mean(e),i=this.cov1d(t,e),o=this.normalDistribution(t),s=[];for(let a=0;a<t.length;a++)s.push(x[a]*i*n-.5*r*i*n+Math.log10(o[a]));return s}static conv1D(t=[],e=[1/3,1/3,1/3],r=Math.floor(e.length*.5)){let n=[],i=1/e.length;if(r>0){let a=new Array(r).fill(0);t=[...a,...t,...a]}let o=Math.floor(e.length*.5),s=t.length-e.length+o;for(let a=o;a<s;a++){let c=0;for(let d=0;d<e.length;d++)c+=t[a-o]*e[d];n.push(c*i)}return n}static conv2D(t=[[],[],[]],e=[[],[],[]],r=0){let n=new Array(t.length-Math.ceil(e.length*.5)).fill([]),i,o=yo.transpose(o);if(r>0){let A=new Array(r).fill(0);i=yo.transpose(t);for(let O=0;O<i.length;O++)i[O]=[...A,...i[O],...A];t=yo.transpose(i);for(let O=0;O<t.length;O++)t[O]=[...A,...t[O],...A]}let s=Math.floor(e[0].length*.5),a=Math.floor(o[0].length*.5),c=t[0].length-e[0].length+s,d=i[0].length-o[0].length+a,m=1/(e[0].length*o[0].length),v=c*d,y=s,w,b=a;for(;y<v;){let A=0;w=y%t[0].length,w===0&&b++;for(let O=0;O<e[0].length;O++){for(let I=0;I<o[0].length;O++)A+=t[b-a+I][w-s+O]*e[I][O];n[b].push(A*m)}y++}return n}static cov2d(t){var e=this.transpose(t),r=[],n=[],i=[];t.forEach((b,A)=>{n.push(this.mean(b))}),e.forEach((b,A)=>{i.push(this.mean(b))}),t.forEach((b,A)=>{r.push([]);for(var O=0;O<b.length;O++)r[A].push((t[A][O]-n[A])*(t[A][O]-i[O])/(b.length-1))});for(var o=this.transpose(r),s=r.length,a=r[0].length,c=o.length,d=o[0].length,m=new Array(s),v=0;v<s;++v){m[v]=new Array(d);for(var y=0;y<d;++y){m[v][y]=0;for(var w=0;w<a;++w)m[v][y]+=r[v][w]*o[w][y]/(t[0].length-1)}}return m}static cov1d(t=[],e=[]){return this.cov2d([t,e])}static cov3d(t=[],e=[],r=[]){return[[this.cov1d(t,t),this.cov1d(t,e),this.cov1d(t,r)],[this.cov1d(e,t),this.cov1d(e,e),this.cov1d(e,r)],[this.cov1d(r,t),this.cov1d(r,e),this.cov1d(r,r)]]}static covNd(t=[]){let e=[];t.forEach((r,n)=>{e.push([]),t.forEach((i,o)=>{e[n].push(this.cov1d(r,i))})})}static eigens2x2(t=[[1,2],[3,4]]){let e=t[0][0]*t[1][1]-t[0][1]*t[1][0],r=(t[0][0]+t[1][1])*.5,n=Math.sqrt(r*r-e),i=r+n,o=r-n;return[i,o]}static eigenvectors2x2(t=[[1,2],[3,4]],e=[1,2]){let r=[-t[0][1],t[0][0]-e[0]];r[0]===0&&r[1]===0&&(r[0]=t[1][1]-e[0],r[1]=-t[1][0]);let n=[-t[0][1],t[0][0]-e[1]];return n[0]===0&&n[1]===0&&(n[0]=t[1][1]-e[1],n[1]=-t[1][0]),[r,n]}static fastpca2d(t,e){let r=this.cov1d(t,e),n=this.eigens2x2(r);n[1]>n[0]&&n.reverse();let i=this.eigenvectors2x2(r,n);return console.log(n,i),[n,i]}static crosscorrelation(t,e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(t),i=this.mean(e),o=t.reduce((v,y)=>v+=Math.pow(y-n,2));o=Math.sqrt(o);var s=e.reduce((v,y)=>v+=Math.pow(y-n,2));s=Math.sqrt(s);for(var a=1/(o*s),c=new Array(t.length).fill(0),d=0;d<t.length;d++){var m=t.reduce((v,y,w)=>v+=(y-n)*(r[d+w]-i));c[d]=m*a}return c}static autocorrelation(t){var e=[...t,...Array(t.length).fill(0)],r=this.mean(t),n=t.reduce((c,d)=>c+=Math.pow(d-r,2));n=Math.sqrt(n);for(var i=1/(n*n),o=new Array(t.length).fill(0),s=0;s<t.length;s++){var a=t.reduce((c,d,m)=>c+=(d-r)*(e[s+m]-r));o[s]=a*i}return o}static correlograms(t=[[],[]]){var e=[];return t.forEach((r,n)=>{t.forEach((i,o)=>{o>=n&&e.push(yo.crosscorrelation(r,i))})}),e}static sma(t=[],e){for(var r=[],n=0;n<t.length;n++)if(n==0)r.push(t[0]);else if(n<e){var i=t.slice(0,n+1);r.push(i.reduce((o,s)=>s+=o)/(n+1))}else{var i=t.slice(n-e,n);r.push(i.reduce((s,a)=>a+=s)/e)}return r}static sum(t=[]){if(t.length>0){var e=t.reduce((r,n)=>n+=r);return e}else return 0}static reduceArrByFactor(t,e=2){return t.filter((r,n)=>n%e===0)}static makeArr(t,e,r){for(var n=[],i=(e-t)/(r-1),o=0;o<r;o++)n.push(t+i*o);return n}static interpolateArray(t,e,r=1){var n=function(v,y,w){return(v+(y-v)*w)*r},i=new Array,o=new Number((t.length-1)/(e-1));i[0]=t[0];for(var s=1;s<e-1;s++){var a=s*o,c=new Number(Math.floor(a)).toFixed(),d=new Number(Math.ceil(a)).toFixed(),m=a-c;i[s]=n(t[c],t[d],m)}return i[e-1]=t[t.length-1],i}static isExtrema(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}else if(e==="valley"){if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}else if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}}return n}else return}static isCriticalPoint(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}else if(e==="valley"){if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}else if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}}return n}else return}static getPeakThreshold(t,e,r){let n,i=t.filter((o,s)=>{if(e.indexOf(s)>-1)return!0});return r===0?n=this.mean(i):n=(r+this.mean(i))*.5,n}static column(t,e){let r=new Array(t.length).fill(0).map(()=>new Array(1).fill(0));for(let n=0;n<t.length;n++)r[n][0]=t[n][e];return r}static flatten_vector(t){let e=[];for(let r=0;r<t.length;r++)e[r]=t[r][0];return e}static squared_difference(t,e){let r=0;for(let n=0;n<t.length;n++)r=r+Math.pow(t[n]-e[n],2);return r}static shift_deflate(t,e,r){let n=Math.sqrt(this.matmul(this.transpose(r),r)),i=this.matscale(r,1/n),o=this.matscale(this.matmul(i,this.transpose(i)),e);return this.matsub(t,o)}static eigenvalue_of_vector(t,e){return ev=this.matmul(this.matmul(this.transpose(e),t),e),ev}static power_iteration(t,e=1e-5,r=1e3){let n=t.length,i=new Array(n).fill(0).map(()=>new Array(1).fill(Math.sqrt(n))),o=this.eigenvalue_of_vector(t,i),s=1,a=0;for(;s>e&&a<r;){let c=JSON.parse(JSON.stringify(o)),d=this.matmul(t,i);i=this.normalize(d),o=this.eigenvalue_of_vector(t,i),s=Math.abs(o-c),a++}return[o,i]}static eigens(t,e=1e-4,r=1e3){let n=[],i=[];for(let o=0;o<t.length;o++){let s=this.power_iteration(t,e,r),a=s[0],c=s[1];n[o]=a,i[o]=this.flatten_vector(c),t=this.shift_deflate(t,a,c)}return[n,i]}static pca(t,e=1e-5){let r=t.length,n=new Array(r),i=new Array(r),o=this.transpose(t);n[0]=this.column(t,0);let s=1,a=0;for(;espilon>e;){a++,i[0]=this.matmul(o,n[0]);let c=this.matmul(this.transpose(n[0]),n[0]);i[0]=this.matscale(i[0],1/c);let d=Math.sqrt(this.matmul(this.transpose(i[0]),i[0]));i[0]=this.matscale(i[0],1/d);let m=this.matmul(t,i[0]),v=this.matmul(this.transpose(i[0]),i[0]);m=this.matscale(m,1/v),s=this.squared_difference(n[0],m),n[0]=JSON.parse(JSON.stringify(m))}return this.matmul(this.transpose(n[0]),n[0])}static p300(t=[],e=[],r=[],n=256){let i=Math.floor(n/10),o=this.sma(e,i),s=this.peakDetect(o,"peak",i),a=this.mean(o),c=this.std(o,a),d=0,m=[];return s.length>0&&t.forEach((v,y)=>{for(;r[s[d]]<v+200&&(d++,!!s[d]););let w=0,b=[];for(;r[s[d+w]]<v+600&&(b.push(d+w),w++,!!s[d+w]););if(b.length>1){let A=[];b.forEach(F=>{A.push(o[s[F]])});let O=Math.max(...A),I=b[A.indexOf(O)];m.push({event_timestamp:v,event_index:y,peak_timestamp:r[[s[I]]],signal_index:[s[I]],signal_amplitude:e[[s[I]]],zscore:(o[s[I]]-a)/c})}else b.length===1&&m.push({event_timestamp:v,event_index:y,peak_timestamp:r[s[b[0]]],signal_index:s[b[0]],signal_amplitude:e[[s[b[0]]]],zscore:(o[s[b[0]]]-a)/c})}),m}},Le=yo;Je(Le,"TWO_PI",Math.PI*2),Je(Le,"C",299792458),Je(Le,"G",66743e-15),Je(Le,"h",662607015e-42),Je(Le,"R",8314.32),Je(Le,"Ra",287),Je(Le,"H",69.3),Je(Le,"kbar",1054571817e-43),Je(Le,"kB",1380649e-29),Je(Le,"ke",89875517923e-1),Je(Le,"me",91093837015e-41),Je(Le,"mp",167262192369e-38),Je(Le,"mn",167492749804e-38),Je(Le,"P0",101325),Je(Le,"T0",288.15),Je(Le,"p0",1.225),Je(Le,"Na",60220978e16),Je(Le,"y",1.405),Je(Le,"M0",28.96643),Je(Le,"g0",9.80665),Je(Le,"Re",6378100),Je(Le,"B",1458e-9),Je(Le,"S",110.4),Je(Le,"Sigma",365e-12),Je(Le,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),Je(Le,"integral",(t=n=>n,e=[],r=.01)=>{let n=0;for(let i=e[0];i<e[1];i+=r)n+=t(i)*r;return n}),Je(Le,"dintegral",(t=(i,o)=>i+o,e=[[],[]],r=.01,n=r)=>{let i=0;for(let o=e[0][0]+r;o<e[0][1];o+=r)for(let s=e[1][0]+n;s<e[1][1];s+=n)i+=t(o,s)*r*n;return i}),Je(Le,"tintegral",(t=(o,s,a)=>o+s+a,e=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=e[0][0]+r;s<e[0][1];s+=r)for(let a=e[1][0]+n;a<e[1][1];a+=n)for(let c=e[2][0]+i;c<e[2][1];c+=i)o+=t(s,a,c)*r*n*i;return o}),Je(Le,"pintegral",(t=n=>n,e=[],r=.01)=>{let n=0,i,o;for(let s=e[0];s<e[1];s+=r)i=o,o=t(s),i&&(n+=yo.distance([0,i],[r,o]));return n}),Je(Le,"peakDetect",(t,e="peak",r=49)=>{let n=Math.floor(r*.5),i=[];for(let o=0;o<t.length-r;o++)yo.isExtrema(t.slice(o,o+r),e)&&i.push(o+n-1);return i});$k=(t,e="alpha1")=>{let r=[];return Array.isArray(t)||(t=[t]),t.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[e].slice(i-o);r.push(Le.mean(s))}}),Le.mean(r)},qk=t=>t.fftCount>0?t.means.alpha2[t.fftCount-1]/t.means.alpha1[t.fftCount-1]:0,Wk=t=>t.fftCount>0?t.means.theta[t.fftCount-1]/t.means.beta[t.fftCount-1]:0,Hk=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.beta[t.fftCount-1]:0,Gk=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.theta[t.fftCount-1]:0,Jk=(t,e)=>{if(t.fftCount>0&&Array.isArray(e)){let r=t.slices.lowgamma[t.fftCount-1],n=[];return r.forEach((i,o)=>{e.lowgamma[0][o]>38&&e.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}else return 0},Yk=t=>{if(t.fftCount>0){let e=t.fftCount,r=20;e<r&&(r=e);let n=t.means.lowgamma.slice(e-r);return t.means.lowgamma[e-1]-Le.mean(n)}else return 0},Kk=t=>{if(t.count>0){let e=t.count,r=40;e<r&&(r=e);let n=t.ratio.slice(e-r);return t.ratio[e-1]-Le.mean(n)}else return 0};Xk=(t,e,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(e),n.ffts.push(t);for(let o in r){let s=t.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((a,c)=>a+c)/s.length),i+=r[o][1].length}},Qk=(t,e,r,n)=>{t.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(e),n[o].ffts.push(data);let s=0;for(let a in r){let c=fft.slice(s,s+r[a][1].length);coord.slices[a].push(c),coord.means[a].push(c.reduce((d,m)=>d+m)/c.length),s+=r[a][1].length}})};Y2=class{constructor(t={},e=!1,r=void 0){this.DS=qn,this.collections=new Map,this.data={byTime:{},notes:{},events:{},sleep:{},food:{},hr:{},ppg:{},hrv:{},ecg:{},emg:{},eeg:{},fnirs:{}},this.rolloverLimit=5e4,this.dataSorts=new Map,this.watches={},this.onCollectionSet=(n,i)=>{},this.ontrigger=n=>{},this.threaded=e,r?this.workers=r:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&(this.threaded=!0),Object.assign(this.data,t),this.dataSorts=new Map,this.watches={},this.setSort("event",n=>(this.data.events[n.timestamp]?this.data.events[n.timestamp].push(n):this.data.events[n.timestamp]=[n],n.event==="sleep"&&(this.data.sleep[n.timestamp]?this.data.sleep[n.timestamp].push(n):this.data.sleep[n.timestamp]=[n]),n)),this.setSort(["notes","note","link"],n=>(this.data.notes[n.timestamp]?this.data.notes[n.timestamp].push(n):this.data.notes[n.timestamp]=[n],this.data.byTime[n.timestamp]?this.data.byTime[n.timestamp].push(n):this.data.byTime[n.timestamp]=[n],n)),this.id=this.randomId("dataTablet")}randomId(t=""){return`${t+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}setLocalData(t){let e=r=>{let n=r.structType,i=this.collections.get(n);i||(i=new Map,this.collections.set(n,i)),i.set(r._id,r),this.onCollectionSet(n,i)};Array.isArray(t)?t.forEach(r=>{e(r)}):e(t)}getLocalData(t,e){let r="",n="",i="";if(typeof e=="object"?(r=e.ownerId,n=Object.keys(e).filter(s=>s!="ownerId")[0],i=e[n]):i=e,!t&&!r&&!n&&!i)return[];let o=[];if(!t&&(r||n))return this.collections.forEach(s=>{if((n==="_id"||n==="id")&&i){let a=s.get(i);a&&o.push(a)}else s.forEach(a=>{n&&i?a[n]===i&&a.ownerId===r&&o.push(a):a.ownerId===r&&o.push(a)})}),o;{let s=this.collections.get(t);if(!s)return o;if(!n&&!r)return s.forEach(a=>{o.push(a)}),o;if((n==="_id"||n==="id")&&i)return s.get(i);s.forEach((a,c)=>{n&&i&&!r?a[n]===i&&o.push(a):r&&!n?a.ownerId===r&&o.push(a):r&&n&&i&&a.ownerId===r&&a[n]&&a[n]===i&&o.push(a)})}return o}runSort(t,e={},r=[],n=this){let i;if(this.threaded===!1){let o=this.getSort(t);if(o)i=o(e,r,n);else return!1}else if(this.threaded===!0)return this.workers.runWorkerFunction("runSort",[t,e,r],this.workerId,this.id);return i}setSort(t,e=(r,n=[],i=this)=>{}){if(this.threaded===!1)Array.isArray(t)?t.forEach(r=>{this.dataSorts.set(r,e)}):this.dataSorts.set(t,e);else if(this.threaded===!0)return this.workers.runWorkerFunction("setSort",[t,e.toString()],this.workerId,this.id)}getSort(t){if(this.threaded===!1)return this.dataSorts.get(t);if(this.threaded===!0)return this.workers.runWorkerFunction("getSort",[t],this.workerId,this.id)}checkWatches(t={}){for(let e in this.watches)this.watches[e].ondata(t,this.watches[e].accum,this.watches[e]),this.watches[e].triggered&&(this.ontrigger(this.watches[e].accum),this.watches[e].triggered=!1)}setWatch(t,e=(n,i,o)=>{},r=n=>{}){this.watches[t]={triggered:!1,accum:this.DS.Struct("alert"),ondata:e,ontrigger:r}}getWatch(t){return this.watches[t]}async sortStructsIntoTable(t=[]){let e=function(n,i){return n.timestamp-i.timestamp};t.sort(e);let r=[];for(let n=0;n<t.length;n++){let i=t[n];if(!i.timestamp)continue;let o=i.timestamp;if(this.data.byTime[o]?this.data.byTime[o].push(i):this.data.byTime[o]=[i],i.structType==="dataInstance"&&i.data)i.data.forEach(async s=>{if(typeof s=="object"&&!Array.isArray(s)){let a=s.dataType;if(s.ownerId=i.ownerId,s.timestamp||(s.timestamp=o),a){let c=this.runSort(a,s,r,this);c?c.constructor?.name!=="Promise"&&(this.checkWatches(c),this.onUpdate(o,c),r.push(c)):(this.data[a]||(this.data[a]={}),s.timestamp=o,this.data[a][o]?this.data[a][o].push(s):this.data[a][o]=[s],this.data.byTime[o]?this.data.byTime[o].push(s):this.data.byTime[o]=[s],this.checkWatches(s),this.onUpdate(o,s),r.push(s))}}});else{let s=this.runSort(i.structType,i,r,this);if(s)this.checkWatches(s),this.onUpdate(o,s),r.push(s);else{let a=i.structType;this.data[a]||(this.data[a]={}),this.data[a][o]?this.data[a][o].push(i):this.data[a][o]=[i],this.checkWatches(i),this.onUpdate(o,i),r.push(i)}}}for(let n in this.data)this.data[n]=this.sortObjectByPropName(this.data[n]);this.onSorted(r)}onUpdate(t,e,r=this.data){}onSorted(t=[]){}getDataByTimestamp(t,e){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimestamp",[t,e],this.workerId,this.id);let r=this.data.byTime[t];return e&&r&&(r=r.filter(n=>e?e===n.ownerId:!0)),r}getDataByTimeRange(t,e,r,n){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimeRange",[t,e,r,n],this.workerId,this.id);let i={};if(r){for(let o in this.data[r]){let s=parseInt(o);s>t&&s<e&&(i[o]=[...this.data[r][o]])}r==="sleep"&&(i=this.filterSleepResults(i))}else for(let o in this.data.byTime){let s=parseInt(o);s>t&&s<e&&(i[o]=[...this.data.byTime[o]])}if(n&&i)for(let o in i){let s=[];i[o]=i[o],i[o].forEach((a,c)=>{a.ownerId!==n&&s.push(c)}),s.reverse().forEach(a=>{i[o].splice(a,1)}),i[o].length===0&&delete i[o]}return i}getDataByType(t,e,r){if(!this.data[t])return;let n={...this.data[t]};if(e&&(n=[...n[e]]),r&&n)for(let i in n){let o=[];n[i]=[...n[i]],n[i].forEach((s,a)=>{s.ownerId!==r&&o.push(a)}),o.reverse().forEach(s=>{n[i].splice(s,1)}),n[i].length===0&&delete n[i]}return t==="sleep"&&(n=this.filterSleepResults(n)),n}filterSleepResults(t={}){let e=[];for(let r in t)t[r]=[...t[r]],e.push(...t[r].filter(n=>n.structType==="event"));return e.forEach(r=>{let n;for(let i in t)t[i].forEach((o,s)=>o.structType==="fitbitsleep"&&r.startTime&&r.endTime&&Math.abs(o.startTime-r.startTime)<1e3*12*3600&&Math.abs(o.endTime-r.endTime)<1e3*12*3600&&r.endTime-r.startTime>1e3*2*3600?(n=s,!0):!1),n&&t[i].splice(n,1)}),t}sortObjectByPropName(t){return Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{})}checkRollover(t,e=this.rolloverLimit){if(!t)return!1;let r=this.collections.get(t);return r?(r.forEach(n=>{for(let i in n)Array.isArray(n[i])?n[i].length>e&&(n[i].slice(n[i].length-e),i==="ffts"?n.fftCount=n[i].length:i==="times"&&(n.count=n[i].length)):typeof n[i]=="object"&&this.checkRollover(n[i])}),!0):!1}}});function Ic(t,e){let r=e instanceof URL?e:new URL(e);return t=r.pathname==="/"?t:r.pathname+t,new URL(t,r.href).href}function cl(t,e=!0){t=t.replace(/\/\*\*?/,"");let r=t.split("/");e&&(r=r.slice(0,r.length-1));let n=[t];return n.push(t+"/*"),n.push(t+"/**"),r.forEach((i,o)=>{let s=r.slice(0,o+1).join("/");s!=t&&(o===r.length-1&&n.push(s+"/*"),n.push(s+"/**"))}),n}var fl=tt(()=>{});var dn,bp,Dc,xs=tt(()=>{dn=t=>(t?`${t}_`:"")+Math.floor(1e5*Math.random()),bp=(t=Math,e=Date,r=16,n=i=>t.floor(i).toString(r))=>n(e.now()/1e3)+" ".repeat(r).replace(/./g,()=>n(t.random()*r)),Dc=(t={})=>{let e={_id:null,id:null};return e._id=t._id?t._id:t.id?t.id:bp(),e.id=t.id?t.id:e._id,e}});function Z2(t){if(t instanceof Function){var e=t.toString().replace(rT,""),r=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(nT);return r===null&&(r=[]),r}else return}function gD(method=""){let getFunctionBody=t=>t.replace(/^\W*(function[^{]+\{([\s\S]*)\}|[^=]+=>[^{]*\{([\s\S]*)\}|[^=]+=>(.+))/i,"$2$3$4"),getFunctionHead=t=>{let e=t.indexOf(")");return t.slice(0,t.indexOf("{",e)+1)},newFuncHead=getFunctionHead(method),newFuncBody=getFunctionBody(method),newFunc;if(newFuncHead.includes("function ")){let t=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(t,newFuncBody)}else if(newFuncHead.substring(0,6)===newFuncBody.substring(0,6)){let t=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(t,newFuncBody.substring(newFuncBody.indexOf("{")+1,newFuncBody.length-1))}else newFunc=eval(newFuncHead+newFuncBody+"}");return newFunc}var tT,hl,rT,nT,Rc=tt(()=>{tT=input=>{if(typeof input=="string"&&(input=JSON.parse(input)),typeof input=="object"){for(let key in input){let value=input[key],regex=new RegExp("(|[a-zA-Z]w*|([a-zA-Z]w*(,s*[a-zA-Z]w*)*))s*=>"),func=typeof value=="string"?value.substring(0,8)=="function":!1,arrow=typeof value=="string"?regex.test(value):!1;try{input[key]=func||arrow?eval("("+value+")"):value}catch(t){console.error(t,value),input[key]=value}typeof input[key]=="object"&&tT(input[key])}return input}else return{}},hl=(t,e=!0)=>{t instanceof Object&&(t=Array.isArray(t)?[...t]:Object.assign({},t));for(let r in t)t[r]instanceof Function&&(t[r]=t[r].toString()),t[r]instanceof Object&&(t[r]=hl(t[r],!1));return e?JSON.stringify(t):t},rT=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,nT=/([^\s,]+)/g});var X2,Q2=tt(()=>{X2=`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>404 Not Found</pre>
</body>
</html>`});var tS=ve((Os,eS)=>{"use strict";var iT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Wn<"u")return Wn;throw new Error("unable to locate global object")},Wn=iT();eS.exports=Os=Wn.fetch;Wn.fetch&&(Os.default=Wn.fetch.bind(Wn));Os.Headers=Wn.Headers;Os.Request=Wn.Request;Os.Response=Wn.Response});var Ep,rS=tt(()=>{Rc();fl();xs();try{if(typeof process=="object"){let t=tS();typeof globalThis.fetch!="function"&&(globalThis.fetch=t)}}catch(t){}Ep=class{constructor(e="https://localhost",r,n){this.id=null;this.target=null;this.type=null;this.link=null;this.credentials={};this.connection=null;this.services={available:{},connecting:{},queue:{}};this.router=null;this.clients={};this.user=bp();this.status=!1;this.responses={};this.setCredentials=e=>{this.credentials=Dc(e),console.log("Using Credentials:",this.credentials)};this.check=()=>ee(this,null,function*(){var i,o,s,a,c,d;this.type==="webrtc"&&(this.clients.webrtc?yield this._subscribe({protocol:"webrtc",force:!0}).then(m=>{this.status=!0}).catch(m=>console.log("Link doesn't have WebRTC enabled.",m)):console.error("WebRTC client not added..."));let e=()=>ee(this,null,function*(){if(this.clients.websocket)return yield this._subscribe({protocol:"websocket",force:!0}).then(m=>(this.status=!0,m)),yield this.send("services");console.error("Websocket client not added...")}),r=()=>ee(this,null,function*(){return yield this.send("services")}),n;if(console.log("endpoint type",this.type),this.type==="websocket"){console.log("connecting ws");let m=yield e().then(v=>(this.status=!0,v)).catch(v=>ee(this,null,function*(){if(this.type==="websocket")return console.log("Falling back to http"),yield r()}));console.log("endpoint res",m)}else n=yield r().then(m=>(this.status=!0,m)).catch(m=>ee(this,null,function*(){return console.log("Falling back to websockets"),yield e()}));if(n){console.log("Connection successful!");let m=n.message[0],v=[];for(let y in m){let b=m[y].replace(/Backend|Service/,"").toLowerCase();this.services.available[b]=y,v.push(b),((s=(o=(i=this.router)==null?void 0:i.SERVICES)==null?void 0:o[b])==null?void 0:s.status)instanceof Function&&this.router.SERVICES[b].status(y),((a=this.clients[b])==null?void 0:a.serviceType)==="subscription"&&((c=this.services.queue[b])==null||c.forEach(A=>A()),this.services.queue[b]=[])}(d=this.services.queue.undefined)==null||d.forEach(y=>y()),this.services.queue.undefined=[]}else console.log("Connection failed!");return n==null?void 0:n.message});this.send=(i,...o)=>ee(this,[i,...o],function*(e,r={},n=()=>{}){var c,d,m,v,y,w,b,A;if(typeof e=="string")r.route=e;else{let O=this.services[e.service];r.route=O?`${O}/${e.route}`:e.route}r.suppress=!!this.connection;let s,a={suppress:r.suppress,id:(c=this.link.connection)==null?void 0:c.id};if(((d=this.connection)==null?void 0:d.protocol)==="websocket")r.id=(m=this.link.credentials)==null?void 0:m.id,s=yield this.link.connection.service.send(r,a);else if(((v=this==null?void 0:this.connection)==null?void 0:v.protocol)==="webrtc")r.id=((y=this.credentials)==null?void 0:y.id)||((w=this.link.credentials)==null?void 0:w.id),s=yield this.connection.service.send(r,a);else{r.id=(b=this.link.credentials)==null?void 0:b.id,r.method||(r.method=((A=r.message)==null?void 0:A.length)>0?"POST":"GET");let O={method:r.method.toUpperCase(),mode:"cors",headers:{"Content-Type":"application/json"}};O.method!="GET"&&(O.body=hl(r)),s=yield fetch(Ic(r.route,this.link.target),O).then(I=>ee(this,null,function*(){let F=I.body.getReader(),K=I.headers.get("Content-Length"),H=0;if(globalThis.ReadableStream){let Y=new ReadableStream({start(M){let z=()=>ee(this,null,function*(){F.read().then(({value:S,done:$})=>{if($){M.close();return}H+=S.length,n(H/K,K),M.enqueue(S),z()})});z()}});return new Response(Y,{headers:I.headers})}else return I})),s=s&&(yield s.json().then(I=>{if(s.ok)return I;throw I.message}).catch(I=>ee(this,null,function*(){throw"Invalid JSON"})))}return s&&!(s==null?void 0:s.route)&&(s.route=r.route,s.block=!0),s});this._subscribe=(...r)=>ee(this,[...r],function*(e={}){let n=()=>new Promise(i=>ee(this,null,function*(){var a;let o=(a=e.protocol)!=null?a:this.type;(o?[this.clients[o]]:Object.values(this.clients)).forEach(c=>ee(this,null,function*(){var d;if(c&&e.force||(c==null?void 0:c.status)===!0&&(c==null?void 0:c.serviceType)==="subscription"){let m=`${(d=this.link.services.available[c==null?void 0:c.service])!=null?d:c.name.toLowerCase()}/subscribe`;if(c.setEndpoint(this.link),!this.connection){let y=this.type==="http"||this.type==="websocket"?new URL(m,this.target):this.target;console.log(y,this.target,m);let w=yield c.add(this.credentials,y.href);this.router&&c.addResponse("router",b=>{let A=b;if(typeof b=="string")try{A=JSON.parse(b)}catch(O){}Object.values(this.responses).forEach(O=>{O(A)}),this.router&&this.router.handleLocalRoute(A)}),this.connection={service:c,id:w,protocol:c.name}}this.type==="webrtc"&&(e.routes=[this.target]);let v=yield this.link.send(m,Object.assign({route:e.route,message:e.message,protocol:e.protocol},{message:[e.routes,this.credentials.id]}));i(this.connection);return}})),this.services.queue[o]||(this.services.queue[o]=[]),this.services.queue[o].push(()=>ee(this,null,function*(){let c=yield n();i(c)}))}));return yield n()});this.subscribe=e=>{if(e){let r=dn("response");return this.responses[r]=e,r}};this.unsubscribe=e=>{e?delete this.responses[e]:this.responses={}};let i,o;typeof e=="object"?e instanceof URL?i=e:(i=e.target,o=e.type,this.link=e.link,this.setCredentials(e.credentials)):i=e,o||(o="http"),this.link||(this.link=this),o==="http"||o==="websocket"?(i=i instanceof URL?i:new URL(i),this.id=i.origin):this.id=i,this.target=i,this.type=o,this.router=n,r&&(this.clients=r)}}});var oT,xp,nS=tt(()=>{M0();fl();xs();Rc();Q2();rS();oT="DONOTSEND",xp=class{constructor(e={debug:!1}){this.id=dn();this.USERS={};this.CONNECTIONS=new Map;this.SUBSCRIPTIONS=[];this.ENDPOINTS={};this.SERVICES={};this.ROUTES={};this.INTERVAL=10;this.DEFAULTROUTES=[{route:"ping",post:()=>"pong"},{route:"services/**",get:{object:this.SERVICES,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{let s=e[o];(s==null?void 0:s.serviceType)==="default"&&(n[o]=s.name)}),r.forEach((o,s)=>n=n[o]),n}}},{route:"/",aliases:["routes/**"],get:{object:this.ROUTES,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{o&&(n[o]={route:e[o].route.split("/").filter(s=>!s.match(/\*\*?/)).join("/"),args:e[o].args,wildcard:o.includes("*")})}),r.forEach((o,s)=>n=n[o]),n}}},{route:"sendMessage",aliases:["message","sendMsg"],post:(e,r)=>e.sendMsg(r[0],r[1],r[2])},{route:"setUserServerDetails",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;r[0]&&(i.username=r[0]),r[1]&&(i.password=r[1]),r[2]&&(i.props=r[2]),r[3]&&(i._id=r[3],i.id=r[3])}},{route:"setProps",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(typeof r=="object"&&!Array.isArray(r))return Object.assign(i.props,r),!0;if(Array.isArray(r)&&typeof r[1]=="object"){let o=e.USERS[r[0]];return o&&Object.assign(o.props,r[1]),!0}return!1}},{route:"getProps",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(r[0]){let o=e.USERS[r[0]];if(o)return o.props}else return i.props}},{route:"blockUser",post:(e,r,n)=>{let i=e.USERS[n];return i?this.blockUser(i,r[0]):!1}},{route:"users/**",get:{object:this.USERS,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{let s=e[o];n[o]={_id:s._id,username:s.username,origin:s.origin,props:s.props,updatedPropNames:s.updatedPropNames,lastUpdate:s.lastUpdate,lastTransmit:s.lastTransmit,latency:s.latency}}),r.forEach((o,s)=>n=n[o]),n}}},{route:"getUser",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(r[0]){let o=this.USERS[r[0]];if(o)return{_id:o._id,username:o.username,origin:o.origin,props:o.props,updatedPropNames:o.updatedPropNames,lastUpdate:o.lastUpdate,lastTransmit:o.lastTransmit,latency:o.latency}}else return{_id:i._id,username:i.username,origin:i.origin,props:i.props,updatedPropNames:i.updatedPropNames,lastUpdate:i.lastUpdate,lastTransmit:i.lastTransmit,latency:i.latency}}},{route:"login",aliases:["addUser","startSession"],post:(e,r,n)=>ee(this,null,function*(){let i=yield e.addUser(r[0]);return{message:i,id:i.origin}})},{route:"logout",aliases:["removeUser","endSession"],post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;r[0]?e.removeUser(...r):e.removeUser(i)}}];this.protocols={};this.connect=(e,r)=>{let n=new Ep(e,this.SERVICES,this);return this.ENDPOINTS[n.id]=n,n.check().then(i=>{i&&(r&&r(n),this.login(n,n.credentials))}),n};this.disconnect=e=>ee(this,null,function*(){this.logout(this.ENDPOINTS[e]),delete this.ENDPOINTS[e]});this._loadBackend=(e,r=e.name)=>{var n;this.SERVICES[r]=e,this.SERVICES[r].status=!0,(n=e.routes)==null||n.forEach(i=>this.addRoute(Object.assign({service:r},i))),e.subscribe&&e.subscribe((i,o,s)=>ee(this,null,function*(){let a=yield this.handleMessage(i,o);if(s==null?void 0:s.includes("worker"))if(a!==null&&e[s])e[s].postMessage({route:"worker/workerPost",message:a,origin:e.id,callbackId:i.callbackId});else return a;return a})),(e==null?void 0:e.serviceType)==="subscription"&&this.SUBSCRIPTIONS.push(e.updateSubscribers)};this._loadService=(n,...i)=>ee(this,[n,...i],function*(e,r=e==null?void 0:e.name){return this._loadBackend(e,r),yield this._loadClient(e,r,!0)});this._loadClient=(e,r,n=!1)=>new Promise(i=>{let o=e.name;if(e.subscribe&&e.subscribe((s,a)=>ee(this,null,function*(){var v;let c=this.SERVICES[o],d=c.status===!0,m;return a==="local"?m=yield this.handleLocalRoute(s):d&&(m=yield this.send({route:`${c.route}/${s.route}`,endpoint:e==null?void 0:e.endpoint},...(v=s.message)!=null?v:[])),m})),n)i(e);else{this.SERVICES[o]=e;let s=a=>{this.SERVICES[o].status=!0,e.setEndpointRoute instanceof Function&&e.setEndpointRoute(a),e.routes.forEach(c=>{this.ROUTES[`${a}/${c.route}`]=c}),i(e)};this.SERVICES[o].status===!0?s(this.SERVICES[o]):this.SERVICES[o].status=s}});this.get=(e,...r)=>this._send(e,"GET",...r);this.delete=(e,...r)=>this._send(e,"DELETE",...r);this.post=(e,...r)=>this._send(e,"POST",...r);this.send=this.post;this._send=(e,r,...n)=>ee(this,null,function*(){let i;if(typeof e=="string"||(e==null?void 0:e.endpoint)==null?i=Object.values(this.ENDPOINTS)[0]:i=e.endpoint,!i)return;let o;return o=yield i.send(e,{message:n,method:r}),o&&this.handleLocalRoute(o,i),o==null?void 0:o.message});this.handleLocalRoute=(e,r,n)=>ee(this,null,function*(){var i,o,s;if(r&&n&&!e.suppress&&r.connection&&((s=(o=(i=r.connection)==null?void 0:i.service)==null?void 0:o.responses)==null||s.forEach(a=>a(Object.assign({route:n},e)))),!e.block){let a=this.ROUTES[e==null?void 0:e.route];if((a==null?void 0:a.post)instanceof Function)return a.post(this,e.message,e.id)}});this.subscribe=(n,...i)=>ee(this,[n,...i],function*(e,r={}){if(Object.keys(this.ENDPOINTS).length>0||(r==null?void 0:r.endpoint))return r.endpoint||(r.endpoint=Object.values(this.ENDPOINTS)[0]),yield r.endpoint._subscribe(r).then(s=>r.endpoint.subscribe(e));throw"Remote is not specified"});this.handleMessage=(e,r)=>ee(this,null,function*(){var i;let n={};if(Array.isArray(e))n.route=e[0],n.message=e.slice(1),n.callbackId=void 0;else if(typeof e=="string"){let o=e.split(" ");n.route=o[0],n.message=o.slice(1),n.callbackId=void 0}else typeof e=="object"&&Object.assign(n,e);if(typeof n=="object"&&!Array.isArray(n)&&n.route!=null){console.log("runRoute",n.route);let o=yield this.runRoute(n.route,n.method,n.message,(i=n._id)!=null?i:n.id,n.callbackId);return o&&n.suppress&&(o.suppress=n.suppress),o}return null});e.interval&&(this.INTERVAL=e.interval),this.STATE=new n_({},this.INTERVAL,void 0),this.DEBUG=e==null?void 0:e.debug,"onbeforeunload"in globalThis&&(globalThis.onbeforeunload=()=>{Object.values(this.ENDPOINTS).forEach(r=>{r.type!="webrtc"&&this.logout(r)})}),this.load({routes:this.DEFAULTROUTES}),this.DEBUG&&this.runCallback("routes",[!0]),(e==null?void 0:e.endpoints)&&e.endpoints.forEach(r=>this.connect(r))}login(e,r){return ee(this,null,function*(){yield this.logout(e);let n=Object.values(e?{endpoint:e}:this.ENDPOINTS),i=yield Promise.all(n.map(o=>ee(this,null,function*(){let s=yield this.send({route:"login",endpoint:o},r);return o.setCredentials(s[0]),s})));return i?i[0]:i.reduce((o,s)=>o*s[0],!0)===1})}logout(e){return ee(this,null,function*(){let r=yield Promise.all(Object.values(e?{endpoint:e}:this.ENDPOINTS).map(n=>ee(this,null,function*(){return yield this.send({route:"logout",endpoint:n},n.credentials)})));return r?r.reduce((n,i)=>n*(i==null?void 0:i[0]),!0)===1:!1})}load(n){return ee(this,arguments,function*(e,r=e.name){let i=e.constructor.type==="client",o=!e.constructor.type||e.constructor.type==="service",s=e.constructor.type==="backend";return o&&(yield this._loadService(e,r)),s&&(yield this._loadBackend(e,r)),i&&(yield this._loadClient(e)),e})}format(e,r={}){return e!==void 0&&((!e||typeof e!="object"||!("message"in e)&&!("route"in e))&&(e={message:e}),Array.isArray(e.message)||(e.message=[e.message]),r.service&&(e==null?void 0:e.route)&&(e.route=`${r.service}/${e.route}`),r.headers&&(e.headers=r.headers)),(e==null?void 0:e.route)&&(e.route=e.route.replace(/\/\*\*?/,"")),e}runRoute(s,a){return ee(this,arguments,function*(e,r,n=[],i,o){try{return e==null?void 0:(!r&&Array.isArray(n)&&(r=n.length>0?"POST":"GET"),this.DEBUG&&console.log("route",e),yield this.runCallback(e,n,i,r).then(c=>{if(this.DEBUG&&console.log("Result:",c),c!==void 0)return c=this.format(c),c.callbackId=o,this.ROUTES[c.route]&&(c.block=!0),c.message===oT?void 0:c}).catch(console.error))}catch(c){return new Error("Route failed...")}})}addUser(e={},r=Dc(e)){var n,i;if(e){let o=this.USERS[r._id],s=o!=null?o:{_id:(n=e._id)!=null?n:e.id,id:(i=e.id)!=null?i:e._id,username:e.username,origin:r._id,props:{},updatedPropNames:[],sessions:[],blocked:[],lastUpdate:Date.now(),lastTransmit:0,latency:0,routes:new Map};Object.assign(s,e),this.DEBUG&&console.log("Adding User, Id:",e._id,"Credentials:",r),this.USERS[r._id]=s;for(let a in this.SERVICES){let c=this.SERVICES[a];if(c.status===!0){let d=c.name+"/users";cl(d).forEach(v=>{this.ROUTES[v]&&this.runRoute(v,"POST",[s],r._id)})}}return s}else return!1}removeUser(e){let r=typeof e=="string"?this.USERS[e]:e;return r?(Object.values(this.SERVICES).forEach(n=>{if(n.status===!0){let i=n.name+"/users";this.ROUTES[i]&&this.runRoute(i,"DELETE",[r],r.id)}}),delete r.id,!0):!1}blockUser(e,r=""){return this.USERS[r]&&!e.blocked.includes(r)&&e.id!==r?(e.blocked.push(r),!0):!1}sendMsg(e="",r="",n=void 0){var o;let i={message:r,data:n};if(typeof e=="string"){let s=this.USERS[e];if(typeof s=="object"){if(typeof(s==null?void 0:s.send)=="function")return s.send(i),!0;console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${e} does not have anything to receive your message...`)}else console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${e} does not have anything to receive your message...`)}else if(e&&typeof e=="object"){if(typeof e.send!="function"&&e._id&&(e=this.USERS[e._id]),typeof e.send=="function")return e.send(i),!0;console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${(o=e.username)!=null?o:e.id} does not have anything to receive your message...`)}return!1}addRoute(e){e=Object.assign({},e);let r=[e.route,...e.aliases?e.aliases:[]];return delete e.aliases,r.forEach(n=>{var i,o;if(!n||!e.post&&!e.get)return!1;n=e.route=`${e.service?`${e.service}/`:""}`+n,this.removeRoute(n),n[0]==="/"&&(n=n.slice(1)),e.args=Z2(e.post),this.ROUTES[n]=Object.assign(e,{route:n}),e.get&&(this.STATE.setState({[n]:(o=(i=e.get)==null?void 0:i.object)!=null?o:e.get}),this.STATE.subscribe(n,s=>{var c;let a=((c=e.get)==null?void 0:c.transform)?e.get.transform(s):s;this.SUBSCRIPTIONS.forEach(d=>d(this,{route:n,message:a}))}))}),!0}removeRoute(e){return delete this.ROUTES[e]}runCallback(e,r=[],n,i=r.length>0?"POST":"GET"){return new Promise(o=>ee(this,null,function*(){let s=cl(e),a={route:e,block:!0,message:{html:X2},headers:{"Content-Type":"text/html"}};Promise.all(s.map(c=>ee(this,null,function*(){var m;let d=this.ROUTES[c];if(d){this.DEBUG&&console.log("routeInfo",d);try{let v;if((d==null?void 0:d.delete)&&i.toUpperCase()==="DELETE")v=yield d.delete(this,r,n);else if(i.toUpperCase()==="GET"||!(d==null?void 0:d.post)){let y=this.STATE.data[d.route];if(y){let w=e.replace(d.route.split("/").filter(b=>b!="*"&&b!="**").join("/"),"").split("/").filter(b=>!!b);v={message:((m=d.get)==null?void 0:m.transform)?yield d.get.transform(y,...w):y}}else v=a}else(d==null?void 0:d.post)?v=yield d==null?void 0:d.post(this,r,n):v=a;o(this.format(v,d))}catch(v){console.log("Callback Failed: ",v)}}}))).then(c=>o(a))}))}checkRoutes(e){return ee(this,null,function*(){var n,i;if(!e.data)return;let r=(i=(n=this.ROUTES[e.data.foo])!=null?n:this.ROUTES[e.data.route])!=null?i:this.ROUTES[e.data.functionName];return r||(r=this.ROUTES[e.data.foo]),r?e.data.message?yield r.post(this,e.data.message,e.data.origin):void 0:!1})}}});var uS=ve((RD,lS)=>{var Op=Math.floor(Math.random()*16777215),iS=Qe.index=parseInt(Math.random()*16777215,10),oS=(typeof process>"u"||typeof process.pid!="number"?Math.floor(Math.random()*1e5):process.pid)%65535,Fc=function(t){return!!(t!=null&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))},aS=[];for(br=0;br<256;br++)aS[br]=(br<=15?"0":"")+br.toString(16);var br,sS=new RegExp("^[0-9a-fA-F]{24}$"),dl=[];br=0;for(;br<10;)dl[48+br]=br++;for(;br<16;)dl[65-10+br]=dl[97-10+br]=br++;function Qe(t){if(!(this instanceof Qe))return new Qe(t);if(t&&(t instanceof Qe||t._bsontype==="ObjectID"))return t;if(this._bsontype="ObjectID",t==null||typeof t=="number"){this.id=this.generate(t);return}var e=Qe.isValid(t);if(!e&&t!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(e&&typeof t=="string"&&t.length===24)return Qe.createFromHexString(t);if(t!=null&&t.length===12)this.id=t;else{if(t!=null&&typeof t.toHexString=="function")return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}lS.exports=Qe;Qe.default=Qe;Qe.createFromTime=function(t){return t=parseInt(t,10)%4294967295,new Qe(aT(8,t)+"0000000000000000")};Qe.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var e="",r=0;r<24;)e+=String.fromCharCode(dl[t.charCodeAt(r++)]<<4|dl[t.charCodeAt(r++)]);return new Qe(e)};Qe.isValid=function(t){return t==null?!1:typeof t=="number"?!0:typeof t=="string"?t.length===12||t.length===24&&sS.test(t):t instanceof Qe||Fc(t)?!0:typeof t.toHexString=="function"&&(t.id instanceof _Buffer||typeof t.id=="string")?t.id.length===12||t.id.length===24&&sS.test(t.id):!1};Qe.prototype={constructor:Qe,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(Fc(this.id))return this.id.toString("hex");for(var t="",e=0;e<this.id.length;e++)t+=aS[this.id.charCodeAt(e)];return t},equals:function(t){return t instanceof Qe?this.toString()===t.toString():typeof t=="string"&&Qe.isValid(t)&&t.length===12&&Fc(this.id)?t===this.id.toString("binary"):typeof t=="string"&&Qe.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&Qe.isValid(t)&&t.length===12?t===this.id:t!=null&&(t instanceof Qe||t.toHexString)?t.toHexString()===this.toHexString():!1},getTimestamp:function(){var t=new Date,e;return Fc(this.id)?e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:e=this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(Math.floor(e)*1e3),t},generate:function(t){typeof t!="number"&&(t=~~(Date.now()/1e3)),t=parseInt(t,10)%4294967295;var e=sT();return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255,Op>>16&255,Op>>8&255,Op&255,oS>>8&255,oS&255,e>>16&255,e>>8&255,e&255)}};function sT(){return iS=(iS+1)%16777215}function aT(t,e){return e=e.toString(16),e.length===t?e:"00000000".substring(e.length,t)+e}var lT=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";Qe.prototype[lT]=function(){return"ObjectID("+this+")"};Qe.prototype.toJSON=Qe.prototype.toHexString;Qe.prototype.toString=Qe.prototype.toHexString});var cS,pl,kp=tt(()=>{xs();pl=class{constructor(e){this.id=dn("service");this.name="service";this.callbacks=new Map;this.status=!1;this.serviceType="default";this.routes=[];this.delegate=(cS=globalThis==null?void 0:globalThis.document)==null?void 0:cS.createDocumentFragment();this.protocols={};this.services={};this.setEndpointRoute=e=>{this.route=e};this.notify=(e,r,n)=>ee(this,null,function*(){let i=[];return yield Promise.all(Array.from(this.callbacks).map((o,s)=>ee(this,null,function*(){let a=yield o[1](e,r,n);a&&!(a instanceof Error)&&i.push(a)}))),i==null?void 0:i[0]});this.setEndpoint=e=>{this.endpoint=e};this.subscribe=e=>{if(e instanceof Function){let r=dn();return this.callbacks.set(r,e),r}else return};this.unsubscribe=e=>this.callbacks.delete(e);this.router=e}addEventListener(...e){var r;(r=this.delegate)==null||r.addEventListener.apply(this.delegate,e)}dispatchEvent(...e){var r;return(r=this.delegate)==null?void 0:r.dispatchEvent.apply(this.delegate,e)}removeEventListener(...e){var r;return(r=this.delegate)==null?void 0:r.removeEventListener.apply(this.delegate,e)}}});var fS,Bt,ue,uT,hS,dS,pS=tt(()=>{fS=Ft(uS());kp();xs();Bt=t=>typeof t=="string"&&t.length===24?(0,fS.default)(t):t,ue=t=>typeof t=="object"?t.toString():t,uT=["profile","group","authorization","discussion","chatroom","comment","dataInstance","event","notification","schedule","date"],hS=class extends pl{constructor(e,r={},n=!1,i=!0){super(e);this.name="structs";this.collections={};this.debug=!1;this.useAuths=!0;this.permissionSets=[(e,r,n,i,o)=>{if(n.excluded[r.structType]&&r.ownerId===ue(e._id)&&o==="WRITE")return!1},(e,r,n,i,o)=>{if(r.structType==="group")return!!(n.authorizations[r.name+"_admin"]&&i.authorizations[r.name+"_admin"])},(e,r,n,i,o)=>{if(n.authorizations.peer&&i.authorizations.peer)return!0},(e,r,n,i,o)=>{if(n.authorizations.admincontrol&&i.authorizations.admincontrol)return!0},(e,r,n,i,o)=>{if(n.structIds[ue(r._id)]&&i.structIds[ue(r._id)])return!0}];this.wipeDB=()=>ee(this,null,function*(){return yield Promise.all(Object.values(this.collections).map(e=>{try{e.instance.remove({})}catch(r){}})),!0});this.db=r==null?void 0:r.db,this.debug=n,this.useAuths=i,this.mode=this.db&&r.mode?r.mode:"local",r.collections||(r.collections={}),uT.forEach(o=>{r.collections[o]||(r.collections[o]=this.db?{instance:this.db.collection(o)}:{},r.collections[o].reference={})}),this.collections=r.collections,this.routes=[{route:"query",post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;if(this.mode.includes("mongo"))return yield this.queryMongo(c,s[0],s[1],s[2],s[3]);{let d=this.getLocalData(s[0],s[1]);if(d&&!Array.isArray(d)){let v=!this.useAuths;this.useAuths&&(v=yield this.checkAuthorization(c,d))}typeof s[3]=="number"&&Array.isArray(d)&&d.length>s[3]&&d.splice(0,s[3]);let m=[];return d&&(yield Promise.all(d.map(v=>ee(this,null,function*(){let y=this.getLocalData(ue(v._id)),w=!this.useAuths;this.useAuths&&(w=yield this.checkAuthorization(c,y)),w&&m.push(y)})))),m}})},{route:"getUser",post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoUser(c,s[0]);else{let m=this.getLocalData("profile",{_id:s[0]});if(!m)d={user:{}};else{let v=!this.useAuths;if(this.useAuths&&(v=yield this.checkAuthorization(c,m)),v){let y=this.getLocalData("group",{ownerId:s[0]}),w=this.getLocalData("authorization",{ownerId:s[0]});d={user:m,groups:y,authorizations:w}}else d={user:{}}}}return this.debug&&console.log("getUser: user:",c,"input:",s,"output",d),d})},{route:"setUser",aliases:["addUser"],post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.setMongoUser(c,s[0]);else{let m=!this.useAuths;return this.useAuths&&(m=yield this.checkAuthorization(c,s[0],"WRITE")),m&&this.setLocalData(s[0]),!0}return this.debug&&console.log("setUser user:",c,"input:",s,"output",d),d})},{route:"getUsersByIds",aliases:["getUsers"],post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoUsersByIds(c,s[0]);else if(d=[],Array.isArray(s[0])){let m=this.getLocalData("profile",{_id:s[0]});m&&d.push(m)}return this.debug&&console.log("getUserByIds: user:",c,"input:",s,"output",d),d})},{route:"getUsersByRoles",post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoUsersByRoles(c,s[0]);else{let m=this.getLocalData("profile");d=[],m.forEach(v=>{v.userRoles[s[0]]&&d.push(v)})}return this.debug&&console.log("getUserByRoles: user:",c,"input:",s,"output",d),d})},{route:"deleteUser",aliases:["removeUser"],post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.deleteMongoUser(c,s[0]);else{d=!1;let m=this.getLocalData(s[0]);if(m){let v=!this.useAuths;this.useAuths&&(v=yield this.checkAuthorization(c,m,"WRITE")),v&&(d=this.deleteLocalData(m))}}return this.debug&&console.log("deleteUser: user:",c,"input:",s,"output",d),d})},{route:"setData",aliases:["setMongoData"],post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.setMongoData(c,s[0],s[1]);else{let m=[];return d=[],yield Promise.all(s[0].map(v=>ee(this,null,function*(){let y=this.getLocalData(v),w=!this.useAuths;this.useAuths&&(w=yield this.checkAuthorization(c,y,"WRITE")),w&&(this.collections[y.structType]||(this.collections[y.structType]=this.db?{instance:this.db.collection(y.structType)}:{},this.collections[y.structType].reference={}),this.setLocalData(y),d.push(y),y.structType!=="notification"&&m.push(y))}))),m.length>0&&(s[1]===!0||typeof s[1]=="undefined")&&this.checkToNotify(c,m,this.mode),this.debug&&console.log("setData:",c,s,d),!0}return this.debug&&console.log("setData: user:",c,"input:",s,"output",d),d})},{route:"getData",aliases:["getMongoData","getUserData"],post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoData(c,s[0],s[1],s[2],s[4],s[5]);else{d=[];let m;s[0]&&(m=this.getLocalData(s[0])),m&&s[1]&&(m=m.filter(v=>{if(v.ownerId===s[1])return!0})),m&&(yield Promise.all(m.map(v=>ee(this,null,function*(){let y=this.getLocalData(ue(v._id)),w=!this.useAuths;this.useAuths&&(w=yield this.checkAuthorization(c,y)),w&&d.push(y)}))))}return this.debug&&console.log("getData: user:",c,"input:",s,"output",d),d})},{route:"getDataByIds",aliases:["getMongoDataByIds","getUserDataByIds"],post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoDataByIds(c,s[0],s[1],s[2]);else{d=[];let m;s[2]&&(m=this.getLocalData(s[2])),m&&s[1]&&(m=m.filter(v=>{if(v.ownerId===s[1])return!0})),m&&(yield Promise.all(m.map(v=>ee(this,null,function*(){let y=this.getLocalData(ue(v._id)),w=!this.useAuths;this.useAuths&&(w=yield this.checkAuthorization(c,y)),w&&d.push(y)}))))}return this.debug&&console.log("getDataByIds: user:",c,"input:",s,"output",d),d})},{route:"getAllData",post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getAllUserMongoData(c,s[0],s[1]);else{let m=this.getLocalData(void 0,{ownerId:s[0]});d=[],yield Promise.all(m.map(v=>ee(this,null,function*(){if(s[1]){if(s[1].indexOf(v.structType)<0){let y=!this.useAuths;this.useAuths&&(y=yield this.checkAuthorization(c,v)),y&&d.push(v)}}else{let y=!this.useAuths;this.useAuths&&(y=yield this.checkAuthorization(c,v)),y&&d.push(v)}})))}return this.debug&&console.log("getAllData: user:",c,"input:",s,"output",d),d})},{route:"deleteData",post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;return this.mode.includes("mongo")?d=yield this.deleteMongoData(c,s):(d=!1,yield Promise.all(s.map(m=>ee(this,null,function*(){let v=this.getLocalData(m),y=!this.useAuths;this.useAuths&&(y=yield this.checkAuthorization(c,v,"WRITE")),y&&this.deleteLocalData(v),d=!0})))),this.debug&&console.log("deleteData: user:",c,"input:",s,"output",d),d})},{route:"getGroup",aliases:["getGroups"],post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoGroups(c,s[0],s[1]);else if(typeof s[1]=="string")d=this.getLocalData("group",{_id:s[1]});else{d=[];let m=this.getLocalData("group");s[0]?m.forEach(v=>{Object.keys(v.users).includes(s[0])&&d.push(v)}):m.forEach(v=>{Object.keys(v.users).includes(ue(c._id))&&d.push(v)})}return this.debug&&console.log("getGroups: user:",c,"input:",s,"output",d),d})},{route:"setGroup",post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d=yield this.setGroup(c,s[0],this.mode);return this.debug&&console.log("setGroup: user:",c,"input:",s,"output",d),d})},{route:"deleteGroup",post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.deleteMongoGroup(c,s[0]);else{let m=this.getLocalData("group",s[0]),v=!this.useAuths;m&&this.useAuths&&(v=yield this.checkAuthorization(c,m,"WRITE")),v&&(d=!0)}return this.debug&&console.log("deleteGroup: user:",c,"input:",s,"output",d),d})},{route:"setAuth",post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d=yield this.setAuthorization(c,s[0],this.mode);return this.debug&&console.log("setAuth: user:",c,"input:",s,"output",d),d})},{route:"getAuths",post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoAuthorizations(c,s[0],s[1]);else if(s[1]){let m=this.getLocalData("authorization",{_id:s[1]});m&&(d=[m])}else d=this.getLocalData("authorization",{ownerId:s[0]});return this.debug&&console.log("getAuths: user:",c,"input:",s,"output",d),d})},{route:"deleteAuth",post:(o,s,a)=>ee(this,null,function*(){let c=o.USERS[a];if(!c)return!1;let d;if(this.mode.includes("mongo"))d=yield this.deleteMongoAuthorization(c,s[0]);else{d=!0;let m=this.getLocalData("authorization",{_id:s[0]});if(m){let v=!this.useAuths;this.useAuths&&(v=yield this.checkAuthorization(c,m,"WRITE")),v&&(d=this.deleteLocalData(m))}}return this.debug&&console.log("deleteAuth: user:",c,"input:",s,"output",d),d})}]}notificationStruct(e={}){let r="notification";return{structType:r,timestamp:Date.now(),_id:dn(r),note:"",alert:!1,ownerId:"",parentUserId:"",parent:{structType:e==null?void 0:e.structType,_id:ue(e==null?void 0:e._id)}}}checkToNotify(i){return ee(this,arguments,function*(e,r=[],n=this.mode){if(r.length===0)return!1;if(typeof e=="string")for(let a in this.router.USERS){let c=this.router.USERS[a];ue(c._id)===e&&(e=c)}if(typeof e=="string"||e==null)return!1;let o={},s=[];if(r.forEach(a=>ee(this,null,function*(){if((e==null?void 0:e._id)!==a.ownerId){let c=this.notificationStruct(a);c._id="notification_"+ue(a._id),c.ownerId=a.ownerId,c.note=a.structType,c.parentUserId=a.ownerId,a.alert&&(c.alert=a.alert),s.push(c),o[a.ownerId]=a.ownerId}if(a.users)Object.keys(a.users).forEach(c=>{if(c!==e._id){let d=this.notificationStruct(a);d._id="notification_"+ue(a._id),d.ownerId=c,d.note=a.structType,a.alert&&(d.alert=a.alert),d.parentUserId=a.ownerId,s.push(d),o[c]=c}});else{let c=[];if(n.includes("mongo")){let d=this.collections.authorization.instance.find({$or:[{authorizedId:e._id},{authorizerId:e._id}]});(yield d.count())>0&&(yield d.forEach(m=>c.push(m)))}else c=this.getLocalData("authorization",{authorizedId:e._id}),c.push(...this.getLocalData("authorization",{authorizerId:e._id}));c.length>0&&c.forEach(d=>{if(a.authorizerId===a.ownerId&&!o[a.authorizedId]&&d.status==="OKAY"&&d.authorizations.peer){let m=this.notificationStruct(a);m.ownerId=d.authorizedId,m._id="notification_"+ue(a._id),m.note=a.structType,m.parentUserId=a.ownerId,a.alert&&(m.alert=a.alert),s.push(m),o[m.ownerId]=m.ownerId}})}})),s.length>0){n.includes("mongo")?yield this.setMongoData(e,s):this.setLocalData(s);for(let a in o)this.router.sendMsg(a,"notifications",!0);return!0}else return!1})}queryMongo(s,a){return ee(this,arguments,function*(e,r,n={},i=!1,o=0){var c;if(!(!r&&!n))if(i){let d=this.db.collection(r).findOne(n);if(!d)return;let m=!this.useAuths;return(ue(e._id)!==d.ownerId||ue(e._id)===d.ownerId&&((c=e.userRoles)==null?void 0:c.admincontrol))&&this.useAuths&&(m=yield this.checkAuthorization(e,d)),m?d:void 0}else{let d=yield this.db.collection(r).find(n).sort({$natural:-1}).skip(o),m=[];if((yield d.count())>0){let v=!this.useAuths,y="";yield d.forEach(w=>ee(this,null,function*(){var b;(ue(e._id)!==w.ownerId||ue(e._id)===w.ownerId&&((b=e.userRoles)==null?void 0:b.admincontrol))&&y!==w.ownerId&&(this.useAuths&&(v=yield this.checkAuthorization(e,w)),y=w.ownerId),v&&m.push(w)}))}return m}})}setMongoData(i){return ee(this,arguments,function*(e,r=[],n=!0){let o=!1;if(r.length>0){let s=!0,a="";if(yield Promise.all(r.map(c=>ee(this,null,function*(){var m;let d={};if(Array.isArray(c)&&(d=c[1],c=c[0]),(ue(e==null?void 0:e._id)!==c.ownerId||ue(e._id)===c.ownerId&&((m=e.userRoles)==null?void 0:m.admincontrol))&&a!==c.ownerId&&(this.useAuths&&(s=yield this.checkAuthorization(e,c,"WRITE")),a=c.ownerId),s&&c.structType){this.collections[c.structType]||(this.collections[c.structType]=this.db?{instance:this.db.collection(c.structType)}:{},this.collections[c.structType].reference={});let v=JSON.parse(JSON.stringify(c));v._id&&delete v._id,c._id?ue(c._id).includes("defaultId")?(yield this.db.collection(c.structType).insertOne(v),o=!0):c.structType==="notification"?yield this.db.collection(c.structType).updateOne({parent:c.parent,_id:c._id},Jl({$set:v},d),{upsert:!0,unique:!1}):yield this.db.collection(c.structType).updateOne({_id:Bt(c._id)},Jl({$set:v},d),{upsert:!0}):c.structType&&this.db.collection(c.structType).insertOne(v)}}))),o===!0){let c=[];return yield Promise.all(r.map((d,m)=>ee(this,null,function*(){let v=JSON.parse(JSON.stringify(d));if(v._id&&v.structType!=="profile"&&delete v._id,d.structType!=="comment"){let y;d.structType!=="notification"&&(y=yield this.db.collection(v.structType).findOne(v)),y&&(y._id=ue(y._id),c.push(y))}else if(d.structType==="comment"){let y=d,w=JSON.parse(JSON.stringify(y));w._id&&delete w._id;let b=yield this.db.collection("comment").findOne(w),A=b==null?void 0:b.replyTo,O=r.find(I=>{if(ue(I._id)===A)return!0});if(O){let I=JSON.parse(JSON.stringify(O));I._id&&delete I._id;let F;if(yield Promise.all(["discussion","chatroom","comment"].map(K=>ee(this,null,function*(){let H=yield this.db.collection(K).findOne({_id:Bt(A)});H&&(F=H)}))),F){let K=ue(b.parent._id),H,Y;K!==A?(H=r.find(z=>{if(ue(z._id)===K)return!0}),H&&(delete H._id,yield Promise.all(["discussion","chatroom"].map(z=>ee(this,null,function*(){let S=yield this.db.collection(z).findOne(H);S&&(Y=S)}))))):Y=F;let M=[b];F&&(F.replies.indexOf(ue(b._id))<0&&(F.replies.push(ue(b._id)),b.replyTo=ue(F._id)),M.push(F)),Y&&Y.comments.indexOf(b._id)<0&&(Y.comments.push(ue(b._id)),b.parent._id=ue(Y._id)),yield Promise.all(M.map(z=>ee(this,null,function*(){let S=JSON.parse(JSON.stringify(z));delete S._id,yield this.db.collection(z.structType).updateOne({_id:Bt(z._id)},{$set:S},{upsert:!1})}))),[...c].reverse().forEach((z,S)=>{M.find($=>{if(ue(z._id)===ue($._id))return!0})&&c.splice(c.length-S-1,1)}),c.push(...M)}}else b&&c.push(b)}}))),n&&this.checkToNotify(e,c),c}else{let c=[];return r.forEach(d=>{d.structType!=="notification"&&c.push(d)}),n&&this.checkToNotify(e,c),!0}}else return!1})}setMongoUser(e,r){return ee(this,null,function*(){var n;if(r._id){let i=Bt(r._id),o=i!==r._id?{_id:i}:{id:r.id};if((yield this.collections.profile.instance.findOne(o))&&(ue(e._id)!==r.ownerId||ue(e._id)===r.ownerId&&((n=e.userRoles)==null?void 0:n.admincontrol))){let c=!this.useAuths;if(this.useAuths&&(c=yield this.checkAuthorization(e,r,"WRITE")),!c)return!1}let a=JSON.parse(JSON.stringify(r));return this.router.DEBUG&&console.log("RETURNS PROFILE",r),yield this.collections.profile.instance.updateOne(o,{$set:a},{upsert:!0}),e=yield this.collections.profile.instance.findOne(o),this.checkToNotify(e,[r]),e}else return!1})}setGroup(i){return ee(this,arguments,function*(e,r={},n=this.mode){if(r._id){let o;if(n.includes("mongo")?o=yield this.collections.group.instance.findOne({name:r.name}):o=this.getLocalData("group",{_id:ue(r._id)}),o&&(o.ownerId!==r.ownerId||r.admins.indexOf(ue(e._id))<0))return!1;if(ue(e._id)!==r.ownerId){let w=!this.useAuths;if(this.useAuths&&(w=yield this.checkAuthorization(e,r,"WRITE")),!w)return!1}let s=[];Object.keys(r.users).forEach(w=>{s.push({email:w},{id:w},{username:w})});let a={},c={};if(n.includes("mongo")){let w=this.collections.profile.instance.find({$or:s});(yield w.count())>0&&(yield w.forEach(b=>{a[ue(b._id)]=b,c[ue(b._id)]=!0}))}else s.forEach(w=>{let b=this.getLocalData("profile",w);b.length>0&&(a[ue(b[0]._id)]=b[0],c[ue(b[0]._id)]=!0)});r.users=c;let d={},m={},v={};Object.keys(a).forEach(w=>{let b=a[w];(r.admins[ue(b._id)]||r.admins[b.email]||r.admins[b.username]||r.admins[r.ownerId])&&(d[ue(b._id)]||(d[ue(b._id)]=!0)),(r.peers[ue(b._id)]||r.peers[b.email]||r.peers[b.username]||r.peers[r.ownerId])&&(m[ue(b._id)]||(m[ue(b._id)]=!0)),(r.clients[ue(b._id)]||r.clients[b.email]||r.clients[b.username]||r.clients[r.ownerId])&&(v[ue(b._id)]||(v[ue(b._id)]=!0))}),r.admins=d,r.peers=m,r.clients=v;let y=JSON.parse(JSON.stringify(r));return y._id&&delete y._id,n.includes("mongo")?ue(r._id).includes("defaultId")?(yield this.db.collection(r.structType).insertOne(y),delete r._id,r=yield this.db.collection(r.structType).findOne(r),r._id=ue(r._id)):yield this.collections.group.instance.updateOne({_id:Bt(r._id)},{$set:y},{upsert:!0}):this.setLocalData(r),this.checkToNotify(e,[r],this.mode),r}else return!1})}getMongoUser(e,r="",n=!1){return ee(this,null,function*(){return new Promise(i=>ee(this,null,function*(){var a;let o=[{email:r},{id:r},{username:r}];try{o.push({_id:Bt(r)})}catch(c){}let s=yield this.collections.profile.instance.findOne({$or:o});if(!s||s==null)i({});else if(s._id=ue(s._id),s.ownerId||(s.ownerId=s._id),s&&n===!1){if(ue(e._id)!==s._id||ue(e._id)===s._id&&((a=e.userRoles)==null?void 0:a.admincontrol)){let y=!this.useAuths;this.useAuths&&(y=yield this.checkAuthorization(e,s)),y||i(void 0)}let c=[],d=this.collections.authorization.instance.find({ownerId:s._id});(yield d.count())>0&&(yield d.forEach(y=>c.push(y)));let m=this.collections.group.instance.find({users:{$all:[s._id]}}),v=[];(yield m.count())>0&&(yield m.forEach(y=>v.push(y))),i({user:s,authorizations:c,groups:v})}else i({user:s})}))})}getMongoUsersByIds(){return ee(this,arguments,function*(e={},r=[]){let n=[];r.forEach(o=>{try{n.push({_id:Bt(o)})}catch(s){}});let i=[];if(n.length>0){let o=this.collections.profile.instance.find({$or:n});(yield o.count())>0&&(yield o.forEach(s=>{i.push(s)}))}return i})}getMongoUsersByRoles(){return ee(this,arguments,function*(e={},r={}){let n=this.collections.profile.instance.find({userRoles:{$all:r}}),i=[];return(yield n.count())>0&&(yield n.forEach(o=>{i.push(o)})),i})}getMongoDataByIds(e,r,n,i){return ee(this,null,function*(){if(r.length>0){let o=[];r.forEach(a=>{let c={_id:Bt(a)};n&&(c.ownerId=n),o.push(c)});let s=[];if(!i)yield Promise.all(Object.keys(this.collections).map(a=>ee(this,null,function*(){let c=yield this.db.collection(a).find({$or:o});if((yield c.count())>0){let d=!0,m="";yield c.forEach(v=>ee(this,null,function*(){var y;(ue(e._id)!==v.ownerId||ue(e._id)===v.ownerId&&((y=e.userRoles)==null?void 0:y.admincontrol))&&m!==v.ownerId&&(this.useAuths&&(d=yield this.checkAuthorization(e,v)),m=v.ownerId),d&&s.push(v)}))}})));else{let a=yield this.db.collection(i).find({$or:o});if((yield a.count())>0){let c=!0,d="";yield a.forEach(m=>ee(this,null,function*(){var v;(ue(e._id)!==m.ownerId||ue(e._id)===m.ownerId&&((v=e.userRoles)==null?void 0:v.admincontrol))&&d!==m.ownerId&&(this.useAuths&&(c=yield this.checkAuthorization(e,m)),d=m.ownerId),c&&s.push(m)}))}}return s}})}getMongoData(a,c,d){return ee(this,arguments,function*(e,r,n,i={},o=0,s=0){n||(n=i==null?void 0:i.ownerId),i||(i={}),i._id&&(i._id=Bt(i._id));let m=[],v=!0,y="";if(!r&&!n&&!i)return[];if(!r&&n&&Object.keys(i).length===0)return yield this.getAllUserMongoData(e,n);if((!i||Object.keys(i).length===0)&&n&&r){let w=this.db.collection(r).find({ownerId:n}).sort({$natural:-1}).skip(s);o>0&&w.limit(o),(yield w.count())>0&&(yield w.forEach(b=>ee(this,null,function*(){var A;(ue(e._id)!==b.ownerId||ue(e._id)===b.ownerId&&((A=e.userRoles)==null?void 0:A.admincontrol))&&y!==b.ownerId&&(this.useAuths&&(v=yield this.checkAuthorization(e,b)),y=b.ownerId),v===!0&&m.push(b)})))}else if(Object.keys(i).length>0&&n){let w=yield this.db.collection(r).findOne(Jl({ownerId:n},i));w&&m.push(w)}else Object.keys(i).length>0&&!n&&(yield Promise.all(Object.keys(this.collections).map(w=>ee(this,null,function*(){var A;let b=yield this.db.collection(w).findOne(i);if(b){(ue(e._id)!==b.ownerId||ue(e._id)===b.ownerId&&((A=e.userRoles)==null?void 0:A.admincontrol))&&y!==b.ownerId&&(this.useAuths&&(v=yield this.checkAuthorization(e,b)),y=b.ownerId),m.push(b);return}}))));return v?m:[]})}getAllUserMongoData(i,o){return ee(this,arguments,function*(e,r,n=[]){let s=[],a=!0,c="";return yield Promise.all(Object.keys(this.collections).map((d,m)=>ee(this,null,function*(){var v;if(a&&n.indexOf(d)<0){let y=this.db.collection(d).find({ownerId:r}),w=yield y.count();for(let b=0;b<w;b++){let A=yield y.next();(ue(e._id)!==r||ue(e._id)===r&&((v=e.userRoles)==null?void 0:v.admincontrol))&&c!==r&&(this.useAuths&&(a=yield this.checkAuthorization(e,A)),c=r),a&&s.push(A)}}}))),a?s:[]})}getMongoDataByRefs(n){return ee(this,arguments,function*(e,r=[]){let i=[];if(i.length>0){let o="";r.forEach(s=>ee(this,null,function*(){var a;if(s.structType&&ue(s._id)){let c=yield this.db.collection(s.structType).findOne({_id:Bt(s._id)});if(c){let d=!0;(ue(e._id)!==c.ownerId||ue(e._id)===c.ownerId&&((a=e.userRoles)==null?void 0:a.admincontrol))&&o!==c.ownerId&&(this.useAuths&&(d=yield this.checkAuthorization(e,c)),o=c.ownerId),d===!0&&i.push(c)}}}))}return i})}getMongoAuthorizations(i){return ee(this,arguments,function*(e,r=ue(e._id),n=""){var s;let o=[];if(n.length===0){let a=this.collections.authorization.instance.find({ownerId:r});(yield a.count)>0&&(yield a.forEach(c=>{o.push(c)}))}else o.push(yield this.collections.authorization.instance.findOne({_id:Bt(n),ownerId:r}));if(ue(e._id)!==((s=o[0])==null?void 0:s.ownerId)){let a=!this.useAuths;if(this.useAuths&&(a=yield this.checkAuthorization(e,o[0])),!a)return}return o})}getMongoGroups(i){return ee(this,arguments,function*(e,r=ue(e._id),n=""){let o=[];if(n.length===0){let s=this.collections.group.instance.find({users:{$all:[r]}});(yield s.count)>0&&(yield s.forEach(a=>{o.push(a)}))}else try{o.push(yield this.collections.group.instance.findOne({_id:Bt(n),users:{$all:[r]}}))}catch(s){}return o})}deleteMongoData(n){return ee(this,arguments,function*(e,r=[]){let i=[];yield Promise.all(r.map(s=>ee(this,null,function*(){try{let a=Bt(s._id),c=yield this.db.collection(s.structType).findOne({_id:a});if(c){i.push(c);let d=yield this.collections.notifications.instance.find({parent:{structType:s.structType,_id:ue(s._id)}}),m=yield d.count();for(let v=0;v<m;v++){let y=yield d.next();y&&i.push(y)}}}catch(a){}})));let o="";return yield Promise.all(i.map((s,a)=>ee(this,null,function*(){var d;let c=!0;(s.ownerId!==ue(e._id)||ue(e._id)===s.ownerId&&((d=e.userRoles)==null?void 0:d.admincontrol))&&s.ownerId!==o&&(o=s.ownerId,this.useAuths&&(c=yield this.checkAuthorization(e,s,"WRITE"))),c&&(yield this.db.collection(s.structType).deleteOne({_id:Bt(s._id)}),s.users&&Object.keys(s.users).forEach(m=>{m!==ue(e._id)&&m!==s.ownerId&&this.router.sendMsg(m,"deleted",ue(s._id))}),s.ownerId!==e._id&&this.router.sendMsg(s.ownerId,"deleted",ue(s._id)))}))),!0})}deleteMongoUser(e,r){return ee(this,null,function*(){var n;if(ue(e._id)!==r||ue(e._id)===r&&((n=e.userRoles)==null?void 0:n.admincontrol)){let i=yield this.collections.profile.instance.findOne({id:r}),o=!this.useAuths;if(this.useAuths&&(o=yield this.checkAuthorization(e,i,"WRITE")),!o)return!1}return yield this.collections.profile.instance.deleteOne({id:r}),ue(e._id)!==r&&this.router.sendMsg(r,"deleted",r),!0})}deleteMongoGroup(e,r){return ee(this,null,function*(){var i;let n=yield this.collections.group.instance.findOne({_id:Bt(r)});if(n){if(ue(e._id)!==n.ownerId||ue(e._id)===n.ownerId&&((i=e.userRoles)==null?void 0:i.admincontrol)){let o=!this.useAuths;if(this.useAuths&&(o=yield this.checkAuthorization(e,n,"WRITE")),!o)return!1}return n.users&&Object.keys(n.users).forEach(o=>{this.router.sendMsg(n.authorizerId,"deleted",ue(n._id))}),yield this.collections.group.instance.deleteOne({_id:Bt(r)}),!0}else return!1})}deleteMongoAuthorization(e,r){return ee(this,null,function*(){var i;let n=yield this.collections.authorization.instance.findOne({_id:Bt(r)});if(n){if(ue(e._id)!==n.ownerId||ue(e._id)===n.ownerId&&((i=e.userRoles)==null?void 0:i.admincontrol)){let o=!this.useAuths;if(this.useAuths&&(o=yield this.checkAuthorization(e,n,"WRITE")),!o)return!1}return n.associatedAuthId&&(this.router.DEBUG&&console.log(n),yield this.collections.authorization.instance.deleteOne({_id:Bt(n.associatedAuthId)}),n.authorizerId&&n.authorizerId!==ue(e._id)?this.router.sendMsg(n.authorizerId,"deleted",ue(n._id)):n.authorizedId&&n.authorizedId!==ue(e._id)&&this.router.sendMsg(n.authorizedId,"deleted",ue(n._id))),yield this.collections.authorization.instance.deleteOne({_id:Bt(r)}),!0}else return!1})}setAuthorization(i,o){return ee(this,arguments,function*(e,r,n=this.mode){var v;let s,a;if(n.includes("mongo")?(s=(yield this.getMongoUser(e,r.authorizedId,!0)).user,a=(yield this.getMongoUser(e,r.authorizerId,!0)).user):(s=this.getLocalData("profile",{_id:r.authorizedId})[0],a=this.getLocalData("profile",{_id:r.authorizerId})[0]),!s||!a)return!1;if(r.authorizedId!==ue(s._id)&&(r.authorizedId=ue(s._id)),r.authorizerId!==ue(a._id)&&(r.authorizerId=ue(a._id)),r.authorizedName||(s.username?r.authorizedName=s.username:s.email&&(r.authorizedName=s.email)),r.authorizerName||(a.username?r.authorizerName=a.username:a.email&&(r.authorizerName=a.email)),(ue(e._id)!==r.ownerId||ue(e._id)===r.ownerId&&((v=e.userRoles)==null?void 0:v.admincontrol))&&ue(e._id)!==r.authorizedId&&ue(e._id)!==r.authorizerId){let y=!this.useAuths;if(this.useAuths&&(y=yield this.checkAuthorization(e,r,"WRITE")),!y)return!1}let c=[];if(n.includes("mongo")){let y=this.collections.authorization.instance.find({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId}]});(yield y.count())>0&&(yield y.forEach(w=>c.push(w)))}else{let y=this.getLocalData("authorization",{authorizedId:r.authorizedId});Array.isArray(y)&&y.forEach(w=>{w.authorizerId===r.authorizerId&&c.push(w)})}let d;Array.isArray(c)&&c.forEach(y=>ee(this,null,function*(){if(y.ownerId!==ue(e._id)){r.authorizerId===ue(e._id)?(y.authorizations=r.authorizations,y.structs=r.structs,y.excluded=r.excluded,y.expires=r.expires,y.status="OKAY",r.status="OKAY"):(r.authorizations=y.authorizations,r.structs=y.structs,r.excluded=y.excluded,r.expires=y.expires,y.status="OKAY",r.status="OKAY"),r.associatedAuthId=ue(y._id),y.associatedAuthId=ue(r._id),d=y;let w=JSON.parse(JSON.stringify(y));n.includes("mongo")?(delete w._id,yield this.collections.authorization.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:y.ownerId}]},{$set:w},{upsert:!0})):this.setLocalData(w)}}));let m=JSON.parse(JSON.stringify(r));if(n.includes("mongo")?(delete m._id,yield this.collections.authorization.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:r.ownerId}]},{$set:m},{upsert:!0})):this.setLocalData(m),ue(r._id).includes("defaultId")&&n.includes("mongo")){let y=yield this.collections.authorization.instance.findOne(m);if(y&&(r._id=ue(y._id),d)){let w=yield this.collections.authorization.instance.findOne({$and:[{authorizedId:d.authorizedId},{authorizerId:d.authorizerId},{ownerId:d.ownerId}]});if(w){w.associatedAuthId=ue(r._id);let b=JSON.parse(JSON.stringify(w));delete b._id,yield this.collections.authorization.instance.updateOne({$and:[{authorizedId:w.authorizedId},{authorizerId:w.authorizerId},{ownerId:w.ownerId}]},{$set:b},{upsert:!0}),this.checkToNotify(e,[w])}}}return r})}checkAuthorization(o,s){return ee(this,arguments,function*(e,r,n="READ",i=this.mode){if(!e||!r)return!1;if(typeof e=="object"){if(r.ownerId===ue(e._id)&&!e.userRoles.admincontrol)return!0}else if(typeof e=="string"){if(r.ownerId===e)return!0;e={_id:e}}let a,c;if(i.includes("mongo")?(a=yield this.collections.authorization.instance.findOne({$or:[{authorizedId:ue(e._id),authorizerId:r.ownerId,ownerId:ue(e._id)},{authorizedId:r.ownerId,authorizerId:ue(e._id),ownerId:ue(e._id)}]}),c=yield this.collections.authorization.instance.findOne({$or:[{authorizedId:ue(e._id),authorizerId:r.ownerId,ownerId:r.ownerId},{authorizedId:r.ownerId,authorizerId:ue(e._id),ownerId:r.ownerId}]})):(a=this.getLocalData("authorization",{ownerId:ue(e._id)}).find(m=>{if(m.authorizedId===ue(e._id)&&m.authorizerId===r.ownerId)return!0}),c=this.getLocalData("authorization",{ownerId:r.ownerId}).find(m=>{if(m.authorizedId===ue(e._id)&&m.authorizerId===r.ownerId)return!0})),!a||!c)return!1;let d=!1;return a.status==="OKAY"&&c.status==="OKAY"&&(r.structType==="group"?a.authorizations[r.name+"_admin"]&&c.authorizations[r.name+"_admin"]?d=!0:d=!1:a.authorizations.peer&&c.authorizations.peer||a.authorizations.admincontrol&&c.authorizations.admincontrol||a.structIds[ue(r._id)]&&c.structIds[ue(r._id)]?d=!0:a.excluded[r.structType]&&r.ownerId===ue(e._id)&&n==="WRITE"&&(d=!1)),d})}checkPermissionSets(e,r,n,i,o){let s;for(let a=0;a<this.permissionSets.length&&(s=this.permissionSets[a](e,r,n,i,o),s===void 0);a++);return s}addPermissionSet(e=(r,n,i)=>!0){return typeof e=="function"?(this.permissionSets.push(e),!0):!1}overwriteLocalData(e){if(Array.isArray(e))e.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:ue(r._id)});!n||(n==null?void 0:n.length)===0?this.setLocalData(r):Object.assign(n,r)});else{let r=this.getLocalData(e.structType,{ownerId:e.ownerId,_id:ue(e._id)});!r||(r==null?void 0:r.length)===0?this.setLocalData(e):Object.assign(r,e)}}setLocalData(e){let r=n=>{var s;let i=n.structType,o=(s=this.collections[i])==null?void 0:s.reference;o||(o={},this.collections[i]||(this.collections[i]={}),this.collections[i].reference=o),o[ue(n._id)]=n};Array.isArray(e)?e.forEach(n=>{r(n)}):r(e)}getLocalData(e,r){var a;let n,i,o;if(typeof r=="object"?(n=r.ownerId,i=Object.keys(r).filter(d=>d!="ownerId")[0],o=r[i]):o=r,!e&&!n&&!i&&!o)return[];let s=[];if(!e&&(n||i))return Object.values(this.collections).forEach(c=>{if(c=c.reference,(i==="_id"||i==="id")&&o){let d=c[o];d&&s.push(d)}else Object.values(c).forEach(d=>{i&&o?d[i]===o&&d.ownerId===n&&s.push(d):d.ownerId===n&&s.push(d)})}),s;{let c=(a=this.collections[e])==null?void 0:a.reference;if(!c)return s;if(!i&&!n)return Object.values(c).forEach(d=>{s.push(d)}),s;if((i==="_id"||i==="id")&&o)return ue(c[o]);Object.keys(c).forEach(d=>{let m=c[d];i&&o&&!n?m[i]===o&&s.push(m):n&&!i?m.ownerId===n&&s.push(m):n&&i&&o&&m.ownerId===n&&m[i]&&m[i]===o&&s.push(m)})}return s}deleteLocalData(e){if(!e)throw new Error("Struct not supplied");return!e.structType||!e._id?!1:(this.collections[e.structType]&&delete this.collections[e.structType].reference[e._id],!0)}},dS=hS});var yS,Cc,Tp=tt(()=>{K2();nS();xs();pS();yS=class extends xp{constructor(e={},r){super(r);this.tablet=new Y2;this.collections=this.tablet.collections;this.id=dn();this.baseServerCallback=e=>{let r=e;if(typeof e=="object"&&(e==null?void 0:e.structType)&&(r=[e]),Array.isArray(r)){let n=r.filter(i=>{if(i.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(n),r.forEach(i=>{var o,s,a,c,d,m,v;if(typeof i=="object")if((!i.structType||i.structType==="USER")&&(i.email?i.structType="user":i.structType="uncategorized"),i.structType==="user"||i.structType==="authorization"||i.structType==="group"){if(i.structType==="user")i._id=i.id;else if(i.structType==="group"&&this.currentUser){let y=!1;i.admins[(o=this.currentUser)==null?void 0:o._id]&&!this.currentUser.userRoles[i.name+"_admin"]?(this.currentUser.userRoles[i.name+"_admin"]=!0,y=!0):!i.admins[(s=this.currentUser)==null?void 0:s._id]&&this.currentUser.userRoles[i.name+"_admin"]&&(delete this.currentUser.userRoles[i.name+"_admin"],y=!0),i.admins[(a=this.currentUser)==null?void 0:a._id]&&!this.currentUser.userRoles[i.name+"_peer"]?(this.currentUser.userRoles[i.name+"_peer"]=!0,y=!0):!i.admins[(c=this.currentUser)==null?void 0:c._id]&&this.currentUser.userRoles[i.name+"_peer"]&&(delete this.currentUser.userRoles[i.name+"_peer"],y=!0),i.admins[(d=this.currentUser)==null?void 0:d._id]&&!this.currentUser.userRoles[i.name+"_client"]?(this.currentUser.userRoles[i.name+"_client"]=!0,y=!0):!i.admins[(m=this.currentUser)==null?void 0:m._id]&&this.currentUser.userRoles[i.name+"_client"]&&(delete this.currentUser.userRoles[i.name+"_client"],y=!0),y&&this.setUser(this.currentUser)}this.setLocalData(i)}else i.structType==="notification"?(this.getLocalData("notification",{ownerId:i.ownerId,_id:i.parent._id})?this.setLocalData(i):this.getLocalData(i.structType,{_id:i.parent._id})||this.overwriteLocalData(i),i.ownerId===((v=this.currentUser)==null?void 0:v._id)&&(i.parent.structType==="user"||i.parent.structType==="dataInstance"||i.parent.structType==="schedule"||i.parent.structType==="authorization")&&this.resolveNotifications([i],!0)):this.overwriteLocalData(i)})}(e==null?void 0:e.message)==="notifications"&&this.checkForNotifications(),(e==null?void 0:e.message)==="deleted"&&this.deleteLocalData(e.data),this.onResult(e)};this.ping=(e=r=>{console.log(r)})=>ee(this,null,function*(){var n;let r=(n=yield this.send("ping"))==null?void 0:n[0];return e(r),r});this.sendMessage=(e="",r="",n=void 0,i=o=>{console.log(o)})=>ee(this,null,function*(){var a;let o=[e,r];n&&(o[2]=n);let s=(a=yield this.send("sendMessage",...o))==null?void 0:a[0];return i(s),s});this.getUser=(...n)=>ee(this,[...n],function*(e="",r=this.baseServerCallback){var o;let i=(o=yield this.send("structs/getUser",e))==null?void 0:o[0];return r(i),i});this.getUsers=(...n)=>ee(this,[...n],function*(e=[],r=this.baseServerCallback){let i=yield this.send("structs/getUsersByIds",...e);return r(i),i});this.getUsersByRoles=(...n)=>ee(this,[...n],function*(e={},r=this.baseServerCallback){let i=yield this.send("structs/getUsersByRoles",e);return r(i),i});this.getAllUserData=(i,...o)=>ee(this,[i,...o],function*(e,r=[],n=this.baseServerCallback){let s=yield this.send("structs/getAllData",e,r);return n(s),s});this.query=(s,...a)=>ee(this,[s,...a],function*(e,r={},n=!1,i=0,o=this.baseServerCallback){if(!e||!r)return;let c=yield this.send("structs/query",[e,r,n,i]);return typeof o=="function"&&o(c),c});this.getData=(a,c,d,...m)=>ee(this,[a,c,d,...m],function*(e,r,n,i=0,o=0,s=this.baseServerCallback){let v=yield this.send("structs/getData",e,r,n,i,o);return typeof s=="function"&&s(v),v});this.getDataByIds=(...o)=>ee(this,[...o],function*(e=[],r,n,i=this.baseServerCallback){let s=yield this.send("structs/getDataByIds",e,r,n);return typeof i=="function"&&i(s),s});this.getStructParentData=(n,...i)=>ee(this,[n,...i],function*(e,r=this.baseServerCallback){var a,c,d;if(!e.parent)return;let o=[(a=e.parent)==null?void 0:a.structType,"_id",(c=e.parent)==null?void 0:c._id],s=(d=yield this.send("structs/getData",...o))==null?void 0:d[0];return typeof r=="function"&&r(s),s});this.setUser=(...n)=>ee(this,[...n],function*(e={},r=this.baseServerCallback){var o;let i=(o=yield this.send("structs/setUser",this.stripStruct(e)))==null?void 0:o[0];return typeof r=="function"&&r(i),i});this.checkUserToken=(i,...o)=>ee(this,[i,...o],function*(e,r=this.currentUser,n=this.baseServerCallback){if(!e)return!1;let s=!1;for(let a in e){let c=this.userStruct();if(r[a]&&a!=="_id")if(Array.isArray(e[a])){for(let d=0;d<r[a].length;d++)if(e[a].indexOf(r[a][d])<0){r[a]=e[a],s=!0;break}if(!s){for(let d=0;d<e[a].length;d++)if(r[a].indexOf(e[a][d])<0){r[a]=e[a],s=!0;break}}}else r[a]!==e[a]&&(r[a]=e[a],s=!0);else!r[a]&&c[a]&&(r[a]=e[a],s=!0)}return s&&(yield this.setUser(r,n))});this.setData=(...i)=>ee(this,[...i],function*(e=[],r=!0,n=this.baseServerCallback){let o=new Array;!Array.isArray(e)&&typeof e=="object"&&(e=[e]),e.forEach(a=>{o.push(this.stripStruct(a))});let s=yield this.send("structs/setData",[o,r]);return typeof n=="function"&&n(s),s});this.updateServerData=this.setData;this.deleteData=(...n)=>ee(this,[...n],function*(e=[],r=this.baseServerCallback){var s;let i=[];e.forEach(a=>{if(typeof a=="object")(a==null?void 0:a.structType)&&(a==null?void 0:a._id)&&(i.push({structType:a.structType,_id:a._id}),this.deleteLocalData(a));else if(typeof a=="string"){let c=this.getLocalData(void 0,{_id:a});c&&!Array.isArray(c)?i.push({structType:c.structType,_id:c._id}):i.push({_id:a})}});let o=(s=yield this.send("structs/deleteData",...i))==null?void 0:s[0];return typeof r=="function"&&r(o),o});this.deleteUser=(n,...i)=>ee(this,[n,...i],function*(e,r=this.baseServerCallback){var s;if(!e)return;let o=(s=yield this.send("structs/deleteUser",e))==null?void 0:s[0];return typeof r=="function"&&r(o),o});this.setGroup=(...n)=>ee(this,[...n],function*(e={},r=this.baseServerCallback){var o;let i=(o=yield this.send("structs/setGroup",this.stripStruct(e)))==null?void 0:o[0];return typeof r=="function"&&r(i),i});this.getGroups=(...i)=>ee(this,[...i],function*(e=this.currentUser._id,r="",n=this.baseServerCallback){let o=yield this.send("structs/getGroups",e,r);return typeof n=="function"&&n(o),o});this.deleteGroup=(n,...i)=>ee(this,[n,...i],function*(e,r=this.baseServerCallback){var s;if(!e)return;this.deleteLocalData(e);let o=(s=yield this.send("structs/deleteGroup",e))==null?void 0:s[0];return typeof r=="function"&&r(o),o});this.setAuthorization=(...n)=>ee(this,[...n],function*(e={},r=this.baseServerCallback){var o;let i=(o=yield this.send("structs/setAuth",this.stripStruct(e)))==null?void 0:o[0];return typeof r=="function"&&r(i),i});this.getAuthorizations=(...o)=>ee(this,[...o],function*(e=(i=>(i=this.currentUser)==null?void 0:i._id)(),r="",n=this.baseServerCallback){if(e===void 0)return;let s=yield this.send("structs/getAuths",e,r);return typeof n=="function"&&n(s),s});this.deleteAuthorization=(n,...i)=>ee(this,[n,...i],function*(e,r=this.baseServerCallback){var s;if(!e)return;this.deleteLocalData(e);let o=(s=yield this.send("structs/deleteAuth",e))==null?void 0:s[0];return typeof r=="function"&&r(o),o});this.checkForNotifications=(...n)=>ee(this,[...n],function*(e=(r=>(r=this.currentUser)==null?void 0:r._id)()){return yield this.getData("notification",e)});this.resolveNotifications=(...i)=>ee(this,[...i],function*(e=[],r=!0,n=this.currentUser){if(!n||e.length===0)return;let o=[],s=[],a=[],c=!1;if(e.length===0&&(e=this.getLocalData("notification",{ownerId:n._id})),e.forEach(d=>{d.parent.structType==="user"&&(c=!0),a.push(d.parent.structType),o.push(d.parent._id),s.push(d._id),this.deleteLocalData(d)}),this.deleteData(e),r){if(a.reverse().forEach((d,m)=>{d==="user"&&(this.getUser(o[m]),o.splice(o.length-m-1,1))}),o.length===1)return yield this.getDataByIds(o,void 0,e[0].parent.structType);if(o.length>0)return yield this.getDataByIds(o)}return!0});this.setAuthorizationsByGroup=(...r)=>ee(this,[...r],function*(e=this.currentUser){let n=this.getLocalData("authorization",{ownerId:e._id}),i=[];if(yield Promise.all(Object.keys(e.userRoles).map(o=>ee(this,null,function*(){let a=o.split("_")[0],c;if(o.includes("client")?c=a+"_peer":o.includes("peer")?c=a+"_client":o.includes("admin")&&(c=a+"_owner"),c){let d=yield this.getUsersByRoles([c]);d&&(yield Promise.all(d.map(m=>ee(this,null,function*(){let v=m.username;v||(v=m.email),v||(v=m._id);let y=e.username;if(y||(y=e.email),y||(y=e._id),v!==y){if(o.includes("client")){if(!n.find(b=>{if(b.authorizerId===m._id&&b.authorizedId===e._id)return!0})){let b=yield this.authorizeUser(qn.ProfileStruct("user",e,e),m._id,v,e._id,y,{peer:!0},void 0,{group:a});i.push(b)}}else if(o.includes("peer")&&!n.find(b=>{if(b.authorizedId===m._id&&b.authorizerId===e._id)return!0})){let b=yield this.authorizeUser(qn.ProfileStruct("user",e,e),e._id,y,m._id,v,{peer:!0},void 0,{group:a});i.push(b)}}}))))}}))),i.length>0)return i});this.deleteRoom=e=>ee(this,null,function*(){var n;if(!e)return!1;let r=[e];return(n=e.comments)==null||n.forEach(i=>{let o=this.getLocalData("comment",{_id:i});r.push(o)}),e?yield this.deleteData(r):!1});this.deleteComment=e=>ee(this,null,function*(){var a,c,d;let r=[e],n=(m=e)=>{(m==null?void 0:m.replies)&&m.replies.forEach(v=>{let y=this.getLocalData("comment",{_id:v});y&&(y.replies.length>0&&y.replies.forEach(w=>{n(w)}),r.push(y))})};n(e);let i=this.getLocalData((a=e.parent)==null?void 0:a.structType,{_id:(c=e.parent)==null?void 0:c._id}),o=[];i&&(o=[i],r.forEach(m=>{var w,b;let v=(w=i.replies)==null?void 0:w.indexOf(m._id);v>-1&&i.replies.splice(v,1);let y=(b=i.comments)==null?void 0:b.indexOf(m._id);y>-1&&i.comments.splice(y,1)}));let s=this.getLocalData("comment",{_id:e.replyTo});if((s==null?void 0:s._id)!==(i==null?void 0:i._id)){let m=(d=s.replies)==null?void 0:d.indexOf(i._id);m>-1&&s.replies.splice(m,1),o.push(s)}return o.length>0&&(yield this.updateServerData(o)),yield this.deleteData(r)});this.getUserDataByAuthorization=(a,c,d,...m)=>ee(this,[a,c,d,...m],function*(e,r,n,i=0,o=0,s=this.baseServerCallback){let v=e.authorizerId;if(v)return new Promise(y=>ee(this,null,function*(){this.getUser(v,w=>ee(this,null,function*(){r?yield this.getData(r,v,n,i,o,s):yield this.getAllUserData(v,["notification"],s),y(w),s(w)}))}))});this.getUserDataByAuthorizationGroup=(...a)=>ee(this,[...a],function*(e="",r,n,i=0,o=0,s=this.baseServerCallback){let c=this.getLocalData("authorization"),d=[];return yield Promise.all(c.map(m=>ee(this,null,function*(){var v;if((v=m.groups)==null?void 0:v.includes(e)){let y=m.authorizerId;if(y){let w,b=yield this.getUser(y,s);b&&d.push(b),r?w=yield this.getData(r,y,n,i,o,s):w=yield this.getAllUserData(y,["notification"],s),w&&d.push(w)}return!0}}))),d});this.getLocalUserPeerIds=(e=this.currentUser)=>{if(!e)return[];let r=[];return this.getLocalData("authorization",e._id).forEach(i=>{i.authorizations.peer&&i.authorizerId===e._id&&r.push(i.authorizedId)}),r};this.authorizeUser=(v,...y)=>ee(this,[v,...y],function*(e,r="",n="",i="",o="",s={},a={},c={},d={},m=!1){if(!e)return;let w=this.createStruct("authorization",void 0,e,void 0);return w.authorizedId=i,w.authorizedName=o,w.authorizerId=r,w.authorizerName=n,w.authorizations=s,w.structs=a,w.excluded=c,w.groups=d,w.expires=m,w.status="PENDING",w.associatedAuthId="",w.ownerId=e._id,w=yield this.setAuthorization(w),w});this.addGroup=(c,...d)=>ee(this,[c,...d],function*(e,r="",n="",i={},o={},s={},a=!0){if(!e)return;let m=this.createStruct("group",void 0,e);return m.name=r,m.details=n,m.admins=i,m.peers=o,m.clients=s,m.users={},Object.assign(m.users,m.admins),Object.assign(m.users,m.peers),Object.assign(m.users,m.clients),m.ownerId=e._id,a&&(m=yield this.setGroup(m)),m});this.addData=(c,...d)=>ee(this,[c,...d],function*(e,r="",n="",i="",o=[],s=!1,a=!0){if(!e)return;let m=this.createStruct("dataInstance",void 0,e);return m.author=r,m.title=n,m.type=i,m.data=o,m.expires=s,m.ownerId=e._id,a&&(m=yield this.updateServerData([m])[0]),m});this.addEvent=(v,...y)=>ee(this,[v,...y],function*(e,r="",n="",i="",o=0,s=0,a=0,c=[],d={},m=!0){if(!e)return;Object.keys(d).length===0&&(d=this.getLocalUserPeerIds(e));let w=this.createStruct("event",void 0,e);return w.author=r,w.event=n,w.notes=i,w.startTime=o,w.endTime=s,w.grade=a,w.attachments=c,w.users=d,w.ownerId=e._id,m&&(w=yield this.updateServerData([w])[0]),w});this.addChatroom=(a,...c)=>ee(this,[a,...c],function*(e,r="",n="",i=[],o={},s=!0){if(!e)return;Object.keys(o).length===0&&(o=this.getLocalUserPeerIds(e));let d=this.createStruct("chatroom",void 0,e);d.message=n,d.attachments=i,d.authorId=r,d.users=o,d.replies=[],d.comments=[],d.ownerId=e._id;let m=[d];return s&&(d=yield this.updateServerData(m)[0]),d});this.addComment=(c,d,m,...v)=>ee(this,[c,d,m,...v],function*(e,r,n,i="",o="",s=[],a=!0){if(!r||(n||(n=r),!e))return;let y=this.createStruct("comment",void 0,e,r);y.authorId=i,y.replyTo=n==null?void 0:n._id,y.message=o,y.attachments=s,y.users=r==null?void 0:r.users,y.replies=[],y.ownerId=e._id,a||n==null||n.replies.push(y._id),a||r==null||r.comments.push(y._id);let w=[y,r];n._id!==r._id&&w.push(n);let b;a&&(b=yield this.updateServerData(w));let A;return typeof b=="object"&&(A=b.find(O=>{if(y.ownerId===O.ownerId&&y.timestamp===O.timestamp&&y.message===O.message)return!0})),A||b});e instanceof Object&&Object.keys(e).length>0&&this.setupUser(e),this.load(new dS(this))}setupUser(e,r=n=>{}){return ee(this,null,function*(){if(!e){console.error('must provide an info object! e.g. {_id:"abc123"}'),r(void 0);return}let n=!1;e.id&&!e._id?e._id=e.id:e._id&&(e.id=e._id);let i=yield this.getUser(e._id),o=i==null?void 0:i.user,s,a=!1;if(o==null?void 0:o._id){s=o;for(let c in e){let d=this.userStruct();if(s[c]&&c!=="_id")if(Array.isArray(e[c])){for(let m=0;m<s[c].length;m++)if(e[c].indexOf(s[c][m])<0){s[c]=e[c],n=!0;break}if(!n){for(let m=0;m<e[c].length;m++)if(s[c].indexOf(e[c][m])<0){s[c]=e[c],n=!0;break}}}else s[c]!==e[c]&&(s[c]=e[c],n=!0);else s[c]!==e[c]&&typeof d[c]=="string"&&c!=="_id"&&(s[c]=e[c],n=!0)}(i==null?void 0:i.authorizations)&&Array.isArray(i.authorizations)&&this.setLocalData(i.authorizations),(i==null?void 0:i.groups)&&Array.isArray(i.groups)&&this.setLocalData(i.groups)}else{s=this.userStruct(e,!0),a=!0;let c=yield this.setUser(s),d=this.getLocalData(void 0,{ownerId:s._id});(d==null?void 0:d.length)>0&&this.updateServerData(d),this.setAuthorizationsByGroup(s)}if(a)this.setLocalData(s);else{let c=yield this.getAllUserData(s._id,void 0);if(!(!c||c.length===0)){this.setLocalData(c);let d=c.filter(w=>{if(w.structType==="notification"&&(this.getLocalData("authorization",w.parent._id)||w.parent.structType==="user"||w.parent.structType==="authorization"||!this.getLocalData(w.parent.structType,w.parent._id)))return!0}),m=c.filter(w=>{if(w.structType==="comment")return!0}),v=[];m.forEach(w=>{this.getLocalData("comment",{_id:w._id})||v.push(w._id)}),v.length>0&&this.deleteData(v),d.length>0&&(this.resolveNotifications(d,!1,void 0),n=!0);let y=c.filter(w=>{if(w.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(y)}this.setLocalData(s),console.log("collections",this.tablet.collections)}return s?(this.currentUser=s,r(this.currentUser),this.currentUser):(r(s),s)})}onResult(e){}randomId(e=""){return`${e+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}addStruct(){return ee(this,arguments,function*(e="struct",r={},n=void 0,i=void 0,o=!0){let s=qn.Struct(e,r,n,i);return o&&(s=yield this.updateServerData([s])[0]),s})}overwriteLocalData(e){if(Array.isArray(e))e.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:r._id});!n||(n==null?void 0:n.length)===0?this.setLocalData(r):Object.assign(n,r)});else{let r=this.getLocalData(e.structType,{ownerId:e.ownerId,_id:e._id});!r||(r==null?void 0:r.length)===0?this.setLocalData(e):Object.assign(r,e)}}setLocalData(e){this.tablet.setLocalData(e)}getLocalData(e,r){return this.tablet.getLocalData(e,r)}getLocalReplies(e){let r=[];if(e.replies){if(e.replies.reduce((n,i)=>n*(typeof i=="object"?1:0),1))return e.replies}else return r;return r=this.getLocalData("comment",{replyTo:e._id}),r}hasLocalAuthorization(e,r=this.currentUser._id){let i=this.getLocalData("authorization",{ownerId:r}).find(o=>{if(o.authorizedId===r&&o.authorizerId===e||o.authorizerId===r&&o.authorizedId===e)return!0});return i||!1}deleteLocalData(e){return Array.isArray(e)?e.forEach(r=>this.deleteStruct(r)):this.deleteStruct(e),!0}deleteStruct(e){if(typeof e=="string"&&(e=this.getLocalData(e)),!e)throw new Error("Struct not supplied");return!e.structType||!e._id?!1:(this.tablet.collections.get(e.structType).delete(e._id),!0)}stripStruct(e={}){let r=Object.assign({},e);for(let n in r)(r[n]===void 0||r[n].constructor.name==="Map")&&delete r[n];return r}createStruct(e,r,n=this.currentUser,i){return qn.Struct(e,r,n,i)}userStruct(e={},r=!1){let n=qn.ProfileStruct(void 0,e,e);e._id?n.id=e._id:e.id?n.id=e.id:n.id="user"+Math.floor(Math.random()*1e10),n._id=n.id,n.ownerId=n.id;for(let i in e)Object.keys(qn.ProfileStruct()).indexOf(i)<0&&delete n[i];return r&&(this.currentUser=n),n}dataObject(e=void 0,r="any",n=Date.now()){return{type:r,data:e,timestamp:n}}},Cc=yS});var yl,Np=tt(()=>{kp();fl();yl=class extends pl{constructor(e){super(e);this.responses=new Map;this.serviceType="subscription";this.subscribers=new Map;this.updateSubscribers=(e,r)=>{this.subscribers.forEach(n=>{cl(r.route,!1).forEach(o=>{n.routes[o]&&(n==null?void 0:n.send)&&n.send(e.format(r))})})};this.add=(e,r)=>{throw"Add not implemented"};this.addResponse=(e,r)=>{this.responses.set(e,r)};this.removeResponse=e=>{e?this.responses.delete(e):this.responses=new Map};this.send=(e,r)=>ee(this,null,function*(){throw"Send not implemented"})}}});var Ap,Pc,Ip=tt(()=>{Np();fl();Ap=class extends yl{constructor(e){super(e);this.name="http";this.service="http";this.add=(e,r)=>new Promise(n=>{this.connection=new EventSource(Ic("",r)),this.connection.onopen=()=>{this.connection.onmessage=i=>{let o=JSON.parse(i.data);o.route==="events/subscribe"&&n(o.message[0]),this.responses.forEach(s=>s(o))}}})}};Ap.type="client";Pc=Ap});var jc,mS=tt(()=>{jc={protocol:"http",hosturl:"localhost",port:"80",port2:"81",docusaurus:"3000"}});var Dp,Lc,Rp=tt(()=>{Np();Rc();mS();Dp=class extends yl{constructor(e,r={},n){super(e);this.name="websocket";this.service="websocket";this.connected=!1;this.sendQueue={};this.sockets=new Map;this.queue={};this.origin=`client${Math.floor(Math.random()*1e13)}`;this.encodeForSubprotocol=e=>{let r=[];return e._id&&(e.id=e._id,delete e._id),Object.keys(e).forEach(i=>r.push(`brainsatplay.com/${i}/${e[i]}?arr=`+Array.isArray(e[i]))),encodeURIComponent(r.join(";"))||void 0};this.add=(e,r)=>ee(this,null,function*(){return this.addSocket(r,e)});this.send=(e,r={})=>new Promise(n=>{let i=d=>{r.callback&&r.callback(d),n(d)},o=""+Math.random();typeof e=="object"&&(Array.isArray(e)?e.splice(1,0,o):e.callbackId=o),this.queue[o]={resolve:n,suppress:e.suppress};let s,a=new URL(r.id);if(s=this.getSocket(a),!s)return;let c=()=>s.send(hl(e),i);s.readyState===s.OPEN?c():(this.sendQueue[a.origin]||(this.sendQueue[a.origin]=[]),this.sendQueue[a.origin].push(c))});this.post=this.send;this.onmessage=e=>{let r;try{r=JSON.parse(e.data)}catch(o){r=e}console.log("WS Message",r);let n=()=>{this.responses.forEach((o,s)=>{o(r)})},i=r.callbackId;if(i){delete r.callbackId;let o=this.queue[i];(o==null?void 0:o.resolve)&&o.resolve(r),(o==null?void 0:o.suppress)||n(),delete this.queue[i]}else n(),this.defaultCallback(r)};this.defaultCallback=e=>{};this.isOpen=e=>{let r=this.getSocket(e);return r?r.readyState===1:!1};this.close=e=>{let r=this.getSocket(e);return r?r.close():!1};this.terminate=this.close;this.subprotocols=r,n&&this.addSocket(n,r)}addSocket(e=new URL(`${jc.protocol}://${jc.host}:${jc.port}`),r=this.subprotocols){let n;e instanceof URL||(e=new URL(e));let i=e.origin;try{if(e.protocol==="http:")n=new WebSocket("ws://"+e.host,this.encodeForSubprotocol(r));else if(e.protocol==="https:")n=new WebSocket("wss://"+e.host,this.encodeForSubprotocol(r));else{console.log("invalid protocol");return}return n.onmessage=this.onmessage,this.sockets.set(i,n),i}catch(o){console.error("Error with socket creation!",o);return}}getSocket(e){return typeof e=="string"&&(e=new URL(e)),e?this.sockets.get(e.origin):this.sockets.values().next().value}addCallback(e="",r=n=>{}){if(e.length>0&&!this.responses.has(e))this.responses.set(e,r);else return!1}removeCallback(e=""){this.responses.delete(e)}};Dp.type="client";Lc=Dp});var qe,cT,fT,ks=tt(()=>{Tp();Ip();Rp();qe=new Cc,cT=new Pc(qe),fT=new Lc(qe);qe.load(cT,"http");qe.load(fT,"websockets")});var vS,wS,gS,ml,gl,Fp=tt(()=>{vS=Ft(_i());tl();I2();ks();wS=Ft(Xa()),gS=new In(wS.settings.realmapp),ml=(t,e)=>ee(void 0,null,function*(){let{currentUser:r}=gS,n="LOG_IN";if(r)try{yield r.refreshAccessToken(),n="REFRESH"}catch(i){return{type:"FAIL",data:{err:i,type:"REFRESH"}}}else{let i;try{t==="google"?(yield(0,vS.wait)(0),i=Zt.google({redirectUrl:window.location.origin})):t&&(i=Zt.emailPassword(t,e))}catch(o){console.error(o)}if(i)try{let o=yield gS.logIn(i);o&&(yield o.refreshAccessToken(),r=o)}catch(o){return{type:"FAIL",data:{err:o,type:"LOGIN"}}}}return r?{type:n,data:r.toJSON()}:{type:"FAIL",data:{err:void 0,type:"UNCAUGHT"}}}),gl=t=>ee(void 0,null,function*(){var n,i;let e=!1,r;if((t==null?void 0:t.type)!=="FAIL"&&((t==null?void 0:t.data).id||(t==null?void 0:t.data)._id?r=qe.setupUser(t.data):((i=(n=t==null?void 0:t.data)==null?void 0:n.profile)==null?void 0:i.data)._id&&(r=qe.setupUser(t.data.profile.data))),r){let o=yield r;if(o)return e=!0,Xr.setState({isLoggedIn:!0,loggedInId:o._id,viewingId:o._id}),console.log("Logged in: ",o),o}e||(console.log("User not created with info:",t.data),Xr.get("isLoggedIn")&&Xr.setState({isLoggedIn:!1}))});window.location.href.includes("_baas_client_app_id")&&A2()});function Vt(t="struct",e={},r={_id:""},n={structType:"struct",_id:""}){function i(s=""){return`${s+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}let o={_id:i(t+"defaultId"),structType:t,ownerId:r?._id,timestamp:Date.now(),parent:{structType:n?.structType,_id:n?._id}};return o.ownerId||delete o.ownerId,o?.parent?._id||delete o.parent,Object.keys(e).length>0&&Object.assign(o,e),o}function Mc(t,e={}){if(!mo[t.tag]&&t.position&&(mo[t.tag]=[t.position.x,t.position.y,t.position.z]),mo[t.tag]){let r={channel:"",position:{x:mo[t.tag][0],y:mo[t.tag][1],z:mo[t.tag][2]}};return Object.assign(e,r)}else return Object.assign(e,t)}function dT(t=[],e=!0){let r=[];for(let n of t){let i=ki(n);r.push(i)}return e&&r.push(...Pp({channelDicts:t})),r}function Bc(t=[],e={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return t.forEach(n=>r[n]=[]),Object.assign(e,r)}function ki(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Bc(),o={tag:t,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Vt("eeg",o,r,n);return t&&Mc(o,s),Object.assign(s,e)}function Cp(t={0:ki("FP1"),1:ki("FP2")},e={},r={_id:""},n={structType:"struct",_id:""}){let i=Bc(),o={tag:t[0]?.tag+"::"+t[1]?.tag,x0:t[0]?.position?.x,y0:t[0]?.position?.y,z0:t[0]?.position?.z,x1:t[1]?.position?.x,y1:t[1]?.position?.y,z1:t[1]?.position?.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Vt("coherence",o,r,n);return Object.assign(s,e)}function Pp(t={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},e={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,a=0;a<t.channelDicts.length*(t.channelDicts.length+1)/2-t.channelDicts.length;a++){if(t.taggedOnly===!1||t.taggedOnly===!0&&t.channelDicts[s].tag!==null&&t.channelDicts[s+o].tag!==null&&t.channelDicts[s].tag!=="other"&&t.channelDicts[s+o].tag!=="other"&&t.channelDicts[s].analyze===!0&&t.channelDicts[s+o].analyze===!0){var c=ki(t.channelDicts[s].tag),d=ki(t.channelDicts[s+o].tag);i.push(Cp({0:c,1:d},{},r,n))}o++,o+s===t.channelDicts.length&&(s++,o=1)}return i}function jp(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=Vt("fnirs",i,r,n);return t&&Mc(i,o),Object.assign(o,e)}function bS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=Vt("imu",i,r,n);return t&&Mc(i,o),Object.assign(o,e)}function ES(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},o=Vt("eyetracker",i,r,n);return Object.assign(o,e)}function Lp(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},o=Vt("ecg",i,r,n);return Object.assign(o,e)}function xS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){}function OS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jp(t,r,n,e);return i.structType="ppg",i}function kS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Lp(t,r,n,e);return i.structType="hrv",i}function TS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=ki(t,r,n,e);return i.structType="emg",i}function NS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Vt("profile",{tag:t,name:"",username:"",firstName:"",lastName:"",email:"",phone:"",sex:"",birthday:"",type:"",userRoles:{},socials:{},data:{},id:""},r,n);return Object.assign(i,e)}function AS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Vt("authorization",{tag:t,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:{},structs:{},excluded:{},groups:{},status:"PENDING",expires:!1,associatedAuthId:""},r,n);return Object.assign(i,e)}function IS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Vt("group",{tag:t,name:"",details:"",admins:{},peers:{},clients:{},users:{}},r,n);return Object.assign(i,e)}function pT(t,e){return{type:t,data:e,timestamp:Date.now()}}function DS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",expires:!1,type:"",data:new Array},o=Vt("dataInstance",i,r,n);return Object.assign(o,e)}function RS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:{}},o=Vt("event",i,r,n);return Object.assign(o,e)}function FS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:{},audioChatActive:!1,videoChatActive:!1},o=Vt("chatroom",i,r,n);return Object.assign(o,e)}function CS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:{},attachments:new Array},o=Vt("comment",i,r,n);return Object.assign(o,e)}function PS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Vt("notification",{tag:t,note:"",parentUserId:""},r,n);return Object.assign(i,e)}function jS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",attachments:new Array,dates:new Array},o=Vt("schedule",i,r,n);return Object.assign(o,e)}function LS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},o=Vt("date",i,r,n);return Object.assign(o,e)}function OT(t=[],e={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return t.forEach((n,i)=>{for(let o in e)r[o]||(r[o]=[[],[]]),n>=e[o][0]&&n<=e[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r}function NT(t,e,r){let n=(e-t)/r,i=[],o=0;for(;o<e;)i.push(o),o+=n;return i}var _S,hT,SS,Ye,Hn,mo,yT,mT,go,Me,gT,vT,wT,_T,ST,bT,ET,xT,kT,TT,Mp=tt(()=>{_S=Object.defineProperty,hT=(t,e,r)=>e in t?_S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,SS=(t,e)=>{for(var r in e)_S(t,r,{get:e[r],enumerable:!0})},Ye=(t,e,r)=>(hT(t,typeof e!="symbol"?e+"":e,r),r),Hn={};SS(Hn,{AuthorizationStruct:()=>AS,ChatroomStruct:()=>FS,CoherenceMap:()=>Pp,CoherenceStruct:()=>Cp,CommentStruct:()=>CS,Data:()=>pT,DataStruct:()=>DS,DateStruct:()=>LS,ECGStruct:()=>Lp,EDAStruct:()=>xS,EEGCoordinates:()=>dT,EEGStruct:()=>ki,EMGStruct:()=>TS,EventStruct:()=>RS,EyeTrackerStruct:()=>ES,FNIRSStruct:()=>jp,FrequencyBandsStruct:()=>Bc,GroupStruct:()=>IS,HRVStruct:()=>kS,IMUStruct:()=>bS,NotificationStruct:()=>PS,PPGStruct:()=>OS,ProfileStruct:()=>NS,ScheduleStruct:()=>jS,Struct:()=>Vt,eegCoordinates:()=>mo,setCoordinate:()=>Mc,structRegistry:()=>yT});mo={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};yT={Struct:Vt,EEGStruct:ki,FNIRSStruct:jp,CoherenceStruct:Cp,CoherenceMap:Pp,FrequencyBandsStruct:Bc,IMUStruct:bS,EyeTrackerStruct:ES,ECGStruct:Lp,EDAStruct:xS,PPGStruct:OS,HRVStruct:kS,EMGStruct:TS,ProfileStruct:NS,AuthorizationStruct:AS,GroupStruct:IS,DataStruct:DS,EventStruct:RS,ChatroomStruct:FS,CommentStruct:CS,NotificationStruct:PS,ScheduleStruct:jS,DateStruct:LS},mT={};SS(mT,{bandpassWindow:()=>NT,get40HzGamma:()=>bT,getAlphaBetaRatio:()=>_T,getAlphaRatio:()=>vT,getAlphaThetaRatio:()=>ST,getCoherenceScore:()=>gT,getHEGRatioScore:()=>xT,getLowGammaScore:()=>ET,getThetaBetaRatio:()=>wT,mapCoherenceData:()=>TT,mapFFTData:()=>kT,splitFrequencyBands:()=>OT});go=class{constructor(){}static genSineWave(t=20,e=1,r=1,n=512,i=0,o=1){for(var s=[],a=[],c=1/n,d=0;d<r;d+=c){var m=Math.sin(2*Math.PI*t*d)*e;m+=Math.sin(2*Math.PI*i*d)*o,s.push(m),a.push(d)}return[a,s]}static getSineAmplitude(t=20,e=1,r=0,n=0){return Math.sin(this.TWO_PI*t*r+n)*e}static mean(t){var e=t.reduce((r,n)=>n+=r);return e/t.length}static mode(t){return t.sort((e,r)=>t.filter(n=>n===e).length-t.filter(n=>n===r).length).pop()}static std(t,e=void 0){let r=e;e||(r=this.mean(t));let n=0;for(let i=0;i<t.length;i++){let o=t[i]-r;n+=o*o}return Math.sqrt(n/t.length)}static relError(t=[],e=[],r=!0){if(t.length!==e.length)throw new Error("Input arrays of same length!");let n=t.length,i=[];for(let o=0;o<n;o++){let s=(t[o]-e[o])/t[o];r&&(s=Math.abs(s)),i.push(s)}return i}static informationEntropy(t=[]){let e=[],r=t.length;for(let n=0;n<r;n++){let i=t[n]*Math.log(t[n]);isNaN(i)&&(i=0),e.push(i)}return e}static zscore(t){let e=this.mean(t),r=this.std(t,e),n=[];for(let i=0;i<t.length;i++)n.push((t[i]-e)/r);return n}static variance(t){var e=this.mean(t);return t.reduce((r,n)=>r+(n-e)**2,0)/t.length}static dot(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}static cross3D(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}static magnitude(t){var e=0;return t.forEach(r=>{e+=r*r}),Math.sqrt(e)}static distance(t,e){var r=0;return t.forEach((n,i)=>{r+=(e[i]-n)*(e[i]-n)}),Math.sqrt(r)}static normalize(t){var e=0;e=this.magnitude(t);var r=[];return t.forEach((n,i)=>{r.push(n*e)}),r}static quadraticFormula(t,e,r){let n=Math.sqrt(e*e-4*t*r);if(!isNaN(n))return["complex","complex"];let i=1/(2*t);if(n===0)return[e*i];let o=-e;return[(o+n)*i,(o-n)*i]}static newtonsMethod(t=o=>Math.pow(o,5)+o*o-o-.2,e=0,r=1,n=.01,i=10){let o=[];for(let s=0;s<i;s++){let a=Math.random()*(r-e),c=t(a),d=t(a+n),m=(d-c)/n,v=a+n;for(;Math.abs(m)>n;){let b=-c/O,A=v+b;c=d,d=t(A);let O=(d-c)/(A-v)}let y,w=o.find((b,A)=>{if(Math.abs(xn1-b)<n)return y=A,!0});w?o[y]=(xn1+w)*.5:o.push(xn1)}return o}static makeVec(t,e){var r=[];return t.forEach((n,i)=>{r.push(e[i]-n)}),r}static transpose(t){return t[0].map((e,r)=>t.map(n=>n[r]))}static matmul(t,e){for(var r=t.length,n=t[0].length,i=e.length,o=e[0].length,s=new Array(r),a=0;a<r;++a){s[a]=new Array(o);for(var c=0;c<o;++c){s[a][c]=0;for(var d=0;d<n;++d)s[a][c]+=t[a][d]*e[d][c]}}return s}static matscale(t,e){let r=[];for(var n=0;n<t.length;n++){r[n]=[];for(let i=0;i<t[0].length;i++)r[n][i]=t[n][i]*e}return r}static matadd(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]+e[i][n]}return r}static matsub(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]-e[i][n]}return r}static histogram(t=[],e=1,r=void 0){let n=[...t];n.sort(function(c,d){return c-d});let i=Math.min(...n);if(typeof r=="number"){let c=Math.max(...n);e=Math.abs((c-i)/(r-1))}let o=i,s=[],a=[];for(let c=0;c<n.length;c++){let d=e*o;if(n[c]>i+d){o++,d+=e;let m=i+d+d*.5;s.push(m),a.push(0)}a[a.length-1]++}return[s,a]}static normalDistribution(t=[],e=!0,r=1e-4){let n=this.mean(t),i=this.variance(t),o=t.length,s=[],a=1/(this.TWO_PI*i),c=1/i,d=0;for(let m=0;m<o;m++){let v=Math.exp(-.5*Math.pow((t[m]-n)*c,2))*a;v<r&&(v=0),s.push(v),d+=v}if(e){let m=1/d;s=s.map(v=>v*m)}return s}static expectedValue(t=[],e=this.normalDistribution(t)){return t.reduce((r,n,i)=>r+n*e[i])}static originMoment(t=[],e=this.normalDistribution(t),r=1){return t.reduce((n,i,o)=>n+Math.pow(i,r)*e[o])}static centralMoment(t=[],e=this.normalDistribution(t),r=1){let n=this.mean(t);return t.reduce((i,o,s)=>i+Math.pow(o-n,r)*e[s]/t.length)}static linearDiscriminantAnalysis(t=[],e=[]){let r=this.mean(t),n=this.mean(e),i=this.cov1d(t,e),o=this.normalDistribution(t),s=[];for(let a=0;a<t.length;a++)s.push(x[a]*i*n-.5*r*i*n+Math.log10(o[a]));return s}static conv1D(t=[],e=[1/3,1/3,1/3],r=Math.floor(e.length*.5)){let n=[],i=1/e.length;if(r>0){let a=new Array(r).fill(0);t=[...a,...t,...a]}let o=Math.floor(e.length*.5),s=t.length-e.length+o;for(let a=o;a<s;a++){let c=0;for(let d=0;d<e.length;d++)c+=t[a-o]*e[d];n.push(c*i)}return n}static conv2D(t=[[],[],[]],e=[[],[],[]],r=0){let n=new Array(t.length-Math.ceil(e.length*.5)).fill([]),i,o=go.transpose(o);if(r>0){let A=new Array(r).fill(0);i=go.transpose(t);for(let O=0;O<i.length;O++)i[O]=[...A,...i[O],...A];t=go.transpose(i);for(let O=0;O<t.length;O++)t[O]=[...A,...t[O],...A]}let s=Math.floor(e[0].length*.5),a=Math.floor(o[0].length*.5),c=t[0].length-e[0].length+s,d=i[0].length-o[0].length+a,m=1/(e[0].length*o[0].length),v=c*d,y=s,w,b=a;for(;y<v;){let A=0;w=y%t[0].length,w===0&&b++;for(let O=0;O<e[0].length;O++){for(let I=0;I<o[0].length;O++)A+=t[b-a+I][w-s+O]*e[I][O];n[b].push(A*m)}y++}return n}static cov2d(t){var e=this.transpose(t),r=[],n=[],i=[];t.forEach((b,A)=>{n.push(this.mean(b))}),e.forEach((b,A)=>{i.push(this.mean(b))}),t.forEach((b,A)=>{r.push([]);for(var O=0;O<b.length;O++)r[A].push((t[A][O]-n[A])*(t[A][O]-i[O])/(b.length-1))});for(var o=this.transpose(r),s=r.length,a=r[0].length,c=o.length,d=o[0].length,m=new Array(s),v=0;v<s;++v){m[v]=new Array(d);for(var y=0;y<d;++y){m[v][y]=0;for(var w=0;w<a;++w)m[v][y]+=r[v][w]*o[w][y]/(t[0].length-1)}}return m}static cov1d(t=[],e=[]){return this.cov2d([t,e])}static cov3d(t=[],e=[],r=[]){return[[this.cov1d(t,t),this.cov1d(t,e),this.cov1d(t,r)],[this.cov1d(e,t),this.cov1d(e,e),this.cov1d(e,r)],[this.cov1d(r,t),this.cov1d(r,e),this.cov1d(r,r)]]}static covNd(t=[]){let e=[];t.forEach((r,n)=>{e.push([]),t.forEach((i,o)=>{e[n].push(this.cov1d(r,i))})})}static eigens2x2(t=[[1,2],[3,4]]){let e=t[0][0]*t[1][1]-t[0][1]*t[1][0],r=(t[0][0]+t[1][1])*.5,n=Math.sqrt(r*r-e),i=r+n,o=r-n;return[i,o]}static eigenvectors2x2(t=[[1,2],[3,4]],e=[1,2]){let r=[-t[0][1],t[0][0]-e[0]];r[0]===0&&r[1]===0&&(r[0]=t[1][1]-e[0],r[1]=-t[1][0]);let n=[-t[0][1],t[0][0]-e[1]];return n[0]===0&&n[1]===0&&(n[0]=t[1][1]-e[1],n[1]=-t[1][0]),[r,n]}static fastpca2d(t,e){let r=this.cov1d(t,e),n=this.eigens2x2(r);n[1]>n[0]&&n.reverse();let i=this.eigenvectors2x2(r,n);return console.log(n,i),[n,i]}static crosscorrelation(t,e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(t),i=this.mean(e),o=t.reduce((v,y)=>v+=Math.pow(y-n,2));o=Math.sqrt(o);var s=e.reduce((v,y)=>v+=Math.pow(y-n,2));s=Math.sqrt(s);for(var a=1/(o*s),c=new Array(t.length).fill(0),d=0;d<t.length;d++){var m=t.reduce((v,y,w)=>v+=(y-n)*(r[d+w]-i));c[d]=m*a}return c}static autocorrelation(t){var e=[...t,...Array(t.length).fill(0)],r=this.mean(t),n=t.reduce((c,d)=>c+=Math.pow(d-r,2));n=Math.sqrt(n);for(var i=1/(n*n),o=new Array(t.length).fill(0),s=0;s<t.length;s++){var a=t.reduce((c,d,m)=>c+=(d-r)*(e[s+m]-r));o[s]=a*i}return o}static correlograms(t=[[],[]]){var e=[];return t.forEach((r,n)=>{t.forEach((i,o)=>{o>=n&&e.push(go.crosscorrelation(r,i))})}),e}static sma(t=[],e){for(var r=[],n=0;n<t.length;n++)if(n==0)r.push(t[0]);else if(n<e){var i=t.slice(0,n+1);r.push(i.reduce((o,s)=>s+=o)/(n+1))}else{var i=t.slice(n-e,n);r.push(i.reduce((s,a)=>a+=s)/e)}return r}static sum(t=[]){if(t.length>0){var e=t.reduce((r,n)=>n+=r);return e}else return 0}static reduceArrByFactor(t,e=2){return t.filter((r,n)=>n%e===0)}static makeArr(t,e,r){for(var n=[],i=(e-t)/(r-1),o=0;o<r;o++)n.push(t+i*o);return n}static interpolateArray(t,e,r=1){var n=function(v,y,w){return(v+(y-v)*w)*r},i=new Array,o=new Number((t.length-1)/(e-1));i[0]=t[0];for(var s=1;s<e-1;s++){var a=s*o,c=new Number(Math.floor(a)).toFixed(),d=new Number(Math.ceil(a)).toFixed(),m=a-c;i[s]=n(t[c],t[d],m)}return i[e-1]=t[t.length-1],i}static isExtrema(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}else if(e==="valley"){if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}else if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}}return n}else return}static isCriticalPoint(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}else if(e==="valley"){if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}else if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}}return n}else return}static getPeakThreshold(t,e,r){let n,i=t.filter((o,s)=>{if(e.indexOf(s)>-1)return!0});return r===0?n=this.mean(i):n=(r+this.mean(i))*.5,n}static column(t,e){let r=new Array(t.length).fill(0).map(()=>new Array(1).fill(0));for(let n=0;n<t.length;n++)r[n][0]=t[n][e];return r}static flatten_vector(t){let e=[];for(let r=0;r<t.length;r++)e[r]=t[r][0];return e}static squared_difference(t,e){let r=0;for(let n=0;n<t.length;n++)r=r+Math.pow(t[n]-e[n],2);return r}static shift_deflate(t,e,r){let n=Math.sqrt(this.matmul(this.transpose(r),r)),i=this.matscale(r,1/n),o=this.matscale(this.matmul(i,this.transpose(i)),e);return this.matsub(t,o)}static eigenvalue_of_vector(t,e){return ev=this.matmul(this.matmul(this.transpose(e),t),e),ev}static power_iteration(t,e=1e-5,r=1e3){let n=t.length,i=new Array(n).fill(0).map(()=>new Array(1).fill(Math.sqrt(n))),o=this.eigenvalue_of_vector(t,i),s=1,a=0;for(;s>e&&a<r;){let c=JSON.parse(JSON.stringify(o)),d=this.matmul(t,i);i=this.normalize(d),o=this.eigenvalue_of_vector(t,i),s=Math.abs(o-c),a++}return[o,i]}static eigens(t,e=1e-4,r=1e3){let n=[],i=[];for(let o=0;o<t.length;o++){let s=this.power_iteration(t,e,r),a=s[0],c=s[1];n[o]=a,i[o]=this.flatten_vector(c),t=this.shift_deflate(t,a,c)}return[n,i]}static pca(t,e=1e-5){let r=t.length,n=new Array(r),i=new Array(r),o=this.transpose(t);n[0]=this.column(t,0);let s=1,a=0;for(;espilon>e;){a++,i[0]=this.matmul(o,n[0]);let c=this.matmul(this.transpose(n[0]),n[0]);i[0]=this.matscale(i[0],1/c);let d=Math.sqrt(this.matmul(this.transpose(i[0]),i[0]));i[0]=this.matscale(i[0],1/d);let m=this.matmul(t,i[0]),v=this.matmul(this.transpose(i[0]),i[0]);m=this.matscale(m,1/v),s=this.squared_difference(n[0],m),n[0]=JSON.parse(JSON.stringify(m))}return this.matmul(this.transpose(n[0]),n[0])}static p300(t=[],e=[],r=[],n=256){let i=Math.floor(n/10),o=this.sma(e,i),s=this.peakDetect(o,"peak",i),a=this.mean(o),c=this.std(o,a),d=0,m=[];return s.length>0&&t.forEach((v,y)=>{for(;r[s[d]]<v+200&&(d++,!!s[d]););let w=0,b=[];for(;r[s[d+w]]<v+600&&(b.push(d+w),w++,!!s[d+w]););if(b.length>1){let A=[];b.forEach(F=>{A.push(o[s[F]])});let O=Math.max(...A),I=b[A.indexOf(O)];m.push({event_timestamp:v,event_index:y,peak_timestamp:r[[s[I]]],signal_index:[s[I]],signal_amplitude:e[[s[I]]],zscore:(o[s[I]]-a)/c})}else b.length===1&&m.push({event_timestamp:v,event_index:y,peak_timestamp:r[s[b[0]]],signal_index:s[b[0]],signal_amplitude:e[[s[b[0]]]],zscore:(o[s[b[0]]]-a)/c})}),m}},Me=go;Ye(Me,"TWO_PI",Math.PI*2),Ye(Me,"C",299792458),Ye(Me,"G",66743e-15),Ye(Me,"h",662607015e-42),Ye(Me,"R",8314.32),Ye(Me,"Ra",287),Ye(Me,"H",69.3),Ye(Me,"kbar",1054571817e-43),Ye(Me,"kB",1380649e-29),Ye(Me,"ke",89875517923e-1),Ye(Me,"me",91093837015e-41),Ye(Me,"mp",167262192369e-38),Ye(Me,"mn",167492749804e-38),Ye(Me,"P0",101325),Ye(Me,"T0",288.15),Ye(Me,"p0",1.225),Ye(Me,"Na",60220978e16),Ye(Me,"y",1.405),Ye(Me,"M0",28.96643),Ye(Me,"g0",9.80665),Ye(Me,"Re",6378100),Ye(Me,"B",1458e-9),Ye(Me,"S",110.4),Ye(Me,"Sigma",365e-12),Ye(Me,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),Ye(Me,"integral",(t=n=>n,e=[],r=.01)=>{let n=0;for(let i=e[0];i<e[1];i+=r)n+=t(i)*r;return n}),Ye(Me,"dintegral",(t=(i,o)=>i+o,e=[[],[]],r=.01,n=r)=>{let i=0;for(let o=e[0][0]+r;o<e[0][1];o+=r)for(let s=e[1][0]+n;s<e[1][1];s+=n)i+=t(o,s)*r*n;return i}),Ye(Me,"tintegral",(t=(o,s,a)=>o+s+a,e=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=e[0][0]+r;s<e[0][1];s+=r)for(let a=e[1][0]+n;a<e[1][1];a+=n)for(let c=e[2][0]+i;c<e[2][1];c+=i)o+=t(s,a,c)*r*n*i;return o}),Ye(Me,"pintegral",(t=n=>n,e=[],r=.01)=>{let n=0,i,o;for(let s=e[0];s<e[1];s+=r)i=o,o=t(s),i&&(n+=go.distance([0,i],[r,o]));return n}),Ye(Me,"peakDetect",(t,e="peak",r=49)=>{let n=Math.floor(r*.5),i=[];for(let o=0;o<t.length-r;o++)go.isExtrema(t.slice(o,o+r),e)&&i.push(o+n-1);return i});gT=(t,e="alpha1")=>{let r=[];return Array.isArray(t)||(t=[t]),t.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[e].slice(i-o);r.push(Me.mean(s))}}),Me.mean(r)},vT=t=>t.fftCount>0?t.means.alpha2[t.fftCount-1]/t.means.alpha1[t.fftCount-1]:0,wT=t=>t.fftCount>0?t.means.theta[t.fftCount-1]/t.means.beta[t.fftCount-1]:0,_T=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.beta[t.fftCount-1]:0,ST=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.theta[t.fftCount-1]:0,bT=(t,e)=>{if(t.fftCount>0&&Array.isArray(e)){let r=t.slices.lowgamma[t.fftCount-1],n=[];return r.forEach((i,o)=>{e.lowgamma[0][o]>38&&e.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}else return 0},ET=t=>{if(t.fftCount>0){let e=t.fftCount,r=20;e<r&&(r=e);let n=t.means.lowgamma.slice(e-r);return t.means.lowgamma[e-1]-Me.mean(n)}else return 0},xT=t=>{if(t.count>0){let e=t.count,r=40;e<r&&(r=e);let n=t.ratio.slice(e-r);return t.ratio[e-1]-Me.mean(n)}else return 0};kT=(t,e,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(e),n.ffts.push(t);for(let o in r){let s=t.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((a,c)=>a+c)/s.length),i+=r[o][1].length}},TT=(t,e,r,n)=>{t.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(e),n[o].ffts.push(data);let s=0;for(let a in r){let c=fft.slice(s,s+r[a][1].length);coord.slices[a].push(c),coord.means[a].push(c.reduce((d,m)=>d+m)/c.length),s+=r[a][1].length}})}});function Uc(){return ee(this,null,function*(){let t=qe.connect({target:Bp.settings.dataserver,credentials:Ts,type:"websocket"});return t.subscribe(e=>{qe.baseServerCallback(e)}),console.log(t),console.log("Sending /routes from Client 1"),yield qe.send("routes").then(e=>console.log("Routes (Client 1)",e)).catch(console.error),console.log("setting up client"),qe.setupUser(Ts)})}function MS(){return ee(this,null,function*(){return Er.connect({target:Bp.settings.dataserver,credentials:vo,type:"websocket"}).subscribe(e=>{qe.baseServerCallback(e)}),console.log("Sending /routes from Client 2"),Er.send("routes").then(e=>console.log("Routes (Client 2)",e)).catch(console.error),console.log("setting up client"),Er.setupUser(vo)})}var Bp,Er,AT,IT,Ts,vo,zc=tt(()=>{ks();Mp();Bp=Ft(Xa());Tp();Ip();Rp();Er=new Cc,AT=new Pc(Er),IT=new Lc(Er);Er.load(AT,"http");Er.load(IT,"websockets");Ts=Hn.ProfileStruct("test",{_id:"testclient",email:"testclient@myalyce.com",username:"testclient",firstName:"Howard",lastName:"Dent",sex:"m",birthday:"09/10/1993"});vo=Hn.ProfileStruct("test",{_id:"testpeer",email:"testpeer@myalyce.com",username:"testpeer",firstName:"The",lastName:"Batman",sex:"m",birthday:"01/19/1483"})});var nt=ve((yR,qc)=>{var BS,US,zS,VS,$S,qS,WS,HS,GS,Vc,Up,JS,YS,KS,Ns,ZS,XS,QS,eb,tb,rb,nb,ib,$c;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof qc=="object"&&typeof qc.exports=="object"?t(r(e,r(qc.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,s){return n[o]=i?i(o,s):s}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};BS=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},US=Object.assign||function(n){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},zS=function(n,i){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(o[s[a]]=n[s[a]]);return o},VS=function(n,i,o,s){var a=arguments.length,c=a<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,o):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,i,o,s);else for(var m=n.length-1;m>=0;m--)(d=n[m])&&(c=(a<3?d(c):a>3?d(i,o,c):d(i,o))||c);return a>3&&c&&Object.defineProperty(i,o,c),c},$S=function(n,i){return function(o,s){i(o,s,n)}},qS=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},WS=function(n,i,o,s){function a(c){return c instanceof o?c:new o(function(d){d(c)})}return new(o||(o=Promise))(function(c,d){function m(w){try{y(s.next(w))}catch(b){d(b)}}function v(w){try{y(s.throw(w))}catch(b){d(b)}}function y(w){w.done?c(w.value):a(w.value).then(m,v)}y((s=s.apply(n,i||[])).next())})},HS=function(n,i){var o={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(y){return function(w){return v([y,w])}}function v(y){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,a&&(c=y[0]&2?a.return:y[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,y[1])).done)return c;switch(a=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,a=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(c=o.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){o.label=y[1];break}if(y[0]===6&&o.label<c[1]){o.label=c[1],c=y;break}if(c&&o.label<c[2]){o.label=c[2],o.ops.push(y);break}c[2]&&o.ops.pop(),o.trys.pop();continue}y=i.call(n,o)}catch(w){y=[6,w],a=0}finally{s=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},GS=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&$c(i,n,o)},$c=Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]},Vc=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Up=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,c=[],d;try{for(;(i===void 0||i-- >0)&&!(a=s.next()).done;)c.push(a.value)}catch(m){d={error:m}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(d)throw d.error}}return c},JS=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(Up(arguments[i]));return n},YS=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var s=Array(n),a=0,i=0;i<o;i++)for(var c=arguments[i],d=0,m=c.length;d<m;d++,a++)s[a]=c[d];return s},KS=function(n,i,o){if(o||arguments.length===2)for(var s=0,a=i.length,c;s<a;s++)(c||!(s in i))&&(c||(c=Array.prototype.slice.call(i,0,s)),c[s]=i[s]);return n.concat(c||Array.prototype.slice.call(i))},Ns=function(n){return this instanceof Ns?(this.v=n,this):new Ns(n)},ZS=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,i||[]),a,c=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(A){s[A]&&(a[A]=function(O){return new Promise(function(I,F){c.push([A,O,I,F])>1||m(A,O)})})}function m(A,O){try{v(s[A](O))}catch(I){b(c[0][3],I)}}function v(A){A.value instanceof Ns?Promise.resolve(A.value.v).then(y,w):b(c[0][2],A)}function y(A){m("next",A)}function w(A){m("throw",A)}function b(A,O){A(O),c.shift(),c.length&&m(c[0][0],c[0][1])}},XS=function(n){var i,o;return i={},s("next"),s("throw",function(a){throw a}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(a,c){i[a]=n[a]?function(d){return(o=!o)?{value:Ns(n[a](d)),done:a==="return"}:c?c(d):d}:c}},QS=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof Vc=="function"?Vc(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(c){o[c]=n[c]&&function(d){return new Promise(function(m,v){d=n[c](d),a(m,v,d.done,d.value)})}}function a(c,d,m,v){Promise.resolve(v).then(function(y){c({value:y,done:m})},d)}},eb=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};tb=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&$c(i,n,o);return r(i,n),i},rb=function(n){return n&&n.__esModule?n:{default:n}},nb=function(n,i,o,s){if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?s:o==="a"?s.call(n):s?s.value:i.get(n)},ib=function(n,i,o,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(n,o):a?a.value=o:i.set(n,o),o},t("__extends",BS),t("__assign",US),t("__rest",zS),t("__decorate",VS),t("__param",$S),t("__metadata",qS),t("__awaiter",WS),t("__generator",HS),t("__exportStar",GS),t("__createBinding",$c),t("__values",Vc),t("__read",Up),t("__spread",JS),t("__spreadArrays",YS),t("__spreadArray",KS),t("__await",Ns),t("__asyncGenerator",ZS),t("__asyncDelegator",XS),t("__asyncValues",QS),t("__makeTemplateObject",eb),t("__importStar",tb),t("__importDefault",rb),t("__classPrivateFieldGet",nb),t("__classPrivateFieldSet",ib)})});var ob=ve((mR,vl)=>{function DT(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}vl.exports=DT,vl.exports.__esModule=!0,vl.exports.default=vl.exports});var lb=ve((gR,ab)=>{"use strict";async function sb(t,e,r,n=0){let i=e[n];if(!i)return t;let o=typeof i=="function"?await i(t,r):await i.processResponse(t,r);return e[n+1]?sb(o,e,r,n+1):o}ab.exports=sb});var ub=ve(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});var RT="json",FT="formdata",CT="urlencoded";wl.FORM_DATA=FT;wl.JSON=RT;wl.URL_ENCODED=CT});var hb=ve((wR,fb)=>{"use strict";var PT=ob(),jT=lb(),As=ub();function LT(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var MT=LT(PT);function cb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(r),!0).forEach(function(n){MT.default(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wo=class{constructor(e,r=[],n={},i={}){this.apiUrl=void 0,this.defaultHeaders=void 0,this.defaultOptions=void 0,this.processors=void 0,this.apiUrl=e,this.defaultHeaders=n,this.defaultOptions=i,this.processors=r}static convertData(e,r=As.JSON){if(r===As.FORM_DATA){let n=new FormData;return Object.entries(e).forEach(([i,o])=>{n.append(i,o)}),n}return r===As.URL_ENCODED?wo.convertParametersToUrl(e).slice(1):JSON.stringify(e)}static convertParametersToUrl(e){let r=Object.keys(e);return r.length===0?"":`?${r.map(n=>`${n}=${encodeURIComponent(e[n])}`).join("&")}`}setDefaultHeaders(e){this.defaultHeaders=e}setDefaultHeader(e,r){this.defaultHeaders[e]=r}removeDefaultHeader(e){delete this.defaultHeaders[e]}getDefaultHeaders(){return this.defaultHeaders}fetchRequest(e){return fetch(e)}async request(e,r,n={},i={}){let o=e.indexOf("http")===0?e:`${this.apiUrl}/${e}`,s=new Request(o,Wc(Wc({},this.defaultOptions),{},{method:r,headers:new Headers(Wc(Wc({},this.getDefaultHeaders()),i))},n)),a=await this.fetchRequest(s);return jT(a,this.processors,s)}requestWithBody(e,r,n,i,o={}){return this.request(e,r,{body:wo.convertData(n,i)},o)}get(e,r={},n={}){return this.request(`${e}${wo.convertParametersToUrl(r)}`,"GET",{},n)}post(e,r={},n=As.JSON,i={}){return this.requestWithBody(e,"POST",r,n,i)}put(e,r={},n=As.JSON,i={}){return this.requestWithBody(e,"PUT",r,n,i)}delete(e,r={}){return this.request(e,"DELETE",{},r)}};wo.FORMATS=As;fb.exports=wo});var pb=ve((_R,db)=>{"use strict";var Hc=class{constructor(e,r){this.Exception=void 0,this.decoder=void 0,this.Exception=e,this.decoder=r||Hc.decodeResponse}async processResponse(e,r){let i={data:await this.decoder(e),status:e.status,source:e,request:r};if(!e.ok)throw new this.Exception(i,r);return i}static decodeResponse(e){let r=e.headers.get("content-type");return r?r.includes("json")?e.json():r.includes("text")||r.includes("xml")?e.text():e.blob():e.text()}};db.exports=Hc});var gb=ve((SR,mb)=>{"use strict";var yb=class extends Error{constructor(e){super(`Api exception: ${JSON.stringify(e.data)}`);this.response=void 0,this.response=e}getResponse(){return this.response}getRequest(){return this.response.request}};mb.exports=yb});var vb=ve(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var BT=hb(),UT=pb(),zT=gb();_l.Api=BT;_l.DefaultResponseProcessor=UT;_l.DefaultApiException=zT});var _b=ve(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.FitbitApi=Is.dictToUrlParams=void 0;var nn=nt(),At=_i(),VT=vb();function Qt(t){let e="";return(0,At.objKeyVals)(t).forEach(({key:r,val:n},i)=>!(0,At.nonValue)(n)&&(e+=`${i?"&":"?"}${r}=${n}`)),e}Is.dictToUrlParams=Qt;var $T=t=>new Date(t.y,(t.m||1)-1,t.d||1,t.hr||0,t.min||0,t.sec||0,t.ms||0),qT=t=>{let e=t instanceof Date?t:t==="now"?new Date:t==="today"?(0,At.getDayStartEnd)(new Date).start:t==="yesterday"?(0,At.getDayStartEnd)(Date.now()-(0,At.days)(1)).start:(0,At.isType)(t,"number")||(0,At.isType)(t,"string")?new Date(t):$T(t);if(e.toDateString()==="Invalid Date")throw console.error(`date: "${t.toString()}" is an invalid date`),new Error("Invalid Date");return e};function ze(t,e=!1){let r=qT(t),n=`${r.getFullYear()}-${(0,At.minAppend)(r.getMonth()+1,2,"0")}-${(0,At.minAppend)(r.getDate(),2,"0")}`,i=`${(0,At.minAppend)(r.getHours(),2,"0")}:${(0,At.minAppend)(r.getMinutes(),2,"0")}`+(e?":"+(0,At.minAppend)(r.getSeconds(),2,"0"):"");return[n,i]}var wb=class{constructor(e,r="-",n){this.accessToken=e,this.fitBitUserId=r,this.getToken=n,this.api=new VT.Api("https://api.fitbit.com"),this.url=(i,o,s=!1)=>s?`${i}/${o}`:`${i}/user/${this.fitBitUserId}/${o}`,this.getApiInfo=()=>({accessToken:this.accessToken,fitBitUserId:this.fitBitUserId}),this.sleep={getLogList:i=>(0,nn.__awaiter)(this,void 0,void 0,function*(){let o=Object.assign({limit:i.limit||100,offset:i.offset||0},(0,At.hasKey)(i,"afterDate")?{afterDate:ze(i.afterDate)[0],sort:i.sort||"asc"}:{beforeDate:ze(i.beforeDate)[0],sort:i.sort||"desc"});if(o.limit>100||o.limit<1)throw new Error(`Invalid limit: ${o.limit}, needs to be between 1 to 100`);let s=this.url(1.2,`sleep/list.json${Qt(o)}`);return this.pageGenerator(s,"sleep")}),deleteLog:i=>this.handleData(()=>this.api.delete(this.url(1.2,`sleep/${i}.json`))),createLog:({time:i,duration:o})=>{let[s,a]=ze(i),c=this.url(1.2,`sleep.json${Qt({duration:o,date:s,startTime:a})}`);return this.handleData(()=>this.api.post(c))},getByDate:({date:i})=>this.handleData(()=>this.api.get(this.url(1.2,`sleep/date/${ze(i)[0]}.json`))),getByDateRange:i=>{let o=this.url(1.2,`sleep/date/${ze(i.startDate)[0]}/${ze(i.endDate)[0]}.json`);return this.handleData(()=>this.api.get(o))},createGoal:i=>this.handleData(()=>this.api.post(this.url(1.2,`sleep/goal.json${Qt(i)}`))),getGoal:()=>this.handleData(()=>this.api.get(this.url(1.2,"sleep/goal.json")))},this.heartRate={getTimeSeries:i=>{let o=this.url(1,i.type==="By_Date"?`activities/heart/date/${ze(i.date)[0]}/${i.period||"1d"}.json`:`activities/heart/date/${ze(i.fromDate)[0]}/${ze(i.toDate)[0]}.json`);return this.handleData(()=>this.api.get(o))},getIntraday:i=>{let o;if(i.type==="By_Date")o=this.url(1,`activities/heart/date/${ze(i.date)[0]}/1d/${i.detailLevel}.json`);else{let s=ze(i.fromTime),a=ze(i.toTime);o=this.url(1,`activities/heart/date/${s[0]}/${a[0]}/${i.detailLevel}/time/${s[1]}/${a[1]}.json`)}return this.handleData(()=>this.api.get(o))}},this.user={getBadges:()=>this.handleData(()=>this.api.get(this.url(1,"badges.json"))),getProfile:()=>this.handleData(()=>this.api.get(this.url(1,"profile.json"))),updateProfile:i=>(0,nn.__awaiter)(this,void 0,void 0,function*(){return this.handleData(()=>this.api.post(this.url(1,`profile.json${Qt(i)}`)))})},this.body={getLogs:i=>{let o=this.url(1,i.type==="By_Date"?`body/log/${i.data}/date/${ze(i.date)[0]}/${i.period||"1d"}.json`:`body/log/${i.data}/date/${ze(i.fromDate)[0]}/${ze(i.toDate)[0]}.json`);return this.handleData(()=>this.api.get(o))},getTimeSeries:i=>{let o=this.url(1,i.type==="By_Date"?`body/${i.data}/date/${ze(i.date)[0]}/${i.period||"1d"}.json`:`body/${i.data}/date/${ze(i.fromDate)[0]}/${ze(i.toDate)[0]}.json`);return this.handleData(()=>this.api.get(o))},getGoals:i=>this.handleData(()=>this.api.get(this.url(1,`body/log/${i.data}/goal.json`))),createGoals:i=>this.handleData(()=>this.api.post(this.url(1,`body/log/${i.data}/goal.json`))),createLog:i=>{let[o,s]=ze(i.time,!0),a=this.url(1,`body/log/${i.data}.json${Qt({[i.data]:i.unit,date:o,time:s})}`);return this.handleData(()=>this.api.post(a))},deleteLog:({logId:i,data:o})=>this.handleData(()=>this.api.delete(this.url(1,`body/log/${o}/${i}.json`)))},this.activity={getLifetimeStats:()=>this.handleData(()=>this.api.get(this.url(1,"activities.json"))),getGoals:i=>this.handleData(()=>this.api.get(this.url(1,`activities/goals/${i.period}.json`))),createGoals:({period:i,type:o,value:s})=>this.handleData(()=>this.api.post(this.url(1,`activities/goals/${i}.json${Qt({type:o,value:s})}`))),createLog:i=>{let[o,s]=ze(i.startTime),a=this.url(1,`activities.json${Qt(Object.assign(Object.assign({},i),{date:o,startTime:s}))}`);return this.handleData(()=>this.api.post(a))},deleteLog:i=>this.handleData(()=>this.api.delete(this.url(1,`activities/${i}.json`))),getLogList:i=>(0,nn.__awaiter)(this,void 0,void 0,function*(){let o=Object.assign({limit:i.limit||100,offset:i.offset||0},(0,At.hasKey)(i,"afterDate")?{afterDate:ze(i.afterDate)[0],sort:i.sort||"asc"}:{beforeDate:ze(i.beforeDate)[0],sort:i.sort||"desc"});if(o.limit>100||o.limit<1)throw new Error(`Invalid limit: ${i.limit}, needs to be a number between 1 to 100`);let s=this.url(1,`activities/list.json${Qt(o)}`);return this.pageGenerator(s,"activities")}),getAllTypes:()=>this.handleData(()=>this.api.get(this.url(1,"activities.json"))),getType:i=>this.handleData(()=>this.api.get(this.url(1,`activities/${i}.json`))),getFavorite:()=>this.handleData(()=>this.api.get(this.url(1,"activities/favorite.json"))),createFavorite:i=>this.handleData(()=>this.api.post(this.url(1,`activities/favorite/${i}.json`))),deleteFavorite:i=>this.handleData(()=>this.api.delete(this.url(1,`activities/favorite/${i}.json`))),getRecent:()=>this.handleData(()=>this.api.get(this.url(1,"activities/recent.json"))),getDailySummary:()=>this.handleData(()=>this.api.get(this.url(1,"activities/recent.json"))),getFrequent:()=>this.handleData(()=>this.api.get(this.url(1,"activities/frequent.json"))),getTimeSeries:i=>{let o=this.url(1,i.type==="By_Date"?`activities/${i.data}/date/${ze(i.date)[0]}/${i.period||"1d"}.json`:`activities/${i.data}/date/${ze(i.fromDate)[0]}/${ze(i.toDate)[0]}.json`);return this.handleData(()=>this.api.get(o))},getIntraday:i=>{let o;if(i.type==="By_Date")o=this.url(1,`activities/${i.data}/date/${ze(i.date)[0]}/1d/${i.detailLevel}.json`);else{let s=ze(i.fromTime),a=ze(i.toTime);o=this.url(1,`activities/${i.data}/date/${s[0]}/${a[0]}/${i.detailLevel}/time/${s[1]}/${a[1]}.json`)}return this.handleData(()=>this.api.get(o))}},this.devices={getList:()=>this.handleData(()=>this.api.get(this.url(1,"devices.json"))),createAlarm:i=>{let o=(0,At.objRemoveKeys)(i,["deviceTrackerId"]),s=this.url(1,`devices/tracker/${i.deviceTrackerId}/alarms.json${Qt(o)}`);return this.handleData(()=>this.api.post(s))},updateAlarm:({deviceTrackerId:i,alarmId:o},s)=>this.handleData(()=>this.api.post(this.url(1,`devices/tracker/${i}/alarms/${o}.json${Qt(Object.assign(Object.assign({},s),{weekDays:s.weekDays.join()}))}`))),getAlarms:i=>this.handleData(()=>this.api.get(this.url(1,`devices/tracker/${i}/alarms.json`))),deleteAlarm:({deviceTrackerId:i,alarmId:o})=>this.handleData(()=>this.api.delete(this.url(1,`devices/tracker/${i}/alarms/${o}.json`)))},this.friends={getList:()=>this.handleData(()=>this.api.get(this.url(1.1,"friends.json"))),getLeaderboard:()=>this.handleData(()=>this.api.get(this.url(1.1,"leaderboard/friends.json")))},this.nutrition={searchFood:i=>this.handleData(()=>this.api.get(this.url(1,`foods/search.json${Qt({query:i})}`,!0))),getFood:i=>this.handleData(()=>this.api.get(this.url(1,`${i}.json`,!0))),getFoodLocales:()=>this.handleData(()=>this.api.get(this.url(1,"foods/locales.json",!0))),getFoodUnits:()=>this.handleData(()=>this.api.get(this.url(1,"foods/units.json",!0))),createFood:(i,o="")=>this.handleData(()=>this.api.post(this.url(1,`foods.json${Qt(i)}${o}`))),deleteFood:i=>this.handleData(()=>this.api.delete(this.url(1,`foods/${i}.json`))),getFrequentFoods:()=>this.handleData(()=>this.api.get(this.url(1,"foods/log/frequent.json"))),getRecentFoods:()=>this.handleData(()=>this.api.get(this.url(1,"foods/log/recent.json"))),createLog:i=>{let[o]=ze(i.date)[0],s=Object.assign(Object.assign({},(0,At.objRemoveKeys)(i,["data","date"])),{date:o}),a=this.url(1,`foods/log${i.data==="water"?"/water":""}.json${Qt(s)}`);return this.handleData(()=>this.api.post(a))},getLog:i=>{let[o]=ze(i.date)[0],s=Object.assign(Object.assign({},(0,At.objRemoveKeys)(i,["data","date"])),{date:o}),a=this.url(1,`foods/log${i.data==="water"?"/water":""}.json${Qt(s)}`);return this.handleData(()=>this.api.get(a))},deleteLog:({logId:i,data:o})=>this.handleData(()=>this.api.delete(this.url(1,`foods/log${o==="water"?"/water":""}/${i}.json`))),updateLog:i=>{let{logId:o,data:s}=i,a=(0,At.objRemoveKeys)(i,["data","logId"]);this.handleData(()=>this.api.post(this.url(1,`foods/log${s==="water"?"/water":""}/${o}.json${Qt(a)}`)))},createMeal:i=>this.handleData(()=>this.api.post(this.url(1,"meals.json"),i)),getMeal:i=>this.handleData(()=>this.api.get(this.url(1,`meals/${i}.json`))),getMealList:()=>this.handleData(()=>this.api.get(this.url(1,"meals.json"))),updateMeal:i=>this.handleData(()=>this.api.post(this.url(1,`meals/${i.mealId}.json`),(0,At.objRemoveKeys)(i,["mealId"]))),deleteMeal:i=>this.handleData(()=>this.api.delete(this.url(1,`meals/${i}.json`))),addFavoriteFood:i=>this.handleData(()=>this.api.post(this.url(1,`foods/log/favorite/${i}.json`))),getFavoriteFoodList:()=>this.handleData(()=>this.api.get(this.url(1,"foods/log/favorite.json"))),deleteFavoriteFood:i=>this.handleData(()=>this.api.delete(this.url(1,`foods/log/favorite/${i}.json`))),createGoal:i=>this.handleData(()=>this.api.post(this.url(1,`foods/log${i.data==="water"?"/water":""}/goal.json${Qt(i)}`))),getGoal:i=>this.handleData(()=>this.api.get(this.url(1,`foods/log${i==="water"?"/water":""}/goal.json`))),getTimeSeries:i=>{let o=i.data==="food"?"caloriesIn":"water",s=this.url(1,i.type==="By_Date"?`foods/log/${o}/date/${ze(i.date)[0]}/${i.period||"1d"}.json`:`foods/log/${o}/date/${ze(i.fromDate)[0]}/${ze(i.toDate)[0]}.json`);return this.handleData(()=>this.api.get(s))}},this.subscription={create:({collection:i,subscriptionId:o,subscriberId:s})=>{let a=this.subUrl(i,o);return this.handleData(()=>this.api.post(a,void 0,void 0,s?{"X-Fitbit-Subscriber-Id":s}:{}))},getList:({collection:i,subscriberId:o})=>this.handleData(()=>this.api.get(this.subUrl(i),void 0,o?{"X-Fitbit-Subscriber-Id":o}:{})),delete:({collection:i,subscriptionId:o,subscriberId:s})=>this.handleData(()=>this.api.delete(this.subUrl(i,o),s?{"X-Fitbit-Subscriber-Id":s}:{}))},this.subUrl=(i,o)=>this.url(1,`${i==="all"?"":`${i}/`}apiSubscriptions${o?`/${o}`:""}.json`),this.setAccessToken(e)}setAccessToken(e){this.accessToken=e,this.api.setDefaultHeader("Authorization",`Bearer ${this.accessToken}`)}handleData(e,r=0){return(0,nn.__awaiter)(this,void 0,void 0,function*(){let n=yield e(),i={},o=n.headers.entries();for(let[a,c]of o)i[a]=c;let s;try{s=yield n.json()}catch{if(!n.ok){let c=n.status;if(console.error(`${c===500?"Fitbit Internal":"Unhandled"} Error.`),c!==500)throw new Error("Unhandled Error")}s=null}if(!n.ok||s&&(0,At.hasKey)(s,"errors")){let a=null;if((0,At.hasKey)(s,"errors")){a=s;let{errorType:c}=s.errors[0];if((c==="expired_token"||c==="invalid_token")&&this.getToken&&r<2)try{let d=yield this.getToken();return this.setAccessToken(d),yield this.handleData(e,r+1)}catch(d){console.error(d)}}return{type:"ERROR",isSuccess:!1,code:n.status,error:a,response:n,headers:i}}return{type:"SUCCESS",isSuccess:!0,code:n.status,data:s,response:n,headers:i}})}pageGenerator(e,r){return(0,nn.__awaiter)(this,void 0,void 0,function*(){let n=yield this.handleData(()=>this.api.get(e));return function(i){return(0,nn.__asyncGenerator)(this,arguments,function*(){let o=n.isSuccess?[...n.data[r]]:[],s=1,a=()=>({lastResponse:n,allData:o,totalCalls:s});if(n.type==="ERROR")return yield(0,nn.__await)(a());yield yield(0,nn.__await)(a());let c=n.data.pagination.next;for(;c;){if(n=yield(0,nn.__await)(i.handleData(()=>i.api.get(c))),s++,n.type==="ERROR")return yield(0,nn.__await)(a());c=n.data.pagination.next,o=[...o,...n.data[r]],c&&(yield yield(0,nn.__await)(a()))}return yield(0,nn.__await)(a())})}(this)})}};Is.FitbitApi=wb});var bb=ve(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0})});var Eb=ve(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.BadgeType=void 0;var WT;(function(t){t.DailyFloors="DAILY_FLOORS",t.DailySteps="DAILY_STEPS",t.LifetimeDistance="LIFETIME_DISTANCE"})(WT=Sl.BadgeType||(Sl.BadgeType={}))});var Ob=ve(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0})});var Tb=ve(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0})});var Ab=ve(Nb=>{"use strict";Object.defineProperty(Nb,"__esModule",{value:!0})});var Db=ve(Ib=>{"use strict";Object.defineProperty(Ib,"__esModule",{value:!0})});var Fb=ve(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0})});var Pb=ve(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0})});var Lb=ve(jb=>{"use strict";Object.defineProperty(jb,"__esModule",{value:!0})});var Bb=ve(Mb=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0})});var zb=ve(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0})});var $b=ve(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0})});var qb=ve(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});var jr=nt();(0,jr.__exportStar)(_b(),fr);(0,jr.__exportStar)(bb(),fr);(0,jr.__exportStar)(Eb(),fr);(0,jr.__exportStar)(Ob(),fr);(0,jr.__exportStar)(Tb(),fr);(0,jr.__exportStar)(Ab(),fr);(0,jr.__exportStar)(Db(),fr);(0,jr.__exportStar)(Fb(),fr);(0,jr.__exportStar)(Pb(),fr);(0,jr.__exportStar)(Lb(),fr);(0,jr.__exportStar)(Bb(),fr);(0,jr.__exportStar)(zb(),fr);(0,jr.__exportStar)($b(),fr)});function Hb(t,e,r=5*60*1e3,n){let i=new Wb.FitbitApi("MjJDN1FLOjMyZWRjMzIzYjM3NjgyMGExNTI1MmYxMDAzMDE4MjE3","22C7QK");return console.log(i),console.log("get lifetime stats",i.activity.getLifetimeStats()),i}var Wb,LR,Gb=tt(()=>{Wb=Ft(qb());LR=new URL("fitbit","https://app.myalyce.com/").href});var Yb=ve(zp=>{jw();var Jb=Ft(Xa());Fp();tl();zc();Gb();console.log("using data server URL: ",Jb.settings.dataserver);Xr.subscribe("route",t=>{history.replaceState(void 0,t,location.origin+t)});var HT=!0;HT?(Uc().then(t=>ee(zp,null,function*(){console.log(t),yield ms(t)})),console.log("fitbit api:",Hb())):ml().then(t=>ee(zp,null,function*(){let e=yield gl(t);yield ms(e)}))});var Xb=ve(Zb=>{"use strict";Object.defineProperty(Zb,"__esModule",{value:!0})});var eE=ve(Qb=>{"use strict";Object.defineProperty(Qb,"__esModule",{value:!0})});var Vp=ve(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.arrHas=Ke.arrLast=Ke.arrToBoolDict=Ke.arrToIdxDict=Ke.arrToDict=Ke.arrRemoveValues=Ke.arrReplace=Ke.arrDeepFlatten=Ke.arrFlatten=Ke.arrDivide=Ke.arrGetByIds=Ke.arrRemoveById=Ke.arrGen=void 0;var Ti=ar(),GT=(t,e=void 0)=>t<1?[]:Array(t).fill(e);Ke.arrGen=GT;function JT(t,e,r="id"){let n=tE(t,r),i=Ti.objRemoveKeys(n,e);return Ti.objVals(i)}Ke.arrRemoveById=JT;function YT(t,e,r="id"){let n=rE(e);return t.filter(i=>n[i[r]])}Ke.arrGetByIds=YT;function KT(t,e){let r=Math.ceil(t.length/e)||0,n=Ke.arrGen(r).map(()=>[]);return t.forEach((i,o)=>n[Math.floor(o/e)].push(i)),n}Ke.arrDivide=KT;function ZT(t){return[].concat.apply([],t)}Ke.arrFlatten=ZT;var XT=t=>t.reduce((e,r)=>e.concat(Ti.isType(r,"array")?Ke.arrDeepFlatten(r):r),[]);Ke.arrDeepFlatten=XT;function QT(t){let e=[...t];return{all:r=>{let n=[];return t.forEach((i,o)=>Ti.equal(r,i)?n[o]=o:null),{with:i=>n.length?(n.forEach(o=>e[o]=i),e):t}},first:r=>{let n=t.findIndex(i=>Ti.equal(r,i));return{with:i=>Ti.nonValue(n)?t:(e[n]=i,e)}}}}Ke.arrReplace=QT;function eN(t,e){let r=[...t];return e.forEach(n=>r=r.filter(i=>!Ti.equal(i,n))),r}Ke.arrRemoveValues=eN;function tE(t,e){let r={};return t.forEach(n=>r[n[e]]=n),r}Ke.arrToDict=tE;function tN(t){let e={};return t.forEach((r,n)=>e[r]=n+""),e}Ke.arrToIdxDict=tN;function rE(t){let e={};return t.forEach(r=>e[r]=!0),e}Ke.arrToBoolDict=rE;var rN=t=>t[t.length-1];Ke.arrLast=rN;function nN(t,e,r=!1){let n=r?i=>Ti.equal(i,e):i=>i===e;return t.findIndex(n)!==-1}Ke.arrHas=nN});var nE=ve(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.clone=void 0;function $p(t){let e,r,n,i,o,s,a;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t);if(r=Object.keys(t),n=r.length,Array.isArray(t)){for(s=new Array(n),i=0;i<n;i++)o=r[i],e=t[o],typeof e!="object"||e===null?s[o]=e:e instanceof Date?s[o]=new Date(e):s[o]=$p(e);return s}for(a={},i=0;i<n;i++)o=r[i],e=t[o],Object.hasOwnProperty.call(t,o)!==!1&&(typeof e!="object"||e===null?a[o]=e:e instanceof Date?a[o]=new Date(e):a[o]=$p(e));return a}Gc.clone=$p});var iE=ve(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.equal=void 0;function Jc(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Jc(t[n],e[n]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;for(n of t.entries())if(!Jc(n[1],e.get(n[0])))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!Jc(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}Yc.equal=Jc});var sE=ve(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.promiseOut=bt.debounceTimeOut=bt.randomColorHex=bt.uuid=bt.assertType=bt.type=bt.cloneLog=bt.unsubAll=bt.wait=bt.interval=void 0;var Gn=ar(),iN=(t,e,r)=>{if(Gn.isType(r,"number")&&r<1)throw Error(`argument "times" can't be less than 1`);let n=0,i=()=>clearInterval(o),o=setInterval(()=>{t(n,i),n++,r&&n>=r&&i()},e);return{stop:i}};bt.interval=iN;var oN=t=>new Promise(e=>setTimeout(()=>e(),t));bt.wait=oN;var oE=(t,e="unsubscribe")=>Gn.isType(t,"object")&&Gn.hasKey(t,e)?t[e]():null;function sN(t,e="unsubscribe"){if(Gn.isType(t,"array"))t.forEach(r=>oE(r,e));else if(Gn.isType(t,"object"))Gn.objMap(t,({val:r})=>oE(r,e));else throw Error('argument "objOrArr" must be of type "object" or "array"')}bt.unsubAll=sN;var aN=t=>console.log(Gn.clone(t));bt.cloneLog=aN;function lN(t){return typeof t=="object"?Array.isArray(t)?"array":t===null?"null":"object":t!==t?"NaN":typeof t}bt.type=lN;function uN(t,e){Gn.isType(e,"array")||(e=[e]);for(let r of e)if(Gn.isType(t,r))return;throw Error(`value needs to be of type ${e.join(" || ")}`)}bt.assertType=uN;var cN=()=>{let t=new Date().getTime(),e=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=Math.random()*16;return t>0?(i=(t+i)%16|0,t=Math.floor(t/16)):(i=(e+i)%16|0,e=Math.floor(e/16)),(n==="x"?i:i&3|8).toString(16)})};bt.uuid=cN;var fN=()=>"#"+((1<<24)*Math.random()|0).toString(16);bt.randomColorHex=fN;function hN(){let t=null;return(e,r)=>{t&&clearTimeout(t),e!=="cancel"&&(t=setTimeout(e,r||0))}}bt.debounceTimeOut=hN;function dN(){let t,e=new Promise(r=>t=r);return{resolve:t,promise:e}}bt.promiseOut=dN});var aE=ve(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.iterate=void 0;var qp=Vp();function pN(t,e,r){let n=(i,o=!1)=>{let s=[];for(let a=0;a<t;a++)if(!e)s.push(i({x:a}));else for(let c=0;c<e;c++)if(!r)s.push(i({x:a,y:c}));else for(let d=0;d<r;d++)s.push(i({x:a,y:c,z:d}));return o?r&&e?qp.arrDivide(s,e*r).map(c=>qp.arrDivide(c,r)):e?qp.arrDivide(s,e):s:s};return{for:i=>{n(i)},map:i=>n(i),nestedMap:i=>n(i,!0)}}Kc.iterate=pN});var uE=ve(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.newNumFromRange=Lr.numberWithCommas=Lr.decPlace=Lr.average=Lr.rand=void 0;var lE=ar(),yN=(t,e)=>Math.floor(Math.random()*(e+1-t))+t;Lr.rand=yN;var mN=t=>t.reduce((e=0,r=0)=>e+r,0)/t.length;Lr.average=mN;var gN=(t,e)=>parseFloat(t.toFixed(e));Lr.decPlace=gN;var vN=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Lr.numberWithCommas=vN;function wN(t,e,r){let n,i=0,o=lE.isType(t,"array")?lE.arrToBoolDict(t):{[t]:!0};do if(n=Lr.rand(e,r),i++,i>1e6)throw console.error("Check for infinite loops"),new Error("Looped 1 million times");while(o[n]);return n}Lr.newNumFromRange=wN});var cE=ve(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.objPromiseAll=pt.objSortKeys=pt.objResolve=pt.objExtract=pt.objKeyVals=pt.objVals=pt.objKeys=pt.objRemoveKeys=pt.objFilter=pt.objMap=void 0;function _N(t,e){let r={};for(let n in t)r[n]=e({key:n,val:t[n]});return r}pt.objMap=_N;function SN(t,e){let r=Object.assign({},t);for(let n in t)e({key:n,val:t[n]})||delete r[n];return r}pt.objFilter=SN;function bN(t,e){let r=Object.assign({},t);return e.forEach(n=>delete r[n]),r}pt.objRemoveKeys=bN;function Zc(t){if(Object.keys)return Object.keys(t);let e=[];for(let r in t)e.push(r);return e}pt.objKeys=Zc;var EN=t=>Object.values?Object.values(t):Zc(t).map(e=>t[e]);pt.objVals=EN;var xN=t=>Zc(t).map(e=>({key:e,val:t[e]}));pt.objKeyVals=xN;function ON(t,e){let r={};return e.forEach(n=>r[n]=t[n]),r}pt.objExtract=ON;var kN=(t,e)=>e.split(".").reduce((r,n)=>r[n],t);pt.objResolve=kN;var TN=(t,e)=>{let r={};return Zc(t).sort(e).map(i=>r[i]=t[i]),r};pt.objSortKeys=TN;function NN(t){let e=pt.objKeyVals(t),r=e.length,n={},i=0;return new Promise(o=>e.forEach(({key:s,val:a})=>a.then(c=>{n[s]=c,i++,r===i&&o(n)})))}pt.objPromiseAll=NN});var fE=ve(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.minAppend=Ni.strRemove=Ni.strIncludes=void 0;var AN=(t,e)=>t.indexOf(e)!==-1;Ni.strIncludes=AN;var IN=(t,e)=>t.replace(new RegExp(e,"g"),"");Ni.strRemove=IN;var DN=(t,e,r="0")=>(r.repeat(e-1)+t).slice(-e);Ni.minAppend=DN});var dE=ve(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.isValidEmail=Et.nonValue=Et.nullOrEmpty=Et.isType=Et.hasKeys=Et.hasKey=Et.equalAny=void 0;var RN=ar(),hE=ar(),FN=(t,e)=>!!e.find(r=>RN.equal(t,r));Et.equalAny=FN;var CN=(t,e)=>Et.isType(t,"object")&&t.hasOwnProperty(e);Et.hasKey=CN;function PN(t,e){if(!Et.isType(t,"object"))return!1;for(let r of e)if(!t.hasOwnProperty(r))return!1;return!0}Et.hasKeys=PN;var jN=(t,e)=>hE.type(t)===e;Et.isType=jN;function LN(t){return Et.nonValue(t)?!0:Et.isType(t,"string")||Et.isType(t,"array")?!t.length:Et.isType(t,"object")?!hE.objVals(t).length:!1}Et.nullOrEmpty=LN;var MN=t=>t==null;Et.nonValue=MN;var BN=t=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t);Et.isValidEmail=BN});var pE=ve(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.yearStartEnd=Se.monthStartEnd=Se.weekStartEnd=Se.getDayStartEnd=Se.wks=Se.weeks=Se.dys=Se.days=Se.hrs=Se.hours=Se.min=Se.minutes=Se.sec=Se.seconds=Se.msTimeObj=Se.msToTime=Se.msToWks=Se.msToDys=Se.msToHrs=Se.msToMin=Se.msToSec=Se.dateTimeToString=Se.weekTuple=Se.msTime=void 0;var Xc=ar();Se.msTime={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};Se.weekTuple=["sun","mon","tue","wed","thu","fri","sat"];function UN(t=new Date){let e=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2),n=("0"+t.getSeconds()).slice(-2),i=("00"+t.getMilliseconds()).slice(-3);return`${e}:${r}:${n}:${i}`}Se.dateTimeToString=UN;var zN=t=>t/Se.msTime.s;Se.msToSec=zN;var VN=t=>t/Se.msTime.m;Se.msToMin=VN;var $N=t=>t/Se.msTime.h;Se.msToHrs=$N;var qN=t=>t/Se.msTime.d;Se.msToDys=qN;var WN=t=>t/Se.msTime.w;Se.msToWks=WN;function HN(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);o=o%24;let a=("00"+s).slice(-3),c=("0"+o).slice(-2),d=("0"+i).slice(-2),m=("0"+n).slice(-2),v=("00"+r).slice(-3);return e?{d:s,h:o,m:i,s:n,ms:r}:`${s?a+":":""}${c}:${d}:${m}:${v}`}Se.msToTime=HN;function GN(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);return o=o%24,e?{d:s,h:o,m:i,s:n,ms:r}:{d:("00"+s).slice(-3),h:("0"+o).slice(-2),m:("0"+i).slice(-2),s:("0"+n).slice(-2),ms:("00"+r).slice(-3)}}Se.msTimeObj=GN;var JN=t=>t*Se.msTime.s;Se.seconds=JN;Se.sec=Se.seconds;var YN=t=>t*Se.msTime.m;Se.minutes=YN;Se.min=Se.minutes;var KN=t=>t*Se.msTime.h;Se.hours=KN;Se.hrs=Se.hours;var ZN=t=>t*Se.msTime.d;Se.days=ZN;Se.dys=Se.days;var XN=t=>t*Se.msTime.w;Se.weeks=XN;Se.wks=Se.weeks;function QN(t,e="local"){Xc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),o=new Date(r,n,i),s=new Date(r,n,i,23,59,59,999);if(e==="unix"){let a=Se.min(o.getTimezoneOffset());o=new Date(o.getTime()+a),s=new Date(s.getTime()+a)}return{start:o,end:s}}Se.getDayStartEnd=QN;function e8(t,e="sun",r="local"){Xc.isType(t,"number")&&(t=new Date(t));let i=t.getDay()*-1+(e==="mon"?1:0),o=6+i,s=new Date(t.getTime()+Se.days(i)),a=new Date(t.getTime()+Se.days(o)),c=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999);if(r==="unix"){let m=Se.min(c.getTimezoneOffset());c=new Date(c.getTime()+m),d=new Date(d.getTime()+m)}return{start:c,end:d}}Se.weekStartEnd=e8;function t8(t,e="local"){Xc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=new Date(r,n,1),o=new Date(r,n,0,23,59,59,999);if(e==="unix"){let s=Se.min(i.getTimezoneOffset());i=new Date(i.getTime()+s),o=new Date(o.getTime()+s)}return{start:i,end:o}}Se.monthStartEnd=t8;function r8(t,e="local"){Xc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=new Date(r,0,1),i=new Date(r,12,0,23,59,59,999);if(e==="unix"){let o=Se.min(n.getTimezoneOffset());n=new Date(n.getTime()+o),i=new Date(i.getTime()+o)}return{start:n,end:i}}Se.yearStartEnd=r8});var ar=ve(er=>{"use strict";var n8=er&&er.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pn=er&&er.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&n8(e,t,r)};Object.defineProperty(er,"__esModule",{value:!0});pn(eE(),er);pn(Vp(),er);pn(nE(),er);pn(iE(),er);pn(sE(),er);pn(aE(),er);pn(uE(),er);pn(cE(),er);pn(fE(),er);pn(dE(),er);pn(pE(),er)});var $t=ve((cF,Qc)=>{(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(!!i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var s=e.apply(null,i);s&&r.push(s)}}else if(o==="object")if(i.toString===Object.prototype.toString)for(var a in i)t.call(i,a)&&i[a]&&r.push(a);else r.push(i.toString())}}return r.join(" ")}typeof Qc<"u"&&Qc.exports?(e.default=e,Qc.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var yE=ve(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.chevronIcons=void 0;var i8=nt(),xt=(0,i8.__importDefault)(je());ef.chevronIcons={1:{viewBox:"0 0 16 16",path:xt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z"})},2:{viewBox:"0 0 16 16",path:xt.default.createElement("path",{"fill-rule":"evenodd",d:"M3.646 4.146a.5.5 0 0 1 .708 0L8 7.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zM1 11.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"})},3:{viewBox:"0 0 16 16",path:xt.default.createElement(xt.default.Fragment,null,xt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 6.646a.5.5 0 0 1 .708 0L8 12.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}),xt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 2.646a.5.5 0 0 1 .708 0L8 8.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}))},4:{viewBox:"0 0 16 16",path:xt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})},5:{viewBox:"0 0 24 24",path:xt.default.createElement(xt.default.Fragment,null,xt.default.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),xt.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},6:{viewBox:"0 0 24 24",path:xt.default.createElement(xt.default.Fragment,null,xt.default.createElement("path",{d:"M5 21h14c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM5 5h14l.001 14H5V5z"}),xt.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},7:{viewBox:"0 0 24 24",path:xt.default.createElement("path",{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"})},8:{viewBox:"0 0 24 24",path:xt.default.createElement(xt.default.Fragment,null,xt.default.createElement("path",{d:"m12 15.586-4.293-4.293-1.414 1.414L12 18.414l5.707-5.707-1.414-1.414z"}),xt.default.createElement("path",{d:"m17.707 7.707-1.414-1.414L12 10.586 7.707 6.293 6.293 7.707 12 13.414z"}))},9:{viewBox:"0 0 512 512",path:xt.default.createElement("path",{d:"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM273 369.9l135.5-135.5c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L256 285.1 154.4 183.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L239 369.9c9.4 9.4 24.6 9.4 34 0z"})},10:{viewBox:"0 0 24 24",path:xt.default.createElement("path",{d:"M21.886 5.536A1.002 1.002 0 0 0 21 5H3a1.002 1.002 0 0 0-.822 1.569l9 13a.998.998 0 0 0 1.644 0l9-13a.998.998 0 0 0 .064-1.033zM12 17.243 4.908 7h14.184L12 17.243z"})}}});var Wp=ve(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.Chevron=void 0;var gE=nt(),o8=(0,gE.__importDefault)(je()),s8=(0,gE.__importDefault)($t()),mE=yE(),a8={down:"rotate-0",up:"rotate-180",left:"rotate-90",right:"-rotate-90"},l8={xs:"h-3 w-3",sm:"h-6 w-6",md:"h-12 w-12",lg:"h-24 w-24",xl:"h-48 w-48",auto:"h-full w-full"},u8=function(t){var e=t.direction,r=t.icon,n=t.size,i=n===void 0?"auto":n,o=t.className,s=t.style;return o8.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",className:(0,s8.default)("transform transition-transform duration-500 svg-fix",l8[i],a8[e],o),viewBox:mE.chevronIcons[r].viewBox,style:s},mE.chevronIcons[r].path)};tf.Chevron=u8});var Ai=ve(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.customScrollBar=xr.loremIpsum=xr.TextInputBorderMap=xr.regexpUtil=xr.useRefDimensions=xr.clickOutListener=void 0;var Hp=je();function c8(t,e){(0,Hp.useEffect)(function(){return document.addEventListener("click",function(r){return t.current&&!t.current.contains(r.target)&&e()})},[t])}xr.clickOutListener=c8;var f8=function(t){var e,r,n=(0,Hp.useState)({width:0,height:0}),i=n[0],o=n[1];return(0,Hp.useEffect)(function(){if(t.current){var s=t.current.getBoundingClientRect(),a=s.width,c=s.height;o({width:a,height:c})}},[(e=t.current)===null||e===void 0?void 0:e.offsetHeight,(r=t.current)===null||r===void 0?void 0:r.offsetWidth]),i};xr.useRefDimensions=f8;xr.regexpUtil={name:/^[a-z ,.'-]+$/i,email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/};xr.TextInputBorderMap={default:"border-secondary-300 placeholder-secondary-300 focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-200",success:"border-success-400 placeholder-success-300 focus:border-success-500 focus:outline-none focus:ring-1 focus:ring-success-200",warning:"border-warning-400 placeholder-warning-300 focus:border-warning-500 focus:outline-none focus:ring-1 focus:ring-warning-200",danger:"border-danger-400 placeholder-danger-300 focus:border-danger-500 focus:outline-none focus:ring-1 focus:ring-danger-200"};xr.loremIpsum="Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.";xr.customScrollBar="scrollbar-thin scrollbar-track-secondary-200 scrollbar-thumb-secondary-400 scrollbar"});var wE=ve(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.Accordion=void 0;var Ds=nt(),rf=ar(),nf=je(),yn=(0,Ds.__importDefault)(je()),vE=(0,Ds.__importDefault)($t()),h8=Wp(),d8=Ai(),p8={xs:"max-w-xs",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",auto:"w-full"},y8={danger:"text-danger-700",info:"text-info-700",primary:"text-primary-700",secondary:"text-secondary-700",success:"text-success-700",warning:"text-warning-700"},m8={danger:"border-danger-600",info:"border-info-600",primary:"border-primary-600",secondary:"border-secondary-600",success:"border-success-600",warning:"border-warning-600"};function g8(t){var e=t.title,r=t.collapseOthers,n=r===void 0?!1:r,i=t.items,o=t.size,s=o===void 0?"auto":o,a=t.type,c=a===void 0?"secondary":a,d=t.className,m=t.style,v=t.contentMaxHeigh,y=(0,nf.useState)(Date.now()),w=y[0],b=y[1],A=function(O){return b(O)};return yn.default.createElement("main",{className:(0,vE.default)(p8[s],d),style:m},yn.default.createElement("div",{className:"w-full my-1"},e&&yn.default.createElement("h2",{className:"text-xl font-semibold mb-2"},e),yn.default.createElement("ul",{className:"flex flex-col"},i.map(function(O,I){return yn.default.createElement(v8,(0,Ds.__assign)({},(0,Ds.__assign)((0,Ds.__assign)({},O),{collapseOthers:n,onOpen:A,openId:w,type:c,contentMaxHeigh:v}),{key:I}))}))))}of.Accordion=g8;var v8=function(t){var e=t.title,r=t.content,n=t.onOpen,i=t.openId,o=t.collapseOthers,s=t.type,a=t.onClick,c=(0,Ds.__rest)(t,["title","content","onOpen","openId","collapseOthers","type","onClick"]),d=(0,nf.useState)(i),m=d[0],v=d[1],y=(0,nf.useState)(!1),w=y[0],b=y[1];(0,nf.useEffect)(function(){i!==m&&(v(i),b(!1))},[i]);var A=function(I){if(!w){var F=Date.now();v(F),o&&n(F)}b(!w),a==null||a(I)},O=(0,rf.isType)(c.isOpen,"boolean")?c.isOpen:w;return yn.default.createElement("li",{className:"bg-white my-2 shadow-lg"},yn.default.createElement("h2",{onClick:A,className:`\r
                flex flex-row justify-between items-center\r
                font-semibold p-3 cursor-pointer\r
            `},(0,rf.isType)(r,"string")?yn.default.createElement("span",null,e):e,yn.default.createElement(h8.Chevron,{direction:O?"up":"down",icon:8,size:"sm",className:y8[s]})),yn.default.createElement("div",{className:(0,vE.default)("border-l-2 overflow-hidden max-h-0 duration-700 transition-all",d8.customScrollBar,m8[s],O&&"max-h-96"),style:{maxHeight:!(0,rf.nonValue)(c.contentMaxHeigh)&&O?c.contentMaxHeigh:void 0}},(0,rf.isType)(r,"string")?yn.default.createElement("p",{className:"p-3 text-gray-900"},r):r))}});var _E=ve(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.AlertIcon=void 0;var w8=nt(),So=(0,w8.__importDefault)(je()),_8={primary:So.default.createElement("path",{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),danger:So.default.createElement("path",{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zM8 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),info:So.default.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}),secondary:So.default.createElement("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}),success:So.default.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}),warning:So.default.createElement("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})},S8=function(t){return So.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-6 h-6"},_8[t.type])};sf.AlertIcon=S8});var SE=ve(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.Alert=void 0;var Jp=nt(),Gp=ar(),b8=(0,Jp.__importDefault)($t()),Mr=(0,Jp.__importStar)(je()),E8=_E(),x8={primary:"text-primary-600",secondary:"text-secondary-600",info:"text-info-600",warning:"text-warning-600",danger:"text-danger-600",success:"text-success-600"},O8={primary:"text-primary-900",secondary:"text-secondary-900",info:"text-info-900",warning:"text-warning-900",danger:"text-danger-900",success:"text-success-900"},k8=function(t){(0,Jp.__extends)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={botW:100,isClosing:!1,isClosed:!1,isHover:!1,transitionDuration:void 0},r.closingDebounce=(0,Gp.debounceTimeOut)(),r.handleMouseHover=function(n){var i=r.props.timeoutMs,o=!(0,Gp.nonValue)(i);o&&!n?r.closingDebounce(r.startClosing,i):n&&r.closingDebounce("cancel"),r.setState(n?{isClosing:!1,botW:100,isHover:n}:{isHover:n,botW:o?0:100})},r.startClosing=function(){r.setState({isClosing:!0}),r.closingDebounce(r.close,700)},r.close=function(){r.props.onClose&&r.props.onClose(),r.setState({isClosed:!0})},r.componentWillUnmount=function(){return r.closingDebounce("cancel")},r.render=function(){var n=r.props,i=n.title,o=n.text,s=n.type,a=n.className,c=n.style,d=r.state,m=d.isHover,v=d.isClosing,y=d.botW,w=d.transitionDuration,b=d.isClosed,A=m?void 0:w,O=(0,b8.default)("bg-white border border-current border-b-0 rounded-lg flex flex-col overflow-hidden transition-opacity duration-700",{"opacity-0":v},x8[s],a);return b?null:Mr.default.createElement("div",{className:O,style:c,onMouseEnter:function(){return r.handleMouseHover(!0)},onMouseLeave:function(){return r.handleMouseHover(!1)}},Mr.default.createElement("div",{className:"p-1 flex w-full overflow-hidden mx-auto"},Mr.default.createElement("div",{className:"pt-2 ml-3"},Mr.default.createElement(E8.AlertIcon,{type:s})),Mr.default.createElement("div",{className:"w-full flex justify-between items-start px-0 py-2"},Mr.default.createElement("div",{className:"ml-3"},Mr.default.createElement("p",{className:"font-bold"},i),o&&Mr.default.createElement("p",{className:"mt-1 text-sm ".concat(O8[s])},o)),Mr.default.createElement("a",{className:"mr-1 cursor-pointer",onClick:r.close},Mr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Mr.default.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),Mr.default.createElement("span",{className:"border-b-4 border-current transition-all ease-linear",style:{width:"".concat(y,"%"),transitionDuration:A}}))},r}return e.prototype.componentDidMount=function(){var r=this,n=this.props.timeoutMs;(0,Gp.nonValue)(n)||(this.setState({transitionDuration:"".concat(n,"ms")}),setTimeout(function(){return r.setState({botW:0})},0),this.closingDebounce(this.startClosing,n))},e}(Mr.Component);af.Alert=k8});var uf=ve(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.Badge=void 0;var EE=nt(),T8=ar(),N8=(0,EE.__importDefault)($t()),bE=(0,EE.__importDefault)(je()),A8={xs:"h-2 min-w-2",sm:"h-3 min-w-3",md:"h-4 min-w-4",lg:"h-6 min-w-6",xl:"h-12 min-w-12"},I8={md:"text-xs",lg:"text-base",xl:"text-2xl"},D8=function(t){var e=t.size,r=t.badge,n=t.className;return r?bE.default.createElement("div",{className:(0,N8.default)("bg-info-600 rounded-full absolute top-0 right-0 pl-1 pr-1 flex justify-center text-gray-100",A8[e],n)},(0,T8.isType)(r,"number")&&e!=="sm"&&e!=="xs"&&bE.default.createElement("span",{className:"m-auto ".concat(I8[e])},r>999?"+999":r)):null};lf.Badge=D8});var xE=ve(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.spinnersSvg=void 0;cf.spinnersSvg=['<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 6h-6l2.243-2.243c-1.133-1.133-2.64-1.757-4.243-1.757s-3.109 0.624-4.243 1.757c-1.133 1.133-1.757 2.64-1.757 4.243s0.624 3.109 1.757 4.243c1.133 1.133 2.64 1.757 4.243 1.757s3.109-0.624 4.243-1.757c0.095-0.095 0.185-0.192 0.273-0.292l1.505 1.317c-1.466 1.674-3.62 2.732-6.020 2.732-4.418 0-8-3.582-8-8s3.582-8 8-8c2.209 0 4.209 0.896 5.656 2.344l2.343-2.344v6z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0.001 8.025l-0 0c0 0 0 0.001 0 0.003 0.002 0.061 0.009 0.12 0.021 0.177 0.003 0.027 0.007 0.057 0.011 0.090 0.003 0.029 0.007 0.061 0.011 0.095 0.006 0.040 0.012 0.083 0.019 0.128 0.013 0.090 0.028 0.189 0.045 0.296 0.021 0.101 0.044 0.21 0.068 0.326 0.011 0.058 0.028 0.117 0.044 0.178s0.032 0.123 0.049 0.188c0.009 0.032 0.016 0.065 0.027 0.097s0.021 0.065 0.031 0.098 0.043 0.134 0.065 0.203c0.006 0.017 0.011 0.035 0.017 0.052s0.013 0.034 0.019 0.052 0.026 0.070 0.039 0.105c0.027 0.070 0.053 0.142 0.081 0.215 0.031 0.071 0.062 0.144 0.094 0.218 0.016 0.037 0.032 0.074 0.048 0.111s0.035 0.073 0.053 0.111 0.073 0.148 0.11 0.224c0.039 0.075 0.081 0.149 0.123 0.224 0.021 0.037 0.042 0.075 0.063 0.113s0.045 0.074 0.068 0.112 0.093 0.149 0.14 0.224c0.198 0.295 0.417 0.587 0.66 0.864 0.245 0.275 0.511 0.535 0.792 0.775 0.284 0.236 0.582 0.452 0.886 0.642 0.306 0.188 0.619 0.349 0.928 0.487 0.078 0.032 0.156 0.063 0.232 0.095 0.038 0.015 0.076 0.032 0.115 0.046s0.077 0.027 0.115 0.041 0.151 0.054 0.226 0.078c0.075 0.022 0.15 0.044 0.224 0.066 0.037 0.011 0.073 0.022 0.109 0.031s0.073 0.018 0.109 0.027 0.143 0.035 0.213 0.052c0.070 0.014 0.139 0.027 0.207 0.040 0.034 0.006 0.067 0.013 0.101 0.019 0.017 0.003 0.033 0.006 0.049 0.009s0.033 0.005 0.049 0.007c0.066 0.009 0.13 0.018 0.192 0.027 0.031 0.004 0.062 0.009 0.093 0.013s0.061 0.006 0.091 0.009 0.118 0.010 0.174 0.015c0.056 0.005 0.111 0.011 0.164 0.012 0.004 0 0.007 0 0.011 0 0.010 0.544 0.453 0.982 1 0.982 0.008 0 0.017-0 0.025-0.001v0c0 0 0.001-0 0.004-0 0.061-0.002 0.12-0.009 0.177-0.021 0.027-0.003 0.057-0.007 0.090-0.011 0.029-0.003 0.061-0.007 0.095-0.011 0.040-0.006 0.083-0.012 0.128-0.019 0.090-0.013 0.189-0.028 0.296-0.045 0.101-0.021 0.21-0.044 0.326-0.068 0.058-0.011 0.117-0.028 0.178-0.044s0.123-0.033 0.188-0.049c0.032-0.009 0.065-0.016 0.097-0.027s0.065-0.021 0.098-0.031 0.134-0.043 0.203-0.065c0.017-0.006 0.035-0.011 0.052-0.017s0.034-0.013 0.052-0.019 0.070-0.026 0.105-0.039c0.070-0.027 0.142-0.053 0.215-0.081 0.071-0.031 0.144-0.062 0.218-0.094 0.037-0.016 0.074-0.032 0.111-0.048s0.073-0.035 0.111-0.053 0.148-0.073 0.224-0.11c0.075-0.039 0.149-0.081 0.224-0.123 0.037-0.021 0.075-0.042 0.113-0.063s0.074-0.045 0.112-0.068 0.149-0.093 0.224-0.14c0.295-0.197 0.587-0.417 0.864-0.66 0.275-0.245 0.535-0.511 0.775-0.792 0.236-0.284 0.452-0.582 0.642-0.886 0.188-0.306 0.349-0.619 0.487-0.928 0.032-0.078 0.063-0.156 0.095-0.232 0.015-0.038 0.032-0.076 0.046-0.115s0.027-0.077 0.040-0.115 0.054-0.151 0.078-0.226c0.022-0.075 0.044-0.15 0.066-0.224 0.011-0.037 0.022-0.073 0.031-0.109s0.018-0.073 0.027-0.109 0.035-0.143 0.052-0.213c0.014-0.070 0.027-0.139 0.040-0.207 0.006-0.034 0.013-0.067 0.019-0.101 0.003-0.017 0.006-0.033 0.009-0.049s0.005-0.033 0.007-0.050c0.009-0.065 0.018-0.13 0.027-0.192 0.004-0.031 0.009-0.062 0.013-0.093s0.006-0.061 0.009-0.091 0.010-0.118 0.015-0.174c0.005-0.056 0.011-0.111 0.012-0.165 0-0.008 0.001-0.016 0.001-0.025 0.55-0.002 0.996-0.449 0.996-1 0-0.008-0-0.017-0.001-0.025h0c0 0-0-0.001-0-0.003-0.002-0.061-0.009-0.12-0.021-0.177-0.003-0.027-0.007-0.057-0.011-0.090-0.003-0.029-0.007-0.061-0.011-0.095-0.006-0.040-0.012-0.083-0.019-0.128-0.013-0.090-0.028-0.189-0.045-0.296-0.021-0.101-0.044-0.21-0.068-0.326-0.011-0.058-0.028-0.117-0.044-0.178s-0.032-0.123-0.049-0.188c-0.009-0.032-0.016-0.065-0.027-0.097s-0.021-0.065-0.031-0.098-0.043-0.134-0.065-0.203c-0.005-0.017-0.011-0.035-0.017-0.052s-0.013-0.034-0.019-0.052-0.026-0.070-0.039-0.105c-0.027-0.070-0.053-0.142-0.081-0.215-0.031-0.071-0.062-0.144-0.094-0.218-0.016-0.037-0.032-0.074-0.048-0.111s-0.035-0.073-0.053-0.111-0.073-0.148-0.11-0.224c-0.039-0.075-0.081-0.149-0.123-0.224-0.021-0.037-0.042-0.075-0.063-0.113s-0.045-0.074-0.068-0.112-0.093-0.149-0.14-0.224c-0.197-0.295-0.417-0.587-0.66-0.864-0.245-0.275-0.511-0.535-0.792-0.775-0.284-0.236-0.582-0.452-0.886-0.642-0.306-0.188-0.619-0.349-0.928-0.487-0.078-0.032-0.156-0.063-0.232-0.095-0.038-0.015-0.076-0.032-0.115-0.046s-0.077-0.027-0.115-0.040-0.151-0.054-0.226-0.078c-0.075-0.022-0.15-0.044-0.224-0.066-0.037-0.010-0.073-0.022-0.109-0.031s-0.073-0.018-0.109-0.027-0.143-0.035-0.213-0.052c-0.070-0.014-0.139-0.027-0.207-0.040-0.034-0.006-0.067-0.013-0.101-0.019-0.017-0.003-0.033-0.006-0.049-0.009s-0.033-0.005-0.049-0.007c-0.066-0.009-0.13-0.018-0.192-0.027-0.031-0.004-0.062-0.009-0.093-0.013s-0.061-0.006-0.091-0.009-0.118-0.010-0.174-0.015c-0.056-0.005-0.111-0.011-0.164-0.012-0.013-0-0.026-0.001-0.039-0.001-0.010-0.543-0.454-0.981-0.999-0.981-0.008 0-0.017 0-0.025 0.001l-0-0c0 0-0.001 0-0.003 0-0.061 0.002-0.12 0.009-0.177 0.021-0.027 0.003-0.057 0.007-0.090 0.011-0.029 0.003-0.061 0.007-0.095 0.011-0.040 0.006-0.083 0.012-0.128 0.019-0.090 0.013-0.189 0.028-0.296 0.045-0.101 0.021-0.21 0.044-0.326 0.068-0.058 0.011-0.117 0.028-0.178 0.044s-0.123 0.033-0.188 0.049c-0.032 0.009-0.065 0.016-0.097 0.027s-0.065 0.021-0.098 0.031-0.134 0.043-0.203 0.065c-0.017 0.006-0.035 0.011-0.052 0.017s-0.034 0.013-0.052 0.019-0.070 0.026-0.105 0.039c-0.070 0.027-0.142 0.053-0.215 0.081-0.071 0.031-0.144 0.062-0.218 0.094-0.037 0.016-0.074 0.032-0.111 0.048s-0.073 0.035-0.111 0.053-0.148 0.073-0.224 0.11c-0.075 0.039-0.149 0.081-0.224 0.123-0.037 0.021-0.075 0.042-0.113 0.063s-0.074 0.045-0.112 0.068-0.149 0.093-0.224 0.14c-0.295 0.198-0.587 0.417-0.864 0.66-0.275 0.245-0.535 0.511-0.775 0.792-0.236 0.284-0.452 0.582-0.642 0.886-0.188 0.306-0.349 0.619-0.487 0.928-0.032 0.078-0.063 0.156-0.095 0.232-0.015 0.038-0.032 0.076-0.046 0.115s-0.027 0.077-0.040 0.115-0.054 0.151-0.078 0.226c-0.022 0.075-0.044 0.15-0.066 0.224-0.011 0.037-0.022 0.073-0.032 0.109s-0.018 0.073-0.027 0.109-0.035 0.143-0.052 0.213c-0.014 0.070-0.027 0.139-0.040 0.207-0.006 0.034-0.013 0.067-0.019 0.101-0.003 0.017-0.006 0.033-0.009 0.049s-0.005 0.033-0.007 0.050c-0.009 0.065-0.018 0.13-0.027 0.192-0.004 0.031-0.009 0.062-0.013 0.093s-0.006 0.061-0.009 0.091-0.010 0.118-0.015 0.174c-0.005 0.056-0.011 0.111-0.012 0.165-0 0.009-0.001 0.017-0.001 0.025-0.537 0.017-0.967 0.458-0.967 0.999 0 0.008 0 0.017 0.001 0.025zM1.149 7.011c0.001-0.003 0.001-0.006 0.002-0.009 0.010-0.051 0.026-0.102 0.040-0.155s0.030-0.107 0.045-0.163c0.008-0.028 0.015-0.056 0.024-0.084s0.019-0.057 0.028-0.086 0.038-0.116 0.058-0.176c0.005-0.015 0.010-0.030 0.015-0.045s0.012-0.030 0.017-0.045 0.023-0.060 0.035-0.091 0.048-0.123 0.073-0.186c0.028-0.062 0.056-0.125 0.084-0.189 0.014-0.032 0.028-0.064 0.043-0.096s0.032-0.064 0.048-0.096 0.065-0.128 0.098-0.194c0.034-0.065 0.073-0.128 0.109-0.194 0.018-0.032 0.037-0.065 0.056-0.098s0.040-0.064 0.061-0.096c0.041-0.064 0.082-0.129 0.124-0.194 0.176-0.255 0.369-0.506 0.583-0.744 0.217-0.236 0.451-0.459 0.697-0.665 0.25-0.202 0.511-0.385 0.776-0.547 0.268-0.159 0.541-0.294 0.808-0.41 0.068-0.027 0.135-0.053 0.202-0.079 0.033-0.013 0.066-0.027 0.099-0.038s0.067-0.022 0.1-0.033 0.131-0.045 0.196-0.065c0.065-0.018 0.13-0.036 0.194-0.054 0.032-0.009 0.063-0.019 0.095-0.026s0.063-0.014 0.094-0.021 0.123-0.028 0.184-0.042c0.061-0.011 0.12-0.021 0.179-0.032 0.029-0.005 0.058-0.010 0.087-0.015 0.014-0.003 0.029-0.005 0.043-0.008s0.029-0.003 0.043-0.005c0.056-0.007 0.112-0.014 0.166-0.020 0.027-0.003 0.053-0.007 0.080-0.010s0.053-0.004 0.078-0.006 0.102-0.007 0.15-0.011c0.049-0.003 0.095-0.008 0.142-0.008 0.091-0.002 0.177-0.004 0.256-0.006 0.073 0.003 0.14 0.005 0.2 0.007 0.030 0.001 0.058 0.002 0.085 0.002 0.033 0.002 0.064 0.004 0.093 0.006 0.033 0.002 0.063 0.004 0.091 0.006 0.051 0.008 0.103 0.012 0.156 0.012 0.007 0 0.015-0 0.022-0.001 0.002 0 0.004 0 0.004 0v-0c0.487-0.012 0.887-0.372 0.962-0.84 0.008 0.002 0.017 0.004 0.025 0.006 0.051 0.010 0.102 0.026 0.155 0.040s0.107 0.030 0.163 0.045c0.028 0.008 0.056 0.015 0.084 0.024s0.057 0.019 0.086 0.028 0.116 0.038 0.176 0.058c0.015 0.005 0.030 0.010 0.045 0.015s0.030 0.012 0.045 0.017 0.060 0.023 0.091 0.035 0.123 0.048 0.186 0.073c0.062 0.028 0.125 0.056 0.189 0.084 0.032 0.014 0.064 0.028 0.096 0.043s0.064 0.032 0.096 0.048 0.128 0.065 0.194 0.098c0.065 0.034 0.129 0.073 0.194 0.109 0.032 0.018 0.065 0.037 0.098 0.056s0.064 0.040 0.096 0.061 0.129 0.082 0.194 0.124c0.255 0.176 0.506 0.369 0.744 0.583 0.236 0.217 0.459 0.451 0.665 0.697 0.202 0.25 0.385 0.511 0.547 0.776 0.159 0.268 0.294 0.541 0.41 0.808 0.027 0.068 0.053 0.135 0.079 0.202 0.013 0.033 0.027 0.066 0.038 0.099s0.022 0.067 0.033 0.1 0.045 0.131 0.065 0.196c0.018 0.065 0.036 0.13 0.054 0.194 0.009 0.032 0.019 0.063 0.026 0.095s0.014 0.063 0.021 0.094 0.028 0.123 0.042 0.184c0.011 0.061 0.021 0.12 0.032 0.179 0.005 0.029 0.010 0.058 0.015 0.087 0.003 0.014 0.005 0.029 0.008 0.043s0.003 0.029 0.005 0.043c0.007 0.056 0.014 0.112 0.020 0.166 0.003 0.027 0.007 0.053 0.010 0.080s0.004 0.053 0.006 0.078 0.007 0.102 0.011 0.15c0.003 0.049 0.008 0.095 0.008 0.142 0.002 0.091 0.004 0.177 0.006 0.256-0.003 0.073-0.005 0.14-0.007 0.2-0.001 0.030-0.002 0.058-0.002 0.085-0.002 0.033-0.004 0.064-0.006 0.093-0.002 0.033-0.004 0.063-0.006 0.091-0.008 0.051-0.012 0.103-0.012 0.156 0 0.007 0 0.015 0.001 0.022-0 0.002-0 0.004-0 0.004h0c0.012 0.481 0.363 0.877 0.823 0.959-0.001 0.005-0.002 0.009-0.003 0.014-0.010 0.051-0.025 0.102-0.040 0.155s-0.030 0.107-0.045 0.163c-0.008 0.028-0.015 0.056-0.024 0.084s-0.019 0.057-0.028 0.086-0.039 0.116-0.058 0.176c-0.005 0.015-0.010 0.030-0.015 0.045s-0.012 0.030-0.017 0.045-0.023 0.060-0.035 0.091-0.048 0.123-0.073 0.186c-0.028 0.062-0.056 0.125-0.084 0.189-0.014 0.032-0.028 0.064-0.043 0.096s-0.032 0.064-0.048 0.096-0.065 0.128-0.098 0.194c-0.034 0.065-0.073 0.129-0.109 0.194-0.018 0.032-0.037 0.065-0.056 0.098s-0.040 0.064-0.061 0.096-0.082 0.129-0.124 0.194c-0.176 0.255-0.369 0.506-0.583 0.744-0.217 0.236-0.451 0.459-0.697 0.665-0.25 0.202-0.511 0.385-0.776 0.547-0.268 0.159-0.541 0.294-0.808 0.41-0.068 0.027-0.135 0.053-0.202 0.079-0.033 0.013-0.066 0.027-0.099 0.038s-0.067 0.022-0.1 0.033-0.131 0.045-0.196 0.065c-0.065 0.018-0.13 0.036-0.194 0.054-0.032 0.009-0.063 0.019-0.095 0.026s-0.063 0.014-0.094 0.021-0.123 0.028-0.184 0.042c-0.061 0.011-0.12 0.021-0.179 0.032-0.029 0.005-0.058 0.010-0.087 0.015-0.014 0.003-0.028 0.005-0.043 0.008s-0.029 0.003-0.043 0.005c-0.056 0.007-0.112 0.014-0.166 0.020-0.027 0.003-0.053 0.007-0.080 0.010s-0.053 0.004-0.078 0.006-0.102 0.007-0.15 0.011c-0.049 0.003-0.095 0.008-0.142 0.008-0.091 0.002-0.177 0.004-0.256 0.006-0.073-0.003-0.14-0.005-0.2-0.007-0.030-0.001-0.058-0.002-0.085-0.002-0.033-0.002-0.064-0.004-0.093-0.006-0.033-0.002-0.063-0.004-0.091-0.006-0.051-0.008-0.103-0.012-0.156-0.012-0.007 0-0.015 0-0.022 0.001-0.002-0-0.003-0-0.003-0v0c-0.484 0.012-0.883 0.369-0.961 0.834-0.050-0.010-0.101-0.025-0.153-0.039s-0.107-0.030-0.163-0.045c-0.028-0.008-0.056-0.015-0.084-0.024s-0.057-0.019-0.086-0.028-0.116-0.039-0.176-0.058c-0.015-0.005-0.030-0.010-0.045-0.015s-0.030-0.012-0.045-0.017-0.060-0.023-0.091-0.035-0.123-0.048-0.186-0.073c-0.062-0.028-0.125-0.056-0.189-0.084-0.032-0.014-0.064-0.028-0.096-0.043s-0.064-0.032-0.096-0.048-0.128-0.065-0.194-0.098c-0.065-0.034-0.129-0.073-0.194-0.109-0.032-0.018-0.065-0.037-0.098-0.056s-0.064-0.040-0.096-0.061c-0.064-0.041-0.129-0.082-0.194-0.124-0.255-0.175-0.506-0.369-0.744-0.583-0.236-0.217-0.459-0.451-0.665-0.697-0.202-0.25-0.385-0.511-0.547-0.776-0.159-0.268-0.294-0.541-0.41-0.808-0.027-0.068-0.053-0.135-0.079-0.202-0.013-0.033-0.027-0.066-0.038-0.099s-0.022-0.067-0.033-0.1-0.045-0.131-0.065-0.196c-0.018-0.065-0.036-0.13-0.054-0.194-0.009-0.032-0.019-0.063-0.026-0.095s-0.014-0.063-0.021-0.094-0.028-0.123-0.042-0.184c-0.011-0.061-0.021-0.12-0.032-0.179-0.005-0.029-0.010-0.058-0.015-0.087-0.003-0.014-0.005-0.028-0.008-0.043s-0.003-0.029-0.005-0.043c-0.007-0.056-0.014-0.112-0.020-0.166-0.003-0.027-0.007-0.053-0.010-0.080s-0.004-0.053-0.006-0.078-0.007-0.101-0.011-0.15c-0.003-0.049-0.008-0.095-0.008-0.142-0.002-0.091-0.004-0.177-0.006-0.256 0.003-0.073 0.005-0.14 0.007-0.2 0.001-0.030 0.002-0.058 0.002-0.085 0.002-0.033 0.004-0.064 0.006-0.093 0.002-0.033 0.004-0.063 0.006-0.091 0.008-0.051 0.012-0.103 0.012-0.156 0-0.007-0-0.015-0.001-0.022 0-0.002 0-0.003 0-0.003h-0c-0.012-0.49-0.377-0.893-0.851-0.964z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.355 0-7.898 3.481-7.998 7.812 0.092-3.779 2.966-6.812 6.498-6.812 3.59 0 6.5 3.134 6.5 7 0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-4.418-3.582-8-8-8zM8 16c4.355 0 7.898-3.481 7.998-7.812-0.092 3.779-2.966 6.812-6.498 6.812-3.59 0-6.5-3.134-6.5-7 0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5c0 4.418 3.582 8 8 8z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zM12.773 12.773c-1.275 1.275-2.97 1.977-4.773 1.977s-3.498-0.702-4.773-1.977-1.977-2.97-1.977-4.773c0-1.803 0.702-3.498 1.977-4.773l1.061 1.061c0 0 0 0 0 0-2.047 2.047-2.047 5.378 0 7.425 0.992 0.992 2.31 1.538 3.712 1.538s2.721-0.546 3.712-1.538c2.047-2.047 2.047-5.378 0-7.425l1.061-1.061c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 8c0-0.19 0.011-0.378 0.032-0.563l-2.89-0.939c-0.092 0.487-0.141 0.989-0.141 1.502 0 2.3 0.971 4.374 2.526 5.833l1.786-2.458c-0.814-0.889-1.312-2.074-1.312-3.375zM13 8c0 1.301-0.497 2.486-1.312 3.375l1.786 2.458c1.555-1.459 2.526-3.533 2.526-5.833 0-0.513-0.049-1.015-0.141-1.502l-2.89 0.939c0.021 0.185 0.032 0.373 0.032 0.563zM9 3.1c1.436 0.292 2.649 1.199 3.351 2.435l2.89-0.939c-1.144-2.428-3.473-4.188-6.241-4.534v3.038zM3.649 5.535c0.702-1.236 1.914-2.143 3.351-2.435v-3.038c-2.769 0.345-5.097 2.105-6.241 4.534l2.89 0.939zM10.071 12.552c-0.631 0.288-1.332 0.448-2.071 0.448s-1.44-0.16-2.071-0.448l-1.786 2.458c1.144 0.631 2.458 0.99 3.857 0.99s2.713-0.359 3.857-0.99l-1.786-2.458z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c-2.137 0-4.146-0.832-5.657-2.343s-2.343-3.52-2.343-5.657c0-1.513 0.425-2.986 1.228-4.261 0.781-1.239 1.885-2.24 3.193-2.895l0.672 1.341c-1.063 0.533-1.961 1.347-2.596 2.354-0.652 1.034-0.997 2.231-0.997 3.461 0 3.584 2.916 6.5 6.5 6.5s6.5-2.916 6.5-6.5c0-1.23-0.345-2.426-0.997-3.461-0.635-1.008-1.533-1.822-2.596-2.354l0.672-1.341c1.308 0.655 2.412 1.656 3.193 2.895 0.803 1.274 1.228 2.748 1.228 4.261 0 2.137-0.832 4.146-2.343 5.657s-3.52 2.343-5.657 2.343z"/></svg>']});var ff=ve(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.Spinner=bo.spinnerSizeMap=void 0;var OE=nt(),R8=(0,OE.__importDefault)($t()),Yp=(0,OE.__importDefault)(je()),F8=xE();bo.spinnerSizeMap={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"};var C8=function(t){var e=t.type,r=e===void 0?1:e,n=t.size,i=n===void 0?"auto":n,o=t.className;return Yp.default.createElement("div",{className:(0,R8.default)("overflow-hidden",o,bo.spinnerSizeMap[i])},r==="pulse"?Yp.default.createElement("div",{className:"bg-secondary-300 h-full w-full animate-pulse"}):Yp.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(F8.spinnersSvg[r-1]),className:"animate-spin h-full w-full"}))};bo.Spinner=C8});var hf=ve(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.AvatarInner=Eo.Avatar=void 0;var Kp=nt(),kE=ar(),Or=(0,Kp.__importStar)(je()),P8=uf(),j8=(0,Kp.__importDefault)($t()),L8={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},M8=ff(),B8=function(t){var e=t.dataState,r=t.imgSrc,n=t.backgroundColor,i=t.status,o=t.badge,s=t.size,a=t.onClick,c=t.className,d=function(){if(e==="loading"||e==="error")return e==="error"?"Couldn't Load User":e==="loading"?"Loading...":"";if((0,kE.isType)(t.name,"string")||!t.name)return t.name||"";var m=t.name,v=m.first,y=m.last;return"".concat(v," ").concat(y)}();return Or.default.createElement("div",{onClick:a,className:(0,j8.default)(`
            flex relative justify-center items-center
            m-1 mr-2 rounded-full text-white`,L8[s],!(n||e==="loading")&&"bg-secondary-500",e==="loading"&&" overflow-hidden",a&&"cursor-pointer",c),title:e==="error"?"Couldn't Load User":e==="loading"?"Loading...":d,style:{backgroundColor:n}},Or.default.createElement(Eo.AvatarInner,(0,Kp.__assign)({},{dataState:e,imgSrc:r,badge:o,size:s,status:i,name:d})))};Eo.Avatar=B8;var U8={xs:"text-sm",sm:"text-xl",md:"text-4xl",lg:"text-7xl",xl:"text-9xl"},z8=function(t){if(t.dataState==="loading")return Or.default.createElement(M8.Spinner,{size:"auto",type:"pulse"});if(t.dataState==="error")return Or.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(W8),className:"rounded-full h-full w-full"});var e=t.imgSrc,r=t.status,n=t.badge,i=t.size,o=t.name,s=o===void 0?"":o,a=(0,Or.useState)(e?"loading":"error"),c=a[0],d=a[1],m=(0,kE.isType)(s,"string")?s.substring(0,2):"".concat(s.first[0].toUpperCase()).concat(s.last[0].toUpperCase());return Or.default.createElement(Or.default.Fragment,null,Or.default.createElement(P8.Badge,{size:i,badge:n}),c==="error"?Or.default.createElement("span",{className:U8[i]},m):Or.default.createElement("img",{className:"rounded-full h-full w-full",src:e,onLoad:function(){return d("success")},onError:function(){return d("error")}}),r&&Or.default.createElement(q8,{size:i,status:r}))};Eo.AvatarInner=z8;var V8={xs:"h-2 w-2",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-12 w-12"},$8={online:"bg-success-500",offline:"bg-danger-500",busy:"bg-warning-500",away:"bg-secondary-500"},q8=function(t){return Or.default.createElement("span",{className:"flex absolute bottom-0 right-0"},t.status==="online"&&Or.default.createElement("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success-400 opacity-75"}),Or.default.createElement("span",{className:"relative inline-flex rounded-full ".concat($8[t.status]," ").concat(V8[t.size])}))},W8='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"/><path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/></svg>'});var AE=ve(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.AvatarGroup=void 0;var Xp=nt(),Zp=(0,Xp.__importDefault)($t()),bl=(0,Xp.__importDefault)(je()),TE=hf(),NE={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},H8=function(t){var e=t.maxShow,r=e===void 0?5:e,n=t.avatars,i=t.size,o=t.onClick;if(r<1)return console.error(`Property "maxShow" can't be less than 1`),null;var s=n.slice(0,r),a=n.length-s.length;return bl.default.createElement("div",{className:(0,Zp.default)("flex flex-row-reverse justify-center mt-10",o&&"cursor-pointer",t.className),onClick:o},a>0&&bl.default.createElement("div",{className:(0,Zp.default)(`
                flex flex-shrink-0 relative
                bg-secondary-500
                justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 text-xl text-white`,NE[i])},bl.default.createElement(TE.AvatarInner,{size:i,dataState:"done",name:"+".concat(a)})),s.map(function(c,d){var m=c.dataState,v=c.backgroundColor,y=c.imgSrc,w=c.name,b=c.status,A={dataState:m,name:w,imgSrc:y,status:b,size:i};return bl.default.createElement("div",{className:(0,Zp.default)("flex flex-shrink-0 relative justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 border-white",!(c.backgroundColor||c.dataState==="loading")&&"bg-secondary-500",NE[i]),style:{backgroundColor:v},key:d},bl.default.createElement(TE.AvatarInner,(0,Xp.__assign)({},A)))}))};df.AvatarGroup=H8});var yf=ve(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.Backdrop=void 0;var ey=nt(),G8=(0,ey.__importDefault)($t()),Qp=(0,ey.__importStar)(je()),J8=function(t){var e=t.zIndex,r=t.onBackdropClick,n=t.maxOpacity,i=n===void 0?40:n,o=t.transition,s=o===void 0?!0:o,a=t.style,c=t.className,d=(0,Qp.useState)(!s),m=d[0],v=d[1];return(0,Qp.useEffect)(function(){return!m&&setTimeout(function(){return v(!0)},0)},[m]),Qp.default.createElement("div",{className:(0,G8.default)("fixed top-0 left-0 right-0 w-screen h-screen bg-black",s&&"transition-opacity duration-200",c),style:(0,ey.__assign)({zIndex:e,opacity:m?Number((i/100).toFixed(2)):0},a),onClick:r})};pf.Backdrop=J8});var El=ve(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.Button=void 0;var mf=nt(),Y8=(0,mf.__importDefault)($t()),ty=(0,mf.__importStar)(je()),K8=uf(),Z8={xs:"text-xs p-0.5 px-1",sm:"text-sm p-1 px-2",md:"text-base p-1.5 px-3",lg:"text-lg p-2 px-4",xl:"text-xl p-2.5 px-5",auto:"p-1.5 text-base h-full w-full"},X8={primary:"bg-primary-500",secondary:"bg-secondary-500",success:"bg-success-500",info:"bg-info-500",danger:"bg-danger-500",warning:"bg-warning-500"},Q8={primary:"hover:bg-primary-600",secondary:"hover:bg-secondary-600",success:"hover:bg-success-600",info:"hover:bg-info-600",danger:"hover:bg-danger-700",warning:"hover:bg-warning-600"},eA={primary:"border-primary-500 text-primary-500",secondary:"border-secondary-500 text-secondary-500",success:"border-success-500 text-success-500",info:"border-info-500 text-info-500",danger:"border-danger-500 text-danger-500",warning:"border-warning-500 text-warning-500"},tA={xs:"xs",sm:"sm",md:"md",lg:"md",xl:"lg",auto:"md"},rA=function(t){var e=t.size,r=e===void 0?"md":e,n=t.type,i=n===void 0?"secondary":n,o=t.shape,s=o===void 0?"round":o,a=t.outline,c=a===void 0?!1:a,d=t.badge,m=t.className,v=t.disabled,y=t.children,w=t.htmlType,b=w===void 0?"button":w,A=(0,mf.__rest)(t,["size","type","shape","outline","badge","className","disabled","children","htmlType"]),O=(0,ty.useState)(!1),I=O[0],F=O[1];return ty.default.createElement("button",(0,mf.__assign)({type:b,className:(0,Y8.default)("relative text-gray-100 font-normal border-2 transition-all",Z8[r],c&&!I?eA[i]:X8[i]+" border-transparent",s==="flat"?"rounded-none":"rounded-lg",v&&"opacity-60",!v&&Q8[i],m),onMouseEnter:function(){return F(!v)},onMouseLeave:function(){return F(!1)},disabled:v},A),d&&ty.default.createElement(K8.Badge,{size:tA[r],badge:d,className:r==="xs"||r==="sm"?"-top-1.5 -right-1.5":"-top-2 -right-3"}),y)};gf.Button=rA});var IE=ve(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.Dropdown=void 0;var vf=nt(),nA=ar(),xl=(0,vf.__importDefault)($t()),kr=(0,vf.__importStar)(je()),iA=Ai(),oA={xs:"w-30",sm:"w-44",md:"w-60",lg:"w-80",xl:"w-96",auto:"w-full"};function sA(t){var e=t.header,r=t.items,n=t.show,i=t.children,o=t.itemBorders,s=t.size,a=s===void 0?"md":s,c=t.className,d=t.align,m=d===void 0?"left":d,v=t.containerClassName,y=(0,kr.useState)(n||!1),w=y[0],b=y[1],A=function(){return setTimeout(function(){return b(!1)},0)},O=(0,kr.useRef)(null);(0,iA.clickOutListener)(O,A);var I=o?r.filter(function(K){return K.type!=="break"}):r,F={onClick:function(){return b(!w)},onBlur:A};return kr.default.createElement("div",(0,vf.__assign)({className:(0,xl.default)("relative",v)},n??F,{ref:O}),i,kr.default.createElement("div",{className:(0,xl.default)("animate-slide-down absolute bg-white text-sm list-none divide-gray-100 rounded-sm shadow-md border",!(n??w)&&"hidden",m==="right"&&"right-0 left-auto",oA[a],c)},e&&kr.default.createElement("div",{className:(0,xl.default)("cursor-default",o&&"border-b border-secondary-200")},(0,nA.isType)(e,"string")?kr.default.createElement("span",{className:"py-1.5 block text-center text-gray-500 text-base"},e):e),kr.default.createElement("ul",null,I.map(function(K,H,Y){var M=Y.length;return kr.default.createElement(aA,(0,vf.__assign)({},K,{border:o,isLast:H===M-1,key:H}))}))))}wf.Dropdown=sA;var aA=function(t){var e=(0,xl.default)(!t.isLast&&t.border&&"border-b border-secondary-200");switch(t.type){case"action":return kr.default.createElement("li",{className:e},kr.default.createElement("a",{className:"hover:bg-gray-100 text-gray-700 cursor-pointer block px-4 py-1.5",onClick:t.onClick},t.title));case"break":return kr.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return kr.default.createElement("li",{className:(0,xl.default)("text-gray-600 text-center block py-1 cursor-default",e)},kr.default.createElement("span",{className:"text-xs"},t.title));case"jsx":return kr.default.createElement("li",{className:e},t.element);default:throw console.error(t),new Error("This type of MenuItem is not implemented.")}}});var wy=ve(Br=>{"use strict";function lA(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}Object.defineProperty(Br,"__esModule",{value:!0});var Fe=lA(je()),kl=t=>t.type==="checkbox",Fs=t=>t instanceof Date,Tr=t=>t==null,qE=t=>typeof t=="object",qt=t=>!Tr(t)&&!Array.isArray(t)&&qE(t)&&!Fs(t),WE=t=>qt(t)&&t.target?kl(t.target)?t.target.checked:t.target.value:t,HE=(t,e)=>[...t].some(r=>(n=>n.substring(0,n.search(/.\d/))||n)(e)===r),Tl=t=>t.filter(Boolean),ut=t=>t===void 0,Oe=(t,e,r)=>{if(!e||!qt(t))return r;let n=Tl(e.split(/[,[\].]+?/)).reduce((i,o)=>Tr(i)?i:i[o],t);return ut(n)||n===t?ut(t[e])?r:t[e]:n},GE="blur",uA="focusout",cA="change",fA="onBlur",JE="onChange",YE="onSubmit",hA="onTouched",Nl="all",dA="max",pA="min",yA="maxLength",mA="minLength",DE="pattern",RE="required",gA="validate",kf=(t,e)=>{let r=Object.assign({},t);return delete r[e],r},KE=Fe.default.createContext(null),Al=()=>Fe.default.useContext(KE),ZE=(t,e,r,n=!0)=>{let i={};for(let o in t)Object.defineProperty(i,o,{get:()=>{let s=o;return e[s]!==Nl&&(e[s]=!n||Nl),r&&(r[s]=!0),t[s]}});return i},Ur=t=>qt(t)&&!Object.keys(t).length,XE=(t,e,r)=>{let n=kf(t,"name");return Ur(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(i=>e[i]===(!r||Nl))},zr=t=>Array.isArray(t)?t:[t],QE=(t,e,r)=>r&&e?t===e:!t||!e||t===e||zr(t).some(n=>n&&(n.startsWith(e)||e.startsWith(n)));function bf(t){let e=Fe.default.useRef(t);e.current=t,Fe.default.useEffect(()=>{let r=!t.disabled&&e.current.subject.subscribe({next:e.current.callback});return()=>(n=>{n&&n.unsubscribe()})(r)},[t.disabled])}function e3(t){let e=Al(),{control:r=e.control,disabled:n,name:i,exact:o}=t||{},[s,a]=Fe.default.useState(r._formState),c=Fe.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Fe.default.useRef(i),m=Fe.default.useRef(!0);return d.current=i,bf({disabled:n,callback:Fe.default.useCallback(v=>m.current&&QE(d.current,v.name,o)&&XE(v,c.current)&&a(Object.assign(Object.assign({},r._formState),v)),[r,o]),subject:r._subjects.state}),Fe.default.useEffect(()=>()=>{m.current=!1},[]),ZE(s,r._proxyFormState,c.current,!1)}var Rn=t=>typeof t=="string",t3=(t,e,r,n)=>{let i=Array.isArray(t);return Rn(t)?(n&&e.watch.add(t),Oe(r,t)):i?t.map(o=>(n&&e.watch.add(o),Oe(r,o))):(n&&(e.watchAll=!0),r)},Tf=t=>typeof t=="function",yy=t=>{for(let e in t)if(Tf(t[e]))return!0;return!1};function r3(t){let e=Al(),{control:r=e.control,name:n,defaultValue:i,disabled:o,exact:s}=t||{},a=Fe.default.useRef(n);a.current=n;let c=Fe.default.useCallback(v=>{if(QE(a.current,v.name,s)){let y=t3(a.current,r._names,v.values||r._formValues);m(ut(a.current)||qt(y)&&!yy(y)?Object.assign({},y):Array.isArray(y)?[...y]:ut(y)?i:y)}},[r,s,i]);bf({disabled:o,subject:r._subjects.watch,callback:c});let[d,m]=Fe.default.useState(ut(i)?r._getWatch(n):i);return Fe.default.useEffect(()=>{r._removeUnmounted()}),d}function FE(t){let e=Al(),{name:r,control:n=e.control,shouldUnregister:i}=t,o=HE(n._names.array,r),s=r3({control:n,name:r,defaultValue:Oe(n._formValues,r,Oe(n._defaultValues,r,t.defaultValue)),exact:!0}),a=e3({control:n,name:r}),c=Fe.default.useRef(n.register(r,Object.assign(Object.assign({},t.rules),{value:s})));return Fe.default.useEffect(()=>{let d=(m,v)=>{let y=Oe(n._fields,m);y&&(y._f.mount=v)};return d(r,!0),()=>{let m=n._options.shouldUnregister||i;(o?m&&!n._stateFlags.action:m)?n.unregister(r):d(r,!1)}},[r,n,o,i]),{field:{name:r,value:s,onChange:Fe.default.useCallback(d=>{c.current.onChange({target:{value:WE(d),name:r},type:cA})},[r]),onBlur:Fe.default.useCallback(()=>{c.current.onBlur({target:{value:Oe(n._formValues,r),name:r},type:GE})},[r,n]),ref:Fe.default.useCallback(d=>{let m=Oe(n._fields,r);d&&m&&d.focus&&(m._f.ref={focus:()=>d.focus(),setCustomValidity:v=>d.setCustomValidity(v),reportValidity:()=>d.reportValidity()})},[r,n._fields])},formState:a,fieldState:n.getFieldState(r,a)}}var n3=(t,e,r,n,i)=>e?Object.assign(Object.assign({},r[t]),{types:Object.assign(Object.assign({},r[t]&&r[t].types?r[t].types:{}),{[n]:i||!0})}):{},my=t=>/^\w*$/.test(t),i3=t=>Tl(t.replace(/["|']|\]/g,"").split(/\.|\[/));function yt(t,e,r){let n=-1,i=my(e)?[e]:i3(e),o=i.length,s=o-1;for(;++n<o;){let a=i[n],c=r;if(n!==s){let d=t[a];c=qt(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}t[a]=c,t=t[a]}return t}var Ef=(t,e,r)=>{for(let n of r||Object.keys(t)){let i=Oe(t,n);if(i){let o=i._f,s=kf(i,"_f");if(o&&e(o.name)){if(o.ref.focus&&ut(o.ref.focus()))break;if(o.refs){o.refs[0].focus();break}}else qt(s)&&Ef(s,e)}}},Ii=()=>{let t=typeof performance>"u"?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let r=(16*Math.random()+t)%16|0;return(e=="x"?r:3&r|8).toString(16)})},ry=(t,e,r={})=>r.shouldFocus||ut(r.shouldFocus)?r.focusName||`${t}.${ut(r.focusIndex)?e:r.focusIndex}.`:"",dy=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));function ny(t,e){return[...t,...zr(e)]}function Dn(t){let e,r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else{if(!r&&!qt(t))return t;e=r?[]:{};for(let n in t){if(Tf(t[n])){e=t;break}e[n]=Dn(t[n])}}return e}var iy=t=>Array.isArray(t)?t.map(()=>{}):void 0;function oy(t,e,r){return[...t.slice(0,e),...zr(r),...t.slice(e)]}var sy=(t,e,r)=>Array.isArray(t)?(ut(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[];function ay(t,e){return[...zr(e),...zr(t)]}var ly=(t,e)=>ut(e)?[]:function(r,n){let i=0,o=[...r];for(let s of n)o.splice(s-i,1),i++;return Tl(o).length?o:[]}(t,zr(e).sort((r,n)=>r-n)),uy=(t,e,r)=>{t[e]=[t[r],t[r]=t[e]][0]},CE=(t,e,r)=>(t[e]=r,t);function cy(){let t=[];return{get observers(){return t},next:e=>{for(let r of t)r.next(e)},subscribe:e=>(t.push(e),{unsubscribe:()=>{t=t.filter(r=>r!==e)}}),unsubscribe:()=>{t=[]}}}var xf=t=>Tr(t)||!qE(t);function Cs(t,e){if(xf(t)||xf(e))return t===e;if(Fs(t)&&Fs(e))return t.getTime()===e.getTime();let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i of r){let o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){let s=e[i];if(Fs(o)&&Fs(s)||qt(o)&&qt(s)||Array.isArray(o)&&Array.isArray(s)?!Cs(o,s):o!==s)return!1}}return!0}var PE=t=>({isOnSubmit:!t||t===YE,isOnBlur:t===fA,isOnChange:t===JE,isOnAll:t===Nl,isOnTouch:t===hA}),Il=t=>typeof t=="boolean",gy=t=>t.type==="file",py=t=>t instanceof HTMLElement,o3=t=>t.type==="select-multiple",vy=t=>t.type==="radio",jE=typeof window<"u"&&window.HTMLElement!==void 0&&typeof document<"u",fy=t=>py(t)&&t.isConnected;function hr(t,e){let r=my(e)?[e]:i3(e),n=r.length==1?t:function(s,a){let c=a.slice(0,-1).length,d=0;for(;d<c;)s=ut(s)?d++:s[a[d++]];return s}(t,r),i=r[r.length-1],o;n&&delete n[i];for(let s=0;s<r.slice(0,-1).length;s++){let a,c=-1,d=r.slice(0,-(s+1)),m=d.length-1;for(s>0&&(o=t);++c<d.length;){let v=d[c];a=a?a[v]:t[v],m===c&&(qt(a)&&Ur(a)||Array.isArray(a)&&!a.filter(y=>qt(y)&&!Ur(y)||Il(y)||Array.isArray(y)&&y.length).length)&&(o?delete o[v]:delete t[v]),o=a}}return t}function _f(t,e={}){let r=Array.isArray(t);if(qt(t)||r)for(let n in t)Array.isArray(t[n])||qt(t[n])&&!yy(t[n])?(e[n]=Array.isArray(t[n])?[]:{},_f(t[n],e[n])):Tr(t[n])||(e[n]=!0);return e}var LE=(t,e)=>function r(n,i,o){let s=Array.isArray(n);if(qt(n)||s)for(let a in n)Array.isArray(n[a])||qt(n[a])&&!yy(n[a])?ut(i)||xf(o[a])?o[a]=Array.isArray(n[a])?_f(n[a],[]):Object.assign({},_f(n[a])):r(n[a],Tr(i)?{}:i[a],o[a]):o[a]=!Cs(n[a],i[a]);return o}(t,e,_f(e)),ME={value:!1,isValid:!1},BE={value:!0,isValid:!0},s3=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ut(t[0].attributes.value)?ut(t[0].value)||t[0].value===""?BE:{value:t[0].value,isValid:!0}:BE:ME}return ME},a3=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ut(t)?t:e?t===""?NaN:+t:r&&Rn(t)?new Date(t):n?n(t):t,UE={isValid:!1,value:null},l3=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,UE):UE;function hy(t){let e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return gy(e)?e.files:vy(e)?l3(t.refs).value:o3(e)?[...e.selectedOptions].map(({value:r})=>r):kl(e)?s3(t.refs).value:a3(ut(e.value)?t.ref.value:e.value,t)}var Of=t=>t instanceof RegExp,Ol=t=>ut(t)?void 0:Of(t)?t.source:qt(t)?Of(t.value)?t.value.source:t.value:t;function zE(t,e,r){let n=Oe(t,r);if(n||my(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),s=Oe(e,o),a=Oe(t,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:r}}var Sf=t=>Rn(t)||Fe.default.isValidElement(t);function VE(t,e,r="validate"){if(Sf(t)||Array.isArray(t)&&t.every(Sf)||Il(t)&&!t)return{type:r,message:Sf(t)?t:"",ref:e}}var Rs=t=>qt(t)&&!Of(t)?t:{value:t,message:""},$E=async(t,e,r,n)=>{let{ref:i,refs:o,required:s,maxLength:a,minLength:c,min:d,max:m,pattern:v,validate:y,name:w,valueAsNumber:b,mount:A,disabled:O}=t._f;if(!A||O)return{};let I=o?o[0]:i,F=re=>{n&&I.reportValidity&&(I.setCustomValidity(Il(re)?"":re||" "),I.reportValidity())},K={},H=vy(i),Y=kl(i),M=H||Y,z=(b||gy(i))&&!i.value||e===""||Array.isArray(e)&&!e.length,S=n3.bind(null,w,r,K),$=(re,X,le,ae=yA,me=mA)=>{let j=re?X:le;K[w]=Object.assign({type:re?ae:me,message:j,ref:i},S(re?ae:me,j))};if(s&&(!M&&(z||Tr(e))||Il(e)&&!e||Y&&!s3(o).isValid||H&&!l3(o).isValid)){let{value:re,message:X}=Sf(s)?{value:!!s,message:s}:Rs(s);if(re&&(K[w]=Object.assign({type:RE,message:X,ref:I},S(RE,X)),!r))return F(X),K}if(!(z||Tr(d)&&Tr(m))){let re,X,le=Rs(m),ae=Rs(d);if(isNaN(e)){let me=i.valueAsDate||new Date(e);Rn(le.value)&&(re=me>new Date(le.value)),Rn(ae.value)&&(X=me<new Date(ae.value))}else{let me=i.valueAsNumber||+e;Tr(le.value)||(re=me>le.value),Tr(ae.value)||(X=me<ae.value)}if((re||X)&&($(!!re,le.message,ae.message,dA,pA),!r))return F(K[w].message),K}if((a||c)&&!z&&Rn(e)){let re=Rs(a),X=Rs(c),le=!Tr(re.value)&&e.length>re.value,ae=!Tr(X.value)&&e.length<X.value;if((le||ae)&&($(le,re.message,X.message),!r))return F(K[w].message),K}if(v&&!z&&Rn(e)){let{value:re,message:X}=Rs(v);if(Of(re)&&!e.match(re)&&(K[w]=Object.assign({type:DE,message:X,ref:i},S(DE,X)),!r))return F(X),K}if(y){if(Tf(y)){let re=VE(await y(e),I);if(re&&(K[w]=Object.assign(Object.assign({},re),S(gA,re.message)),!r))return F(re.message),K}else if(qt(y)){let re={};for(let X in y){if(!Ur(re)&&!r)break;let le=VE(await y[X](e),I,X);le&&(re=Object.assign(Object.assign({},le),S(X,le.message)),F(le.message),r&&(K[w]=re))}if(!Ur(re)&&(K[w]=Object.assign({ref:I},re),!r))return K}}return F(!0),K},vA={mode:YE,reValidateMode:JE,shouldFocusError:!0};function wA(t={}){let e,r=Object.assign(Object.assign({},vA),t),n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},o=r.defaultValues||{},s=r.shouldUnregister?{}:Dn(o),a={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d=0,m={},v={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:cy(),array:cy(),state:cy()},w=PE(r.mode),b=PE(r.reValidateMode),A=r.criteriaMode===Nl,O=async U=>{let V=!1;return v.isValid&&(V=r.resolver?Ur((await Y()).errors):await M(i,!0),U||V===n.isValid||(n.isValid=V,y.state.next({isValid:V}))),V},I=(U,V)=>(yt(n.errors,U,V),y.state.next({errors:n.errors})),F=(U,V,G,ce)=>{let oe=Oe(i,U);if(oe){let ne=Oe(s,U,ut(G)?Oe(o,U):G);ut(ne)||ce&&ce.defaultChecked||V?yt(s,U,V?ne:hy(oe._f)):$(U,ne),a.mount&&O()}},K=(U,V,G,ce,oe)=>{let ne=!1,se={name:U},ye=Oe(n.touchedFields,U);if(v.isDirty){let xe=n.isDirty;n.isDirty=se.isDirty=z(),ne=xe!==se.isDirty}if(v.dirtyFields&&(!G||ce)){let xe=Oe(n.dirtyFields,U);Cs(Oe(o,U),V)?hr(n.dirtyFields,U):yt(n.dirtyFields,U,!0),se.dirtyFields=n.dirtyFields,ne=ne||xe!==Oe(n.dirtyFields,U)}return G&&!ye&&(yt(n.touchedFields,U,G),se.touchedFields=n.touchedFields,ne=ne||v.touchedFields&&ye!==G),ne&&oe&&y.state.next(se),ne?se:{}},H=async(U,V,G,ce,oe)=>{let ne=Oe(n.errors,V),se=v.isValid&&n.isValid!==G;var ye,xe;if(t.delayError&&ce?(e=e||(ye=I,xe=t.delayError,(...Ie)=>{clearTimeout(d),d=window.setTimeout(()=>ye(...Ie),xe)}),e(V,ce)):(clearTimeout(d),ce?yt(n.errors,V,ce):hr(n.errors,V)),((ce?!Cs(ne,ce):ne)||!Ur(oe)||se)&&!U){let Ie=Object.assign(Object.assign(Object.assign({},oe),se?{isValid:G}:{}),{errors:n.errors,name:V});n=Object.assign(Object.assign({},n),Ie),y.state.next(Ie)}m[V]--,v.isValidating&&!Object.values(m).some(Ie=>Ie)&&(y.state.next({isValidating:!1}),m={})},Y=async U=>r.resolver?await r.resolver(Object.assign({},s),r.context,((V,G,ce,oe)=>{let ne={};for(let se of V){let ye=Oe(G,se);ye&&yt(ne,se,ye._f)}return{criteriaMode:ce,names:[...V],fields:ne,shouldUseNativeValidation:oe}})(U||c.mount,i,r.criteriaMode,r.shouldUseNativeValidation)):{},M=async(U,V,G={valid:!0})=>{for(let ce in U){let oe=U[ce];if(oe){let ne=oe._f,se=kf(oe,"_f");if(ne){let ye=await $E(oe,Oe(s,ne.name),A,r.shouldUseNativeValidation);if(ye[ne.name]&&(G.valid=!1,V))break;V||(ye[ne.name]?yt(n.errors,ne.name,ye[ne.name]):hr(n.errors,ne.name))}se&&await M(se,V,G)}}return G.valid},z=(U,V)=>(U&&V&&yt(s,U,V),!Cs(me(),o)),S=(U,V,G)=>{let ce=Object.assign({},a.mount?s:ut(V)?o:Rn(U)?{[U]:V}:V);return t3(U,c,ce,G)},$=(U,V,G={})=>{let ce=Oe(i,U),oe=V;if(ce){let ne=ce._f;ne&&(!ne.disabled&&yt(s,U,a3(V,ne)),oe=jE&&py(ne.ref)&&Tr(V)?"":V,o3(ne.ref)?[...ne.ref.options].forEach(se=>se.selected=oe.includes(se.value)):ne.refs?kl(ne.ref)?ne.refs.length>1?ne.refs.forEach(se=>se.checked=Array.isArray(oe)?!!oe.find(ye=>ye===se.value):oe===se.value):ne.refs[0]&&(ne.refs[0].checked=!!oe):ne.refs.forEach(se=>se.checked=se.value===oe):gy(ne.ref)?ne.ref.value="":(ne.ref.value=oe,ne.ref.type||y.watch.next({name:U})))}(G.shouldDirty||G.shouldTouch)&&K(U,oe,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&ae(U)},re=(U,V,G)=>{for(let ce in V){let oe=V[ce],ne=`${U}.${ce}`,se=Oe(i,ne);!c.array.has(U)&&xf(oe)&&(!se||se._f)||Fs(oe)?$(ne,oe,G):re(ne,oe,G)}},X=(U,V,G={})=>{let ce=Oe(i,U),oe=c.array.has(U),ne=Dn(V);yt(s,U,ne),oe?(y.array.next({name:U,values:s}),(v.isDirty||v.dirtyFields)&&G.shouldDirty&&(n.dirtyFields=LE(o,s),y.state.next({name:U,dirtyFields:n.dirtyFields,isDirty:z(U,ne)}))):!ce||ce._f||Tr(ne)?$(U,ne,G):re(U,ne,G),dy(U,c)&&y.state.next({}),y.watch.next({name:U})},le=async U=>{let V=U.target,G=V.name,ce=Oe(i,G);if(ce){let ne,se,ye=V.type?hy(ce._f):WE(U),xe=U.type===GE||U.type===uA,Ie=!((oe=ce._f).mount&&(oe.required||oe.min||oe.max||oe.maxLength||oe.minLength||oe.pattern||oe.validate)||r.resolver||Oe(n.errors,G)||ce._f.deps)||((W,Z,J,be,C)=>!C.isOnAll&&(!J&&C.isOnTouch?!(Z||W):(J?be.isOnBlur:C.isOnBlur)?!W:!(J?be.isOnChange:C.isOnChange)||W))(xe,Oe(n.touchedFields,G),n.isSubmitted,b,w),k=dy(G,c,xe);yt(s,G,ye),xe?ce._f.onBlur&&ce._f.onBlur(U):ce._f.onChange&&ce._f.onChange(U);let D=K(G,ye,xe,!1),L=!Ur(D)||k;if(!xe&&y.watch.next({name:G,type:U.type}),Ie)return L&&y.state.next(Object.assign({name:G},k?{}:D));if(!xe&&k&&y.state.next({}),m[G]=(m[G],1),y.state.next({isValidating:!0}),r.resolver){let{errors:W}=await Y([G]),Z=zE(n.errors,i,G),J=zE(W,i,Z.name||G);ne=J.error,G=J.name,se=Ur(W)}else ne=(await $E(ce,Oe(s,G),A,r.shouldUseNativeValidation))[G],se=await O(!0);ce._f.deps&&ae(ce._f.deps),H(!1,G,se,ne,D)}var oe},ae=async(U,V={})=>{let G,ce,oe=zr(U);if(y.state.next({isValidating:!0}),r.resolver){let ne=await(async se=>{let{errors:ye}=await Y();if(se)for(let xe of se){let Ie=Oe(ye,xe);Ie?yt(n.errors,xe,Ie):hr(n.errors,xe)}else n.errors=ye;return ye})(ut(U)?U:oe);G=Ur(ne),ce=U?!oe.some(se=>Oe(ne,se)):G}else U?(ce=(await Promise.all(oe.map(async ne=>{let se=Oe(i,ne);return await M(se&&se._f?{[ne]:se}:se)}))).every(Boolean),(ce||n.isValid)&&O()):ce=G=await M(i);return y.state.next(Object.assign(Object.assign(Object.assign({},!Rn(U)||v.isValid&&G!==n.isValid?{}:{name:U}),r.resolver?{isValid:G}:{}),{errors:n.errors,isValidating:!1})),V.shouldFocus&&!ce&&Ef(i,ne=>Oe(n.errors,ne),U?oe:c.mount),ce},me=U=>{let V=Object.assign(Object.assign({},o),a.mount?s:{});return ut(U)?V:Rn(U)?Oe(V,U):U.map(G=>Oe(V,G))},j=(U,V)=>({invalid:!!Oe((V||n).errors,U),isDirty:!!Oe((V||n).dirtyFields,U),isTouched:!!Oe((V||n).touchedFields,U),error:Oe((V||n).errors,U)}),R=(U,V={})=>{for(let G of U?zr(U):c.mount)c.mount.delete(G),c.array.delete(G),Oe(i,G)&&(V.keepValue||(hr(i,G),hr(s,G)),!V.keepError&&hr(n.errors,G),!V.keepDirty&&hr(n.dirtyFields,G),!V.keepTouched&&hr(n.touchedFields,G),!r.shouldUnregister&&!V.keepDefaultValue&&hr(o,G));y.watch.next({}),y.state.next(Object.assign(Object.assign({},n),V.keepDirty?{isDirty:z()}:{})),!V.keepIsValid&&O()},ie=(U,V={})=>{let G=Oe(i,U),ce=Il(V.disabled);return yt(i,U,{_f:Object.assign(Object.assign(Object.assign({},G&&G._f?G._f:{ref:{name:U}}),{name:U,mount:!0}),V)}),c.mount.add(U),G?ce&&yt(s,U,V.disabled?void 0:Oe(s,U,hy(G._f))):F(U,!0,V.value),Object.assign(Object.assign(Object.assign({},ce?{disabled:V.disabled}:{}),r.shouldUseNativeValidation?{required:!!V.required,min:Ol(V.min),max:Ol(V.max),minLength:Ol(V.minLength),maxLength:Ol(V.maxLength),pattern:Ol(V.pattern)}:{}),{name:U,onChange:le,onBlur:le,ref:oe=>{if(oe){ie(U,V),G=Oe(i,U);let ne=ut(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,se=(xe=>vy(xe)||kl(xe))(ne),ye=G._f.refs||[];if(se?ye.find(xe=>xe===ne):ne===G._f.ref)return;yt(i,U,{_f:Object.assign(Object.assign({},G._f),se?{refs:ye.concat(ne).filter(fy),ref:{type:ne.type,name:U}}:{ref:ne})}),F(U,!1,void 0,ne)}else G=Oe(i,U,{}),G._f&&(G._f.mount=!1),(r.shouldUnregister||V.shouldUnregister)&&(!HE(c.array,U)||!a.action)&&c.unMount.add(U)}})};return{control:{register:ie,unregister:R,getFieldState:j,_executeSchema:Y,_getWatch:S,_getDirty:z,_updateValid:O,_removeUnmounted:()=>{for(let U of c.unMount){let V=Oe(i,U);V&&(V._f.refs?V._f.refs.every(G=>!fy(G)):!fy(V._f.ref))&&R(U)}c.unMount=new Set},_updateFieldArray:(U,V=[],G,ce,oe=!0,ne=!0)=>{if(ce&&G){if(a.action=!0,ne&&Array.isArray(Oe(i,U))){let se=G(Oe(i,U),ce.argA,ce.argB);oe&&yt(i,U,se)}if(v.errors&&ne&&Array.isArray(Oe(n.errors,U))){let se=G(Oe(n.errors,U),ce.argA,ce.argB);oe&&yt(n.errors,U,se),((ye,xe)=>{!Tl(Oe(ye,xe)).length&&hr(ye,xe)})(n.errors,U)}if(v.touchedFields&&Array.isArray(Oe(n.touchedFields,U))){let se=G(Oe(n.touchedFields,U),ce.argA,ce.argB);oe&&yt(n.touchedFields,U,se)}v.dirtyFields&&(n.dirtyFields=LE(o,s)),y.state.next({isDirty:z(U,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else yt(s,U,V)},_getFieldArray:U=>Tl(Oe(a.mount?s:o,U,t.shouldUnregister?Oe(o,U,[]):[])),_subjects:y,_proxyFormState:v,get _fields(){return i},get _formValues(){return s},get _stateFlags(){return a},set _stateFlags(U){a=U},get _defaultValues(){return o},get _names(){return c},set _names(U){c=U},get _formState(){return n},set _formState(U){n=U},get _options(){return r},set _options(U){r=Object.assign(Object.assign({},r),U)}},trigger:ae,register:ie,handleSubmit:(U,V)=>async G=>{G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let ce=!0,oe=Dn(s);y.state.next({isSubmitting:!0});try{if(r.resolver){let{errors:ne,values:se}=await Y();n.errors=ne,oe=se}else await M(i);Ur(n.errors)&&Object.keys(n.errors).every(ne=>Oe(oe,ne))?(y.state.next({errors:{},isSubmitting:!0}),await U(oe,G)):(V&&await V(Object.assign({},n.errors),G),r.shouldFocusError&&Ef(i,ne=>Oe(n.errors,ne),c.mount))}catch(ne){throw ce=!1,ne}finally{n.isSubmitted=!0,y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ur(n.errors)&&ce,submitCount:n.submitCount+1,errors:n.errors})}},watch:(U,V)=>Tf(U)?y.watch.subscribe({next:G=>U(S(void 0,V),G)}):S(U,V,!0),setValue:X,getValues:me,reset:(U,V={})=>{let G=U||o,ce=Dn(G),oe=U&&!Ur(U)?ce:o;if(V.keepDefaultValues||(o=G),!V.keepValues){if(jE&&ut(U))for(let ne of c.mount){let se=Oe(i,ne);if(se&&se._f){let ye=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;try{py(ye)&&ye.closest("form").reset();break}catch{}}}s=t.shouldUnregister?V.keepDefaultValues?Dn(o):{}:ce,i={},y.array.next({values:oe}),y.watch.next({values:oe})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!v.isValid||!!V.keepIsValid,a.watch=!!t.shouldUnregister,y.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:V.keepDirty?n.isDirty:!!V.keepDefaultValues&&!Cs(U,o),isSubmitted:!!V.keepIsSubmitted&&n.isSubmitted,dirtyFields:V.keepDirty?n.dirtyFields:V.keepDefaultValues&&U?Object.entries(U).reduce((ne,[se,ye])=>Object.assign(Object.assign({},ne),{[se]:ye!==Oe(o,se)}),{}):{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(U,V={})=>{Oe(i,U)&&(ut(V.defaultValue)?X(U,Oe(o,U)):(X(U,V.defaultValue),yt(o,U,V.defaultValue)),V.keepTouched||hr(n.touchedFields,U),V.keepDirty||(hr(n.dirtyFields,U),n.isDirty=V.defaultValue?z(U,Oe(o,U)):z()),V.keepError||(hr(n.errors,U),v.isValid&&O()),y.state.next(Object.assign({},n)))},clearErrors:U=>{U?zr(U).forEach(V=>hr(n.errors,V)):n.errors={},y.state.next({errors:n.errors})},unregister:R,setError:(U,V,G)=>{let ce=(Oe(i,U,{_f:{}})._f||{}).ref;yt(n.errors,U,Object.assign(Object.assign({},V),{ref:ce})),y.state.next({name:U,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&ce&&ce.focus&&ce.focus()},setFocus:(U,V={})=>{let G=Oe(i,U)._f,ce=G.refs?G.refs[0]:G.ref;V.shouldSelect?ce.select():ce.focus()},getFieldState:j}}Br.Controller=t=>t.render(FE(t)),Br.FormProvider=t=>Fe.default.createElement(KE.Provider,{value:kf(t,"children")},t.children),Br.appendErrors=n3,Br.get=Oe,Br.set=yt,Br.useController=FE,Br.useFieldArray=function(t){let e=Al(),{control:r=e.control,name:n,keyName:i="id",shouldUnregister:o}=t,[s,a]=Fe.default.useState(r._getFieldArray(n)),c=Fe.default.useRef(r._getFieldArray(n).map(Ii)),d=Fe.default.useRef(s),m=Fe.default.useRef(n),v=Fe.default.useRef(!1);m.current=n,d.current=s,r._names.array.add(n),bf({callback:Fe.default.useCallback(({values:w,name:b})=>{if(b===m.current||!b){let A=Oe(w,m.current,[]);a(A),c.current=A.map(Ii)}},[]),subject:r._subjects.array});let y=Fe.default.useCallback(w=>{v.current=!0,r._updateFieldArray(n,w)},[r,n]);return Fe.default.useEffect(()=>{r._stateFlags.action=!1,dy(n,r._names)&&r._subjects.state.next({}),v.current&&r._executeSchema([n]).then(w=>{let b=Oe(w.errors,n);b&&b.type&&!Oe(r._formState.errors,n)&&(yt(r._formState.errors,n,b),r._subjects.state.next({errors:r._formState.errors}))}),r._subjects.watch.next({name:n,values:r._formValues}),r._names.focus&&Ef(r._fields,w=>w.startsWith(r._names.focus)),r._names.focus="",r._proxyFormState.isValid&&r._updateValid()},[s,n,r]),Fe.default.useEffect(()=>(!Oe(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||o)&&r.unregister(n)}),[n,r,i,o]),{swap:Fe.default.useCallback((w,b)=>{let A=r._getFieldArray(n);uy(A,w,b),uy(c.current,w,b),y(A),a(A),r._updateFieldArray(n,A,uy,{argA:w,argB:b},!1)},[y,n,r]),move:Fe.default.useCallback((w,b)=>{let A=r._getFieldArray(n);sy(A,w,b),sy(c.current,w,b),y(A),a(A),r._updateFieldArray(n,A,sy,{argA:w,argB:b},!1)},[y,n,r]),prepend:Fe.default.useCallback((w,b)=>{let A=zr(Dn(w)),O=ay(r._getFieldArray(n),A);r._names.focus=ry(n,0,b),c.current=ay(c.current,A.map(Ii)),y(O),a(O),r._updateFieldArray(n,O,ay,{argA:iy(w)})},[y,n,r]),append:Fe.default.useCallback((w,b)=>{let A=zr(Dn(w)),O=ny(r._getFieldArray(n),A);r._names.focus=ry(n,O.length-1,b),c.current=ny(c.current,A.map(Ii)),y(O),a(O),r._updateFieldArray(n,O,ny,{argA:iy(w)})},[y,n,r]),remove:Fe.default.useCallback(w=>{let b=ly(r._getFieldArray(n),w);c.current=ly(c.current,w),y(b),a(b),r._updateFieldArray(n,b,ly,{argA:w})},[y,n,r]),insert:Fe.default.useCallback((w,b,A)=>{let O=zr(Dn(b)),I=oy(r._getFieldArray(n),w,O);r._names.focus=ry(n,w,A),c.current=oy(c.current,w,O.map(Ii)),y(I),a(I),r._updateFieldArray(n,I,oy,{argA:w,argB:iy(b)})},[y,n,r]),update:Fe.default.useCallback((w,b)=>{let A=CE(r._getFieldArray(n),w,b);c.current=[...A].map((O,I)=>O&&I!==w?c.current[I]:Ii()),y(A),a([...A]),r._updateFieldArray(n,A,CE,{argA:w,argB:b},!0,!1)},[y,n,r]),replace:Fe.default.useCallback(w=>{let b=zr(Dn(w));c.current=b.map(Ii),y([...b]),a([...b]),r._updateFieldArray(n,[...b],A=>A,{},!0,!1)},[y,n,r]),fields:Fe.default.useMemo(()=>s.map((w,b)=>Object.assign(Object.assign({},w),{[i]:c.current[b]||Ii()})),[s,i])}},Br.useForm=function(t={}){let e=Fe.default.useRef(),[r,n]=Fe.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});e.current?e.current.control._options=t:e.current=Object.assign(Object.assign({},wA(t)),{formState:r});let i=e.current.control,o=Fe.default.useCallback(s=>{XE(s,i._proxyFormState,!0)&&(i._formState=Object.assign(Object.assign({},i._formState),s),n(Object.assign({},i._formState)))},[i]);return bf({subject:i._subjects.state,callback:o}),Fe.default.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),e.current.formState=ZE(r,i._proxyFormState),e.current},Br.useFormContext=Al,Br.useFormState=e3,Br.useWatch=r3});var If=ve(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.TextInput=void 0;var Dl=nt(),Ps=(0,Dl.__importDefault)(je()),Nf=(0,Dl.__importDefault)($t()),_A=El(),SA=Ai(),bA=function(t){var e=t.validation,r=e===void 0?"default":e,n=t.className,i=t.label,o=t.labelType,s=o===void 0?"default":o,a=t.inputClassName,c=t.button,d=t.register,m=(0,Dl.__rest)(t,["validation","className","label","labelType","inputClassName","button","register"]),v=i&&s,y=Ps.default.createElement("input",(0,Dl.__assign)({alt:i},m,{className:(0,Nf.default)("px-3 py-1.5 outline-0 border w-full",SA.TextInputBorderMap[r],m.disabled&&"bg-secondary-200",v!=="addon"&&"rounded-l-sm",!c&&"rounded-r",i||c?a:n)},d));return i||c?Ps.default.createElement("div",{className:(0,Nf.default)("flex",v==="default"?"flex-col":"flex-row",n)},i&&Ps.default.createElement("div",{className:(0,Nf.default)("flex",v==="default"&&"pb-2",v==="row:1/3"&&"w-1/3",v==="row:1/4"&&"w-1/4",v==="row:2/5"&&"w-2/5",v==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},Ps.default.createElement("span",{className:(0,Nf.default)(v!=="default"&&"m-auto")},i)),c?Ps.default.createElement("div",{className:"flex flex-row w-full"},y,Ps.default.createElement(_A.Button,(0,Dl.__assign)({shape:"flat",className:"rounded-r-sm"},c),c.label)):y):y};Af.TextInput=bA});var h3=ve(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.Login=void 0;var _y=nt(),u3=(0,_y.__importDefault)($t()),It=(0,_y.__importDefault)(je()),EA=wy(),c3=If(),xA=Ai(),f3=El(),OA=ff();function kA(t){var e=t.onLoginClick,r=t.companyName,n=t.onSignUpClick,i=t.isLoading,o=t.useRegularLogin,s=t.thirdPartyLogins,a=t.className,c=t.style,d=(0,EA.useForm)(),m=d.register,v=d.handleSubmit,y=d.formState,w=d.reset,b=d.setValue,A=y.errors,O=y.submitCount,I=function(M){w(),b("email",M.email),b("password",M.password),e==null||e(M)},F="rounded-md text-sm font-medium",K="py-2.5 pl-3 text-base font-semibold "+(i?"bg-gray-200":"bg-gray-50"),H=O>0&&A.email,Y=O>0&&A.password;return It.default.createElement("form",{className:(0,u3.default)("bg-white rounded max-w-lg w-full p-10",a),style:c,onSubmit:v(I)},It.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",r||"your account"),n&&It.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",It.default.createElement("a",{onClick:i?void 0:n,className:(0,u3.default)(`
                    hover:text-gray-500 focus:text-gray-500 focus:outline-none
                    focus:underline hover:underline text-sm font-medium leading-none
                    text-gray-800`,i?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),It.default.createElement("div",{className:"mt-4"}),s==null?void 0:s.map(function(M,z){return It.default.createElement(TA,(0,_y.__assign)({},M,{disabled:i,key:z}))}),s&&o&&It.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},It.default.createElement("hr",{className:"w-full bg-gray-400"}),It.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),It.default.createElement("hr",{className:"w-full bg-gray-400"})),o&&It.default.createElement(It.default.Fragment,null,It.default.createElement(c3.TextInput,{label:"Email",className:F,inputClassName:K,disabled:i,validation:H?"danger":"default",register:m("email",{required:!0,pattern:xA.regexpUtil.email})}),It.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",H?"Please enter a valid email":""),It.default.createElement(c3.TextInput,{label:"Password",type:"password",className:F,inputClassName:K,disabled:i,validation:H?"danger":"default",register:m("password",{required:!0})}),It.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",Y?"Please enter your password":""),It.default.createElement("div",{className:"mt-6"},It.default.createElement(f3.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:i,htmlType:"submit"},i?It.default.createElement(OA.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))}Df.Login=kA;var TA=function(t){var e=t.disabled,r=t.name,n=t.logo,i=t.onClick;return It.default.createElement(f3.Button,{size:"auto",outline:!0,type:"secondary",disabled:e,onClick:i,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,It.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var d3=ve(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.Modal=void 0;var Rf=nt(),NA=ar(),AA=(0,Rf.__importDefault)($t()),mn=(0,Rf.__importDefault)(je()),IA=yf();function DA(t){var e=t.zIndex,r=e===void 0?1004:e,n=t.className,i=t.style,o=t.header,s=t.onClose,a=t.onBackdropClick,c=t.children;return mn.default.createElement(mn.default.Fragment,null,mn.default.createElement(IA.Backdrop,(0,Rf.__assign)({},{zIndex:r-1,onBackdropClick:a,transition:!1})),mn.default.createElement("div",{className:(0,AA.default)("fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2","border border-secondary-300 shadow-lg bg-white w-11/12 md:max-w-md mx-auto rounded overflow-y-auto",n),style:(0,Rf.__assign)({zIndex:r},i)},mn.default.createElement("div",{className:"relative"},mn.default.createElement("div",{className:"cursor-pointer absolute top-3.5 right-3.5",onClick:s},mn.default.createElement("svg",{className:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 18 18"},mn.default.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}))),mn.default.createElement("div",{className:"py-4 px-6"},o&&mn.default.createElement("div",{className:"pb-3"},(0,NA.isType)(o,"string")?mn.default.createElement("p",{className:"text-2xl font-bold"},o):o),c))))}Ff.Modal=DA});var p3=ve(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.SquareGrid=void 0;var Sy=nt(),gn=(0,Sy.__importStar)(je()),RA=ar(),FA=function(t){(0,Sy.__extends)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={sizeBy:"vw"},r.componentDidMount=function(){var n=function(){var i=window.innerHeight>window.innerWidth?"vw":"vh";i!==r.state.sizeBy&&r.setState({sizeBy:i})};n(),r.resizeRef=jA(n)},r.componentWillUnmount=function(){var n;return(n=r.resizeRef)===null||n===void 0?void 0:n.stop()},r.render=function(){var n=r.props,i=r.state,o="85"+i.sizeBy;return gn.default.createElement("div",{className:"border flex flex-col",style:{height:o,width:o}},gn.default.createElement(CA,{items:n.items}))},r}return e}(gn.Component);Cf.SquareGrid=FA;function CA(t){var e=(0,gn.useState)("0"),r=e[0],n=e[1],i=(0,gn.useState)([]),o=i[0],s=i[1];return(0,gn.useEffect)(function(){var a=t.items.length,c=Math.ceil(Math.sqrt(a)),d=(0,RA.arrDivide)(t.items,a/c);s(d),n((100/d.length).toFixed(5)+"%")},[t.items]),gn.default.createElement(gn.default.Fragment,null,o.map(function(a,c){return gn.default.createElement("div",{className:"flex flex-row",style:{height:r},key:c},a.map(function(d,m){return gn.default.createElement(PA,(0,Sy.__assign)({},{children:d,size:r},{key:m}))}))}))}function PA(t){var e=t.children,r=t.size;return gn.default.createElement("div",{style:{width:r},className:"h-full m-auto"},e)}function jA(t){return addEventListener("resize",t),{stop:function(){return removeEventListener("resize",t)}}}});var y3=ve(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.Radio=void 0;var Ey=nt(),by=(0,Ey.__importDefault)(je()),LA=function(t){var e=t.label,r=t.disabled,n=(0,Ey.__rest)(t,["label","disabled"]);return by.default.createElement("label",{className:"inline-flex items-center"},by.default.createElement("input",(0,Ey.__assign)({type:"radio",name:"vehicle",className:"h-5 w-5 text-red-600",disabled:r},n)),e&&by.default.createElement("span",{className:"ml-2 text-gray-700"},e))};Pf.Radio=LA});var m3=ve(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.TextArea=void 0;var Mf=nt(),jf=(0,Mf.__importDefault)(je()),MA=Ai(),Lf=(0,Mf.__importDefault)($t());function BA(t){var e=t.validation,r=e===void 0?"default":e,n=t.className,i=t.label,o=t.labelType,s=o===void 0?"default":o,a=t.inputClassName,c=t.register,d=(0,Mf.__rest)(t,["validation","className","label","labelType","inputClassName","register"]),m=i&&s,v=jf.default.createElement("textarea",(0,Mf.__assign)({alt:i},d,{className:(0,Lf.default)("px-3 py-1.5 outline-0 border w-full rounded-r-sm",MA.TextInputBorderMap[r],d.disabled&&"bg-secondary-200",m!=="addon"&&"rounded-l-sm",i?a:n)}));return i?jf.default.createElement("div",{className:(0,Lf.default)("flex",m==="default"?"flex-col":"flex-row",n)},i&&jf.default.createElement("div",{className:(0,Lf.default)("flex",m==="default"&&"pb-2",m==="row:1/3"&&"w-1/3",m==="row:1/4"&&"w-1/4",m==="row:2/5"&&"w-2/5",m==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},jf.default.createElement("span",{className:(0,Lf.default)(m!=="default"&&"m-auto")},i)),v):v}Bf.TextArea=BA});var g3=ve(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.Toggle=void 0;var xy=nt(),Di=(0,xy.__importStar)(je()),UA=function(t){var e=t.onChange,r=t.label,n=(0,xy.__rest)(t,["onChange","label"]),i=(0,Di.useState)(!1),o=i[0],s=i[1];return Di.default.createElement("div",{className:"flex flex-col"},Di.default.createElement("label",{className:"mt-3 inline-flex items-center cursor-pointer"},Di.default.createElement("span",{className:"relative"},Di.default.createElement("span",{className:"block w-10 h-6 rounded-full shadow-inner ".concat(o?"bg-primary-300":"bg-secondary-200")}),Di.default.createElement("span",{className:"absolute block w-4 h-4 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-300 ease-in-out ".concat(o?"transform translate-x-full bg-secondary-300":"bg-secondary-400")},Di.default.createElement("input",(0,xy.__assign)({},n,{type:"checkbox",className:"absolute opacity-0 w-0 h-0",onChange:function(a){s(a.target.checked),e(a.target.checked)}})))),r&&Di.default.createElement("span",{className:"ml-3 text-sm"},r)))};Uf.Toggle=UA});var S3=ve(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.NavDrawer=void 0;var vn=nt(),et=(0,vn.__importStar)(je()),xo=(0,vn.__importDefault)($t()),w3=ar(),zA=hf(),VA=yf(),$A=Ai(),qA=function(t){var e=t.brand,r=t.fixed,n=r===void 0?!1:r,i=t.zIndex,o=i===void 0?1002:i,s=t.user,a=t.onBrandClick,c=t.onAvatarClick,d=t.onBackdropClick,m=t.menuItems,v=t.isOpen,y=t.className,w=t.style;return et.default.createElement(et.default.Fragment,null,n&&v&&et.default.createElement(VA.Backdrop,(0,vn.__assign)({},{onBackdropClick:d,zIndex:o-1})),et.default.createElement("div",{className:(0,xo.default)(`
        flex flex-col bg-white
        dark:bg-gray-800 dark:border-gray-600
        shadow text-secondary-600 w-64
        transition-all duration-500`,n&&"h-screen fixed top-0 "+(n==="left"?"left-0":"right-0"),n&&[!v&&n==="left"&&"-translate-x-full",!v&&n==="right"&&"translate-x-full"],$A.customScrollBar,y),style:(0,vn.__assign)({zIndex:o},w)},e&&et.default.createElement("div",{className:(0,xo.default)("border-b border-secondary-200 px-2 py-1.5",a&&"cursor-pointer"),onClick:a},(0,w3.isType)(e,"string")?et.default.createElement("h2",{className:(0,xo.default)("text-3xl font-semibold text-gray-800 dark:text-white")},e):e),s&&et.default.createElement("div",{className:(0,xo.default)("flex items-center border-b border-secondary-200 pl-1.5 py-2",c&&"cursor-pointer"),onClick:c},et.default.createElement(zA.Avatar,(0,vn.__assign)({dataState:"done",size:"sm"},s)),et.default.createElement("h4",{className:"ml-1 font-medium text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},s.name)),et.default.createElement("div",{className:"flex flex-col justify-between flex-1"},et.default.createElement("nav",{className:"px-1.5"},m.map(function(b,A){return et.default.createElement(_3,(0,vn.__assign)({},b,{key:A}))})))))};zf.NavDrawer=qA;var v3=function(t){var e=t.children,r=t.isActive,n=t.getHeight,i=(0,vn.__rest)(t,["children","isActive","getHeight"]);return et.default.createElement("div",(0,vn.__assign)({className:(0,xo.default)(`
        flex items-center
        my-1 px-4 py-2 rounded-md
        text-gray-600 dark:text-gray-400
    `,i.onClick&&"cursor-pointer",r?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200":"hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200")},i),e)},_3=function(t){switch(t.type){case"action":{var e=t.isActive,r=t.icon,n=t.title,i=t.onClick;return(0,w3.isType)(n,"string")?et.default.createElement(v3,(0,vn.__assign)({},{isActive:e,onClick:i}),r&&r,et.default.createElement("span",{className:"mx-4 font-medium"},n)):n}case"break":return et.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return et.default.createElement("div",{className:`\r
                overflow-hidden my-1 py-2\r
                text-gray-600 dark:text-gray-400\r
            `},et.default.createElement("span",{className:"px-3 font-medium"},t.title));case"sub-menu":{var r=t.icon,n=t.title,o=t.subMenu,s=(0,et.useState)(!1),a=s[0],c=s[1];return et.default.createElement(et.default.Fragment,null,et.default.createElement(v3,(0,vn.__assign)({},{isActive:a,onClick:function(){return c(!a)}}),r&&r,et.default.createElement("span",{className:"mx-4 font-medium"},n),et.default.createElement("svg",{className:(0,xo.default)("svg-fix transition-transform ml-auto mr-1.5",a&&"-rotate-90"),stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},et.default.createElement("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}))),et.default.createElement("div",{className:(0,xo.default)("overflow-hidden transition-all duration-700",a?"max-h-screen":"max-h-0")},o.map(function(v,y){return et.default.createElement(_3,(0,vn.__assign)({},v,{key:y}))})))}default:throw console.error(t),new Error("This type of MenuItem is not implemented.")}}});var E3=ve($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.TopBar=void 0;var Vf=nt(),WA=ar(),HA=(0,Vf.__importDefault)($t()),Wt=(0,Vf.__importStar)(je()),GA=Wt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}),JA=Wt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"});function YA(t){var e=t.fixed,r=t.onMenuExpand,n=t.leftNavItems,i=t.centerContent,o=t.rightNavItems,s=t.zIndex,a=s===void 0?1e3:s,c=t.className,d=t.style,m=t.addSpacer,v=m===void 0?!1:m,y=t.menuIsExpanded,w=(0,Wt.useState)(0),b=w[0],A=w[1],O=(0,Wt.useRef)(null),I=(0,Wt.useRef)(new ResizeObserver(function(z){return A(z[0].borderBoxSize[0].blockSize)}));(0,Wt.useEffect)(function(){return O.current&&I.current.observe(O.current),function(){return I.current.disconnect()}},[O,I]);var F=(0,Wt.useState)(!1),K=F[0],H=F[1],Y=function(z){return z&&z.map(function(S,$){var re=S.children,X=S.onClick;return Wt.default.createElement(b3,(0,Vf.__assign)({},{children:re,onClick:X},{key:$}))})},M=(0,WA.isType)(y,"boolean")?!y:!K;return Wt.default.createElement(Wt.default.Fragment,null,v&&e&&Wt.default.createElement("div",{style:{height:b},className:"w-full"}),Wt.default.createElement("nav",{ref:O,className:(0,HA.default)("bg-white shadow dark:bg-gray-800 flex justify-between p-2 border",e&&"fixed top-0 left-0 right-0",c),style:(0,Vf.__assign)({zIndex:a},d)},Wt.default.createElement("ul",{className:"flex flex-row"},r&&Wt.default.createElement(b3,{onClick:function(){H(!M),r(!M)}},Wt.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"svg-fix"},M?JA:GA)),Y(n)),i,Wt.default.createElement("ul",{className:"flex flex-row"},Y(o))))}$f.TopBar=YA;var b3=function(t){return Wt.default.createElement("li",{className:"p-4 text-neutral-500 hover:text-neutral-800 min-w-2"},Wt.default.createElement("span",{className:"cursor-pointer",onClick:t.onClick},t.children))}});var x3=ve(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.grTo=Ri.grFrom=Ri.gradients=void 0;Ri.gradients={1:"bg-gradient-to-t",2:"bg-gradient-to-tr",3:"bg-gradient-to-r",4:"bg-gradient-to-br",5:"bg-gradient-to-b",6:"bg-gradient-to-bl",7:"bg-gradient-to-l",8:"bg-gradient-to-tl"};Ri.grFrom={slate:"from-slate-400",gray:"from-gray-400",red:"from-red-400",pink:"from-pink-400",purple:"from-purple-400",indigo:"from-indigo-400",blue:"from-blue-400",cyan:"from-cyan-400",teal:"from-teal-400",green:"from-green-400",lime:"from-lime-400",yellow:"from-yellow-400",amber:"from-amber-400",orange:"from-orange-400",brown:"from-brown-400",grey:"from-grey-400",emerald:"from-emerald-400",rose:"from-rose-400"};Ri.grTo={slate:"to-slate-900",gray:"to-gray-900",red:"to-red-900",pink:"to-pink-900",purple:"to-purple-900",indigo:"to-indigo-900",blue:"to-blue-900",cyan:"to-cyan-900",teal:"to-teal-900",green:"to-green-900",lime:"to-lime-900",yellow:"to-yellow-900",amber:"to-amber-900",orange:"to-orange-900",brown:"to-brown-900",grey:"to-grey-900",emerald:"to-emerald-900",rose:"to-rose-900"}});var N3=ve(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.LoginPage=void 0;var ky=nt(),O3=(0,ky.__importDefault)($t()),mt=(0,ky.__importDefault)(je()),KA=wy(),ZA=Wf(),T3=El(),k3=If(),XA=Ai(),Oy=x3();function QA(t){var e=t.thirdPartyLogins,r=t.useRegularLogin,n=t.brand,i=t.companyName,o=t.bgGradientFrom,s=t.bgGradientTo,a=t.onLoginClick,c=t.isLoading,d=t.gradient,m=t.onSignUpClick,v=t.className,y=t.style,w=(0,KA.useForm)(),b=w.register,A=w.handleSubmit,O=w.formState,I=w.reset,F=w.setValue,K=O.errors,H=O.submitCount,Y=function(X){I(),F("email",X.email),F("password",X.password),a==null||a(X)},M="rounded-md text-sm font-medium",z="py-2.5 pl-3 text-base font-semibold "+(c?"bg-gray-200":"bg-gray-50"),S=o&&s&&d,$=H>0&&K.email,re=H>0&&K.password;return mt.default.createElement("div",{className:(0,O3.default)("h-full w-full py-14 px-4",S&&Oy.gradients[d],S&&Oy.grFrom[o],S&&Oy.grTo[s],v),style:y},mt.default.createElement("div",{className:"flex flex-col items-center justify-center"},n,mt.default.createElement("form",{className:"bg-white shadow-lg rounded lg:w-2/3 md:w-3/4 max-w-lg w-full p-10 border border-secondary-200",onSubmit:A(Y)},mt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",i||"your account"),m&&mt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",mt.default.createElement("a",{onClick:c?void 0:m,className:(0,O3.default)(`
                            hover:text-gray-500 focus:text-gray-500 focus:outline-none
                            focus:underline hover:underline text-sm font-medium leading-none
                            text-gray-800`,c?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),mt.default.createElement("div",{className:"mt-4"}),e==null?void 0:e.map(function(X,le){return mt.default.createElement(eI,(0,ky.__assign)({},X,{disabled:c,key:le}))}),e&&r&&mt.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},mt.default.createElement("hr",{className:"w-full bg-gray-400"}),mt.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),mt.default.createElement("hr",{className:"w-full bg-gray-400"})),r&&mt.default.createElement(mt.default.Fragment,null,mt.default.createElement(k3.TextInput,{label:"Email",className:M,inputClassName:z,disabled:c,validation:$?"danger":"default",register:b("email",{required:!0,pattern:XA.regexpUtil.email})}),mt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",$?"Please enter a valid email":""),mt.default.createElement(k3.TextInput,{label:"Password",type:"password",className:M,inputClassName:z,disabled:c,validation:$?"danger":"default",register:b("password",{required:!0})}),mt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",re?"Please enter your password":""),mt.default.createElement("div",{className:"mt-6"},mt.default.createElement(T3.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:c,htmlType:"submit"},c?mt.default.createElement(ZA.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))))}qf.LoginPage=QA;var eI=function(t){var e=t.disabled,r=t.name,n=t.logo;return mt.default.createElement(T3.Button,{size:"auto",outline:!0,type:"secondary",disabled:e,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,mt.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var Wf=ve(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});var Dt=nt();(0,Dt.__exportStar)(Xb(),gt);(0,Dt.__exportStar)(wE(),gt);(0,Dt.__exportStar)(SE(),gt);(0,Dt.__exportStar)(hf(),gt);(0,Dt.__exportStar)(AE(),gt);(0,Dt.__exportStar)(yf(),gt);(0,Dt.__exportStar)(uf(),gt);(0,Dt.__exportStar)(El(),gt);(0,Dt.__exportStar)(Wp(),gt);(0,Dt.__exportStar)(IE(),gt);(0,Dt.__exportStar)(h3(),gt);(0,Dt.__exportStar)(d3(),gt);(0,Dt.__exportStar)(ff(),gt);(0,Dt.__exportStar)(p3(),gt);(0,Dt.__exportStar)(y3(),gt);(0,Dt.__exportStar)(m3(),gt);(0,Dt.__exportStar)(If(),gt);(0,Dt.__exportStar)(g3(),gt);(0,Dt.__exportStar)(S3(),gt);(0,Dt.__exportStar)(E3(),gt);(0,Dt.__exportStar)(N3(),gt)});var Py=Ft(je()),C3=Ft(bw());var un=Ft(je());function ps(){return ps=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ps.apply(this,arguments)}var vi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vi||(vi={}));var Ew=function(t){return t};var xw="beforeunload";var L4="popstate";function Tw(t){t===void 0&&(t={});var e=t,r=e.window,n=r===void 0?document.defaultView:r,i=n.history;function o(){var z=n.location,S=z.pathname,$=z.search,re=z.hash,X=i.state||{};return[X.idx,Ew({pathname:S,search:$,hash:re,state:X.usr||null,key:X.key||"default"})]}var s=null;function a(){if(s)w.call(s),s=null;else{var z=vi.Pop,S=o(),$=S[0],re=S[1];if(w.length){if($!=null){var X=m-$;X&&(s={action:z,location:re,retry:function(){Y(X*-1)}},Y(X))}}else F(z)}}n.addEventListener(L4,a);var c=vi.Pop,d=o(),m=d[0],v=d[1],y=kw(),w=kw();m==null&&(m=0,i.replaceState(ps({},i.state,{idx:m}),""));function b(z){return typeof z=="string"?z:Nw(z)}function A(z,S){return S===void 0&&(S=null),Ew(ps({pathname:v.pathname,hash:"",search:""},typeof z=="string"?C0(z):z,{state:S,key:M4()}))}function O(z,S){return[{usr:z.state,key:z.key,idx:S},b(z)]}function I(z,S,$){return!w.length||(w.call({action:z,location:S,retry:$}),!1)}function F(z){c=z;var S=o();m=S[0],v=S[1],y.call({action:c,location:v})}function K(z,S){var $=vi.Push,re=A(z,S);function X(){K(z,S)}if(I($,re,X)){var le=O(re,m+1),ae=le[0],me=le[1];try{i.pushState(ae,"",me)}catch{n.location.assign(me)}F($)}}function H(z,S){var $=vi.Replace,re=A(z,S);function X(){H(z,S)}if(I($,re,X)){var le=O(re,m),ae=le[0],me=le[1];i.replaceState(ae,"",me),F($)}}function Y(z){i.go(z)}var M={get action(){return c},get location(){return v},createHref:b,push:K,replace:H,go:Y,back:function(){Y(-1)},forward:function(){Y(1)},listen:function(S){return y.push(S)},block:function(S){var $=w.push(S);return w.length===1&&n.addEventListener(xw,Ow),function(){$(),w.length||n.removeEventListener(xw,Ow)}}};return M}function Ow(t){t.preventDefault(),t.returnValue=""}function kw(){var t=[];return{get length(){return t.length},push:function(r){return t.push(r),function(){t=t.filter(function(n){return n!==r})}},call:function(r){t.forEach(function(n){return n&&n(r)})}}}function M4(){return Math.random().toString(36).substr(2,8)}function Nw(t){var e=t.pathname,r=e===void 0?"/":e,n=t.search,i=n===void 0?"":n,o=t.hash,s=o===void 0?"":o;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function C0(t){var e={};if(t){var r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));var n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}var Mt=Ft(je());function B4(t,e){if(!t)throw new Error(e)}var U4=(0,Mt.createContext)(null),Aw=(0,Mt.createContext)(null);function Iw(t){let{basename:e="/",children:r=null,location:n,navigationType:i=vi.Pop,navigator:o,static:s=!1}=t;z4()&&B4(!1);let a=$4(e),c=(0,Mt.useMemo)(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof n=="string"&&(n=C0(n));let{pathname:d="/",search:m="",hash:v="",state:y=null,key:w="default"}=n,b=(0,Mt.useMemo)(()=>{let A=V4(d,a);return A==null?null:{pathname:A,search:m,hash:v,state:y,key:w}},[a,d,m,v,y,w]);return b==null?null:(0,Mt.createElement)(U4.Provider,{value:c},(0,Mt.createElement)(Aw.Provider,{children:r,value:{location:b,navigationType:i}}))}function z4(){return(0,Mt.useContext)(Aw)!=null}function V4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=t.charAt(e.length);return r&&r!=="/"?null:t.slice(e.length)||"/"}var $4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function Dw(t){let{basename:e,children:r,window:n}=t,i=(0,un.useRef)();i.current==null&&(i.current=Tw({window:n}));let o=i.current,[s,a]=(0,un.useState)({action:o.action,location:o.location});return(0,un.useLayoutEffect)(()=>o.listen(a),[o]),(0,un.createElement)(Iw,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o})}var gC=Ft(Yb());var tr=Ft(je());var Kb=Ft(je());tl();var _o=class extends Kb.Component{constructor(e={state:Xr}){super(e);this.statemgr=Xr;this.UPDATED=[];e.state&&(this.statemgr=e.state);let r=this.setState.bind(this);this.setState=n=>{this.UPDATED=Object.keys(n),r(n),typeof n=="object"&&Xr.setState(n)},setTimeout(()=>{let n={};for(let i in this.state)this.statemgr.subscribeTrigger(i,o=>{if(typeof this=="undefined")this.statemgr.unsubscribeTrigger(i);else{let a=this.UPDATED.indexOf(i);a>-1?this.UPDATED.splice(a,1):r({[i]:o})}});Object.keys(n).length>0&&r(n)},.001)}};var Ms=Ft(Wf());var Jn=Ft(je()),Ty=class extends Jn.Component{render(){return Jn.default.createElement("div",null,Jn.default.createElement("div",{style:{height:200,border:"1px solid black",borderRadius:5}},"User Card + Summary"),Jn.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Selectable summary tiles"),Jn.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Descending or popup scrollview of selected timelines/details/summaries.",Jn.default.createElement("br",null),Jn.default.createElement("br",null),"E.g. Sleep timeline adjacent to events, and chart"))}};var Hf=Ft(je());function A3(t=""){return`${t+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}ks();var Ny=class extends _o{constructor(){super(...arguments);this.id=A3("permissions")}componentDidMount(){return ee(this,null,function*(){let e=yield qe.getAuthorizations(),r=document.getElementById(this.id+"auths");e&&e.forEach(n=>{r==null||r.insertAdjacentHTML("beforeend",`
                    <tr>
                        <td>Permissions: ${Object.keys(n.authorizations).map(i=>`${i}:${n.authorizations[i]}`)}</td>
                        <td>Authorized: ${n.authorizedName}</td>
                        <td>Authorizer: ${n.authorizerName}</td>
                        <td>Status: ${n.status}</td>
                    </tr>`)})})}render(){return Hf.default.createElement("div",null,Hf.default.createElement("div",{style:{height:600,border:"1px solid black",borderRadius:5}},"Summaries of Connected Peers",Hf.default.createElement("table",{id:this.id+"auths"})))}};var js=Ft(je()),Ay=class extends js.Component{render(){return js.default.createElement("div",null,js.default.createElement("div",null,"Profile Deets + Editing"),js.default.createElement("div",null,"More fine grained permissions and opt-in stuff"))}};var F3=Ft(Wf());Fp();tl();var Ry=Ft(je());zc();ks();zc();Mp();var Fi=class{constructor(){}static genSineWave(e=20,r=1,n=1,i=512,o=0,s=1){for(var a=[],c=[],d=1/i,m=0;m<n;m+=d){var v=Math.sin(2*Math.PI*e*m)*r;v+=Math.sin(2*Math.PI*o*m)*s,a.push(v),c.push(m)}return[c,a]}static getSineAmplitude(e=20,r=1,n=0,i=0){return Math.sin(this.TWO_PI*e*n+i)*r}static genSawtoothWave(e=1,r=1,n=1,i=512){let o=[],s=[],a=1/i;for(var c=0;c<n;c+=a){let d=Math.PI*c*e,m=Math.cos(d)/Math.sin(d),v=-c*Math.PI*.5/Math.atan(m);s.push(c),o.push(v)}return[s,o]}static genSquareWave(e=1,r=1,n=1,i=512,o=!1){let s=[],a=[],c=1/i;for(let d=0;d<n;d+=c){let m;Math.sin(e*d)<0?m=-r:m=r}return[a,s]}static mean(e){var r=e.reduce((n,i)=>i+=n);return r/e.length}static mode(e){return e.sort((r,n)=>e.filter(i=>i===r).length-e.filter(i=>i===n).length).pop()}static std(e,r=void 0){let n=r;r||(n=this.mean(e));let i=0;for(let o=0;o<e.length;o++){let s=e[o]-n;i+=s*s}return Math.sqrt(i/e.length)}static relError(e=[],r=[],n=!0){if(e.length!==r.length)throw new Error("Input arrays of same length!");let i=e.length,o=[];for(let s=0;s<i;s++){let a=(e[s]-r[s])/e[s];n&&(a=Math.abs(a)),o.push(a)}return o}static informationEntropy(e=[]){let r=[],n=e.length;for(let i=0;i<n;i++){let o=e[i]*Math.log(e[i]);isNaN(o)&&(o=0),r.push(o)}return r}static zscore(e){let r=this.mean(e),n=this.std(e,r),i=[];for(let o=0;o<e.length;o++)i.push((e[o]-r)/n);return i}static variance(e){var r=this.mean(e);return e.reduce((n,i)=>n+og(i-r,2),0)/e.length}static linspace(e,r,n){var i=new Array(n);n<2&&(n=2);for(var o=(r-e)/(n-1),s=0;s<n;s++)i[s]=e+o*s;return i}static dot(e,r){for(var n=0,i=0;i<e.length;i++)n+=e[i]*r[i];return n}static cross3D(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}static magnitude(e){var r=0;return e.forEach(n=>{r+=n*n}),Math.sqrt(r)}static distance(e,r){var n=0;return e.forEach((i,o)=>{n+=(r[o]-i)*(r[o]-i)}),Math.sqrt(n)}static normalize(e){let r=1/this.magnitude(e),n=new Array(e.length);return e.forEach((i,o)=>{n[o]=i*r}),n}static makeVec(e,r){var n=new Array(e.length);return e.forEach((i,o)=>{n.push(r[o]-i)}),n}static vecsub(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]-r[i];return n}static vecadd(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]+r[i];return n}static vecmul(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]*r[i];return n}static vecdiv(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]/r[i];return n}static vecscale(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]*r;return n}static calcNormal(e,r,n,i=!0){var o=makeVec(e,r),s=makeVec(e,n);return i===!0?Math3D.normalize(this.cross3D(o,s)):Math3D.normalize(this.cross3D(s,o))}static quadraticFormula(e,r,n){let i=Math.sqrt(r*r-4*e*n);if(!isNaN(i))return["complex","complex"];let o=1/(2*e);if(i===0)return[r*o];let s=-r;return[(s+i)*o,(s-i)*o]}static newtonsMethod(e=s=>Math.pow(s,5)+s*s-s-.2,r=0,n=1,i=.01,o=10){let s=[];for(let a=0;a<o;a++){let c=r+(n-r)*a/(o-1),d=e(c),m=e(c+i),v=(m-d)/i,y=c+i;for(;Math.abs(v)>i;){let A=-d/I,O=y+A;d=m,m=e(O);let I=(m-d)/(O-y)}let w,b=s.find((A,O)=>{if(Math.abs(xn1-A)<i)return w=O,!0});b?s[w]=(xn1+b)*.5:s.push(xn1)}return s}static makeVec(e,r){var n=[];return e.forEach((i,o)=>{n.push(r[o]-i)}),n}static transpose(e){return e[0].map((r,n)=>e.map(i=>i[n]))}static matmul(e,r){for(var n=e.length,i=e[0].length,o=r.length,s=r[0].length,a=new Array(n),c=0;c<n;++c){a[c]=new Array(s);for(var d=0;d<s;++d){a[c][d]=0;for(var m=0;m<i;++m)a[c][d]+=e[c][m]*r[m][d]}}return a}static matscale(e,r){let n=[];for(var i=0;i<e.length;i++){n[i]=[];for(let o=0;o<e[0].length;o++)n[i][o]=e[i][o]*r}return n}static matadd(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]+r[o][i]}return n}static matsub(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]-r[o][i]}return n}static histogram(e=[],r=1,n=void 0){let i=[...e];i.sort(function(d,m){return d-m});let o=Math.min(...i);if(typeof n=="number"){let d=Math.max(...i);r=Math.abs((d-o)/(n-1))}let s=o,a=[],c=[];for(let d=0;d<i.length;d++){let m=r*s;if(i[d]>o+m){s++,m+=r;let y=o+m+m*.5;a.push(y),c.push(0)}c[c.length-1]++}return[a,c]}static normalDistribution(e=[],r=!0,n=1e-4){let i=this.mean(e),o=this.variance(e),s=e.length,a=[],c=1/(this.TWO_PI*o),d=1/o,m=0;for(let v=0;v<s;v++){let y=Math.exp(-.5*Math.pow((e[v]-i)*d,2))*c;y<n&&(y=0),a.push(y),m+=y}if(r){let v=1/m;a=a.map(y=>y*v)}return a}static expectedValue(e=[],r=this.normalDistribution(e)){return e.reduce((n,i,o)=>n+i*r[o])}static originMoment(e=[],r=this.normalDistribution(e),n=1){return e.reduce((i,o,s)=>i+Math.pow(o,n)*r[s])}static centralMoment(e=[],r=this.normalDistribution(e),n=1){let i=this.mean(e);return e.reduce((o,s,a)=>o+Math.pow(s-i,n)*r[a]/e.length)}static linearDiscriminantAnalysis(e=[],r=[]){let n=this.mean(e),i=this.mean(r),o=this.cov1d(e,r),s=this.normalDistribution(e),a=[];for(let c=0;c<e.length;c++)a.push(x[c]*o*i-.5*n*o*i+Math.log10(s[c]));return a}static conv1D(e=[],r=[1/3,1/3,1/3],n=Math.floor(r.length*.5)){let i=[],o=1/r.length;if(n>0){let c=new Array(n).fill(0);e=[...c,...e,...c]}let s=Math.floor(r.length*.5),a=e.length-r.length+s;for(let c=s;c<a;c++){let d=0;for(let m=0;m<r.length;m++)d+=e[c-s]*r[m];i.push(d*o)}return i}static conv2D(e=[[],[],[]],r=[[],[],[]],n=0){let i=new Array(e.length-Math.ceil(r.length*.5)).fill([]),o,s=Fi.transpose(s);if(n>0){let O=new Array(n).fill(0);o=Fi.transpose(e);for(let I=0;I<o.length;I++)o[I]=[...O,...o[I],...O];e=Fi.transpose(o);for(let I=0;I<e.length;I++)e[I]=[...O,...e[I],...O]}let a=Math.floor(r[0].length*.5),c=Math.floor(s[0].length*.5),d=e[0].length-r[0].length+a,m=o[0].length-s[0].length+c,v=1/(r[0].length*s[0].length),y=d*m,w=a,b,A=c;for(;w<y;){let O=0;b=w%e[0].length,b===0&&A++;for(let I=0;I<r[0].length;I++){for(let F=0;F<s[0].length;I++)O+=e[A-c+F][b-a+I]*r[F][I];i[A].push(O*v)}w++}return i}static cov2d(e){var r=this.transpose(e),n=[],i=[],o=[];e.forEach((A,O)=>{i.push(this.mean(A))}),r.forEach((A,O)=>{o.push(this.mean(A))}),e.forEach((A,O)=>{n.push([]);for(var I=0;I<A.length;I++)n[O].push((e[O][I]-i[O])*(e[O][I]-o[I])/(A.length-1))});for(var s=this.transpose(n),a=n.length,c=n[0].length,d=s.length,m=s[0].length,v=new Array(a),y=0;y<a;++y){v[y]=new Array(m);for(var w=0;w<m;++w){v[y][w]=0;for(var b=0;b<c;++b)v[y][w]+=n[y][b]*s[b][w]/(e[0].length-1)}}return v}static cov1d(e=[],r=[]){return this.cov2d([e,r])}static cov3d(e=[],r=[],n=[]){return[[this.cov1d(e,e),this.cov1d(e,r),this.cov1d(e,n)],[this.cov1d(r,e),this.cov1d(r,r),this.cov1d(r,n)],[this.cov1d(n,e),this.cov1d(n,r),this.cov1d(n,n)]]}static covNd(e=[]){let r=[];e.forEach((n,i)=>{r.push([]),e.forEach((o,s)=>{r[i].push(this.cov1d(n,o))})})}static eigens2x2(e=[[1,2],[3,4]]){let r=e[0][0]*e[1][1]-e[0][1]*e[1][0],n=(e[0][0]+e[1][1])*.5,i=Math.sqrt(n*n-r),o=n+i,s=n-i;return[o,s]}static eigenvectors2x2(e=[[1,2],[3,4]],r=[1,2]){let n=[-e[0][1],e[0][0]-r[0]];n[0]===0&&n[1]===0&&(n[0]=e[1][1]-r[0],n[1]=-e[1][0]);let i=[-e[0][1],e[0][0]-r[1]];return i[0]===0&&i[1]===0&&(i[0]=e[1][1]-r[1],i[1]=-e[1][0]),[n,i]}static fastpca2d(e,r){let n=this.cov1d(e,r),i=this.eigens2x2(n);i[1]>i[0]&&i.reverse();let o=this.eigenvectors2x2(n,i);return console.log(i,o),[i,o]}static crosscorrelation(e,r){var n=[...r,...Array(r.length).fill(0)],i=this.mean(e),o=this.mean(r),s=e.reduce((y,w)=>y+=Math.pow(w-i,2));s=Math.sqrt(s);var a=r.reduce((y,w)=>y+=Math.pow(w-i,2));a=Math.sqrt(a);for(var c=1/(s*a),d=new Array(e.length).fill(0),m=0;m<e.length;m++){var v=e.reduce((y,w,b)=>y+=(w-i)*(n[m+b]-o));d[m]=v*c}return d}static autocorrelation(e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(e),i=e.reduce((d,m)=>d+=Math.pow(m-n,2));i=Math.sqrt(i);for(var o=1/(i*i),s=new Array(e.length).fill(0),a=0;a<e.length;a++){var c=e.reduce((d,m,v)=>d+=(m-n)*(r[a+v]-n));s[a]=c*o}return s}static correlograms(e=[[],[]]){var r=[];return e.forEach((n,i)=>{e.forEach((o,s)=>{s>=i&&r.push(Fi.crosscorrelation(n,o))})}),r}static sma(e=[],r){for(var n=[],i=0;i<e.length;i++)if(i==0)n.push(e[0]);else if(i<r){var o=e.slice(0,i+1);n.push(o.reduce((s,a)=>a+=s)/(i+1))}else{var o=e.slice(i-r,i);n.push(o.reduce((a,c)=>c+=a)/r)}return n}static sum(e=[]){if(e.length>0){var r=e.reduce((n,i)=>i+=n);return r}else return 0}static reduceArrByFactor(e,r=2){return e.filter((i,o)=>o%r===0)}static makeArr(e,r,n){for(var i=[],o=(r-e)/(n-1),s=0;s<n;s++)i.push(e+o*s);return i}static interpolateArray(e,r,n=1){var i=function(y,w,b){return(y+(w-y)*b)*n},o=new Array,s=new Number((e.length-1)/(r-1));o[0]=e[0];for(var a=1;a<r-1;a++){var c=a*s,d=new Number(Math.floor(c)).toFixed(),m=new Number(Math.ceil(c)).toFixed(),v=c-d;o[a]=i(e[d],e[m],v)}return o[r-1]=e[e.length-1],o}static isExtrema(e,r="peak"){let n=[...e];if(n.length%2===0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}}else if(r==="valley"){if(o<Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}}else if(o<Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}}}return i}else return}static isCriticalPoint(e,r="peak"){let n=[...e];if(n.length%2===0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<n.length*.5&&s<=0){i=!1;break}else if(o>n.length*.5&&s>0){i=!1;break}}else if(r==="valley"){if(o<n.length*.5&&s>=0){i=!1;break}else if(o>n.length*.5&&s<0){i=!1;break}}else if(o<n.length*.5&&s>=0){i=!1;break}else if(o>n.length*.5&&s<0){i=!1;break}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<n.length*.5&&s<=0){i=!1;break}else if(o>n.length*.5&&s>0){i=!1;break}}}return i}else return}static getPeakThreshold(e,r,n){let i,o=e.filter((s,a)=>{if(r.indexOf(a)>-1)return!0});return n===0?i=this.mean(o):i=(n+this.mean(o))*.5,i}static column(e,r){let n=new Array(e.length).fill(0).map(()=>new Array(1).fill(0));for(let i=0;i<e.length;i++)n[i][0]=e[i][r];return n}static flatten_vector(e){let r=[];for(let n=0;n<e.length;n++)r[n]=e[n][0];return r}static squared_difference(e,r){let n=0;for(let i=0;i<e.length;i++)n=n+Math.pow(e[i]-r[i],2);return n}static shift_deflate(e,r,n){let i=Math.sqrt(this.matmul(this.transpose(n),n)),o=this.matscale(n,1/i),s=this.matscale(this.matmul(o,this.transpose(o)),r);return this.matsub(e,s)}static eigenvalue_of_vector(e,r){return ev=this.matmul(this.matmul(this.transpose(r),e),r),ev}static power_iteration(e,r=1e-5,n=1e3){let i=e.length,o=new Array(i).fill(0).map(()=>new Array(1).fill(Math.sqrt(i))),s=this.eigenvalue_of_vector(e,o),a=1,c=0;for(;a>r&&c<n;){let d=JSON.parse(JSON.stringify(s)),m=this.matmul(e,o);o=this.normalize(m),s=this.eigenvalue_of_vector(e,o),a=Math.abs(s-d),c++}return[s,o]}static eigens(e,r=1e-4,n=1e3){let i=[],o=[];for(let s=0;s<e.length;s++){let a=this.power_iteration(e,r,n),c=a[0],d=a[1];i[s]=c,o[s]=this.flatten_vector(d),e=this.shift_deflate(e,c,d)}return[i,o]}static pca(e,r=1e-5){let n=e.length,i=new Array(n),o=new Array(n),s=this.transpose(e);i[0]=this.column(e,0);let a=1,c=0;for(;espilon>r;){c++,o[0]=this.matmul(s,i[0]);let m=this.matmul(this.transpose(i[0]),i[0]);o[0]=this.matscale(o[0],1/m);let v=Math.sqrt(this.matmul(this.transpose(o[0]),o[0]));o[0]=this.matscale(o[0],1/v);let y=this.matmul(e,o[0]),w=this.matmul(this.transpose(o[0]),o[0]);y=this.matscale(y,1/w),a=this.squared_difference(i[0],y),i[0]=JSON.parse(JSON.stringify(y))}return this.matmul(this.transpose(i[0]),i[0])}static p300(e=[],r=[],n=[],i=256){let o=Math.floor(i/10),s=this.sma(r,o),a=this.peakDetect(s,"peak",o),c=this.mean(s),d=this.std(s,c),m=0,v=[];return a.length>0&&e.forEach((y,w)=>{for(;n[a[m]]<y+200&&(m++,!!a[m]););let b=0,A=[];for(;n[a[m+b]]<y+600&&(A.push(m+b),b++,!!a[m+b]););if(A.length>1){let O=[];A.forEach(K=>{O.push(s[a[K]])});let I=Math.max(...O),F=A[O.indexOf(I)];v.push({event_timestamp:y,event_index:w,peak_timestamp:n[[a[F]]],signal_index:[a[F]],signal_amplitude:r[[a[F]]],zscore:(s[a[F]]-c)/d})}else A.length===1&&v.push({event_timestamp:y,event_index:w,peak_timestamp:n[a[A[0]]],signal_index:a[A[0]],signal_amplitude:r[[a[A[0]]]],zscore:(s[a[A[0]]]-c)/d})}),v}},Pe=Fi;$e(Pe,"TWO_PI",Math.PI*2),$e(Pe,"C",299792458),$e(Pe,"G",66743e-15),$e(Pe,"h",662607015e-42),$e(Pe,"R",8314.32),$e(Pe,"Ra",287),$e(Pe,"H",69.3),$e(Pe,"kbar",1054571817e-43),$e(Pe,"kB",1380649e-29),$e(Pe,"ke",89875517923e-1),$e(Pe,"me",91093837015e-41),$e(Pe,"mp",167262192369e-38),$e(Pe,"mn",167492749804e-38),$e(Pe,"P0",101325),$e(Pe,"T0",288.15),$e(Pe,"p0",1.225),$e(Pe,"Na",60220978e16),$e(Pe,"y",1.405),$e(Pe,"M0",28.96643),$e(Pe,"g0",9.80665),$e(Pe,"Re",6378100),$e(Pe,"B",1458e-9),$e(Pe,"S",110.4),$e(Pe,"Sigma",365e-12),$e(Pe,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),$e(Pe,"integral",(e=i=>i,r=[],n=.01)=>{let i=0;for(let o=r[0];o<r[1];o+=n)i+=e(o)*n;return i}),$e(Pe,"dintegral",(e=(o,s)=>o+s,r=[[],[]],n=.01,i=n)=>{let o=0;for(let s=r[0][0]+n;s<r[0][1];s+=n)for(let a=r[1][0]+i;a<r[1][1];a+=i)o+=e(s,a)*n*i;return o}),$e(Pe,"tintegral",(e=(s,a,c)=>s+a+c,r=[[],[],[]],n=.01,i=n,o=n)=>{let s=0;for(let a=r[0][0]+n;a<r[0][1];a+=n)for(let c=r[1][0]+i;c<r[1][1];c+=i)for(let d=r[2][0]+o;d<r[2][1];d+=o)s+=e(a,c,d)*n*i*o;return s}),$e(Pe,"pintegral",(e=i=>i,r=[],n=.01)=>{let i=0,o,s;for(let a=r[0];a<r[1];a+=n)o=s,s=e(a),o&&(i+=Fi.distance([0,o],[n,s]));return i}),$e(Pe,"peakDetect",(e,r="peak",n=49)=>{let i=Math.floor(n*.5),o=[];for(let s=0;s<e.length-n;s++)Fi.isExtrema(e.slice(s,s+n),r)&&o.push(s+i-1);return o});var Ls=200,Dy=50,Rl=Pe.genSineWave(.9,500,Ls,Dy,60,50),Iy=Pe.genSineWave(.9,700,Ls,Dy,60,50),I3=Pe.linspace(Date.now()-Ls*1e3,Date.now(),200);Rl=Pe.vecadd(Rl,new Array(Rl.length).fill(5e3));Iy=Pe.vecadd(Rl,new Array(Iy.length).fill(5500));var Gf=6,tI=2,rI=Hn.PPGStruct("dummyppg",{red:Rl,ir:Iy,times:I3,count:Ls*Dy,startTime:I3[0]}),Jf=[],nI=[];for(let t=Ls/60;t>0;t--){let e=0;for(;e<Gf;)Jf.push(Date.now()-t*Ls+e/1e3),nI.push(Gf),rI.beat_detect.breaths.push({t:Jf[Jf.length-1],rate:Gf}),e++;Gf-=tI}var JF=Hn.IMUStruct("dummyimu",{}),YF=Hn.ECGStruct("dummyecg",{}),KF=Hn.EMGStruct("dummyemg",{});function D3(){return ee(this,null,function*(){let t=yield iI();console.log(t);let e=yield oI(t.user,t.peer),r=yield sI(t.user,t.peer),n=yield aI(),i=yield lI(t.peer,r.chatroom,r.comment),o=yield uI(),s=yield cI(e.userauth),a=yield fI(t.user,t.peer),c=yield hI(),d={users:t,auths:e,chatroomres:r,pnotes:n,replied:i,unotes:o,rejected:s,group:a,gauths:c};return console.log("results",d),console.log("testclient map",qe.collections),console.log("testpeer map",Er.collections),d})}function iI(){return ee(this,null,function*(){let t=yield Uc(),e=yield MS();return console.log("user",t,"peer",e),{user:t,peer:e}})}function oI(){return ee(this,arguments,function*(t=Ts,e=vo){let r=yield qe.authorizeUser(t,t._id,void 0,e._id,void 0,{peer:!0});console.log(t._id);let n=yield Er.authorizeUser(e,t._id,void 0,e._id,void 0,{peer:!0});return console.log("user-owned auth:",r,`
peer-owned auth:`,n),console.log("auths",r,n),{userauth:r,peerauth:n}})}function sI(){return ee(this,arguments,function*(t=Ts,e=vo){let r=qe.getLocalData("chatroom"),n;r?r.length>0?n=r[0]:n=yield qe.addChatroom(t,t._id,"this is the first comment",void 0,{[e._id]:!0},!0):n=yield qe.addChatroom(t,t._id,"this is the first comment",void 0,{[e._id]:!0},!0);let i,o;return n&&(i=yield qe.addComment(t,n,n,t._id,"don't go there girlfrienddd"),setTimeout(()=>ee(this,null,function*(){o=yield qe.addComment(t,n,i,t._id,"update: you did")}),1e3)),{chatroom:n,comment:i}})}function aI(){return ee(this,null,function*(){let t=yield Er.checkForNotifications();if(console.log("client 2 notifications",t),t){let e=yield Er.resolveNotifications(t);return console.log("resolve notes result",e),e}})}function lI(){return ee(this,arguments,function*(t=vo,e,r){return yield qe.addComment(t,e,r,t._id,"oh I went there")})}function uI(){return ee(this,null,function*(){let t=yield qe.checkForNotifications();if(console.log(`


notes`,JSON.stringify(t),`


`),t)return yield qe.resolveNotifications(t)})}function cI(t){return ee(this,null,function*(){if(t)return yield qe.deleteAuthorization(t._id)})}function fI(){return ee(this,arguments,function*(t=Ts,e=vo){return yield Er.addGroup(e,"testgroup"+Math.floor(Math.random()*1e8),"this is a test",{[e._id]:!0},{[e._id]:!0},{[t._id]:!0},!0)})}function hI(){return ee(this,null,function*(){yield qe.setAuthorizationsByGroup(),yield Er.setAuthorizationsByGroup()})}var Fy=class extends _o{componentDidMount(){return ee(this,null,function*(){let e=yield D3();console.log(e)})}render(){return Ry.default.createElement("div",null,Ry.default.createElement("div",null,"DEV TEST (see console -- Press F12)"))}};ks();var dI=()=>tr.default.createElement("img",{src:"src/assets/myalyce.png",width:"100px",alt:"MyAlyce"}),R3=!0,Cy=class extends _o{constructor(){super(...arguments);this.state={isLoggedIn:!1,navOpen:!1,route:"/"}}onLoginClick(e){ml(e.email,e.password).then(r=>ee(this,null,function*(){let n=yield gl(r);n&&(yield ms(n))}))}onGoogleLoginClick(){ml("google").then(e=>ee(this,null,function*(){let r=yield gl(e);r&&(yield ms(r))}))}setNavOpen(e){this.setState({navOpen:e})}render(){var e,r;return console.log(this.state.route),tr.default.createElement("div",null,!this.state.isLoggedIn&&!R3&&tr.default.createElement(F3.Login,{useRegularLogin:!0,onLoginClick:this.onLoginClick,thirdPartyLogins:[{name:"google",logo:tr.default.createElement("img",{src:"src/assets/google.png",width:"50px"}),onClick:this.onGoogleLoginClick}]}),(this.state.isLoggedIn||R3)&&tr.default.createElement("div",null,tr.default.createElement(Ms.NavDrawer,{fixed:"left",zIndex:102,isOpen:this.state.navOpen,brand:dI(),onBackdropClick:()=>this.setState({navOpen:!1}),menuItems:[{type:"action",icon:"D",onClick:()=>this.setState({route:"/dashboard",navOpen:!1}),title:"Dashboard"},{type:"action",icon:"P",onClick:()=>this.setState({route:"/peers",navOpen:!1}),title:"Peers & Groups"},{type:"action",icon:"S",onClick:()=>this.setState({route:"/settings",navOpen:!1}),title:"Profile Settings"},{type:"action",icon:"D",onClick:()=>this.setState({route:"/dev",navOpen:!1}),title:"DEV MODE"}]}),tr.default.createElement("div",{id:"view"},tr.default.createElement(Ms.TopBar,{zIndex:0,onMenuExpand:()=>{let n=!this.state.navOpen;this.setState({navOpen:n})},rightNavItems:[{children:tr.default.createElement(Ms.Avatar,{dataState:"done",imgSrc:"src/assets/person.png",size:"xs",status:"online",name:{first:(e=qe.currentUser)==null?void 0:e.firstName,last:(r=qe.currentUser)==null?void 0:r.lastName},backgroundColor:"lightblue"}),onClick:()=>{}},{children:tr.default.createElement("p",{style:{fontSize:"16px"}},"logout"),onClick:()=>{}}]}),tr.default.createElement("div",{id:"viewcontent"},tr.default.createElement("div",{id:"route"},(this.state.route.includes("dashboard")||this.state.route==="/"||this.state.route==="")&&tr.default.createElement(Ty,null),this.state.route.includes("peers")&&tr.default.createElement(Ny,null),this.state.route.includes("settings")&&tr.default.createElement(Ay,null),this.state.route.includes("dev")&&tr.default.createElement(Fy,null))))))}};var pI=!0;pI&&document.head.insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="dist/app.css" type="text/css" />');C3.default.render(Py.default.createElement(Dw,null,Py.default.createElement(Cy,null)),document.getElementById("react"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * React Router DOM v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=app.js.map
