(()=>{var _3=Object.create;var Pl=Object.defineProperty;var S3=Object.getOwnPropertyDescriptor;var E3=Object.getOwnPropertyNames,zm=Object.getOwnPropertySymbols,b3=Object.getPrototypeOf,Vm=Object.prototype.hasOwnProperty,x3=Object.prototype.propertyIsEnumerable;var Wm=Math.pow,eh=(t,e,r)=>e in t?Pl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qm=(t,e)=>{for(var r in e||(e={}))Vm.call(e,r)&&eh(t,r,e[r]);if(zm)for(var r of zm(e))x3.call(e,r)&&eh(t,r,e[r]);return t};var O3=t=>Pl(t,"__esModule",{value:!0});var k3=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var it=(t,e)=>()=>(t&&(e=t(t=0)),e);var Oe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var T3=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of E3(e))!Vm.call(t,i)&&(r||i!=="default")&&Pl(t,i,{get:()=>e[i],enumerable:!(n=S3(e,i))||n.enumerable});return t},Ct=(t,e)=>T3(O3(Pl(t!=null?_3(b3(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var We=(t,e,r)=>(eh(t,typeof e!="symbol"?e+"":e,r),r);var te=(t,e,r)=>new Promise((n,i)=>{var o=f=>{try{a(r.next(f))}catch(d){i(d)}},s=f=>{try{a(r.throw(f))}catch(d){i(d)}},a=f=>f.done?n(f.value):Promise.resolve(f.value).then(o,s);a((r=r.apply(t,e)).next())});var th=Oe((X8,Hm)=>{"use strict";var $m=Object.getOwnPropertySymbols,N3=Object.prototype.hasOwnProperty,A3=Object.prototype.propertyIsEnumerable;function I3(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function R3(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Hm.exports=R3()?Object.assign:function(t,e){for(var r,n=I3(t),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)N3.call(r,s)&&(n[s]=r[s]);if($m){i=$m(r);for(var a=0;a<i.length;a++)A3.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}});var lg=Oe(ze=>{"use strict";var nh=th(),No=60103,Ym=60106;ze.Fragment=60107;ze.StrictMode=60108;ze.Profiler=60114;var Km=60109,Zm=60110,Xm=60112;ze.Suspense=60113;var Qm=60115,eg=60116;typeof Symbol=="function"&&Symbol.for&&(Ur=Symbol.for,No=Ur("react.element"),Ym=Ur("react.portal"),ze.Fragment=Ur("react.fragment"),ze.StrictMode=Ur("react.strict_mode"),ze.Profiler=Ur("react.profiler"),Km=Ur("react.provider"),Zm=Ur("react.context"),Xm=Ur("react.forward_ref"),ze.Suspense=Ur("react.suspense"),Qm=Ur("react.memo"),eg=Ur("react.lazy"));var Ur,Gm=typeof Symbol=="function"&&Symbol.iterator;function D3(t){return t===null||typeof t!="object"?null:(t=Gm&&t[Gm]||t["@@iterator"],typeof t=="function"?t:null)}function $s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rg={};function Ao(t,e,r){this.props=t,this.context=e,this.refs=rg,this.updater=r||tg}Ao.prototype.isReactComponent={};Ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error($s(85));this.updater.enqueueSetState(this,t,e,"setState")};Ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ng(){}ng.prototype=Ao.prototype;function ih(t,e,r){this.props=t,this.context=e,this.refs=rg,this.updater=r||tg}var oh=ih.prototype=new ng;oh.constructor=ih;nh(oh,Ao.prototype);oh.isPureReactComponent=!0;var sh={current:null},ig=Object.prototype.hasOwnProperty,og={key:!0,ref:!0,__self:!0,__source:!0};function sg(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)ig.call(e,n)&&!og.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var f=Array(a),d=0;d<a;d++)f[d]=arguments[d+2];i.children=f}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:No,type:t,key:o,ref:s,props:i,_owner:sh.current}}function F3(t,e){return{$$typeof:No,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ah(t){return typeof t=="object"&&t!==null&&t.$$typeof===No}function C3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Jm=/\/+/g;function rh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?C3(""+t.key):e.toString(36)}function Ml(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case No:case Ym:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+rh(s,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(Jm,"$&/")+"/"),Ml(i,e,r,"",function(d){return d})):i!=null&&(ah(i)&&(i=F3(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Jm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Array.isArray(t))for(var a=0;a<t.length;a++){o=t[a];var f=n+rh(o,a);s+=Ml(o,e,r,f,i)}else if(f=D3(t),typeof f=="function")for(t=f.call(t),a=0;!(o=t.next()).done;)o=o.value,f=n+rh(o,a++),s+=Ml(o,e,r,f,i);else if(o==="object")throw e=""+t,Error($s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function Ll(t,e,r){if(t==null)return t;var n=[],i=0;return Ml(t,n,"","",function(o){return e.call(r,o,i++)}),n}function P3(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var ag={current:null};function Rn(){var t=ag.current;if(t===null)throw Error($s(321));return t}var L3={ReactCurrentDispatcher:ag,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:sh,IsSomeRendererActing:{current:!1},assign:nh};ze.Children={map:Ll,forEach:function(t,e,r){Ll(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ll(t,function(){e++}),e},toArray:function(t){return Ll(t,function(e){return e})||[]},only:function(t){if(!ah(t))throw Error($s(143));return t}};ze.Component=Ao;ze.PureComponent=ih;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L3;ze.cloneElement=function(t,e,r){if(t==null)throw Error($s(267,t));var n=nh({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=sh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(f in e)ig.call(e,f)&&!og.hasOwnProperty(f)&&(n[f]=e[f]===void 0&&a!==void 0?a[f]:e[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){a=Array(f);for(var d=0;d<f;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:No,type:t.type,key:i,ref:o,props:n,_owner:s}};ze.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Zm,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Km,_context:t},t.Consumer=t};ze.createElement=sg;ze.createFactory=function(t){var e=sg.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:Xm,render:t}};ze.isValidElement=ah;ze.lazy=function(t){return{$$typeof:eg,_payload:{_status:-1,_result:t},_init:P3}};ze.memo=function(t,e){return{$$typeof:Qm,type:t,compare:e===void 0?null:e}};ze.useCallback=function(t,e){return Rn().useCallback(t,e)};ze.useContext=function(t,e){return Rn().useContext(t,e)};ze.useDebugValue=function(){};ze.useEffect=function(t,e){return Rn().useEffect(t,e)};ze.useImperativeHandle=function(t,e,r){return Rn().useImperativeHandle(t,e,r)};ze.useLayoutEffect=function(t,e){return Rn().useLayoutEffect(t,e)};ze.useMemo=function(t,e){return Rn().useMemo(t,e)};ze.useReducer=function(t,e,r){return Rn().useReducer(t,e,r)};ze.useRef=function(t){return Rn().useRef(t)};ze.useState=function(t){return Rn().useState(t)};ze.version="17.0.2"});var Me=Oe((eA,ug)=>{"use strict";ug.exports=lg()});var yg=Oe(qe=>{"use strict";var Ro,Js,zl,ph;typeof performance=="object"&&typeof performance.now=="function"?(cg=performance,qe.unstable_now=function(){return cg.now()}):(lh=Date,fg=lh.now(),qe.unstable_now=function(){return lh.now()-fg});var cg,lh,fg;typeof window>"u"||typeof MessageChannel!="function"?(Io=null,uh=null,ch=function(){if(Io!==null)try{var t=qe.unstable_now();Io(!0,t),Io=null}catch(e){throw setTimeout(ch,0),e}},Ro=function(t){Io!==null?setTimeout(Ro,0,t):(Io=t,setTimeout(ch,0))},Js=function(t,e){uh=setTimeout(t,e)},zl=function(){clearTimeout(uh)},qe.unstable_shouldYield=function(){return!1},ph=qe.unstable_forceFrameRate=function(){}):(hg=window.setTimeout,dg=window.clearTimeout,typeof console<"u"&&(pg=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof pg!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Hs=!1,Gs=null,jl=-1,fh=5,hh=0,qe.unstable_shouldYield=function(){return qe.unstable_now()>=hh},ph=function(){},qe.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fh=0<t?Math.floor(1e3/t):5},dh=new MessageChannel,Bl=dh.port2,dh.port1.onmessage=function(){if(Gs!==null){var t=qe.unstable_now();hh=t+fh;try{Gs(!0,t)?Bl.postMessage(null):(Hs=!1,Gs=null)}catch(e){throw Bl.postMessage(null),e}}else Hs=!1},Ro=function(t){Gs=t,Hs||(Hs=!0,Bl.postMessage(null))},Js=function(t,e){jl=hg(function(){t(qe.unstable_now())},e)},zl=function(){dg(jl),jl=-1});var Io,uh,ch,hg,dg,pg,Hs,Gs,jl,fh,hh,dh,Bl;function yh(t,e){var r=t.length;t.push(e);e:for(;;){var n=r-1>>>1,i=t[n];if(i!==void 0&&0<Ul(i,e))t[n]=e,t[r]=i,r=n;else break e}}function en(t){return t=t[0],t===void 0?null:t}function Vl(t){var e=t[0];if(e!==void 0){var r=t.pop();if(r!==e){t[0]=r;e:for(var n=0,i=t.length;n<i;){var o=2*(n+1)-1,s=t[o],a=o+1,f=t[a];if(s!==void 0&&0>Ul(s,r))f!==void 0&&0>Ul(f,s)?(t[n]=f,t[a]=r,n=a):(t[n]=s,t[o]=r,n=o);else if(f!==void 0&&0>Ul(f,r))t[n]=f,t[a]=r,n=a;else break e}}return e}return null}function Ul(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}var gn=[],Hn=[],M3=1,zr=null,er=3,Wl=!1,Bi=!1,Ys=!1;function mh(t){for(var e=en(Hn);e!==null;){if(e.callback===null)Vl(Hn);else if(e.startTime<=t)Vl(Hn),e.sortIndex=e.expirationTime,yh(gn,e);else break;e=en(Hn)}}function gh(t){if(Ys=!1,mh(t),!Bi)if(en(gn)!==null)Bi=!0,Ro(vh);else{var e=en(Hn);e!==null&&Js(gh,e.startTime-t)}}function vh(t,e){Bi=!1,Ys&&(Ys=!1,zl()),Wl=!0;var r=er;try{for(mh(e),zr=en(gn);zr!==null&&(!(zr.expirationTime>e)||t&&!qe.unstable_shouldYield());){var n=zr.callback;if(typeof n=="function"){zr.callback=null,er=zr.priorityLevel;var i=n(zr.expirationTime<=e);e=qe.unstable_now(),typeof i=="function"?zr.callback=i:zr===en(gn)&&Vl(gn),mh(e)}else Vl(gn);zr=en(gn)}if(zr!==null)var o=!0;else{var s=en(Hn);s!==null&&Js(gh,s.startTime-e),o=!1}return o}finally{zr=null,er=r,Wl=!1}}var j3=ph;qe.unstable_IdlePriority=5;qe.unstable_ImmediatePriority=1;qe.unstable_LowPriority=4;qe.unstable_NormalPriority=3;qe.unstable_Profiling=null;qe.unstable_UserBlockingPriority=2;qe.unstable_cancelCallback=function(t){t.callback=null};qe.unstable_continueExecution=function(){Bi||Wl||(Bi=!0,Ro(vh))};qe.unstable_getCurrentPriorityLevel=function(){return er};qe.unstable_getFirstCallbackNode=function(){return en(gn)};qe.unstable_next=function(t){switch(er){case 1:case 2:case 3:var e=3;break;default:e=er}var r=er;er=e;try{return t()}finally{er=r}};qe.unstable_pauseExecution=function(){};qe.unstable_requestPaint=j3;qe.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=er;er=t;try{return e()}finally{er=r}};qe.unstable_scheduleCallback=function(t,e,r){var n=qe.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,t={id:M3++,callback:e,priorityLevel:t,startTime:r,expirationTime:i,sortIndex:-1},r>n?(t.sortIndex=r,yh(Hn,t),en(gn)===null&&t===en(Hn)&&(Ys?zl():Ys=!0,Js(gh,r-n))):(t.sortIndex=i,yh(gn,t),Bi||Wl||(Bi=!0,Ro(vh))),t};qe.unstable_wrapCallback=function(t){var e=er;return function(){var r=er;er=e;try{return t.apply(this,arguments)}finally{er=r}}}});var gg=Oe((rA,mg)=>{"use strict";mg.exports=yg()});var iw=Oe(Gr=>{"use strict";var Lu=Me(),ut=th(),Bt=gg();function ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Lu)throw Error(ge(227));var I1=new Set,Oa={};function Ki(t,e){Xo(t,e),Xo(t+"Capture",e)}function Xo(t,e){for(Oa[t]=e,t=0;t<e.length;t++)I1.add(e[t])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vg=Object.prototype.hasOwnProperty,wg={},_g={};function U3(t){return vg.call(_g,t)?!0:vg.call(wg,t)?!1:B3.test(t)?_g[t]=!0:(wg[t]=!0,!1)}function z3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function V3(t,e,r,n){if(e===null||typeof e>"u"||z3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jt[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jt[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jt[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jt[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jt[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jt[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jt[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jt[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jt[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var T0=/[\-:]([a-z])/g;function N0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(T0,N0);Jt[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(T0,N0);Jt[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(T0,N0);Jt[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jt[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jt[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function A0(t,e,r,n){var i=Jt.hasOwnProperty(e)?Jt[e]:null,o=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(V3(e,r,i,n)&&(r=null),n||i===null?U3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Zi=Lu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,la=60103,zi=60106,Jn=60107,I0=60108,da=60114,R0=60109,D0=60110,Mu=60112,pa=60113,du=60120,ju=60115,F0=60116,C0=60121,P0=60128,R1=60129,L0=60130,zh=60131;typeof Symbol=="function"&&Symbol.for&&(Pt=Symbol.for,la=Pt("react.element"),zi=Pt("react.portal"),Jn=Pt("react.fragment"),I0=Pt("react.strict_mode"),da=Pt("react.profiler"),R0=Pt("react.provider"),D0=Pt("react.context"),Mu=Pt("react.forward_ref"),pa=Pt("react.suspense"),du=Pt("react.suspense_list"),ju=Pt("react.memo"),F0=Pt("react.lazy"),C0=Pt("react.block"),Pt("react.scope"),P0=Pt("react.opaque.id"),R1=Pt("react.debug_trace_mode"),L0=Pt("react.offscreen"),zh=Pt("react.legacy_hidden"));var Pt,Sg=typeof Symbol=="function"&&Symbol.iterator;function Ks(t){return t===null||typeof t!="object"?null:(t=Sg&&t[Sg]||t["@@iterator"],typeof t=="function"?t:null)}var wh;function ua(t){if(wh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);wh=e&&e[1]||""}return`
`+wh+t}var _h=!1;function ql(t,e){if(!t||_h)return"";_h=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var n=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){n=f}t.call(e.prototype)}else{try{throw Error()}catch(f){n=f}t()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{_h=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ua(t):""}function W3(t){switch(t.tag){case 5:return ua(t.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 2:case 15:return t=ql(t.type,!1),t;case 11:return t=ql(t.type.render,!1),t;case 22:return t=ql(t.type._render,!1),t;case 1:return t=ql(t.type,!0),t;default:return""}}function Vo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jn:return"Fragment";case zi:return"Portal";case da:return"Profiler";case I0:return"StrictMode";case pa:return"Suspense";case du:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D0:return(t.displayName||"Context")+".Consumer";case R0:return(t._context.displayName||"Context")+".Provider";case Mu:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case ju:return Vo(t.type);case C0:return Vo(t._render);case F0:e=t._payload,t=t._init;try{return Vo(t(e))}catch{}}return null}function si(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function D1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function q3(t){var e=D1(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $l(t){t._valueTracker||(t._valueTracker=q3(t))}function F1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=D1(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vh(t,e){var r=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Eg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=si(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C1(t,e){e=e.checked,e!=null&&A0(t,"checked",e,!1)}function Wh(t,e){C1(t,e);var r=si(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qh(t,e.type,r):e.hasOwnProperty("defaultValue")&&qh(t,e.type,si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function qh(t,e,r){(e!=="number"||pu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function $3(t){var e="";return Lu.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function $h(t,e){return t=ut({children:void 0},e),(e=$3(e.children))&&(t.children=e),t}function Wo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+si(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ge(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ge(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(ge(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:si(r)}}function P1(t,e){var r=si(e.value),n=si(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Og(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Gh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function L1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hl,M1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==Gh.svg||"innerHTML"in t)t.innerHTML=e;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ka(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ya={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H3=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(t){H3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ya[e]=ya[t]})});function j1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ya.hasOwnProperty(t)&&ya[t]?(""+e).trim():e+"px"}function B1(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=j1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var G3=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yh(t,e){if(e){if(G3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ge(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ge(62))}}function Kh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function M0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zh=null,qo=null,$o=null;function kg(t){if(t=Ua(t)){if(typeof Zh!="function")throw Error(ge(280));var e=t.stateNode;e&&(e=qu(e),Zh(t.stateNode,t.type,e))}}function U1(t){qo?$o?$o.push(t):$o=[t]:qo=t}function z1(){if(qo){var t=qo,e=$o;if($o=qo=null,kg(t),e)for(t=0;t<e.length;t++)kg(e[t])}}function j0(t,e){return t(e)}function V1(t,e,r,n,i){return t(e,r,n,i)}function B0(){}var W1=j0,Vi=!1,Sh=!1;function U0(){(qo!==null||$o!==null)&&(B0(),z1())}function J3(t,e,r){if(Sh)return t(e,r);Sh=!0;try{return W1(t,e,r)}finally{Sh=!1,U0()}}function Ta(t,e){var r=t.stateNode;if(r===null)return null;var n=qu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ge(231,e,typeof r));return r}var Xh=!1;if(Mn)try{Do={},Object.defineProperty(Do,"passive",{get:function(){Xh=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Xh=!1}var Do;function Y3(t,e,r,n,i,o,s,a,f){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(m){this.onError(m)}}var ma=!1,yu=null,mu=!1,Qh=null,K3={onError:function(t){ma=!0,yu=t}};function Z3(t,e,r,n,i,o,s,a,f){ma=!1,yu=null,Y3.apply(K3,arguments)}function X3(t,e,r,n,i,o,s,a,f){if(Z3.apply(this,arguments),ma){if(ma){var d=yu;ma=!1,yu=null}else throw Error(ge(198));mu||(mu=!0,Qh=d)}}function Xi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function q1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tg(t){if(Xi(t)!==t)throw Error(ge(188))}function Q3(t){var e=t.alternate;if(!e){if(e=Xi(t),e===null)throw Error(ge(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Tg(i),t;if(o===n)return Tg(i),e;o=o.sibling}throw Error(ge(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?t:e}function $1(t){if(t=Q3(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ng(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var H1,z0,G1,J1,e0=!1,vn=[],Xn=null,Qn=null,ei=null,Na=new Map,Aa=new Map,Zs=[],Ag="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t0(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function Ig(t,e){switch(t){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Na.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(e.pointerId)}}function Xs(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t=t0(e,r,n,i,o),e!==null&&(e=Ua(e),e!==null&&z0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function e4(t,e,r,n,i){switch(e){case"focusin":return Xn=Xs(Xn,t,e,r,n,i),!0;case"dragenter":return Qn=Xs(Qn,t,e,r,n,i),!0;case"mouseover":return ei=Xs(ei,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Na.set(o,Xs(Na.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Aa.set(o,Xs(Aa.get(o)||null,t,e,r,n,i)),!0}return!1}function t4(t){var e=Wi(t.target);if(e!==null){var r=Xi(e);if(r!==null){if(e=r.tag,e===13){if(e=q1(r),e!==null){t.blockedOn=e,J1(t.lanePriority,function(){Bt.unstable_runWithPriority(t.priority,function(){G1(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=$0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Ua(r),e!==null&&z0(e),t.blockedOn=r,!1;e.shift()}return!0}function Rg(t,e,r){nu(t)&&r.delete(e)}function r4(){for(e0=!1;0<vn.length;){var t=vn[0];if(t.blockedOn!==null){t=Ua(t.blockedOn),t!==null&&H1(t);break}for(var e=t.targetContainers;0<e.length;){var r=$0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&vn.shift()}Xn!==null&&nu(Xn)&&(Xn=null),Qn!==null&&nu(Qn)&&(Qn=null),ei!==null&&nu(ei)&&(ei=null),Na.forEach(Rg),Aa.forEach(Rg)}function Qs(t,e){t.blockedOn===e&&(t.blockedOn=null,e0||(e0=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,r4)))}function Y1(t){function e(i){return Qs(i,t)}if(0<vn.length){Qs(vn[0],t);for(var r=1;r<vn.length;r++){var n=vn[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Xn!==null&&Qs(Xn,t),Qn!==null&&Qs(Qn,t),ei!==null&&Qs(ei,t),Na.forEach(e),Aa.forEach(e),r=0;r<Zs.length;r++)n=Zs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Zs.length&&(r=Zs[0],r.blockedOn===null);)t4(r),r.blockedOn===null&&Zs.shift()}function Gl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Lo={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},Eh={},K1={};Mn&&(K1=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Bu(t){if(Eh[t])return Eh[t];if(!Lo[t])return t;var e=Lo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in K1)return Eh[t]=e[r];return t}var Z1=Bu("animationend"),X1=Bu("animationiteration"),Q1=Bu("animationstart"),tv=Bu("transitionend"),rv=new Map,V0=new Map,n4=["abort","abort",Z1,"animationEnd",X1,"animationIteration",Q1,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",tv,"transitionEnd","waiting","waiting"];function W0(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),V0.set(n,e),rv.set(n,i),Ki(i,[n])}}var i4=Bt.unstable_now;i4();var et=8;function Co(t){if((1&t)!==0)return et=15,1;if((2&t)!==0)return et=14,2;if((4&t)!==0)return et=13,4;var e=24&t;return e!==0?(et=12,e):(t&32)!==0?(et=11,32):(e=192&t,e!==0?(et=10,e):(t&256)!==0?(et=9,256):(e=3584&t,e!==0?(et=8,e):(t&4096)!==0?(et=7,4096):(e=4186112&t,e!==0?(et=6,e):(e=62914560&t,e!==0?(et=5,e):t&67108864?(et=4,67108864):(t&134217728)!==0?(et=3,134217728):(e=805306368&t,e!==0?(et=2,e):(1073741824&t)!==0?(et=1,1073741824):(et=8,t))))))}function o4(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function s4(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ge(358,t))}}function Ia(t,e){var r=t.pendingLanes;if(r===0)return et=0;var n=0,i=0,o=t.expiredLanes,s=t.suspendedLanes,a=t.pingedLanes;if(o!==0)n=o,i=et=15;else if(o=r&134217727,o!==0){var f=o&~s;f!==0?(n=Co(f),i=et):(a&=o,a!==0&&(n=Co(a),i=et))}else o=r&~s,o!==0?(n=Co(o),i=et):a!==0&&(n=Co(a),i=et);if(n===0)return 0;if(n=31-ai(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&(e&s)===0){if(Co(e),i<=et)return e;et=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ai(e),i=1<<r,n|=t[r],e&=~i;return n}function nv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gu(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Po(24&~e),t===0?gu(10,e):t;case 10:return t=Po(192&~e),t===0?gu(8,e):t;case 8:return t=Po(3584&~e),t===0&&(t=Po(4186112&~e),t===0&&(t=512)),t;case 2:return e=Po(805306368&~e),e===0&&(e=268435456),e}throw Error(ge(358,t))}function Po(t){return t&-t}function bh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Uu(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-ai(e),t[e]=r}var ai=Math.clz32?Math.clz32:u4,a4=Math.log,l4=Math.LN2;function u4(t){return t===0?32:31-(a4(t)/l4|0)|0}var c4=Bt.unstable_UserBlockingPriority,f4=Bt.unstable_runWithPriority,iu=!0;function h4(t,e,r,n){Vi||B0();var i=q0,o=Vi;Vi=!0;try{V1(i,t,e,r,n)}finally{(Vi=o)||U0()}}function d4(t,e,r,n){f4(c4,q0.bind(null,t,e,r,n))}function q0(t,e,r,n){if(iu){var i;if((i=(e&4)===0)&&0<vn.length&&-1<Ag.indexOf(t))t=t0(null,t,e,r,n),vn.push(t);else{var o=$0(t,e,r,n);if(o===null)i&&Ig(t,n);else{if(i){if(-1<Ag.indexOf(t)){t=t0(o,t,e,r,n),vn.push(t);return}if(e4(o,t,e,r,n))return;Ig(t,n)}mv(t,e,n,null,r)}}}}function $0(t,e,r,n){var i=M0(n);if(i=Wi(i),i!==null){var o=Xi(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=q1(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return mv(t,e,n,i,r),null}var Yn=null,H0=null,ou=null;function iv(){if(ou)return ou;var t,e=H0,r=e.length,n,i="value"in Yn?Yn.value:Yn.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return ou=i.slice(t,1<n?1-n:void 0)}function su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jl(){return!0}function Dg(){return!1}function Rr(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Jl:Dg,this.isPropagationStopped=Dg,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),e}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G0=Rr(rs),Ba=ut({},rs,{view:0,detail:0}),p4=Rr(Ba),xh,Oh,ea,zu=ut({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ea&&(ea&&t.type==="mousemove"?(xh=t.screenX-ea.screenX,Oh=t.screenY-ea.screenY):Oh=xh=0,ea=t),xh)},movementY:function(t){return"movementY"in t?t.movementY:Oh}}),Fg=Rr(zu),y4=ut({},zu,{dataTransfer:0}),m4=Rr(y4),g4=ut({},Ba,{relatedTarget:0}),kh=Rr(g4),v4=ut({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),w4=Rr(v4),_4=ut({},rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S4=Rr(_4),E4=ut({},rs,{data:0}),Cg=Rr(E4),b4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=O4[t])?!!e[t]:!1}function J0(){return k4}var T4=ut({},Ba,{key:function(t){if(t.key){var e=b4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?x4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J0,charCode:function(t){return t.type==="keypress"?su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),N4=Rr(T4),A4=ut({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=Rr(A4),I4=ut({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J0}),R4=Rr(I4),D4=ut({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),F4=Rr(D4),C4=ut({},zu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P4=Rr(C4),L4=[9,13,27,32],Y0=Mn&&"CompositionEvent"in window,ga=null;Mn&&"documentMode"in document&&(ga=document.documentMode);var M4=Mn&&"TextEvent"in window&&!ga,ov=Mn&&(!Y0||ga&&8<ga&&11>=ga),Lg=String.fromCharCode(32),Mg=!1;function sv(t,e){switch(t){case"keyup":return L4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function av(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mo=!1;function j4(t,e){switch(t){case"compositionend":return av(e);case"keypress":return e.which!==32?null:(Mg=!0,Lg);case"textInput":return t=e.data,t===Lg&&Mg?null:t;default:return null}}function B4(t,e){if(Mo)return t==="compositionend"||!Y0&&sv(t,e)?(t=iv(),ou=H0=Yn=null,Mo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ov&&e.locale!=="ko"?null:e.data;default:return null}}var U4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U4[t.type]:e==="textarea"}function lv(t,e,r,n){U1(n),e=vu(e,"onChange"),0<e.length&&(r=new G0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var va=null,Ra=null;function z4(t){dv(t,0)}function Vu(t){var e=Bo(t);if(F1(e))return t}function V4(t,e){if(t==="change")return e}var uv=!1;Mn&&(Mn?(Kl="oninput"in document,Kl||(Th=document.createElement("div"),Th.setAttribute("oninput","return;"),Kl=typeof Th.oninput=="function"),Yl=Kl):Yl=!1,uv=Yl&&(!document.documentMode||9<document.documentMode));var Yl,Kl,Th;function Bg(){va&&(va.detachEvent("onpropertychange",cv),Ra=va=null)}function cv(t){if(t.propertyName==="value"&&Vu(Ra)){var e=[];if(lv(e,Ra,t,M0(t)),t=z4,Vi)t(e);else{Vi=!0;try{j0(t,e)}finally{Vi=!1,U0()}}}}function W4(t,e,r){t==="focusin"?(Bg(),va=e,Ra=r,va.attachEvent("onpropertychange",cv)):t==="focusout"&&Bg()}function q4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Ra)}function $4(t,e){if(t==="click")return Vu(e)}function H4(t,e){if(t==="input"||t==="change")return Vu(e)}function G4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vr=typeof Object.is=="function"?Object.is:G4,J4=Object.prototype.hasOwnProperty;function Da(t,e){if(Vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!J4.call(e,r[n])||!Vr(t[r[n]],e[r[n]]))return!1;return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zg(t,e){var r=Ug(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ug(r)}}function fv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vg(){for(var t=window,e=pu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=pu(t.document)}return e}function r0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Y4=Mn&&"documentMode"in document&&11>=document.documentMode,jo=null,n0=null,wa=null,i0=!1;function Wg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;i0||jo==null||jo!==pu(n)||(n=jo,"selectionStart"in n&&r0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wa&&Da(wa,n)||(wa=n,n=vu(n0,"onSelect"),0<n.length&&(e=new G0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=jo)))}W0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);W0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);W0(n4,2);for(Nh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Zl=0;Zl<Nh.length;Zl++)V0.set(Nh[Zl],0);var Nh,Zl;Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function qg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,X3(n,e,void 0,t),t.currentTarget=null}function dv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],f=a.instance,d=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;qg(i,a,d),o=f}else for(s=0;s<n.length;s++){if(a=n[s],f=a.instance,d=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;qg(i,a,d),o=f}}}if(mu)throw t=Qh,mu=!1,Qh=null,t}function ot(t,e){var r=vv(e),n=t+"__bubble";r.has(n)||(yv(e,t,2,!1),r.add(n))}var $g="_reactListening"+Math.random().toString(36).slice(2);function pv(t){t[$g]||(t[$g]=!0,I1.forEach(function(e){hv.has(e)||Hg(e,!1,t,null),Hg(e,!0,t,null)}))}function Hg(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(t==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!e&&hv.has(t)){if(t!=="scroll")return;i|=2,o=n}var s=vv(o),a=t+"__"+(e?"capture":"bubble");s.has(a)||(e&&(i|=4),yv(o,t,i,e),s.add(a))}function yv(t,e,r,n){var i=V0.get(e);switch(i===void 0?2:i){case 0:i=h4;break;case 1:i=d4;break;default:i=q0}r=i.bind(null,e,r,t),i=void 0,!Xh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function mv(t,e,r,n,i){var o=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Wi(a),s===null)return;if(f=s.tag,f===5||f===6){n=o=s;continue e}a=a.parentNode}}n=n.return}J3(function(){var d=o,m=M0(r),v=[];e:{var y=rv.get(t);if(y!==void 0){var w=G0,E=t;switch(t){case"keypress":if(su(r)===0)break e;case"keydown":case"keyup":w=N4;break;case"focusin":E="focus",w=kh;break;case"focusout":E="blur",w=kh;break;case"beforeblur":case"afterblur":w=kh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=m4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=R4;break;case Z1:case X1:case Q1:w=w4;break;case tv:w=F4;break;case"scroll":w=p4;break;case"wheel":w=P4;break;case"copy":case"cut":case"paste":w=S4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Pg}var I=(e&4)!==0,O=!I&&t==="scroll",A=I?y!==null?y+"Capture":null:y;I=[];for(var F=d,Y;F!==null;){Y=F;var H=Y.stateNode;if(Y.tag===5&&H!==null&&(Y=H,A!==null&&(H=Ta(F,A),H!=null&&I.push(Fa(F,H,Y)))),O)break;F=F.return}0<I.length&&(y=new w(y,E,null,r,m),v.push({event:y,listeners:I}))}}if((e&7)===0){e:{if(y=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",y&&(e&16)===0&&(E=r.relatedTarget||r.fromElement)&&(Wi(E)||E[ns]))break e;if((w||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,w?(E=r.relatedTarget||r.toElement,w=d,E=E?Wi(E):null,E!==null&&(O=Xi(E),E!==O||E.tag!==5&&E.tag!==6)&&(E=null)):(w=null,E=d),w!==E)){if(I=Fg,H="onMouseLeave",A="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(I=Pg,H="onPointerLeave",A="onPointerEnter",F="pointer"),O=w==null?y:Bo(w),Y=E==null?y:Bo(E),y=new I(H,F+"leave",w,r,m),y.target=O,y.relatedTarget=Y,H=null,Wi(m)===d&&(I=new I(A,F+"enter",E,r,m),I.target=Y,I.relatedTarget=O,H=I),O=H,w&&E)t:{for(I=w,A=E,F=0,Y=I;Y;Y=Fo(Y))F++;for(Y=0,H=A;H;H=Fo(H))Y++;for(;0<F-Y;)I=Fo(I),F--;for(;0<Y-F;)A=Fo(A),Y--;for(;F--;){if(I===A||A!==null&&I===A.alternate)break t;I=Fo(I),A=Fo(A)}I=null}else I=null;w!==null&&Gg(v,y,w,I,!1),E!==null&&O!==null&&Gg(v,O,E,I,!0)}}e:{if(y=d?Bo(d):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var Z=V4;else if(jg(y))if(uv)Z=H4;else{Z=q4;var j=W4}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(Z=$4);if(Z&&(Z=Z(t,d))){lv(v,Z,r,m);break e}j&&j(t,y,d),t==="focusout"&&(j=y._wrapperState)&&j.controlled&&y.type==="number"&&qh(y,"number",y.value)}switch(j=d?Bo(d):window,t){case"focusin":(jg(j)||j.contentEditable==="true")&&(jo=j,n0=d,wa=null);break;case"focusout":wa=n0=jo=null;break;case"mousedown":i0=!0;break;case"contextmenu":case"mouseup":case"dragend":i0=!1,Wg(v,r,m);break;case"selectionchange":if(Y4)break;case"keydown":case"keyup":Wg(v,r,m)}var V;if(Y0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Mo?sv(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(ov&&r.locale!=="ko"&&(Mo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Mo&&(V=iv()):(Yn=m,H0="value"in Yn?Yn.value:Yn.textContent,Mo=!0)),j=vu(d,S),0<j.length&&(S=new Cg(S,t,null,r,m),v.push({event:S,listeners:j}),V?S.data=V:(V=av(r),V!==null&&(S.data=V)))),(V=M4?j4(t,r):B4(t,r))&&(d=vu(d,"onBeforeInput"),0<d.length&&(m=new Cg("onBeforeInput","beforeinput",null,r,m),v.push({event:m,listeners:d}),m.data=V))}dv(v,e)})}function Fa(t,e,r){return{instance:t,listener:e,currentTarget:r}}function vu(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ta(t,r),o!=null&&n.unshift(Fa(t,o,i)),o=Ta(t,e),o!=null&&n.push(Fa(t,o,i))),t=t.return}return n}function Fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gg(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,f=a.alternate,d=a.stateNode;if(f!==null&&f===n)break;a.tag===5&&d!==null&&(a=d,i?(f=Ta(r,o),f!=null&&s.unshift(Fa(r,f,a))):i||(f=Ta(r,o),f!=null&&s.push(Fa(r,f,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}function wu(){}var Ah=null,Ih=null;function gv(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function o0(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jg=typeof setTimeout=="function"?setTimeout:void 0,K4=typeof clearTimeout=="function"?clearTimeout:void 0;function K0(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Yg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Rh=0;function Z4(t){return{$$typeof:P0,toString:t,valueOf:t}}var Wu=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Wu,_u="__reactProps$"+Wu,ns="__reactContainer$"+Wu,Kg="__reactEvents$"+Wu;function Wi(t){var e=t[Kn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ns]||r[Kn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Yg(t);t!==null;){if(r=t[Kn])return r;t=Yg(t)}return e}t=r,r=t.parentNode}return null}function Ua(t){return t=t[Kn]||t[ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function qu(t){return t[_u]||null}function vv(t){var e=t[Kg];return e===void 0&&(e=t[Kg]=new Set),e}var s0=[],Uo=-1;function fi(t){return{current:t}}function st(t){0>Uo||(t.current=s0[Uo],s0[Uo]=null,Uo--)}function vt(t,e){Uo++,s0[Uo]=t.current,t.current=e}var li={},ir=fi(li),mr=fi(!1),Gi=li;function Qo(t,e){var r=t.type.contextTypes;if(!r)return li;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gr(t){return t=t.childContextTypes,t!=null}function Su(){st(mr),st(ir)}function Zg(t,e,r){if(ir.current!==li)throw Error(ge(168));vt(ir,e),vt(mr,r)}function wv(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ge(108,Vo(e)||"Unknown",i));return ut({},r,n)}function au(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,Gi=ir.current,vt(ir,t),vt(mr,mr.current),!0}function Xg(t,e,r){var n=t.stateNode;if(!n)throw Error(ge(169));r?(t=wv(t,e,Gi),n.__reactInternalMemoizedMergedChildContext=t,st(mr),st(ir),vt(ir,t)):st(mr),vt(mr,r)}var Z0=null,Hi=null,X4=Bt.unstable_runWithPriority,X0=Bt.unstable_scheduleCallback,a0=Bt.unstable_cancelCallback,Q4=Bt.unstable_shouldYield,Qg=Bt.unstable_requestPaint,l0=Bt.unstable_now,ex=Bt.unstable_getCurrentPriorityLevel,$u=Bt.unstable_ImmediatePriority,_v=Bt.unstable_UserBlockingPriority,Sv=Bt.unstable_NormalPriority,Ev=Bt.unstable_LowPriority,bv=Bt.unstable_IdlePriority,Dh={},tx=Qg!==void 0?Qg:function(){},Dn=null,lu=null,Fh=!1,e1=l0(),rr=1e4>e1?l0:function(){return l0()-e1};function es(){switch(ex()){case $u:return 99;case _v:return 98;case Sv:return 97;case Ev:return 96;case bv:return 95;default:throw Error(ge(332))}}function xv(t){switch(t){case 99:return $u;case 98:return _v;case 97:return Sv;case 96:return Ev;case 95:return bv;default:throw Error(ge(332))}}function Ji(t,e){return t=xv(t),X4(t,e)}function Ca(t,e,r){return t=xv(t),X0(t,e,r)}function bn(){if(lu!==null){var t=lu;lu=null,a0(t)}Ov()}function Ov(){if(!Fh&&Dn!==null){Fh=!0;var t=0;try{var e=Dn;Ji(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),Dn=null}catch(r){throw Dn!==null&&(Dn=Dn.slice(t+1)),X0($u,bn),r}finally{Fh=!1}}}var rx=Zi.ReactCurrentBatchConfig;function tn(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Eu=fi(null),bu=null,zo=null,xu=null;function Q0(){xu=zo=bu=null}function ed(t){var e=Eu.current;st(Eu),t.type._context._currentValue=e}function kv(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Go(t,e){bu=t,xu=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(rn=!0),t.firstContext=null)}function $r(t,e){if(xu!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(xu=t,e=1073741823),e={context:t,observedBits:e,next:null},zo===null){if(bu===null)throw Error(ge(308));zo=e,bu.dependencies={lanes:0,firstContext:e,responders:null}}else zo=zo.next=e;return t._currentValue}var Gn=!1;function td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Tv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ri(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function t1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Pa(t,e,r,n){var i=t.updateQueue;Gn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,d=f.next;f.next=null,s===null?o=d:s.next=d,s=f;var m=t.alternate;if(m!==null){m=m.updateQueue;var v=m.lastBaseUpdate;v!==s&&(v===null?m.firstBaseUpdate=d:v.next=d,m.lastBaseUpdate=f)}}if(o!==null){v=i.baseState,s=0,m=d=f=null;do{a=o.lane;var y=o.eventTime;if((n&a)===a){m!==null&&(m=m.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,E=o;switch(a=e,y=r,E.tag){case 1:if(w=E.payload,typeof w=="function"){v=w.call(y,v,a);break e}v=w;break e;case 3:w.flags=w.flags&-4097|64;case 0:if(w=E.payload,a=typeof w=="function"?w.call(y,v,a):w,a==null)break e;v=ut({},v,a);break e;case 2:Gn=!0}}o.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else y={eventTime:y,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=y,f=v):m=m.next=y,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);m===null&&(f=v),i.baseState=f,i.firstBaseUpdate=d,i.lastBaseUpdate=m,Va|=s,t.lanes=s,t.memoizedState=v}}function r1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ge(191,i));i.call(n)}}}var Nv=new Lu.Component().refs;function Ou(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ut({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hu={isMounted:function(t){return(t=t._reactInternals)?Xi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ir(),i=ni(t),o=ti(n,i);o.payload=e,r!=null&&(o.callback=r),ri(t,o),ii(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ir(),i=ni(t),o=ti(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),ri(t,o),ii(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ir(),n=ni(t),i=ti(r,n);i.tag=2,e!=null&&(i.callback=e),ri(t,i),ii(t,n,r)}};function n1(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!Da(r,n)||!Da(i,o):!0}function Av(t,e,r){var n=!1,i=li,o=e.contextType;return typeof o=="object"&&o!==null?o=$r(o):(i=gr(e)?Gi:ir.current,n=e.contextTypes,o=(n=n!=null)?Qo(t,i):li),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function i1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Hu.enqueueReplaceState(e,e.state,null)}function u0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Nv,td(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=$r(o):(o=gr(e)?Gi:ir.current,i.context=Qo(t,o)),Pa(t,r,i,n),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ou(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hu.enqueueReplaceState(i,i.state,null),Pa(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Xl=Array.isArray;function ta(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=n.refs;s===Nv&&(s=n.refs={}),o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,t))}return t}function Ql(t,e){if(t.type!=="textarea")throw Error(ge(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Iv(t){function e(O,A){if(t){var F=O.lastEffect;F!==null?(F.nextEffect=A,O.lastEffect=A):O.firstEffect=O.lastEffect=A,A.nextEffect=null,A.flags=8}}function r(O,A){if(!t)return null;for(;A!==null;)e(O,A),A=A.sibling;return null}function n(O,A){for(O=new Map;A!==null;)A.key!==null?O.set(A.key,A):O.set(A.index,A),A=A.sibling;return O}function i(O,A){return O=ci(O,A),O.index=0,O.sibling=null,O}function o(O,A,F){return O.index=F,t?(F=O.alternate,F!==null?(F=F.index,F<A?(O.flags=2,A):F):(O.flags=2,A)):A}function s(O){return t&&O.alternate===null&&(O.flags=2),O}function a(O,A,F,Y){return A===null||A.tag!==6?(A=jh(F,O.mode,Y),A.return=O,A):(A=i(A,F),A.return=O,A)}function f(O,A,F,Y){return A!==null&&A.elementType===F.type?(Y=i(A,F.props),Y.ref=ta(O,A,F),Y.return=O,Y):(Y=hu(F.type,F.key,F.props,null,O.mode,Y),Y.ref=ta(O,A,F),Y.return=O,Y)}function d(O,A,F,Y){return A===null||A.tag!==4||A.stateNode.containerInfo!==F.containerInfo||A.stateNode.implementation!==F.implementation?(A=Bh(F,O.mode,Y),A.return=O,A):(A=i(A,F.children||[]),A.return=O,A)}function m(O,A,F,Y,H){return A===null||A.tag!==7?(A=Zo(F,O.mode,Y,H),A.return=O,A):(A=i(A,F),A.return=O,A)}function v(O,A,F){if(typeof A=="string"||typeof A=="number")return A=jh(""+A,O.mode,F),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case la:return F=hu(A.type,A.key,A.props,null,O.mode,F),F.ref=ta(O,null,A),F.return=O,F;case zi:return A=Bh(A,O.mode,F),A.return=O,A}if(Xl(A)||Ks(A))return A=Zo(A,O.mode,F,null),A.return=O,A;Ql(O,A)}return null}function y(O,A,F,Y){var H=A!==null?A.key:null;if(typeof F=="string"||typeof F=="number")return H!==null?null:a(O,A,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case la:return F.key===H?F.type===Jn?m(O,A,F.props.children,Y,H):f(O,A,F,Y):null;case zi:return F.key===H?d(O,A,F,Y):null}if(Xl(F)||Ks(F))return H!==null?null:m(O,A,F,Y,null);Ql(O,F)}return null}function w(O,A,F,Y,H){if(typeof Y=="string"||typeof Y=="number")return O=O.get(F)||null,a(A,O,""+Y,H);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case la:return O=O.get(Y.key===null?F:Y.key)||null,Y.type===Jn?m(A,O,Y.props.children,H,Y.key):f(A,O,Y,H);case zi:return O=O.get(Y.key===null?F:Y.key)||null,d(A,O,Y,H)}if(Xl(Y)||Ks(Y))return O=O.get(F)||null,m(A,O,Y,H,null);Ql(A,Y)}return null}function E(O,A,F,Y){for(var H=null,Z=null,j=A,V=A=0,S=null;j!==null&&V<F.length;V++){j.index>V?(S=j,j=null):S=j.sibling;var W=y(O,j,F[V],Y);if(W===null){j===null&&(j=S);break}t&&j&&W.alternate===null&&e(O,j),A=o(W,A,V),Z===null?H=W:Z.sibling=W,Z=W,j=S}if(V===F.length)return r(O,j),H;if(j===null){for(;V<F.length;V++)j=v(O,F[V],Y),j!==null&&(A=o(j,A,V),Z===null?H=j:Z.sibling=j,Z=j);return H}for(j=n(O,j);V<F.length;V++)S=w(j,O,V,F[V],Y),S!==null&&(t&&S.alternate!==null&&j.delete(S.key===null?V:S.key),A=o(S,A,V),Z===null?H=S:Z.sibling=S,Z=S);return t&&j.forEach(function(re){return e(O,re)}),H}function I(O,A,F,Y){var H=Ks(F);if(typeof H!="function")throw Error(ge(150));if(F=H.call(F),F==null)throw Error(ge(151));for(var Z=H=null,j=A,V=A=0,S=null,W=F.next();j!==null&&!W.done;V++,W=F.next()){j.index>V?(S=j,j=null):S=j.sibling;var re=y(O,j,W.value,Y);if(re===null){j===null&&(j=S);break}t&&j&&re.alternate===null&&e(O,j),A=o(re,A,V),Z===null?H=re:Z.sibling=re,Z=re,j=S}if(W.done)return r(O,j),H;if(j===null){for(;!W.done;V++,W=F.next())W=v(O,W.value,Y),W!==null&&(A=o(W,A,V),Z===null?H=W:Z.sibling=W,Z=W);return H}for(j=n(O,j);!W.done;V++,W=F.next())W=w(j,O,V,W.value,Y),W!==null&&(t&&W.alternate!==null&&j.delete(W.key===null?V:W.key),A=o(W,A,V),Z===null?H=W:Z.sibling=W,Z=W);return t&&j.forEach(function(X){return e(O,X)}),H}return function(O,A,F,Y){var H=typeof F=="object"&&F!==null&&F.type===Jn&&F.key===null;H&&(F=F.props.children);var Z=typeof F=="object"&&F!==null;if(Z)switch(F.$$typeof){case la:e:{for(Z=F.key,H=A;H!==null;){if(H.key===Z){switch(H.tag){case 7:if(F.type===Jn){r(O,H.sibling),A=i(H,F.props.children),A.return=O,O=A;break e}break;default:if(H.elementType===F.type){r(O,H.sibling),A=i(H,F.props),A.ref=ta(O,H,F),A.return=O,O=A;break e}}r(O,H);break}else e(O,H);H=H.sibling}F.type===Jn?(A=Zo(F.props.children,O.mode,Y,F.key),A.return=O,O=A):(Y=hu(F.type,F.key,F.props,null,O.mode,Y),Y.ref=ta(O,A,F),Y.return=O,O=Y)}return s(O);case zi:e:{for(H=F.key;A!==null;){if(A.key===H)if(A.tag===4&&A.stateNode.containerInfo===F.containerInfo&&A.stateNode.implementation===F.implementation){r(O,A.sibling),A=i(A,F.children||[]),A.return=O,O=A;break e}else{r(O,A);break}else e(O,A);A=A.sibling}A=Bh(F,O.mode,Y),A.return=O,O=A}return s(O)}if(typeof F=="string"||typeof F=="number")return F=""+F,A!==null&&A.tag===6?(r(O,A.sibling),A=i(A,F),A.return=O,O=A):(r(O,A),A=jh(F,O.mode,Y),A.return=O,O=A),s(O);if(Xl(F))return E(O,A,F,Y);if(Ks(F))return I(O,A,F,Y);if(Z&&Ql(O,F),typeof F>"u"&&!H)switch(O.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ge(152,Vo(O.type)||"Component"))}return r(O,A)}}var ku=Iv(!0),Rv=Iv(!1),za={},Sn=fi(za),La=fi(za),Ma=fi(za);function qi(t){if(t===za)throw Error(ge(174));return t}function c0(t,e){switch(vt(Ma,e),vt(La,t),vt(Sn,za),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jh(e,t)}st(Sn),vt(Sn,e)}function ts(){st(Sn),st(La),st(Ma)}function o1(t){qi(Ma.current);var e=qi(Sn.current),r=Jh(e,t.type);e!==r&&(vt(La,t),vt(Sn,r))}function rd(t){La.current===t&&(st(Sn),st(La))}var gt=fi(0);function Tu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cn=null,Zn=null,En=!1;function Dv(t,e){var r=Wr(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function s1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function f0(t){if(En){var e=Zn;if(e){var r=e;if(!s1(t,e)){if(e=Ho(r.nextSibling),!e||!s1(t,e)){t.flags=t.flags&-1025|2,En=!1,Cn=t;return}Dv(Cn,r)}Cn=t,Zn=Ho(e.firstChild)}else t.flags=t.flags&-1025|2,En=!1,Cn=t}}function a1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function eu(t){if(t!==Cn)return!1;if(!En)return a1(t),En=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!o0(e,t.memoizedProps))for(e=Zn;e;)Dv(t,e),e=Ho(e.nextSibling);if(a1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Zn=Ho(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=Cn?Ho(t.stateNode.nextSibling):null;return!0}function Ch(){Zn=Cn=null,En=!1}var Jo=[];function nd(){for(var t=0;t<Jo.length;t++)Jo[t]._workInProgressVersionPrimary=null;Jo.length=0}var _a=Zi.ReactCurrentDispatcher,qr=Zi.ReactCurrentBatchConfig,ja=0,At=null,tr=null,Ht=null,Nu=!1,Sa=!1;function pr(){throw Error(ge(321))}function id(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Vr(t[r],e[r]))return!1;return!0}function od(t,e,r,n,i,o){if(ja=o,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_a.current=t===null||t.memoizedState===null?ix:ox,t=r(n,i),Sa){o=0;do{if(Sa=!1,!(25>o))throw Error(ge(301));o+=1,Ht=tr=null,e.updateQueue=null,_a.current=sx,t=r(n,i)}while(Sa)}if(_a.current=Du,e=tr!==null&&tr.next!==null,ja=0,Ht=tr=At=null,Nu=!1,e)throw Error(ge(300));return t}function $i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?At.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function Qi(){if(tr===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=tr.next;var e=Ht===null?At.memoizedState:Ht.next;if(e!==null)Ht=e,tr=t;else{if(t===null)throw Error(ge(310));tr=t,t={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},Ht===null?At.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function wn(t,e){return typeof e=="function"?e(t):e}function ra(t){var e=Qi(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=tr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var a=s=o=null,f=i;do{var d=f.lane;if((ja&d)===d)a!==null&&(a=a.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),n=f.eagerReducer===t?f.eagerState:t(n,f.action);else{var m={lane:d,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};a===null?(s=a=m,o=n):a=a.next=m,At.lanes|=d,Va|=d}f=f.next}while(f!==null&&f!==i);a===null?o=n:a.next=s,Vr(n,e.memoizedState)||(rn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function na(t){var e=Qi(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Vr(o,e.memoizedState)||(rn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function l1(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(ja&t)===t)&&(e._workInProgressVersionPrimary=n,Jo.push(e))),t)return r(e._source);throw Jo.push(e),Error(ge(350))}function Fv(t,e,r,n){var i=sr;if(i===null)throw Error(ge(349));var o=e._getVersion,s=o(e._source),a=_a.current,f=a.useState(function(){return l1(i,e,r)}),d=f[1],m=f[0];f=Ht;var v=t.memoizedState,y=v.refs,w=y.getSnapshot,E=v.source;v=v.subscribe;var I=At;return t.memoizedState={refs:y,source:e,subscribe:n},a.useEffect(function(){y.getSnapshot=r,y.setSnapshot=d;var O=o(e._source);if(!Vr(s,O)){O=r(e._source),Vr(m,O)||(d(O),O=ni(I),i.mutableReadLanes|=O&i.pendingLanes),O=i.mutableReadLanes,i.entangledLanes|=O;for(var A=i.entanglements,F=O;0<F;){var Y=31-ai(F),H=1<<Y;A[Y]|=O,F&=~H}}},[r,e,n]),a.useEffect(function(){return n(e._source,function(){var O=y.getSnapshot,A=y.setSnapshot;try{A(O(e._source));var F=ni(I);i.mutableReadLanes|=F&i.pendingLanes}catch(Y){A(function(){throw Y})}})},[e,n]),Vr(w,r)&&Vr(E,e)&&Vr(v,n)||(t={pending:null,dispatch:null,lastRenderedReducer:wn,lastRenderedState:m},t.dispatch=d=ld.bind(null,At,t),f.queue=t,f.baseQueue=null,m=l1(i,e,r),f.memoizedState=f.baseState=m),m}function Cv(t,e,r){var n=Qi();return Fv(n,t,e,r)}function ia(t){var e=$i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:wn,lastRenderedState:t},t=t.dispatch=ld.bind(null,At,t),[e.memoizedState,t]}function Au(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=At.updateQueue,e===null?(e={lastEffect:null},At.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function u1(t){var e=$i();return t={current:t},e.memoizedState=t}function Iu(){return Qi().memoizedState}function h0(t,e,r,n){var i=$i();At.flags|=t,i.memoizedState=Au(1|e,r,void 0,n===void 0?null:n)}function sd(t,e,r,n){var i=Qi();n=n===void 0?null:n;var o=void 0;if(tr!==null){var s=tr.memoizedState;if(o=s.destroy,n!==null&&id(n,s.deps)){Au(e,r,o,n);return}}At.flags|=t,i.memoizedState=Au(1|e,r,o,n)}function c1(t,e){return h0(516,4,t,e)}function Ru(t,e){return sd(516,4,t,e)}function Pv(t,e){return sd(4,2,t,e)}function Lv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mv(t,e,r){return r=r!=null?r.concat([t]):null,sd(4,2,Lv.bind(null,e,t),r)}function ad(){}function jv(t,e){var r=Qi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&id(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Bv(t,e){var r=Qi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&id(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function nx(t,e){var r=es();Ji(98>r?98:r,function(){t(!0)}),Ji(97<r?97:r,function(){var n=qr.transition;qr.transition=1;try{t(!1),e()}finally{qr.transition=n}})}function ld(t,e,r){var n=Ir(),i=ni(t),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),e.pending=o,s=t.alternate,t===At||s!==null&&s===At)Sa=Nu=!0;else{if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,f=s(a,r);if(o.eagerReducer=s,o.eagerState=f,Vr(f,a))return}catch{}finally{}ii(t,i,n)}}var Du={readContext:$r,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useOpaqueIdentifier:pr,unstable_isNewReconciler:!1},ix={readContext:$r,useCallback:function(t,e){return $i().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:c1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,h0(4,2,Lv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return h0(4,2,t,e)},useMemo:function(t,e){var r=$i();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=$i();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=ld.bind(null,At,t),[n.memoizedState,t]},useRef:u1,useState:ia,useDebugValue:ad,useDeferredValue:function(t){var e=ia(t),r=e[0],n=e[1];return c1(function(){var i=qr.transition;qr.transition=1;try{n(t)}finally{qr.transition=i}},[t]),r},useTransition:function(){var t=ia(!1),e=t[0];return t=nx.bind(null,t[1]),u1(t),[t,e]},useMutableSource:function(t,e,r){var n=$i();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},Fv(n,t,e,r)},useOpaqueIdentifier:function(){if(En){var t=!1,e=Z4(function(){throw t||(t=!0,r("r:"+(Rh++).toString(36))),Error(ge(355))}),r=ia(e)[1];return(At.mode&2)===0&&(At.flags|=516,Au(5,function(){r("r:"+(Rh++).toString(36))},void 0,null)),e}return e="r:"+(Rh++).toString(36),ia(e),e},unstable_isNewReconciler:!1},ox={readContext:$r,useCallback:jv,useContext:$r,useEffect:Ru,useImperativeHandle:Mv,useLayoutEffect:Pv,useMemo:Bv,useReducer:ra,useRef:Iu,useState:function(){return ra(wn)},useDebugValue:ad,useDeferredValue:function(t){var e=ra(wn),r=e[0],n=e[1];return Ru(function(){var i=qr.transition;qr.transition=1;try{n(t)}finally{qr.transition=i}},[t]),r},useTransition:function(){var t=ra(wn)[0];return[Iu().current,t]},useMutableSource:Cv,useOpaqueIdentifier:function(){return ra(wn)[0]},unstable_isNewReconciler:!1},sx={readContext:$r,useCallback:jv,useContext:$r,useEffect:Ru,useImperativeHandle:Mv,useLayoutEffect:Pv,useMemo:Bv,useReducer:na,useRef:Iu,useState:function(){return na(wn)},useDebugValue:ad,useDeferredValue:function(t){var e=na(wn),r=e[0],n=e[1];return Ru(function(){var i=qr.transition;qr.transition=1;try{n(t)}finally{qr.transition=i}},[t]),r},useTransition:function(){var t=na(wn)[0];return[Iu().current,t]},useMutableSource:Cv,useOpaqueIdentifier:function(){return na(wn)[0]},unstable_isNewReconciler:!1},ax=Zi.ReactCurrentOwner,rn=!1;function yr(t,e,r,n){e.child=t===null?Rv(e,null,r,n):ku(e,t.child,r,n)}function f1(t,e,r,n,i){r=r.render;var o=e.ref;return Go(e,i),n=od(t,e,r,n,o,i),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Pn(t,e,i)):(e.flags|=1,yr(t,e,n,i),e.child)}function h1(t,e,r,n,i,o){if(t===null){var s=r.type;return typeof s=="function"&&!pd(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Uv(t,e,s,n,i,o)):(t=hu(r.type,null,n,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return s=t.child,(i&o)===0&&(i=s.memoizedProps,r=r.compare,r=r!==null?r:Da,r(i,n)&&t.ref===e.ref)?Pn(t,e,o):(e.flags|=1,t=ci(s,n),t.ref=e.ref,t.return=e,e.child=t)}function Uv(t,e,r,n,i,o){if(t!==null&&Da(t.memoizedProps,n)&&t.ref===e.ref)if(rn=!1,(o&i)!==0)(t.flags&16384)!==0&&(rn=!0);else return e.lanes=t.lanes,Pn(t,e,o);return d0(t,e,r,n,o)}function Ph(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},ru(e,r);else if((r&1073741824)!==0)e.memoizedState={baseLanes:0},ru(e,o!==null?o.baseLanes:r);else return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},ru(e,t),null;else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,ru(e,n);return yr(t,e,i,r),e.child}function zv(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function d0(t,e,r,n,i){var o=gr(r)?Gi:ir.current;return o=Qo(e,o),Go(e,i),r=od(t,e,r,n,o,i),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Pn(t,e,i)):(e.flags|=1,yr(t,e,r,i),e.child)}function d1(t,e,r,n,i){if(gr(r)){var o=!0;au(e)}else o=!1;if(Go(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Av(e,r,n),u0(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var f=s.context,d=r.contextType;typeof d=="object"&&d!==null?d=$r(d):(d=gr(r)?Gi:ir.current,d=Qo(e,d));var m=r.getDerivedStateFromProps,v=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||f!==d)&&i1(e,s,n,d),Gn=!1;var y=e.memoizedState;s.state=y,Pa(e,n,s,i),f=e.memoizedState,a!==n||y!==f||mr.current||Gn?(typeof m=="function"&&(Ou(e,r,m,n),f=e.memoizedState),(a=Gn||n1(e,r,a,n,y,f,d))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=f),s.props=n,s.state=f,s.context=d,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{s=e.stateNode,Tv(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:tn(e.type,a),s.props=d,v=e.pendingProps,y=s.context,f=r.contextType,typeof f=="object"&&f!==null?f=$r(f):(f=gr(r)?Gi:ir.current,f=Qo(e,f));var w=r.getDerivedStateFromProps;(m=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==v||y!==f)&&i1(e,s,n,f),Gn=!1,y=e.memoizedState,s.state=y,Pa(e,n,s,i);var E=e.memoizedState;a!==v||y!==E||mr.current||Gn?(typeof w=="function"&&(Ou(e,r,w,n),E=e.memoizedState),(d=Gn||n1(e,r,d,n,y,E,f))?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,E,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,E,f)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=E),s.props=n,s.state=E,s.context=f,n=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),n=!1)}return p0(t,e,r,n,o,i)}function p0(t,e,r,n,i,o){zv(t,e);var s=(e.flags&64)!==0;if(!n&&!s)return i&&Xg(e,r,!1),Pn(t,e,o);n=e.stateNode,ax.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=ku(e,t.child,null,o),e.child=ku(e,null,a,o)):yr(t,e,a,o),e.memoizedState=n.state,i&&Xg(e,r,!0),e.child}function p1(t){var e=t.stateNode;e.pendingContext?Zg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zg(t,e.context,!1),c0(t,e.containerInfo)}var tu={dehydrated:null,retryLane:0};function y1(t,e,r){var n=e.pendingProps,i=gt.current,o=!1,s;return(s=(e.flags&64)!==0)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),vt(gt,i&1),t===null?(n.fallback!==void 0&&f0(e),t=n.children,i=n.fallback,o?(t=m1(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=tu,t):typeof n.unstable_expectedLoadTime=="number"?(t=m1(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=tu,e.lanes=33554432,t):(r=yd({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?o?(n=v1(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=tu,n):(r=g1(t,e,n.children,r),e.memoizedState=null,r):o?(n=v1(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=tu,n):(r=g1(t,e,n.children,r),e.memoizedState=null,r)}function m1(t,e,r,n){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=e):o=yd(e,i,0,null),r=Zo(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r}function g1(t,e,r,n){var i=t.child;return t=i.sibling,r=ci(i,{mode:"visible",children:r}),(e.mode&2)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function v1(t,e,r,n,i){var o=e.mode,s=t.child;t=s.sibling;var a={mode:"hidden",children:r};return(o&2)===0&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,s=r.lastEffect,s!==null?(e.firstEffect=r.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):r=ci(s,a),t!==null?n=ci(t,n):(n=Zo(n,o,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function w1(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kv(t.return,e)}function Lh(t,e,r,n,i,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.lastEffect=o)}function _1(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(yr(t,e,n.children,r),n=gt.current,(n&2)!==0)n=n&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&w1(t,r);else if(t.tag===19)w1(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(vt(gt,n),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Tu(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Lh(e,!1,i,r,o,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tu(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Lh(e,!0,r,null,o,e.lastEffect);break;case"together":Lh(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Pn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Va|=e.lanes,(r&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(ge(153));if(e.child!==null){for(t=e.child,r=ci(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ci(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var Vv,y0,Wv,qv;Vv=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};y0=function(){};Wv=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,qi(Sn.current);var o=null;switch(r){case"input":i=Vh(t,i),n=Vh(t,n),o=[];break;case"option":i=$h(t,i),n=$h(t,n),o=[];break;case"select":i=ut({},i,{value:void 0}),n=ut({},n,{value:void 0}),o=[];break;case"textarea":i=Hh(t,i),n=Hh(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=wu)}Yh(r,n);var s;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Oa.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var f=n[d];if(a=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&f!==a&&(f!=null||a!=null))if(d==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(r||(r={}),r[s]=f[s])}else r||(o||(o=[]),o.push(d,r)),r=f;else d==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(d,f)):d==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(d,""+f):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Oa.hasOwnProperty(d)?(f!=null&&d==="onScroll"&&ot("scroll",t),o||a===f||(o=[])):typeof f=="object"&&f!==null&&f.$$typeof===P0?f.toString():(o=o||[]).push(d,f))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};qv=function(t,e,r,n){r!==n&&(e.flags|=4)};function oa(t,e){if(!En)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function lx(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gr(e.type)&&Su(),null;case 3:return ts(),st(mr),st(ir),nd(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:n.hydrate||(e.flags|=256)),y0(e),null;case 5:rd(e);var i=qi(Ma.current);if(r=e.type,t!==null&&e.stateNode!=null)Wv(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(ge(166));return null}if(t=qi(Sn.current),eu(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Kn]=e,n[_u]=o,r){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(t=0;t<ca.length;t++)ot(ca[t],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":Eg(n,o),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ot("invalid",n);break;case"textarea":xg(n,o),ot("invalid",n)}Yh(r,o),t=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Oa.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&ot("scroll",n));switch(r){case"input":$l(n),bg(n,o,!0);break;case"textarea":$l(n),Og(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=wu)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,t===Gh.html&&(t=L1(r)),t===Gh.html?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Kn]=e,t[_u]=n,Vv(t,e,!1,!1),e.stateNode=t,s=Kh(r,n),r){case"dialog":ot("cancel",t),ot("close",t),i=n;break;case"iframe":case"object":case"embed":ot("load",t),i=n;break;case"video":case"audio":for(i=0;i<ca.length;i++)ot(ca[i],t);i=n;break;case"source":ot("error",t),i=n;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=n;break;case"details":ot("toggle",t),i=n;break;case"input":Eg(t,n),i=Vh(t,n),ot("invalid",t);break;case"option":i=$h(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ut({},n,{value:void 0}),ot("invalid",t);break;case"textarea":xg(t,n),i=Hh(t,n),ot("invalid",t);break;default:i=n}Yh(r,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?B1(t,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&M1(t,f)):o==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&ka(t,f):typeof f=="number"&&ka(t,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oa.hasOwnProperty(o)?f!=null&&o==="onScroll"&&ot("scroll",t):f!=null&&A0(t,o,f,s))}switch(r){case"input":$l(t),bg(t,n,!1);break;case"textarea":$l(t),Og(t);break;case"option":n.value!=null&&t.setAttribute("value",""+si(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Wo(t,!!n.multiple,o,!1):n.defaultValue!=null&&Wo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wu)}gv(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)qv(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ge(166));r=qi(Ma.current),qi(Sn.current),eu(e)?(n=e.stateNode,r=e.memoizedProps,n[Kn]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kn]=e,e.stateNode=n)}return null;case 13:return st(gt),n=e.memoizedState,(e.flags&64)!==0?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&eu(e):r=t.memoizedState!==null,n&&!r&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(gt.current&1)!==0?Gt===0&&(Gt=3):((Gt===0||Gt===3)&&(Gt=4),sr===null||(Va&134217727)===0&&(os&134217727)===0||Yo(sr,nr))),(n||r)&&(e.flags|=4),null);case 4:return ts(),y0(e),t===null&&pv(e.stateNode.containerInfo),null;case 10:return ed(e),null;case 17:return gr(e.type)&&Su(),null;case 19:if(st(gt),n=e.memoizedState,n===null)return null;if(o=(e.flags&64)!==0,s=n.rendering,s===null)if(o)oa(n,!1);else{if(Gt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(s=Tu(t),s!==null){for(e.flags|=64,oa(n,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return vt(gt,gt.current&1|2),e.child}t=t.sibling}n.tail!==null&&rr()>S0&&(e.flags|=64,o=!0,oa(n,!1),e.lanes=33554432)}else{if(!o)if(t=Tu(s),t!==null){if(e.flags|=64,o=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),oa(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!En)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*rr()-n.renderingStartTime>S0&&r!==1073741824&&(e.flags|=64,o=!0,oa(n,!1),e.lanes=33554432);n.isBackwards?(s.sibling=e.child,e.child=s):(r=n.last,r!==null?r.sibling=s:e.child=s,n.last=s)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=rr(),r.sibling=null,e=gt.current,vt(gt,o?e&1|2:e&1),r):null;case 23:case 24:return dd(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(ge(156,e.tag))}function ux(t){switch(t.tag){case 1:gr(t.type)&&Su();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(ts(),st(mr),st(ir),nd(),e=t.flags,(e&64)!==0)throw Error(ge(285));return t.flags=e&-4097|64,t;case 5:return rd(t),null;case 13:return st(gt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return st(gt),null;case 4:return ts(),null;case 10:return ed(t),null;case 23:case 24:return dd(),null;default:return null}}function ud(t,e){try{var r="",n=e;do r+=W3(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function m0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var cx=typeof WeakMap=="function"?WeakMap:Map;function $v(t,e,r){r=ti(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Cu||(Cu=!0,E0=n),m0(t,e)},r}function Hv(t,e,r){r=ti(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return m0(t,e),n(i)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(_n===null?_n=new Set([this]):_n.add(this),m0(t,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}var fx=typeof WeakSet=="function"?WeakSet:Set;function S1(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){oi(t,r)}else e.current=null}function hx(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:tn(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&K0(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ge(163))}function dx(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(tw(r,t),Sx(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:tn(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&r1(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}r1(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&gv(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&Y1(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ge(163))}function E1(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=j1("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function b1(t,e){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(Z0,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)tw(e,r);else{n=e;try{i()}catch(o){oi(n,o)}}r=r.next}while(r!==t)}break;case 1:if(S1(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){oi(e,o)}break;case 5:S1(e);break;case 4:Gv(t,e)}}function x1(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function O1(t){return t.tag===5||t.tag===3||t.tag===4}function k1(t){e:{for(var e=t.return;e!==null;){if(O1(e))break e;e=e.return}throw Error(ge(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(ge(161))}r.flags&16&&(ka(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||O1(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?g0(t,r,e):v0(t,r,e)}function g0(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=wu));else if(n!==4&&(t=t.child,t!==null))for(g0(t,e,r),t=t.sibling;t!==null;)g0(t,e,r),t=t.sibling}function v0(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(v0(t,e,r),t=t.sibling;t!==null;)v0(t,e,r),t=t.sibling}function Gv(t,e){for(var r=e,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(ge(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var s=t,a=r,f=a;;)if(b1(s,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(s=i,a=r.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(b1(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Mh(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(r[_u]=n,t==="input"&&n.type==="radio"&&n.name!=null&&C1(r,n),Kh(t,i),e=Kh(t,n),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?B1(r,a):s==="dangerouslySetInnerHTML"?M1(r,a):s==="children"?ka(r,a):A0(r,s,a,e)}switch(t){case"input":Wh(r,n);break;case"textarea":P1(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Wo(r,!!n.multiple,o,!1):t!==!!n.multiple&&(n.defaultValue!=null?Wo(r,!!n.multiple,n.defaultValue,!0):Wo(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(ge(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,Y1(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(hd=rr(),E1(e.child,!0)),T1(e);return;case 19:T1(e);return;case 17:return;case 23:case 24:E1(e,e.memoizedState!==null);return}throw Error(ge(163))}function T1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new fx),e.forEach(function(n){var i=xx.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function px(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var yx=Math.ceil,Fu=Zi.ReactCurrentDispatcher,cd=Zi.ReactCurrentOwner,Re=0,sr=null,Lt=null,nr=0,Yi=0,w0=fi(0),Gt=0,Gu=null,is=0,Va=0,os=0,fd=0,_0=null,hd=0,S0=1/0;function ss(){S0=rr()+500}var ke=null,Cu=!1,E0=null,_n=null,ui=!1,Ea=null,fa=90,b0=[],x0=[],Ln=null,ba=0,O0=null,uu=-1,Fn=0,cu=0,xa=null,fu=!1;function Ir(){return(Re&48)!==0?rr():uu!==-1?uu:uu=rr()}function ni(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return es()===99?1:2;if(Fn===0&&(Fn=is),rx.transition!==0){cu!==0&&(cu=_0!==null?_0.pendingLanes:0),t=Fn;var e=4186112&~cu;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=es(),(Re&4)!==0&&t===98?t=gu(12,Fn):(t=o4(t),t=gu(t,Fn)),t}function ii(t,e,r){if(50<ba)throw ba=0,O0=null,Error(ge(185));if(t=Ju(t,e),t===null)return null;Uu(t,e,r),t===sr&&(os|=e,Gt===4&&Yo(t,nr));var n=es();e===1?(Re&8)!==0&&(Re&48)===0?k0(t):(Hr(t,r),Re===0&&(ss(),bn())):((Re&4)===0||n!==98&&n!==99||(Ln===null?Ln=new Set([t]):Ln.add(t)),Hr(t,r)),_0=t}function Ju(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function Hr(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ai(s),f=1<<a,d=o[a];if(d===-1){if((f&n)===0||(f&i)!==0){d=e,Co(f);var m=et;o[a]=10<=m?d+250:6<=m?d+5e3:-1}}else d<=e&&(t.expiredLanes|=f);s&=~f}if(n=Ia(t,t===sr?nr:0),e=et,n===0)r!==null&&(r!==Dh&&a0(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==Dh&&a0(r)}e===15?(r=k0.bind(null,t),Dn===null?(Dn=[r],lu=X0($u,Ov)):Dn.push(r),r=Dh):e===14?r=Ca(99,k0.bind(null,t)):(r=s4(e),r=Ca(r,Jv.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function Jv(t){if(uu=-1,cu=Fn=0,(Re&48)!==0)throw Error(ge(327));var e=t.callbackNode;if(hi()&&t.callbackNode!==e)return null;var r=Ia(t,t===sr?nr:0);if(r===0)return null;var n=r,i=Re;Re|=16;var o=Xv();(sr!==t||nr!==n)&&(ss(),Ko(t,n));do try{vx();break}catch(a){Zv(t,a)}while(1);if(Q0(),Fu.current=o,Re=i,Lt!==null?n=0:(sr=null,nr=0,n=Gt),(is&os)!==0)Ko(t,0);else if(n!==0){if(n===2&&(Re|=64,t.hydrate&&(t.hydrate=!1,K0(t.containerInfo)),r=nv(t),r!==0&&(n=ha(t,r))),n===1)throw e=Gu,Ko(t,0),Yo(t,r),Hr(t,rr()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(ge(345));case 2:Ui(t);break;case 3:if(Yo(t,r),(r&62914560)===r&&(n=hd+500-rr(),10<n)){if(Ia(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ir(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jg(Ui.bind(null,t),n);break}Ui(t);break;case 4:if(Yo(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var s=31-ai(r);o=1<<s,s=n[s],s>i&&(i=s),r&=~o}if(r=i,r=rr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yx(r/1960))-r,10<r){t.timeoutHandle=Jg(Ui.bind(null,t),r);break}Ui(t);break;case 5:Ui(t);break;default:throw Error(ge(329))}}return Hr(t,rr()),t.callbackNode===e?Jv.bind(null,t):null}function Yo(t,e){for(e&=~fd,e&=~os,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ai(e),n=1<<r;t[r]=-1,e&=~n}}function k0(t){if((Re&48)!==0)throw Error(ge(327));if(hi(),t===sr&&(t.expiredLanes&nr)!==0){var e=nr,r=ha(t,e);(is&os)!==0&&(e=Ia(t,e),r=ha(t,e))}else e=Ia(t,0),r=ha(t,e);if(t.tag!==0&&r===2&&(Re|=64,t.hydrate&&(t.hydrate=!1,K0(t.containerInfo)),e=nv(t),e!==0&&(r=ha(t,e))),r===1)throw r=Gu,Ko(t,0),Yo(t,e),Hr(t,rr()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ui(t),Hr(t,rr()),null}function mx(){if(Ln!==null){var t=Ln;Ln=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Hr(e,rr())})}bn()}function Yv(t,e){var r=Re;Re|=1;try{return t(e)}finally{Re=r,Re===0&&(ss(),bn())}}function Kv(t,e){var r=Re;Re&=-2,Re|=8;try{return t(e)}finally{Re=r,Re===0&&(ss(),bn())}}function ru(t,e){vt(w0,Yi),Yi|=e,is|=e}function dd(){Yi=w0.current,st(w0)}function Ko(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,K4(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Su();break;case 3:ts(),st(mr),st(ir),nd();break;case 5:rd(n);break;case 4:ts();break;case 13:st(gt);break;case 19:st(gt);break;case 10:ed(n);break;case 23:case 24:dd()}r=r.return}sr=t,Lt=ci(t.current,null),nr=Yi=is=e,Gt=0,Gu=null,fd=os=Va=0}function Zv(t,e){do{var r=Lt;try{if(Q0(),_a.current=Du,Nu){for(var n=At.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Nu=!1}if(ja=0,Ht=tr=At=null,Sa=!1,cd.current=null,r===null||r.return===null){Gt=1,Gu=e,Lt=null;break}e:{var o=t,s=r.return,a=r,f=e;if(e=nr,a.flags|=2048,a.firstEffect=a.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var d=f;if((a.mode&2)===0){var m=a.alternate;m?(a.updateQueue=m.updateQueue,a.memoizedState=m.memoizedState,a.lanes=m.lanes):(a.updateQueue=null,a.memoizedState=null)}var v=(gt.current&1)!==0,y=s;do{var w;if(w=y.tag===13){var E=y.memoizedState;if(E!==null)w=E.dehydrated!==null;else{var I=y.memoizedProps;w=I.fallback===void 0?!1:I.unstable_avoidThisFallback!==!0?!0:!v}}if(w){var O=y.updateQueue;if(O===null){var A=new Set;A.add(d),y.updateQueue=A}else O.add(d);if((y.mode&2)===0){if(y.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var F=ti(-1,1);F.tag=2,ri(a,F)}a.lanes|=1;break e}f=void 0,a=e;var Y=o.pingCache;if(Y===null?(Y=o.pingCache=new cx,f=new Set,Y.set(d,f)):(f=Y.get(d),f===void 0&&(f=new Set,Y.set(d,f))),!f.has(a)){f.add(a);var H=bx.bind(null,o,d,a);d.then(H,H)}y.flags|=4096,y.lanes=e;break e}y=y.return}while(y!==null);f=Error((Vo(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Gt!==5&&(Gt=2),f=ud(f,a),y=s;do{switch(y.tag){case 3:o=f,y.flags|=4096,e&=-e,y.lanes|=e;var Z=$v(y,o,e);t1(y,Z);break e;case 1:o=f;var j=y.type,V=y.stateNode;if((y.flags&64)===0&&(typeof j.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(_n===null||!_n.has(V)))){y.flags|=4096,e&=-e,y.lanes|=e;var S=Hv(y,o,e);t1(y,S);break e}}y=y.return}while(y!==null)}ew(r)}catch(W){e=W,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(1)}function Xv(){var t=Fu.current;return Fu.current=Du,t===null?Du:t}function ha(t,e){var r=Re;Re|=16;var n=Xv();sr===t&&nr===e||Ko(t,e);do try{gx();break}catch(i){Zv(t,i)}while(1);if(Q0(),Re=r,Fu.current=n,Lt!==null)throw Error(ge(261));return sr=null,nr=0,Gt}function gx(){for(;Lt!==null;)Qv(Lt)}function vx(){for(;Lt!==null&&!Q4();)Qv(Lt)}function Qv(t){var e=rw(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,e===null?ew(t):Lt=e,cd.current=null}function ew(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&2048)===0){if(r=lx(r,e,Yi),r!==null){Lt=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Yi&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(r=ux(e),r!==null){r.flags&=2047,Lt=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);Gt===0&&(Gt=5)}function Ui(t){var e=es();return Ji(99,wx.bind(null,t,e)),null}function wx(t,e){do hi();while(Ea!==null);if((Re&48)!==0)throw Error(ge(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ge(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,a=t.expirationTimes;0<o;){var f=31-ai(o),d=1<<f;i[f]=0,s[f]=-1,a[f]=-1,o&=~d}if(Ln!==null&&(n&24)===0&&Ln.has(t)&&Ln.delete(t),t===sr&&(Lt=sr=null,nr=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Re,Re|=32,cd.current=null,Ah=iu,s=Vg(),r0(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(d=a.getSelection&&a.getSelection())&&d.rangeCount!==0){a=d.anchorNode,o=d.anchorOffset,f=d.focusNode,d=d.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var m=0,v=-1,y=-1,w=0,E=0,I=s,O=null;t:for(;;){for(var A;I!==a||o!==0&&I.nodeType!==3||(v=m+o),I!==f||d!==0&&I.nodeType!==3||(y=m+d),I.nodeType===3&&(m+=I.nodeValue.length),(A=I.firstChild)!==null;)O=I,I=A;for(;;){if(I===s)break t;if(O===a&&++w===o&&(v=m),O===f&&++E===d&&(y=m),(A=I.nextSibling)!==null)break;I=O,O=I.parentNode}I=A}a=v===-1||y===-1?null:{start:v,end:y}}else a=null;a=a||{start:0,end:0}}else a=null;Ih={focusedElem:s,selectionRange:a},iu=!1,xa=null,fu=!1,ke=n;do try{_x()}catch(W){if(ke===null)throw Error(ge(330));oi(ke,W),ke=ke.nextEffect}while(ke!==null);xa=null,ke=n;do try{for(s=t;ke!==null;){var F=ke.flags;if(F&16&&ka(ke.stateNode,""),F&128){var Y=ke.alternate;if(Y!==null){var H=Y.ref;H!==null&&(typeof H=="function"?H(null):H.current=null)}}switch(F&1038){case 2:k1(ke),ke.flags&=-3;break;case 6:k1(ke),ke.flags&=-3,Mh(ke.alternate,ke);break;case 1024:ke.flags&=-1025;break;case 1028:ke.flags&=-1025,Mh(ke.alternate,ke);break;case 4:Mh(ke.alternate,ke);break;case 8:a=ke,Gv(s,a);var Z=a.alternate;x1(a),Z!==null&&x1(Z)}ke=ke.nextEffect}}catch(W){if(ke===null)throw Error(ge(330));oi(ke,W),ke=ke.nextEffect}while(ke!==null);if(H=Ih,Y=Vg(),F=H.focusedElem,s=H.selectionRange,Y!==F&&F&&F.ownerDocument&&fv(F.ownerDocument.documentElement,F)){for(s!==null&&r0(F)&&(Y=s.start,H=s.end,H===void 0&&(H=Y),"selectionStart"in F?(F.selectionStart=Y,F.selectionEnd=Math.min(H,F.value.length)):(H=(Y=F.ownerDocument||document)&&Y.defaultView||window,H.getSelection&&(H=H.getSelection(),a=F.textContent.length,Z=Math.min(s.start,a),s=s.end===void 0?Z:Math.min(s.end,a),!H.extend&&Z>s&&(a=s,s=Z,Z=a),a=zg(F,Z),o=zg(F,s),a&&o&&(H.rangeCount!==1||H.anchorNode!==a.node||H.anchorOffset!==a.offset||H.focusNode!==o.node||H.focusOffset!==o.offset)&&(Y=Y.createRange(),Y.setStart(a.node,a.offset),H.removeAllRanges(),Z>s?(H.addRange(Y),H.extend(o.node,o.offset)):(Y.setEnd(o.node,o.offset),H.addRange(Y)))))),Y=[],H=F;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Y.length;F++)H=Y[F],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}iu=!!Ah,Ih=Ah=null,t.current=r,ke=n;do try{for(F=t;ke!==null;){var j=ke.flags;if(j&36&&dx(F,ke.alternate,ke),j&128){Y=void 0;var V=ke.ref;if(V!==null){var S=ke.stateNode;switch(ke.tag){case 5:Y=S;break;default:Y=S}typeof V=="function"?V(Y):V.current=Y}}ke=ke.nextEffect}}catch(W){if(ke===null)throw Error(ge(330));oi(ke,W),ke=ke.nextEffect}while(ke!==null);ke=null,tx(),Re=i}else t.current=r;if(ui)ui=!1,Ea=t,fa=e;else for(ke=n;ke!==null;)e=ke.nextEffect,ke.nextEffect=null,ke.flags&8&&(j=ke,j.sibling=null,j.stateNode=null),ke=e;if(n=t.pendingLanes,n===0&&(_n=null),n===1?t===O0?ba++:(ba=0,O0=t):ba=0,r=r.stateNode,Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(Z0,r,void 0,(r.current.flags&64)===64)}catch{}if(Hr(t,rr()),Cu)throw Cu=!1,t=E0,E0=null,t;return(Re&8)!==0||bn(),null}function _x(){for(;ke!==null;){var t=ke.alternate;fu||xa===null||((ke.flags&8)!==0?Ng(ke,xa)&&(fu=!0):ke.tag===13&&px(t,ke)&&Ng(ke,xa)&&(fu=!0));var e=ke.flags;(e&256)!==0&&hx(t,ke),(e&512)===0||ui||(ui=!0,Ca(97,function(){return hi(),null})),ke=ke.nextEffect}}function hi(){if(fa!==90){var t=97<fa?97:fa;return fa=90,Ji(t,Ex)}return!1}function Sx(t,e){b0.push(e,t),ui||(ui=!0,Ca(97,function(){return hi(),null}))}function tw(t,e){x0.push(e,t),ui||(ui=!0,Ca(97,function(){return hi(),null}))}function Ex(){if(Ea===null)return!1;var t=Ea;if(Ea=null,(Re&48)!==0)throw Error(ge(331));var e=Re;Re|=32;var r=x0;x0=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(f){if(o===null)throw Error(ge(330));oi(o,f)}}for(r=b0,b0=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var a=i.create;i.destroy=a()}catch(f){if(o===null)throw Error(ge(330));oi(o,f)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return Re=e,bn(),!0}function N1(t,e,r){e=ud(r,e),e=$v(t,e,1),ri(t,e),e=Ir(),t=Ju(t,1),t!==null&&(Uu(t,1,e),Hr(t,e))}function oi(t,e){if(t.tag===3)N1(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){N1(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_n===null||!_n.has(n))){t=ud(e,t);var i=Hv(r,t,1);if(ri(r,i),i=Ir(),r=Ju(r,1),r!==null)Uu(r,1,i),Hr(r,i);else if(typeof n.componentDidCatch=="function"&&(_n===null||!_n.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function bx(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ir(),t.pingedLanes|=t.suspendedLanes&r,sr===t&&(nr&r)===r&&(Gt===4||Gt===3&&(nr&62914560)===nr&&500>rr()-hd?Ko(t,0):fd|=r),Hr(t,e)}function xx(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=es()===99?1:2:(Fn===0&&(Fn=is),e=Po(62914560&~Fn),e===0&&(e=4194304))),r=Ir(),t=Ju(t,e),t!==null&&(Uu(t,e,r),Hr(t,r))}var rw;rw=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)rn=!0;else if((r&n)!==0)rn=(t.flags&16384)!==0;else{switch(rn=!1,e.tag){case 3:p1(e),Ch();break;case 5:o1(e);break;case 1:gr(e.type)&&au(e);break;case 4:c0(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;vt(Eu,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return(r&e.child.childLanes)!==0?y1(t,e,r):(vt(gt,gt.current&1),e=Pn(t,e,r),e!==null?e.sibling:null);vt(gt,gt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,(t.flags&64)!==0){if(n)return _1(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vt(gt,gt.current),n)break;return null;case 23:case 24:return e.lanes=0,Ph(t,e,r)}return Pn(t,e,r)}else rn=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Qo(e,ir.current),Go(e,r),i=od(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(n)){var o=!0;au(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,td(e);var s=n.getDerivedStateFromProps;typeof s=="function"&&Ou(e,n,s,t),i.updater=Hu,e.stateNode=i,i._reactInternals=e,u0(e,n,t,r),e=p0(null,e,n,!0,o,r)}else e.tag=0,yr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=kx(i),t=tn(i,t),o){case 0:e=d0(null,e,i,t,r);break e;case 1:e=d1(null,e,i,t,r);break e;case 11:e=f1(null,e,i,t,r);break e;case 14:e=h1(null,e,i,tn(i.type,t),n,r);break e}throw Error(ge(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tn(n,i),d0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tn(n,i),d1(t,e,n,i,r);case 3:if(p1(e),n=e.updateQueue,t===null||n===null)throw Error(ge(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,Tv(t,e),Pa(e,n,null,r),n=e.memoizedState.element,n===i)Ch(),e=Pn(t,e,r);else{if(i=e.stateNode,(o=i.hydrate)&&(Zn=Ho(e.stateNode.containerInfo.firstChild),Cn=e,o=En=!0),o){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)o=t[i],o._workInProgressVersionPrimary=t[i+1],Jo.push(o);for(r=Rv(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else yr(t,e,n,r),Ch();e=e.child}return e;case 5:return o1(e),t===null&&f0(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,o0(n,i)?s=null:o!==null&&o0(n,o)&&(e.flags|=16),zv(t,e),yr(t,e,s,r),e.child;case 6:return t===null&&f0(e),null;case 13:return y1(t,e,r);case 4:return c0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ku(e,null,n,r):yr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tn(n,i),f1(t,e,n,i,r);case 7:return yr(t,e,e.pendingProps,r),e.child;case 8:return yr(t,e,e.pendingProps.children,r),e.child;case 12:return yr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var a=e.type._context;if(vt(Eu,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=Vr(a,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!mr.current){e=Pn(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var f=a.dependencies;if(f!==null){s=a.child;for(var d=f.firstContext;d!==null;){if(d.context===n&&(d.observedBits&o)!==0){a.tag===1&&(d=ti(-1,r&-r),d.tag=2,ri(a,d)),a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),kv(a.return,r),f.lanes|=r;break}d=d.next}}else s=a.tag===10&&a.type===e.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}yr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,n=o.children,Go(e,r),i=$r(i,o.unstable_observedBits),n=n(i),e.flags|=1,yr(t,e,n,r),e.child;case 14:return i=e.type,o=tn(i,e.pendingProps),o=tn(i.type,o),h1(t,e,i,o,n,r);case 15:return Uv(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tn(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,gr(n)?(t=!0,au(e)):t=!1,Go(e,r),Av(e,n,i),u0(e,n,i,r),p0(null,e,n,!0,t,r);case 19:return _1(t,e,r);case 23:return Ph(t,e,r);case 24:return Ph(t,e,r)}throw Error(ge(156,e.tag))};function Ox(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,r,n){return new Ox(t,e,r,n)}function pd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kx(t){if(typeof t=="function")return pd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mu)return 11;if(t===ju)return 14}return 2}function ci(t,e){var r=t.alternate;return r===null?(r=Wr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function hu(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")pd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Jn:return Zo(r.children,i,o,e);case R1:s=8,i|=16;break;case I0:s=8,i|=1;break;case da:return t=Wr(12,r,e,i|8),t.elementType=da,t.type=da,t.lanes=o,t;case pa:return t=Wr(13,r,e,i),t.type=pa,t.elementType=pa,t.lanes=o,t;case du:return t=Wr(19,r,e,i),t.elementType=du,t.lanes=o,t;case L0:return yd(r,i,o,e);case zh:return t=Wr(24,r,e,i),t.elementType=zh,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R0:s=10;break e;case D0:s=9;break e;case Mu:s=11;break e;case ju:s=14;break e;case F0:s=16,n=null;break e;case C0:s=22;break e}throw Error(ge(130,t==null?t:typeof t,""))}return e=Wr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Zo(t,e,r,n){return t=Wr(7,t,n,e),t.lanes=r,t}function yd(t,e,r,n){return t=Wr(23,t,n,e),t.elementType=L0,t.lanes=r,t}function jh(t,e,r){return t=Wr(6,t,null,e),t.lanes=r,t}function Bh(t,e,r){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tx(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=bh(0),this.expirationTimes=bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bh(0),this.mutableSourceEagerHydrationData=null}function Nx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Pu(t,e,r,n){var i=e.current,o=Ir(),s=ni(i);e:if(r){r=r._reactInternals;t:{if(Xi(r)!==r||r.tag!==1)throw Error(ge(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(gr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(ge(171))}if(r.tag===1){var f=r.type;if(gr(f)){r=wv(r,f,a);break e}}r=a}else r=li;return e.context===null?e.context=r:e.pendingContext=r,e=ti(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),ri(i,e),ii(i,s,o),s}function Uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function A1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function md(t,e){A1(t,e),(t=t.alternate)&&A1(t,e)}function Ax(){return null}function gd(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new Tx(t,e,r!=null&&r.hydrate===!0),e=Wr(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,td(e),t[ns]=r.current,pv(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}gd.prototype.render=function(t){Pu(t,this._internalRoot,null,null)};gd.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Pu(null,t,null,function(){e[ns]=null})};function Wa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ix(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new gd(t,0,e?{hydrate:!0}:void 0)}function Yu(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var d=Uh(s);a.call(d)}}Pu(e,s,t,i)}else{if(o=r._reactRootContainer=Ix(r,n),s=o._internalRoot,typeof i=="function"){var f=i;i=function(){var d=Uh(s);f.call(d)}}Kv(function(){Pu(e,s,t,i)})}return Uh(s)}H1=function(t){if(t.tag===13){var e=Ir();ii(t,4,e),md(t,4)}};z0=function(t){if(t.tag===13){var e=Ir();ii(t,67108864,e),md(t,67108864)}};G1=function(t){if(t.tag===13){var e=Ir(),r=ni(t);ii(t,r,e),md(t,r)}};J1=function(t,e){return e()};Zh=function(t,e,r){switch(e){case"input":if(Wh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=qu(n);if(!i)throw Error(ge(90));F1(n),Wh(n,i)}}}break;case"textarea":P1(t,r);break;case"select":e=r.value,e!=null&&Wo(t,!!r.multiple,e,!1)}};j0=Yv;V1=function(t,e,r,n,i){var o=Re;Re|=4;try{return Ji(98,t.bind(null,e,r,n,i))}finally{Re=o,Re===0&&(ss(),bn())}};B0=function(){(Re&49)===0&&(mx(),hi())};W1=function(t,e){var r=Re;Re|=2;try{return t(e)}finally{Re=r,Re===0&&(ss(),bn())}};function nw(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wa(e))throw Error(ge(200));return Nx(t,e,null,r)}var Rx={Events:[Ua,Bo,qu,U1,z1,hi,{current:!1}]},sa={findFiberByHostInstance:Wi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Dx={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$1(t),t===null?null:t.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||Ax,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(aa=__REACT_DEVTOOLS_GLOBAL_HOOK__,!aa.isDisabled&&aa.supportsFiber))try{Z0=aa.inject(Dx),Hi=aa}catch{}var aa;Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rx;Gr.createPortal=nw;Gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ge(188)):Error(ge(268,Object.keys(t)));return t=$1(e),t=t===null?null:t.stateNode,t};Gr.flushSync=function(t,e){var r=Re;if((r&48)!==0)return t(e);Re|=1;try{if(t)return Ji(99,t.bind(null,e))}finally{Re=r,bn()}};Gr.hydrate=function(t,e,r){if(!Wa(e))throw Error(ge(200));return Yu(null,t,e,!0,r)};Gr.render=function(t,e,r){if(!Wa(e))throw Error(ge(200));return Yu(null,t,e,!1,r)};Gr.unmountComponentAtNode=function(t){if(!Wa(t))throw Error(ge(40));return t._reactRootContainer?(Kv(function(){Yu(null,null,t,!1,function(){t._reactRootContainer=null,t[ns]=null})}),!0):!1};Gr.unstable_batchedUpdates=Yv;Gr.unstable_createPortal=function(t,e){return nw(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Gr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Wa(r))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return Yu(t,e,r,!1,n)};Gr.version="17.0.2"});var aw=Oe((iA,sw)=>{"use strict";function ow(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ow)}catch(t){console.error(t)}}ow(),sw.exports=iw()});var qa=Oe(gw=>{var Ux={debug:!1,protocol:"http",host:"localhost",port:8080,socket_protocol:"ws",hotreload:5e3,python:void 0,python_node:7001,startpage:"src/index.html",errpage:"src/other/404.html",certpath:"node_server/ssl/cert.pem",keypath:"node_server/ssl/key.pem",dataserver:"http://localhost:4000",realmapp:"buckleup-ilscy",googleclientid:"406817559914-boi30d05dk9jtj55frgi1dg8gkp6rrj9.apps.googleusercontent.com"};gw.settings=Ux});var ww,_w,vw,Sw=it(()=>{ww=Ct(qa()),vw={log:console.log,gAuth:new Promise(t=>_w=t)};Object.keys(vw).forEach(t=>{window[t]=vw[t]});(function(){if(location.hostname==="localhost"&&location.port!=="4000")return;function e(){gapi.load("auth2",()=>{gapi.auth2.init({client_id:ww.settings.googleclientid,scope:"https://www.googleapis.com/auth/drive"}).then(i=>{_w(()=>i)},i=>{console.log("UNHANDLED"),console.error(i)})})}let r=document.createElement("script");r.type="text/javascript",r.src="https://apis.google.com/js/platform.js",r.onload=e,document.head.appendChild(r)})()});var bw=Oe(Ew=>{"use strict";Object.defineProperty(Ew,"__esModule",{value:!0})});var wd=Oe($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.arrHas=$e.arrLast=$e.arrToBoolDict=$e.arrToIdxDict=$e.arrToDict=$e.arrRemoveValues=$e.arrReplace=$e.arrDeepFlatten=$e.arrFlatten=$e.arrDivide=$e.arrGetByIds=$e.arrRemoveById=$e.arrGen=void 0;var pi=yi(),zx=t=>Array(t).fill(null);$e.arrGen=zx;function Vx(t,e,r="id"){let n=xw(t,r),i=pi.objRemoveKeys(n,e);return pi.objVals(i)}$e.arrRemoveById=Vx;function Wx(t,e,r="id"){let n=Ow(e);return t.filter(i=>n[i[r]])}$e.arrGetByIds=Wx;function qx(t,e){let r=Math.ceil(t.length/e),n=$e.arrGen(r).map(()=>[]);return t.forEach((i,o)=>n[Math.floor(o/e)].push(i)),n}$e.arrDivide=qx;function $x(t){return[].concat.apply([],t)}$e.arrFlatten=$x;var Hx=t=>t.reduce((e,r)=>e.concat(pi.isType(r,"array")?$e.arrDeepFlatten(r):r),[]);$e.arrDeepFlatten=Hx;function Gx(t){let e=[...t];return{all:r=>{let n=[];return t.forEach((i,o)=>pi.equal(r,i)?n[o]=o:null),{with:i=>n.length?(n.forEach(o=>e[o]=i),e):t}},first:r=>{let n=t.findIndex(i=>pi.equal(r,i));return{with:i=>pi.nonValue(n)?t:(e[n]=i,e)}}}}$e.arrReplace=Gx;function Jx(t,e){let r=[...t];return e.forEach(n=>r=r.filter(i=>!pi.equal(i,n))),r}$e.arrRemoveValues=Jx;function xw(t,e){let r={};return t.forEach(n=>r[n[e]]=n),r}$e.arrToDict=xw;function Yx(t){let e={};return t.forEach((r,n)=>e[r]=n+""),e}$e.arrToIdxDict=Yx;function Ow(t){let e={};return t.forEach(r=>e[r]=!0),e}$e.arrToBoolDict=Ow;var Kx=t=>t[t.length-1];$e.arrLast=Kx;function Zx(t,e,r=!1){let n=r?i=>pi.equal(i,e):i=>i===e;return t.findIndex(n)!==-1}$e.arrHas=Zx});var kw=Oe(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.clone=void 0;function _d(t){let e,r,n,i,o,s,a;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t);if(r=Object.keys(t),n=r.length,Array.isArray(t)){for(s=new Array(n),i=0;i<n;i++)o=r[i],e=t[o],typeof e!="object"||e===null?s[o]=e:e instanceof Date?s[o]=new Date(e):s[o]=_d(e);return s}for(a={},i=0;i<n;i++)o=r[i],e=t[o],Object.hasOwnProperty.call(t,o)!==!1&&(typeof e!="object"||e===null?a[o]=e:e instanceof Date?a[o]=new Date(e):a[o]=_d(e));return a}Ku.clone=_d});var Tw=Oe(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.equal=void 0;function Zu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Zu(t[n],e[n]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;for(n of t.entries())if(!Zu(n[1],e.get(n[0])))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!Zu(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}Xu.equal=Zu});var Aw=Oe(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.promiseOut=wt.debounceTimeOut=wt.randomColorHex=wt.uiid=wt.assertType=wt.type=wt.cloneLog=wt.unsubAll=wt.wait=wt.interval=void 0;var jn=yi(),Xx=(t,e,r)=>{if(jn.isType(r,"number")&&r<1)throw Error(`argument "times" can't be less than 1`);let n=0,i=setInterval(()=>{t(n),n++,r&&n>=r&&clearInterval(i)},e);return{stop:()=>clearInterval(i)}};wt.interval=Xx;var Qx=t=>new Promise(e=>setTimeout(()=>e(),t));wt.wait=Qx;var Nw=(t,e="unsubscribe")=>jn.isType(t,"object")&&jn.hasKey(t,e)?t[e]():null;function eO(t,e="unsubscribe"){if(jn.isType(t,"array"))t.forEach(r=>Nw(r,e));else if(jn.isType(t,"object"))jn.objMap(t,({val:r})=>Nw(r,e));else throw Error('argument "objOrArr" must be of type "object" or "array"')}wt.unsubAll=eO;var tO=t=>console.log(jn.clone(t));wt.cloneLog=tO;function rO(t){return typeof t=="object"?Array.isArray(t)?"array":t===null?"null":"object":t!==t?"NaN":typeof t}wt.type=rO;function nO(t,e){jn.isType(e,"array")||(e=[e]);for(let r of e)if(jn.isType(t,r))return;throw Error(`value needs to be of type ${e.join(" || ")}`)}wt.assertType=nO;var iO=()=>{let t=new Date().getTime(),e=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=Math.random()*16;return t>0?(i=(t+i)%16|0,t=Math.floor(t/16)):(i=(e+i)%16|0,e=Math.floor(e/16)),(n==="x"?i:i&3|8).toString(16)})};wt.uiid=iO;var oO=()=>"#"+((1<<24)*Math.random()|0).toString(16);wt.randomColorHex=oO;function sO(){let t=null;return(e,r)=>{t&&clearTimeout(t),t=setTimeout(e,r)}}wt.debounceTimeOut=sO;function aO(){let t,e=new Promise(r=>t=r);return{resolve:t,promise:e}}wt.promiseOut=aO});var Iw=Oe(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.iterate=void 0;var Sd=wd();function lO(t,e,r){let n=(i,o=!1)=>{let s=[];for(let a=0;a<t;a++)if(!e)s.push(i({x:a}));else for(let f=0;f<e;f++)if(!r)s.push(i({x:a,y:f}));else for(let d=0;d<r;d++)s.push(i({x:a,y:f,z:d}));return o?r&&e?Sd.arrDivide(s,e*r).map(f=>Sd.arrDivide(f,r)):e?Sd.arrDivide(s,e):s:s};return{for:i=>{n(i)},map:i=>n(i),nestedMap:i=>n(i,!0)}}Qu.iterate=lO});var Dw=Oe(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.newNumFromRange=Dr.numberWithCommas=Dr.decPlace=Dr.average=Dr.rand=void 0;var Rw=yi(),uO=(t,e)=>Math.floor(Math.random()*(e+1-t))+t;Dr.rand=uO;var cO=t=>t.reduce((e=0,r=0)=>e+r,0)/t.length;Dr.average=cO;var fO=(t,e)=>parseFloat(t.toFixed(e));Dr.decPlace=fO;var hO=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Dr.numberWithCommas=hO;function dO(t,e,r){let n,i=0,o=Rw.isType(t,"array")?Rw.arrToBoolDict(t):{[t]:!0};do if(n=Dr.rand(e,r),i++,i>1e6)throw console.error("Check for infinite loops"),new Error("Looped 1 million times");while(o[n]);return n}Dr.newNumFromRange=dO});var Fw=Oe(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.objPromiseAll=ht.objSortKeys=ht.objResolve=ht.objExtract=ht.objKeyVals=ht.objVals=ht.objKeys=ht.objRemoveKeys=ht.objFilter=ht.objMap=void 0;function pO(t,e){let r={};for(let n in t)r[n]=e({key:n,val:t[n]});return r}ht.objMap=pO;function yO(t,e){let r=Object.assign({},t);for(let n in t)e({key:n,val:t[n]})||delete r[n];return r}ht.objFilter=yO;function mO(t,e){let r=Object.assign({},t);return e.forEach(n=>delete r[n]),r}ht.objRemoveKeys=mO;function ec(t){if(Object.keys)return Object.keys(t);let e=[];for(let r in t)e.push(r);return e}ht.objKeys=ec;var gO=t=>Object.values?Object.values(t):ec(t).map(e=>t[e]);ht.objVals=gO;var vO=t=>ec(t).map(e=>({key:e,val:t[e]}));ht.objKeyVals=vO;function wO(t,e){let r={};return e.forEach(n=>r[n]=t[n]),r}ht.objExtract=wO;var _O=(t,e)=>e.split(".").reduce((r,n)=>r[n],t);ht.objResolve=_O;var SO=(t,e)=>{let r={};return ec(t).sort(e).map(i=>r[i]=t[i]),r};ht.objSortKeys=SO;function EO(t){let e=ht.objKeyVals(t),r=e.length,n={},i=0;return new Promise(o=>e.forEach(({key:s,val:a})=>a.then(f=>{n[s]=f,i++,r===i&&o(n)})))}ht.objPromiseAll=EO});var Cw=Oe(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.minAppend=mi.strRemove=mi.strIncludes=void 0;var bO=(t,e)=>t.indexOf(e)!==-1;mi.strIncludes=bO;var xO=(t,e)=>t.replace(new RegExp(e,"g"),"");mi.strRemove=xO;var OO=(t,e,r="0")=>{if(t=t+"",e<1)throw Error("length can not be less than 1");if(t.length>e)throw Error("item can not exceed length");return(r.repeat(e-1)+t).slice(-e)};mi.minAppend=OO});var Lw=Oe(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.isValidEmail=_t.nonValue=_t.nullOrEmpty=_t.isType=_t.hasKeys=_t.hasKey=_t.equalAny=void 0;var kO=yi(),Pw=yi(),TO=(t,e)=>!!e.find(r=>kO.equal(t,r));_t.equalAny=TO;var NO=(t,e)=>_t.isType(t,"object")&&t.hasOwnProperty(e);_t.hasKey=NO;function AO(t,e){if(!_t.isType(t,"object"))return!1;for(let r of e)if(!t.hasOwnProperty(r))return!1;return!0}_t.hasKeys=AO;var IO=(t,e)=>Pw.type(t)===e;_t.isType=IO;function RO(t){return _t.nonValue(t)?!0:_t.isType(t,"string")||_t.isType(t,"array")?!t.length:_t.isType(t,"object")?!Pw.objVals(t).length:!1}_t.nullOrEmpty=RO;var DO=t=>t==null;_t.nonValue=DO;var FO=t=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t);_t.isValidEmail=FO});var Mw=Oe(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.yearStartEnd=Ee.monthStartEnd=Ee.weekStartEnd=Ee.getDayStartEnd=Ee.wks=Ee.weeks=Ee.dys=Ee.days=Ee.hrs=Ee.hours=Ee.min=Ee.minutes=Ee.sec=Ee.seconds=Ee.msToTime=Ee.msToWks=Ee.msToDys=Ee.msToHrs=Ee.msToMin=Ee.msToSec=Ee.dateTimeToString=Ee.weekTuple=Ee.msTime=void 0;var tc=yi();Ee.msTime={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};Ee.weekTuple=["sun","mon","tue","wed","thu","fri","sat"];function CO(t=new Date){let e=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2),n=("0"+t.getSeconds()).slice(-2),i=("00"+t.getMilliseconds()).slice(-3);return`${e}:${r}:${n}:${i}`}Ee.dateTimeToString=CO;var PO=t=>t/Ee.msTime.s;Ee.msToSec=PO;var LO=t=>t/Ee.msTime.m;Ee.msToMin=LO;var MO=t=>t/Ee.msTime.h;Ee.msToHrs=MO;var jO=t=>t/Ee.msTime.d;Ee.msToDys=jO;var BO=t=>t/Ee.msTime.w;Ee.msToWks=BO;function UO(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);o=o%24;let a=("00"+s).slice(-3),f=("0"+o).slice(-2),d=("0"+i).slice(-2),m=("0"+n).slice(-2),v=("00"+r).slice(-3);return e?{d:s,h:o,m:i,s:n,ms:r}:`${s?a+":":""}${f}:${d}:${m}:${v}`}Ee.msToTime=UO;var zO=t=>t*Ee.msTime.s;Ee.seconds=zO;Ee.sec=Ee.seconds;var VO=t=>t*Ee.msTime.m;Ee.minutes=VO;Ee.min=Ee.minutes;var WO=t=>t*Ee.msTime.h;Ee.hours=WO;Ee.hrs=Ee.hours;var qO=t=>t*Ee.msTime.d;Ee.days=qO;Ee.dys=Ee.days;var $O=t=>t*Ee.msTime.w;Ee.weeks=$O;Ee.wks=Ee.weeks;function HO(t,e="local"){tc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),o=new Date(r,n,i),s=new Date(r,n,i,23,59,59,999);if(e==="unix"){let a=Ee.min(o.getTimezoneOffset());o=new Date(o.getTime()+a),s=new Date(s.getTime()+a)}return{start:o,end:s}}Ee.getDayStartEnd=HO;function GO(t,e="sun",r="local"){tc.isType(t,"number")&&(t=new Date(t));let i=t.getDay()*-1+(e==="mon"?1:0),o=6+i,s=new Date(t.getTime()+Ee.days(i)),a=new Date(t.getTime()+Ee.days(o)),f=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999);if(r==="unix"){let m=Ee.min(f.getTimezoneOffset());f=new Date(f.getTime()+m),d=new Date(d.getTime()+m)}return{start:f,end:d}}Ee.weekStartEnd=GO;function JO(t,e="local"){tc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=new Date(r,n,1),o=new Date(r,n,0,23,59,59,999);if(e==="unix"){let s=Ee.min(i.getTimezoneOffset());i=new Date(i.getTime()+s),o=new Date(o.getTime()+s)}return{start:i,end:o}}Ee.monthStartEnd=JO;function YO(t,e="local"){tc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=new Date(r,0,1),i=new Date(r,12,0,23,59,59,999);if(e==="unix"){let o=Ee.min(n.getTimezoneOffset());n=new Date(n.getTime()+o),i=new Date(i.getTime()+o)}return{start:n,end:i}}Ee.yearStartEnd=YO});var yi=Oe(Yt=>{"use strict";var KO=Yt&&Yt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),on=Yt&&Yt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&KO(e,t,r)};Object.defineProperty(Yt,"__esModule",{value:!0});on(bw(),Yt);on(wd(),Yt);on(kw(),Yt);on(Tw(),Yt);on(Aw(),Yt);on(Iw(),Yt);on(Dw(),Yt);on(Fw(),Yt);on(Cw(),Yt);on(Lw(),Yt);on(Mw(),Yt)});var jw,Bw,Uw,zw=it(()=>{jw=class{constructor(e=!1,r=!1){this.debug=e,this.listeners=[],this.synchronous=r,this.syncInterval="FRAMERATE",this.syncAnim=void 0,r===!0&&this.startSync()}addListener(e=null,r,n=void 0,i=void 0,o=void 0,s=this.debug,a=!0){if(r===void 0){console.error("You must assign an object");return}var f=e;f==null&&(f=Math.floor(Math.random()*1e5)),this.synchronous===!0&&(a=!1);var d={key:f,listener:new Bw(r,n,i,o,s,a)};this.listeners.push(d)}getListener(e){return this.listeners.find((n,i)=>{if(n.key===e)return!0})}hasKey(e){var r=!1;return this.listeners.forEach((n,i)=>{if(n.key===e)return r=!0,!0}),r}getKeyIndices(e){var r=[];return this.listeners.find((n,i)=>{n.key===e&&r.push(i)}),r}onchange(e=null,r=null){if(e==null)this.listeners.forEach((i,o)=>{i.listener.onchange=r});else var n=this.listeners.find((i,o)=>{i.name===e&&(i.listener.onchange=r)})}addFunc=(e=null,r=null,n=!0)=>{var i=null;if(r!==null)if(e==null)this.listeners.forEach((s,a)=>{i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start()});else var o=this.listeners.find((s,a)=>{s.key===e&&(i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start())});return i};getFuncs=(e=void 0)=>{if(e){var r=this.listeners.find((n,i)=>{if(n.key===e)return!0});return r.onchangeFuncs}else return};removeFuncs=(e=null,r=null,n=!1)=>{if(e==null)this.listeners.forEach((o,s)=>{o.listener.removeFuncs(r)});else var i=this.listeners.find((o,s)=>{o.key===e&&(o.listener.removeFuncs(r),(o.listener.onchangeFuncs.length===0||n===!0)&&o.listener.stop())})};stop(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.stop()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.stop()})}start(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.start()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.start()})}startSync(){if(this.synchronous===!1){this.synchronous=!0,this.stop();let e=()=>{this.synchronous===!0&&(this.listeners.forEach(r=>{r.listener.check()}),this.syncInterval==="FRAMERATE"?this.syncAnim=requestAnimationFrame(e):typeof this.syncInterval=="number"&&setTimeout(e,this.syncInterval))};e()}}stopSync(){this.synchronous=!1,this.syncAnim&&cancelAnimationFrame(this.syncAnim)}remove(e=null){if(e==null)this.listeners.forEach(i=>{i.listener.stop()}),this.listeners.splice(0,this.listeners.length);else{var r=[],n=this.listeners.forEach((i,o)=>{i.key===e&&r.push(o)});r.reverse().forEach(i=>{this.listeners[i].listener.stop(),this.listeners.splice(i,1)})}}},Bw=class{constructor(e,r="__ANY__",n=this.onchange,i="FRAMERATE",o=!1,s=!0){this.debug=o,this.onchange=n,this.onchangeFuncs=[],this.object=e,this.propName=r,this.propOld=void 0,this.setListenerRef(r),this.running=s,this.funcs=0,this.interval,i<10?(this.interval=10,console.log("Min recommended interval set: 10ms")):this.interval=i,s===!0&&(typeof window>"u"?setTimeout(()=>{this.check()},60):this.checker=requestAnimationFrame(this.check))}onchange=e=>{console.log(this.propName," changed from: ",this.propOld," to: ",this.object[this.propName])};addFunc=(e=null)=>{let r=0;return e!==null&&(this.onchangeFuncs.push({idx:this.funcs,onchange:e}),r=this.funcs,this.funcs++),r};removeFuncs(e=null){let r=0;e===null?this.onchangeFuncs=[]:this.onchangeFuncs.find((n,i)=>{if(n.idx===e)return r=i,!0})!==void 0&&this.onchangeFuncs.splice(r,1)}onchangeMulti=e=>{[...this.onchangeFuncs].forEach((n,i)=>{this.debug===!0&&console.log(n.onchange),n.onchange(e)})};setListenerRef=e=>{e==="__ANY__"||e===null||e===void 0?this.propOld=JSON.stringifyFast(this.object):Array.isArray(this.object[e])?this.propOld=JSON.stringifyFast(this.object[e].slice(this.object[e].length-20)):typeof this.object[e]=="object"?this.propOld=JSON.stringifyFast(this.object[e]):typeof this.object[e]=="function"?this.propOld=this.object[e].toString():this.propOld=this.object[e],this.debug===!0&&console.log("propname",e,", new assignment: ",this.propOld)};check=()=>{let e=!1;if(this.propName==="__ANY__"||this.propName===null||this.propName===void 0)this.propOld!==JSON.stringifyFast(this.object)&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object),this.setListenerRef(this.propName),e=!0);else if(Array.isArray(this.object[this.propName]))this.propOld!==JSON.stringifyFast(this.object[this.propName].slice(this.object[this.propName].length-20))&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);else if(typeof this.object[this.propName]=="object"){let r=JSON.stringifyFast(this.object[this.propName]);this.propOld!==r&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0)}else typeof this.object[this.propName]=="function"?this.propOld!==this.object[this.propName].toString()&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName].toString()),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName].toString()),this.setListenerRef(this.propName),e=!0):this.object[this.propName]!==this.propOld&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);return this.running===!0&&(this.debug===!0&&console.log("checking",this.object,this.propName),this.interval==="FRAMERATE"?typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check):setTimeout(()=>{this.check()},this.interval)),e};start(){this.running=!0,typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check)}stop(){this.running=!1,cancelAnimationFrame(this.checker)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var f=e.length-1;if(e[f]){var d=e[f];if(typeof d=="object")if(d[s]===a||f===0)r.push(s),e.push(a.pushed);else for(;f-->=0;){if(d=e[f],typeof d=="object"&&d[s]===a){f+=2,e.length=f,r.length=f,--f,e[f]=a,r[f]=s;break}f--}}}function o(s,a){let f;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let m=t.get(a);if(m)return"[Circular Reference]"+m;if(t.set(a,r.join(".")),d==="Array")a.length>20?f=a.slice(a.length-20):f=a;else if(d.includes("Set"))f=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")f="instanceof_"+d;else if(d==="Object"){let v={};for(let y in a)if(a[y]==null)v[y]=a[y];else if(Array.isArray(a[y]))a[y].length>20?v[y]=a[y].slice(a[y].length-20):v[y]=a[y];else if(a[y].constructor.name==="Object"){v[y]={};for(let w in a[y])if(Array.isArray(a[y][w]))a[y][w].length>20?v[y][w]=a[y][w].slice(a[y][w].length-20):v[y][w]=a[y][w];else if(a[y][w]!=null){let E=a[y][w].constructor.name;E.includes("Set")?v[y][w]=Array.from(a[y][w]):E!=="Number"&&E!=="String"&&E!=="Boolean"?v[y][w]="instanceof_"+E:v[y][w]=a[y][w]}else v[y][w]=a[y][w]}else{let w=a[y].constructor.name;w.includes("Set")?v[y]=Array.from(a[y]):w!=="Number"&&w!=="String"&&w!=="Boolean"?v[y]="instanceof_"+w:v[y]=a[y]}f=v}else f=a}else f=a;return f}return function(a,f){e.push(a);let d=JSON.stringify(a,o,f);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var f=e.length-1,d=e[f];if(d[s]===a||f===0)r.push(s),e.push(a);else for(;f-->=0;)if(d=e[f],d[s]===a){f+=2,e.length=f,r.length=f,--f,e[f]=a,r[f]=s;break}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let f=t.get(a);if(f)return"[Circular Reference]"+f;t.set(a,r.join("."))}return a}return function(a,f){try{return e.push(a),JSON.stringify(a,o,f)}finally{n()}}}());Uw=jw});var rc,Vw,Ed=it(()=>{zw();rc=class{constructor(e={},r="FRAMERATE",n=!0){this.data=e,this.interval=r,this.pushToState={},this.pushRecord={pushed:[]},this.pushCallbacks={},this.triggers={},this.prev={},this.listener=new Uw,this.defaultStartListenerEventLoop=n}subscribe(e,r,n=this.defaultStartListenerEventLoop){if(e&&e!=="state")if(this.data[e]===void 0)this.addToState(e,null,r,n);else return this.addSecondaryKeyResponse(e,r,void 0,n);else return this.addSecondaryKeyResponse(e,r,void 0,n)}subscribeOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribe(e,n)};n=this.subscribe(e,i)}unsubscribe(e,r=null){r!==null?this.removeSecondaryKeyResponse(e,r,!0):console.error("Specify a subcription function index")}unsubscribeAll(e){this.unsubscribeAllSequential(e),this.unsubscribeAllTriggers(e),this.clearAllKeyResponses(e),this.data[e]&&delete this.data[e],this.listener.hasKey("pushToState")&&this.setSequentialState({stateRemoved:e})}setInterval(e="FRAMERATE"){this.interval=e,this.listener.listeners.forEach((r,n)=>{r.interval=this.interval})}updateState(e,r){this.data[e]==null?this.addToState(e,r):this.data[e]=r}setupSynchronousUpdates=()=>{if(!this.listener.hasKey("pushToState")){let e=()=>{if(Object.keys(this.pushToState).length>0){Object.assign(this.data,this.pushToState);for(let r of Object.getOwnPropertyNames(this.pushToState))delete this.pushToState[r]}};this.listener.addListener("pushToState",this.pushToState,"__ANY__",e,this.interval),this.addToState("pushRecord",this.pushRecord,r=>{let n=r.pushed.length;for(let i=0;i<n;i++){let o=r.pushed[i];this.pushCallbacks.state&&this.pushCallbacks.state.forEach(s=>{s.onchange(o)});for(let s in o)this.pushCallbacks[s]&&this.pushCallbacks[s].forEach(a=>{typeof a=="object"&&a.onchange(o[s])})}this.pushRecord.pushed.splice(0,n)})}};addToState(e,r,n=null,i=this.defaultStartListenerEventLoop,o=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&this.setupSynchronousUpdates(),this.data[e]=r,this.setSequentialState({stateAdded:e}),n!==null)return this.addSecondaryKeyResponse(e,n,o,i)}get(e){return this.data[e]}getState(){return JSON.parse(JSON.stringifyFast(this.data))}setState(e={},r=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&(this.setupSynchronousUpdates(),this.pushRecord.pushed.push(JSON.parse(JSON.stringifyWithCircularRefs(e)))),e.stateUpdateTimeStamp=Date.now(),r){for(let n in e)if(n in this.pushToState){if(Array.isArray(this.pushToState[n])&&Array.isArray(e[n]))e[n]=this.pushToState[n].push(...e[n]);else if(typeof this.pushToState[n]=="object"&&typeof e[n]=="object"){for(let i in e[n])if(this.pushToState[n][i]){if(Array.isArray(this.pushToState[n][i])&&Array.isArray(e[n][i]))e[n][i]=this.pushToState[n][i].push(...e[n][i]);else if(typeof this.pushToState[n][i]=="object"&&typeof e[n][i]=="object"){for(let o in e[n][i])if(this.pushToState[n][i][o])Array.isArray(this.pushToState[n][i][o])&&Array.isArray(e[n][i][o])&&(e[n][i][o]=this.pushToState[n][i][o].push(...e[n][i][o]));else if(typeof this.pushToState[n][i][o]=="object"&&typeof e[n][i][o]=="object")for(let s in e[n][i][o])this.pushToState[n][i][o][s]&&Array.isArray(this.pushToState[n][i][o][s])&&Array.isArray(e[n][i][o][s])&&(e[n][i][o][s]=this.pushToState[n][i][o][s].push(...e[n][i][o][s]))}}}}}if(Object.assign(this.pushToState,e),Object.keys(this.triggers).length>0){this.triggers.state&&this.triggers.state.forEach(n=>{n.onchange(this.data)});for(let n of Object.getOwnPropertyNames(this.triggers))n in this.pushToState&&(this.data[n]=this.pushToState[n],delete this.pushToState[n],this.triggers[n].forEach(i=>{i.onchange(this.data[n])}))}return this.pushToState}subscribeTrigger(e=void 0,r=n=>{}){if(e){this.triggers[e]||(this.triggers[e]=[]);let n=this.triggers[e].length;return this.triggers[e].push({idx:n,onchange:r}),this.triggers[e].length-1}else return}subscribeTriggerOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeTrigger(e,n)};n=this.subscribeTrigger(e,i)}unsubscribeTrigger(e=void 0,r=0){let n,i=this.triggers[e];i&&i.find(s=>{if(s.idx===r)return!0})&&i.splice(n,1)}unsubscribeAllTriggers(e){e&&this.triggers[e]&&delete this.triggers[e]}setSequentialState(e={}){this.listener.hasKey("pushToState")||this.setupSynchronousUpdates(),e.stateUpdateTimeStamp=Date.now(),this.pushRecord.pushed.push(JSON.parse(JSON.stringify(e)))}subscribeSequential(e=void 0,r=void 0){if(e)if(this.data[e]===void 0&&e!=="state"&&this.addToState(e,null,void 0),this.pushCallbacks[e]||(this.pushCallbacks[e]=[]),r){let n=this.pushCallbacks[e].length;return this.pushCallbacks[e].push({idx:n,onchange:r}),this.pushCallbacks[e].length-1}else return;else return}subscribeSequentialOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeSequential(e,n)};n=this.subscribeSequential(e,i)}unsubscribeSequential(e=void 0,r=0){e&&this.pushCallbacks[e]&&this.pushCallbacks[e].find((n,i)=>{if(n.idx===r)return this.pushCallbacks[e].splice(i,1),!0})}unsubscribeAllSequential(e){e&&this.pushCallbacks[e]&&this.pushCallbacks[e]&&delete this.pushCallbacks[e]}setPrimaryKeyResponse(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop){if(r!==null)if(this.listener.hasKey(e))this.listener.onchange(e,r);else if(e!=null&&e!=="state")this.listener.addListener(e,this.data,e,r,this.data.stateUpdateInterval,n,i);else{if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}}addSecondaryKeyResponse=(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop)=>{if(r!=null){if(this.listener.hasKey(e))return this.listener.addFunc(e,r);if(e!=null&&e!=="state")return this.listener.addListener(e,this.data,e,()=>{},this.data.stateUpdateInterval,n,i),this.listener.addFunc(e,r);if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}};removeSecondaryKeyResponse(e=null,r=null,n=!0){e!==null?this.listener.hasKey(e)?this.listener.removeFuncs(e,r,n):console.error("key does not exist"):console.error("provide key")}clearAllKeyResponses(e=null){e===null?this.listener.remove(null):this.listener.hasKey(e)&&this.listener.remove(e)}getKeySubCallbacks(e){return this.listener.getFuncs(e)}removeState=this.unsubscribeAll;runSynchronousListeners(){this.defaultStartListenerEventLoop=!1,this.listener.startSync()}stop(e=null){this.listener.stop(e)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var f=e.length-1;if(e[f]){var d=e[f];if(typeof d=="object")if(d[s]===a||f===0)r.push(s),e.push(a.pushed);else for(;f-->=0;){if(d=e[f],typeof d=="object"&&d[s]===a){f+=2,e.length=f,r.length=f,--f,e[f]=a,r[f]=s;break}f++}}}function o(s,a){let f;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let m=t.get(a);if(m)return"[Circular Reference]"+m;if(t.set(a,r.join(".")),d==="Array")a.length>20?f=a.slice(a.length-20):f=a;else if(d.includes("Set"))f=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")f="instanceof_"+d;else if(d==="Object"){let v={};for(let y in a)if(a[y]==null)v[y]=a[y];else if(Array.isArray(a[y]))a[y].length>20?v[y]=a[y].slice(a[y].length-20):v[y]=a[y];else if(a[y].constructor.name==="Object"){v[y]={};for(let w in a[y])if(Array.isArray(a[y][w]))a[y][w].length>20?v[y][w]=a[y][w].slice(a[y][w].length-20):v[y][w]=a[y][w];else if(a[y][w]!=null){let E=a[y][w].constructor.name;E.includes("Set")?v[y][w]=Array.from(a[y][w]):E!=="Number"&&E!=="String"&&E!=="Boolean"?v[y][w]="instanceof_"+E:v[y][w]=a[y][w]}else v[y][w]=a[y][w]}else{let w=a[y].constructor.name;w.includes("Set")?v[y]=Array.from(a[y]):w!=="Number"&&w!=="String"&&w!=="Boolean"?v[y]="instanceof_"+w:v[y]=a[y]}f=v}else f=a}else f=a;return f}return function(a,f){e.push(a);let d=JSON.stringify(a,o,f);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var f=e.length-1,d=e[f];if(typeof d=="object")if(d[s]===a||f===0)r.push(s),e.push(a.pushed);else for(;f-->=0;){if(d=e[f],typeof d=="object"&&d[s]===a){f+=2,e.length=f,r.length=f,--f,e[f]=a,r[f]=s;break}f--}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let f=t.get(a);if(f)return"[Circular Reference]"+f;t.set(a,r.join("."))}return a}return function(a,f){try{return e.push(a),JSON.stringify(a,o,f)}finally{n()}}}());Vw=rc});async function qw(t="sessionName",e="data",r=0,n=5120,i=o=>{}){return t!=""?new Promise(async o=>{Ze.open("/"+e+"/"+t,"r",(s,a)=>{if(s)throw s;Ze.read(a,n,r,"utf-8",(f,d,m)=>{if(f)throw f;if(m!==0){let v=d.toString();Ze.close(a,()=>{i(v,t),o(v)})}else o(void 0)})})}):void console.error("Path name is not defined")}function kd(t=e=>{}){window.gapi.client.drive.files.list({q:"name='Brainsatplay_Data' and mimeType='application/vnd.google-apps.folder'"}).then(e=>{e.result.files.length===0&&this.createDriveFolder(),t&&t(e.result)})}function Gw(t=e=>{}){kd(e=>{window.gapi.client.drive.files.list({q:`'${e.files[0].id}' in parents`,pageSize:10,fields:"nextPageToken, files(id, name)"}).then(r=>{var n=r.result.files;n&&n.length>0&&t(n)})})}function Td(t){return!!t.match(Td.regex)}var $a,Ww,PA,Ha,nc,Ze,bd,xd,$w,Hw,ls,Od,eo,LA,MA,Yw,Kw,Zw,ZO,Jw,jA,Xw=it(()=>{$a=class{constructor(e=this.onOpen,r=null,n=null){this.onOpen=e,this.notes=[{idx:0,text:"comment"}],r!==null&&document.getElementById(r).addEventListener("click",this.saveCSV),n!==null&&document.getElementById(n).addEventListener("click",this.openCSV)}processArraysForCSV(e=["1|2|3","3|2|1"],r="|",n="a,b,c",i=!1){let o=n+`
`,s=0;return e.forEach((a,f)=>{e[f]==="string"&&r!==","?o+=a.split(r).join(","):csvData+=a.join(","),i===!0&&this.notes[s].idx===f&&(a+=this.notes[s].text,s++),a.indexOf(`
`)<0&&(o+=`
`)}),o}static saveCSV(e=`a,b,c
1,2,3
3,2,1
`,r=new Date().toISOString()){var n=document.createElement("a");n.href="data:text/csv;charset=utf-8,"+encodeURI(e),n.target="_blank",n.download=r!==""?r+".csv":Date().toISOString()+".csv",n.click()}static openCSV(e=",",r=(n,i,o)=>o){var n=document.createElement("input");n.accept=".csv",n.type="file",n.onchange=i=>{var o=i.target.files[0],s=new FileReader;s.onload=a=>{var f=a.target.result.split(`
`);let d=[];var m=[];f.pop(),f.forEach((v,y)=>{if(y==0)d=v.split(e);else{var w=v.split(e);m.push(w)}}),r(m,d,n.value),n.value=""},s.readAsText(o)},n.click()}static openCSVRaw(e=(r,n)=>n){var r=document.createElement("input");r.accept=".csv",r.type="file",r.onchange=n=>{var i=n.target.files[0],o=new FileReader;o.onload=s=>{var a=s.target.result;e(a,r.value),r.value=""},o.readAsText(i)},r.click()}onOpen(e=[],r=[]){console.log("CSV Opened!",r,e)}},PA=Object.freeze({__proto__:null,CSV:$a,parseCSVData:(t,e,r,n=!0,i=(o,s,a)=>{let f={filename:a,head:s},d=s;typeof s=="string"&&(d=s.split(","));for(let m=0;m<o.length;m++){let v=o[m].split(",");for(let y=0;y<v.length;y++)f[d[y]]||f[d[y]],f[d[y]]=v[y]}return f})=>{let o=t.split(`
`);return o.shift(),n===!1&&o.pop(),i(o,e,r)},processDataForCSV:(t={})=>{let e="";typeof t.data[0]!="object"||Array.isArray(t.data[0])||(t.data[0].x?e="x,":t.data[0].timestamp&&(e="timestamp,localtime,"));let r=0,n={};t.data.forEach((s,a)=>{if(Array.isArray(s))for(let f=0;f<s.length;f++)n[f]||(n[f]=""),Array.isArray(s[f])?(f===0&&(e[r]+=t.header[r]+new Array(s[f].length-1).fill("").join(",")),n[f]+=s[f].join(",")+",",r+=s[f].length):(f===0&&(e[r]+=t.header[r]+","),n[f]+=s[f]+",",r++);else if(typeof s=="object"){let f;s.x?f=s.x:s.timestamp&&(f=s.timestamp);for(let d=0;d<f.length;d++){n[f[d]]||(n[f[d]]=f[d]+","),s.timestamp&&(n[f[d]]+=toISOLocal(s.timestamp[d])+",");for(let m in s)m!=="x"&&(n[f[d]]||(n[f[d]]=""),Array.isArray(s[m][d])?(d===0&&(e[r]+=t.header[r]+Array(s[m][d].length-1).fill("").join(",")),n[f[d]]+=s[m][d].join(",")+",",r+=s[m][d].length):(d===0&&(e[r]+=t.header[r]+","),n[f[d]]+=s[m][d]+",",r++))}}}),e.splice(e.length-1,1),e+=`
`;let i="";for(let s in n)n[s].splice(n[s].length-1,1),i+=n[s]+`
`;let o={filename:t.filename,header:e,body:i};return t.save&&$a.saveCSV(e+i,t.filename),t.write&&fs.exists(t.filename,s=>{s?appendFile(t.filename,i,t.dir):appendFile(t.filename,e+i,t.dir)}),o}}),Ha=(typeof globalThis<"u"||typeof window<"u"||(typeof global<"u"?global:typeof self<"u"),{exports:{}});Ww=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=t,r.c=e,r.p="",r(0)}([function(t,e,r){(function(n,i,o,s){Object.defineProperty(e,"__esModule",{value:!0});var a,f=r(2),d=r(9);(function(c){c[c.EPERM=1]="EPERM",c[c.ENOENT=2]="ENOENT",c[c.EIO=5]="EIO",c[c.EBADF=9]="EBADF",c[c.EACCES=13]="EACCES",c[c.EBUSY=16]="EBUSY",c[c.EEXIST=17]="EEXIST",c[c.ENOTDIR=20]="ENOTDIR",c[c.EISDIR=21]="EISDIR",c[c.EINVAL=22]="EINVAL",c[c.EFBIG=27]="EFBIG",c[c.ENOSPC=28]="ENOSPC",c[c.EROFS=30]="EROFS",c[c.ENOTEMPTY=39]="ENOTEMPTY",c[c.ENOTSUP=95]="ENOTSUP"})(a||(a={}));var m={};m[a.EPERM]="Operation not permitted.",m[a.ENOENT]="No such file or directory.",m[a.EIO]="Input/output error.",m[a.EBADF]="Bad file descriptor.",m[a.EACCES]="Permission denied.",m[a.EBUSY]="Resource busy or locked.",m[a.EEXIST]="File exists.",m[a.ENOTDIR]="File is not a directory.",m[a.EISDIR]="File is a directory.",m[a.EINVAL]="Invalid argument.",m[a.EFBIG]="File is too big.",m[a.ENOSPC]="No space left on disk.",m[a.EROFS]="Cannot modify a read-only file system.",m[a.ENOTEMPTY]="Directory is not empty.",m[a.ENOTSUP]="Operation is not supported.";var v,y=function(c){function u(l,h,p){h===void 0&&(h=m[l]),c.call(this,h),this.syscall="",this.errno=l,this.code=a[l],this.path=p,this.stack=new c().stack,this.message="Error: "+this.code+": "+h+(this.path?", '"+this.path+"'":"")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.fromJSON=function(l){var h=new u(0);return h.errno=l.errno,h.code=l.code,h.path=l.path,h.stack=l.stack,h.message=l.message,h},u.fromBuffer=function(l,h){return h===void 0&&(h=0),u.fromJSON(JSON.parse(l.toString("utf8",h+4,h+4+l.readUInt32LE(h))))},u.FileError=function(l,h){return new u(l,m[l],h)},u.ENOENT=function(l){return this.FileError(a.ENOENT,l)},u.EEXIST=function(l){return this.FileError(a.EEXIST,l)},u.EISDIR=function(l){return this.FileError(a.EISDIR,l)},u.ENOTDIR=function(l){return this.FileError(a.ENOTDIR,l)},u.EPERM=function(l){return this.FileError(a.EPERM,l)},u.ENOTEMPTY=function(l){return this.FileError(a.ENOTEMPTY,l)},u.prototype.toString=function(){return this.message},u.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},u.prototype.writeToBuffer=function(l,h){l===void 0&&(l=n.alloc(this.bufferSize())),h===void 0&&(h=0);var p=l.write(JSON.stringify(this.toJSON()),h+4);return l.writeUInt32LE(p,h),l},u.prototype.bufferSize=function(){return 4+n.byteLength(JSON.stringify(this.toJSON()))},u}(Error),w=Object.freeze({get ErrorCode(){return a},ErrorStrings:m,ApiError:y});(function(c){c[c.NOP=0]="NOP",c[c.THROW_EXCEPTION=1]="THROW_EXCEPTION",c[c.TRUNCATE_FILE=2]="TRUNCATE_FILE",c[c.CREATE_FILE=3]="CREATE_FILE"})(v||(v={}));var E,I=function c(u){if(this.flagStr=u,c.validFlagStrs.indexOf(u)<0)throw new y(a.EINVAL,"Invalid flag: "+u)};I.getFileFlag=function(c){return I.flagCache.hasOwnProperty(c)?I.flagCache[c]:I.flagCache[c]=new I(c)},I.prototype.getFlagString=function(){return this.flagStr},I.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},I.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},I.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},I.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},I.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},I.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},I.prototype.pathExistsAction=function(){return this.isExclusive()?v.THROW_EXCEPTION:this.isTruncating()?v.TRUNCATE_FILE:v.NOP},I.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?v.CREATE_FILE:v.THROW_EXCEPTION},I.flagCache={},I.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"],function(c){c[c.FILE=32768]="FILE",c[c.DIRECTORY=16384]="DIRECTORY",c[c.SYMLINK=40960]="SYMLINK"}(E||(E={}));var O=function(c,u,l,h,p,g){if(h===void 0&&(h=new Date),p===void 0&&(p=new Date),g===void 0&&(g=new Date),this.size=u,this.atime=h,this.mtime=p,this.ctime=g,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,l)this.mode=l;else switch(c){case E.FILE:this.mode=420;break;case E.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(u/512),this.mode<4096&&(this.mode|=c)};O.fromBuffer=function(c){var u=c.readUInt32LE(0),l=c.readUInt32LE(4),h=c.readDoubleLE(8),p=c.readDoubleLE(16),g=c.readDoubleLE(24);return new O(61440&l,u,4095&l,new Date(h),new Date(p),new Date(g))},O.prototype.toBuffer=function(){var c=n.alloc(32);return c.writeUInt32LE(this.size,0),c.writeUInt32LE(this.mode,4),c.writeDoubleLE(this.atime.getTime(),8),c.writeDoubleLE(this.mtime.getTime(),16),c.writeDoubleLE(this.ctime.getTime(),24),c},O.prototype.clone=function(){return new O(61440&this.mode,this.size,4095&this.mode,this.atime,this.mtime,this.ctime)},O.prototype.isFile=function(){return(61440&this.mode)===E.FILE},O.prototype.isDirectory=function(){return(61440&this.mode)===E.DIRECTORY},O.prototype.isSymbolicLink=function(){return(61440&this.mode)===E.SYMLINK},O.prototype.chmod=function(c){this.mode=61440&this.mode|c},O.prototype.isSocket=function(){return!1},O.prototype.isBlockDevice=function(){return!1},O.prototype.isCharacterDevice=function(){return!1},O.prototype.isFIFO=function(){return!1};var A=function(c,u){return c};function F(c){if(c)return c;throw new y(a.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Y(c,u){switch(typeof c){case"number":return c;case"string":var l=parseInt(c,8);return isNaN(l)?u:l;default:return u}}function H(c){if(c instanceof Date)return c;if(typeof c=="number")return new Date(1e3*c);throw new y(a.EINVAL,"Invalid time.")}function Z(c){if(c.indexOf("\0")>=0)throw new y(a.EINVAL,"Path must be a string without null bytes.");if(c==="")throw new y(a.EINVAL,"Path must not be empty.");return d.resolve(c)}function j(c,u,l,h){switch(typeof c){case"object":return{encoding:c.encoding!==void 0?c.encoding:u,flag:c.flag!==void 0?c.flag:l,mode:Y(c.mode,h)};case"string":return{encoding:c,flag:l,mode:h};default:return{encoding:u,flag:l,mode:h}}}function V(){}var S=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};S.prototype.initialize=function(c){if(!c.constructor.isAvailable())throw new y(a.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=c},S.prototype._toUnixTimestamp=function(c){if(typeof c=="number")return c;if(c instanceof Date)return c.getTime()/1e3;throw new Error("Cannot parse time: "+c)},S.prototype.getRootFS=function(){return this.root?this.root:null},S.prototype.rename=function(c,u,l){l===void 0&&(l=V);var h=A(l,1);try{F(this.root).rename(Z(c),Z(u),h)}catch(p){h(p)}},S.prototype.renameSync=function(c,u){F(this.root).renameSync(Z(c),Z(u))},S.prototype.exists=function(c,u){u===void 0&&(u=V);var l=A(u,1);try{return F(this.root).exists(Z(c),l)}catch{return l(!1)}},S.prototype.existsSync=function(c){try{return F(this.root).existsSync(Z(c))}catch{return!1}},S.prototype.stat=function(c,u){u===void 0&&(u=V);var l=A(u,2);try{return F(this.root).stat(Z(c),!1,l)}catch(h){return l(h)}},S.prototype.statSync=function(c){return F(this.root).statSync(Z(c),!1)},S.prototype.lstat=function(c,u){u===void 0&&(u=V);var l=A(u,2);try{return F(this.root).stat(Z(c),!0,l)}catch(h){return l(h)}},S.prototype.lstatSync=function(c){return F(this.root).statSync(Z(c),!0)},S.prototype.truncate=function(c,u,l){u===void 0&&(u=0),l===void 0&&(l=V);var h=0;typeof u=="function"?l=u:typeof u=="number"&&(h=u);var p=A(l,1);try{if(h<0)throw new y(a.EINVAL);return F(this.root).truncate(Z(c),h,p)}catch(g){return p(g)}},S.prototype.truncateSync=function(c,u){if(u===void 0&&(u=0),u<0)throw new y(a.EINVAL);return F(this.root).truncateSync(Z(c),u)},S.prototype.unlink=function(c,u){u===void 0&&(u=V);var l=A(u,1);try{return F(this.root).unlink(Z(c),l)}catch(h){return l(h)}},S.prototype.unlinkSync=function(c){return F(this.root).unlinkSync(Z(c))},S.prototype.open=function(c,u,l,h){var p=this;h===void 0&&(h=V);var g=Y(l,420),_=A(h=typeof l=="function"?l:h,2);try{F(this.root).open(Z(c),I.getFileFlag(u),g,function(N,P){P?_(N,p.getFdForFile(P)):_(N)})}catch(N){_(N)}},S.prototype.openSync=function(c,u,l){return l===void 0&&(l=420),this.getFdForFile(F(this.root).openSync(Z(c),I.getFileFlag(u),Y(l,420)))},S.prototype.readFile=function(c,u,l){u===void 0&&(u={}),l===void 0&&(l=V);var h=j(u,null,"r",null),p=A(l=typeof u=="function"?u:l,2);try{var g=I.getFileFlag(h.flag);return g.isReadable()?F(this.root).readFile(Z(c),h.encoding,g,p):p(new y(a.EINVAL,"Flag passed to readFile must allow for reading."))}catch(_){return p(_)}},S.prototype.readFileSync=function(c,u){u===void 0&&(u={});var l=j(u,null,"r",null),h=I.getFileFlag(l.flag);if(!h.isReadable())throw new y(a.EINVAL,"Flag passed to readFile must allow for reading.");return F(this.root).readFileSync(Z(c),l.encoding,h)},S.prototype.writeFile=function(c,u,l,h){l===void 0&&(l={}),h===void 0&&(h=V);var p=j(l,"utf8","w",420),g=A(h=typeof l=="function"?l:h,1);try{var _=I.getFileFlag(p.flag);return _.isWriteable()?F(this.root).writeFile(Z(c),u,p.encoding,_,p.mode,g):g(new y(a.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(N){return g(N)}},S.prototype.writeFileSync=function(c,u,l){var h=j(l,"utf8","w",420),p=I.getFileFlag(h.flag);if(!p.isWriteable())throw new y(a.EINVAL,"Flag passed to writeFile must allow for writing.");return F(this.root).writeFileSync(Z(c),u,h.encoding,p,h.mode)},S.prototype.appendFile=function(c,u,l,h){h===void 0&&(h=V);var p=j(l,"utf8","a",420),g=A(h=typeof l=="function"?l:h,1);try{var _=I.getFileFlag(p.flag);if(!_.isAppendable())return g(new y(a.EINVAL,"Flag passed to appendFile must allow for appending."));F(this.root).appendFile(Z(c),u,p.encoding,_,p.mode,g)}catch(N){g(N)}},S.prototype.appendFileSync=function(c,u,l){var h=j(l,"utf8","a",420),p=I.getFileFlag(h.flag);if(!p.isAppendable())throw new y(a.EINVAL,"Flag passed to appendFile must allow for appending.");return F(this.root).appendFileSync(Z(c),u,h.encoding,p,h.mode)},S.prototype.fstat=function(c,u){u===void 0&&(u=V);var l=A(u,2);try{this.fd2file(c).stat(l)}catch(h){l(h)}},S.prototype.fstatSync=function(c){return this.fd2file(c).statSync()},S.prototype.close=function(c,u){var l=this;u===void 0&&(u=V);var h=A(u,1);try{this.fd2file(c).close(function(p){p||l.closeFd(c),h(p)})}catch(p){h(p)}},S.prototype.closeSync=function(c){this.fd2file(c).closeSync(),this.closeFd(c)},S.prototype.ftruncate=function(c,u,l){l===void 0&&(l=V);var h=typeof u=="number"?u:0,p=A(l=typeof u=="function"?u:l,1);try{var g=this.fd2file(c);if(h<0)throw new y(a.EINVAL);g.truncate(h,p)}catch(_){p(_)}},S.prototype.ftruncateSync=function(c,u){u===void 0&&(u=0);var l=this.fd2file(c);if(u<0)throw new y(a.EINVAL);l.truncateSync(u)},S.prototype.fsync=function(c,u){u===void 0&&(u=V);var l=A(u,1);try{this.fd2file(c).sync(l)}catch(h){l(h)}},S.prototype.fsyncSync=function(c){this.fd2file(c).syncSync()},S.prototype.fdatasync=function(c,u){u===void 0&&(u=V);var l=A(u,1);try{this.fd2file(c).datasync(l)}catch(h){l(h)}},S.prototype.fdatasyncSync=function(c){this.fd2file(c).datasyncSync()},S.prototype.write=function(c,u,l,h,p,g){g===void 0&&(g=V);var _,N,P,q=null;if(typeof u=="string"){var Q="utf8";switch(typeof l){case"function":g=l;break;case"number":q=l,Q=typeof h=="string"?h:"utf8",g=typeof p=="function"?p:g;break;default:return(g=typeof h=="function"?h:typeof p=="function"?p:g)(new y(a.EINVAL,"Invalid arguments."))}N=0,P=(_=n.from(u,Q)).length}else _=u,N=l,P=h,q=typeof p=="number"?p:null,g=typeof p=="function"?p:g;var ce=A(g,3);try{var pe=this.fd2file(c);q==null&&(q=pe.getPos()),pe.write(_,N,P,q,ce)}catch(ve){ce(ve)}},S.prototype.writeSync=function(c,u,l,h,p){var g,_,N,P=0;if(typeof u=="string"){N=typeof l=="number"?l:null;var q=typeof h=="string"?h:"utf8";P=0,_=(g=n.from(u,q)).length}else g=u,P=l,_=h,N=typeof p=="number"?p:null;var Q=this.fd2file(c);return N==null&&(N=Q.getPos()),Q.writeSync(g,P,_,N)},S.prototype.read=function(c,u,l,h,p,g){var _,N,P,q,Q;if(g===void 0&&(g=V),typeof u=="number"){P=u,_=l;var ce=h;g=typeof p=="function"?p:g,N=0,q=n.alloc(P),Q=A(function(ve,we,Ne){if(ve)return g(ve);g(ve,Ne.toString(ce),we)},3)}else q=u,N=l,P=h,_=p,Q=A(g,3);try{var pe=this.fd2file(c);_==null&&(_=pe.getPos()),pe.read(q,N,P,_,Q)}catch(ve){Q(ve)}},S.prototype.readSync=function(c,u,l,h,p){var g,_,N,P,q=!1,Q="utf8";typeof u=="number"?(N=u,P=l,Q=h,_=0,g=n.alloc(N),q=!0):(g=u,_=l,N=h,P=p);var ce=this.fd2file(c);P==null&&(P=ce.getPos());var pe=ce.readSync(g,_,N,P);return q?[g.toString(Q),pe]:pe},S.prototype.fchown=function(c,u,l,h){h===void 0&&(h=V);var p=A(h,1);try{this.fd2file(c).chown(u,l,p)}catch(g){p(g)}},S.prototype.fchownSync=function(c,u,l){this.fd2file(c).chownSync(u,l)},S.prototype.fchmod=function(c,u,l){var h=A(l,1);try{var p=typeof u=="string"?parseInt(u,8):u;this.fd2file(c).chmod(p,h)}catch(g){h(g)}},S.prototype.fchmodSync=function(c,u){var l=typeof u=="string"?parseInt(u,8):u;this.fd2file(c).chmodSync(l)},S.prototype.futimes=function(c,u,l,h){h===void 0&&(h=V);var p=A(h,1);try{var g=this.fd2file(c);typeof u=="number"&&(u=new Date(1e3*u)),typeof l=="number"&&(l=new Date(1e3*l)),g.utimes(u,l,p)}catch(_){p(_)}},S.prototype.futimesSync=function(c,u,l){this.fd2file(c).utimesSync(H(u),H(l))},S.prototype.rmdir=function(c,u){u===void 0&&(u=V);var l=A(u,1);try{c=Z(c),F(this.root).rmdir(c,l)}catch(h){l(h)}},S.prototype.rmdirSync=function(c){return c=Z(c),F(this.root).rmdirSync(c)},S.prototype.mkdir=function(c,u,l){l===void 0&&(l=V),typeof u=="function"&&(l=u,u=511);var h=A(l,1);try{c=Z(c),F(this.root).mkdir(c,u,h)}catch(p){h(p)}},S.prototype.mkdirSync=function(c,u){F(this.root).mkdirSync(Z(c),Y(u,511))},S.prototype.readdir=function(c,u){u===void 0&&(u=V);var l=A(u,2);try{c=Z(c),F(this.root).readdir(c,l)}catch(h){l(h)}},S.prototype.readdirSync=function(c){return c=Z(c),F(this.root).readdirSync(c)},S.prototype.link=function(c,u,l){l===void 0&&(l=V);var h=A(l,1);try{c=Z(c),u=Z(u),F(this.root).link(c,u,h)}catch(p){h(p)}},S.prototype.linkSync=function(c,u){return c=Z(c),u=Z(u),F(this.root).linkSync(c,u)},S.prototype.symlink=function(c,u,l,h){h===void 0&&(h=V);var p=typeof l=="string"?l:"file",g=A(h=typeof l=="function"?l:h,1);try{if(p!=="file"&&p!=="dir")return g(new y(a.EINVAL,"Invalid type: "+p));c=Z(c),u=Z(u),F(this.root).symlink(c,u,p,g)}catch(_){g(_)}},S.prototype.symlinkSync=function(c,u,l){if(l){if(l!=="file"&&l!=="dir")throw new y(a.EINVAL,"Invalid type: "+l)}else l="file";return c=Z(c),u=Z(u),F(this.root).symlinkSync(c,u,l)},S.prototype.readlink=function(c,u){u===void 0&&(u=V);var l=A(u,2);try{c=Z(c),F(this.root).readlink(c,l)}catch(h){l(h)}},S.prototype.readlinkSync=function(c){return c=Z(c),F(this.root).readlinkSync(c)},S.prototype.chown=function(c,u,l,h){h===void 0&&(h=V);var p=A(h,1);try{c=Z(c),F(this.root).chown(c,!1,u,l,p)}catch(g){p(g)}},S.prototype.chownSync=function(c,u,l){c=Z(c),F(this.root).chownSync(c,!1,u,l)},S.prototype.lchown=function(c,u,l,h){h===void 0&&(h=V);var p=A(h,1);try{c=Z(c),F(this.root).chown(c,!0,u,l,p)}catch(g){p(g)}},S.prototype.lchownSync=function(c,u,l){c=Z(c),F(this.root).chownSync(c,!0,u,l)},S.prototype.chmod=function(c,u,l){l===void 0&&(l=V);var h=A(l,1);try{var p=Y(u,-1);if(p<0)throw new y(a.EINVAL,"Invalid mode.");F(this.root).chmod(Z(c),!1,p,h)}catch(g){h(g)}},S.prototype.chmodSync=function(c,u){var l=Y(u,-1);if(l<0)throw new y(a.EINVAL,"Invalid mode.");c=Z(c),F(this.root).chmodSync(c,!1,l)},S.prototype.lchmod=function(c,u,l){l===void 0&&(l=V);var h=A(l,1);try{var p=Y(u,-1);if(p<0)throw new y(a.EINVAL,"Invalid mode.");F(this.root).chmod(Z(c),!0,p,h)}catch(g){h(g)}},S.prototype.lchmodSync=function(c,u){var l=Y(u,-1);if(l<1)throw new y(a.EINVAL,"Invalid mode.");F(this.root).chmodSync(Z(c),!0,l)},S.prototype.utimes=function(c,u,l,h){h===void 0&&(h=V);var p=A(h,1);try{F(this.root).utimes(Z(c),H(u),H(l),p)}catch(g){p(g)}},S.prototype.utimesSync=function(c,u,l){F(this.root).utimesSync(Z(c),H(u),H(l))},S.prototype.realpath=function(c,u,l){l===void 0&&(l=V);var h=typeof u=="object"?u:{},p=A(l=typeof u=="function"?u:V,2);try{c=Z(c),F(this.root).realpath(c,h,p)}catch(g){p(g)}},S.prototype.realpathSync=function(c,u){return u===void 0&&(u={}),c=Z(c),F(this.root).realpathSync(c,u)},S.prototype.watchFile=function(c,u,l){throw new y(a.ENOTSUP)},S.prototype.unwatchFile=function(c,u){throw new y(a.ENOTSUP)},S.prototype.watch=function(c,u,l){throw new y(a.ENOTSUP)},S.prototype.access=function(c,u,l){throw new y(a.ENOTSUP)},S.prototype.accessSync=function(c,u){throw new y(a.ENOTSUP)},S.prototype.createReadStream=function(c,u){throw new y(a.ENOTSUP)},S.prototype.createWriteStream=function(c,u){throw new y(a.ENOTSUP)},S.prototype.wrapCallbacks=function(c){A=c},S.prototype.getFdForFile=function(c){var u=this.nextFd++;return this.fdMap[u]=c,u},S.prototype.fd2file=function(c){var u=this.fdMap[c];if(u)return u;throw new y(a.EBADF,"Invalid file descriptor.")},S.prototype.closeFd=function(c){delete this.fdMap[c]},S.Stats=O;var W=new S,re={},X=S.prototype;function le(c,u,l,h,p){return c<u||l<u?c>l?l+1:c+1:h===p?u:u+1}function ae(c,u){if(c===u)return 0;if(c.length>u.length){var l=c;c=u,u=l}for(var h=c.length,p=u.length;h>0&&c.charCodeAt(h-1)===u.charCodeAt(p-1);)h--,p--;for(var g=0;g<h&&c.charCodeAt(g)===u.charCodeAt(g);)g++;if(p-=g,(h-=g)==0||p===1)return p;for(var _,N,P,q,Q,ce=new Array(h<<1),pe=0;pe<h;)ce[h+pe]=c.charCodeAt(g+pe),ce[pe]=++pe;for(_=0;_+3<p;)for(var ve=u.charCodeAt(g+(N=_)),we=u.charCodeAt(g+(P=_+1)),Ne=u.charCodeAt(g+(q=_+2)),Ve=u.charCodeAt(g+(Q=_+3)),Nt=_+=4,Qr=0;Qr<h;){var Ar=ce[h+Qr],To=ce[Qr];N=le(To,N,P,ve,Ar),P=le(N,P,q,we,Ar),q=le(P,q,Q,Ne,Ar),Nt=le(q,Q,Nt,Ve,Ar),ce[Qr++]=Nt,Q=q,q=P,P=N,N=To}for(var dr=0;_<p;){var Xf=u.charCodeAt(g+(N=_));dr=++_;for(var Mi=0;Mi<h;Mi++){var ji=ce[Mi];ce[Mi]=dr=ji<N||dr<N?ji>dr?dr+1:ji+1:Xf===ce[h+Mi]?N:N+1,N=ji}}return dr}function me(c,u,l){c&&console.warn("["+u+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+u+".Create("+JSON.stringify(l)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}Object.keys(X).forEach(function(c){typeof W[c]=="function"?re[c]=function(){return W[c].apply(W,arguments)}:re[c]=W[c]}),re.changeFSModule=function(c){W=c},re.getFSModule=function(){return W},re.FS=S;var L=typeof navigator<"u"&&!(!/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&navigator.userAgent.indexOf("Trident")===-1),D=typeof window>"u";function ie(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function U(c,u,l){l.existsSync(c)||(U(d.dirname(c),u,l),l.mkdirSync(c,u))}function z(c){var u=G(c),l=u.byteOffset,h=u.byteLength;return l===0&&h===u.buffer.byteLength?u.buffer:u.buffer.slice(l,l+h)}function G(c){return c instanceof Uint8Array?c:new Uint8Array(c)}function ue(c){return c instanceof n?c:c instanceof Uint8Array?oe(c):n.from(c)}function oe(c){return c instanceof n?c:c.byteOffset===0&&c.byteLength===c.buffer.byteLength?ne(c.buffer):n.from(c.buffer,c.byteOffset,c.byteLength)}function ne(c){return n.from(c)}function se(c,u,l){if(u===void 0&&(u=0),l===void 0&&(l=c.length),u<0||l<0||l>c.length||u>l)throw new TypeError("Invalid slice bounds on buffer of length "+c.length+": ["+u+", "+l+"]");if(c.length===0)return be();var h=G(c),p=c[0],g=(p+1)%255;return c[0]=g,h[0]===g?(h[0]=p,oe(h.slice(u,l))):(c[0]=p,oe(h.subarray(u,l)))}var ye=null;function be(){return ye||(ye=n.alloc(0))}function Ie(c,u){n.isBuffer(c)?u():u(new y(a.EINVAL,"option must be a Buffer."))}function k(c,u,l){var h=c.Options,p=c.Name,g=0,_=!1,N=!1;function P(pe){_||(pe&&(_=!0,l(pe)),--g==0&&N&&l())}var q=function(pe){if(h.hasOwnProperty(pe)){var ve=h[pe],we=u[pe];if(we==null){if(!ve.optional){var Ne=Object.keys(u).filter(function(Ve){return!(Ve in h)}).map(function(Ve){return{str:Ve,distance:ae(pe,Ve)}}).filter(function(Ve){return Ve.distance<5}).sort(function(Ve,Nt){return Ve.distance-Nt.distance});return _?{}:(_=!0,{v:l(new y(a.EINVAL,"["+p+"] Required option '"+pe+"' not provided."+(Ne.length>0?" You provided unrecognized option '"+Ne[0].str+"'; perhaps you meant to type '"+pe+"'.":"")+`
Option description: `+ve.description))})}}else{if(!(Array.isArray(ve.type)?ve.type.indexOf(typeof we)!==-1:typeof we===ve.type))return _?{}:(_=!0,{v:l(new y(a.EINVAL,"["+p+"] Value provided for option "+pe+" is not the proper type. Expected "+(Array.isArray(ve.type)?"one of {"+ve.type.join(", ")+"}":ve.type)+", but received "+typeof we+`
Option description: `+ve.description))});ve.validator&&(g++,ve.validator(we,P))}}};for(var Q in h){var ce=q(Q);if(ce)return ce.v}N=!0,g!==0||_||l()}var R=Object.freeze({deprecationMessage:me,isIE:L,isWebWorker:D,fail:ie,mkdirpSync:U,buffer2ArrayBuffer:z,buffer2Uint8array:G,arrayish2Buffer:ue,uint8Array2Buffer:oe,arrayBuffer2Buffer:ne,copyingSlice:se,emptyBuffer:be,bufferValidator:Ie,checkOptions:k}),M=function(c){this.fs=c,this.nodefs=c.getNodeFS(),this.FS=c.getFS(),this.PATH=c.getPATH(),this.ERRNO_CODES=c.getERRNO_CODES()};M.prototype.open=function(c){var u=this.fs.realPath(c.node),l=this.FS;try{l.isFile(c.node.mode)&&(c.nfd=this.nodefs.openSync(u,this.fs.flagsToPermissionString(c.flags)))}catch(h){throw h.code?new l.ErrnoError(this.ERRNO_CODES[h.code]):h}},M.prototype.close=function(c){var u=this.FS;try{u.isFile(c.node.mode)&&c.nfd&&this.nodefs.closeSync(c.nfd)}catch(l){throw l.code?new u.ErrnoError(this.ERRNO_CODES[l.code]):l}},M.prototype.read=function(c,u,l,h,p){try{return this.nodefs.readSync(c.nfd,oe(u),l,h,p)}catch(g){throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code])}},M.prototype.write=function(c,u,l,h,p){try{return this.nodefs.writeSync(c.nfd,oe(u),l,h,p)}catch(g){throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code])}},M.prototype.llseek=function(c,u,l){var h=u;if(l===1)h+=c.position;else if(l===2&&this.FS.isFile(c.node.mode))try{h+=this.nodefs.fstatSync(c.nfd).size}catch(p){throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(h<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return c.position=h,h};var $=function(c){this.fs=c,this.nodefs=c.getNodeFS(),this.FS=c.getFS(),this.PATH=c.getPATH(),this.ERRNO_CODES=c.getERRNO_CODES()};$.prototype.getattr=function(c){var u,l=this.fs.realPath(c);try{u=this.nodefs.lstatSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}return{dev:u.dev,ino:u.ino,mode:u.mode,nlink:u.nlink,uid:u.uid,gid:u.gid,rdev:u.rdev,size:u.size,atime:u.atime,mtime:u.mtime,ctime:u.ctime,blksize:u.blksize,blocks:u.blocks}},$.prototype.setattr=function(c,u){var l=this.fs.realPath(c);try{if(u.mode!==void 0&&(this.nodefs.chmodSync(l,u.mode),c.mode=u.mode),u.timestamp!==void 0){var h=new Date(u.timestamp);this.nodefs.utimesSync(l,h,h)}}catch(p){if(!p.code)throw p;if(p.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(u.size!==void 0)try{this.nodefs.truncateSync(l,u.size)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},$.prototype.lookup=function(c,u){var l=this.PATH.join2(this.fs.realPath(c),u),h=this.fs.getMode(l);return this.fs.createNode(c,u,h)},$.prototype.mknod=function(c,u,l,h){var p=this.fs.createNode(c,u,l,h),g=this.fs.realPath(p);try{this.FS.isDir(p.mode)?this.nodefs.mkdirSync(g,p.mode):this.nodefs.writeFileSync(g,"",{mode:p.mode})}catch(_){throw _.code?new this.FS.ErrnoError(this.ERRNO_CODES[_.code]):_}return p},$.prototype.rename=function(c,u,l){var h=this.fs.realPath(c),p=this.PATH.join2(this.fs.realPath(u),l);try{this.nodefs.renameSync(h,p),c.name=l,c.parent=u}catch(g){throw g.code?new this.FS.ErrnoError(this.ERRNO_CODES[g.code]):g}},$.prototype.unlink=function(c,u){var l=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.unlinkSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.rmdir=function(c,u){var l=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.rmdirSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.readdir=function(c){var u=this.fs.realPath(c);try{var l=this.nodefs.readdirSync(u);return l.push(".",".."),l}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.symlink=function(c,u,l){var h=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.symlinkSync(l,h)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},$.prototype.readlink=function(c){var u=this.fs.realPath(c);try{return this.nodefs.readlinkSync(u)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}};var K=function(c,u,l,h){c===void 0&&(c=self.FS),u===void 0&&(u=self.PATH),l===void 0&&(l=self.ERRNO_CODES),h===void 0&&(h=re),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=h,this.FS=c,this.PATH=u,this.ERRNO_CODES=l,this.node_ops=new $(this),this.stream_ops=new M(this)};K.prototype.mount=function(c){return this.createNode(null,"/",this.getMode(c.opts.root),0)},K.prototype.createNode=function(c,u,l,h){var p=this.FS;if(!p.isDir(l)&&!p.isFile(l)&&!p.isLink(l))throw new p.ErrnoError(this.ERRNO_CODES.EINVAL);var g=p.createNode(c,u,l);return g.node_ops=this.node_ops,g.stream_ops=this.stream_ops,g},K.prototype.getMode=function(c){var u;try{u=this.nodefs.lstatSync(c)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}return u.mode},K.prototype.realPath=function(c){for(var u=[];c.parent!==c;)u.push(c.name),c=c.parent;return u.push(c.mount.opts.root),u.reverse(),this.PATH.join.apply(null,u)},K.prototype.flagsToPermissionString=function(c){var u=typeof c=="string"?parseInt(c,10):c;return(u&=8191)in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[u]:c},K.prototype.getNodeFS=function(){return this.nodefs},K.prototype.getFS=function(){return this.FS},K.prototype.getPATH=function(){return this.PATH},K.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var J=function(){};J.prototype.supportsLinks=function(){return!1},J.prototype.diskSpace=function(c,u){u(0,0)},J.prototype.openFile=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.createFile=function(c,u,l,h){throw new y(a.ENOTSUP)},J.prototype.open=function(c,u,l,h){var p=this;this.stat(c,!1,function(g,_){if(g)switch(u.pathNotExistsAction()){case v.CREATE_FILE:return p.stat(d.dirname(c),!1,function(N,P){N?h(N):P&&!P.isDirectory()?h(y.ENOTDIR(d.dirname(c))):p.createFile(c,u,l,h)});case v.THROW_EXCEPTION:return h(y.ENOENT(c));default:return h(new y(a.EINVAL,"Invalid FileFlag object."))}else{if(_&&_.isDirectory())return h(y.EISDIR(c));switch(u.pathExistsAction()){case v.THROW_EXCEPTION:return h(y.EEXIST(c));case v.TRUNCATE_FILE:return p.openFile(c,u,function(N,P){N?h(N):P?P.truncate(0,function(){P.sync(function(){h(null,P)})}):ie()});case v.NOP:return p.openFile(c,u,h);default:return h(new y(a.EINVAL,"Invalid FileFlag object."))}}})},J.prototype.rename=function(c,u,l){l(new y(a.ENOTSUP))},J.prototype.renameSync=function(c,u){throw new y(a.ENOTSUP)},J.prototype.stat=function(c,u,l){l(new y(a.ENOTSUP))},J.prototype.statSync=function(c,u){throw new y(a.ENOTSUP)},J.prototype.openFileSync=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.createFileSync=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.openSync=function(c,u,l){var h;try{h=this.statSync(c,!1)}catch{switch(u.pathNotExistsAction()){case v.CREATE_FILE:if(!this.statSync(d.dirname(c),!1).isDirectory())throw y.ENOTDIR(d.dirname(c));return this.createFileSync(c,u,l);case v.THROW_EXCEPTION:throw y.ENOENT(c);default:throw new y(a.EINVAL,"Invalid FileFlag object.")}}if(h.isDirectory())throw y.EISDIR(c);switch(u.pathExistsAction()){case v.THROW_EXCEPTION:throw y.EEXIST(c);case v.TRUNCATE_FILE:return this.unlinkSync(c),this.createFileSync(c,u,h.mode);case v.NOP:return this.openFileSync(c,u,l);default:throw new y(a.EINVAL,"Invalid FileFlag object.")}},J.prototype.unlink=function(c,u){u(new y(a.ENOTSUP))},J.prototype.unlinkSync=function(c){throw new y(a.ENOTSUP)},J.prototype.rmdir=function(c,u){u(new y(a.ENOTSUP))},J.prototype.rmdirSync=function(c){throw new y(a.ENOTSUP)},J.prototype.mkdir=function(c,u,l){l(new y(a.ENOTSUP))},J.prototype.mkdirSync=function(c,u){throw new y(a.ENOTSUP)},J.prototype.readdir=function(c,u){u(new y(a.ENOTSUP))},J.prototype.readdirSync=function(c){throw new y(a.ENOTSUP)},J.prototype.exists=function(c,u){this.stat(c,null,function(l){u(!l)})},J.prototype.existsSync=function(c){try{return this.statSync(c,!0),!0}catch{return!1}},J.prototype.realpath=function(c,u,l){if(this.supportsLinks())for(var h=c.split(d.sep),p=0;p<h.length;p++){var g=h.slice(0,p+1);h[p]=d.join.apply(null,g)}else this.exists(c,function(_){_?l(null,c):l(y.ENOENT(c))})},J.prototype.realpathSync=function(c,u){if(this.supportsLinks()){for(var l=c.split(d.sep),h=0;h<l.length;h++){var p=l.slice(0,h+1);l[h]=d.join.apply(d,p)}return l.join(d.sep)}if(this.existsSync(c))return c;throw y.ENOENT(c)},J.prototype.truncate=function(c,u,l){this.open(c,I.getFileFlag("r+"),420,function(h,p){if(h)return l(h);p.truncate(u,function(g){p.close(function(_){l(g||_)})})})},J.prototype.truncateSync=function(c,u){var l=this.openSync(c,I.getFileFlag("r+"),420);try{l.truncateSync(u)}catch(h){throw h}finally{l.closeSync()}},J.prototype.readFile=function(c,u,l,h){var p=h;this.open(c,l,420,function(g,_){if(g)return h(g);h=function(N,P){_.close(function(q){return N||(N=q),p(N,P)})},_.stat(function(N,P){if(N)return h(N);var q=n.alloc(P.size);_.read(q,0,P.size,0,function(Q){if(Q)return h(Q);if(u===null)return h(Q,q);try{h(null,q.toString(u))}catch(ce){h(ce)}})})})},J.prototype.readFileSync=function(c,u,l){var h=this.openSync(c,l,420);try{var p=h.statSync(),g=n.alloc(p.size);return h.readSync(g,0,p.size,0),h.closeSync(),u===null?g:g.toString(u)}finally{h.closeSync()}},J.prototype.writeFile=function(c,u,l,h,p,g){var _=g;this.open(c,h,420,function(N,P){if(N)return g(N);g=function(q){P.close(function(Q){_(q||Q)})};try{typeof u=="string"&&(u=n.from(u,l))}catch(q){return g(q)}P.write(u,0,u.length,0,g)})},J.prototype.writeFileSync=function(c,u,l,h,p){var g=this.openSync(c,h,p);try{typeof u=="string"&&(u=n.from(u,l)),g.writeSync(u,0,u.length,0)}finally{g.closeSync()}},J.prototype.appendFile=function(c,u,l,h,p,g){var _=g;this.open(c,h,p,function(N,P){if(N)return g(N);g=function(q){P.close(function(Q){_(q||Q)})},typeof u=="string"&&(u=n.from(u,l)),P.write(u,0,u.length,null,g)})},J.prototype.appendFileSync=function(c,u,l,h,p){var g=this.openSync(c,h,p);try{typeof u=="string"&&(u=n.from(u,l)),g.writeSync(u,0,u.length,null)}finally{g.closeSync()}},J.prototype.chmod=function(c,u,l,h){h(new y(a.ENOTSUP))},J.prototype.chmodSync=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.chown=function(c,u,l,h,p){p(new y(a.ENOTSUP))},J.prototype.chownSync=function(c,u,l,h){throw new y(a.ENOTSUP)},J.prototype.utimes=function(c,u,l,h){h(new y(a.ENOTSUP))},J.prototype.utimesSync=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.link=function(c,u,l){l(new y(a.ENOTSUP))},J.prototype.linkSync=function(c,u){throw new y(a.ENOTSUP)},J.prototype.symlink=function(c,u,l,h){h(new y(a.ENOTSUP))},J.prototype.symlinkSync=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.readlink=function(c,u){u(new y(a.ENOTSUP))},J.prototype.readlinkSync=function(c){throw new y(a.ENOTSUP)};var Se=function(c){function u(){c.apply(this,arguments)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.supportsSynch=function(){return!0},u.prototype.rename=function(l,h,p){try{this.renameSync(l,h),p()}catch(g){p(g)}},u.prototype.stat=function(l,h,p){try{p(null,this.statSync(l,h))}catch(g){p(g)}},u.prototype.open=function(l,h,p,g){try{g(null,this.openSync(l,h,p))}catch(_){g(_)}},u.prototype.unlink=function(l,h){try{this.unlinkSync(l),h()}catch(p){h(p)}},u.prototype.rmdir=function(l,h){try{this.rmdirSync(l),h()}catch(p){h(p)}},u.prototype.mkdir=function(l,h,p){try{this.mkdirSync(l,h),p()}catch(g){p(g)}},u.prototype.readdir=function(l,h){try{h(null,this.readdirSync(l))}catch(p){h(p)}},u.prototype.chmod=function(l,h,p,g){try{this.chmodSync(l,h,p),g()}catch(_){g(_)}},u.prototype.chown=function(l,h,p,g,_){try{this.chownSync(l,h,p,g),_()}catch(N){_(N)}},u.prototype.utimes=function(l,h,p,g){try{this.utimesSync(l,h,p),g()}catch(_){g(_)}},u.prototype.link=function(l,h,p){try{this.linkSync(l,h),p()}catch(g){p(g)}},u.prototype.symlink=function(l,h,p,g){try{this.symlinkSync(l,h,p),g()}catch(_){g(_)}},u.prototype.readlink=function(l,h){try{h(null,this.readlinkSync(l))}catch(p){h(p)}},u}(J),C=function(){};C.prototype.sync=function(c){c(new y(a.ENOTSUP))},C.prototype.syncSync=function(){throw new y(a.ENOTSUP)},C.prototype.datasync=function(c){this.sync(c)},C.prototype.datasyncSync=function(){return this.syncSync()},C.prototype.chown=function(c,u,l){l(new y(a.ENOTSUP))},C.prototype.chownSync=function(c,u){throw new y(a.ENOTSUP)},C.prototype.chmod=function(c,u){u(new y(a.ENOTSUP))},C.prototype.chmodSync=function(c){throw new y(a.ENOTSUP)},C.prototype.utimes=function(c,u,l){l(new y(a.ENOTSUP))},C.prototype.utimesSync=function(c,u){throw new y(a.ENOTSUP)};var b=function(c){function u(l,h,p,g,_){if(c.call(this),this._pos=0,this._dirty=!1,this._fs=l,this._path=h,this._flag=p,this._stat=g,this._buffer=_||be(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getBuffer=function(){return this._buffer},u.prototype.getStats=function(){return this._stat},u.prototype.getFlag=function(){return this._flag},u.prototype.getPath=function(){return this._path},u.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},u.prototype.advancePos=function(l){return this._pos+=l},u.prototype.setPos=function(l){return this._pos=l},u.prototype.sync=function(l){try{this.syncSync(),l()}catch(h){l(h)}},u.prototype.syncSync=function(){throw new y(a.ENOTSUP)},u.prototype.close=function(l){try{this.closeSync(),l()}catch(h){l(h)}},u.prototype.closeSync=function(){throw new y(a.ENOTSUP)},u.prototype.stat=function(l){try{l(null,this._stat.clone())}catch(h){l(h)}},u.prototype.statSync=function(){return this._stat.clone()},u.prototype.truncate=function(l,h){try{this.truncateSync(l),this._flag.isSynchronous()&&!re.getRootFS().supportsSynch()&&this.sync(h),h()}catch(p){return h(p)}},u.prototype.truncateSync=function(l){if(this._dirty=!0,!this._flag.isWriteable())throw new y(a.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,l>this._buffer.length){var h=n.alloc(l-this._buffer.length,0);return this.writeSync(h,0,h.length,this._buffer.length),void(this._flag.isSynchronous()&&re.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=l;var p=n.alloc(l);this._buffer.copy(p,0,0,l),this._buffer=p,this._flag.isSynchronous()&&re.getRootFS().supportsSynch()&&this.syncSync()},u.prototype.write=function(l,h,p,g,_){try{_(null,this.writeSync(l,h,p,g),l)}catch(N){_(N)}},u.prototype.writeSync=function(l,h,p,g){if(this._dirty=!0,g==null&&(g=this.getPos()),!this._flag.isWriteable())throw new y(a.EPERM,"File not opened with a writeable mode.");var _=g+p;if(_>this._stat.size&&(this._stat.size=_,_>this._buffer.length)){var N=n.alloc(_);this._buffer.copy(N),this._buffer=N}var P=l.copy(this._buffer,g,h,h+p);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),P):(this.setPos(g+P),P)},u.prototype.read=function(l,h,p,g,_){try{_(null,this.readSync(l,h,p,g),l)}catch(N){_(N)}},u.prototype.readSync=function(l,h,p,g){if(!this._flag.isReadable())throw new y(a.EPERM,"File not opened with a readable mode.");g==null&&(g=this.getPos()),g+p>this._stat.size&&(p=this._stat.size-g);var _=this._buffer.copy(l,h,g,g+p);return this._stat.atime=new Date,this._pos=g+p,_},u.prototype.chmod=function(l,h){try{this.chmodSync(l),h()}catch(p){h(p)}},u.prototype.chmodSync=function(l){if(!this._fs.supportsProps())throw new y(a.ENOTSUP);this._dirty=!0,this._stat.chmod(l),this.syncSync()},u.prototype.isDirty=function(){return this._dirty},u.prototype.resetDirty=function(){this._dirty=!1},u}(C),T=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){l()},u.prototype.syncSync=function(){},u.prototype.close=function(l){l()},u.prototype.closeSync=function(){},u}(b),B=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(b),ee=function(c){function u(l,h,p){if(p===void 0&&(p=!0),c.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=l,this._async=h,!l.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");me(p,u.Name,{sync:"sync file system instance",async:"async file system instance"})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{var p=new u(l.sync,l.async,!1);p.initialize(function(g){g?h(g):h(null,p)},!1)}catch(g){h(g)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){return u.Name},u.prototype._syncSync=function(l){this._sync.writeFileSync(l.getPath(),l.getBuffer(),null,I.getFileFlag("w"),l.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[l.getPath(),l.getBuffer(),null,l.getFlag(),l.getStats().mode]})},u.prototype.initialize=function(l,h){var p=this;h===void 0&&(h=!0),h&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var g=this._initializeCallbacks;if(this._isInitialized)l();else if(g.push(l)===1){var _=function(P,q,Q){P!=="/"&&p._sync.mkdirSync(P,q),p._async.readdir(P,function(ce,pe){var ve=0;ce?Q(ce):function we(Ne){Ne?Q(Ne):ve<pe.length?(N(d.join(P,pe[ve]),we),ve++):Q()}()})},N=function(P,q){p._async.stat(P,!1,function(Q,ce){Q?q(Q):ce.isDirectory()?_(P,ce.mode,q):function(pe,ve,we){p._async.readFile(pe,null,I.getFileFlag("r"),function(Ne,Ve){if(Ne)we(Ne);else try{p._sync.writeFileSync(pe,Ve,null,I.getFileFlag("w"),ve)}catch(Nt){Ne=Nt}finally{we(Ne)}})}(P,ce.mode,q)})};_("/",0,function(P){p._isInitialized=!P,p._initializeCallbacks=[],g.forEach(function(q){return q(P)})})}},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},u.prototype.renameSync=function(l,h){this.checkInitialized(),this._sync.renameSync(l,h),this.enqueueOp({apiMethod:"rename",arguments:[l,h]})},u.prototype.statSync=function(l,h){return this.checkInitialized(),this._sync.statSync(l,h)},u.prototype.openSync=function(l,h,p){return this.checkInitialized(),this._sync.openSync(l,h,p).closeSync(),new B(this,l,h,this._sync.statSync(l,!1),this._sync.readFileSync(l,null,I.getFileFlag("r")))},u.prototype.unlinkSync=function(l){this.checkInitialized(),this._sync.unlinkSync(l),this.enqueueOp({apiMethod:"unlink",arguments:[l]})},u.prototype.rmdirSync=function(l){this.checkInitialized(),this._sync.rmdirSync(l),this.enqueueOp({apiMethod:"rmdir",arguments:[l]})},u.prototype.mkdirSync=function(l,h){this.checkInitialized(),this._sync.mkdirSync(l,h),this.enqueueOp({apiMethod:"mkdir",arguments:[l,h]})},u.prototype.readdirSync=function(l){return this.checkInitialized(),this._sync.readdirSync(l)},u.prototype.existsSync=function(l){return this.checkInitialized(),this._sync.existsSync(l)},u.prototype.chmodSync=function(l,h,p){this.checkInitialized(),this._sync.chmodSync(l,h,p),this.enqueueOp({apiMethod:"chmod",arguments:[l,h,p]})},u.prototype.chownSync=function(l,h,p,g){this.checkInitialized(),this._sync.chownSync(l,h,p,g),this.enqueueOp({apiMethod:"chown",arguments:[l,h,p,g]})},u.prototype.utimesSync=function(l,h,p){this.checkInitialized(),this._sync.utimesSync(l,h,p),this.enqueueOp({apiMethod:"utimes",arguments:[l,h,p]})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new y(a.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},u.prototype.enqueueOp=function(l){var h=this;if(this._queue.push(l),!this._queueRunning){this._queueRunning=!0;var p=function(g){if(g&&console.error("WARNING: File system has desynchronized. Received following error: "+g+`
$`),h._queue.length>0){var _=h._queue.shift(),N=_.arguments;N.push(p),h._async[_.apiMethod].apply(h._async,N)}else h._queueRunning=!1};p()}},u}(Se);function he(c,u,l){switch(l.length){case 0:return c.call(u);case 1:return c.call(u,l[0]);case 2:return c.call(u,l[0],l[1]);case 3:return c.call(u,l[0],l[1],l[2])}return c.apply(u,l)}ee.Name="AsyncMirror",ee.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};var de=Math.max;function Ce(c){return c}function De(c,u){return function(l,h,p){return h=de(h===void 0?l.length-1:h,0),function(){for(var g=arguments,_=-1,N=de(g.length-h,0),P=Array(N);++_<N;)P[_]=g[h+_];_=-1;for(var q=Array(h+1);++_<h;)q[_]=g[_];return q[h]=p(P),he(l,this,q)}}(c,u,Ce)}var Ke=function(c){return De(function(u){var l=u.pop();c.call(this,u,l)})};function Ft(c){return De(function(u,l){var h=Ke(function(p,g){var _=this;return c(u,function(N,P){N.apply(_,p.concat(P))},g)});return l.length?h.apply(this,l):h})}var tt=typeof i=="object"&&i&&i.Object===Object&&i,wo=typeof self=="object"&&self&&self.Object===Object&&self,Rs=tt||wo||Function("return this")(),Ai=Rs.Symbol,_y=Object.prototype,Rb=_y.hasOwnProperty,Db=_y.toString,Ds=Ai?Ai.toStringTag:void 0,Fb=Object.prototype.toString,Sy=Ai?Ai.toStringTag:void 0;function Ff(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":Sy&&Sy in Object(c)?function(u){var l=Rb.call(u,Ds),h=u[Ds];try{u[Ds]=void 0;var p=!0}catch{}var g=Db.call(u);return p&&(l?u[Ds]=h:delete u[Ds]),g}(c):function(u){return Fb.call(u)}(c)}function Ey(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}function Cf(c){return c!=null&&Ey(c.length)&&!function(u){if(!function(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}(u))return!1;var l=Ff(u);return l=="[object Function]"||l=="[object GeneratorFunction]"||l=="[object AsyncFunction]"||l=="[object Proxy]"}(c)}var by={};function Fs(){}function Pf(c){return function(){if(c!==null){var u=c;c=null,u.apply(this,arguments)}}}var Lf=typeof Symbol=="function"&&Symbol.iterator;function Mf(c){return c!=null&&typeof c=="object"}function xy(c){return Mf(c)&&Ff(c)=="[object Arguments]"}var Oy=Object.prototype,Cb=Oy.hasOwnProperty,Pb=Oy.propertyIsEnumerable,Lb=xy(function(){return arguments}())?xy:function(c){return Mf(c)&&Cb.call(c,"callee")&&!Pb.call(c,"callee")},Mb=Array.isArray,ky=typeof e=="object"&&e&&!e.nodeType&&e,Ty=ky&&typeof o=="object"&&o&&!o.nodeType&&o,Ny=Ty&&Ty.exports===ky?Rs.Buffer:void 0,jb=(Ny?Ny.isBuffer:void 0)||function(){return!1},Bb=/^(?:0|[1-9]\d*)$/;function Ub(c,u){return!!(u=u??9007199254740991)&&(typeof c=="number"||Bb.test(c))&&c>-1&&c%1==0&&c<u}var rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt["[object Arguments]"]=rt["[object Array]"]=rt["[object ArrayBuffer]"]=rt["[object Boolean]"]=rt["[object DataView]"]=rt["[object Date]"]=rt["[object Error]"]=rt["[object Function]"]=rt["[object Map]"]=rt["[object Number]"]=rt["[object Object]"]=rt["[object RegExp]"]=rt["[object Set]"]=rt["[object String]"]=rt["[object WeakMap]"]=!1;var Ay,Iy=typeof e=="object"&&e&&!e.nodeType&&e,Ry=Iy&&typeof o=="object"&&o&&!o.nodeType&&o,jf=Ry&&Ry.exports===Iy&&tt.process,Dy=function(){try{return jf&&jf.binding&&jf.binding("util")}catch{}}(),Fy=Dy&&Dy.isTypedArray,zb=Fy?(Ay=Fy,function(c){return Ay(c)}):function(c){return Mf(c)&&Ey(c.length)&&!!rt[Ff(c)]},Vb=Object.prototype.hasOwnProperty;function Wb(c,u){var l=Mb(c),h=!l&&Lb(c),p=!l&&!h&&jb(c),g=!l&&!h&&!p&&zb(c),_=l||h||p||g,N=_?function(Q,ce){for(var pe=-1,ve=Array(Q);++pe<Q;)ve[pe]=ce(pe);return ve}(c.length,String):[],P=N.length;for(var q in c)!u&&!Vb.call(c,q)||_&&(q=="length"||p&&(q=="offset"||q=="parent")||g&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||Ub(q,P))||N.push(q);return N}var qb=Object.prototype,$b=function(c,u){return function(l){return c(u(l))}}(Object.keys,Object),Hb=Object.prototype.hasOwnProperty;function Gb(c){if(l=(u=c)&&u.constructor,u!==(typeof l=="function"&&l.prototype||qb))return $b(c);var u,l,h=[];for(var p in Object(c))Hb.call(c,p)&&p!="constructor"&&h.push(p);return h}function Jb(c){var u,l=Cf(u=c)?Wb(u):Gb(u),h=-1,p=l.length;return function(){var g=l[++h];return h<p?{value:c[g],key:g}:null}}function Yb(c){if(Cf(c))return function(l){var h=-1,p=l.length;return function(){return++h<p?{value:l[h],key:h}:null}}(c);var u=function(l){return Lf&&l[Lf]&&l[Lf]()}(c);return u?function(l){var h=-1;return function(){var p=l.next();return p.done?null:(h++,{value:p.value,key:h})}}(u):Jb(c)}function Cy(c){return function(){if(c===null)throw new Error("Callback was already called.");var u=c;c=null,u.apply(this,arguments)}}function Py(c){return function(u,l,h){if(h=Pf(h||Fs),c<=0||!u)return h(null);var p=Yb(u),g=!1,_=0;function N(q,Q){if(_-=1,q)g=!0,h(q);else{if(Q===by||g&&_<=0)return g=!0,h(null);P()}}function P(){for(;_<c&&!g;){var q=p();if(q===null)return g=!0,void(_<=0&&h(null));_+=1,l(q.value,q.key,Cy(N))}}P()}}function Ly(c,u,l,h){Py(u)(c,l,h)}function Bf(c,u){return function(l,h,p){return c(l,u,h,p)}}function Kb(c,u,l){l=Pf(l||Fs);var h=0,p=0,g=c.length;function _(N,P){N?l(N):++p!==g&&P!==by||l(null)}for(g===0&&l(null);h<g;h++)u(c[h],h,Cy(_))}var My,Zb=Bf(Ly,1/0),jy=function(c,u,l){(Cf(c)?Kb:Zb)(c,u,l)};function By(c,u,l,h){h=h||Fs;var p=[],g=0;c(u=u||[],function(_,N,P){var q=g++;l(_,function(Q,ce){p[q]=ce,P(Q)})},function(_){h(_,p)})}Ft((My=By,function(c,u,l){return My(jy,c,u,l)}));var Xb=function(c){return function(u,l,h,p){return c(Py(l),u,h,p)}}(By);Ft(Bf(Xb,1)),De(function(c,u){return De(function(l){return c.apply(null,u.concat(l))})});var Uy=typeof setImmediate=="function"&&setImmediate,zy=typeof s=="object"&&typeof s.nextTick=="function";function Vy(c){setTimeout(c,0)}function Wy(c){return De(function(u,l){c(function(){u.apply(null,l)})})}Wy(Uy?setImmediate:zy?s.nextTick:Vy);var Or,Qb=Bf(Ly,1),e3=De(function(c){return De(function(u){var l,h,p,g,_=this,N=u[u.length-1];typeof N=="function"?u.pop():N=Fs,l=c,h=u,p=function(P,q,Q){q.apply(_,P.concat(De(function(ce,pe){Q(ce,pe)})))},g=Pf((g=function(P,q){N.apply(_,[P].concat(q))})||Fs),Qb(l,function(P,q,Q){p(h,P,function(ce,pe){h=pe,Q(ce)})},function(P){g(P,h)})})});function qy(c){return De(function(u,l){u.apply(null,l.concat(De(function(h,p){typeof console=="object"&&(h?console.error&&console.error(h):console[c]&&function(g,_){for(var N=-1,P=g==null?0:g.length;++N<P&&_(g[N],N,g)!==!1;);}(p,function(g){console[c](g)}))})))})}function $y(c,u,l){jy(c,function(h){return function(p,g,_){return h(p,_)}}(u),l)}De(function(c){return e3.apply(null,c.reverse())}),De(function(c){var u=[null].concat(c);return Ke(function(l,h){return h.apply(this,u)})}),qy("dir"),qy("log"),Wy(zy?s.nextTick:Uy?setImmediate:Vy);var $t=function(c){this._cache={},this._client=c};$t.prototype.readdir=function(c,u){var l=this,h=this.getCachedDirInfo(c);this._wrap(function(p){h!==null&&h.contents?l._client.readdir(c,{contentHash:h.stat.contentHash},p):l._client.readdir(c,p)},function(p,g,_,N){p?p.status===Dropbox.ApiError.NO_CONTENT&&h!==null?u(null,h.contents.slice(0)):u(p):(l.updateCachedDirInfo(c,_,g.slice(0)),N.forEach(function(P){l.updateCachedInfo(d.join(c,P.name),P)}),u(null,g))})},$t.prototype.remove=function(c,u){var l=this;this._wrap(function(h){l._client.remove(c,h)},function(h,p){h||l.updateCachedInfo(c,p),u(h)})},$t.prototype.move=function(c,u,l){var h=this;this._wrap(function(p){h._client.move(c,u,p)},function(p,g){p||(h.deleteCachedInfo(c),h.updateCachedInfo(u,g)),l(p)})},$t.prototype.stat=function(c,u){var l=this;this._wrap(function(h){l._client.stat(c,h)},function(h,p){h||l.updateCachedInfo(c,p),u(h,p)})},$t.prototype.readFile=function(c,u){var l=this,h=this.getCachedFileInfo(c);h!==null&&h.contents!==null?this.stat(c,function(p,g){p?u(p):g.contentHash===h.stat.contentHash?u(p,h.contents.slice(0),h.stat):l.readFile(c,u)}):this._wrap(function(p){l._client.readFile(c,{arrayBuffer:!0},p)},function(p,g,_){p||l.updateCachedInfo(c,_,g.slice(0)),u(p,g,_)})},$t.prototype.writeFile=function(c,u,l){var h=this;this._wrap(function(p){h._client.writeFile(c,u,p)},function(p,g){p||h.updateCachedInfo(c,g,u.slice(0)),l(p,g)})},$t.prototype.mkdir=function(c,u){var l=this;this._wrap(function(h){l._client.mkdir(c,h)},function(h,p){h||l.updateCachedInfo(c,p,[]),u(h)})},$t.prototype._wrap=function(c,u){var l=0,h=function(p){var g=2;if(p&&3>++l)switch(p.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){c(h)},1e3*g);break;default:u.apply(null,arguments)}else u.apply(null,arguments)};c(h)},$t.prototype.getCachedInfo=function(c){return this._cache[c.toLowerCase()]},$t.prototype.putCachedInfo=function(c,u){this._cache[c.toLowerCase()]=u},$t.prototype.deleteCachedInfo=function(c){delete this._cache[c.toLowerCase()]},$t.prototype.getCachedDirInfo=function(c){var u,l=this.getCachedInfo(c);return(u=l)&&u.stat.isFolder?l:null},$t.prototype.getCachedFileInfo=function(c){var u,l=this.getCachedInfo(c);return(u=l)&&u.stat.isFile?l:null},$t.prototype.updateCachedDirInfo=function(c,u,l){l===void 0&&(l=null);var h=this.getCachedInfo(c);u.contentHash===null||h!==void 0&&h.stat.contentHash===u.contentHash||this.putCachedInfo(c,{stat:u,contents:l})},$t.prototype.updateCachedFileInfo=function(c,u,l){l===void 0&&(l=null);var h=this.getCachedInfo(c);u.versionTag===null||h!==void 0&&h.stat.versionTag===u.versionTag||this.putCachedInfo(c,{stat:u,contents:l})},$t.prototype.updateCachedInfo=function(c,u,l){var h;l===void 0&&(l=null),u.isFile&&((h=l)==null||typeof h=="object"&&typeof h.byteLength=="number")?this.updateCachedFileInfo(c,u,l):u.isFolder&&Array.isArray(l)&&this.updateCachedDirInfo(c,u,l)};var t3=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;if(this.isDirty()){var p=z(this.getBuffer());this._fs._writeFileStrict(this.getPath(),p,function(g){g||h.resetDirty(),l(g)})}else l()},u.prototype.close=function(l){this.sync(l)},u}(b),Sl=function(c){function u(l,h){h===void 0&&(h=!0),c.call(this),this._client=new $t(l),me(h,u.Name,{client:"authenticated dropbox client instance"}),Or||((Or={})[Dropbox.ApiError.NETWORK_ERROR]=a.EIO,Or[Dropbox.ApiError.INVALID_PARAM]=a.EINVAL,Or[Dropbox.ApiError.INVALID_TOKEN]=a.EPERM,Or[Dropbox.ApiError.OAUTH_ERROR]=a.EPERM,Or[Dropbox.ApiError.NOT_FOUND]=a.ENOENT,Or[Dropbox.ApiError.INVALID_METHOD]=a.EINVAL,Or[Dropbox.ApiError.NOT_ACCEPTABLE]=a.EINVAL,Or[Dropbox.ApiError.CONFLICT]=a.EINVAL,Or[Dropbox.ApiError.RATE_LIMITED]=a.EBUSY,Or[Dropbox.ApiError.SERVER_ERROR]=a.EBUSY,Or[Dropbox.ApiError.OVER_QUOTA]=a.ENOSPC)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.client,!1))},u.isAvailable=function(){return typeof Dropbox<"u"},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(l){var h=this;this._client.readdir("/",function(p,g){p?l(h.convert(p,"/")):$y(g,function(_,N){var P=d.join("/",_);h._client.remove(P,function(q){N(q?h.convert(q,P):null)})},function(_){_?l(_):l()})})},u.prototype.rename=function(l,h,p){var g=this;this._client.move(l,h,function(_){_?g._client.stat(h,function(N,P){if(N||P.isFolder){var q=_.response.error.indexOf(l)>-1?l:h;p(g.convert(_,q))}else g._client.remove(h,function(Q){Q?p(g.convert(Q,h)):g.rename(l,h,p)})}):p()})},u.prototype.stat=function(l,h,p){var g=this;this._client.stat(l,function(_,N){if(_)p(g.convert(_,l));else{if(!N||!N.isRemoved){var P=new O(g._statType(N),N.size);return p(null,P)}p(y.FileError(a.ENOENT,l))}})},u.prototype.open=function(l,h,p,g){var _=this;this._client.readFile(l,function(N,P,q){if(!N){var Q;Q=P===null?be():ne(P);var ce=_._makeFile(l,h,q,Q);return g(null,ce)}if(!h.isReadable()){if(N.status===Dropbox.ApiError.NOT_FOUND){var pe=new ArrayBuffer(0);return _._writeFileStrict(l,pe,function(ve,we){if(ve)g(ve);else{var Ne=_._makeFile(l,h,we,ne(pe));g(null,Ne)}})}return g(_.convert(N,l))}g(_.convert(N,l))})},u.prototype._writeFileStrict=function(l,h,p){var g=this,_=d.dirname(l);this.stat(_,!1,function(N,P){N?p(y.FileError(a.ENOENT,_)):g._client.writeFile(l,h,function(q,Q){q?p(g.convert(q,l)):p(null,Q)})})},u.prototype._statType=function(l){return l.isFile?E.FILE:E.DIRECTORY},u.prototype._makeFile=function(l,h,p,g){var _=this._statType(p),N=new O(_,p.size);return new t3(this,l,h,N,g)},u.prototype._remove=function(l,h,p){var g=this;this._client.stat(l,function(_,N){_?h(g.convert(_,l)):N.isFile&&!p?h(y.FileError(a.ENOTDIR,l)):!N.isFile&&p?h(y.FileError(a.EISDIR,l)):g._client.remove(l,function(P){h(P?g.convert(P,l):null)})})},u.prototype.unlink=function(l,h){this._remove(l,h,!0)},u.prototype.rmdir=function(l,h){this._remove(l,h,!1)},u.prototype.mkdir=function(l,h,p){var g=this,_=d.dirname(l);this._client.stat(_,function(N,P){N?p(g.convert(N,_)):g._client.mkdir(l,function(q){p(q?y.FileError(a.EEXIST,l):null)})})},u.prototype.readdir=function(l,h){var p=this;this._client.readdir(l,function(g,_){return g?h(p.convert(g)):h(null,_)})},u.prototype.convert=function(l,h){h===void 0&&(h=null);var p=Or[l.status];return p===void 0&&(p=a.EIO),h?y.FileError(p,h):new y(p)},u}(J);function ft(c,u){u===void 0&&(u="");for(var l=c.errno,h=c.node,p=[];h&&(p.unshift(h.name),h!==h.parent);)h=h.parent;return new y(l,m[l],p.length>0?"/"+p.join("/"):u)}Sl.Name="Dropbox",Sl.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(c,u){c.isAuthenticated&&c.isAuthenticated()?u():u(new y(a.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};var r3=function(c){function u(l,h,p,g){c.call(this),this._fs=l,this._FS=h,this._path=p,this._stream=g}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getPos=function(){},u.prototype.close=function(l){var h=null;try{this.closeSync()}catch(p){h=p}finally{l(h)}},u.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(l){throw ft(l,this._path)}},u.prototype.stat=function(l){try{l(null,this.statSync())}catch(h){l(h)}},u.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(l){throw ft(l,this._path)}},u.prototype.truncate=function(l,h){var p=null;try{this.truncateSync(l)}catch(g){p=g}finally{h(p)}},u.prototype.truncateSync=function(l){try{this._FS.ftruncate(this._stream.fd,l)}catch(h){throw ft(h,this._path)}},u.prototype.write=function(l,h,p,g,_){try{_(null,this.writeSync(l,h,p,g),l)}catch(N){_(N)}},u.prototype.writeSync=function(l,h,p,g){try{var _=G(l),N=g===null?void 0:g;return this._FS.write(this._stream,_,h,p,N)}catch(P){throw ft(P,this._path)}},u.prototype.read=function(l,h,p,g,_){try{_(null,this.readSync(l,h,p,g),l)}catch(N){_(N)}},u.prototype.readSync=function(l,h,p,g){try{var _=G(l),N=g===null?void 0:g;return this._FS.read(this._stream,_,h,p,N)}catch(P){throw ft(P,this._path)}},u.prototype.sync=function(l){l()},u.prototype.syncSync=function(){},u.prototype.chown=function(l,h,p){var g=null;try{this.chownSync(l,h)}catch(_){g=_}finally{p(g)}},u.prototype.chownSync=function(l,h){try{this._FS.fchown(this._stream.fd,l,h)}catch(p){throw ft(p,this._path)}},u.prototype.chmod=function(l,h){var p=null;try{this.chmodSync(l)}catch(g){p=g}finally{h(p)}},u.prototype.chmodSync=function(l){try{this._FS.fchmod(this._stream.fd,l)}catch(h){throw ft(h,this._path)}},u.prototype.utimes=function(l,h,p){var g=null;try{this.utimesSync(l,h)}catch(_){g=_}finally{p(g)}},u.prototype.utimesSync=function(l,h){this._fs.utimesSync(this._path,l,h)},u}(C),El=function(c){function u(l){c.call(this),this._FS=l}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.FS))},u.isAvailable=function(){return!0},u.prototype.getName=function(){return this._FS.DB_NAME()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!0},u.prototype.supportsProps=function(){return!0},u.prototype.supportsSynch=function(){return!0},u.prototype.renameSync=function(l,h){try{this._FS.rename(l,h)}catch(p){throw p.errno===a.ENOENT?ft(p,this.existsSync(l)?h:l):ft(p)}},u.prototype.statSync=function(l,h){try{var p=h?this._FS.lstat(l):this._FS.stat(l),g=this.modeToFileType(p.mode);return new O(g,p.size,p.mode,p.atime,p.mtime,p.ctime)}catch(_){throw ft(_,l)}},u.prototype.openSync=function(l,h,p){try{var g=this._FS.open(l,h.getFlagString(),p);if(this._FS.isDir(g.node.mode))throw this._FS.close(g),y.EISDIR(l);return new r3(this,this._FS,l,g)}catch(_){throw ft(_,l)}},u.prototype.unlinkSync=function(l){try{this._FS.unlink(l)}catch(h){throw ft(h,l)}},u.prototype.rmdirSync=function(l){try{this._FS.rmdir(l)}catch(h){throw ft(h,l)}},u.prototype.mkdirSync=function(l,h){try{this._FS.mkdir(l,h)}catch(p){throw ft(p,l)}},u.prototype.readdirSync=function(l){try{return this._FS.readdir(l).filter(function(h){return h!=="."&&h!==".."})}catch(h){throw ft(h,l)}},u.prototype.truncateSync=function(l,h){try{this._FS.truncate(l,h)}catch(p){throw ft(p,l)}},u.prototype.readFileSync=function(l,h,p){try{var g=oe(this._FS.readFile(l,{flags:p.getFlagString()}));return h?g.toString(h):g}catch(_){throw ft(_,l)}},u.prototype.writeFileSync=function(l,h,p,g,_){try{p&&(h=n.from(h,p));var N=G(h);this._FS.writeFile(l,N,{flags:g.getFlagString(),encoding:"binary"}),this._FS.chmod(l,_)}catch(P){throw ft(P,l)}},u.prototype.chmodSync=function(l,h,p){try{h?this._FS.lchmod(l,p):this._FS.chmod(l,p)}catch(g){throw ft(g,l)}},u.prototype.chownSync=function(l,h,p,g){try{h?this._FS.lchown(l,p,g):this._FS.chown(l,p,g)}catch(_){throw ft(_,l)}},u.prototype.symlinkSync=function(l,h,p){try{this._FS.symlink(l,h)}catch(g){throw ft(g)}},u.prototype.readlinkSync=function(l){try{return this._FS.readlink(l)}catch(h){throw ft(h,l)}},u.prototype.utimesSync=function(l,h,p){try{this._FS.utime(l,h.getTime(),p.getTime())}catch(g){throw ft(g,l)}},u.prototype.modeToFileType=function(l){if(this._FS.isDir(l))return E.DIRECTORY;if(this._FS.isFile(l))return E.FILE;if(this._FS.isLink(l))return E.SYMLINK;throw y.EPERM("Invalid mode: "+l)},u}(Se);El.Name="EmscriptenFileSystem",El.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var _o=function(c){function u(l,h){c.call(this),this._folder=l,this._wrapped=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.folder,l.wrapped))},u.isAvailable=function(){return!0},u.prototype.initialize=function(l){var h=this;this._wrapped.exists(this._folder,function(p){p?l():h._wrapped.isReadOnly()?l(y.ENOENT(h._folder)):h._wrapped.mkdir(h._folder,511,l)})},u.prototype.getName=function(){return this._wrapped.getName()},u.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},u.prototype.supportsProps=function(){return this._wrapped.supportsProps()},u.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u}(J);function Hy(c,u){if(u!==null&&typeof u=="object"){var l=u,h=l.path;h&&(h="/"+d.relative(c,h),l.message=l.message.replace(l.path,h),l.path=h)}return u}function n3(c,u){return typeof u=="function"?function(l){arguments.length>0&&(arguments[0]=Hy(c,l)),u.apply(null,arguments)}:u}function Gy(c,u,l){return c.slice(c.length-4)!=="Sync"?function(){return arguments.length>0&&(u&&(arguments[0]=d.join(this._folder,arguments[0])),l&&(arguments[1]=d.join(this._folder,arguments[1])),arguments[arguments.length-1]=n3(this._folder,arguments[arguments.length-1])),this._wrapped[c].apply(this._wrapped,arguments)}:function(){try{return u&&(arguments[0]=d.join(this._folder,arguments[0])),l&&(arguments[1]=d.join(this._folder,arguments[1])),this._wrapped[c].apply(this._wrapped,arguments)}catch(h){throw Hy(this._folder,h)}}}_o.Name="FolderAdapter",_o.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}},["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(c){_o.prototype[c]=Gy(c,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(c){_o.prototype[c]=Gy(c,!0,!0)});var kt=typeof window<"u"?window:typeof self<"u"?self:i,Uf=kt.webkitRequestFileSystem||kt.requestFileSystem||null;function pn(c,u,l){switch(c.name){case"PathExistsError":return y.EEXIST(u);case"QuotaExceededError":return y.FileError(a.ENOSPC,u);case"NotFoundError":return y.ENOENT(u);case"SecurityError":return y.FileError(a.EACCES,u);case"InvalidModificationError":return y.FileError(a.EPERM,u);case"TypeMismatchError":return y.FileError(l?a.ENOTDIR:a.EISDIR,u);default:return y.FileError(a.EINVAL,u)}}var i3=function(c){function u(l,h,p,g,_,N){c.call(this,l,p,g,_,N),this._entry=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;if(!this.isDirty())return l();this._entry.createWriter(function(p){var g=h.getBuffer(),_=new Blob([z(g)]),N=_.size;p.onwriteend=function(P){p.onwriteend=null,p.onerror=null,p.truncate(N),h.resetDirty(),l()},p.onerror=function(P){l(pn(P,h.getPath(),!1))},p.write(_)})},u.prototype.close=function(l){this.sync(l)},u}(b),bl=function(c){function u(l,h,p){l===void 0&&(l=5),h===void 0&&(h=kt.PERSISTENT),p===void 0&&(p=!0),c.call(this),this.size=1048576*l,this.type=h,me(p,u.Name,{size:l,type:h})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u(l.size,l.type,!1);p.allocate(function(g){return g?h(g):h(null,p)},!1)},u.isAvailable=function(){return!!Uf},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.allocate=function(l,h){var p=this;l===void 0&&(l=function(){}),h===void 0&&(h=!0),h&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var g=function(N){p.fs=N,l()},_=function(N){l(pn(N,"/",!0))};this.type===kt.PERSISTENT?function(N,P,q,Q){if(navigator.webkitPersistentStorage!==void 0)switch(N){case kt.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(P,q,Q);break;case kt.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(P,q,Q);break;default:Q(new TypeError("Invalid storage type: "+N))}else kt.webkitStorageInfo.requestQuota(N,P,q,Q)}(this.type,this.size,function(N){Uf(p.type,N,g,_)},_):Uf(this.type,this.size,g,_)},u.prototype.empty=function(l){this._readdir("/",function(h,p){h?(console.error("Failed to empty FS"),l(h)):$y(p,function(g,_){var N=function(){_()},P=function(q){_(pn(q,g.fullPath,!g.isDirectory))};(function(q){return q.isDirectory})(g)?g.removeRecursively(N,P):g.remove(N,P)},function(g){h?(console.error("Failed to empty FS"),l(h)):l()})})},u.prototype.rename=function(l,h,p){var g=this,_=2,N=0,P=this.fs.root,q=l,Q=function(pe){--_<=0&&p(pn(pe,q,!1))},ce=function(pe){return++N==2?p(new y(a.EINVAL,"Something was identified as both a file and a directory. This should never happen.")):l===h?p():(q=d.dirname(h),void P.getDirectory(q,{},function(ve){q=d.basename(h),pe.moveTo(ve,q,function(we){p()},function(we){pe.isDirectory?(q=h,g.unlink(h,function(Ne){Ne?Q(we):g.rename(l,h,p)})):Q(we)})},Q))};P.getFile(l,{},ce,Q),P.getDirectory(l,{},ce,Q)},u.prototype.stat=function(l,h,p){var g=this,_={create:!1},N=function(q){var Q=new O(E.DIRECTORY,4096);p(null,Q)},P=function(q){p(pn(q,l,!1))};this.fs.root.getFile(l,_,function(q){q.file(function(Q){var ce=new O(E.FILE,Q.size);p(null,ce)},P)},function(){g.fs.root.getDirectory(l,_,N,P)})},u.prototype.open=function(l,h,p,g){var _=this,N=function(P){P.name==="InvalidModificationError"&&h.isExclusive()?g(y.EEXIST(l)):g(pn(P,l,!1))};this.fs.root.getFile(l,{create:h.pathNotExistsAction()===v.CREATE_FILE,exclusive:h.isExclusive()},function(P){P.file(function(q){var Q=new FileReader;Q.onloadend=function(ce){var pe=_._makeFile(l,P,h,q,Q.result);g(null,pe)},Q.onerror=function(ce){N(Q.error)},Q.readAsArrayBuffer(q)},N)},N)},u.prototype.unlink=function(l,h){this._remove(l,h,!0)},u.prototype.rmdir=function(l,h){var p=this;this.readdir(l,function(g,_){g?h(g):_.length>0?h(y.ENOTEMPTY(l)):p._remove(l,h,!1)})},u.prototype.mkdir=function(l,h,p){this.fs.root.getDirectory(l,{create:!0,exclusive:!0},function(g){p()},function(g){p(pn(g,l,!0))})},u.prototype.readdir=function(l,h){this._readdir(l,function(p,g){if(!g)return h(p);for(var _=[],N=0,P=g;N<P.length;N+=1){var q=P[N];_.push(q.name)}h(null,_)})},u.prototype._makeFile=function(l,h,p,g,_){_===void 0&&(_=new ArrayBuffer(0));var N=new O(E.FILE,g.size),P=ne(_);return new i3(this,h,l,p,N,P)},u.prototype._readdir=function(l,h){var p=function(g){h(pn(g,l,!0))};this.fs.root.getDirectory(l,{create:!1},function(g){var _=g.createReader(),N=[],P=function(){_.readEntries(function(q){q.length?(N=N.concat(function(Q){return Array.prototype.slice.call(Q||[],0)}(q)),P()):h(null,N)},p)};P()},p)},u.prototype._remove=function(l,h,p){var g=function(P){P.remove(function(){h()},function(q){h(pn(q,l,!p))})},_=function(P){h(pn(P,l,!p))},N={create:!1};p?this.fs.root.getFile(l,N,g,_):this.fs.root.getDirectory(l,N,g,_)},u}(J);bl.Name="HTML5FS",bl.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var cr=function(c,u,l,h,p,g){this.id=c,this.size=u,this.mode=l,this.atime=h,this.mtime=p,this.ctime=g};cr.fromBuffer=function(c){if(c===void 0)throw new Error("NO");return new cr(c.toString("ascii",30),c.readUInt32LE(0),c.readUInt16LE(4),c.readDoubleLE(6),c.readDoubleLE(14),c.readDoubleLE(22))},cr.prototype.toStats=function(){return new O((61440&this.mode)===E.DIRECTORY?E.DIRECTORY:E.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},cr.prototype.getSize=function(){return 30+this.id.length},cr.prototype.toBuffer=function(c){return c===void 0&&(c=n.alloc(this.getSize())),c.writeUInt32LE(this.size,0),c.writeUInt16LE(this.mode,4),c.writeDoubleLE(this.atime,6),c.writeDoubleLE(this.mtime,14),c.writeDoubleLE(this.ctime,22),c.write(this.id,30,this.id.length,"ascii"),c},cr.prototype.update=function(c){var u=!1;this.size!==c.size&&(this.size=c.size,u=!0),this.mode!==c.mode&&(this.mode=c.mode,u=!0);var l=c.atime.getTime();this.atime!==l&&(this.atime=l,u=!0);var h=c.mtime.getTime();this.mtime!==h&&(this.mtime=h,u=!0);var p=c.ctime.getTime();return this.ctime!==p&&(this.ctime=p,u=!0),u},cr.prototype.isFile=function(){return(61440&this.mode)===E.FILE},cr.prototype.isDirectory=function(){return(61440&this.mode)===E.DIRECTORY};var qn="/",Jy=null;function Yy(){return Jy||(Jy=n.from("{}"))}function xl(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var u=16*Math.random()|0;return(c==="x"?u:3&u|8).toString(16)})}function kr(c,u){return!c||(u(c),!1)}function Dt(c,u,l){return!c||(u.abort(function(){l(c)}),!1)}var Nn=function(c){this.store=c,this.originalData={},this.modifiedKeys=[]};Nn.prototype.get=function(c){var u=this.store.get(c);return this.stashOldValue(c,u),u},Nn.prototype.put=function(c,u,l){return this.markModified(c),this.store.put(c,u,l)},Nn.prototype.del=function(c){this.markModified(c),this.store.del(c)},Nn.prototype.commit=function(){},Nn.prototype.abort=function(){for(var c=this,u=0,l=c.modifiedKeys;u<l.length;u+=1){var h=l[u],p=c.originalData[h];p?c.store.put(h,p,!0):c.store.del(h)}},Nn.prototype.stashOldValue=function(c,u){this.originalData.hasOwnProperty(c)||(this.originalData[c]=u)},Nn.prototype.markModified=function(c){this.modifiedKeys.indexOf(c)===-1&&(this.modifiedKeys.push(c),this.originalData.hasOwnProperty(c)||(this.originalData[c]=this.store.get(c)))};var Ky=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(b),Zy=function(c){function u(l){c.call(this),this.store=l.store,this.makeRootDirectory()}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},u.prototype.renameSync=function(l,h){var p=this.store.beginTransaction("readwrite"),g=d.dirname(l),_=d.basename(l),N=d.dirname(h),P=d.basename(h),q=this.findINode(p,g),Q=this.getDirListing(p,g,q);if(!Q[_])throw y.ENOENT(l);var ce,pe,ve=Q[_];if(delete Q[_],(N+"/").indexOf(l+"/")===0)throw new y(a.EBUSY,g);if(N===g?(ce=q,pe=Q):(ce=this.findINode(p,N),pe=this.getDirListing(p,N,ce)),pe[P]){var we=this.getINode(p,h,pe[P]);if(!we.isFile())throw y.EPERM(h);try{p.del(we.id),p.del(pe[P])}catch(Ne){throw p.abort(),Ne}}pe[P]=ve;try{p.put(q.id,n.from(JSON.stringify(Q)),!0),p.put(ce.id,n.from(JSON.stringify(pe)),!0)}catch(Ne){throw p.abort(),Ne}p.commit()},u.prototype.statSync=function(l,h){return this.findINode(this.store.beginTransaction("readonly"),l).toStats()},u.prototype.createFileSync=function(l,h,p){var g=this.store.beginTransaction("readwrite"),_=be(),N=this.commitNewFile(g,l,E.FILE,p,_);return new Ky(this,l,h,N.toStats(),_)},u.prototype.openFileSync=function(l,h){var p=this.store.beginTransaction("readonly"),g=this.findINode(p,l),_=p.get(g.id);if(_===void 0)throw y.ENOENT(l);return new Ky(this,l,h,g.toStats(),_)},u.prototype.unlinkSync=function(l){this.removeEntry(l,!1)},u.prototype.rmdirSync=function(l){if(this.readdirSync(l).length>0)throw y.ENOTEMPTY(l);this.removeEntry(l,!0)},u.prototype.mkdirSync=function(l,h){var p=this.store.beginTransaction("readwrite"),g=n.from("{}");this.commitNewFile(p,l,E.DIRECTORY,h,g)},u.prototype.readdirSync=function(l){var h=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(h,l,this.findINode(h,l)))},u.prototype._syncSync=function(l,h,p){var g=this.store.beginTransaction("readwrite"),_=this._findINode(g,d.dirname(l),d.basename(l)),N=this.getINode(g,l,_),P=N.update(p);try{g.put(N.id,h,!0),P&&g.put(_,N.toBuffer(),!0)}catch(q){throw g.abort(),q}g.commit()},u.prototype.makeRootDirectory=function(){var l=this.store.beginTransaction("readwrite");if(l.get(qn)===void 0){var h=new Date().getTime(),p=new cr(xl(),4096,511|E.DIRECTORY,h,h,h);l.put(p.id,Yy(),!1),l.put(qn,p.toBuffer(),!1),l.commit()}},u.prototype._findINode=function(l,h,p){var g=this,_=function(N){var P=g.getDirListing(l,h,N);if(P[p])return P[p];throw y.ENOENT(d.resolve(h,p))};return h==="/"?p===""?qn:_(this.getINode(l,h,qn)):_(this.getINode(l,h+d.sep+p,this._findINode(l,d.dirname(h),d.basename(h))))},u.prototype.findINode=function(l,h){return this.getINode(l,h,this._findINode(l,d.dirname(h),d.basename(h)))},u.prototype.getINode=function(l,h,p){var g=l.get(p);if(g===void 0)throw y.ENOENT(h);return cr.fromBuffer(g)},u.prototype.getDirListing=function(l,h,p){if(!p.isDirectory())throw y.ENOTDIR(h);var g=l.get(p.id);if(g===void 0)throw y.ENOENT(h);return JSON.parse(g.toString())},u.prototype.addNewNode=function(l,h){for(var p;;)try{return p=xl(),l.put(p,h,!1),p}catch{}throw new y(a.EIO,"Unable to commit data to key-value store.")},u.prototype.commitNewFile=function(l,h,p,g,_){var N,P=d.dirname(h),q=d.basename(h),Q=this.findINode(l,P),ce=this.getDirListing(l,P,Q),pe=new Date().getTime();if(h==="/"||ce[q])throw y.EEXIST(h);try{var ve=this.addNewNode(l,_);N=new cr(ve,_.length,g|p,pe,pe,pe);var we=this.addNewNode(l,N.toBuffer());ce[q]=we,l.put(Q.id,n.from(JSON.stringify(ce)),!0)}catch(Ne){throw l.abort(),Ne}return l.commit(),N},u.prototype.removeEntry=function(l,h){var p=this.store.beginTransaction("readwrite"),g=d.dirname(l),_=this.findINode(p,g),N=this.getDirListing(p,g,_),P=d.basename(l);if(!N[P])throw y.ENOENT(l);var q=N[P];delete N[P];var Q=this.getINode(p,l,q);if(!h&&Q.isDirectory())throw y.EISDIR(l);if(h&&!Q.isDirectory())throw y.ENOTDIR(l);try{p.del(Q.id),p.del(q),p.put(_.id,n.from(JSON.stringify(N)),!0)}catch(ce){throw p.abort(),ce}p.commit()},u}(Se),Xy=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(p){p||h.resetDirty(),l(p)}):l()},u.prototype.close=function(l){this.sync(l)},u}(b),o3=function(c){function u(){c.apply(this,arguments)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.init=function(l,h){this.store=l,this.makeRootDirectory(h)},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(l){var h=this;this.store.clear(function(p){kr(p,l)&&h.makeRootDirectory(l)})},u.prototype.rename=function(l,h,p){var g=this,_=this.store.beginTransaction("readwrite"),N=d.dirname(l),P=d.basename(l),q=d.dirname(h),Q=d.basename(h),ce={},pe={},ve=!1;if((q+"/").indexOf(l+"/")===0)return p(new y(a.EBUSY,N));var we=function(Ne){g.findINodeAndDirListing(_,Ne,function(Ve,Nt,Qr){Ve?ve||(ve=!0,_.abort(function(){p(Ve)})):(ce[Ne]=Nt,pe[Ne]=Qr,function(){if(!ve&&pe.hasOwnProperty(N)&&pe.hasOwnProperty(q)){var Ar=pe[N],To=ce[N],dr=pe[q],Xf=ce[q];if(Ar[P]){var Mi=Ar[P];delete Ar[P];var ji=function(){dr[Q]=Mi,_.put(To.id,n.from(JSON.stringify(Ar)),!0,function(Qf){Dt(Qf,_,p)&&(N===q?_.commit(p):_.put(Xf.id,n.from(JSON.stringify(dr)),!0,function(Cl){Dt(Cl,_,p)&&_.commit(p)}))})};dr[Q]?g.getINode(_,h,dr[Q],function(Qf,Cl){Dt(Qf,_,p)&&(Cl.isFile()?_.del(Cl.id,function(Um){Dt(Um,_,p)&&_.del(dr[Q],function(w3){Dt(w3,_,p)&&ji()})}):_.abort(function(Um){p(y.EPERM(h))}))}):ji()}else p(y.ENOENT(l))}}())})};we(N),N!==q&&we(q)},u.prototype.stat=function(l,h,p){var g=this.store.beginTransaction("readonly");this.findINode(g,l,function(_,N){kr(_,p)&&p(null,N.toStats())})},u.prototype.createFile=function(l,h,p,g){var _=this,N=this.store.beginTransaction("readwrite"),P=be();this.commitNewFile(N,l,E.FILE,p,P,function(q,Q){kr(q,g)&&g(null,new Xy(_,l,h,Q.toStats(),P))})},u.prototype.openFile=function(l,h,p){var g=this,_=this.store.beginTransaction("readonly");this.findINode(_,l,function(N,P){kr(N,p)&&_.get(P.id,function(q,Q){kr(q,p)&&(Q===void 0?p(y.ENOENT(l)):p(null,new Xy(g,l,h,P.toStats(),Q)))})})},u.prototype.unlink=function(l,h){this.removeEntry(l,!1,h)},u.prototype.rmdir=function(l,h){var p=this;this.readdir(l,function(g,_){g?h(g):_.length>0?h(y.ENOTEMPTY(l)):p.removeEntry(l,!0,h)})},u.prototype.mkdir=function(l,h,p){var g=this.store.beginTransaction("readwrite"),_=n.from("{}");this.commitNewFile(g,l,E.DIRECTORY,h,_,p)},u.prototype.readdir=function(l,h){var p=this,g=this.store.beginTransaction("readonly");this.findINode(g,l,function(_,N){kr(_,h)&&p.getDirListing(g,l,N,function(P,q){kr(P,h)&&h(null,Object.keys(q))})})},u.prototype._sync=function(l,h,p,g){var _=this,N=this.store.beginTransaction("readwrite");this._findINode(N,d.dirname(l),d.basename(l),function(P,q){Dt(P,N,g)&&_.getINode(N,l,q,function(Q,ce){if(Dt(Q,N,g)){var pe=ce.update(p);N.put(ce.id,h,!0,function(ve){Dt(ve,N,g)&&(pe?N.put(q,ce.toBuffer(),!0,function(we){Dt(we,N,g)&&N.commit(g)}):N.commit(g))})}})})},u.prototype.makeRootDirectory=function(l){var h=this.store.beginTransaction("readwrite");h.get(qn,function(p,g){if(p||g===void 0){var _=new Date().getTime(),N=new cr(xl(),4096,511|E.DIRECTORY,_,_,_);h.put(N.id,Yy(),!1,function(P){Dt(P,h,l)&&h.put(qn,N.toBuffer(),!1,function(q){q?h.abort(function(){l(q)}):h.commit(l)})})}else h.commit(l)})},u.prototype._findINode=function(l,h,p,g){var _=this,N=function(P,q,Q){P?g(P):Q[p]?g(null,Q[p]):g(y.ENOENT(d.resolve(h,p)))};h==="/"?p===""?g(null,qn):this.getINode(l,h,qn,function(P,q){kr(P,g)&&_.getDirListing(l,h,q,function(Q,ce){N(Q,0,ce)})}):this.findINodeAndDirListing(l,h,N)},u.prototype.findINode=function(l,h,p){var g=this;this._findINode(l,d.dirname(h),d.basename(h),function(_,N){kr(_,p)&&g.getINode(l,h,N,p)})},u.prototype.getINode=function(l,h,p,g){l.get(p,function(_,N){kr(_,g)&&(N===void 0?g(y.ENOENT(h)):g(null,cr.fromBuffer(N)))})},u.prototype.getDirListing=function(l,h,p,g){p.isDirectory()?l.get(p.id,function(_,N){if(kr(_,g))try{g(null,JSON.parse(N.toString()))}catch{g(y.ENOENT(h))}}):g(y.ENOTDIR(h))},u.prototype.findINodeAndDirListing=function(l,h,p){var g=this;this.findINode(l,h,function(_,N){kr(_,p)&&g.getDirListing(l,h,N,function(P,q){kr(P,p)&&p(null,N,q)})})},u.prototype.addNewNode=function(l,h,p){var g,_=0,N=function(){++_==5?p(new y(a.EIO,"Unable to commit data to key-value store.")):(g=xl(),l.put(g,h,!1,function(P,q){P||!q?N():p(null,g)}))};N()},u.prototype.commitNewFile=function(l,h,p,g,_,N){var P=this,q=d.dirname(h),Q=d.basename(h),ce=new Date().getTime();if(h==="/")return N(y.EEXIST(h));this.findINodeAndDirListing(l,q,function(pe,ve,we){Dt(pe,l,N)&&(we[Q]?l.abort(function(){N(y.EEXIST(h))}):P.addNewNode(l,_,function(Ne,Ve){if(Dt(Ne,l,N)){var Nt=new cr(Ve,_.length,g|p,ce,ce,ce);P.addNewNode(l,Nt.toBuffer(),function(Qr,Ar){Dt(Qr,l,N)&&(we[Q]=Ar,l.put(ve.id,n.from(JSON.stringify(we)),!0,function(To){Dt(To,l,N)&&l.commit(function(dr){Dt(dr,l,N)&&N(null,Nt)})}))})}}))})},u.prototype.removeEntry=function(l,h,p){var g=this,_=this.store.beginTransaction("readwrite"),N=d.dirname(l),P=d.basename(l);this.findINodeAndDirListing(_,N,function(q,Q,ce){if(Dt(q,_,p))if(ce[P]){var pe=ce[P];delete ce[P],g.getINode(_,l,pe,function(ve,we){Dt(ve,_,p)&&(!h&&we.isDirectory()?_.abort(function(){p(y.EISDIR(l))}):h&&!we.isDirectory()?_.abort(function(){p(y.ENOTDIR(l))}):_.del(we.id,function(Ne){Dt(Ne,_,p)&&_.del(pe,function(Ve){Dt(Ve,_,p)&&_.put(Q.id,n.from(JSON.stringify(ce)),!0,function(Nt){Dt(Nt,_,p)&&_.commit(p)})})}))})}else _.abort(function(){p(y.ENOENT(l))})})},u}(J),Ii=function(){this.store={}};Ii.prototype.name=function(){return So.Name},Ii.prototype.clear=function(){this.store={}},Ii.prototype.beginTransaction=function(c){return new Nn(this)},Ii.prototype.get=function(c){return this.store[c]},Ii.prototype.put=function(c,u,l){return!(!l&&this.store.hasOwnProperty(c)||(this.store[c]=u,0))},Ii.prototype.del=function(c){delete this.store[c]};var So=function(c){function u(){c.call(this,{store:new Ii})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u)},u}(Zy);So.Name="InMemory",So.Options={};var zf=kt.indexedDB||kt.mozIndexedDB||kt.webkitIndexedDB||kt.msIndexedDB;function Cs(c,u){switch(u===void 0&&(u=c.toString()),c.name){case"NotFoundError":return new y(a.ENOENT,u);case"QuotaExceededError":return new y(a.ENOSPC,u);default:return new y(a.EIO,u)}}function Ps(c,u,l){return u===void 0&&(u=a.EIO),l===void 0&&(l=null),function(h){h.preventDefault(),c(new y(u,l!==null?l:void 0))}}var Vf=function(c,u){this.tx=c,this.store=u};Vf.prototype.get=function(c,u){try{var l=this.store.get(c);l.onerror=Ps(u),l.onsuccess=function(h){var p=h.target.result;u(null,p===void 0?p:ne(p))}}catch(h){u(Cs(h))}};var s3=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.put=function(l,h,p,g){try{var _,N=z(h);(_=p?this.store.put(N,l):this.store.add(N,l)).onerror=Ps(g),_.onsuccess=function(P){g(null,!0)}}catch(P){g(Cs(P))}},u.prototype.del=function(l,h){try{var p=this.store.delete(l);p.onerror=Ps(h),p.onsuccess=function(g){h()}}catch(g){h(Cs(g))}},u.prototype.commit=function(l){setTimeout(l,0)},u.prototype.abort=function(l){var h=null;try{this.tx.abort()}catch(p){h=Cs(p)}finally{l(h)}},u}(Vf),Ol=function(c,u){var l=this;u===void 0&&(u="browserfs"),this.storeName=u;var h=zf.open(this.storeName,1);h.onupgradeneeded=function(p){var g=p.target.result;g.objectStoreNames.contains(l.storeName)&&g.deleteObjectStore(l.storeName),g.createObjectStore(l.storeName)},h.onsuccess=function(p){l.db=p.target.result,c(null,l)},h.onerror=Ps(c,a.EACCES)};Ol.prototype.name=function(){return Ls.Name+" - "+this.storeName},Ol.prototype.clear=function(c){try{var u=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();u.onsuccess=function(l){setTimeout(c,0)},u.onerror=Ps(c)}catch(l){c(Cs(l))}},Ol.prototype.beginTransaction=function(c){c===void 0&&(c="readonly");var u=this.db.transaction(this.storeName,c),l=u.objectStore(this.storeName);if(c==="readwrite")return new s3(u,l);if(c==="readonly")return new Vf(u,l);throw new y(a.EINVAL,"Invalid transaction type.")};var Ls=function(c){function u(l,h,p){var g=this;p===void 0&&(p=!0),c.call(this),this.store=new Ol(function(_){_?l(_):g.init(g.store,function(N){l(N,g)})},h),me(p,u.Name,{storeName:h})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){new u(h,l.storeName,!1)},u.isAvailable=function(){try{return zf!==void 0&&zf.open("__browserfs_test__")!==null}catch{return!1}},u}(o3);Ls.Name="IndexedDB",Ls.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var Ms,Wf=!1;try{kt.localStorage.setItem("__test__",String.fromCharCode(55296)),Wf=kt.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{Wf=!1}Ms=Wf?"binary_string":"binary_string_ie",n.isEncoding(Ms)||(Ms="base64");var Ri=function(){};Ri.prototype.name=function(){return js.Name},Ri.prototype.clear=function(){kt.localStorage.clear()},Ri.prototype.beginTransaction=function(c){return new Nn(this)},Ri.prototype.get=function(c){try{var u=kt.localStorage.getItem(c);if(u!==null)return n.from(u,Ms)}catch{}},Ri.prototype.put=function(c,u,l){try{return!(!l&&kt.localStorage.getItem(c)!==null||(kt.localStorage.setItem(c,u.toString(Ms)),0))}catch{throw new y(a.ENOSPC,"LocalStorage is full.")}},Ri.prototype.del=function(c){try{kt.localStorage.removeItem(c)}catch(u){throw new y(a.EIO,"Unable to delete key "+c+": "+u)}};var js=function(c){function u(){c.call(this,{store:new Ri})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u)},u.isAvailable=function(){return kt.localStorage!==void 0},u}(Zy);js.Name="LocalStorage",js.Options={};var Eo=function(c){function u(){c.call(this),this.mountList=[],this.mntMap={},this.rootFs=new So}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u;Object.keys(l).forEach(function(g){p.mount(g,l[g])}),h(null,p)},u.isAvailable=function(){return!0},u.prototype.mount=function(l,h){if(l[0]!=="/"&&(l="/"+l),l=d.resolve(l),this.mntMap[l])throw new y(a.EINVAL,"Mount point "+l+" is already taken.");U(l,511,this.rootFs),this.mntMap[l]=h,this.mountList.push(l),this.mountList=this.mountList.sort(function(p,g){return g.length-p.length})},u.prototype.umount=function(l){if(l[0]!=="/"&&(l="/"+l),l=d.resolve(l),!this.mntMap[l])throw new y(a.EINVAL,"Mount point "+l+" is already unmounted.");for(delete this.mntMap[l],this.mountList.splice(this.mountList.indexOf(l),1);l!=="/"&&this.rootFs.readdirSync(l).length===0;)this.rootFs.rmdirSync(l),l=d.dirname(l)},u.prototype._getFs=function(l){for(var h=this.mountList,p=h.length,g=0;g<p;g++){var _=h[g];if(_.length<=l.length&&l.indexOf(_)===0)return(l=l.substr(_.length>1?_.length:0))===""&&(l="/"),{fs:this.mntMap[_],path:l}}return{fs:this.rootFs,path:l}},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(l,h){h(0,0)},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.standardizeError=function(l,h,p){var g=l.message.indexOf(h);return g!==-1&&(l.message=l.message.substr(0,g)+p+l.message.substr(g+h.length),l.path=p),l},u.prototype.rename=function(l,h,p){var g=this,_=this._getFs(l),N=this._getFs(h);return _.fs===N.fs?_.fs.rename(_.path,N.path,function(P){P&&g.standardizeError(g.standardizeError(P,_.path,l),N.path,h),p(P)}):re.readFile(l,function(P,q){if(P)return p(P);re.writeFile(h,q,function(Q){if(Q)return p(Q);re.unlink(l,p)})})},u.prototype.renameSync=function(l,h){var p=this._getFs(l),g=this._getFs(h);if(p.fs===g.fs)try{return p.fs.renameSync(p.path,g.path)}catch(N){throw this.standardizeError(this.standardizeError(N,p.path,l),g.path,h),N}var _=re.readFileSync(l);return re.writeFileSync(h,_),re.unlinkSync(l)},u.prototype.readdirSync=function(l){var h=this._getFs(l),p=null;if(h.fs!==this.rootFs)try{p=this.rootFs.readdirSync(l)}catch{}try{var g=h.fs.readdirSync(h.path);return p===null?g:g.concat(p.filter(function(_){return g.indexOf(_)===-1}))}catch(_){if(p===null)throw this.standardizeError(_,h.path,l);return p}},u.prototype.readdir=function(l,h){var p=this,g=this._getFs(l);g.fs.readdir(g.path,function(_,N){if(g.fs!==p.rootFs)try{var P=p.rootFs.readdirSync(l);N=N?N.concat(P.filter(function(q){return N.indexOf(q)===-1})):P}catch{if(_)return h(p.standardizeError(_,g.path,l))}else if(_)return h(p.standardizeError(_,g.path,l));h(null,N)})},u.prototype.rmdirSync=function(l){var h=this._getFs(l);if(this._containsMountPt(l))throw y.ENOTEMPTY(l);try{h.fs.rmdirSync(h.path)}catch(p){throw this.standardizeError(p,h.path,l)}},u.prototype.rmdir=function(l,h){var p=this,g=this._getFs(l);this._containsMountPt(l)?h(y.ENOTEMPTY(l)):g.fs.rmdir(g.path,function(_){h(_?p.standardizeError(_,g.path,l):null)})},u.prototype._containsMountPt=function(l){for(var h=this.mountList,p=h.length,g=0;g<p;g++){var _=h[g];if(_.length>=l.length&&_.slice(0,l.length)===l)return!0}return!1},u}(J);function Qy(c,u,l){return u?function(){for(var h=[],p=arguments.length;p--;)h[p]=arguments[p];var g=h[0],_=this._getFs(g);h[0]=_.path;try{return _.fs[c].apply(_.fs,h)}catch(N){throw this.standardizeError(N,_.path,g),N}}:function(){for(var h=this,p=[],g=arguments.length;g--;)p[g]=arguments[g];var _=p[0],N=this._getFs(_);if(p[0]=N.path,typeof p[p.length-1]=="function"){var P=p[p.length-1];p[p.length-1]=function(){for(var q=[],Q=arguments.length;Q--;)q[Q]=arguments[Q];q.length>0&&q[0]instanceof y&&h.standardizeError(q[0],N.path,_),P.apply(null,q)}}return N.fs[c].apply(N.fs,p)}}Eo.Name="MountableFileSystem",Eo.Options={};for(var Bs,em=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],qf=0;qf<em.length;qf++)for(var $f=0,tm=em[qf];$f<tm.length;$f+=1){var kl=tm[$f];Eo.prototype[kl]=Qy(kl,!1),Eo.prototype[kl+"Sync"]=Qy(kl+"Sync",!0)}if(typeof setImmediate<"u")Bs=setImmediate;else{var jr=kt,bo=[],rm="zero-timeout-message";if(function(){if(jr.importScripts!==void 0||!jr.postMessage)return!1;var c=!0,u=jr.onmessage;return jr.onmessage=function(){c=!1},jr.postMessage("","*"),jr.onmessage=u,c}()){Bs=function(c){bo.push(c),jr.postMessage(rm,"*")};var nm=function(c){if(c.source===self&&c.data===rm&&(c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,bo.length>0))return bo.shift()()};jr.addEventListener?jr.addEventListener("message",nm,!0):jr.attachEvent("onmessage",nm)}else if(jr.MessageChannel){var im=new jr.MessageChannel;im.port1.onmessage=function(c){if(bo.length>0)return bo.shift()()},Bs=function(c){bo.push(c),im.port2.postMessage("")}}else Bs=function(c){return setTimeout(c,0)}}var Hf=Bs,Us=function(){this._locked=!1,this._waiters=[]};Us.prototype.lock=function(c){this._locked?this._waiters.push(c):(this._locked=!0,c())},Us.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var c=this._waiters.shift();c?Hf(c):this._locked=!1},Us.prototype.tryLock=function(){return!this._locked&&(this._locked=!0,!0)},Us.prototype.isLocked=function(){return this._locked};var Ae=function(c){this._fs=c,this._mu=new Us};Ae.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},Ae.prototype.getFSUnlocked=function(){return this._fs},Ae.prototype.initialize=function(c){this._fs.initialize(c)},Ae.prototype.diskSpace=function(c,u){this._fs.diskSpace(c,u)},Ae.prototype.isReadOnly=function(){return this._fs.isReadOnly()},Ae.prototype.supportsLinks=function(){return this._fs.supportsLinks()},Ae.prototype.supportsProps=function(){return this._fs.supportsProps()},Ae.prototype.supportsSynch=function(){return this._fs.supportsSynch()},Ae.prototype.rename=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.rename(c,u,function(p){h._mu.unlock(),l(p)})})},Ae.prototype.renameSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(c,u)},Ae.prototype.stat=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.stat(c,u,function(p,g){h._mu.unlock(),l(p,g)})})},Ae.prototype.statSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(c,u)},Ae.prototype.open=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.open(c,u,l,function(g,_){p._mu.unlock(),h(g,_)})})},Ae.prototype.openSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(c,u,l)},Ae.prototype.unlink=function(c,u){var l=this;this._mu.lock(function(){l._fs.unlink(c,function(h){l._mu.unlock(),u(h)})})},Ae.prototype.unlinkSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(c)},Ae.prototype.rmdir=function(c,u){var l=this;this._mu.lock(function(){l._fs.rmdir(c,function(h){l._mu.unlock(),u(h)})})},Ae.prototype.rmdirSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(c)},Ae.prototype.mkdir=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.mkdir(c,u,function(p){h._mu.unlock(),l(p)})})},Ae.prototype.mkdirSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(c,u)},Ae.prototype.readdir=function(c,u){var l=this;this._mu.lock(function(){l._fs.readdir(c,function(h,p){l._mu.unlock(),u(h,p)})})},Ae.prototype.readdirSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(c)},Ae.prototype.exists=function(c,u){var l=this;this._mu.lock(function(){l._fs.exists(c,function(h){l._mu.unlock(),u(h)})})},Ae.prototype.existsSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(c)},Ae.prototype.realpath=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.realpath(c,u,function(p,g){h._mu.unlock(),l(p,g)})})},Ae.prototype.realpathSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(c,u)},Ae.prototype.truncate=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.truncate(c,u,function(p){h._mu.unlock(),l(p)})})},Ae.prototype.truncateSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(c,u)},Ae.prototype.readFile=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.readFile(c,u,l,function(g,_){p._mu.unlock(),h(g,_)})})},Ae.prototype.readFileSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(c,u,l)},Ae.prototype.writeFile=function(c,u,l,h,p,g){var _=this;this._mu.lock(function(){_._fs.writeFile(c,u,l,h,p,function(N){_._mu.unlock(),g(N)})})},Ae.prototype.writeFileSync=function(c,u,l,h,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(c,u,l,h,p)},Ae.prototype.appendFile=function(c,u,l,h,p,g){var _=this;this._mu.lock(function(){_._fs.appendFile(c,u,l,h,p,function(N){_._mu.unlock(),g(N)})})},Ae.prototype.appendFileSync=function(c,u,l,h,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(c,u,l,h,p)},Ae.prototype.chmod=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.chmod(c,u,l,function(g){p._mu.unlock(),h(g)})})},Ae.prototype.chmodSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(c,u,l)},Ae.prototype.chown=function(c,u,l,h,p){var g=this;this._mu.lock(function(){g._fs.chown(c,u,l,h,function(_){g._mu.unlock(),p(_)})})},Ae.prototype.chownSync=function(c,u,l,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(c,u,l,h)},Ae.prototype.utimes=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.utimes(c,u,l,function(g){p._mu.unlock(),h(g)})})},Ae.prototype.utimesSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(c,u,l)},Ae.prototype.link=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.link(c,u,function(p){h._mu.unlock(),l(p)})})},Ae.prototype.linkSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(c,u)},Ae.prototype.symlink=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.symlink(c,u,l,function(g){p._mu.unlock(),h(g)})})},Ae.prototype.symlinkSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(c,u,l)},Ae.prototype.readlink=function(c,u){var l=this;this._mu.lock(function(){l._fs.readlink(c,function(h,p){l._mu.unlock(),u(h,p)})})},Ae.prototype.readlinkSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(c)};var An="/.deletedFiles.log";function om(c){return 146|c}function Tr(c){return I.getFileFlag(c)}var lt,sm=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;this.isDirty()?this._fs._syncAsync(this,function(p){h.resetDirty(),l(p)}):l(null)},u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.close=function(l){this.sync(l)},u.prototype.closeSync=function(){this.syncSync()},u}(b),am=function(c){function u(l,h){if(c.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=l,this._readable=h,this._writable.isReadOnly())throw new y(a.EINVAL,"Writable file system must be writable.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},u.prototype._syncAsync=function(l,h){var p=this;this.createParentDirectoriesAsync(l.getPath(),function(g){if(g)return h(g);p._writable.writeFile(l.getPath(),l.getBuffer(),null,Tr("w"),l.getStats().mode,h)})},u.prototype._syncSync=function(l){this.createParentDirectories(l.getPath()),this._writable.writeFileSync(l.getPath(),l.getBuffer(),null,Tr("w"),l.getStats().mode)},u.prototype.getName=function(){return zs.Name},u.prototype.initialize=function(l){var h=this,p=this._initializeCallbacks,g=function(_){h._isInitialized=!_,h._initializeCallbacks=[],p.forEach(function(N){return N(_)})};if(this._isInitialized)return l();p.push(l),p.length===1&&this._writable.readFile(An,"utf8",Tr("r"),function(_,N){if(_){if(_.errno!==a.ENOENT)return g(_)}else h._deleteLog=N;h._reparseDeletionLog(),g()})},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},u.prototype.getDeletionLog=function(){return this._deleteLog},u.prototype.restoreDeletionLog=function(l){this._deleteLog=l,this._reparseDeletionLog(),this.updateLog("")},u.prototype.rename=function(l,h,p){var g=this;if(this.checkInitAsync(p)&&!this.checkPathAsync(l,p)&&!this.checkPathAsync(h,p))return l===An||h===An?p(y.EPERM("Cannot rename deletion log.")):l===h?p():void this.stat(l,!1,function(_,N){return _?p(_):g.stat(h,!1,function(P,q){var Q=g;function ce(ve){var we=ve.shift();if(!we)return p();var Ne=d.resolve(l,we),Ve=d.resolve(h,we);Q.rename(Ne,Ve,function(Nt){if(Nt)return p(Nt);ce(ve)})}var pe=511;if(N.isDirectory()){if(P)return P.errno!==a.ENOENT?p(P):g._writable.exists(l,function(ve){if(ve)return g._writable.rename(l,h,p);g._writable.mkdir(h,pe,function(we){if(we)return p(we);g._readable.readdir(l,function(Ne,Ve){if(Ne)return p();ce(Ve)})})});if(pe=q.mode,!q.isDirectory())return p(y.ENOTDIR(h));g.readdir(h,function(ve,we){if(we&&we.length)return p(y.ENOTEMPTY(h));g._readable.readdir(l,function(Ne,Ve){if(Ne)return p();ce(Ve)})})}if(q&&q.isDirectory())return p(y.EISDIR(h));g.readFile(l,null,Tr("r"),function(ve,we){return ve?p(ve):g.writeFile(h,we,null,Tr("w"),N.mode,function(Ne){return Ne?p(Ne):g.unlink(l,p)})})})})},u.prototype.renameSync=function(l,h){var p=this;if(this.checkInitialized(),this.checkPath(l),this.checkPath(h),l===An||h===An)throw y.EPERM("Cannot rename deletion log.");var g=this.statSync(l,!1);if(g.isDirectory()){if(l===h)return;var _=511;if(this.existsSync(h)){var N=this.statSync(h,!1);if(_=N.mode,!N.isDirectory())throw y.ENOTDIR(h);if(this.readdirSync(h).length>0)throw y.ENOTEMPTY(h)}this._writable.existsSync(l)?this._writable.renameSync(l,h):this._writable.existsSync(h)||this._writable.mkdirSync(h,_),this._readable.existsSync(l)&&this._readable.readdirSync(l).forEach(function(P){p.renameSync(d.resolve(l,P),d.resolve(h,P))})}else{if(this.existsSync(h)&&this.statSync(h,!1).isDirectory())throw y.EISDIR(h);this.writeFileSync(h,this.readFileSync(l,null,Tr("r")),null,Tr("w"),g.mode)}l!==h&&this.existsSync(l)&&this.unlinkSync(l)},u.prototype.stat=function(l,h,p){var g=this;this.checkInitAsync(p)&&this._writable.stat(l,h,function(_,N){_&&_.errno===a.ENOENT?(g._deletedFiles[l]&&p(y.ENOENT(l)),g._readable.stat(l,h,function(P,q){q&&((q=q.clone()).mode=om(q.mode)),p(P,q)})):p(_,N)})},u.prototype.statSync=function(l,h){this.checkInitialized();try{return this._writable.statSync(l,h)}catch{if(this._deletedFiles[l])throw y.ENOENT(l);var p=this._readable.statSync(l,h).clone();return p.mode=om(p.mode),p}},u.prototype.open=function(l,h,p,g){var _=this;this.checkInitAsync(g)&&!this.checkPathAsync(l,g)&&this.stat(l,!1,function(N,P){if(!P)return h.pathNotExistsAction()===v.CREATE_FILE?_.createParentDirectoriesAsync(l,function(q){return q?g(q):_._writable.open(l,h,p,g)}):g(y.ENOENT(l));switch(h.pathExistsAction()){case v.TRUNCATE_FILE:return _.createParentDirectoriesAsync(l,function(q){if(q)return g(q);_._writable.open(l,h,p,g)});case v.NOP:return _._writable.exists(l,function(q){q?_._writable.open(l,h,p,g):((P=P.clone()).mode=p,_._readable.readFile(l,null,Tr("r"),function(Q,ce){if(Q)return g(Q);P.size===-1&&(P.size=ce.length);var pe=new sm(_,l,h,P,ce);g(null,pe)}))});default:return g(y.EEXIST(l))}})},u.prototype.openSync=function(l,h,p){if(this.checkInitialized(),this.checkPath(l),l===An)throw y.EPERM("Cannot open deletion log.");if(!this.existsSync(l)){if(h.pathNotExistsAction()===v.CREATE_FILE)return this.createParentDirectories(l),this._writable.openSync(l,h,p);throw y.ENOENT(l)}switch(h.pathExistsAction()){case v.TRUNCATE_FILE:return this.createParentDirectories(l),this._writable.openSync(l,h,p);case v.NOP:if(this._writable.existsSync(l))return this._writable.openSync(l,h,p);var g=this._readable.readFileSync(l,null,Tr("r")),_=this._readable.statSync(l,!1).clone();return _.mode=p,new sm(this,l,h,_,g);default:throw y.EEXIST(l)}},u.prototype.unlink=function(l,h){var p=this;this.checkInitAsync(h)&&!this.checkPathAsync(l,h)&&this.exists(l,function(g){if(!g)return h(y.ENOENT(l));p._writable.exists(l,function(_){if(_)return p._writable.unlink(l,function(N){if(N)return h(N);p.exists(l,function(P){P&&p.deletePath(l),h(null)})});p.deletePath(l),h(null)})})},u.prototype.unlinkSync=function(l){if(this.checkInitialized(),this.checkPath(l),!this.existsSync(l))throw y.ENOENT(l);this._writable.existsSync(l)&&this._writable.unlinkSync(l),this.existsSync(l)&&this.deletePath(l)},u.prototype.rmdir=function(l,h){var p=this;if(this.checkInitAsync(h)){var g=function(){p.readdir(l,function(_,N){return _?h(_):N.length?h(y.ENOTEMPTY(l)):(p.deletePath(l),void h(null))})};this.exists(l,function(_){if(!_)return h(y.ENOENT(l));p._writable.exists(l,function(N){N?p._writable.rmdir(l,function(P){if(P)return h(P);p._readable.exists(l,function(q){q?g():h()})}):g()})})}},u.prototype.rmdirSync=function(l){if(this.checkInitialized(),!this.existsSync(l))throw y.ENOENT(l);if(this._writable.existsSync(l)&&this._writable.rmdirSync(l),this.existsSync(l)){if(this.readdirSync(l).length>0)throw y.ENOTEMPTY(l);this.deletePath(l)}},u.prototype.mkdir=function(l,h,p){var g=this;this.checkInitAsync(p)&&this.exists(l,function(_){if(_)return p(y.EEXIST(l));g.createParentDirectoriesAsync(l,function(N){if(N)return p(N);g._writable.mkdir(l,h,p)})})},u.prototype.mkdirSync=function(l,h){if(this.checkInitialized(),this.existsSync(l))throw y.EEXIST(l);this.createParentDirectories(l),this._writable.mkdirSync(l,h)},u.prototype.readdir=function(l,h){var p=this;this.checkInitAsync(h)&&this.stat(l,!1,function(g,_){return g?h(g):_.isDirectory()?void p._writable.readdir(l,function(N,P){if(N&&N.code!=="ENOENT")return h(N);!N&&P||(P=[]),p._readable.readdir(l,function(q,Q){!q&&Q||(Q=[]);var ce={},pe=P.concat(Q.filter(function(ve){return!p._deletedFiles[l+"/"+ve]})).filter(function(ve){var we=!ce[ve];return ce[ve]=!0,we});h(null,pe)})}):h(y.ENOTDIR(l))})},u.prototype.readdirSync=function(l){var h=this;if(this.checkInitialized(),!this.statSync(l,!1).isDirectory())throw y.ENOTDIR(l);var p=[];try{p=p.concat(this._writable.readdirSync(l))}catch{}try{p=p.concat(this._readable.readdirSync(l).filter(function(_){return!h._deletedFiles[l+"/"+_]}))}catch{}var g={};return p.filter(function(_){var N=!g[_];return g[_]=!0,N})},u.prototype.exists=function(l,h){var p=this;this.checkInitialized(),this._writable.exists(l,function(g){if(g)return h(!0);p._readable.exists(l,function(_){h(_&&p._deletedFiles[l]!==!0)})})},u.prototype.existsSync=function(l){return this.checkInitialized(),this._writable.existsSync(l)||this._readable.existsSync(l)&&this._deletedFiles[l]!==!0},u.prototype.chmod=function(l,h,p,g){var _=this;this.checkInitAsync(g)&&this.operateOnWritableAsync(l,function(N){if(N)return g(N);_._writable.chmod(l,h,p,g)})},u.prototype.chmodSync=function(l,h,p){var g=this;this.checkInitialized(),this.operateOnWritable(l,function(){g._writable.chmodSync(l,h,p)})},u.prototype.chown=function(l,h,p,g,_){var N=this;this.checkInitAsync(_)&&this.operateOnWritableAsync(l,function(P){if(P)return _(P);N._writable.chown(l,h,p,g,_)})},u.prototype.chownSync=function(l,h,p,g){var _=this;this.checkInitialized(),this.operateOnWritable(l,function(){_._writable.chownSync(l,h,p,g)})},u.prototype.utimes=function(l,h,p,g){var _=this;this.checkInitAsync(g)&&this.operateOnWritableAsync(l,function(N){if(N)return g(N);_._writable.utimes(l,h,p,g)})},u.prototype.utimesSync=function(l,h,p){var g=this;this.checkInitialized(),this.operateOnWritable(l,function(){g._writable.utimesSync(l,h,p)})},u.prototype.deletePath=function(l){this._deletedFiles[l]=!0,this.updateLog("d"+l+`
`)},u.prototype.updateLog=function(l){var h=this;this._deleteLog+=l,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(An,this._deleteLog,"utf8",I.getFileFlag("w"),420,function(p){h._deleteLogUpdatePending=!1,p?h._deleteLogError=p:h._deleteLogUpdateNeeded&&(h._deleteLogUpdateNeeded=!1,h.updateLog(""))}))},u.prototype._reparseDeletionLog=function(){var l=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(h){l._deletedFiles[h.slice(1)]=h.slice(0,1)==="d"})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new y(a.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(this._deleteLogError!==null){var l=this._deleteLogError;throw this._deleteLogError=null,l}},u.prototype.checkInitAsync=function(l){if(!this._isInitialized)return l(new y(a.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;if(this._deleteLogError!==null){var h=this._deleteLogError;return this._deleteLogError=null,l(h),!1}return!0},u.prototype.checkPath=function(l){if(l===An)throw y.EPERM(l)},u.prototype.checkPathAsync=function(l,h){return l===An&&(h(y.EPERM(l)),!0)},u.prototype.createParentDirectoriesAsync=function(l,h){var p=d.dirname(l),g=[],_=this;function N(){if(!g.length)return h();var P=g.pop();_._readable.stat(P,!1,function(q,Q){if(!Q)return h();_._writable.mkdir(P,Q.mode,function(ce){if(ce)return h(ce);N()})})}this._writable.stat(p,!1,function P(q,Q){q?(g.push(p),p=d.dirname(p),_._writable.stat(p,!1,P)):N()})},u.prototype.createParentDirectories=function(l){for(var h=this,p=d.dirname(l),g=[];!this._writable.existsSync(p);)g.push(p),p=d.dirname(p);(g=g.reverse()).forEach(function(_){h._writable.mkdirSync(_,h.statSync(_,!1).mode)})},u.prototype.operateOnWritable=function(l,h){if(!this.existsSync(l))throw y.ENOENT(l);this._writable.existsSync(l)||this.copyToWritable(l),h()},u.prototype.operateOnWritableAsync=function(l,h){var p=this;this.exists(l,function(g){if(!g)return h(y.ENOENT(l));p._writable.exists(l,function(_){if(!_)return p.copyToWritableAsync(l,h);h()})})},u.prototype.copyToWritable=function(l){var h=this.statSync(l,!1);h.isDirectory()?this._writable.mkdirSync(l,h.mode):this.writeFileSync(l,this._readable.readFileSync(l,null,Tr("r")),null,Tr("w"),this.statSync(l,!1).mode)},u.prototype.copyToWritableAsync=function(l,h){var p=this;this.stat(l,!1,function(g,_){return g?h(g):_.isDirectory()?p._writable.mkdir(l,_.mode,h):void p._readable.readFile(l,null,Tr("r"),function(N,P){if(N)return h(N);p.writeFile(l,P,null,Tr("w"),_.mode,h)})})},u}(J),zs=function(c){function u(l,h,p){p===void 0&&(p=!0),c.call(this,new am(l,h)),me(p,u.Name,{readable:"readable file system",writable:"writable file system"})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{var p=new u(l.writable,l.readable,!1);p.initialize(function(g){h(g,p)},!1)}catch(g){h(g)}},u.isAvailable=function(){return am.isAvailable()},u.prototype.initialize=function(l,h){h===void 0&&(h=!0),h&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),c.prototype.initialize.call(this,l)},u.prototype.getOverlayedFileSystems=function(){return c.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},u.prototype.unwrap=function(){return c.prototype.getFSUnlocked.call(this)},u}(Ae);zs.Name="OverlayFS",zs.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}},function(c){c[c.CB=0]="CB",c[c.FD=1]="FD",c[c.API_ERROR=2]="API_ERROR",c[c.STATS=3]="STATS",c[c.PROBE=4]="PROBE",c[c.FILEFLAG=5]="FILEFLAG",c[c.BUFFER=6]="BUFFER",c[c.ERROR=7]="ERROR"}(lt||(lt={}));var Gf=function(){this._callbacks={},this._nextId=0};Gf.prototype.toRemoteArg=function(c){var u=this._nextId++;return this._callbacks[u]=c,{type:lt.CB,id:u}},Gf.prototype.toLocalArg=function(c){var u=this._callbacks[c];return delete this._callbacks[c],u};var Tl=function(){this._fileDescriptors={},this._nextId=0};function Nl(c){return{type:lt.API_ERROR,errorData:Di(c.writeToBuffer())}}function lm(c){return y.fromBuffer(Fi(c.errorData))}function um(c){return{type:lt.ERROR,name:c.name,message:c.message,stack:c.stack}}function cm(c){var u=kt[c.name];typeof u!="function"&&(u=Error);var l=new u(c.message);return l.stack=c.stack,l}function fm(c){return{type:lt.STATS,statsData:Di(c.toBuffer())}}function hm(c){return O.fromBuffer(Fi(c.statsData))}function dm(c){return{type:lt.FILEFLAG,flagStr:c.getFlagString()}}function pm(c){return I.getFileFlag(c.flagStr)}function Di(c){return z(c)}function Fi(c){return ne(c)}function ym(c){return{type:lt.BUFFER,data:Di(c)}}function mm(c){return Fi(c.data)}Tl.prototype.toRemoteArg=function(c,u,l,h){var p,g,_=this._nextId++;this._fileDescriptors[_]=c,c.stat(function(N,P){N?h(N):(g=Di(P.toBuffer()),l.isReadable()?c.read(n.alloc(P.size),0,P.size,0,function(q,Q,ce){q?h(q):(p=Di(ce),h(null,{type:lt.FD,id:_,data:p,stat:g,path:u,flag:l.getFlagString()}))}):h(null,{type:lt.FD,id:_,data:new ArrayBuffer(0),stat:g,path:u,flag:l.getFlagString()}))})},Tl.prototype.applyFdAPIRequest=function(c,u){var l=this,h=c.args[0];this._applyFdChanges(h,function(p,g){p?u(p):g[c.method](function(_){c.method==="close"&&delete l._fileDescriptors[h.id],u(_)})})},Tl.prototype._applyFdChanges=function(c,u){var l=this._fileDescriptors[c.id],h=Fi(c.data),p=O.fromBuffer(Fi(c.stat)),g=I.getFileFlag(c.flag);g.isWriteable()?l.write(h,0,h.length,g.isAppendable()?l.getPos():0,function(_){function N(){l.stat(function(P,q){P?u(P):q.mode!==p.mode?l.chmod(p.mode,function(Q){u(Q,l)}):u(P,l)})}_?u(_):g.isAppendable()?N():l.truncate(h.length,function(){N()})}):u(null,l)};var gm=function(c){function u(l,h,p,g,_,N){c.call(this,l,h,p,g,N),this._remoteFdId=_}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getRemoteFdId=function(){return this._remoteFdId},u.prototype.toRemoteArg=function(){return{type:lt.FD,id:this._remoteFdId,data:Di(this.getBuffer()),stat:Di(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},u.prototype.sync=function(l){this._syncClose("sync",l)},u.prototype.close=function(l){this._syncClose("close",l)},u.prototype._syncClose=function(l,h){var p=this;this.isDirty()?this._fs.syncClose(l,this,function(g){g||p.resetDirty(),h(g)}):h()},u}(b),Al=function(c){function u(l,h){var p=this;h===void 0&&(h=!0),c.call(this),this._callbackConverter=new Gf,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=l,me(h,u.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(g){var _,N=g.data;if((_=N)&&typeof _=="object"&&_.hasOwnProperty("browserfsMessage")&&_.browserfsMessage){var P,q=N.args,Q=new Array(q.length);for(P=0;P<Q.length;P++)Q[P]=p._argRemote2Local(q[P]);p._callbackConverter.toLocalArg(N.cbId).apply(null,Q)}})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u(l.worker,!1);p.initialize(function(){h(null,p)})},u.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},u.attachRemoteListener=function(l){var h=new Tl;function p(_,N,P){typeof _=="object"?_ instanceof O?P(null,fm(_)):_ instanceof y?P(null,Nl(_)):_ instanceof C?P(null,h.toRemoteArg(_,N[0],N[1],P)):_ instanceof I?P(null,dm(_)):_ instanceof n?P(null,ym(_)):_ instanceof Error?P(null,um(_)):P(null,_):P(null,_)}function g(_,N){if(!_)return _;if(typeof _=="object"){if(typeof _.type!="number")return _;var P=_;switch(P.type){case lt.CB:var q=_.id;return function(){var Q,ce,pe=arguments,ve=new Array(arguments.length),we=arguments.length;function Ne(Ve){we>0&&(we=-1,ce={browserfsMessage:!0,cbId:q,args:[Nl(Ve)]},l.postMessage(ce))}for(Q=0;Q<arguments.length;Q++)(function(Ve,Nt){p(Nt,N,function(Qr,Ar){ve[Ve]=Ar,Qr?Ne(Qr):--we==0&&(ce={browserfsMessage:!0,cbId:q,args:ve},l.postMessage(ce))})})(Q,pe[Q]);arguments.length===0&&(ce={browserfsMessage:!0,cbId:q,args:ve},l.postMessage(ce))};case lt.API_ERROR:return lm(P);case lt.STATS:return hm(P);case lt.FILEFLAG:return pm(P);case lt.BUFFER:return mm(P);case lt.ERROR:return cm(P);default:return _}}return _}l.addEventListener("message",function(_){var N,P,q=_.data;if((P=q)&&typeof P=="object"&&P.hasOwnProperty("browserfsMessage")&&P.browserfsMessage){var Q=q.args,ce=new Array(Q.length);switch(q.method){case"close":case"sync":N=Q[1],h.applyFdAPIRequest(q,function(we){var Ne={browserfsMessage:!0,cbId:N.id,args:we?[Nl(we)]:[]};l.postMessage(Ne)});break;case"probe":(function(){var we=re.getRootFS(),Ne=Q[1],Ve={type:lt.PROBE,isReadOnly:we.isReadOnly(),supportsLinks:we.supportsLinks(),supportsProps:we.supportsProps()},Nt={browserfsMessage:!0,cbId:Ne.id,args:[Ve]};l.postMessage(Nt)})();break;default:for(var pe=0;pe<Q.length;pe++)ce[pe]=g(Q[pe],ce);var ve=re.getRootFS();ve[q.method].apply(ve,ce)}}})},u.prototype.getName=function(){return u.Name},u.prototype.initialize=function(l){var h=this;if(this._isInitialized)l();else{var p={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(be()),this._callbackConverter.toRemoteArg(function(g){h._isInitialized=!0,h._isReadOnly=g.isReadOnly,h._supportLinks=g.supportsLinks,h._supportProps=g.supportsProps,l()})]};this._worker.postMessage(p)}},u.prototype.isReadOnly=function(){return this._isReadOnly},u.prototype.supportsSynch=function(){return!1},u.prototype.supportsLinks=function(){return this._supportLinks},u.prototype.supportsProps=function(){return this._supportProps},u.prototype.rename=function(l,h,p){this._rpc("rename",arguments)},u.prototype.stat=function(l,h,p){this._rpc("stat",arguments)},u.prototype.open=function(l,h,p,g){this._rpc("open",arguments)},u.prototype.unlink=function(l,h){this._rpc("unlink",arguments)},u.prototype.rmdir=function(l,h){this._rpc("rmdir",arguments)},u.prototype.mkdir=function(l,h,p){this._rpc("mkdir",arguments)},u.prototype.readdir=function(l,h){this._rpc("readdir",arguments)},u.prototype.exists=function(l,h){this._rpc("exists",arguments)},u.prototype.realpath=function(l,h,p){this._rpc("realpath",arguments)},u.prototype.truncate=function(l,h,p){this._rpc("truncate",arguments)},u.prototype.readFile=function(l,h,p,g){this._rpc("readFile",arguments)},u.prototype.writeFile=function(l,h,p,g,_,N){this._rpc("writeFile",arguments)},u.prototype.appendFile=function(l,h,p,g,_,N){this._rpc("appendFile",arguments)},u.prototype.chmod=function(l,h,p,g){this._rpc("chmod",arguments)},u.prototype.chown=function(l,h,p,g,_){this._rpc("chown",arguments)},u.prototype.utimes=function(l,h,p,g){this._rpc("utimes",arguments)},u.prototype.link=function(l,h,p){this._rpc("link",arguments)},u.prototype.symlink=function(l,h,p,g){this._rpc("symlink",arguments)},u.prototype.readlink=function(l,h){this._rpc("readlink",arguments)},u.prototype.syncClose=function(l,h,p){this._worker.postMessage({browserfsMessage:!0,method:l,args:[h.toRemoteArg(),this._callbackConverter.toRemoteArg(p)]})},u.prototype._argRemote2Local=function(l){if(!l)return l;if(typeof l=="object"){if(typeof l.type!="number")return l;var h=l;switch(h.type){case lt.API_ERROR:return lm(h);case lt.FD:var p=h;return new gm(this,p.path,I.getFileFlag(p.flag),O.fromBuffer(Fi(p.stat)),p.id,Fi(p.data));case lt.STATS:return hm(h);case lt.FILEFLAG:return pm(h);case lt.BUFFER:return mm(h);case lt.ERROR:return cm(h);default:return l}}return l},u.prototype._rpc=function(l,h){for(var p=new Array(h.length),g=0;g<h.length;g++)p[g]=this._argLocal2Remote(h[g]);var _={browserfsMessage:!0,method:l,args:p};this._worker.postMessage(_)},u.prototype._argLocal2Remote=function(l){if(!l)return l;switch(typeof l){case"object":return l instanceof O?fm(l):l instanceof y?Nl(l):l instanceof gm?l.toRemoteArg():l instanceof I?dm(l):l instanceof n?ym(l):l instanceof Error?um(l):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(l);default:return l}},u}(J);function vm(c,u,l){var h=new XMLHttpRequest;h.open("HEAD",u,c),h.onreadystatechange=function(p){if(h.readyState===4){if(h.status!==200)return l(new y(h.status,"XHR HEAD error."));try{return l(null,parseInt(h.getResponseHeader("Content-Length")||"-1",10))}catch{return l(new y(a.EIO,"XHR HEAD error: Could not read content-length."))}}},h.send()}Al.Name="WorkerFS",Al.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(c,u){c.postMessage?u():u(new y(a.EINVAL,"option must be a Web Worker instance."))}}};var wm=function(c,u,l){var h=new XMLHttpRequest;h.open("GET",c,!0);var p=!0;switch(u){case"buffer":h.responseType="arraybuffer";break;case"json":try{h.responseType="json",p=h.responseType==="json"}catch{p=!1}break;default:return l(new y(a.EINVAL,"Invalid download type: "+u))}h.onreadystatechange=function(g){if(h.readyState===4){if(h.status!==200)return l(new y(h.status,"XHR error."));switch(u){case"buffer":return l(null,h.response?n.from(h.response):be());case"json":return l(null,p?h.response:JSON.parse(h.responseText))}}},h.send()},a3=L&&typeof Blob<"u"?function(c,u){var l,h,p=new XMLHttpRequest;switch(p.open("GET",c,!1),u){case"buffer":p.responseType="arraybuffer";break;case"json":break;default:throw new y(a.EINVAL,"Invalid download type: "+u)}if(p.onreadystatechange=function(g){if(p.readyState===4)if(p.status===200)switch(u){case"buffer":l=n.from(p.response);break;case"json":l=JSON.parse(p.response)}else h=new y(p.status,"XHR error.")},p.send(),h)throw h;return l}:function(c,u){var l=new XMLHttpRequest;l.open("GET",c,!1);var h=null,p=null;if(l.overrideMimeType("text/plain; charset=x-user-defined"),l.onreadystatechange=function(g){if(l.readyState===4){if(l.status!==200)return void(p=new y(l.status,"XHR error."));switch(u){case"buffer":var _=l.responseText;h=n.alloc(_.length);for(var N=0;N<_.length;N++)h[N]=_.charCodeAt(N);return;case"json":return void(h=JSON.parse(l.responseText))}}},l.send(),p)throw p;return h},Br=function(){this._index={},this.addPath("/",new fr)};Br.fromListing=function(c){var u=new Br,l=new fr;u._index["/"]=l;for(var h=[["",c,l]];h.length>0;){var p=void 0,g=h.pop(),_=g[0],N=g[1],P=g[2];for(var q in N)if(N.hasOwnProperty(q)){var Q=N[q],ce=_+"/"+q;Q?(u._index[ce]=p=new fr,h.push([ce,Q,p])):p=new xo(new O(E.FILE,-1,365)),P&&(P._ls[q]=p)}}return u},Br.prototype.fileIterator=function(c){var u=this;for(var l in u._index)if(u._index.hasOwnProperty(l))for(var h=u._index[l],p=0,g=h.getListing();p<g.length;p+=1){var _=g[p],N=h.getItem(_);In(N)&&c(N.getData())}},Br.prototype.addPath=function(c,u){if(!u)throw new Error("Inode must be specified");if(c[0]!=="/")throw new Error("Path must be absolute, got: "+c);if(this._index.hasOwnProperty(c))return this._index[c]===u;var l=this._split_path(c),h=l[0],p=l[1],g=this._index[h];return!(g===void 0&&c!=="/"&&(g=new fr,!this.addPath(h,g))||c!=="/"&&!g.addItem(p,u)||($n(u)&&(this._index[c]=u),0))},Br.prototype.addPathFast=function(c,u){var l=c.lastIndexOf("/"),h=l===0?"/":c.substring(0,l),p=c.substring(l+1),g=this._index[h];return g===void 0&&(g=new fr,this.addPathFast(h,g)),!!g.addItem(p,u)&&(u.isDir()&&(this._index[c]=u),!0)},Br.prototype.removePath=function(c){var u=this._split_path(c),l=u[0],h=u[1],p=this._index[l];if(p===void 0)return null;var g=p.remItem(h);if(g===null)return null;if($n(g)){for(var _=0,N=g.getListing();_<N.length;_+=1){var P=N[_];this.removePath(c+"/"+P)}c!=="/"&&delete this._index[c]}return g},Br.prototype.ls=function(c){var u=this._index[c];return u===void 0?null:u.getListing()},Br.prototype.getInode=function(c){var u=this._split_path(c),l=u[0],h=u[1],p=this._index[l];return p===void 0?null:l===c?p:p.getItem(h)},Br.prototype._split_path=function(c){var u=d.dirname(c);return[u,c.substr(u.length+(u==="/"?0:1))]};var xo=function(c){this.data=c};xo.prototype.isFile=function(){return!0},xo.prototype.isDir=function(){return!1},xo.prototype.getData=function(){return this.data},xo.prototype.setData=function(c){this.data=c};var fr=function(c){c===void 0&&(c=null),this.data=c,this._ls={}};function In(c){return!!c&&c.isFile()}function $n(c){return!!c&&c.isDir()}fr.prototype.isFile=function(){return!1},fr.prototype.isDir=function(){return!0},fr.prototype.getData=function(){return this.data},fr.prototype.getStats=function(){return new O(E.DIRECTORY,4096,365)},fr.prototype.getListing=function(){return Object.keys(this._ls)},fr.prototype.getItem=function(c){var u=this._ls[c];return u||null},fr.prototype.addItem=function(c,u){return!(c in this._ls)&&(this._ls[c]=u,!0)},fr.prototype.remItem=function(c){var u=this._ls[c];return u===void 0?null:(delete this._ls[c],u)};var Il=function(c){function u(l,h,p){h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),l||(l="index.json"),h.length>0&&h.charAt(h.length-1)!=="/"&&(h+="/"),this.prefixUrl=h;var g=null;if(typeof l=="string"){if(!(g=this._requestFileSync(l,"json")))throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else g=l;me(p,u.Name,{index:typeof l=="string"?l:"file index as an object",baseUrl:h}),this._index=Br.fromListing(g)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){l.index===void 0&&(l.index="index.json"),typeof l.index=="string"?u.FromURL(l.index,h,l.baseUrl,!1):h(null,new u(l.index,l.baseUrl,!1))},u.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},u.FromURL=function(l,h,p,g){p===void 0&&(p=l.slice(0,l.lastIndexOf("/")+1)),g===void 0&&(g=!0),g&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+l+'", baseUrl: "'+p+`" }, cb)' instead.`),wm(l,"json",function(_,N){_?h(_):h(null,new u(N,p,!1))})},u.prototype.empty=function(){this._index.fileIterator(function(l){l.fileData=null})},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(l,h){h(0,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.preloadFile=function(l,h){var p=this._index.getInode(l);if(!In(p))throw y.EISDIR(l);if(p===null)throw y.ENOENT(l);var g=p.getData();g.size=h.length,g.fileData=h},u.prototype.stat=function(l,h,p){var g,_=this._index.getInode(l);if(_===null)return p(y.ENOENT(l));In(_)?(g=_.getData()).size<0?this._requestFileSizeAsync(l,function(N,P){if(N)return p(N);g.size=P,p(null,g.clone())}):p(null,g.clone()):$n(_)?(g=_.getStats(),p(null,g)):p(y.FileError(a.EINVAL,l))},u.prototype.statSync=function(l,h){var p,g=this._index.getInode(l);if(g===null)throw y.ENOENT(l);if(In(g))(p=g.getData()).size<0&&(p.size=this._requestFileSizeSync(l));else{if(!$n(g))throw y.FileError(a.EINVAL,l);p=g.getStats()}return p},u.prototype.open=function(l,h,p,g){if(h.isWriteable())return g(new y(a.EPERM,l));var _=this,N=this._index.getInode(l);if(N===null)return g(y.ENOENT(l));if(!In(N))return g(y.EISDIR(l));var P=N.getData();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:return g(y.EEXIST(l));case v.NOP:if(P.fileData)return g(null,new T(_,l,h,P.clone(),P.fileData));this._requestFileAsync(l,"buffer",function(q,Q){return q?g(q):(P.size=Q.length,P.fileData=Q,g(null,new T(_,l,h,P.clone(),Q)))});break;default:return g(new y(a.EINVAL,"Invalid FileMode object."))}},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var g=this._index.getInode(l);if(g===null)throw y.ENOENT(l);if(!In(g))throw y.EISDIR(l);var _=g.getData();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(l);case v.NOP:if(_.fileData)return new T(this,l,h,_.clone(),_.fileData);var N=this._requestFileSync(l,"buffer");return _.size=N.length,_.fileData=N,new T(this,l,h,_.clone(),N);default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdir=function(l,h){try{h(null,this.readdirSync(l))}catch(p){h(p)}},u.prototype.readdirSync=function(l){var h=this._index.getInode(l);if(h===null)throw y.ENOENT(l);if($n(h))return h.getListing();throw y.ENOTDIR(l)},u.prototype.readFile=function(l,h,p,g){var _=g;this.open(l,p,420,function(N,P){if(N)return g(N);g=function(Q,ce){P.close(function(pe){return Q||(Q=pe),_(Q,ce)})};var q=P.getBuffer();h===null?g(N,se(q)):function(Q,ce,pe){try{pe(null,Q.toString(ce))}catch(ve){pe(ve)}}(q,h,g)})},u.prototype.readFileSync=function(l,h,p){var g=this.openSync(l,p,420);try{var _=g.getBuffer();return h===null?se(_):_.toString(h)}finally{g.closeSync()}},u.prototype.getXhrPath=function(l){return l.charAt(0)==="/"&&(l=l.slice(1)),this.prefixUrl+l},u.prototype._requestFileAsync=function(l,h,p){wm(this.getXhrPath(l),h,p)},u.prototype._requestFileSync=function(l,h){return a3(this.getXhrPath(l),h)},u.prototype._requestFileSizeAsync=function(l,h){(function(p,g){vm(!0,p,g)})(this.getXhrPath(l),h)},u.prototype._requestFileSizeSync=function(l){return h=this.getXhrPath(l),p=-1,vm(!1,h,function(g,_){if(g)throw g;p=_}),p;var h,p},u}(J);Il.Name="XmlHttpRequest",Il.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Ci=function(){};Ci.str2byte=function(c,u){for(var l=c.length>u.length?u.length:c.length,h=0;h<l;h++){var p=c.charCodeAt(h);if(p>127){var g=Ci.extendedChars.indexOf(c.charAt(h));g>-1&&(p=g+128)}u[p]=h}return l},Ci.byte2str=function(c){for(var u=new Array(c.length),l=0;l<c.length;l++){var h=c[l];u[l]=h>127?Ci.extendedChars[h-128]:String.fromCharCode(h)}return u.join("")},Ci.byteLength=function(c){return c.length},Ci.extendedChars=["\xC7","\xFC","\xE9","\xE2","\xE4","\xE0","\xE5","\xE7","\xEA","\xEB","\xE8","\xEF","\xEE","\xEC","\xC4","\xC5","\xC9","\xE6","\xC6","\xF4","\xF6","\xF2","\xFB","\xF9","\xFF","\xD6","\xDC","\xF8","\xA3","\xD8","\xD7","\u0192","\xE1","\xED","\xF3","\xFA","\xF1","\xD1","\xAA","\xBA","\xBF","\xAE","\xAC","\xBD","\xBC","\xA1","\xAB","\xBB","_","_","_","\xA6","\xA6","\xC1","\xC2","\xC0","\xA9","\xA6","\xA6","+","+","\xA2","\xA5","+","+","-","-","+","-","+","\xE3","\xC3","+","+","-","-","\xA6","-","+","\xA4","\xF0","\xD0","\xCA","\xCB","\xC8","i","\xCD","\xCE","\xCF","+","+","_","_","\xA6","\xCC","_","\xD3","\xDF","\xD4","\xD2","\xF5","\xD5","\xB5","\xFE","\xDE","\xDA","\xDB","\xD9","\xFD","\xDD","\xAF","\xB4","\xAD","\xB1","_","\xBE","\xB6","\xA7","\xF7","\xB8","\xB0","\xA8","\xB7","\xB9","\xB3","\xB2","_"," "];var _m,Oo,l3=r(31).inflateRaw,Sm={};function Em(c,u){return new Date(1980+(u>>9),(u>>5&15)-1,31&u,c>>11,c>>5&63,31&c)}function Rl(c,u,l,h){return h===0?"":u?c.toString("utf8",l,l+h):Ci.byte2str(c.slice(l,l+h))}(function(c){c[c.MSDOS=0]="MSDOS",c[c.AMIGA=1]="AMIGA",c[c.OPENVMS=2]="OPENVMS",c[c.UNIX=3]="UNIX",c[c.VM_CMS=4]="VM_CMS",c[c.ATARI_ST=5]="ATARI_ST",c[c.OS2_HPFS=6]="OS2_HPFS",c[c.MAC=7]="MAC",c[c.Z_SYSTEM=8]="Z_SYSTEM",c[c.CP_M=9]="CP_M",c[c.NTFS=10]="NTFS",c[c.MVS=11]="MVS",c[c.VSE=12]="VSE",c[c.ACORN_RISC=13]="ACORN_RISC",c[c.VFAT=14]="VFAT",c[c.ALT_MVS=15]="ALT_MVS",c[c.BEOS=16]="BEOS",c[c.TANDEM=17]="TANDEM",c[c.OS_400=18]="OS_400",c[c.OSX=19]="OSX"})(_m||(_m={})),function(c){c[c.STORED=0]="STORED",c[c.SHRUNK=1]="SHRUNK",c[c.REDUCED_1=2]="REDUCED_1",c[c.REDUCED_2=3]="REDUCED_2",c[c.REDUCED_3=4]="REDUCED_3",c[c.REDUCED_4=5]="REDUCED_4",c[c.IMPLODE=6]="IMPLODE",c[c.DEFLATE=8]="DEFLATE",c[c.DEFLATE64=9]="DEFLATE64",c[c.TERSE_OLD=10]="TERSE_OLD",c[c.BZIP2=12]="BZIP2",c[c.LZMA=14]="LZMA",c[c.TERSE_NEW=18]="TERSE_NEW",c[c.LZ77=19]="LZ77",c[c.WAVPACK=97]="WAVPACK",c[c.PPMD=98]="PPMD"}(Oo||(Oo={}));var Nr=function(c){if(this.data=c,c.readUInt32LE(0)!==67324752)throw new y(a.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Nr.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Nr.prototype.flags=function(){return this.data.readUInt16LE(6)},Nr.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Nr.prototype.lastModFileTime=function(){return Em(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Nr.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Nr.prototype.crc32=function(){return this.data.readUInt32LE(14)},Nr.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Nr.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Nr.prototype.fileName=function(){return Rl(this.data,this.useUTF8(),30,this.fileNameLength())},Nr.prototype.extraField=function(){var c=30+this.fileNameLength();return this.data.slice(c,c+this.extraFieldLength())},Nr.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Nr.prototype.useUTF8=function(){return(2048&this.flags())==2048};var Vs=function(c,u,l){this.header=c,this.record=u,this.data=l};Vs.prototype.decompress=function(){var c=this.header.compressionMethod(),u=Sm[c];if(u)return u(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var l=Oo[c];throw l||(l="Unknown: "+c),new y(a.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+l)},Vs.prototype.getHeader=function(){return this.header},Vs.prototype.getRecord=function(){return this.record},Vs.prototype.getRawData=function(){return this.data};var Ue=function(c,u){if(this.zipData=c,this.data=u,this.data.readUInt32LE(0)!==33639248)throw new y(a.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};Ue.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},Ue.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},Ue.prototype.flag=function(){return this.data.readUInt16LE(8)},Ue.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},Ue.prototype.lastModFileTime=function(){return Em(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},Ue.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},Ue.prototype.crc32=function(){return this.data.readUInt32LE(16)},Ue.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},Ue.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},Ue.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},Ue.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},Ue.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},Ue.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},Ue.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},Ue.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},Ue.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},Ue.prototype.produceFilename=function(){return Rl(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},Ue.prototype.fileName=function(){return this._filename},Ue.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},Ue.prototype.extraField=function(){var c=44+this.fileNameLength();return this.data.slice(c,c+this.extraFieldLength())},Ue.prototype.fileComment=function(){var c=46+this.fileNameLength()+this.extraFieldLength();return Rl(this.data,this.useUTF8(),c,this.fileCommentLength())},Ue.prototype.rawFileComment=function(){var c=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(c,c+this.fileCommentLength())},Ue.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},Ue.prototype.isDirectory=function(){var c=this.fileName();return!!(16&this.externalAttributes())||c.charAt(c.length-1)==="/"},Ue.prototype.isFile=function(){return!this.isDirectory()},Ue.prototype.useUTF8=function(){return(2048&this.flag())==2048},Ue.prototype.isEncrypted=function(){return(1&this.flag())==1},Ue.prototype.getFileData=function(){var c=this.headerRelativeOffset(),u=new Nr(this.zipData.slice(c));return new Vs(u,this,this.zipData.slice(c+u.totalSize()))},Ue.prototype.getData=function(){return this.getFileData().decompress()},Ue.prototype.getRawData=function(){return this.getFileData().getRawData()},Ue.prototype.getStats=function(){return new O(E.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var yn=function(c){if(this.data=c,this.data.readUInt32LE(0)!==101010256)throw new y(a.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};yn.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},yn.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},yn.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},yn.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},yn.prototype.cdSize=function(){return this.data.readUInt32LE(12)},yn.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},yn.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},yn.prototype.cdZipComment=function(){return Rl(this.data,!0,22,this.cdZipCommentLength())},yn.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var bm=function(c,u,l,h){this.index=c,this.directoryEntries=u,this.eocd=l,this.data=h},Pi=function(c){function u(l,h,p){h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),this.name=h,this._index=new Br,this._directoryEntries=[],this._eocd=null,me(p,u.Name,{zipData:"zip data as a Buffer",name:h}),l instanceof bm?(this._index=l.index,this._directoryEntries=l.directoryEntries,this._eocd=l.eocd,this.data=l.data):(this.data=l,this.populateIndex())}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{u.computeIndex(l.zipData,function(p){var g=new u(p,l.name,!1);h(null,g)},!1)}catch(p){h(p)}},u.isAvailable=function(){return!0},u.RegisterDecompressionMethod=function(l,h){Sm[l]=h},u.computeIndex=function(l,h,p){p===void 0&&(p=!0),p&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var g=new Br,_=u.getEOCD(l);if(_.diskNumber()!==_.cdDiskNumber())throw new y(a.EINVAL,"ZipFS does not support spanned zip files.");var N=_.cdOffset();if(N===4294967295)throw new y(a.EINVAL,"ZipFS does not support Zip64.");var P=N+_.cdSize();u.computeIndexResponsive(l,g,N,P,h,[],_)},u.getEOCD=function(l){for(var h=Math.min(65557,l.length-1),p=22;p<h;p++)if(l.readUInt32LE(l.length-p)===101010256)return new yn(l.slice(l.length-p));throw new y(a.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},u.addToIndex=function(l,h){var p=l.fileName();if(p.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");p.charAt(p.length-1)==="/"&&(p=p.substr(0,p.length-1)),l.isDirectory()?h.addPathFast("/"+p,new fr(l)):h.addPathFast("/"+p,new xo(l))},u.computeIndexResponsive=function(l,h,p,g,_,N,P){if(p<g){for(var q=0;q++<200&&p<g;){var Q=new Ue(l,l.slice(p));u.addToIndex(Q,h),p+=Q.totalSize(),N.push(Q)}Hf(function(){u.computeIndexResponsive(l,h,p,g,_,N,P)})}else _(new bm(h,N,P,l))},u.prototype.getName=function(){return u.Name+(this.name!==""?" "+this.name:"")},u.prototype.getCentralDirectoryEntry=function(l){var h=this._index.getInode(l);if(h===null)throw y.ENOENT(l);if(In(h)||$n(h))return h.getData();throw y.EPERM("Invalid inode: "+h)},u.prototype.getCentralDirectoryEntryAt=function(l){var h=this._directoryEntries[l];if(!h)throw new RangeError("Invalid directory index: "+l+".");return h},u.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},u.prototype.getEndOfCentralDirectory=function(){return this._eocd},u.prototype.diskSpace=function(l,h){h(this.data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(l,h){var p,g=this._index.getInode(l);if(g===null)throw y.ENOENT(l);if(In(g))p=g.getData().getStats();else{if(!$n(g))throw new y(a.EINVAL,"Invalid inode.");p=g.getStats()}return p},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var g=this._index.getInode(l);if(!g)throw y.ENOENT(l);if(!In(g))throw y.EISDIR(l);var _=g.getData(),N=_.getStats();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(l);case v.NOP:return new T(this,l,h,N,_.getData());default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(l){var h=this._index.getInode(l);if(h){if($n(h))return h.getListing();throw y.ENOTDIR(l)}throw y.ENOENT(l)},u.prototype.readFileSync=function(l,h,p){var g=this.openSync(l,p,420);try{var _=g.getBuffer();return h===null?se(_):_.toString(h)}finally{g.closeSync()}},u.prototype.populateIndex=function(){var l=this,h=this._eocd=u.getEOCD(this.data);if(h.diskNumber()!==h.cdDiskNumber())throw new y(a.EINVAL,"ZipFS does not support spanned zip files.");var p=h.cdOffset();if(p===4294967295)throw new y(a.EINVAL,"ZipFS does not support Zip64.");for(var g=p+h.cdSize();p<g;){var _=new Ue(l.data,l.data.slice(p));p+=_.totalSize(),u.addToIndex(_,l._index),l._directoryEntries.push(_)}},u}(Se);function hr(c,u,l){return c.toString("ascii",u,u+l).trim()}function Jf(c,u,l){if(l===1)return String.fromCharCode(c[u]);for(var h=Math.floor(l/2),p=new Array(h),g=0;g<h;g++){var _=u+(g<<1);p[g]=String.fromCharCode(c[_+1]|c[_]<<8)}return p.join("")}function mn(c,u){var l=parseInt(hr(c,u,4),10),h=parseInt(hr(c,u+4,2),10),p=parseInt(hr(c,u+6,2),10),g=parseInt(hr(c,u+8,2),10),_=parseInt(hr(c,u+10,2),10),N=parseInt(hr(c,u+12,2),10),P=parseInt(hr(c,u+14,2),10);return new Date(l,h,p,g,_,N,100*P)}function Li(c,u){var l=c[u],h=c[u+1],p=c[u+2],g=c[u+3],_=c[u+4],N=c[u+5];return new Date(l,h-1,p,g,_,N)}function u3(c,u){var l=c.slice(u),h=new Tt(l);switch(h.signatureWord()){case 17221:return new Nm(l);case 20548:return new h3(l);case 21328:return new Am(l);case 21332:return new Im(l);case 17746:return new Rm(l);case 17747:return new d3(l);case 20568:return new Fm(l);case 20558:return new p3(l);case 21324:return new Yf(l);case 20045:return new Cm(l);case 17228:return new Kf(l);case 20556:return new y3(l);case 21061:return new Pm(l);case 21574:return new Lm(l);case 21318:return new m3(l);case 21074:return new Dm(l);default:return h}}function xm(c,u,l,h){l-=4;for(var p=new Array;u<l;){var g=u3(c,u),_=g.length();if(_===0)return p;if(u+=_,g instanceof Im)break;g instanceof Nm?p=p.concat(g.getEntries(h)):p.push(g)}return p}Pi.Name="ZipFS",Pi.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:Ie},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Pi.CompressionMethod=Oo,Pi.RegisterDecompressionMethod(Oo.DEFLATE,function(c,u,l){return ue(l3(c.slice(0,u),{chunkSize:l}))}),Pi.RegisterDecompressionMethod(Oo.STORED,function(c,u,l){return se(c,0,l)});var ko=function(c){this._data=c};ko.prototype.type=function(){return this._data[0]},ko.prototype.standardIdentifier=function(){return hr(this._data,1,5)},ko.prototype.version=function(){return this._data[6]},ko.prototype.data=function(){return this._data.slice(7,2048)};var Om=function(c){function u(l){c.call(this,l),this._root=null}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.systemIdentifier=function(){return this._getString32(8)},u.prototype.volumeIdentifier=function(){return this._getString32(40)},u.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},u.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},u.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},u.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},u.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},u.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},u.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},u.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},u.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},u.prototype.rootDirectoryEntry=function(l){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(l)),this._root},u.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},u.prototype.publisherIdentifier=function(){return this._getString(318,128)},u.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},u.prototype.applicationIdentifier=function(){return this._getString(574,128)},u.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},u.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},u.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},u.prototype.volumeCreationDate=function(){return mn(this._data,813)},u.prototype.volumeModificationDate=function(){return mn(this._data,830)},u.prototype.volumeExpirationDate=function(){return mn(this._data,847)},u.prototype.volumeEffectiveDate=function(){return mn(this._data,864)},u.prototype.fileStructureVersion=function(){return this._data[881]},u.prototype.applicationUsed=function(){return this._data.slice(883,1395)},u.prototype.reserved=function(){return this._data.slice(1395,2048)},u.prototype._getString32=function(l){return this._getString(l,32)},u}(ko),c3=function(c){function u(l){if(c.call(this,l),this.type()!==1)throw new y(a.EIO,"Invalid primary volume descriptor.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"ISO9660"},u.prototype._constructRootDirectoryRecord=function(l){return new km(l,-1)},u.prototype._getString=function(l,h){return this._getString(l,h)},u}(Om),f3=function(c){function u(l){if(c.call(this,l),this.type()!==2)throw new y(a.EIO,"Invalid supplementary volume descriptor.");var h=this.escapeSequence(),p=h[2];if(h[0]!==37||h[1]!==47||p!==64&&p!==67&&p!==69)throw new y(a.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+h.toString())}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"Joliet"},u.prototype.escapeSequence=function(){return this._data.slice(88,120)},u.prototype._constructRootDirectoryRecord=function(l){return new Tm(l,-1)},u.prototype._getString=function(l,h){return Jf(this._data,l,h)},u}(Om),nt=function(c,u){this._suEntries=null,this._fileOrDir=null,this._data=c,this._rockRidgeOffset=u};nt.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},nt.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},nt.prototype.rootCheckForRockRidge=function(c){var u=this.getDirectory(c);this._rockRidgeOffset=u.getDotEntry(c)._getRockRidgeOffset(c),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},nt.prototype.length=function(){return this._data[0]},nt.prototype.extendedAttributeRecordLength=function(){return this._data[1]},nt.prototype.lba=function(){return 2048*this._data.readUInt32LE(2)},nt.prototype.dataLength=function(){return this._data.readUInt32LE(10)},nt.prototype.recordingDate=function(){return Li(this._data,18)},nt.prototype.fileFlags=function(){return this._data[25]},nt.prototype.fileUnitSize=function(){return this._data[26]},nt.prototype.interleaveGapSize=function(){return this._data[27]},nt.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},nt.prototype.identifier=function(){return this._getString(33,this._data[32])},nt.prototype.fileName=function(c){if(this.hasRockRidge()){var u=this._rockRidgeFilename(c);if(u!==null)return u}var l=this.identifier();if(this.isDirectory(c))return l;var h=l.indexOf(";");return h===-1?l:l[h-1]==="."?l.slice(0,h-1):l.slice(0,h)},nt.prototype.isDirectory=function(c){var u=!!(2&this.fileFlags());return!u&&this.hasRockRidge()&&(u=this.getSUEntries(c).filter(function(l){return l instanceof Kf}).length>0),u},nt.prototype.isSymlink=function(c){return this.hasRockRidge()&&this.getSUEntries(c).filter(function(u){return u instanceof Yf}).length>0},nt.prototype.getSymlinkPath=function(c){for(var u="",l=this.getSUEntries(c),h=this._getGetString(),p=0,g=l;p<g.length;p+=1){var _=g[p];if(_ instanceof Yf){for(var N=0,P=_.componentRecords();N<P.length;N+=1){var q=P[N],Q=q.flags();2&Q?u+="./":4&Q?u+="../":8&Q?u+="/":(u+=q.content(h),1&Q||(u+="/"))}if(!_.continueFlag())break}}return u.length>1&&u[u.length-1]==="/"?u.slice(0,u.length-1):u},nt.prototype.getFile=function(c){if(this.isDirectory(c))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=c.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},nt.prototype.getDirectory=function(c){if(!this.isDirectory(c))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(c)),this._fileOrDir},nt.prototype.getSUEntries=function(c){return this._suEntries||this._constructSUEntries(c),this._suEntries},nt.prototype._rockRidgeFilename=function(c){var u=this.getSUEntries(c).filter(function(N){return N instanceof Cm});if(u.length===0||6&u[0].flags())return null;for(var l="",h=this._getGetString(),p=0,g=u;p<g.length;p+=1){var _=g[p];if(l+=_.name(h),!(1&_.flags()))break}return l},nt.prototype._constructSUEntries=function(c){var u=33+this._data[32];u%2==1&&u++,u+=this._rockRidgeOffset,this._suEntries=xm(this._data,u,this.length(),c)},nt.prototype._getRockRidgeOffset=function(c){this._rockRidgeOffset=0;var u=this.getSUEntries(c);if(u.length>0){var l=u[0];if(l instanceof Am&&l.checkBytesPass())for(var h=1;h<u.length;h++){var p=u[h];if(p instanceof Dm||p instanceof Rm&&p.extensionIdentifier()==="IEEE_P1282")return l.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var km=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._getString=function(l,h){return hr(this._data,l,h)},u.prototype._constructDirectory=function(l){return new g3(this,l)},u.prototype._getGetString=function(){return hr},u}(nt),Tm=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._getString=function(l,h){return Jf(this._data,l,h)},u.prototype._constructDirectory=function(l){return new v3(this,l)},u.prototype._getGetString=function(){return Jf},u}(nt),Tt=function(c){this._data=c};Tt.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},Tt.prototype.signatureWordString=function(){return hr(this._data,0,2)},Tt.prototype.length=function(){return this._data[2]},Tt.prototype.suVersion=function(){return this._data[3]};var Nm=function(c){function u(l){c.call(this,l),this._entries=null}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},u.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},u.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},u.prototype.getEntries=function(l){if(!this._entries){var h=2048*this.continuationLba()+this.continuationLbaOffset();this._entries=xm(l,h,this.continuationLength(),l)}return this._entries},u}(Tt),h3=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(Tt),Am=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},u.prototype.bytesSkipped=function(){return this._data[6]},u}(Tt),Im=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(Tt),Rm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.identifierLength=function(){return this._data[4]},u.prototype.descriptorLength=function(){return this._data[5]},u.prototype.sourceLength=function(){return this._data[6]},u.prototype.extensionVersion=function(){return this._data[7]},u.prototype.extensionIdentifier=function(){return hr(this._data,8,this.identifierLength())},u.prototype.extensionDescriptor=function(){return hr(this._data,8+this.identifierLength(),this.descriptorLength())},u.prototype.extensionSource=function(){return hr(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},u}(Tt),d3=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.extensionSequence=function(){return this._data[4]},u}(Tt),Dm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(Tt),Fm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.mode=function(){return this._data.readUInt32LE(4)},u.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},u.prototype.uid=function(){return this._data.readUInt32LE(20)},u.prototype.gid=function(){return this._data.readUInt32LE(28)},u.prototype.inode=function(){return this._data.readUInt32LE(36)},u}(Tt),p3=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},u.prototype.devTLow=function(){return this._data.readUInt32LE(12)},u}(Tt),Yf=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.continueFlag=function(){return 1&this.flags()},u.prototype.componentRecords=function(){for(var l=new Array,h=5;h<this.length();){var p=new Ws(this._data.slice(h));l.push(p),h+=p.length()}return l},u}(Tt),Ws=function(c){this._data=c};Ws.prototype.flags=function(){return this._data[0]},Ws.prototype.length=function(){return 2+this.componentLength()},Ws.prototype.componentLength=function(){return this._data[1]},Ws.prototype.content=function(c){return c(this._data,2,this.componentLength())};var Cm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.name=function(l){return l(this._data,5,this.length()-5)},u}(Tt),Kf=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(Tt),y3=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(Tt),Pm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(Tt),Lm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.creation=function(){return 1&this.flags()?this._longFormDates()?mn(this._data,5):Li(this._data,5):null},u.prototype.modify=function(){if(2&this.flags()){var l=1&this.flags()?1:0;return this._longFormDates?mn(this._data,5+17*l):Li(this._data,5+7*l)}return null},u.prototype.access=function(){if(4&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,this._longFormDates?mn(this._data,5+17*l):Li(this._data,5+7*l)}return null},u.prototype.backup=function(){if(16&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,this._longFormDates?mn(this._data,5+17*l):Li(this._data,5+7*l)}return null},u.prototype.expiration=function(){if(32&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,this._longFormDates?mn(this._data,5+17*l):Li(this._data,5+7*l)}return null},u.prototype.effective=function(){if(64&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,l+=32&this.flags()?1:0,this._longFormDates?mn(this._data,5+17*l):Li(this._data,5+7*l)}return null},u.prototype._longFormDates=function(){return!!this.flags()},u}(Tt),m3=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},u.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},u.prototype.tableDepth=function(){return this._data[20]},u}(Tt),qs=function(c,u){var l=this;this._fileList=[],this._fileMap={},this._record=c;var h=c.lba(),p=h+c.dataLength();for(2&c.fileFlags()||(h=2048*c.getSUEntries(u).filter(function(N){return N instanceof Kf})[0].childDirectoryLba(),p=1/0);h<p;)if(u[h]!==0){var g=l._constructDirectoryRecord(u.slice(h)),_=g.fileName(u);_!=="\0"&&_!==""?g.hasRockRidge()&&g.getSUEntries(u).filter(function(N){return N instanceof Pm}).length!==0||(l._fileMap[_]=g,l._fileList.push(_)):p===1/0&&(p=h+g.dataLength()),h+=g.length()}else h++};qs.prototype.getRecord=function(c){return this._fileMap[c]},qs.prototype.getFileList=function(){return this._fileList},qs.prototype.getDotEntry=function(c){return this._constructDirectoryRecord(c.slice(this._record.lba()))};var g3=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(l){return new km(l,this._record.getRockRidgeOffset())},u}(qs),v3=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(l){return new Tm(l,this._record.getRockRidgeOffset())},u}(qs),Dl=function(c){function u(l,h,p){var g=this;h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),this._data=l,me(p,u.Name,{data:"ISO data as a Buffer",name:h});for(var _=!1,N=32768,P=new Array;!_;){var q=l.slice(N);switch(new ko(q).type()){case 1:P.push(new c3(q));break;case 2:P.push(new f3(q));break;case 255:_=!0}N+=2048}if(P.length===0)throw new y(a.EIO,"Unable to find a suitable volume descriptor.");P.forEach(function(Q){g._pvd&&g._pvd.type()===2||(g._pvd=Q)}),this._root=this._pvd.rootDirectoryEntry(l),this._name=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p,g;try{p=new u(l.data,l.name,!1)}catch(_){_=_}finally{h(void 0,p)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){var l="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(l+="-RockRidge"),l},u.prototype.diskSpace=function(l,h){h(this._data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(l,h){var p=this._getDirectoryRecord(l);if(p===null)throw y.ENOENT(l);return this._getStats(l,p)},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var g=this._getDirectoryRecord(l);if(!g)throw y.ENOENT(l);if(g.isSymlink(this._data))return this.openSync(d.resolve(l,g.getSymlinkPath(this._data)),h,p);if(g.isDirectory(this._data))throw y.EISDIR(l);var _=g.getFile(this._data),N=this._getStats(l,g);switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(l);case v.NOP:return new T(this,l,h,N,_);default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(l){var h=this._getDirectoryRecord(l);if(h){if(h.isDirectory(this._data))return h.getDirectory(this._data).getFileList().slice(0);throw y.ENOTDIR(l)}throw y.ENOENT(l)},u.prototype.readFileSync=function(l,h,p){var g=this.openSync(l,p,420);try{var _=g.getBuffer();return h===null?se(_):_.toString(h)}finally{g.closeSync()}},u.prototype._getDirectoryRecord=function(l){if(l==="/")return this._root;for(var h=l.split("/").slice(1),p=this._root,g=0,_=h;g<_.length;g+=1){var N=_[g];if(!p.isDirectory(this._data)||!(p=p.getDirectory(this._data).getRecord(N)))return null}return p},u.prototype._getStats=function(l,h){if(h.isSymlink(this._data)){var p=d.resolve(l,h.getSymlinkPath(this._data)),g=this._getDirectoryRecord(p);return g?this._getStats(p,g):null}var _=h.dataLength(),N=365,P=h.recordingDate(),q=P,Q=P,ce=P;if(h.hasRockRidge())for(var pe=0,ve=h.getSUEntries(this._data);pe<ve.length;pe+=1){var we=ve[pe];if(we instanceof Fm)N=we.mode();else if(we instanceof Lm){var Ne=we.flags();4&Ne&&(q=we.access()),2&Ne&&(Q=we.modify()),1&Ne&&(ce=we.creation())}}return N&=365,new O(h.isDirectory(this._data)?E.DIRECTORY:E.FILE,_,N,q,Q,ce)},u}(Se);Dl.Name="IsoFS",Dl.Options={data:{type:"object",description:"The ISO file in a buffer",validator:Ie}},[ee,Sl,El,_o,bl,So,Ls,Dl,js,Eo,zs,Al,Il,Pi].forEach(function(c){var u=c.Create;c.Create=function(l,h){var p=typeof l=="function",g=p?l:h,_=p?{}:l;k(c,_,function(N){N?g(N):u.call(c,_,g)})}});var Mm,Fl={AsyncMirror:ee,Dropbox:Sl,Emscripten:El,FolderAdapter:_o,HTML5FS:bl,InMemory:So,IndexedDB:Ls,IsoFS:Dl,LocalStorage:js,MountableFileSystem:Eo,OverlayFS:zs,WorkerFS:Al,XmlHttpRequest:Il,ZipFS:Pi};function jm(c){switch(c){case"fs":return re;case"path":return d;case"buffer":return f;case"process":return s;case"bfs_utils":return R;default:return Fl[c]}}function Bm(c){return re.initialize(c)}function Zf(c,u){var l=c.fs;if(!l)return u(new y(a.EPERM,'Missing "fs" property on configuration object.'));var h=c.options,p=0,g=!1;function _(){if(!g){g=!0;var P=Fl[l];P?P.Create(h,u):u(new y(a.EPERM,"File system "+l+" is not available in BrowserFS."))}}if(h!==null&&typeof h=="object"){var N=!1;Object.keys(h).filter(function(P){return P!=="fs"}).forEach(function(P){var q=h[P];q!==null&&typeof q=="object"&&q.fs&&(p++,Zf(q,function(Q,ce){if(p--,Q){if(g)return;g=!0,u(Q)}else h[P]=ce,p===0&&N&&_()}))}),N=!0}p===0&&_()}s.initializeTTYs&&s.initializeTTYs(),"ab".substr(-1)!=="b"&&(String.prototype.substr=(Mm=String.prototype.substr,function(c,u){return c<0&&(c=this.length+c),Mm.call(this,c,u)})),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(c,u){return c===void 0&&(c=0),u===void 0&&(u=this.length),c<0&&(c=this.length+c)<0&&(c=0),u<0&&(u=this.length+u)<0&&(u=0),u<c&&(u=c),new Uint8Array(this.buffer,this.byteOffset+c,u-c)})),e.install=function(c){c.Buffer=n,c.process=s;var u=c.require?c.require:null;c.require=function(l){var h=jm(l);return h||u.apply(null,Array.prototype.slice.call(arguments,0))}},e.registerFileSystem=function(c,u){Fl[c]=u},e.BFSRequire=jm,e.initialize=Bm,e.configure=function(c,u){Zf(c,function(l,h){h?(Bm(h),u()):u(l)})},e.getFileSystem=Zf,e.EmscriptenFS=K,e.FileSystem=Fl,e.Errors=w,e.setImmediate=Hf}).call(e,r(1),function(){return this}(),r(5)(t),r(6))},function(t,e,r){t.exports=r(2).Buffer},function(t,e,r){(function(f){var i=r(3),o=r(4);e.Buffer=f,e.SlowBuffer=function(k){return+k!=k&&(k=0),f.alloc(+k)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(k){if(k>s)throw new RangeError("Invalid typed array length");var R=new Uint8Array(k);return R.__proto__=f.prototype,R}function f(k,R,M){if(typeof k=="number"){if(typeof R=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(k)}return d(k,R,M)}function d(k,R,M){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return ye(k)?function($,K,J){if(K<0||$.byteLength<K)throw new RangeError("'offset' is out of bounds");if($.byteLength<K+(J||0))throw new RangeError("'length' is out of bounds");var Se;return(Se=K===void 0&&J===void 0?new Uint8Array($):J===void 0?new Uint8Array($,K):new Uint8Array($,K,J)).__proto__=f.prototype,Se}(k,R,M):typeof k=="string"?function($,K){if(typeof K=="string"&&K!==""||(K="utf8"),!f.isEncoding(K))throw new TypeError('"encoding" must be a valid string encoding');var J=0|E($,K),Se=a(J),C=Se.write($,K);return C!==J&&(Se=Se.slice(0,C)),Se}(k,R):function($){if(f.isBuffer($)){var K=0|w($.length),J=a(K);return J.length===0||$.copy(J,0,0,K),J}if($){if(be($)||"length"in $)return typeof $.length!="number"||Ie($.length)?a(0):y($);if($.type==="Buffer"&&Array.isArray($.data))return y($.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(k)}function m(k){if(typeof k!="number")throw new TypeError('"size" argument must be a number');if(k<0)throw new RangeError('"size" argument must not be negative')}function v(k){return m(k),a(k<0?0:0|w(k))}function y(k){for(var R=k.length<0?0:0|w(k.length),M=a(R),$=0;$<R;$+=1)M[$]=255&k[$];return M}function w(k){if(k>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|k}function E(k,R){if(f.isBuffer(k))return k.length;if(be(k)||ye(k))return k.byteLength;typeof k!="string"&&(k=""+k);var M=k.length;if(M===0)return 0;for(var $=!1;;)switch(R){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":case void 0:return oe(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return ne(k).length;default:if($)return oe(k).length;R=(""+R).toLowerCase(),$=!0}}function I(k,R,M){var $=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(R>>>=0))return"";for(k||(k="utf8");;)switch(k){case"hex":return me(this,R,M);case"utf8":case"utf-8":return re(this,R,M);case"ascii":return le(this,R,M);case"latin1":case"binary":return ae(this,R,M);case"base64":return W(this,R,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,R,M);default:if($)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),$=!0}}function O(k,R,M){var $=k[R];k[R]=k[M],k[M]=$}function A(k,R,M,$,K){if(k.length===0)return-1;if(typeof M=="string"?($=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Ie(M=+M)&&(M=K?0:k.length-1),M<0&&(M=k.length+M),M>=k.length){if(K)return-1;M=k.length-1}else if(M<0){if(!K)return-1;M=0}if(typeof R=="string"&&(R=f.from(R,$)),f.isBuffer(R))return R.length===0?-1:F(k,R,M,$,K);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(k,R,M):Uint8Array.prototype.lastIndexOf.call(k,R,M):F(k,[R],M,$,K);throw new TypeError("val must be string, number or Buffer")}function F(k,R,M,$,K){var J,Se=1,C=k.length,b=R.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(k.length<2||R.length<2)return-1;Se=2,C/=2,b/=2,M/=2}function T(de,Ce){return Se===1?de[Ce]:de.readUInt16BE(Ce*Se)}if(K){var B=-1;for(J=M;J<C;J++)if(T(k,J)===T(R,B===-1?0:J-B)){if(B===-1&&(B=J),J-B+1===b)return B*Se}else B!==-1&&(J-=J-B),B=-1}else for(M+b>C&&(M=C-b),J=M;J>=0;J--){for(var ee=!0,he=0;he<b;he++)if(T(k,J+he)!==T(R,he)){ee=!1;break}if(ee)return J}return-1}function Y(k,R,M,$){M=Number(M)||0;var K=k.length-M;$?($=Number($))>K&&($=K):$=K;var J=R.length;if(J%2!=0)throw new TypeError("Invalid hex string");$>J/2&&($=J/2);for(var Se=0;Se<$;++Se){var C=parseInt(R.substr(2*Se,2),16);if(Ie(C))return Se;k[M+Se]=C}return Se}function H(k,R,M,$){return se(oe(R,k.length-M),k,M,$)}function Z(k,R,M,$){return se(function(K){for(var J=[],Se=0;Se<K.length;++Se)J.push(255&K.charCodeAt(Se));return J}(R),k,M,$)}function j(k,R,M,$){return Z(k,R,M,$)}function V(k,R,M,$){return se(ne(R),k,M,$)}function S(k,R,M,$){return se(function(K,J){for(var Se,C,b,T=[],B=0;B<K.length&&!((J-=2)<0);++B)C=(Se=K.charCodeAt(B))>>8,b=Se%256,T.push(b),T.push(C);return T}(R,k.length-M),k,M,$)}function W(k,R,M){return R===0&&M===k.length?i.fromByteArray(k):i.fromByteArray(k.slice(R,M))}function re(k,R,M){M=Math.min(k.length,M);for(var $=[],K=R;K<M;){var J,Se,C,b,T=k[K],B=null,ee=T>239?4:T>223?3:T>191?2:1;if(K+ee<=M)switch(ee){case 1:T<128&&(B=T);break;case 2:(192&(J=k[K+1]))==128&&(b=(31&T)<<6|63&J)>127&&(B=b);break;case 3:J=k[K+1],Se=k[K+2],(192&J)==128&&(192&Se)==128&&(b=(15&T)<<12|(63&J)<<6|63&Se)>2047&&(b<55296||b>57343)&&(B=b);break;case 4:J=k[K+1],Se=k[K+2],C=k[K+3],(192&J)==128&&(192&Se)==128&&(192&C)==128&&(b=(15&T)<<18|(63&J)<<12|(63&Se)<<6|63&C)>65535&&b<1114112&&(B=b)}B===null?(B=65533,ee=1):B>65535&&(B-=65536,$.push(B>>>10&1023|55296),B=56320|1023&B),$.push(B),K+=ee}return function(he){var de=he.length;if(de<=X)return String.fromCharCode.apply(String,he);for(var Ce="",De=0;De<de;)Ce+=String.fromCharCode.apply(String,he.slice(De,De+=X));return Ce}($)}e.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=function(){try{var k=new Uint8Array(1);return k.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},k.foo()===42}catch{return!1}}(),f.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(k,R,M){return d(k,R,M)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(k,R,M){return function($,K,J){return m($),$<=0?a($):K!==void 0?typeof J=="string"?a($).fill(K,J):a($).fill(K):a($)}(k,R,M)},f.allocUnsafe=function(k){return v(k)},f.allocUnsafeSlow=function(k){return v(k)},f.isBuffer=function(k){return k!=null&&k._isBuffer===!0},f.compare=function(k,R){if(!f.isBuffer(k)||!f.isBuffer(R))throw new TypeError("Arguments must be Buffers");if(k===R)return 0;for(var M=k.length,$=R.length,K=0,J=Math.min(M,$);K<J;++K)if(k[K]!==R[K]){M=k[K],$=R[K];break}return M<$?-1:$<M?1:0},f.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(k,R){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return f.alloc(0);var M;if(R===void 0)for(R=0,M=0;M<k.length;++M)R+=k[M].length;var $=f.allocUnsafe(R),K=0;for(M=0;M<k.length;++M){var J=k[M];if(!f.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');J.copy($,K),K+=J.length}return $},f.byteLength=E,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<k;R+=2)O(this,R,R+1);return this},f.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<k;R+=4)O(this,R,R+3),O(this,R+1,R+2);return this},f.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<k;R+=8)O(this,R,R+7),O(this,R+1,R+6),O(this,R+2,R+5),O(this,R+3,R+4);return this},f.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?re(this,0,k):I.apply(this,arguments)},f.prototype.equals=function(k){if(!f.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||f.compare(this,k)===0},f.prototype.inspect=function(){var k="",R=e.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,R).match(/.{2}/g).join(" "),this.length>R&&(k+=" ... ")),"<Buffer "+k+">"},f.prototype.compare=function(k,R,M,$,K){if(!f.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(R===void 0&&(R=0),M===void 0&&(M=k?k.length:0),$===void 0&&($=0),K===void 0&&(K=this.length),R<0||M>k.length||$<0||K>this.length)throw new RangeError("out of range index");if($>=K&&R>=M)return 0;if($>=K)return-1;if(R>=M)return 1;if(this===k)return 0;for(var J=(K>>>=0)-($>>>=0),Se=(M>>>=0)-(R>>>=0),C=Math.min(J,Se),b=this.slice($,K),T=k.slice(R,M),B=0;B<C;++B)if(b[B]!==T[B]){J=b[B],Se=T[B];break}return J<Se?-1:Se<J?1:0},f.prototype.includes=function(k,R,M){return this.indexOf(k,R,M)!==-1},f.prototype.indexOf=function(k,R,M){return A(this,k,R,M,!0)},f.prototype.lastIndexOf=function(k,R,M){return A(this,k,R,M,!1)},f.prototype.write=function(k,R,M,$){if(R===void 0)$="utf8",M=this.length,R=0;else if(M===void 0&&typeof R=="string")$=R,M=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(M)?(M>>>=0,$===void 0&&($="utf8")):($=M,M=void 0)}var K=this.length-R;if((M===void 0||M>K)&&(M=K),k.length>0&&(M<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var J=!1;;)switch($){case"hex":return Y(this,k,R,M);case"utf8":case"utf-8":return H(this,k,R,M);case"ascii":return Z(this,k,R,M);case"latin1":case"binary":return j(this,k,R,M);case"base64":return V(this,k,R,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,k,R,M);default:if(J)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),J=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function le(k,R,M){var $="";M=Math.min(k.length,M);for(var K=R;K<M;++K)$+=String.fromCharCode(127&k[K]);return $}function ae(k,R,M){var $="";M=Math.min(k.length,M);for(var K=R;K<M;++K)$+=String.fromCharCode(k[K]);return $}function me(k,R,M){var $,K=k.length;(!R||R<0)&&(R=0),(!M||M<0||M>K)&&(M=K);for(var J="",Se=R;Se<M;++Se)J+=($=k[Se])<16?"0"+$.toString(16):$.toString(16);return J}function L(k,R,M){for(var $=k.slice(R,M),K="",J=0;J<$.length;J+=2)K+=String.fromCharCode($[J]+256*$[J+1]);return K}function D(k,R,M){if(k%1!=0||k<0)throw new RangeError("offset is not uint");if(k+R>M)throw new RangeError("Trying to access beyond buffer length")}function ie(k,R,M,$,K,J){if(!f.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>K||R<J)throw new RangeError('"value" argument is out of bounds');if(M+$>k.length)throw new RangeError("Index out of range")}function U(k,R,M,$,K,J){if(M+$>k.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function z(k,R,M,$,K){return R=+R,M>>>=0,K||U(k,0,M,4),o.write(k,R,M,$,23,4),M+4}function G(k,R,M,$,K){return R=+R,M>>>=0,K||U(k,0,M,8),o.write(k,R,M,$,52,8),M+8}f.prototype.slice=function(k,R){var M=this.length;(k=~~k)<0?(k+=M)<0&&(k=0):k>M&&(k=M),(R=R===void 0?M:~~R)<0?(R+=M)<0&&(R=0):R>M&&(R=M),R<k&&(R=k);var $=this.subarray(k,R);return $.__proto__=f.prototype,$},f.prototype.readUIntLE=function(k,R,M){k>>>=0,R>>>=0,M||D(k,R,this.length);for(var $=this[k],K=1,J=0;++J<R&&(K*=256);)$+=this[k+J]*K;return $},f.prototype.readUIntBE=function(k,R,M){k>>>=0,R>>>=0,M||D(k,R,this.length);for(var $=this[k+--R],K=1;R>0&&(K*=256);)$+=this[k+--R]*K;return $},f.prototype.readUInt8=function(k,R){return k>>>=0,R||D(k,1,this.length),this[k]},f.prototype.readUInt16LE=function(k,R){return k>>>=0,R||D(k,2,this.length),this[k]|this[k+1]<<8},f.prototype.readUInt16BE=function(k,R){return k>>>=0,R||D(k,2,this.length),this[k]<<8|this[k+1]},f.prototype.readUInt32LE=function(k,R){return k>>>=0,R||D(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},f.prototype.readUInt32BE=function(k,R){return k>>>=0,R||D(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},f.prototype.readIntLE=function(k,R,M){k>>>=0,R>>>=0,M||D(k,R,this.length);for(var $=this[k],K=1,J=0;++J<R&&(K*=256);)$+=this[k+J]*K;return $>=(K*=128)&&($-=Math.pow(2,8*R)),$},f.prototype.readIntBE=function(k,R,M){k>>>=0,R>>>=0,M||D(k,R,this.length);for(var $=R,K=1,J=this[k+--$];$>0&&(K*=256);)J+=this[k+--$]*K;return J>=(K*=128)&&(J-=Math.pow(2,8*R)),J},f.prototype.readInt8=function(k,R){return k>>>=0,R||D(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},f.prototype.readInt16LE=function(k,R){k>>>=0,R||D(k,2,this.length);var M=this[k]|this[k+1]<<8;return 32768&M?4294901760|M:M},f.prototype.readInt16BE=function(k,R){k>>>=0,R||D(k,2,this.length);var M=this[k+1]|this[k]<<8;return 32768&M?4294901760|M:M},f.prototype.readInt32LE=function(k,R){return k>>>=0,R||D(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},f.prototype.readInt32BE=function(k,R){return k>>>=0,R||D(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},f.prototype.readFloatLE=function(k,R){return k>>>=0,R||D(k,4,this.length),o.read(this,k,!0,23,4)},f.prototype.readFloatBE=function(k,R){return k>>>=0,R||D(k,4,this.length),o.read(this,k,!1,23,4)},f.prototype.readDoubleLE=function(k,R){return k>>>=0,R||D(k,8,this.length),o.read(this,k,!0,52,8)},f.prototype.readDoubleBE=function(k,R){return k>>>=0,R||D(k,8,this.length),o.read(this,k,!1,52,8)},f.prototype.writeUIntLE=function(k,R,M,$){k=+k,R>>>=0,M>>>=0,$||ie(this,k,R,M,Math.pow(2,8*M)-1,0);var K=1,J=0;for(this[R]=255&k;++J<M&&(K*=256);)this[R+J]=k/K&255;return R+M},f.prototype.writeUIntBE=function(k,R,M,$){k=+k,R>>>=0,M>>>=0,$||ie(this,k,R,M,Math.pow(2,8*M)-1,0);var K=M-1,J=1;for(this[R+K]=255&k;--K>=0&&(J*=256);)this[R+K]=k/J&255;return R+M},f.prototype.writeUInt8=function(k,R,M){return k=+k,R>>>=0,M||ie(this,k,R,1,255,0),this[R]=255&k,R+1},f.prototype.writeUInt16LE=function(k,R,M){return k=+k,R>>>=0,M||ie(this,k,R,2,65535,0),this[R]=255&k,this[R+1]=k>>>8,R+2},f.prototype.writeUInt16BE=function(k,R,M){return k=+k,R>>>=0,M||ie(this,k,R,2,65535,0),this[R]=k>>>8,this[R+1]=255&k,R+2},f.prototype.writeUInt32LE=function(k,R,M){return k=+k,R>>>=0,M||ie(this,k,R,4,4294967295,0),this[R+3]=k>>>24,this[R+2]=k>>>16,this[R+1]=k>>>8,this[R]=255&k,R+4},f.prototype.writeUInt32BE=function(k,R,M){return k=+k,R>>>=0,M||ie(this,k,R,4,4294967295,0),this[R]=k>>>24,this[R+1]=k>>>16,this[R+2]=k>>>8,this[R+3]=255&k,R+4},f.prototype.writeIntLE=function(k,R,M,$){if(k=+k,R>>>=0,!$){var K=Math.pow(2,8*M-1);ie(this,k,R,M,K-1,-K)}var J=0,Se=1,C=0;for(this[R]=255&k;++J<M&&(Se*=256);)k<0&&C===0&&this[R+J-1]!==0&&(C=1),this[R+J]=(k/Se>>0)-C&255;return R+M},f.prototype.writeIntBE=function(k,R,M,$){if(k=+k,R>>>=0,!$){var K=Math.pow(2,8*M-1);ie(this,k,R,M,K-1,-K)}var J=M-1,Se=1,C=0;for(this[R+J]=255&k;--J>=0&&(Se*=256);)k<0&&C===0&&this[R+J+1]!==0&&(C=1),this[R+J]=(k/Se>>0)-C&255;return R+M},f.prototype.writeInt8=function(k,R,M){return k=+k,R>>>=0,M||ie(this,k,R,1,127,-128),k<0&&(k=255+k+1),this[R]=255&k,R+1},f.prototype.writeInt16LE=function(k,R,M){return k=+k,R>>>=0,M||ie(this,k,R,2,32767,-32768),this[R]=255&k,this[R+1]=k>>>8,R+2},f.prototype.writeInt16BE=function(k,R,M){return k=+k,R>>>=0,M||ie(this,k,R,2,32767,-32768),this[R]=k>>>8,this[R+1]=255&k,R+2},f.prototype.writeInt32LE=function(k,R,M){return k=+k,R>>>=0,M||ie(this,k,R,4,2147483647,-2147483648),this[R]=255&k,this[R+1]=k>>>8,this[R+2]=k>>>16,this[R+3]=k>>>24,R+4},f.prototype.writeInt32BE=function(k,R,M){return k=+k,R>>>=0,M||ie(this,k,R,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[R]=k>>>24,this[R+1]=k>>>16,this[R+2]=k>>>8,this[R+3]=255&k,R+4},f.prototype.writeFloatLE=function(k,R,M){return z(this,k,R,!0,M)},f.prototype.writeFloatBE=function(k,R,M){return z(this,k,R,!1,M)},f.prototype.writeDoubleLE=function(k,R,M){return G(this,k,R,!0,M)},f.prototype.writeDoubleBE=function(k,R,M){return G(this,k,R,!1,M)},f.prototype.copy=function(k,R,M,$){if(M||(M=0),$||$===0||($=this.length),R>=k.length&&(R=k.length),R||(R=0),$>0&&$<M&&($=M),$===M||k.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("sourceStart out of bounds");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),k.length-R<$-M&&($=k.length-R+M);var K,J=$-M;if(this===k&&M<R&&R<$)for(K=J-1;K>=0;--K)k[K+R]=this[K+M];else if(J<1e3)for(K=0;K<J;++K)k[K+R]=this[K+M];else Uint8Array.prototype.set.call(k,this.subarray(M,M+J),R);return J},f.prototype.fill=function(k,R,M,$){if(typeof k=="string"){if(typeof R=="string"?($=R,R=0,M=this.length):typeof M=="string"&&($=M,M=this.length),k.length===1){var K=k.charCodeAt(0);K<256&&(k=K)}if($!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!f.isEncoding($))throw new TypeError("Unknown encoding: "+$)}else typeof k=="number"&&(k&=255);if(R<0||this.length<R||this.length<M)throw new RangeError("Out of range index");if(M<=R)return this;var J;if(R>>>=0,M=M===void 0?this.length:M>>>0,k||(k=0),typeof k=="number")for(J=R;J<M;++J)this[J]=k;else{var Se=f.isBuffer(k)?k:new f(k,$),C=Se.length;for(J=0;J<M-R;++J)this[J+R]=Se[J%C]}return this};var ue=/[^+/0-9A-Za-z-_]/g;function oe(k,R){var M;R=R||1/0;for(var $=k.length,K=null,J=[],Se=0;Se<$;++Se){if((M=k.charCodeAt(Se))>55295&&M<57344){if(!K){if(M>56319){(R-=3)>-1&&J.push(239,191,189);continue}if(Se+1===$){(R-=3)>-1&&J.push(239,191,189);continue}K=M;continue}if(M<56320){(R-=3)>-1&&J.push(239,191,189),K=M;continue}M=65536+(K-55296<<10|M-56320)}else K&&(R-=3)>-1&&J.push(239,191,189);if(K=null,M<128){if((R-=1)<0)break;J.push(M)}else if(M<2048){if((R-=2)<0)break;J.push(M>>6|192,63&M|128)}else if(M<65536){if((R-=3)<0)break;J.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;J.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return J}function ne(k){return i.toByteArray(function(R){if((R=R.trim().replace(ue,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(k))}function se(k,R,M,$){for(var K=0;K<$&&!(K+M>=R.length||K>=k.length);++K)R[K+M]=k[K];return K}function ye(k){return k instanceof ArrayBuffer||k!=null&&k.constructor!=null&&k.constructor.name==="ArrayBuffer"&&typeof k.byteLength=="number"}function be(k){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(k)}function Ie(k){return k!=k}}).call(e,r(1))},function(t,e){e.byteLength=function(m){return 3*m.length/4-f(m)},e.toByteArray=function(m){var v,y,w,E,I,O,A=m.length;I=f(m),O=new i(3*A/4-I),w=I>0?A-4:A;var F=0;for(v=0,y=0;v<w;v+=4,y+=3)E=n[m.charCodeAt(v)]<<18|n[m.charCodeAt(v+1)]<<12|n[m.charCodeAt(v+2)]<<6|n[m.charCodeAt(v+3)],O[F++]=E>>16&255,O[F++]=E>>8&255,O[F++]=255&E;return I===2?(E=n[m.charCodeAt(v)]<<2|n[m.charCodeAt(v+1)]>>4,O[F++]=255&E):I===1&&(E=n[m.charCodeAt(v)]<<10|n[m.charCodeAt(v+1)]<<4|n[m.charCodeAt(v+2)]>>2,O[F++]=E>>8&255,O[F++]=255&E),O},e.fromByteArray=function(m){for(var v,y=m.length,w=y%3,E="",I=[],O=16383,A=0,F=y-w;A<F;A+=O)I.push(d(m,A,A+O>F?F:A+O));return w===1?(v=m[y-1],E+=r[v>>2],E+=r[v<<4&63],E+="=="):w===2&&(v=(m[y-2]<<8)+m[y-1],E+=r[v>>10],E+=r[v>>4&63],E+=r[v<<2&63],E+="="),I.push(E),I.join("")};for(var r=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function f(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return m[v-2]==="="?2:m[v-1]==="="?1:0}function d(m,v,y){for(var w,E,I=[],O=v;O<y;O+=3)w=(m[O]<<16)+(m[O+1]<<8)+m[O+2],I.push(r[(E=w)>>18&63]+r[E>>12&63]+r[E>>6&63]+r[63&E]);return I.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){e.read=function(r,n,i,o,s){var a,f,d=8*s-o-1,m=(1<<d)-1,v=m>>1,y=-7,w=i?s-1:0,E=i?-1:1,I=r[n+w];for(w+=E,a=I&(1<<-y)-1,I>>=-y,y+=d;y>0;a=256*a+r[n+w],w+=E,y-=8);for(f=a&(1<<-y)-1,a>>=-y,y+=o;y>0;f=256*f+r[n+w],w+=E,y-=8);if(a===0)a=1-v;else{if(a===m)return f?NaN:1/0*(I?-1:1);f+=Math.pow(2,o),a-=v}return(I?-1:1)*f*Math.pow(2,a-o)},e.write=function(r,n,i,o,s,a){var f,d,m,v=8*a-s-1,y=(1<<v)-1,w=y>>1,E=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=o?0:a-1,O=o?1:-1,A=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(d=isNaN(n)?1:0,f=y):(f=Math.floor(Math.log(n)/Math.LN2),n*(m=Math.pow(2,-f))<1&&(f--,m*=2),(n+=f+w>=1?E/m:E*Math.pow(2,1-w))*m>=2&&(f++,m/=2),f+w>=y?(d=0,f=y):f+w>=1?(d=(n*m-1)*Math.pow(2,s),f+=w):(d=n*Math.pow(2,w-1)*Math.pow(2,s),f=0));s>=8;r[i+I]=255&d,I+=O,d/=256,s-=8);for(f=f<<s|d,v+=s;v>0;r[i+I]=255&f,I+=O,f/=256,v-=8);r[i+I-O]|=128*A}},function(t,e){t.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children=[],r.webpackPolyfill=1),r}},function(t,e,r){var n=new(r(7)),i={};function o(a){i[a]||(typeof n[a]=="function"?i[a]=function(){return n[a].apply(n,arguments)}:i[a]=n[a])}for(var s in n)o(s);i.initializeTTYs=function(){n.stdin===null&&(n.initializeTTYs(),i.stdin=n.stdin,i.stdout=n.stdout,i.stderr=n.stderr)},n.nextTick(function(){i.initializeTTYs()}),t.exports=i},function(t,e,r){(function(n){var i=this&&this.__extends||function(m,v){for(var y in v)v.hasOwnProperty(y)&&(m[y]=v[y]);function w(){this.constructor=m}m.prototype=v===null?Object.create(v):(w.prototype=v.prototype,new w)},o=r(8),s=null,a=function(){function m(v,y){this.fun=v,this.array=y}return m.prototype.run=function(){this.fun.apply(null,this.array)},m}(),f=function(){function m(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return m.prototype.push=function(v){var y=this;this._queue.push(v)!==1||this._draining||setTimeout(function(){return y._drainQueue()},0)},m.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},m.prototype._drainQueue=function(){var v=this;if(!this._draining){var y=setTimeout(function(){return v._cleanUpNextTick()});this._draining=!0;for(var w=this._queue.length;w;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<w;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,w=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(y)}},m}(),d=function(m){function v(){m.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new f,this.execPath=n,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=1e3*Math.random()|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return i(v,m),v.prototype.chdir=function(y){s===null&&(s=r(9)),this._cwd=s.resolve(y)},v.prototype.cwd=function(){return this._cwd},v.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},v.prototype.nextTick=function(y){for(var w=[],E=1;E<arguments.length;E++)w[E-1]=arguments[E];this._queue.push(new a(y,w))},v.prototype.abort=function(){this.emit("abort")},v.prototype.exit=function(y){this.exitCode=y,this.emit("exit",[y])},v.prototype.getgid=function(){return this._gid},v.prototype.setgid=function(y){this._gid=typeof y=="number"?y:1},v.prototype.getuid=function(){return this._uid},v.prototype.setuid=function(y){this._uid=typeof y=="number"?y:1},v.prototype.kill=function(y,w){this.emit("kill",[y,w])},v.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},v.prototype.umask=function(y){y===void 0&&(y=this._mask);var w=this._mask;return this._mask=y,this.emit("umask",[y]),w},v.prototype.hrtime=function(){var y,w=(y=typeof performance<"u"?performance.now():Date.now?Date.now():new Date().getTime())/1e3|0;return[w,y=1e6*(y-=1e3*w)|0]},v.prototype.initializeTTYs=function(){if(this.stdout===null){var y=r(10);this.stdout=new y,this.stderr=new y,this.stdin=new y}},v.prototype.disconnect=function(){},v}(o.EventEmitter);t.exports=d}).call(e,"/")},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(s){return typeof s=="function"}function i(s){return typeof s=="object"&&s!==null}function o(s){return s===void 0}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(s){if(typeof s!="number"||s<0||isNaN(s))throw TypeError("n must be a positive number");return this._maxListeners=s,this},r.prototype.emit=function(s){var a,f,d,m,v,y;if(this._events||(this._events={}),s==="error"&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((a=arguments[1])instanceof Error)throw a;var w=new Error('Uncaught, unspecified "error" event. ('+a+")");throw w.context=a,w}if(o(f=this._events[s]))return!1;if(n(f))switch(arguments.length){case 1:f.call(this);break;case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:m=Array.prototype.slice.call(arguments,1),f.apply(this,m)}else if(i(f))for(m=Array.prototype.slice.call(arguments,1),d=(y=f.slice()).length,v=0;v<d;v++)y[v].apply(this,m);return!0},r.prototype.addListener=function(s,a){var f;if(!n(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",s,n(a.listener)?a.listener:a),this._events[s]?i(this._events[s])?this._events[s].push(a):this._events[s]=[this._events[s],a]:this._events[s]=a,i(this._events[s])&&!this._events[s].warned&&(f=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&f>0&&this._events[s].length>f&&(this._events[s].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s].length),typeof console.trace=="function"&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(s,a){if(!n(a))throw TypeError("listener must be a function");var f=!1;function d(){this.removeListener(s,d),f||(f=!0,a.apply(this,arguments))}return d.listener=a,this.on(s,d),this},r.prototype.removeListener=function(s,a){var f,d,m,v;if(!n(a))throw TypeError("listener must be a function");if(!this._events||!this._events[s])return this;if(m=(f=this._events[s]).length,d=-1,f===a||n(f.listener)&&f.listener===a)delete this._events[s],this._events.removeListener&&this.emit("removeListener",s,a);else if(i(f)){for(v=m;v-- >0;)if(f[v]===a||f[v].listener&&f[v].listener===a){d=v;break}if(d<0)return this;f.length===1?(f.length=0,delete this._events[s]):f.splice(d,1),this._events.removeListener&&this.emit("removeListener",s,a)}return this},r.prototype.removeAllListeners=function(s){var a,f;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[s]&&delete this._events[s],this;if(arguments.length===0){for(a in this._events)a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events={},this}if(n(f=this._events[s]))this.removeListener(s,f);else if(f)for(;f.length;)this.removeListener(s,f[f.length-1]);return delete this._events[s],this},r.prototype.listeners=function(s){return this._events&&this._events[s]?n(this._events[s])?[this._events[s]]:this._events[s].slice():[]},r.prototype.listenerCount=function(s){if(this._events){var a=this._events[s];if(n(a))return 1;if(a)return a.length}return 0},r.listenerCount=function(s,a){return s.listenerCount(a)}},function(t,e,r){(function(n){var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(){function s(){}return s.normalize=function(a){a===""&&(a=".");for(var f=a.charAt(0)===s.sep,d=(a=s._removeDuplicateSeps(a)).split(s.sep),m=[],v=0;v<d.length;v++){var y=d[v];y!=="."&&(y===".."&&(f||!f&&m.length>0&&m[0]!=="..")?m.pop():m.push(y))}return!f&&m.length<2&&(m.length===1?m[0]===""&&m.unshift("."):m.push(".")),a=m.join(s.sep),f&&a.charAt(0)!==s.sep&&(a=s.sep+a),a},s.join=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];for(var d=[],m=0;m<a.length;m++){var v=a[m];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&d.push(v)}return s.normalize(d.join(s.sep))},s.resolve=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];for(var d=[],m=0;m<a.length;m++){var v=a[m];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&(v.charAt(0)===s.sep&&(d=[]),d.push(v))}var y=s.normalize(d.join(s.sep));if(y.length>1&&y.charAt(y.length-1)===s.sep)return y.substr(0,y.length-1);if(y.charAt(0)!==s.sep){y.charAt(0)!=="."||y.length!==1&&y.charAt(1)!==s.sep||(y=y.length===1?"":y.substr(2));var w=n.cwd();y=y!==""?this.normalize(w+(w!=="/"?s.sep:"")+y):w}return y},s.relative=function(a,f){var d;a=s.resolve(a),f=s.resolve(f);var m=a.split(s.sep),v=f.split(s.sep);v.shift(),m.shift();var y=0,w=[];for(d=0;d<m.length;d++)if(m[d]!==v[d]){y=m.length-d;break}w=v.slice(d),m.length===1&&m[0]===""&&(y=0),y>m.length&&(y=m.length);var E="";for(d=0;d<y;d++)E+="../";return(E+=w.join(s.sep)).length>1&&E.charAt(E.length-1)===s.sep&&(E=E.substr(0,E.length-1)),E},s.dirname=function(a){var f=(a=s._removeDuplicateSeps(a)).charAt(0)===s.sep,d=a.split(s.sep);return d.pop()===""&&d.length>0&&d.pop(),d.length>1||d.length===1&&!f?d.join(s.sep):f?s.sep:"."},s.basename=function(a,f){if(f===void 0&&(f=""),a==="")return a;var d=(a=s.normalize(a)).split(s.sep),m=d[d.length-1];return m===""&&d.length>1?d[d.length-2]:f.length>0&&m.substr(m.length-f.length)===f?m.substr(0,m.length-f.length):m},s.extname=function(a){var f=(a=s.normalize(a)).split(s.sep);if((a=f.pop())===""&&f.length>0&&(a=f.pop()),a==="..")return"";var d=a.lastIndexOf(".");return d===-1||d===0?"":a.substr(d)},s.isAbsolute=function(a){return a.length>0&&a.charAt(0)===s.sep},s._makeLong=function(a){return a},s.parse=function(a){var f=function(d){var m=i.exec(d);return m.shift(),m}(a);return{root:f[0],dir:f[0]+f[1].slice(0,-1),base:f[2],ext:f[3],name:f[2].slice(0,f[2].length-f[3].length)}},s.format=function(a){if(a===null||typeof a!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);if(typeof(a.root||"")!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+s.sep:"")+(a.base||"")},s._removeDuplicateSeps=function(a){return a=a.replace(this._replaceRegex,this.sep)},s.sep="/",s._replaceRegex=new RegExp("//+","g"),s.delimiter=":",s.posix=s,s.win32=s,s}();t.exports=o}).call(e,r(6))},function(t,e,r){(function(n){var i=this&&this.__extends||function(s,a){for(var f in a)a.hasOwnProperty(f)&&(s[f]=a[f]);function d(){this.constructor=s}s.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)},o=function(s){function a(){s.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return i(a,s),a.prototype.setRawMode=function(f){this.isRaw!==f&&(this.isRaw=f,this.emit("modeChange"))},a.prototype.changeColumns=function(f){f!==this.columns&&(this.columns=f,this.emit("resize"))},a.prototype.changeRows=function(f){f!==this.rows&&(this.rows=f,this.emit("resize"))},a.isatty=function(f){return f&&f instanceof a},a.prototype._write=function(f,d,m){var v;try{var y;y=typeof f=="string"?new n(f,d):f,this._bufferedWrites.push(y),this._waitingForWrites&&this._read(1024)}catch(w){v=w}finally{m(v)}},a.prototype._read=function(f){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),this._waitingForWrites););},a}(r(11).Duplex);t.exports=o}).call(e,r(1))},function(t,e,r){t.exports=i;var n=r(8).EventEmitter;function i(){n.call(this)}r(12)(i,n),i.Readable=r(13),i.Writable=r(27),i.Duplex=r(28),i.Transform=r(29),i.PassThrough=r(30),i.Stream=i,i.prototype.pipe=function(o,s){var a=this;function f(I){o.writable&&o.write(I)===!1&&a.pause&&a.pause()}function d(){a.readable&&a.resume&&a.resume()}a.on("data",f),o.on("drain",d),o._isStdio||s&&s.end===!1||(a.on("end",v),a.on("close",y));var m=!1;function v(){m||(m=!0,o.end())}function y(){m||(m=!0,typeof o.destroy=="function"&&o.destroy())}function w(I){if(E(),n.listenerCount(this,"error")===0)throw I}function E(){a.removeListener("data",f),o.removeListener("drain",d),a.removeListener("end",v),a.removeListener("close",y),a.removeListener("error",w),o.removeListener("error",w),a.removeListener("end",E),a.removeListener("close",E),o.removeListener("close",E)}return a.on("error",w),o.on("error",w),a.on("end",E),a.on("close",E),o.on("close",E),o.emit("pipe",a),o}},function(t,e){typeof Object.create=="function"?t.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},function(t,e,r){(function(n){var i=function(){try{return r(11)}catch{}}();(e=t.exports=r(14)).Stream=i||e,e.Readable=e,e.Writable=r(22),e.Duplex=r(21),e.Transform=r(25),e.PassThrough=r(26),!n.browser&&n.env.READABLE_STREAM==="disable"&&i&&(t.exports=i)}).call(e,r(6))},function(t,e,r){(function(n){t.exports=A;var i,o=r(15),s=r(16);A.ReadableState=O,r(8).EventEmitter;var a,f=function(L,D){return L.listeners(D).length};(function(){try{a=r(11)}catch{}finally{a||(a=r(8).EventEmitter)}})();var d=r(2).Buffer,m=r(17),v=r(18);v.inherits=r(12);var y=r(19),w=void 0;w=y&&y.debuglog?y.debuglog("stream"):function(){};var E,I=r(20);function O(L,D){i=i||r(21),L=L||{},this.objectMode=!!L.objectMode,D instanceof i&&(this.objectMode=this.objectMode||!!L.readableObjectMode);var ie=L.highWaterMark,U=this.objectMode?16:16384;this.highWaterMark=ie||ie===0?ie:U,this.highWaterMark=~~this.highWaterMark,this.buffer=new I,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(E||(E=r(24).StringDecoder),this.decoder=new E(L.encoding),this.encoding=L.encoding)}function A(L){if(i=i||r(21),!(this instanceof A))return new A(L);this._readableState=new O(L,this),this.readable=!0,L&&typeof L.read=="function"&&(this._read=L.read),a.call(this)}function F(L,D,ie,U,z){var G=function(se,ye){var be=null;return d.isBuffer(ye)||typeof ye=="string"||ye==null||se.objectMode||(be=new TypeError("Invalid non-string/buffer chunk")),be}(D,ie);if(G)L.emit("error",G);else if(ie===null)D.reading=!1,function(se,ye){if(!ye.ended){if(ye.decoder){var be=ye.decoder.end();be&&be.length&&(ye.buffer.push(be),ye.length+=ye.objectMode?1:be.length)}ye.ended=!0,Z(se)}}(L,D);else if(D.objectMode||ie&&ie.length>0)if(D.ended&&!z){var ue=new Error("stream.push() after EOF");L.emit("error",ue)}else if(D.endEmitted&&z){var oe=new Error("stream.unshift() after end event");L.emit("error",oe)}else{var ne;!D.decoder||z||U||(ie=D.decoder.write(ie),ne=!D.objectMode&&ie.length===0),z||(D.reading=!1),ne||(D.flowing&&D.length===0&&!D.sync?(L.emit("data",ie),L.read(0)):(D.length+=D.objectMode?1:ie.length,z?D.buffer.unshift(ie):D.buffer.push(ie),D.needReadable&&Z(L))),function(se,ye){ye.readingMore||(ye.readingMore=!0,o(V,se,ye))}(L,D)}else z||(D.reading=!1);return function(se){return!se.ended&&(se.needReadable||se.length<se.highWaterMark||se.length===0)}(D)}v.inherits(A,a),A.prototype.push=function(L,D){var ie=this._readableState;return ie.objectMode||typeof L!="string"||(D=D||ie.defaultEncoding)!==ie.encoding&&(L=m.from(L,D),D=""),F(this,ie,L,D,!1)},A.prototype.unshift=function(L){return F(this,this._readableState,L,"",!0)},A.prototype.isPaused=function(){return this._readableState.flowing===!1},A.prototype.setEncoding=function(L){return E||(E=r(24).StringDecoder),this._readableState.decoder=new E(L),this._readableState.encoding=L,this};var Y=8388608;function H(L,D){return L<=0||D.length===0&&D.ended?0:D.objectMode?1:L!=L?D.flowing&&D.length?D.buffer.head.data.length:D.length:(L>D.highWaterMark&&(D.highWaterMark=function(ie){return ie>=Y?ie=Y:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}(L)),L<=D.length?L:D.ended?D.length:(D.needReadable=!0,0))}function Z(L){var D=L._readableState;D.needReadable=!1,D.emittedReadable||(w("emitReadable",D.flowing),D.emittedReadable=!0,D.sync?o(j,L):j(L))}function j(L){w("emit readable"),L.emit("readable"),re(L)}function V(L,D){for(var ie=D.length;!D.reading&&!D.flowing&&!D.ended&&D.length<D.highWaterMark&&(w("maybeReadMore read 0"),L.read(0),ie!==D.length);)ie=D.length;D.readingMore=!1}function S(L){w("readable nexttick read 0"),L.read(0)}function W(L,D){D.reading||(w("resume read 0"),L.read(0)),D.resumeScheduled=!1,D.awaitDrain=0,L.emit("resume"),re(L),D.flowing&&!D.reading&&L.read(0)}function re(L){var D=L._readableState;for(w("flow",D.flowing);D.flowing&&L.read()!==null;);}function X(L,D){return D.length===0?null:(D.objectMode?ie=D.buffer.shift():!L||L>=D.length?(ie=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.head.data:D.buffer.concat(D.length),D.buffer.clear()):ie=function(U,z,G){var ue;return U<z.head.data.length?(ue=z.head.data.slice(0,U),z.head.data=z.head.data.slice(U)):ue=U===z.head.data.length?z.shift():G?function(oe,ne){var se=ne.head,ye=1,be=se.data;for(oe-=be.length;se=se.next;){var Ie=se.data,k=oe>Ie.length?Ie.length:oe;if(k===Ie.length?be+=Ie:be+=Ie.slice(0,oe),(oe-=k)==0){k===Ie.length?(++ye,se.next?ne.head=se.next:ne.head=ne.tail=null):(ne.head=se,se.data=Ie.slice(k));break}++ye}return ne.length-=ye,be}(U,z):function(oe,ne){var se=m.allocUnsafe(oe),ye=ne.head,be=1;for(ye.data.copy(se),oe-=ye.data.length;ye=ye.next;){var Ie=ye.data,k=oe>Ie.length?Ie.length:oe;if(Ie.copy(se,se.length-oe,0,k),(oe-=k)==0){k===Ie.length?(++be,ye.next?ne.head=ye.next:ne.head=ne.tail=null):(ne.head=ye,ye.data=Ie.slice(k));break}++be}return ne.length-=be,se}(U,z),ue}(L,D.buffer,D.decoder),ie);var ie}function le(L){var D=L._readableState;if(D.length>0)throw new Error('"endReadable()" called on non-empty stream');D.endEmitted||(D.ended=!0,o(ae,D,L))}function ae(L,D){L.endEmitted||L.length!==0||(L.endEmitted=!0,D.readable=!1,D.emit("end"))}function me(L,D){for(var ie=0,U=L.length;ie<U;ie++)if(L[ie]===D)return ie;return-1}A.prototype.read=function(L){w("read",L),L=parseInt(L,10);var D=this._readableState,ie=L;if(L!==0&&(D.emittedReadable=!1),L===0&&D.needReadable&&(D.length>=D.highWaterMark||D.ended))return w("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?le(this):Z(this),null;if((L=H(L,D))===0&&D.ended)return D.length===0&&le(this),null;var U,z=D.needReadable;return w("need readable",z),(D.length===0||D.length-L<D.highWaterMark)&&w("length less than watermark",z=!0),D.ended||D.reading?w("reading or ended",z=!1):z&&(w("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(L=H(ie,D))),(U=L>0?X(L,D):null)===null?(D.needReadable=!0,L=0):D.length-=L,D.length===0&&(D.ended||(D.needReadable=!0),ie!==L&&D.ended&&le(this)),U!==null&&this.emit("data",U),U},A.prototype._read=function(L){this.emit("error",new Error("_read() is not implemented"))},A.prototype.pipe=function(L,D){var ie=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=L;break;case 1:U.pipes=[U.pipes,L];break;default:U.pipes.push(L)}U.pipesCount+=1,w("pipe count=%d opts=%j",U.pipesCount,D);var z=D&&D.end===!1||L===n.stdout||L===n.stderr?se:ue;function G($){w("onunpipe"),$===ie&&se()}function ue(){w("onend"),L.end()}U.endEmitted?o(z):ie.once("end",z),L.on("unpipe",G);var oe=function($){return function(){var K=$._readableState;w("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&f($,"data")&&(K.flowing=!0,re($))}}(ie);L.on("drain",oe);var ne=!1;function se(){w("cleanup"),L.removeListener("close",k),L.removeListener("finish",R),L.removeListener("drain",oe),L.removeListener("error",Ie),L.removeListener("unpipe",G),ie.removeListener("end",ue),ie.removeListener("end",se),ie.removeListener("data",be),ne=!0,!U.awaitDrain||L._writableState&&!L._writableState.needDrain||oe()}var ye=!1;function be($){w("ondata"),ye=!1,L.write($)!==!1||ye||((U.pipesCount===1&&U.pipes===L||U.pipesCount>1&&me(U.pipes,L)!==-1)&&!ne&&(w("false write response, pause",ie._readableState.awaitDrain),ie._readableState.awaitDrain++,ye=!0),ie.pause())}function Ie($){w("onerror",$),M(),L.removeListener("error",Ie),f(L,"error")===0&&L.emit("error",$)}function k(){L.removeListener("finish",R),M()}function R(){w("onfinish"),L.removeListener("close",k),M()}function M(){w("unpipe"),ie.unpipe(L)}return ie.on("data",be),function($,K,J){if(typeof $.prependListener=="function")return $.prependListener(K,J);$._events&&$._events[K]?s($._events[K])?$._events[K].unshift(J):$._events[K]=[J,$._events[K]]:$.on(K,J)}(L,"error",Ie),L.once("close",k),L.once("finish",R),L.emit("pipe",ie),U.flowing||(w("pipe resume"),ie.resume()),L},A.prototype.unpipe=function(L){var D=this._readableState;if(D.pipesCount===0)return this;if(D.pipesCount===1)return L&&L!==D.pipes||(L||(L=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,L&&L.emit("unpipe",this)),this;if(!L){var ie=D.pipes,U=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var z=0;z<U;z++)ie[z].emit("unpipe",this);return this}var G=me(D.pipes,L);return G===-1||(D.pipes.splice(G,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),L.emit("unpipe",this)),this},A.prototype.on=function(L,D){var ie=a.prototype.on.call(this,L,D);if(L==="data")this._readableState.flowing!==!1&&this.resume();else if(L==="readable"){var U=this._readableState;U.endEmitted||U.readableListening||(U.readableListening=U.needReadable=!0,U.emittedReadable=!1,U.reading?U.length&&Z(this):o(S,this))}return ie},A.prototype.addListener=A.prototype.on,A.prototype.resume=function(){var L=this._readableState;return L.flowing||(w("resume"),L.flowing=!0,function(D,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,o(W,D,ie))}(this,L)),this},A.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this},A.prototype.wrap=function(L){var D=this._readableState,ie=!1,U=this;for(var z in L.on("end",function(){if(w("wrapped end"),D.decoder&&!D.ended){var G=D.decoder.end();G&&G.length&&U.push(G)}U.push(null)}),L.on("data",function(G){w("wrapped data"),D.decoder&&(G=D.decoder.write(G)),D.objectMode&&G==null||(D.objectMode||G&&G.length)&&(U.push(G)||(ie=!0,L.pause()))}),L)this[z]===void 0&&typeof L[z]=="function"&&(this[z]=function(G){return function(){return L[G].apply(L,arguments)}}(z));return function(G,ue){for(var oe=0,ne=G.length;oe<ne;oe++)ue(G[oe],oe)}(["error","close","destroy","pause","resume"],function(G){L.on(G,U.emit.bind(U,G))}),U._read=function(G){w("wrapped _read",G),ie&&(ie=!1,L.resume())},U},A._fromList=X}).call(e,r(6))},function(t,e,r){(function(n){!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?t.exports=function(i,o,s,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var f,d,m=arguments.length;switch(m){case 0:case 1:return n.nextTick(i);case 2:return n.nextTick(function(){i.call(null,o)});case 3:return n.nextTick(function(){i.call(null,o,s)});case 4:return n.nextTick(function(){i.call(null,o,s,a)});default:for(f=new Array(m-1),d=0;d<f.length;)f[d++]=arguments[d];return n.nextTick(function(){i.apply(null,f)})}}:t.exports=n.nextTick}).call(e,r(6))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(t,e,r){(function(n){var i=r(2),o=i.Buffer,s=i.SlowBuffer,a=i.kMaxLength||2147483647;e.alloc=function(f,d,m){if(typeof o.alloc=="function")return o.alloc(f,d,m);if(typeof m=="number")throw new TypeError("encoding must not be number");if(typeof f!="number")throw new TypeError("size must be a number");if(f>a)throw new RangeError("size is too large");var v=m,y=d;y===void 0&&(v=void 0,y=0);var w=new o(f);if(typeof y=="string")for(var E=new o(y,v),I=E.length,O=-1;++O<f;)w[O]=E[O%I];else w.fill(y);return w},e.allocUnsafe=function(f){if(typeof o.allocUnsafe=="function")return o.allocUnsafe(f);if(typeof f!="number")throw new TypeError("size must be a number");if(f>a)throw new RangeError("size is too large");return new o(f)},e.from=function(f,d,m){if(typeof o.from=="function"&&(!n.Uint8Array||Uint8Array.from!==o.from))return o.from(f,d,m);if(typeof f=="number")throw new TypeError('"value" argument must not be a number');if(typeof f=="string")return new o(f,d);if(typeof ArrayBuffer<"u"&&f instanceof ArrayBuffer){var v=d;if(arguments.length===1)return new o(f);v===void 0&&(v=0);var y=m;if(y===void 0&&(y=f.byteLength-v),v>=f.byteLength)throw new RangeError("'offset' is out of bounds");if(y>f.byteLength-v)throw new RangeError("'length' is out of bounds");return new o(f.slice(v,v+y))}if(o.isBuffer(f)){var w=new o(f.length);return f.copy(w,0,0,f.length),w}if(f){if(Array.isArray(f)||typeof ArrayBuffer<"u"&&f.buffer instanceof ArrayBuffer||"length"in f)return new o(f);if(f.type==="Buffer"&&Array.isArray(f.data))return new o(f.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},e.allocUnsafeSlow=function(f){if(typeof o.allocUnsafeSlow=="function")return o.allocUnsafeSlow(f);if(typeof f!="number")throw new TypeError("size must be a number");if(f>=a)throw new RangeError("size is too large");return new s(f)}}).call(e,function(){return this}())},function(t,e,r){(function(n){function i(o){return Object.prototype.toString.call(o)}e.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},e.isBoolean=function(o){return typeof o=="boolean"},e.isNull=function(o){return o===null},e.isNullOrUndefined=function(o){return o==null},e.isNumber=function(o){return typeof o=="number"},e.isString=function(o){return typeof o=="string"},e.isSymbol=function(o){return typeof o=="symbol"},e.isUndefined=function(o){return o===void 0},e.isRegExp=function(o){return i(o)==="[object RegExp]"},e.isObject=function(o){return typeof o=="object"&&o!==null},e.isDate=function(o){return i(o)==="[object Date]"},e.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},e.isFunction=function(o){return typeof o=="function"},e.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},e.isBuffer=n.isBuffer}).call(e,r(1))},function(t,e){},function(t,e,r){r(2).Buffer;var n=r(17);function i(){this.head=null,this.tail=null,this.length=0}t.exports=i,i.prototype.push=function(o){var s={data:o,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},i.prototype.unshift=function(o){var s={data:o,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},i.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(o){if(this.length===0)return"";for(var s=this.head,a=""+s.data;s=s.next;)a+=o+s.data;return a},i.prototype.concat=function(o){if(this.length===0)return n.alloc(0);if(this.length===1)return this.head.data;for(var s=n.allocUnsafe(o>>>0),a=this.head,f=0;a;)a.data.copy(s,f),f+=a.data.length,a=a.next;return s}},function(t,e,r){var n=Object.keys||function(E){var I=[];for(var O in E)I.push(O);return I};t.exports=v;var i=r(15),o=r(18);o.inherits=r(12);var s=r(14),a=r(22);o.inherits(v,s);for(var f=n(a.prototype),d=0;d<f.length;d++){var m=f[d];v.prototype[m]||(v.prototype[m]=a.prototype[m])}function v(E){if(!(this instanceof v))return new v(E);s.call(this,E),a.call(this,E),E&&E.readable===!1&&(this.readable=!1),E&&E.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,E&&E.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||i(w,this)}function w(E){E.end()}},function(t,e,r){(function(n){t.exports=O;var i,o=r(15),s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:o;O.WritableState=I;var a=r(18);a.inherits=r(12);var f,d={deprecate:r(23)};(function(){try{f=r(11)}catch{}finally{f||(f=r(8).EventEmitter)}})();var m,v=r(2).Buffer,y=r(17);function w(){}function E(S,W,re){this.chunk=S,this.encoding=W,this.callback=re,this.next=null}function I(S,W){i=i||r(21),S=S||{},this.objectMode=!!S.objectMode,W instanceof i&&(this.objectMode=this.objectMode||!!S.writableObjectMode);var re=S.highWaterMark,X=this.objectMode?16:16384;this.highWaterMark=re||re===0?re:X,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var le=S.decodeStrings===!1;this.decodeStrings=!le,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ae){(function(me,L){var D=me._writableState,ie=D.sync,U=D.writecb;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(D),L)(function(G,ue,oe,ne,se){--ue.pendingcb,oe?o(se,ne):se(ne),G._writableState.errorEmitted=!0,G.emit("error",ne)})(me,D,ie,L,U);else{var z=H(D);z||D.corked||D.bufferProcessing||!D.bufferedRequest||Y(me,D),ie?s(F,me,D,z,U):F(me,D,z,U)}})(W,ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new V(this)}function O(S){if(i=i||r(21),!(m.call(O,this)||this instanceof i))return new O(S);this._writableState=new I(S,this),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev)),f.call(this)}function A(S,W,re,X,le,ae,me){W.writelen=X,W.writecb=me,W.writing=!0,W.sync=!0,re?S._writev(le,W.onwrite):S._write(le,ae,W.onwrite),W.sync=!1}function F(S,W,re,X){re||function(le,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,le.emit("drain"))}(S,W),W.pendingcb--,X(),j(S,W)}function Y(S,W){W.bufferProcessing=!0;var re=W.bufferedRequest;if(S._writev&&re&&re.next){var X=W.bufferedRequestCount,le=new Array(X),ae=W.corkedRequestsFree;ae.entry=re;for(var me=0;re;)le[me]=re,re=re.next,me+=1;A(S,W,!0,W.length,le,"",ae.finish),W.pendingcb++,W.lastBufferedRequest=null,ae.next?(W.corkedRequestsFree=ae.next,ae.next=null):W.corkedRequestsFree=new V(W)}else{for(;re;){var L=re.chunk,D=re.encoding,ie=re.callback;if(A(S,W,!1,W.objectMode?1:L.length,L,D,ie),re=re.next,W.writing)break}re===null&&(W.lastBufferedRequest=null)}W.bufferedRequestCount=0,W.bufferedRequest=re,W.bufferProcessing=!1}function H(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function Z(S,W){W.prefinished||(W.prefinished=!0,S.emit("prefinish"))}function j(S,W){var re=H(W);return re&&(W.pendingcb===0?(Z(S,W),W.finished=!0,S.emit("finish")):Z(S,W)),re}function V(S){var W=this;this.next=null,this.entry=null,this.finish=function(re){var X=W.entry;for(W.entry=null;X;){var le=X.callback;S.pendingcb--,le(re),X=X.next}S.corkedRequestsFree?S.corkedRequestsFree.next=W:S.corkedRequestsFree=W}}a.inherits(O,f),I.prototype.getBuffer=function(){for(var S=this.bufferedRequest,W=[];S;)W.push(S),S=S.next;return W},function(){try{Object.defineProperty(I.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(S){return!!m.call(this,S)||S&&S._writableState instanceof I}})):m=function(S){return S instanceof this},O.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},O.prototype.write=function(S,W,re){var X=this._writableState,le=!1,ae=v.isBuffer(S);return typeof W=="function"&&(re=W,W=null),ae?W="buffer":W||(W=X.defaultEncoding),typeof re!="function"&&(re=w),X.ended?function(me,L){var D=new Error("write after end");me.emit("error",D),o(L,D)}(this,re):(ae||function(me,L,D,ie){var U=!0,z=!1;return D===null?z=new TypeError("May not write null values to stream"):typeof D=="string"||D===void 0||L.objectMode||(z=new TypeError("Invalid non-string/buffer chunk")),z&&(me.emit("error",z),o(ie,z),U=!1),U}(this,X,S,re))&&(X.pendingcb++,le=function(me,L,D,ie,U,z){D||(ie=function(ne,se,ye){return ne.objectMode||ne.decodeStrings===!1||typeof se!="string"||(se=y.from(se,ye)),se}(L,ie,U),v.isBuffer(ie)&&(U="buffer"));var G=L.objectMode?1:ie.length;L.length+=G;var ue=L.length<L.highWaterMark;if(ue||(L.needDrain=!0),L.writing||L.corked){var oe=L.lastBufferedRequest;L.lastBufferedRequest=new E(ie,U,z),oe?oe.next=L.lastBufferedRequest:L.bufferedRequest=L.lastBufferedRequest,L.bufferedRequestCount+=1}else A(me,L,!1,G,ie,U,z);return ue}(this,X,ae,S,W,re)),le},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.finished||S.bufferProcessing||!S.bufferedRequest||Y(this,S))},O.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+S);return this._writableState.defaultEncoding=S,this},O.prototype._write=function(S,W,re){re(new Error("_write() is not implemented"))},O.prototype._writev=null,O.prototype.end=function(S,W,re){var X=this._writableState;typeof S=="function"?(re=S,S=null,W=null):typeof W=="function"&&(re=W,W=null),S!=null&&this.write(S,W),X.corked&&(X.corked=1,this.uncork()),X.ending||X.finished||function(le,ae,me){ae.ending=!0,j(le,ae),me&&(ae.finished?o(me):le.once("finish",me)),ae.ended=!0,le.writable=!1}(this,X,re)}}).call(e,r(6))},function(t,e){(function(r){function n(i){try{if(!r.localStorage)return!1}catch{return!1}var o=r.localStorage[i];return o!=null&&String(o).toLowerCase()==="true"}t.exports=function(i,o){if(n("noDeprecation"))return i;var s=!1;return function(){if(!s){if(n("throwDeprecation"))throw new Error(o);n("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return i.apply(this,arguments)}}}).call(e,function(){return this}())},function(t,e,r){var n=r(2).Buffer,i=n.isEncoding||function(d){switch(d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=e.StringDecoder=function(d){switch(this.encoding=(d||"utf8").toLowerCase().replace(/[-_]/,""),function(m){if(m&&!i(m))throw new Error("Unknown encoding: "+m)}(d),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=f;break;default:return void(this.write=s)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function s(d){return d.toString(this.encoding)}function a(d){this.charReceived=d.length%2,this.charLength=this.charReceived?2:0}function f(d){this.charReceived=d.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(d){for(var m="";this.charLength;){var v=d.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:d.length;if(d.copy(this.charBuffer,this.charReceived,0,v),this.charReceived+=v,this.charReceived<this.charLength)return"";if(d=d.slice(v,d.length),!((y=(m=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(m.length-1))>=55296&&y<=56319)){if(this.charReceived=this.charLength=0,d.length===0)return m;break}this.charLength+=this.surrogateSize,m=""}this.detectIncompleteChar(d);var y,w=d.length;if(this.charLength&&(d.copy(this.charBuffer,0,d.length-this.charReceived,w),w-=this.charReceived),w=(m+=d.toString(this.encoding,0,w)).length-1,(y=m.charCodeAt(w))>=55296&&y<=56319){var E=this.surrogateSize;return this.charLength+=E,this.charReceived+=E,this.charBuffer.copy(this.charBuffer,E,0,E),d.copy(this.charBuffer,0,0,E),m.substring(0,w)}return m},o.prototype.detectIncompleteChar=function(d){for(var m=d.length>=3?3:d.length;m>0;m--){var v=d[d.length-m];if(m==1&&v>>5==6){this.charLength=2;break}if(m<=2&&v>>4==14){this.charLength=3;break}if(m<=3&&v>>3==30){this.charLength=4;break}}this.charReceived=m},o.prototype.end=function(d){var m="";if(d&&d.length&&(m=this.write(d)),this.charReceived){var v=this.charReceived,y=this.charBuffer,w=this.encoding;m+=y.slice(0,v).toString(w)}return m}},function(t,e,r){t.exports=s;var n=r(21),i=r(18);function o(f){this.afterTransform=function(d,m){return function(v,y,w){var E=v._transformState;E.transforming=!1;var I=E.writecb;if(!I)return v.emit("error",new Error("no writecb in Transform class"));E.writechunk=null,E.writecb=null,w!=null&&v.push(w),I(y);var O=v._readableState;O.reading=!1,(O.needReadable||O.length<O.highWaterMark)&&v._read(O.highWaterMark)}(f,d,m)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(f){if(!(this instanceof s))return new s(f);n.call(this,f),this._transformState=new o(this);var d=this;this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(m,v){a(d,m,v)}):a(d)})}function a(f,d,m){if(d)return f.emit("error",d);m!=null&&f.push(m);var v=f._writableState,y=f._transformState;if(v.length)throw new Error("Calling transform done when ws.length != 0");if(y.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}i.inherits=r(12),i.inherits(s,n),s.prototype.push=function(f,d){return this._transformState.needTransform=!1,n.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,m){throw new Error("_transform() is not implemented")},s.prototype._write=function(f,d,m){var v=this._transformState;if(v.writecb=m,v.writechunk=f,v.writeencoding=d,!v.transforming){var y=this._readableState;(v.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0}},function(t,e,r){t.exports=o;var n=r(25),i=r(18);function o(s){if(!(this instanceof o))return new o(s);n.call(this,s)}i.inherits=r(12),i.inherits(o,n),o.prototype._transform=function(s,a,f){f(null,s)}},function(t,e,r){t.exports=r(22)},function(t,e,r){t.exports=r(21)},function(t,e,r){t.exports=r(25)},function(t,e,r){t.exports=r(26)},function(t,e,r){var n=r(32),i=r(33),o=r(38),s=r(39),a=r(40),f=r(41),d=r(42),m=Object.prototype.toString;function v(w){if(!(this instanceof v))return new v(w);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},w||{});var E=this.options;E.raw&&E.windowBits>=0&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(E.windowBits>=0&&E.windowBits<16)||w&&w.windowBits||(E.windowBits+=32),E.windowBits>15&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var I=n.inflateInit2(this.strm,E.windowBits);if(I!==s.Z_OK)throw new Error(a[I]);this.header=new d,n.inflateGetHeader(this.strm,this.header)}function y(w,E){var I=new v(E);if(I.push(w,!0),I.err)throw I.msg||a[I.err];return I.result}v.prototype.push=function(w,E){var I,O,A,F,Y,H,Z=this.strm,j=this.options.chunkSize,V=this.options.dictionary,S=!1;if(this.ended)return!1;O=E===~~E?E:E===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof w=="string"?Z.input=o.binstring2buf(w):m.call(w)==="[object ArrayBuffer]"?Z.input=new Uint8Array(w):Z.input=w,Z.next_in=0,Z.avail_in=Z.input.length;do{if(Z.avail_out===0&&(Z.output=new i.Buf8(j),Z.next_out=0,Z.avail_out=j),(I=n.inflate(Z,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&V&&(H=typeof V=="string"?o.string2buf(V):m.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,I=n.inflateSetDictionary(this.strm,H)),I===s.Z_BUF_ERROR&&S===!0&&(I=s.Z_OK,S=!1),I!==s.Z_STREAM_END&&I!==s.Z_OK)return this.onEnd(I),this.ended=!0,!1;Z.next_out&&(Z.avail_out!==0&&I!==s.Z_STREAM_END&&(Z.avail_in!==0||O!==s.Z_FINISH&&O!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=o.utf8border(Z.output,Z.next_out),F=Z.next_out-A,Y=o.buf2string(Z.output,A),Z.next_out=F,Z.avail_out=j-F,F&&i.arraySet(Z.output,Z.output,A,F,0),this.onData(Y)):this.onData(i.shrinkBuf(Z.output,Z.next_out)))),Z.avail_in===0&&Z.avail_out===0&&(S=!0)}while((Z.avail_in>0||Z.avail_out===0)&&I!==s.Z_STREAM_END);return I===s.Z_STREAM_END&&(O=s.Z_FINISH),O===s.Z_FINISH?(I=n.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===s.Z_OK):O!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),Z.avail_out=0,!0)},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},e.Inflate=v,e.inflate=y,e.inflateRaw=function(w,E){return(E=E||{}).raw=!0,y(w,E)},e.ungzip=y},function(t,e,r){var n=r(33),i=r(34),o=r(35),s=r(36),a=r(37),f=-2,d=12,m=30;function v(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(j){var V;return j&&j.state?(V=j.state,j.total_in=j.total_out=V.total=0,j.msg="",V.wrap&&(j.adler=1&V.wrap),V.mode=1,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new n.Buf32(852),V.distcode=V.distdyn=new n.Buf32(592),V.sane=1,V.back=-1,0):f}function E(j){var V;return j&&j.state?((V=j.state).wsize=0,V.whave=0,V.wnext=0,w(j)):f}function I(j,V){var S,W;return j&&j.state?(W=j.state,V<0?(S=0,V=-V):(S=1+(V>>4),V<48&&(V&=15)),V&&(V<8||V>15)?f:(W.window!==null&&W.wbits!==V&&(W.window=null),W.wrap=S,W.wbits=V,E(j))):f}function O(j,V){var S,W;return j?(W=new y,j.state=W,W.window=null,(S=I(j,V))!==0&&(j.state=null),S):f}var A,F,Y=!0;function H(j){if(Y){var V;for(A=new n.Buf32(512),F=new n.Buf32(32),V=0;V<144;)j.lens[V++]=8;for(;V<256;)j.lens[V++]=9;for(;V<280;)j.lens[V++]=7;for(;V<288;)j.lens[V++]=8;for(a(1,j.lens,0,288,A,0,j.work,{bits:9}),V=0;V<32;)j.lens[V++]=5;a(2,j.lens,0,32,F,0,j.work,{bits:5}),Y=!1}j.lencode=A,j.lenbits=9,j.distcode=F,j.distbits=5}function Z(j,V,S,W){var re,X=j.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new n.Buf8(X.wsize)),W>=X.wsize?(n.arraySet(X.window,V,S-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):((re=X.wsize-X.wnext)>W&&(re=W),n.arraySet(X.window,V,S-W,re,X.wnext),(W-=re)?(n.arraySet(X.window,V,S-W,W,0),X.wnext=W,X.whave=X.wsize):(X.wnext+=re,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=re))),0}e.inflateReset=E,e.inflateReset2=I,e.inflateResetKeep=w,e.inflateInit=function(j){return O(j,15)},e.inflateInit2=O,e.inflate=function(j,V){var S,W,re,X,le,ae,me,L,D,ie,U,z,G,ue,oe,ne,se,ye,be,Ie,k,R,M,$,K=0,J=new n.Buf8(4),Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return f;(S=j.state).mode===d&&(S.mode=13),le=j.next_out,re=j.output,me=j.avail_out,X=j.next_in,W=j.input,ae=j.avail_in,L=S.hold,D=S.bits,ie=ae,U=me,R=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;D<16;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}if(2&S.wrap&&L===35615){S.check=0,J[0]=255&L,J[1]=L>>>8&255,S.check=o(S.check,J,2,0),L=0,D=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&L)<<8)+(L>>8))%31){j.msg="incorrect header check",S.mode=m;break}if((15&L)!=8){j.msg="unknown compression method",S.mode=m;break}if(D-=4,k=8+(15&(L>>>=4)),S.wbits===0)S.wbits=k;else if(k>S.wbits){j.msg="invalid window size",S.mode=m;break}S.dmax=1<<k,j.adler=S.check=1,S.mode=512&L?10:d,L=0,D=0;break;case 2:for(;D<16;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}if(S.flags=L,(255&S.flags)!=8){j.msg="unknown compression method",S.mode=m;break}if(57344&S.flags){j.msg="unknown header flags set",S.mode=m;break}S.head&&(S.head.text=L>>8&1),512&S.flags&&(J[0]=255&L,J[1]=L>>>8&255,S.check=o(S.check,J,2,0)),L=0,D=0,S.mode=3;case 3:for(;D<32;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}S.head&&(S.head.time=L),512&S.flags&&(J[0]=255&L,J[1]=L>>>8&255,J[2]=L>>>16&255,J[3]=L>>>24&255,S.check=o(S.check,J,4,0)),L=0,D=0,S.mode=4;case 4:for(;D<16;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}S.head&&(S.head.xflags=255&L,S.head.os=L>>8),512&S.flags&&(J[0]=255&L,J[1]=L>>>8&255,S.check=o(S.check,J,2,0)),L=0,D=0,S.mode=5;case 5:if(1024&S.flags){for(;D<16;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}S.length=L,S.head&&(S.head.extra_len=L),512&S.flags&&(J[0]=255&L,J[1]=L>>>8&255,S.check=o(S.check,J,2,0)),L=0,D=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&((z=S.length)>ae&&(z=ae),z&&(S.head&&(k=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),n.arraySet(S.head.extra,W,X,z,k)),512&S.flags&&(S.check=o(S.check,W,z,X)),ae-=z,X+=z,S.length-=z),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(ae===0)break e;z=0;do k=W[X+z++],S.head&&k&&S.length<65536&&(S.head.name+=String.fromCharCode(k));while(k&&z<ae);if(512&S.flags&&(S.check=o(S.check,W,z,X)),ae-=z,X+=z,k)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(ae===0)break e;z=0;do k=W[X+z++],S.head&&k&&S.length<65536&&(S.head.comment+=String.fromCharCode(k));while(k&&z<ae);if(512&S.flags&&(S.check=o(S.check,W,z,X)),ae-=z,X+=z,k)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;D<16;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}if(L!==(65535&S.check)){j.msg="header crc mismatch",S.mode=m;break}L=0,D=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),j.adler=S.check=0,S.mode=d;break;case 10:for(;D<32;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}j.adler=S.check=v(L),L=0,D=0,S.mode=11;case 11:if(S.havedict===0)return j.next_out=le,j.avail_out=me,j.next_in=X,j.avail_in=ae,S.hold=L,S.bits=D,2;j.adler=S.check=1,S.mode=d;case d:if(V===5||V===6)break e;case 13:if(S.last){L>>>=7&D,D-=7&D,S.mode=27;break}for(;D<3;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}switch(S.last=1&L,D-=1,3&(L>>>=1)){case 0:S.mode=14;break;case 1:if(H(S),S.mode=20,V===6){L>>>=2,D-=2;break e}break;case 2:S.mode=17;break;case 3:j.msg="invalid block type",S.mode=m}L>>>=2,D-=2;break;case 14:for(L>>>=7&D,D-=7&D;D<32;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}if((65535&L)!=(L>>>16^65535)){j.msg="invalid stored block lengths",S.mode=m;break}if(S.length=65535&L,L=0,D=0,S.mode=15,V===6)break e;case 15:S.mode=16;case 16:if(z=S.length){if(z>ae&&(z=ae),z>me&&(z=me),z===0)break e;n.arraySet(re,W,X,z,le),ae-=z,X+=z,me-=z,le+=z,S.length-=z;break}S.mode=d;break;case 17:for(;D<14;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}if(S.nlen=257+(31&L),L>>>=5,D-=5,S.ndist=1+(31&L),L>>>=5,D-=5,S.ncode=4+(15&L),L>>>=4,D-=4,S.nlen>286||S.ndist>30){j.msg="too many length or distance symbols",S.mode=m;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;D<3;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}S.lens[Se[S.have++]]=7&L,L>>>=3,D-=3}for(;S.have<19;)S.lens[Se[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,M={bits:S.lenbits},R=a(0,S.lens,0,19,S.lencode,0,S.work,M),S.lenbits=M.bits,R){j.msg="invalid code lengths set",S.mode=m;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ne=(K=S.lencode[L&(1<<S.lenbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=D);){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}if(se<16)L>>>=oe,D-=oe,S.lens[S.have++]=se;else{if(se===16){for($=oe+2;D<$;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}if(L>>>=oe,D-=oe,S.have===0){j.msg="invalid bit length repeat",S.mode=m;break}k=S.lens[S.have-1],z=3+(3&L),L>>>=2,D-=2}else if(se===17){for($=oe+3;D<$;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}D-=oe,k=0,z=3+(7&(L>>>=oe)),L>>>=3,D-=3}else{for($=oe+7;D<$;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}D-=oe,k=0,z=11+(127&(L>>>=oe)),L>>>=7,D-=7}if(S.have+z>S.nlen+S.ndist){j.msg="invalid bit length repeat",S.mode=m;break}for(;z--;)S.lens[S.have++]=k}}if(S.mode===m)break;if(S.lens[256]===0){j.msg="invalid code -- missing end-of-block",S.mode=m;break}if(S.lenbits=9,M={bits:S.lenbits},R=a(1,S.lens,0,S.nlen,S.lencode,0,S.work,M),S.lenbits=M.bits,R){j.msg="invalid literal/lengths set",S.mode=m;break}if(S.distbits=6,S.distcode=S.distdyn,M={bits:S.distbits},R=a(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,M),S.distbits=M.bits,R){j.msg="invalid distances set",S.mode=m;break}if(S.mode=20,V===6)break e;case 20:S.mode=21;case 21:if(ae>=6&&me>=258){j.next_out=le,j.avail_out=me,j.next_in=X,j.avail_in=ae,S.hold=L,S.bits=D,s(j,U),le=j.next_out,re=j.output,me=j.avail_out,X=j.next_in,W=j.input,ae=j.avail_in,L=S.hold,D=S.bits,S.mode===d&&(S.back=-1);break}for(S.back=0;ne=(K=S.lencode[L&(1<<S.lenbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=D);){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}if(ne&&(240&ne)==0){for(ye=oe,be=ne,Ie=se;ne=(K=S.lencode[Ie+((L&(1<<ye+be)-1)>>ye)])>>>16&255,se=65535&K,!(ye+(oe=K>>>24)<=D);){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}L>>>=ye,D-=ye,S.back+=ye}if(L>>>=oe,D-=oe,S.back+=oe,S.length=se,ne===0){S.mode=26;break}if(32&ne){S.back=-1,S.mode=d;break}if(64&ne){j.msg="invalid literal/length code",S.mode=m;break}S.extra=15&ne,S.mode=22;case 22:if(S.extra){for($=S.extra;D<$;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}S.length+=L&(1<<S.extra)-1,L>>>=S.extra,D-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ne=(K=S.distcode[L&(1<<S.distbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=D);){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}if((240&ne)==0){for(ye=oe,be=ne,Ie=se;ne=(K=S.distcode[Ie+((L&(1<<ye+be)-1)>>ye)])>>>16&255,se=65535&K,!(ye+(oe=K>>>24)<=D);){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}L>>>=ye,D-=ye,S.back+=ye}if(L>>>=oe,D-=oe,S.back+=oe,64&ne){j.msg="invalid distance code",S.mode=m;break}S.offset=se,S.extra=15&ne,S.mode=24;case 24:if(S.extra){for($=S.extra;D<$;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}S.offset+=L&(1<<S.extra)-1,L>>>=S.extra,D-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){j.msg="invalid distance too far back",S.mode=m;break}S.mode=25;case 25:if(me===0)break e;if(z=U-me,S.offset>z){if((z=S.offset-z)>S.whave&&S.sane){j.msg="invalid distance too far back",S.mode=m;break}z>S.wnext?(z-=S.wnext,G=S.wsize-z):G=S.wnext-z,z>S.length&&(z=S.length),ue=S.window}else ue=re,G=le-S.offset,z=S.length;z>me&&(z=me),me-=z,S.length-=z;do re[le++]=ue[G++];while(--z);S.length===0&&(S.mode=21);break;case 26:if(me===0)break e;re[le++]=S.length,me--,S.mode=21;break;case 27:if(S.wrap){for(;D<32;){if(ae===0)break e;ae--,L|=W[X++]<<D,D+=8}if(U-=me,j.total_out+=U,S.total+=U,U&&(j.adler=S.check=S.flags?o(S.check,re,U,le-U):i(S.check,re,U,le-U)),U=me,(S.flags?L:v(L))!==S.check){j.msg="incorrect data check",S.mode=m;break}L=0,D=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;D<32;){if(ae===0)break e;ae--,L+=W[X++]<<D,D+=8}if(L!==(4294967295&S.total)){j.msg="incorrect length check",S.mode=m;break}L=0,D=0}S.mode=29;case 29:R=1;break e;case m:R=-3;break e;case 31:return-4;default:return f}return j.next_out=le,j.avail_out=me,j.next_in=X,j.avail_in=ae,S.hold=L,S.bits=D,(S.wsize||U!==j.avail_out&&S.mode<m&&(S.mode<27||V!==4))&&Z(j,j.output,j.next_out,U-j.avail_out),ie-=j.avail_in,U-=j.avail_out,j.total_in+=ie,j.total_out+=U,S.total+=U,S.wrap&&U&&(j.adler=S.check=S.flags?o(S.check,re,U,j.next_out-U):i(S.check,re,U,j.next_out-U)),j.data_type=S.bits+(S.last?64:0)+(S.mode===d?128:0)+(S.mode===20||S.mode===15?256:0),(ie===0&&U===0||V===4)&&R===0&&(R=-5),R},e.inflateEnd=function(j){if(!j||!j.state)return f;var V=j.state;return V.window&&(V.window=null),j.state=null,0},e.inflateGetHeader=function(j,V){var S;return j&&j.state?(2&(S=j.state).wrap)==0?f:(S.head=V,V.done=!1,0):f},e.inflateSetDictionary=function(j,V){var S,W=V.length;return j&&j.state?(S=j.state).wrap!==0&&S.mode!==11?f:S.mode===11&&i(1,V,W,0)!==S.check?-3:Z(j,V,W,W)?(S.mode=31,-4):(S.havedict=1,0):f},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var f in a)a.hasOwnProperty(f)&&(o[f]=a[f])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var n={arraySet:function(o,s,a,f,d){if(s.subarray&&o.subarray)o.set(s.subarray(a,a+f),d);else for(var m=0;m<f;m++)o[d+m]=s[a+m]},flattenChunks:function(o){var s,a,f,d,m,v;for(f=0,s=0,a=o.length;s<a;s++)f+=o[s].length;for(v=new Uint8Array(f),d=0,s=0,a=o.length;s<a;s++)m=o[s],v.set(m,d),d+=m.length;return v}},i={arraySet:function(o,s,a,f,d){for(var m=0;m<f;m++)o[d+m]=s[a+m]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(r)},function(t,e){t.exports=function(r,n,i,o){for(var s=65535&r|0,a=r>>>16&65535|0,f=0;i!==0;){i-=f=i>2e3?2e3:i;do a=a+(s=s+n[o++]|0)|0;while(--f);s%=65521,a%=65521}return s|a<<16|0}},function(t,e){var r=function(){for(var n,i=[],o=0;o<256;o++){n=o;for(var s=0;s<8;s++)n=1&n?3988292384^n>>>1:n>>>1;i[o]=n}return i}();t.exports=function(n,i,o,s){var a=r,f=s+o;n^=-1;for(var d=s;d<f;d++)n=n>>>8^a[255&(n^i[d])];return-1^n}},function(t,e){t.exports=function(r,n){var i,o,s,a,f,d,m,v,y,w,E,I,O,A,F,Y,H,Z,j,V,S,W,re,X,le;i=r.state,o=r.next_in,X=r.input,s=o+(r.avail_in-5),a=r.next_out,le=r.output,f=a-(n-r.avail_out),d=a+(r.avail_out-257),m=i.dmax,v=i.wsize,y=i.whave,w=i.wnext,E=i.window,I=i.hold,O=i.bits,A=i.lencode,F=i.distcode,Y=(1<<i.lenbits)-1,H=(1<<i.distbits)-1;e:do{O<15&&(I+=X[o++]<<O,O+=8,I+=X[o++]<<O,O+=8),Z=A[I&Y];t:for(;;){if(I>>>=j=Z>>>24,O-=j,(j=Z>>>16&255)==0)le[a++]=65535&Z;else{if(!(16&j)){if((64&j)==0){Z=A[(65535&Z)+(I&(1<<j)-1)];continue t}if(32&j){i.mode=12;break e}r.msg="invalid literal/length code",i.mode=30;break e}V=65535&Z,(j&=15)&&(O<j&&(I+=X[o++]<<O,O+=8),V+=I&(1<<j)-1,I>>>=j,O-=j),O<15&&(I+=X[o++]<<O,O+=8,I+=X[o++]<<O,O+=8),Z=F[I&H];r:for(;;){if(I>>>=j=Z>>>24,O-=j,!(16&(j=Z>>>16&255))){if((64&j)==0){Z=F[(65535&Z)+(I&(1<<j)-1)];continue r}r.msg="invalid distance code",i.mode=30;break e}if(S=65535&Z,O<(j&=15)&&(I+=X[o++]<<O,(O+=8)<j&&(I+=X[o++]<<O,O+=8)),(S+=I&(1<<j)-1)>m){r.msg="invalid distance too far back",i.mode=30;break e}if(I>>>=j,O-=j,S>(j=a-f)){if((j=S-j)>y&&i.sane){r.msg="invalid distance too far back",i.mode=30;break e}if(W=0,re=E,w===0){if(W+=v-j,j<V){V-=j;do le[a++]=E[W++];while(--j);W=a-S,re=le}}else if(w<j){if(W+=v+w-j,(j-=w)<V){V-=j;do le[a++]=E[W++];while(--j);if(W=0,w<V){V-=j=w;do le[a++]=E[W++];while(--j);W=a-S,re=le}}}else if(W+=w-j,j<V){V-=j;do le[a++]=E[W++];while(--j);W=a-S,re=le}for(;V>2;)le[a++]=re[W++],le[a++]=re[W++],le[a++]=re[W++],V-=3;V&&(le[a++]=re[W++],V>1&&(le[a++]=re[W++]))}else{W=a-S;do le[a++]=le[W++],le[a++]=le[W++],le[a++]=le[W++],V-=3;while(V>2);V&&(le[a++]=le[W++],V>1&&(le[a++]=le[W++]))}break}}break}}while(o<s&&a<d);o-=V=O>>3,I&=(1<<(O-=V<<3))-1,r.next_in=o,r.next_out=a,r.avail_in=o<s?s-o+5:5-(o-s),r.avail_out=a<d?d-a+257:257-(a-d),i.hold=I,i.bits=O}},function(t,e,r){var n=r(33),i=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(d,m,v,y,w,E,I,O){var A,F,Y,H,Z,j,V,S,W,re=O.bits,X=0,le=0,ae=0,me=0,L=0,D=0,ie=0,U=0,z=0,G=0,ue=null,oe=0,ne=new n.Buf16(16),se=new n.Buf16(16),ye=null,be=0;for(X=0;X<=i;X++)ne[X]=0;for(le=0;le<y;le++)ne[m[v+le]]++;for(L=re,me=i;me>=1&&ne[me]===0;me--);if(L>me&&(L=me),me===0)return w[E++]=20971520,w[E++]=20971520,O.bits=1,0;for(ae=1;ae<me&&ne[ae]===0;ae++);for(L<ae&&(L=ae),U=1,X=1;X<=i;X++)if(U<<=1,(U-=ne[X])<0)return-1;if(U>0&&(d===0||me!==1))return-1;for(se[1]=0,X=1;X<i;X++)se[X+1]=se[X]+ne[X];for(le=0;le<y;le++)m[v+le]!==0&&(I[se[m[v+le]]++]=le);if(d===0?(ue=ye=I,j=19):d===1?(ue=o,oe-=257,ye=s,be-=257,j=256):(ue=a,ye=f,j=-1),G=0,le=0,X=ae,Z=E,D=L,ie=0,Y=-1,H=(z=1<<L)-1,d===1&&z>852||d===2&&z>592)return 1;for(;;){V=X-ie,I[le]<j?(S=0,W=I[le]):I[le]>j?(S=ye[be+I[le]],W=ue[oe+I[le]]):(S=96,W=0),A=1<<X-ie,ae=F=1<<D;do w[Z+(G>>ie)+(F-=A)]=V<<24|S<<16|W|0;while(F!==0);for(A=1<<X-1;G&A;)A>>=1;if(A!==0?(G&=A-1,G+=A):G=0,le++,--ne[X]==0){if(X===me)break;X=m[v+I[le]]}if(X>L&&(G&H)!==Y){for(ie===0&&(ie=L),Z+=ae,U=1<<(D=X-ie);D+ie<me&&!((U-=ne[D+ie])<=0);)D++,U<<=1;if(z+=1<<D,d===1&&z>852||d===2&&z>592)return 1;w[Y=G&H]=L<<24|D<<16|Z-E|0}}return G!==0&&(w[Z+G]=X-ie<<24|64<<16|0),O.bits=L,0}},function(t,e,r){var n=r(33),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var s=new n.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function f(d,m){if(m<65537&&(d.subarray&&o||!d.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(d,m));for(var v="",y=0;y<m;y++)v+=String.fromCharCode(d[y]);return v}s[254]=s[254]=1,e.string2buf=function(d){var m,v,y,w,E,I=d.length,O=0;for(w=0;w<I;w++)(64512&(v=d.charCodeAt(w)))==55296&&w+1<I&&(64512&(y=d.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),w++),O+=v<128?1:v<2048?2:v<65536?3:4;for(m=new n.Buf8(O),E=0,w=0;E<O;w++)(64512&(v=d.charCodeAt(w)))==55296&&w+1<I&&(64512&(y=d.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),w++),v<128?m[E++]=v:v<2048?(m[E++]=192|v>>>6,m[E++]=128|63&v):v<65536?(m[E++]=224|v>>>12,m[E++]=128|v>>>6&63,m[E++]=128|63&v):(m[E++]=240|v>>>18,m[E++]=128|v>>>12&63,m[E++]=128|v>>>6&63,m[E++]=128|63&v);return m},e.buf2binstring=function(d){return f(d,d.length)},e.binstring2buf=function(d){for(var m=new n.Buf8(d.length),v=0,y=m.length;v<y;v++)m[v]=d.charCodeAt(v);return m},e.buf2string=function(d,m){var v,y,w,E,I=m||d.length,O=new Array(2*I);for(y=0,v=0;v<I;)if((w=d[v++])<128)O[y++]=w;else if((E=s[w])>4)O[y++]=65533,v+=E-1;else{for(w&=E===2?31:E===3?15:7;E>1&&v<I;)w=w<<6|63&d[v++],E--;E>1?O[y++]=65533:w<65536?O[y++]=w:(w-=65536,O[y++]=55296|w>>10&1023,O[y++]=56320|1023&w)}return f(O,y)},e.utf8border=function(d,m){var v;for((m=m||d.length)>d.length&&(m=d.length),v=m-1;v>=0&&(192&d[v])==128;)v--;return v<0||v===0?m:v+s[d[v]]>m?v:m}},function(t,e){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}])},Ha.exports=Ww();nc=!1,Ze=Ha.exports.BFSRequire("fs");Ha.exports.BFSRequire("buffer").Buffer;bd=async(t=["data","projects","extensions","settings","plugins"],e=()=>{},r=()=>{})=>!!nc||new Promise(n=>{Ze.getRootFS(),Ha.exports.FileSystem.IndexedDB.Create({},(i,o)=>{if(i)throw i;if(!o)throw r(),new Error("Error creating BrowserFS");Ha.exports.initialize(o);let s=[];t.forEach(async a=>{s.push(Od(Ze,a))}),Promise.all(s).then(a=>{e(),nc=!0,n(!0)})})});xd=async(t,e="data",r=n=>{console.log(n)})=>new Promise(n=>{Ze.stat("/"+e+"/"+t,(i,o)=>{if(i)throw i;let s=o.size;r(s),n(s)})}),$w=async(t="",e="data",r=(n,i)=>{console.log(n,i)})=>new Promise(n=>{Ze.open("/"+e+"/"+t,"r",(i,o)=>{if(i)throw i;Ze.read(o,65535,0,"utf-8",(s,a,f)=>{if(s)throw s;if(f!==0){let d=a.toString().split(`
`)[0];Ze.close(o,()=>{r(d,t),n(d)})}else n(void 0)})})}),Hw=async(t="data",e=n=>{},r)=>new Promise(n=>{Ze.readdir("/"+t,(i,o)=>{if(i)throw i;o&&(console.log("files",o),e(o)),n(o)})}),ls={},Od=async(t,e)=>new Promise(r=>{ls[e]==="exists"||ls[e]==="created"?r():t.exists(`/${e}`,n=>{n?(ls[e]="exists",console.log(`/${e} exists!`),r()):ls[e]==="creating"?(console.log(e+" is still being created."),r()):(console.log("creating "+e),ls[e]="creating",t.mkdir(e,i=>{if(i)throw i;ls[e]="created",setTimeout(r,500)}))})}),eo=Object.freeze({__proto__:null,fs:Ze,initFS:bd,exists:async(t="",e="data")=>new Promise(r=>{Ze.exists("/"+e+"/"+t,function(n){r(n)})}),readFile:async(t="sessionName",e="data")=>(nc||await bd(),new Promise(r=>{Ze.readFile("/"+e+"/"+t,function(n,i){r(i)})})),readFileChunk:qw,getFilenames:(t=r=>{},e="/data")=>new Promise(r=>{Ze.readdir(e,(n,i)=>{if(n)throw n;i?(console.log("files",i),t(i),r(i)):r(void 0)})}),writeFile:async(t,e,r="data",n=i=>{})=>new Promise(i=>{Ze.writeFile("/"+r+"/"+t,e,o=>{if(o)throw o;n(e),i(!0)})}),appendFile:async(t,e,r="data",n=i=>{})=>new Promise(i=>{Ze.appendFile("/"+r+"/"+t,e,o=>{if(o)throw o;n(e),i(!0)})}),deleteFile:(t="sessionName",e="data",r=Hw)=>new Promise(n=>{t!=""?Ze.unlink("/"+e+"/"+t,i=>{i&&console.error(i),r(),n(!0)}):(console.error("Path name is not defined"),n(!1))}),readFileAsText:async(t="sessionName.csv",e="data",r="end",n=0,i=(o,s)=>{})=>new Promise(async o=>{let s=await xd(t,e);(r==="end"||typeof r=="number"&&r>s)&&(r=s),Ze.open("/"+e+"/"+t,"r",(a,f)=>{if(a)throw a;Ze.read(f,r,n,"utf-8",(d,m,v)=>{if(d)throw d;if(v!==0){let y=m.toString();Ze.close(f,()=>{i(y,t),o(y)})}else o(void 0)})})}),getFileSize:xd,getCSVHeader:$w,listFiles:Hw,writeToCSVFromDB:async(t="sessionName",e="data",r=10)=>new Promise(n=>{t!=""?Ze.stat("/"+e+"/"+t,(i,o)=>{if(i)throw i;let s=o.size;console.log(s),Ze.open(e+"/"+t,"r",(a,f)=>{if(a)throw a;let d=1024*r*1024,m=d;s<d&&(m=s,Ze.read(f,m,0,"utf-8",(v,y,w)=>{if(v)throw v;w!==0&&$a.saveCSV(y.toString(),t),Ze.close(f),n(!0)}))})}):(console.error("File name is not defined."),n(!1))}),readCSVChunkFromDB:async function(t,e="data",r=0,n="end"){let i=await $w(t);if(!i)return;i=i.split(",");let o=[],s=[],a={};i.forEach(v=>{v?(s.push(v),o.push(1)):o[o.length-1]++});let f=await xd(t,e);n==="end"?n=f:n>f&&(r=f-(n-r),n=f);let d=await qw(t,e,r,n),m=0;return d.forEach((v,y)=>{let w=v.split(",");for(;m<w.length-1;){let E=o[0];E===1?(a[s[0]].push(w[m]),m++):(a[s[0]].push(w[m].slice(m,E)),m+=E)}}),a},saveToFS:async(t,e="sessionName",r="data")=>(nc||await bd(),new Promise(async n=>{await Od(Ze,r),Ze.writeFile("/"+r+"/"+e,t,i=>{if(i)throw i;n(t)})})),dirExists:Od});LA=Object.freeze({__proto__:null,checkFolder:kd,createDriveFolder:function(t="Brainsatplay_Data"){let e=new Object;e.name=t,e.mimeType="application/vnd.google-apps.folder",window.gapi.client.drive.files.create({resource:e}).then(r=>{console.log(r.result)})},backupToDrive:(t,e="/data")=>{window.gapi.auth2.getAuthInstance().isSignedIn.get()?Ze.readFile(e+"/"+t,(r,n)=>{if(r)throw r;let i=new Blob([n.toString()],{type:"text/csv"});kd(o=>{let s={name:t+".csv",mimeType:"application/vnd.google-apps.spreadsheet",parents:[o.files[0].id]},a=window.gapi.auth.getToken().access_token;var f=new FormData;f.append("metadata",new Blob([JSON.stringify(s)],{type:"application/json"})),f.append("file",i);var d=new XMLHttpRequest;d.open("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id"),d.setRequestHeader("Authorization","Bearer "+a),d.responseType="json",d.onload=()=>{console.log("Uploaded file id: ",d.response.id),Gw()},d.send(f)})}):alert("Sign in with Google first!")},listDriveFiles:Gw});Td.regex=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;MA=Object.freeze({__proto__:null,dataURLtoBlob:function(t){if(Td(t)){for(var e=t.split(","),r=e[0].match(/:(.*?);/)[1],n=atob(e[1]),i=n.length,o=new Uint8Array(i);i--;)o[i]=n.charCodeAt(i);return new Blob([o],{type:r})}},blobToDataURL:function(t,e){var r=new FileReader;r.onload=function(n){e(n.target.result)},r.readAsDataURL(t)},dataToBlob:async function(t,e="text/plain",r=256e3){let n={filename,data:new Blob([t],{filetype:e})};if(Object.assign(n,props),n.data.size>r){let i=n.data.size,o=0,s=0,a=[];for(;o<i;){let f,d=o+r;if(d>i&&(d=i),f=e==="text/plain"?await n.data.slice(o,d).text():await n.data.slice(o,d).arrayBuffer(),f){let m={filename,data:new Blob([f],{type:e}),chunk:s,start:o,end:d};Object.assign(m,props),a.push(m)}o+=r,s++}return a}return n}});typeof minimongo<"u"&&(Yw=Kw());Kw=t=>{try{t=new minimongo.IndexedDb}catch{try{t=new minimongo.LocalStorageDb}catch{try{t=new minimongo.MemoryDb}catch{console.error("No DB created!")}}}return t},Zw=async(t,e)=>{let r=t[e].find(),n=[];return await r.count()>0&&await Promise.all(r.map(async i=>{i.chunk!==void 0?i.chunk===0&&n.push(i.filename):n.push(i.filename)})),n},ZO=Zw,Jw=async(t,e,r)=>{let n,i=t[e].find({filename:r});if(await i.count()>0){let o={};await Promise.all(i.map(async a=>{let f=await a.data.text();a.chunk!==void 0?o[a.chunk]=f:o[0]=f}));let s=Object.keys(o).length;for(let a=0;a<s;a++)n+=o[a]}return n},jA=Object.freeze({__proto__:null,get db(){return Yw},localDB:Kw,remoteDB:(t,e,r,n,i,o)=>new minimongo.RemoteDb(e,r,n,i,o),connectDB:(t,e,r,n,i,o)=>{let s=new minimongo.RemoteDb(e,r,n,i,o);return t=new minimongo.HybridDb(t,s)},readData:async(t,e="",r={})=>{if(e)return t[e]||t.addCollection(e),await t[e].findOne(r)},writeData:async(t,e,r={},n=o=>{},i=o=>{})=>{if(e)return t[e]||t.addCollection(e),await t[e].upsert(r,n,i)},readFile:async(t,e,r="")=>{if(!t[e])return;let n,i={filename:r},o=t[e].find(i);return await o.count()>0&&(n=[],await Promise.all(o.map(async s=>{n.push(s)}))),n},readFileChunk:async(t,e,r="",n,i,o,s=d=>{},a=d=>{},f)=>{if(!t[e])return;let d={filename:r};return n&&(d.chunk=n),i&&(d.start=i),o&&(d.end=o),n||i&&o?await t[e].findOne(d,f,s,a):void 0},writeFile:async(t,e,r="",n,i=d=>{},o=d=>{},s={},a="text/plain",f=256e3)=>{let d=t[e].find({filename:r});await d.count()>0&&await Promise.all(d.map(async v=>{t[e].remove(v._id)}));let m={filename:r,data:new Blob([n],{filetype:a})};if(Object.assign(m,s),m.data.size>f){let v=m.data.size,y=0,w=0;for(;y<v;){let E,I=y+f;if(I>v&&(I=v),E=a==="text/plain"?await m.data.slice(y,I).text():await m.data.slice(y,I).arrayBuffer(),E){let O={filename:r,data:new Blob([E],{type:a}),chunk:w,start:y,end:I};Object.assign(O,s),t[e].upsert(O,i,o)}y+=f,w++}}else t[e].upsert(m,i,o)},appendFile:async(t,e,r="",n,i=d=>{},o=d=>{},s={},a="text/plain",f=256e3)=>{let d=t[e].find({filename:r}),m=await d.count(),v=0,y={filename:r,data:new Blob([n],{filetype:a})};if(Object.assign(y,s),m>0)if(await Promise.all(d.map(async w=>{v+=w.size})),y.data.size>f){let w=v,E=m;for(;w<y.data.size+v;){let I,O=w+f;if(O>v&&(O=v),I=a==="text/plain"?await y.data.slice(w,O).text():await y.data.slice(w,O).arrayBuffer(),I){let A={filename:r,data:new Blob([I],{type:a}),chunk:E,start:w,end:O,size:O-w};Object.assign(A,s),t[e].upsert(A,i,o)}w+=f,E++}}else y.chunk=m,y.start=v,y.end=v+y.data.size,t[e].upsert(y,i,o);else t[e].upsert(y,i,o)},getFilenames:Zw,listFiles:ZO,getFileSize:async(t,e,r)=>{let n=t[e].find({filename:r}),i=await n.count(),o=0;return i>0&&await Promise.all(n.map(async s=>{o+=s.size})),o},deleteFile:async(t,e,r)=>await t[e].remove(r),writeToCSVFromDB:async(t,e,r)=>{let n=await Jw(e,r);$a.saveCSV(n,r)},getCSVHeader:async(t,e,r)=>{let n,i=t[e].find({filename:r});return await i.count()>0&&await Promise.all(i.map(async o=>{if(o.chunk!==void 0&&o.chunk===0){let s=await o.data.text();n=s.substring(0,s.indexOf(`
`))}})),n},readFileAsText:Jw})});function XO(t="state.json",e=Jr){e.subscribe("state",r=>{eo.writeFile(t,JSON.stringify(r),"data")})}function us(n){return te(this,arguments,function*(t,e="state.json",r=Jr){yield eo.initFS(["data"]),yield eo.dirExists(eo.fs,"data");let i=yield new Promise(s=>{eo.fs.exists("/data/"+e,a=>{s(a)})}),o;if(i){o=yield eo.readFileAsText("state.json","data");try{let s=JSON.parse(o);typeof s=="object"&&(s.loggedInId&&s.loggedInId===(t==null?void 0:t._id)||!s.loggedInId)&&r.setState(s)}catch(s){console.error(s)}}return XO(e,r),o})}var Jr,Ga=it(()=>{Ed();Xw();Jr=new rc({route:"/",isLoggedIn:!1,appInitialized:!1,loggedInId:void 0})});function QO(t,e){return e={exports:{}},t(e,e.exports),e.exports}function d_(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function i6(t){var e=d_(t),r=e[0],n=e[1];return(r+n)*3/4-n}function o6(t,e,r){return(e+r)*3/4-r}function s6(t){var e,r=d_(t),n=r[0],i=r[1],o=new n6(o6(t,n,i)),s=0,a=i>0?n-4:n,f;for(f=0;f<a;f+=4)e=Kr[t.charCodeAt(f)]<<18|Kr[t.charCodeAt(f+1)]<<12|Kr[t.charCodeAt(f+2)]<<6|Kr[t.charCodeAt(f+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Kr[t.charCodeAt(f)]<<2|Kr[t.charCodeAt(f+1)]>>4,o[s++]=e&255),i===1&&(e=Kr[t.charCodeAt(f)]<<10|Kr[t.charCodeAt(f+1)]<<4|Kr[t.charCodeAt(f+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function a6(t){return xn[t>>18&63]+xn[t>>12&63]+xn[t>>6&63]+xn[t&63]}function l6(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(a6(n));return i.join("")}function u6(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(l6(t,s,s+o>a?a:s+o));return n===1?(e=t[r-1],i.push(xn[e>>2]+xn[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(xn[e>>10]+xn[e>>4&63]+xn[e<<2&63]+"=")),i.join("")}function Ld(t,e){Cd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function ic(t){return t&&t.Math==Math&&t}function p_(){return ic(typeof globalThis=="object"&&globalThis)||ic(typeof window=="object"&&window)||ic(typeof self=="object"&&self)||ic(typeof global=="object"&&global)||Function("return this")()}function h6(){var t=p_();return typeof t.navigator=="object"&&t.navigator.product==="ReactNative"}function y6(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}function Md(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function m6(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function g6(t){return Za(t)&&Object.prototype.toString.call(t)==="[object Date]"}function Za(t){return typeof t=="object"&&t!==null}function ac(t,e){var r=!1;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r||(console.warn(e),r=!0),t.apply(this,i)}return n}function oc(t){if(ArrayBuffer.isView(t))return He.from(t.buffer,t.byteOffset,t.byteLength);if(y6(t))return He.from(t);throw new St("Must use either Buffer or TypedArray")}function w6(t){return Za(t)&&t.$id!=null&&typeof t.$ref=="string"&&(t.$db==null||typeof t.$db=="string")}function u_(t){return!isNaN(parseInt(t,10))}function A6(t){var e=Te.fromNumber(1e9),r=Te.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:r};for(var n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new Te(t.parts[n],0)),t.parts[n]=r.div(e).low,r=r.modulo(e);return{quotient:t,rem:r}}function I6(t,e){if(!t&&!e)return{high:Te.fromNumber(0),low:Te.fromNumber(0)};var r=t.shiftRightUnsigned(32),n=new Te(t.getLowBits(),0),i=e.shiftRightUnsigned(32),o=new Te(e.getLowBits(),0),s=r.multiply(i),a=r.multiply(o),f=n.multiply(i),d=n.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new Te(a.getLowBits(),0).add(f).add(d.shiftRightUnsigned(32)),s=s.add(a.shiftRightUnsigned(32)),d=a.shiftLeft(32).add(new Te(d.getLowBits(),0)),{high:s,low:d}}function R6(t,e){var r=t.high>>>0,n=e.high>>>0;if(r<n)return!0;if(r===n){var i=t.low>>>0,o=e.low>>>0;if(i<o)return!0}return!1}function hs(t,e){throw new St('"'+t+'" is not a valid Decimal128 string - '+e)}function F6(t){return t.split("").sort().join("")}function P6(t){return Za(t)&&Reflect.has(t,"_bsontype")&&typeof t._bsontype=="string"}function x_(t,e){if(e===void 0&&(e={}),typeof t=="number"){if(e.relaxed||e.legacy)return t;if(Math.floor(t)===t){if(t>=S_&&t<=__)return new cc(t);if(t>=b_&&t<=E_)return Te.fromNumber(t)}return new uc(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;for(var r=Object.keys(t).filter(function(v){return v.startsWith("$")&&t[v]!=null}),n=0;n<r.length;n++){var i=L6[r[n]];if(i)return i.fromExtendedJSON(t,e)}if(t.$date!=null){var o=t.$date,s=new Date;return e.legacy?typeof o=="number"?s.setTime(o):typeof o=="string"&&s.setTime(Date.parse(o)):typeof o=="string"?s.setTime(Date.parse(o)):Te.isLong(o)?s.setTime(o.toNumber()):typeof o=="number"&&e.relaxed&&s.setTime(o),s}if(t.$code!=null){var a=Object.assign({},t);return t.$scope&&(a.$scope=x_(t.$scope)),lc.fromExtendedJSON(t)}if(w6(t)||t.$dbPointer){var f=t.$ref?t:t.$dbPointer;if(f instanceof Ya)return f;var d=Object.keys(f).filter(function(v){return v.startsWith("$")}),m=!0;if(d.forEach(function(v){["$ref","$id","$db"].indexOf(v)===-1&&(m=!1)}),m)return Ya.fromExtendedJSON(f)}return t}function M6(t,e){return t.map(function(r,n){e.seenObjects.push({propertyName:"index "+n,obj:null});try{return gi(r,e)}finally{e.seenObjects.pop()}})}function c_(t){var e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function gi(t,e){if((typeof t=="object"||typeof t=="function")&&t!==null){var r=e.seenObjects.findIndex(function(A){return A.obj===t});if(r!==-1){var n=e.seenObjects.map(function(A){return A.propertyName}),i=n.slice(0,r).map(function(A){return A+" -> "}).join(""),o=n[r],s=" -> "+n.slice(r+1,n.length-1).map(function(A){return A+" -> "}).join(""),a=n[n.length-1],f=" ".repeat(i.length+o.length/2),d="-".repeat(s.length+(o.length+a.length)/2-1);throw new St(`Converting circular structure to EJSON:
`+("    "+i+o+s+a+`
`)+("    "+f+"\\"+d+"/"))}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return M6(t,e);if(t===void 0)return null;if(t instanceof Date||g6(t)){var m=t.getTime(),v=m>-1&&m<2534023188e5;return e.legacy?e.relaxed&&v?{$date:t.getTime()}:{$date:c_(t)}:e.relaxed&&v?{$date:c_(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Math.floor(t)===t){var y=t>=S_&&t<=__,w=t>=b_&&t<=E_;if(y)return{$numberInt:t.toString()};if(w)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp||m6(t)){var E=t.flags;if(E===void 0){var I=t.toString().match(/[gimuy]*$/);I&&(E=I[0])}var O=new Ka(t.source,E);return O.toExtendedJSON(e)}return t!=null&&typeof t=="object"?B6(t,e):t}function B6(t,e){if(t==null||typeof t!="object")throw new no("not an object instance");var r=t._bsontype;if(typeof r>"u"){var n={};for(var i in t){e.seenObjects.push({propertyName:i,obj:null});try{n[i]=gi(t[i],e)}finally{e.seenObjects.pop()}}return n}else if(P6(t)){var o=t;if(typeof o.toExtendedJSON!="function"){var s=j6[t._bsontype];if(!s)throw new St("Unrecognized or invalid _bsontype: "+t._bsontype);o=s(o)}return r==="Code"&&o.scope?o=new lc(o.code,gi(o.scope,e)):r==="DBRef"&&o.oid&&(o=new Ya(gi(o.collection,e),gi(o.oid,e),gi(o.db,e),gi(o.fields,e))),o.toExtendedJSON(e)}else throw new no("_bsontype must be a string, but was: "+typeof r)}var e6,t6,r6,xn,Kr,n6,Nd,to,Qw,Ad,c6,f6,cs,sc,He,Cd,no,St,d6,p6,y_,v6,m_,Pd,e_,Id,Rd,g_,io,lc,Ya,Yr,t_,_6,ps,v_,r_,n_,i_,Te,S6,E6,b6,Ja,Dd,o_,x6,Fd,s_,a_,O6,k6,l_,T6,N6,jd,uc,cc,Bd,Ud,D6,ro,ds,vr,Ka,zd,C6,w_,__,S_,E_,b_,L6,j6,vi,f_,h_,WA,qA,U6,z6,$A,HA,V6,GA,Vd=it(()=>{e6=i6,t6=s6,r6=u6,xn=[],Kr=[],n6=typeof Uint8Array<"u"?Uint8Array:Array,Nd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(to=0,Qw=Nd.length;to<Qw;++to)xn[to]=Nd[to],Kr[Nd.charCodeAt(to)]=to;Kr["-".charCodeAt(0)]=62;Kr["_".charCodeAt(0)]=63;Ad={byteLength:e6,toByteArray:t6,fromByteArray:r6};c6=function(e,r,n,i,o){var s,a,f=o*8-i-1,d=(1<<f)-1,m=d>>1,v=-7,y=n?o-1:0,w=n?-1:1,E=e[r+y];for(y+=w,s=E&(1<<-v)-1,E>>=-v,v+=f;v>0;s=s*256+e[r+y],y+=w,v-=8);for(a=s&(1<<-v)-1,s>>=-v,v+=i;v>0;a=a*256+e[r+y],y+=w,v-=8);if(s===0)s=1-m;else{if(s===d)return a?NaN:(E?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-m}return(E?-1:1)*a*Math.pow(2,s-i)},f6=function(e,r,n,i,o,s){var a,f,d,m=s*8-o-1,v=(1<<m)-1,y=v>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=i?0:s-1,I=i?1:-1,O=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,a=v):(a=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+y>=1?r+=w/d:r+=w*Math.pow(2,1-y),r*d>=2&&(a++,d/=2),a+y>=v?(f=0,a=v):a+y>=1?(f=(r*d-1)*Math.pow(2,o),a=a+y):(f=r*Math.pow(2,y-1)*Math.pow(2,o),a=0));o>=8;e[n+E]=f&255,E+=I,f/=256,o-=8);for(a=a<<o|f,m+=o;m>0;e[n+E]=a&255,E+=I,a/=256,m-=8);e[n+E-I]|=O*128},cs={read:c6,write:f6},sc=QO(function(t,e){var r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=A,e.INSPECT_MAX_BYTES=50;var n=2147483647;e.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var C=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(C,b),C.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function o(C){if(C>n)throw new RangeError('The value "'+C+'" is invalid for option "size"');var b=new Uint8Array(C);return Object.setPrototypeOf(b,s.prototype),b}function s(C,b,T){if(typeof C=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(C)}return a(C,b,T)}s.poolSize=8192;function a(C,b,T){if(typeof C=="string")return v(C,b);if(ArrayBuffer.isView(C))return w(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(C));if(K(C,ArrayBuffer)||C&&K(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(K(C,SharedArrayBuffer)||C&&K(C.buffer,SharedArrayBuffer)))return E(C,b,T);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var B=C.valueOf&&C.valueOf();if(B!=null&&B!==C)return s.from(B,b,T);var ee=I(C);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return s.from(C[Symbol.toPrimitive]("string"),b,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(C))}s.from=function(C,b,T){return a(C,b,T)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function f(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function d(C,b,T){return f(C),C<=0?o(C):b!==void 0?typeof T=="string"?o(C).fill(b,T):o(C).fill(b):o(C)}s.alloc=function(C,b,T){return d(C,b,T)};function m(C){return f(C),o(C<0?0:O(C)|0)}s.allocUnsafe=function(C){return m(C)},s.allocUnsafeSlow=function(C){return m(C)};function v(C,b){if((typeof b!="string"||b==="")&&(b="utf8"),!s.isEncoding(b))throw new TypeError("Unknown encoding: "+b);var T=F(C,b)|0,B=o(T),ee=B.write(C,b);return ee!==T&&(B=B.slice(0,ee)),B}function y(C){for(var b=C.length<0?0:O(C.length)|0,T=o(b),B=0;B<b;B+=1)T[B]=C[B]&255;return T}function w(C){if(K(C,Uint8Array)){var b=new Uint8Array(C);return E(b.buffer,b.byteOffset,b.byteLength)}return y(C)}function E(C,b,T){if(b<0||C.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<b+(T||0))throw new RangeError('"length" is outside of buffer bounds');var B;return b===void 0&&T===void 0?B=new Uint8Array(C):T===void 0?B=new Uint8Array(C,b):B=new Uint8Array(C,b,T),Object.setPrototypeOf(B,s.prototype),B}function I(C){if(s.isBuffer(C)){var b=O(C.length)|0,T=o(b);return T.length===0||C.copy(T,0,0,b),T}if(C.length!==void 0)return typeof C.length!="number"||J(C.length)?o(0):y(C);if(C.type==="Buffer"&&Array.isArray(C.data))return y(C.data)}function O(C){if(C>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return C|0}function A(C){return+C!=C&&(C=0),s.alloc(+C)}s.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==s.prototype},s.compare=function(b,T){if(K(b,Uint8Array)&&(b=s.from(b,b.offset,b.byteLength)),K(T,Uint8Array)&&(T=s.from(T,T.offset,T.byteLength)),!s.isBuffer(b)||!s.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===T)return 0;for(var B=b.length,ee=T.length,he=0,de=Math.min(B,ee);he<de;++he)if(b[he]!==T[he]){B=b[he],ee=T[he];break}return B<ee?-1:ee<B?1:0},s.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(b,T){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return s.alloc(0);var B;if(T===void 0)for(T=0,B=0;B<b.length;++B)T+=b[B].length;var ee=s.allocUnsafe(T),he=0;for(B=0;B<b.length;++B){var de=b[B];if(K(de,Uint8Array))he+de.length>ee.length?s.from(de).copy(ee,he):Uint8Array.prototype.set.call(ee,de,he);else if(s.isBuffer(de))de.copy(ee,he);else throw new TypeError('"list" argument must be an Array of Buffers');he+=de.length}return ee};function F(C,b){if(s.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||K(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(C));var T=C.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&T===0)return 0;for(var ee=!1;;)switch(b){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Ie(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return M(C).length;default:if(ee)return B?-1:Ie(C).length;b=(""+b).toLowerCase(),ee=!0}}s.byteLength=F;function Y(C,b,T){var B=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,b>>>=0,T<=b))return"";for(C||(C="utf8");;)switch(C){case"hex":return U(this,b,T);case"utf8":case"utf-8":return ae(this,b,T);case"ascii":return D(this,b,T);case"latin1":case"binary":return ie(this,b,T);case"base64":return le(this,b,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,b,T);default:if(B)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),B=!0}}s.prototype._isBuffer=!0;function H(C,b,T){var B=C[b];C[b]=C[T],C[T]=B}s.prototype.swap16=function(){var b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<b;T+=2)H(this,T,T+1);return this},s.prototype.swap32=function(){var b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<b;T+=4)H(this,T,T+3),H(this,T+1,T+2);return this},s.prototype.swap64=function(){var b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<b;T+=8)H(this,T,T+7),H(this,T+1,T+6),H(this,T+2,T+5),H(this,T+3,T+4);return this},s.prototype.toString=function(){var b=this.length;return b===0?"":arguments.length===0?ae(this,0,b):Y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(b){if(!s.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:s.compare(this,b)===0},s.prototype.inspect=function(){var b="",T=e.INSPECT_MAX_BYTES;return b=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(b+=" ... "),"<Buffer "+b+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(b,T,B,ee,he){if(K(b,Uint8Array)&&(b=s.from(b,b.offset,b.byteLength)),!s.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(b));if(T===void 0&&(T=0),B===void 0&&(B=b?b.length:0),ee===void 0&&(ee=0),he===void 0&&(he=this.length),T<0||B>b.length||ee<0||he>this.length)throw new RangeError("out of range index");if(ee>=he&&T>=B)return 0;if(ee>=he)return-1;if(T>=B)return 1;if(T>>>=0,B>>>=0,ee>>>=0,he>>>=0,this===b)return 0;for(var de=he-ee,Ce=B-T,De=Math.min(de,Ce),Ke=this.slice(ee,he),Ft=b.slice(T,B),tt=0;tt<De;++tt)if(Ke[tt]!==Ft[tt]){de=Ke[tt],Ce=Ft[tt];break}return de<Ce?-1:Ce<de?1:0};function Z(C,b,T,B,ee){if(C.length===0)return-1;if(typeof T=="string"?(B=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,J(T)&&(T=ee?0:C.length-1),T<0&&(T=C.length+T),T>=C.length){if(ee)return-1;T=C.length-1}else if(T<0)if(ee)T=0;else return-1;if(typeof b=="string"&&(b=s.from(b,B)),s.isBuffer(b))return b.length===0?-1:j(C,b,T,B,ee);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(C,b,T):Uint8Array.prototype.lastIndexOf.call(C,b,T):j(C,[b],T,B,ee);throw new TypeError("val must be string, number or Buffer")}function j(C,b,T,B,ee){var he=1,de=C.length,Ce=b.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(C.length<2||b.length<2)return-1;he=2,de/=2,Ce/=2,T/=2}function De(Rs,Ai){return he===1?Rs[Ai]:Rs.readUInt16BE(Ai*he)}var Ke;if(ee){var Ft=-1;for(Ke=T;Ke<de;Ke++)if(De(C,Ke)===De(b,Ft===-1?0:Ke-Ft)){if(Ft===-1&&(Ft=Ke),Ke-Ft+1===Ce)return Ft*he}else Ft!==-1&&(Ke-=Ke-Ft),Ft=-1}else for(T+Ce>de&&(T=de-Ce),Ke=T;Ke>=0;Ke--){for(var tt=!0,wo=0;wo<Ce;wo++)if(De(C,Ke+wo)!==De(b,wo)){tt=!1;break}if(tt)return Ke}return-1}s.prototype.includes=function(b,T,B){return this.indexOf(b,T,B)!==-1},s.prototype.indexOf=function(b,T,B){return Z(this,b,T,B,!0)},s.prototype.lastIndexOf=function(b,T,B){return Z(this,b,T,B,!1)};function V(C,b,T,B){T=Number(T)||0;var ee=C.length-T;B?(B=Number(B),B>ee&&(B=ee)):B=ee;var he=b.length;B>he/2&&(B=he/2);for(var de=0;de<B;++de){var Ce=parseInt(b.substr(de*2,2),16);if(J(Ce))return de;C[T+de]=Ce}return de}function S(C,b,T,B){return $(Ie(b,C.length-T),C,T,B)}function W(C,b,T,B){return $(k(b),C,T,B)}function re(C,b,T,B){return $(M(b),C,T,B)}function X(C,b,T,B){return $(R(b,C.length-T),C,T,B)}s.prototype.write=function(b,T,B,ee){if(T===void 0)ee="utf8",B=this.length,T=0;else if(B===void 0&&typeof T=="string")ee=T,B=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(B)?(B=B>>>0,ee===void 0&&(ee="utf8")):(ee=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var he=this.length-T;if((B===void 0||B>he)&&(B=he),b.length>0&&(B<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var de=!1;;)switch(ee){case"hex":return V(this,b,T,B);case"utf8":case"utf-8":return S(this,b,T,B);case"ascii":case"latin1":case"binary":return W(this,b,T,B);case"base64":return re(this,b,T,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,b,T,B);default:if(de)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),de=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(C,b,T){return b===0&&T===C.length?Ad.fromByteArray(C):Ad.fromByteArray(C.slice(b,T))}function ae(C,b,T){T=Math.min(C.length,T);for(var B=[],ee=b;ee<T;){var he=C[ee],de=null,Ce=he>239?4:he>223?3:he>191?2:1;if(ee+Ce<=T){var De,Ke,Ft,tt;switch(Ce){case 1:he<128&&(de=he);break;case 2:De=C[ee+1],(De&192)===128&&(tt=(he&31)<<6|De&63,tt>127&&(de=tt));break;case 3:De=C[ee+1],Ke=C[ee+2],(De&192)===128&&(Ke&192)===128&&(tt=(he&15)<<12|(De&63)<<6|Ke&63,tt>2047&&(tt<55296||tt>57343)&&(de=tt));break;case 4:De=C[ee+1],Ke=C[ee+2],Ft=C[ee+3],(De&192)===128&&(Ke&192)===128&&(Ft&192)===128&&(tt=(he&15)<<18|(De&63)<<12|(Ke&63)<<6|Ft&63,tt>65535&&tt<1114112&&(de=tt))}}de===null?(de=65533,Ce=1):de>65535&&(de-=65536,B.push(de>>>10&1023|55296),de=56320|de&1023),B.push(de),ee+=Ce}return L(B)}var me=4096;function L(C){var b=C.length;if(b<=me)return String.fromCharCode.apply(String,C);for(var T="",B=0;B<b;)T+=String.fromCharCode.apply(String,C.slice(B,B+=me));return T}function D(C,b,T){var B="";T=Math.min(C.length,T);for(var ee=b;ee<T;++ee)B+=String.fromCharCode(C[ee]&127);return B}function ie(C,b,T){var B="";T=Math.min(C.length,T);for(var ee=b;ee<T;++ee)B+=String.fromCharCode(C[ee]);return B}function U(C,b,T){var B=C.length;(!b||b<0)&&(b=0),(!T||T<0||T>B)&&(T=B);for(var ee="",he=b;he<T;++he)ee+=Se[C[he]];return ee}function z(C,b,T){for(var B=C.slice(b,T),ee="",he=0;he<B.length-1;he+=2)ee+=String.fromCharCode(B[he]+B[he+1]*256);return ee}s.prototype.slice=function(b,T){var B=this.length;b=~~b,T=T===void 0?B:~~T,b<0?(b+=B,b<0&&(b=0)):b>B&&(b=B),T<0?(T+=B,T<0&&(T=0)):T>B&&(T=B),T<b&&(T=b);var ee=this.subarray(b,T);return Object.setPrototypeOf(ee,s.prototype),ee};function G(C,b,T){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+b>T)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(b,T,B){b=b>>>0,T=T>>>0,B||G(b,T,this.length);for(var ee=this[b],he=1,de=0;++de<T&&(he*=256);)ee+=this[b+de]*he;return ee},s.prototype.readUintBE=s.prototype.readUIntBE=function(b,T,B){b=b>>>0,T=T>>>0,B||G(b,T,this.length);for(var ee=this[b+--T],he=1;T>0&&(he*=256);)ee+=this[b+--T]*he;return ee},s.prototype.readUint8=s.prototype.readUInt8=function(b,T){return b=b>>>0,T||G(b,1,this.length),this[b]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(b,T){return b=b>>>0,T||G(b,2,this.length),this[b]|this[b+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(b,T){return b=b>>>0,T||G(b,2,this.length),this[b]<<8|this[b+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(b,T){return b=b>>>0,T||G(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(b,T){return b=b>>>0,T||G(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},s.prototype.readIntLE=function(b,T,B){b=b>>>0,T=T>>>0,B||G(b,T,this.length);for(var ee=this[b],he=1,de=0;++de<T&&(he*=256);)ee+=this[b+de]*he;return he*=128,ee>=he&&(ee-=Math.pow(2,8*T)),ee},s.prototype.readIntBE=function(b,T,B){b=b>>>0,T=T>>>0,B||G(b,T,this.length);for(var ee=T,he=1,de=this[b+--ee];ee>0&&(he*=256);)de+=this[b+--ee]*he;return he*=128,de>=he&&(de-=Math.pow(2,8*T)),de},s.prototype.readInt8=function(b,T){return b=b>>>0,T||G(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},s.prototype.readInt16LE=function(b,T){b=b>>>0,T||G(b,2,this.length);var B=this[b]|this[b+1]<<8;return B&32768?B|4294901760:B},s.prototype.readInt16BE=function(b,T){b=b>>>0,T||G(b,2,this.length);var B=this[b+1]|this[b]<<8;return B&32768?B|4294901760:B},s.prototype.readInt32LE=function(b,T){return b=b>>>0,T||G(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},s.prototype.readInt32BE=function(b,T){return b=b>>>0,T||G(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},s.prototype.readFloatLE=function(b,T){return b=b>>>0,T||G(b,4,this.length),cs.read(this,b,!0,23,4)},s.prototype.readFloatBE=function(b,T){return b=b>>>0,T||G(b,4,this.length),cs.read(this,b,!1,23,4)},s.prototype.readDoubleLE=function(b,T){return b=b>>>0,T||G(b,8,this.length),cs.read(this,b,!0,52,8)},s.prototype.readDoubleBE=function(b,T){return b=b>>>0,T||G(b,8,this.length),cs.read(this,b,!1,52,8)};function ue(C,b,T,B,ee,he){if(!s.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>ee||b<he)throw new RangeError('"value" argument is out of bounds');if(T+B>C.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(b,T,B,ee){if(b=+b,T=T>>>0,B=B>>>0,!ee){var he=Math.pow(2,8*B)-1;ue(this,b,T,B,he,0)}var de=1,Ce=0;for(this[T]=b&255;++Ce<B&&(de*=256);)this[T+Ce]=b/de&255;return T+B},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(b,T,B,ee){if(b=+b,T=T>>>0,B=B>>>0,!ee){var he=Math.pow(2,8*B)-1;ue(this,b,T,B,he,0)}var de=B-1,Ce=1;for(this[T+de]=b&255;--de>=0&&(Ce*=256);)this[T+de]=b/Ce&255;return T+B},s.prototype.writeUint8=s.prototype.writeUInt8=function(b,T,B){return b=+b,T=T>>>0,B||ue(this,b,T,1,255,0),this[T]=b&255,T+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(b,T,B){return b=+b,T=T>>>0,B||ue(this,b,T,2,65535,0),this[T]=b&255,this[T+1]=b>>>8,T+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(b,T,B){return b=+b,T=T>>>0,B||ue(this,b,T,2,65535,0),this[T]=b>>>8,this[T+1]=b&255,T+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(b,T,B){return b=+b,T=T>>>0,B||ue(this,b,T,4,4294967295,0),this[T+3]=b>>>24,this[T+2]=b>>>16,this[T+1]=b>>>8,this[T]=b&255,T+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(b,T,B){return b=+b,T=T>>>0,B||ue(this,b,T,4,4294967295,0),this[T]=b>>>24,this[T+1]=b>>>16,this[T+2]=b>>>8,this[T+3]=b&255,T+4},s.prototype.writeIntLE=function(b,T,B,ee){if(b=+b,T=T>>>0,!ee){var he=Math.pow(2,8*B-1);ue(this,b,T,B,he-1,-he)}var de=0,Ce=1,De=0;for(this[T]=b&255;++de<B&&(Ce*=256);)b<0&&De===0&&this[T+de-1]!==0&&(De=1),this[T+de]=(b/Ce>>0)-De&255;return T+B},s.prototype.writeIntBE=function(b,T,B,ee){if(b=+b,T=T>>>0,!ee){var he=Math.pow(2,8*B-1);ue(this,b,T,B,he-1,-he)}var de=B-1,Ce=1,De=0;for(this[T+de]=b&255;--de>=0&&(Ce*=256);)b<0&&De===0&&this[T+de+1]!==0&&(De=1),this[T+de]=(b/Ce>>0)-De&255;return T+B},s.prototype.writeInt8=function(b,T,B){return b=+b,T=T>>>0,B||ue(this,b,T,1,127,-128),b<0&&(b=255+b+1),this[T]=b&255,T+1},s.prototype.writeInt16LE=function(b,T,B){return b=+b,T=T>>>0,B||ue(this,b,T,2,32767,-32768),this[T]=b&255,this[T+1]=b>>>8,T+2},s.prototype.writeInt16BE=function(b,T,B){return b=+b,T=T>>>0,B||ue(this,b,T,2,32767,-32768),this[T]=b>>>8,this[T+1]=b&255,T+2},s.prototype.writeInt32LE=function(b,T,B){return b=+b,T=T>>>0,B||ue(this,b,T,4,2147483647,-2147483648),this[T]=b&255,this[T+1]=b>>>8,this[T+2]=b>>>16,this[T+3]=b>>>24,T+4},s.prototype.writeInt32BE=function(b,T,B){return b=+b,T=T>>>0,B||ue(this,b,T,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[T]=b>>>24,this[T+1]=b>>>16,this[T+2]=b>>>8,this[T+3]=b&255,T+4};function oe(C,b,T,B,ee,he){if(T+B>C.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function ne(C,b,T,B,ee){return b=+b,T=T>>>0,ee||oe(C,b,T,4),cs.write(C,b,T,B,23,4),T+4}s.prototype.writeFloatLE=function(b,T,B){return ne(this,b,T,!0,B)},s.prototype.writeFloatBE=function(b,T,B){return ne(this,b,T,!1,B)};function se(C,b,T,B,ee){return b=+b,T=T>>>0,ee||oe(C,b,T,8),cs.write(C,b,T,B,52,8),T+8}s.prototype.writeDoubleLE=function(b,T,B){return se(this,b,T,!0,B)},s.prototype.writeDoubleBE=function(b,T,B){return se(this,b,T,!1,B)},s.prototype.copy=function(b,T,B,ee){if(!s.isBuffer(b))throw new TypeError("argument should be a Buffer");if(B||(B=0),!ee&&ee!==0&&(ee=this.length),T>=b.length&&(T=b.length),T||(T=0),ee>0&&ee<B&&(ee=B),ee===B||b.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),b.length-T<ee-B&&(ee=b.length-T+B);var he=ee-B;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,B,ee):Uint8Array.prototype.set.call(b,this.subarray(B,ee),T),he},s.prototype.fill=function(b,T,B,ee){if(typeof b=="string"){if(typeof T=="string"?(ee=T,T=0,B=this.length):typeof B=="string"&&(ee=B,B=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!s.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(b.length===1){var he=b.charCodeAt(0);(ee==="utf8"&&he<128||ee==="latin1")&&(b=he)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(T<0||this.length<T||this.length<B)throw new RangeError("Out of range index");if(B<=T)return this;T=T>>>0,B=B===void 0?this.length:B>>>0,b||(b=0);var de;if(typeof b=="number")for(de=T;de<B;++de)this[de]=b;else{var Ce=s.isBuffer(b)?b:s.from(b,ee),De=Ce.length;if(De===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(de=0;de<B-T;++de)this[de+T]=Ce[de%De]}return this};var ye=/[^+/0-9A-Za-z-_]/g;function be(C){if(C=C.split("=")[0],C=C.trim().replace(ye,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function Ie(C,b){b=b||1/0;for(var T,B=C.length,ee=null,he=[],de=0;de<B;++de){if(T=C.charCodeAt(de),T>55295&&T<57344){if(!ee){if(T>56319){(b-=3)>-1&&he.push(239,191,189);continue}else if(de+1===B){(b-=3)>-1&&he.push(239,191,189);continue}ee=T;continue}if(T<56320){(b-=3)>-1&&he.push(239,191,189),ee=T;continue}T=(ee-55296<<10|T-56320)+65536}else ee&&(b-=3)>-1&&he.push(239,191,189);if(ee=null,T<128){if((b-=1)<0)break;he.push(T)}else if(T<2048){if((b-=2)<0)break;he.push(T>>6|192,T&63|128)}else if(T<65536){if((b-=3)<0)break;he.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((b-=4)<0)break;he.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return he}function k(C){for(var b=[],T=0;T<C.length;++T)b.push(C.charCodeAt(T)&255);return b}function R(C,b){for(var T,B,ee,he=[],de=0;de<C.length&&!((b-=2)<0);++de)T=C.charCodeAt(de),B=T>>8,ee=T%256,he.push(ee),he.push(B);return he}function M(C){return Ad.toByteArray(be(C))}function $(C,b,T,B){for(var ee=0;ee<B&&!(ee+T>=b.length||ee>=C.length);++ee)b[ee+T]=C[ee];return ee}function K(C,b){return C instanceof b||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===b.name}function J(C){return C!==C}var Se=function(){for(var C="0123456789abcdef",b=new Array(256),T=0;T<16;++T)for(var B=T*16,ee=0;ee<16;++ee)b[B+ee]=C[T]+C[ee];return b}()}),He=sc.Buffer;sc.SlowBuffer;sc.INSPECT_MAX_BYTES;sc.kMaxLength;Cd=function(e,r){return Cd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},Cd(e,r)};no=function(t){Ld(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),e}(Error),St=function(t){Ld(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),e}(TypeError);d6=function(e){var r=h6()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(r);for(var n=He.alloc(e),i=0;i<e;++i)n[i]=Math.floor(Math.random()*256);return n},p6=function(){if(typeof window<"u"){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return function(r){return t.getRandomValues(He.alloc(r))}}if(typeof global<"u"&&global.crypto&&global.crypto.getRandomValues)return function(r){return global.crypto.getRandomValues(He.alloc(r))};var e;try{e=k3("crypto").randomBytes}catch{}return e||d6},y_=p6();v6=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,m_=function(t){return typeof t=="string"&&v6.test(t)},Pd=function(t){if(!m_(t))throw new St('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var e=t.replace(/-/g,"");return He.from(e,"hex")},e_=function(t,e){return e===void 0&&(e=!0),e?t.toString("hex",0,4)+"-"+t.toString("hex",4,6)+"-"+t.toString("hex",6,8)+"-"+t.toString("hex",8,10)+"-"+t.toString("hex",10,16):t.toString("hex")},Id=16,Rd=Symbol("id"),g_=function(){function t(e){if(typeof e>"u")this.id=t.generate();else if(e instanceof t)this[Rd]=He.from(e.id),this.__id=e.__id;else if(ArrayBuffer.isView(e)&&e.byteLength===Id)this.id=oc(e);else if(typeof e=="string")this.id=Pd(e);else throw new St("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).")}return Object.defineProperty(t.prototype,"id",{get:function(){return this[Rd]},set:function(e){this[Rd]=e,t.cacheHexString&&(this.__id=e_(e))},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(e){if(e===void 0&&(e=!0),t.cacheHexString&&this.__id)return this.__id;var r=e_(this.id,e);return t.cacheHexString&&(this.__id=r),r},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){if(!e)return!1;if(e instanceof t)return e.id.equals(this.id);try{return new t(e).id.equals(this.id)}catch{return!1}},t.prototype.toBinary=function(){return new io(this.id,io.SUBTYPE_UUID)},t.generate=function(){var e=y_(Id);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,He.from(e)},t.isValid=function(e){if(!e)return!1;if(e instanceof t)return!0;if(typeof e=="string")return m_(e);if(Md(e)){if(e.length!==Id)return!1;try{return parseInt(e[6].toString(16)[0],10)===io.SUBTYPE_UUID}catch{return!1}}return!1},t.createFromHexString=function(e){var r=Pd(e);return new t(r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new UUID("'+this.toHexString()+'")'},t}();Object.defineProperty(g_.prototype,"_bsontype",{value:"UUID"});io=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(e!=null&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new St("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??t.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=He.alloc(t.BUFFER_SIZE),this.position=0):(typeof e=="string"?this.buffer=He.from(e,"binary"):Array.isArray(e)?this.buffer=He.from(e):this.buffer=oc(e),this.position=this.buffer.byteLength)}return t.prototype.put=function(e){if(typeof e=="string"&&e.length!==1)throw new St("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new St("only accepts single character Uint8Array or Array");var r;if(typeof e=="string"?r=e.charCodeAt(0):typeof e=="number"?r=e:r=e[0],r<0||r>255)throw new St("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var n=He.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}},t.prototype.write=function(e,r){if(r=typeof r=="number"?r:this.position,this.buffer.length<r+e.length){var n=He.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(oc(e),r),this.position=r+e.byteLength>this.position?r+e.length:this.position):typeof e=="string"&&(this.buffer.write(e,r,e.length,"binary"),this.position=r+e.length>this.position?r+e.length:this.position)},t.prototype.read=function(e,r){return r=r&&r>0?r:this.position,this.buffer.slice(e,e+r)},t.prototype.value=function(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},t.prototype.length=function(){return this.position},t.prototype.toJSON=function(){return this.buffer.toString("base64")},t.prototype.toString=function(e){return this.buffer.toString(e)},t.prototype.toExtendedJSON=function(e){e=e||{};var r=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}},t.prototype.toUUID=function(){if(this.sub_type===t.SUBTYPE_UUID)return new g_(this.buffer.slice(0,this.position));throw new no('Binary sub_type "'+this.sub_type+'" is not supported for converting to UUID. Only "'+t.SUBTYPE_UUID+'" is currently supported.')},t.fromExtendedJSON=function(e,r){r=r||{};var n,i;if("$binary"in e?r.legacy&&typeof e.$binary=="string"&&"$type"in e?(i=e.$type?parseInt(e.$type,16):0,n=He.from(e.$binary,"base64")):typeof e.$binary!="string"&&(i=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=He.from(e.$binary.base64,"base64")):"$uuid"in e&&(i=4,n=Pd(e.$uuid)),!n)throw new St("Unexpected Binary Extended JSON format "+JSON.stringify(e));return new t(n,i)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'+e.toString("hex")+'", "hex"), '+this.sub_type+")"},t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BUFFER_SIZE=256,t.SUBTYPE_DEFAULT=0,t.SUBTYPE_FUNCTION=1,t.SUBTYPE_BYTE_ARRAY=2,t.SUBTYPE_UUID_OLD=3,t.SUBTYPE_UUID=4,t.SUBTYPE_MD5=5,t.SUBTYPE_ENCRYPTED=6,t.SUBTYPE_COLUMN=7,t.SUBTYPE_USER_DEFINED=128,t}();Object.defineProperty(io.prototype,"_bsontype",{value:"Binary"});lc=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);this.code=e,this.scope=r}return t.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},t.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},t.fromExtendedJSON=function(e){return new t(e.$code,e.$scope)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},t}();Object.defineProperty(lc.prototype,"_bsontype",{value:"Code"});Ya=function(){function t(e,r,n,i){if(!(this instanceof t))return new t(e,r,n,i);var o=e.split(".");o.length===2&&(n=o.shift(),e=o.shift()),this.collection=e,this.oid=r,this.db=n,this.fields=i||{}}return Object.defineProperty(t.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e},t.prototype.toExtendedJSON=function(e){e=e||{};var r={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r},t.fromExtendedJSON=function(e){var r=Object.assign({},e);return delete r.$ref,delete r.$id,delete r.$db,new t(e.$ref,e.$id,e.$db,r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},t}();Object.defineProperty(Ya.prototype,"_bsontype",{value:"DBRef"});Yr=void 0;try{Yr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}t_=1<<16,_6=1<<24,ps=t_*t_,v_=ps*ps,r_=v_/2,n_={},i_={},Te=function(){function t(e,r,n){if(e===void 0&&(e=0),!(this instanceof t))return new t(e,r,n);typeof e=="bigint"?Object.assign(this,t.fromBigInt(e,!!r)):typeof e=="string"?Object.assign(this,t.fromString(e,!!r)):(this.low=e|0,this.high=r|0,this.unsigned=!!n),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return t.fromBits=function(e,r,n){return new t(e,r,n)},t.fromInt=function(e,r){var n,i,o;return r?(e>>>=0,(o=0<=e&&e<256)&&(i=i_[e],i)?i:(n=t.fromBits(e,(e|0)<0?-1:0,!0),o&&(i_[e]=n),n)):(e|=0,(o=-128<=e&&e<128)&&(i=n_[e],i)?i:(n=t.fromBits(e,e<0?-1:0,!1),o&&(n_[e]=n),n))},t.fromNumber=function(e,r){if(isNaN(e))return r?t.UZERO:t.ZERO;if(r){if(e<0)return t.UZERO;if(e>=v_)return t.MAX_UNSIGNED_VALUE}else{if(e<=-r_)return t.MIN_VALUE;if(e+1>=r_)return t.MAX_VALUE}return e<0?t.fromNumber(-e,r).neg():t.fromBits(e%ps|0,e/ps|0,r)},t.fromBigInt=function(e,r){return t.fromString(e.toString(),r)},t.fromString=function(e,r,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t.ZERO;if(typeof r=="number"?(n=r,r=!1):r=!!r,n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return t.fromString(e.substring(1),r,n).neg();for(var o=t.fromNumber(Math.pow(n,8)),s=t.ZERO,a=0;a<e.length;a+=8){var f=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+f),n);if(f<8){var m=t.fromNumber(Math.pow(n,f));s=s.mul(m).add(t.fromNumber(d))}else s=s.mul(o),s=s.add(t.fromNumber(d))}return s.unsigned=r,s},t.fromBytes=function(e,r,n){return n?t.fromBytesLE(e,r):t.fromBytesBE(e,r)},t.fromBytesLE=function(e,r){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)},t.fromBytesBE=function(e,r){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)},t.isLong=function(e){return Za(e)&&e.__isLong__===!0},t.fromValue=function(e,r){return typeof e=="number"?t.fromNumber(e,r):typeof e=="string"?t.fromString(e,r):t.fromBits(e.low,e.high,typeof r=="boolean"?r:e.unsigned)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var r=this.high>>>16,n=this.high&65535,i=this.low>>>16,o=this.low&65535,s=e.high>>>16,a=e.high&65535,f=e.low>>>16,d=e.low&65535,m=0,v=0,y=0,w=0;return w+=o+d,y+=w>>>16,w&=65535,y+=i+f,v+=y>>>16,y&=65535,v+=n+a,m+=v>>>16,v&=65535,m+=r+s,m&=65535,t.fromBits(y<<16|w,m<<16|v,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.compare=function(e){if(t.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.comp=function(e){return this.compare(e)},t.prototype.divide=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(Yr){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?Yr.div_u:Yr.div_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Yr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;o=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var s=this.shr(1);return n=s.div(e).shl(1),n.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(i=this.sub(e.mul(n)),o=n.add(i.div(e)),o)}else if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=t.ZERO}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),f=a<=48?1:Math.pow(2,a-48),d=t.fromNumber(n),m=d.mul(e);m.isNegative()||m.gt(i);)n-=f,d=t.fromNumber(n,this.unsigned),m=d.mul(e);d.isZero()&&(d=t.ONE),o=o.add(d),i=i.sub(m)}return o},t.prototype.div=function(e){return this.divide(e)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.eq=function(e){return this.equals(e)},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();var e=this.high!==0?this.high:this.low,r;for(r=31;r>0&&(e&1<<r)===0;r--);return this.high!==0?r+33:r+1},t.prototype.greaterThan=function(e){return this.comp(e)>0},t.prototype.gt=function(e){return this.greaterThan(e)},t.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},t.prototype.gte=function(e){return this.greaterThanOrEqual(e)},t.prototype.ge=function(e){return this.greaterThanOrEqual(e)},t.prototype.isEven=function(){return(this.low&1)===0},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isOdd=function(){return(this.low&1)===1},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isZero=function(){return this.high===0&&this.low===0},t.prototype.lessThan=function(e){return this.comp(e)<0},t.prototype.lt=function(e){return this.lessThan(e)},t.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},t.prototype.lte=function(e){return this.lessThanOrEqual(e)},t.prototype.modulo=function(e){if(t.isLong(e)||(e=t.fromValue(e)),Yr){var r=(this.unsigned?Yr.rem_u:Yr.rem_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Yr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},t.prototype.mod=function(e){return this.modulo(e)},t.prototype.rem=function(e){return this.modulo(e)},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),Yr){var r=Yr.mul(this.low,this.high,e.low,e.high);return t.fromBits(r,Yr.get_high(),this.unsigned)}if(e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,o=this.low>>>16,s=this.low&65535,a=e.high>>>16,f=e.high&65535,d=e.low>>>16,m=e.low&65535,v=0,y=0,w=0,E=0;return E+=s*m,w+=E>>>16,E&=65535,w+=o*m,y+=w>>>16,w&=65535,w+=s*d,y+=w>>>16,w&=65535,y+=i*m,v+=y>>>16,y&=65535,y+=o*d,v+=y>>>16,y&=65535,y+=s*f,v+=y>>>16,y&=65535,v+=n*m+i*d+o*f+s*a,v&=65535,t.fromBits(w<<16|E,v<<16|y,this.unsigned)},t.prototype.mul=function(e){return this.multiply(e)},t.prototype.negate=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.neg=function(){return this.negate()},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.notEquals=function(e){return!this.equals(e)},t.prototype.neq=function(e){return this.notEquals(e)},t.prototype.ne=function(e){return this.notEquals(e)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shl=function(e){return this.shiftLeft(e)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shr=function(e){return this.shiftRight(e)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return t.fromBits(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?t.fromBits(r,0,this.unsigned):t.fromBits(r>>>e-32,0,this.unsigned)},t.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},t.prototype.shru=function(e){return this.shiftRightUnsigned(e)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())},t.prototype.sub=function(e){return this.subtract(e)},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*ps+(this.low>>>0):this.high*ps+(this.low>>>0)},t.prototype.toBigInt=function(){return BigInt(this.toString())},t.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},t.prototype.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},t.prototype.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(t.MIN_VALUE)){var r=t.fromNumber(e),n=this.div(r),i=n.mul(r).sub(this);return n.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=t.fromNumber(Math.pow(e,6),this.unsigned),s=this,a="";;){var f=s.div(o),d=s.sub(f.mul(o)).toInt()>>>0,m=d.toString(e);if(s=f,s.isZero())return m+a;for(;m.length<6;)m="0"+m;a=""+m+a}},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.eqz=function(){return this.isZero()},t.prototype.le=function(e){return this.lessThanOrEqual(e)},t.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},t.fromExtendedJSON=function(e,r){var n=t.fromString(e.$numberLong);return r&&r.relaxed?n.toNumber():n},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Long("'+this.toString()+'"'+(this.unsigned?", true":"")+")"},t.TWO_PWR_24=t.fromInt(_6),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t}();Object.defineProperty(Te.prototype,"__isLong__",{value:!0});Object.defineProperty(Te.prototype,"_bsontype",{value:"Long"});S6=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,E6=/^(\+|-)?(Infinity|inf)$/i,b6=/^(\+|-)?NaN$/i,Ja=6111,Dd=-6176,o_=6176,x6=34,Fd=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),s_=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),a_=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),O6=/^([-+])?(\d+)?$/,k6=31,l_=16383,T6=30,N6=31;jd=function(){function t(e){if(!(this instanceof t))return new t(e);if(typeof e=="string")this.bytes=t.fromString(e).bytes;else if(Md(e)){if(e.byteLength!==16)throw new St("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new St("Decimal128 must take a Buffer or string")}return t.fromString=function(e){var r=!1,n=!1,i=!1,o=0,s=0,a=0,f=0,d=0,m=[0],v=0,y=0,w=0,E=0,I=0,O=0,A=new Te(0,0),F=new Te(0,0),Y=0,H=0;if(e.length>=7e3)throw new St(""+e+" not a valid Decimal128 string");var Z=e.match(S6),j=e.match(E6),V=e.match(b6);if(!Z&&!j&&!V||e.length===0)throw new St(""+e+" not a valid Decimal128 string");if(Z){var S=Z[2],W=Z[4],re=Z[5],X=Z[6];W&&X===void 0&&hs(e,"missing exponent power"),W&&S===void 0&&hs(e,"missing exponent base"),W===void 0&&(re||X)&&hs(e,"missing e before exponent")}if((e[H]==="+"||e[H]==="-")&&(r=e[H++]==="-"),!u_(e[H])&&e[H]!=="."){if(e[H]==="i"||e[H]==="I")return new t(He.from(r?s_:a_));if(e[H]==="N")return new t(He.from(Fd))}for(;u_(e[H])||e[H]===".";){if(e[H]==="."){n&&hs(e,"contains multiple periods"),n=!0,H=H+1;continue}v<34&&(e[H]!=="0"||i)&&(i||(d=s),i=!0,m[y++]=parseInt(e[H],10),v=v+1),i&&(a=a+1),n&&(f=f+1),s=s+1,H=H+1}if(n&&!s)throw new St(""+e+" not a valid Decimal128 string");if(e[H]==="e"||e[H]==="E"){var le=e.substr(++H).match(O6);if(!le||!le[2])return new t(He.from(Fd));I=parseInt(le[0],10),H=H+le[0].length}if(e[H])return new t(He.from(Fd));if(w=0,!v)w=0,E=0,m[0]=0,a=1,v=1,o=0;else if(E=v-1,o=a,o!==1)for(;m[d+o-1]===0;)o=o-1;for(I<=f&&f-I>1<<14?I=Dd:I=I-f;I>Ja;){if(E=E+1,E-w>x6){var ae=m.join("");if(ae.match(/^0+$/)){I=Ja;break}hs(e,"overflow")}I=I-1}for(;I<Dd||v<a;){if(E===0&&o<v){I=Dd,o=0;break}if(v<a?a=a-1:E=E-1,I<Ja)I=I+1;else{var ae=m.join("");if(ae.match(/^0+$/)){I=Ja;break}hs(e,"overflow")}}if(E-w+1<o){var me=s;n&&(d=d+1,me=me+1),r&&(d=d+1,me=me+1);var L=parseInt(e[d+E+1],10),D=0;if(L>=5&&(D=1,L===5)){for(D=m[E]%2===1?1:0,O=d+E+2;O<me;O++)if(parseInt(e[O],10)){D=1;break}}if(D){for(var ie=E;ie>=0;ie--)if(++m[ie]>9&&(m[ie]=0,ie===0))if(I<Ja)I=I+1,m[ie]=1;else return new t(He.from(r?s_:a_))}}if(A=Te.fromNumber(0),F=Te.fromNumber(0),o===0)A=Te.fromNumber(0),F=Te.fromNumber(0);else if(E-w<17){var ie=w;for(F=Te.fromNumber(m[ie++]),A=new Te(0,0);ie<=E;ie++)F=F.multiply(Te.fromNumber(10)),F=F.add(Te.fromNumber(m[ie]))}else{var ie=w;for(A=Te.fromNumber(m[ie++]);ie<=E-17;ie++)A=A.multiply(Te.fromNumber(10)),A=A.add(Te.fromNumber(m[ie]));for(F=Te.fromNumber(m[ie++]);ie<=E;ie++)F=F.multiply(Te.fromNumber(10)),F=F.add(Te.fromNumber(m[ie]))}var U=I6(A,Te.fromString("100000000000000000"));U.low=U.low.add(F),R6(U.low,F)&&(U.high=U.high.add(Te.fromNumber(1))),Y=I+o_;var z={low:Te.fromNumber(0),high:Te.fromNumber(0)};U.high.shiftRightUnsigned(49).and(Te.fromNumber(1)).equals(Te.fromNumber(1))?(z.high=z.high.or(Te.fromNumber(3).shiftLeft(61)),z.high=z.high.or(Te.fromNumber(Y).and(Te.fromNumber(16383).shiftLeft(47))),z.high=z.high.or(U.high.and(Te.fromNumber(140737488355327)))):(z.high=z.high.or(Te.fromNumber(Y&16383).shiftLeft(49)),z.high=z.high.or(U.high.and(Te.fromNumber(562949953421311)))),z.low=U.low,r&&(z.high=z.high.or(Te.fromString("9223372036854775808")));var G=He.alloc(16);return H=0,G[H++]=z.low.low&255,G[H++]=z.low.low>>8&255,G[H++]=z.low.low>>16&255,G[H++]=z.low.low>>24&255,G[H++]=z.low.high&255,G[H++]=z.low.high>>8&255,G[H++]=z.low.high>>16&255,G[H++]=z.low.high>>24&255,G[H++]=z.high.low&255,G[H++]=z.high.low>>8&255,G[H++]=z.high.low>>16&255,G[H++]=z.high.low>>24&255,G[H++]=z.high.high&255,G[H++]=z.high.high>>8&255,G[H++]=z.high.high>>16&255,G[H++]=z.high.high>>24&255,new t(G)},t.prototype.toString=function(){for(var e,r=0,n=new Array(36),i=0;i<n.length;i++)n[i]=0;var o=0,s=!1,a,f={parts:[0,0,0,0]},d,m,v=[];o=0;var y=this.bytes,w=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,E=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,I=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,O=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24;o=0;var A={low:new Te(w,E),high:new Te(I,O)};A.high.lessThan(Te.ZERO)&&v.push("-");var F=O>>26&k6;if(F>>3===3){if(F===T6)return v.join("")+"Infinity";if(F===N6)return"NaN";e=O>>15&l_,a=8+(O>>14&1)}else a=O>>14&7,e=O>>17&l_;var Y=e-o_;if(f.parts[0]=(O&16383)+((a&15)<<14),f.parts[1]=I,f.parts[2]=E,f.parts[3]=w,f.parts[0]===0&&f.parts[1]===0&&f.parts[2]===0&&f.parts[3]===0)s=!0;else for(m=3;m>=0;m--){var H=0,Z=A6(f);if(f=Z.quotient,H=Z.rem.low,!!H)for(d=8;d>=0;d--)n[m*9+d]=H%10,H=Math.floor(H/10)}if(s)r=1,n[o]=0;else for(r=36;!n[o];)r=r-1,o=o+1;var j=r-1+Y;if(j>=34||j<=-7||Y>0){if(r>34)return v.push(""+0),Y>0?v.push("E+"+Y):Y<0&&v.push("E"+Y),v.join("");v.push(""+n[o++]),r=r-1,r&&v.push(".");for(var i=0;i<r;i++)v.push(""+n[o++]);v.push("E"),j>0?v.push("+"+j):v.push(""+j)}else if(Y>=0)for(var i=0;i<r;i++)v.push(""+n[o++]);else{var V=r+Y;if(V>0)for(var i=0;i<V;i++)v.push(""+n[o++]);else v.push("0");for(v.push(".");V++<0;)v.push("0");for(var i=0;i<r-Math.max(V-1,0);i++)v.push(""+n[o++])}return v.join("")},t.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},t.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},t.fromExtendedJSON=function(e){return t.fromString(e.$numberDecimal)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Decimal128("'+this.toString()+'")'},t}();Object.defineProperty(jd.prototype,"_bsontype",{value:"Decimal128"});uc=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e}return t.prototype.valueOf=function(){return this.value},t.prototype.toJSON=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toExtendedJSON=function(e){if(e&&(e.legacy||e.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-"+this.value.toFixed(1)};var r;return Number.isInteger(this.value)?(r=this.value.toFixed(1),r.length>=13&&(r=this.value.toExponential(13).toUpperCase())):r=this.value.toString(),{$numberDouble:r}},t.fromExtendedJSON=function(e,r){var n=parseFloat(e.$numberDouble);return r&&r.relaxed?n:new t(n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double("+e.$numberDouble+")"},t}();Object.defineProperty(uc.prototype,"_bsontype",{value:"Double"});cc=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e|0}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},t.fromExtendedJSON=function(e,r){return r&&r.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},t}();Object.defineProperty(cc.prototype,"_bsontype",{value:"Int32"});Bd=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$maxKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MaxKey()"},t}();Object.defineProperty(Bd.prototype,"_bsontype",{value:"MaxKey"});Ud=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$minKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MinKey()"},t}();Object.defineProperty(Ud.prototype,"_bsontype",{value:"MinKey"});D6=new RegExp("^[0-9a-fA-F]{24}$"),ro=null,ds=Symbol("id"),vr=function(){function t(e){if(!(this instanceof t))return new t(e);var r;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new St("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?r=He.from(e.toHexString(),"hex"):r=e.id}else r=e;if(r==null||typeof r=="number")this[ds]=t.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[ds]=oc(r);else if(typeof r=="string")if(r.length===12){var n=He.from(r);if(n.byteLength===12)this[ds]=n;else throw new St("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&D6.test(r))this[ds]=He.from(r,"hex");else throw new St("Argument passed in must be a string of 12 bytes or a string of 24 hex characters");else throw new St("Argument passed in does not match the accepted types");t.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(t.prototype,"id",{get:function(){return this[ds]},set:function(e){this[ds]=e,t.cacheHexString&&(this.__id=e.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(){if(t.cacheHexString&&this.__id)return this.__id;var e=this.id.toString("hex");return t.cacheHexString&&!this.__id&&(this.__id=e),e},t.getInc=function(){return t.index=(t.index+1)%16777215},t.generate=function(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));var r=t.getInc(),n=He.alloc(12);return n.writeUInt32BE(e,0),ro===null&&(ro=y_(5)),n[4]=ro[0],n[5]=ro[1],n[6]=ro[2],n[7]=ro[3],n[8]=ro[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){return e==null?!1:e instanceof t?this.toString()===e.toString():typeof e=="string"&&t.isValid(e)&&e.length===12&&Md(this.id)?e===He.prototype.toString.call(this.id,"latin1"):typeof e=="string"&&t.isValid(e)&&e.length===24?e.toLowerCase()===this.toHexString():typeof e=="string"&&t.isValid(e)&&e.length===12?He.from(e).equals(this.id):typeof e=="object"&&"toHexString"in e&&typeof e.toHexString=="function"?e.toHexString()===this.toHexString():!1},t.prototype.getTimestamp=function(){var e=new Date,r=this.id.readUInt32BE(0);return e.setTime(Math.floor(r)*1e3),e},t.createPk=function(){return new t},t.createFromTime=function(e){var r=He.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(e,0),new t(r)},t.createFromHexString=function(e){if(typeof e>"u"||e!=null&&e.length!==24)throw new St("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new t(He.from(e,"hex"))},t.isValid=function(e){if(e==null)return!1;try{return new t(e),!0}catch{return!1}},t.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},t.fromExtendedJSON=function(e){return new t(e.$oid)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},t.index=Math.floor(Math.random()*16777215),t}();Object.defineProperty(vr.prototype,"generate",{value:ac(function(t){return vr.generate(t)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(vr.prototype,"getInc",{value:ac(function(){return vr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(vr.prototype,"get_inc",{value:ac(function(){return vr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(vr,"get_inc",{value:ac(function(){return vr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(vr.prototype,"_bsontype",{value:"ObjectID"});Ka=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this.pattern=e,this.options=F6(r??""),this.pattern.indexOf("\0")!==-1)throw new no("BSON Regex patterns cannot contain null bytes, found: "+JSON.stringify(this.pattern));if(this.options.indexOf("\0")!==-1)throw new no("BSON Regex options cannot contain null bytes, found: "+JSON.stringify(this.options));for(var n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new no("The regular expression option ["+this.options[n]+"] is not supported")}return t.parseOptions=function(e){return e?e.split("").sort().join(""):""},t.prototype.toExtendedJSON=function(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},t.fromExtendedJSON=function(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new t(e.$regex,t.parseOptions(e.$options));if("$regularExpression"in e)return new t(e.$regularExpression.pattern,t.parseOptions(e.$regularExpression.options));throw new St("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(e))},t}();Object.defineProperty(Ka.prototype,"_bsontype",{value:"BSONRegExp"});zd=function(){function t(e){if(!(this instanceof t))return new t(e);this.value=e}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(){return{$symbol:this.value}},t.fromExtendedJSON=function(e){return new t(e.$symbol)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t}();Object.defineProperty(zd.prototype,"_bsontype",{value:"Symbol"});C6=Te,w_=function(t){Ld(e,t);function e(r,n){var i=this;return i instanceof e?(Te.isLong(r)?i=t.call(this,r.low,r.high,!0)||this:Za(r)&&typeof r.t<"u"&&typeof r.i<"u"?i=t.call(this,r.i,r.t,!0)||this:i=t.call(this,r,n,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new e(r,n)}return e.prototype.toJSON=function(){return{$timestamp:this.toString()}},e.fromInt=function(r){return new e(Te.fromInt(r,!0))},e.fromNumber=function(r){return new e(Te.fromNumber(r,!0))},e.fromBits=function(r,n){return new e(r,n)},e.fromString=function(r,n){return new e(Te.fromString(r,!0,n))},e.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},e.fromExtendedJSON=function(r){return new e(r.$timestamp)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Timestamp({ t: "+this.getHighBits()+", i: "+this.getLowBits()+" })"},e.MAX_VALUE=Te.MAX_UNSIGNED_VALUE,e}(C6);__=2147483647,S_=-2147483648,E_=9223372036854776e3,b_=-9223372036854776e3,L6={$oid:vr,$binary:io,$uuid:io,$symbol:zd,$numberInt:cc,$numberDecimal:jd,$numberDouble:uc,$numberLong:Te,$minKey:Ud,$maxKey:Bd,$regex:Ka,$regularExpression:Ka,$timestamp:w_};j6={Binary:function(t){return new io(t.value(),t.sub_type)},Code:function(t){return new lc(t.code,t.scope)},DBRef:function(t){return new Ya(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new jd(t.bytes)},Double:function(t){return new uc(t.value)},Int32:function(t){return new cc(t.value)},Long:function(t){return Te.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_)},MaxKey:function(){return new Bd},MinKey:function(){return new Ud},ObjectID:function(t){return new vr(t)},ObjectId:function(t){return new vr(t)},BSONRegExp:function(t){return new Ka(t.pattern,t.options)},Symbol:function(t){return new zd(t.value)},Timestamp:function(t){return w_.fromBits(t.low,t.high)}};(function(t){function e(o,s){var a=Object.assign({},{relaxed:!0,legacy:!1},s);return typeof a.relaxed=="boolean"&&(a.strict=!a.relaxed),typeof a.strict=="boolean"&&(a.relaxed=!a.strict),JSON.parse(o,function(f,d){if(f.indexOf("\0")!==-1)throw new no("BSON Document field names cannot contain null bytes, found: "+JSON.stringify(f));return x_(d,a)})}t.parse=e;function r(o,s,a,f){a!=null&&typeof a=="object"&&(f=a,a=0),s!=null&&typeof s=="object"&&!Array.isArray(s)&&(f=s,s=void 0,a=0);var d=Object.assign({relaxed:!0,legacy:!1},f,{seenObjects:[{propertyName:"(root)",obj:null}]}),m=gi(o,d);return JSON.stringify(m,s,a)}t.stringify=r;function n(o,s){return s=s||{},JSON.parse(r(o,s))}t.serialize=n;function i(o,s){return s=s||{},e(JSON.stringify(o),s)}t.deserialize=i})(vi||(vi={}));h_=p_();h_.Map?f_=h_.Map:f_=function(){function t(e){e===void 0&&(e=[]),this._keys=[],this._values={};for(var r=0;r<e.length;r++)if(e[r]!=null){var n=e[r],i=n[0],o=n[1];this._keys.push(i),this._values[i]={v:o,i:this._keys.length-1}}}return t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var r=this._values[e];return r==null?!1:(delete this._values[e],this._keys.splice(r.i,1),!0)},t.prototype.entries=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?[n,e._values[n].v]:void 0,done:n===void 0}}}},t.prototype.forEach=function(e,r){r=r||this;for(var n=0;n<this._keys.length;n++){var i=this._keys[n];e.call(r,this._values[i].v,i,r)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return this._values[e]!=null},t.prototype.keys=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?n:void 0,done:n===void 0}}}},t.prototype.set=function(e,r){return this._values[e]?(this._values[e].v=r,this):(this._keys.push(e),this._values[e]={v:r,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?e._values[n].v:void 0,done:n===void 0}}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),t}();WA=Math.pow(2,63)-1,qA=-Math.pow(2,63),U6=Math.pow(2,53),z6=-Math.pow(2,53),$A=Te.fromNumber(U6),HA=Te.fromNumber(z6),V6=1024*1024*17,GA=He.alloc(V6)});function X6(t){return t?N_(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new J6:typeof navigator<"u"?N_(navigator.userAgent):t5()}function Q6(t){return t!==""&&Z6.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]},!1)}function N_(t){var e=Q6(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new G6;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<k_&&(i=O_(O_([],i,!0),r5(k_-i.length),!0)):i=[];var o=i.join("."),s=e5(t),a=K6.exec(t);return a&&a[1]?new H6(r,o,s,a[1]):new q6(r,o,s)}function e5(t){for(var e=0,r=T_.length;e<r;e++){var n=T_[e],i=n[0],o=n[1],s=o.exec(t);if(s)return i}return null}function t5(){var t=typeof process<"u"&&process.version;return t?new $6(process.version.slice(1)):null}function r5(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}function Q_(t){return vi.serialize(t,y5)}function e2(t){return Array.isArray(t)?t.map(e=>vi.deserialize(e)):vi.deserialize(t)}function Kd(t){return Object.fromEntries(Object.entries(t).filter(e=>typeof e[1]<"u"))}function m5(t,e){let r="";for(let n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}function n2(t,e=!0){let r=Kd(t);return(e&&Object.keys(r).length>0?"?":"")+Object.entries(r).map(([i,o])=>`${i}=${encodeURIComponent(o)}`).join("&")}function g5(t){let e=t[0]==="?"?t.substr(1):t;return Object.fromEntries(e.split("&").filter(r=>r.length>0).map(r=>r.split("=")).map(([r,n])=>[r,decodeURIComponent(n)]))}function w5(t){for(let e of t)if(typeof e=="object"&&e)for(let[r,n]of Object.entries(e))n===void 0&&delete e[r];return t}function _5(t){return w5(t).map(r=>typeof r=="object"?Q_(r):r)}function b5(){return{path:"/api/client/v2.0",app(t){return{path:this.path+`/app/${t}`,location(){return{path:this.path+"/location"}},authProvider(e){return{path:this.path+`/auth/providers/${e}`,login(){return{path:this.path+"/login"}}}},emailPasswordAuth(e){return{...this.authProvider(e),register(){return{path:this.path+"/register"}},confirm(){return{path:this.path+"/confirm"}},confirmSend(){return{path:this.path+"/confirm/send"}},confirmCall(){return{path:this.path+"/confirm/call"}},reset(){return{path:this.path+"/reset"}},resetSend(){return{path:this.path+"/reset/send"}},resetCall(){return{path:this.path+"/reset/call"}}}},functionsCall(){return{path:this.path+"/functions/call"}}}},auth(){return{path:this.path+"/auth",apiKeys(){return{path:this.path+"/api_keys",key(t){return{path:this.path+`/${t}`,enable(){return{path:this.path+"/enable"}},disable(){return{path:this.path+"/disable"}}}}}},profile(){return{path:this.path+"/profile"}},session(){return{path:this.path+"/session"}},delete(){return{path:this.path+"/delete"}}}}}}function x5(t){Zd=t}function Qa(){if(Zd)return Zd;throw new Error("Cannot get environment before it's set")}function O5(t,e,r,n){return new l2(t,e,r,n)}function k5(t,e,r){return{collection:O5.bind(null,t,e,r)}}function T5(t,e="mongo-db"){return{db:k5.bind(null,t,e)}}function D5(t){if(typeof t!="object"||t===null)throw new Error("Expected a non-null object");if(Symbol.asyncIterator in t)return t;if("getReader"in t){let e=t;return{[Symbol.asyncIterator](){let r=e.getReader();return{next(){return r.read()},async return(){return await r.cancel(),{done:!0,value:null}}}}}}else throw new Error("Expected an AsyncIterable or a ReadableStream")}function L5(t){return typeof globalThis.open=="function"?globalThis.open(t):(console.log(`Please open ${t}`),null)}function p2(t=globalThis.location,e=d2.defaultStorage){try{let r=t.hash.substr(1);wi.handleRedirect(r,e)}catch(r){console.warn(r)}}var O_,q6,$6,H6,G6,J6,Y6,K6,k_,Z6,T_,an,U_,n5,i5,o5,gs,A_,I_,s5,Xa,fc,a5,Zt,R_,z_,V_,W_,Qd,Gd,hc,l5,u5,q_,D_,ms,F_,c5,f5,$_,H_,ep,G_,J_,h5,Y_,Jd,d5,K_,Z_,X_,p5,pc,y5,Yd,sn,C_,tp,Xr,t2,Wd,qd,$d,Hd,r2,v5,tl,i2,S5,E5,oo,o2,Zr,s2,Zd,dc,lr,a2,l2,N5,so,P_,Xd,Kt,L_,M_,u2,A5,I5,R5,wi,j_,c2,el,ao,F5,B_,f2,C5,On,h2,ys,P5,d2,y2=it(()=>{Vd();Vd();O_=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},q6=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),$6=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),H6=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),G6=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),J6=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Y6=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,K6=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,k_=3,Z6=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Y6]],T_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];an=class{constructor(){if(!an.fetch)throw new Error("DefaultNetworkTransport.fetch must be set before it's used");if(!an.AbortController)throw new Error("DefaultNetworkTransport.AbortController must be set before it's used")}fetchWithCallbacks(e,r){this.fetch(e).then(async n=>{let i=await n.text(),o={};return n.headers.forEach((s,a)=>{o[a]=s}),{statusCode:n.status,headers:o,body:i}}).then(n=>r.onSuccess(n)).catch(n=>r.onError(n))}async fetch(e){let{timeoutMs:r,url:n,...i}=e,{signal:o,cancelTimeout:s}=this.createTimeoutSignal(r);try{return await an.fetch(n,{...an.extraFetchOptions,signal:o,...i})}finally{s()}}createTimeoutSignal(e){if(typeof e=="number"){let r=new an.AbortController,n=setTimeout(()=>{r.abort()},e);return{signal:r.signal,cancelTimeout:()=>{clearTimeout(n)}}}else return{signal:void 0,cancelTimeout:()=>{}}}};an.DEFAULT_HEADERS={"Content-Type":"application/json"};an.fetch=globalThis.fetch.bind(globalThis);an.AbortController=globalThis.AbortController;U_="3.7.2",n5=U_,i5=typeof atob=="function",o5=typeof btoa=="function",gs=typeof Buffer=="function",A_=typeof TextDecoder=="function"?new TextDecoder:void 0,I_=typeof TextEncoder=="function"?new TextEncoder:void 0,s5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Xa=Array.prototype.slice.call(s5),fc=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(Xa),a5=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Zt=String.fromCharCode.bind(String),R_=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=r=>r)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),z_=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),V_=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),W_=t=>{let e,r,n,i,o="",s=t.length%3;for(let a=0;a<t.length;){if((r=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|i,o+=Xa[e>>18&63]+Xa[e>>12&63]+Xa[e>>6&63]+Xa[e&63]}return s?o.slice(0,s-3)+"===".substring(s):o},Qd=o5?t=>btoa(t):gs?t=>Buffer.from(t,"binary").toString("base64"):W_,Gd=gs?t=>Buffer.from(t).toString("base64"):t=>{let r=[];for(let n=0,i=t.length;n<i;n+=4096)r.push(Zt.apply(null,t.subarray(n,n+4096)));return Qd(r.join(""))},hc=(t,e=!1)=>e?z_(Gd(t)):Gd(t),l5=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Zt(192|e>>>6)+Zt(128|e&63):Zt(224|e>>>12&15)+Zt(128|e>>>6&63)+Zt(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Zt(240|e>>>18&7)+Zt(128|e>>>12&63)+Zt(128|e>>>6&63)+Zt(128|e&63)}},u5=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,q_=t=>t.replace(u5,l5),D_=gs?t=>Buffer.from(t,"utf8").toString("base64"):I_?t=>Gd(I_.encode(t)):t=>Qd(q_(t)),ms=(t,e=!1)=>e?z_(D_(t)):D_(t),F_=t=>ms(t,!0),c5=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,f5=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return Zt((r>>>10)+55296)+Zt((r&1023)+56320);case 3:return Zt((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Zt((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},$_=t=>t.replace(c5,f5),H_=t=>{if(t=t.replace(/\s+/g,""),!a5.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,i;for(let o=0;o<t.length;)e=fc[t.charAt(o++)]<<18|fc[t.charAt(o++)]<<12|(n=fc[t.charAt(o++)])<<6|(i=fc[t.charAt(o++)]),r+=n===64?Zt(e>>16&255):i===64?Zt(e>>16&255,e>>8&255):Zt(e>>16&255,e>>8&255,e&255);return r},ep=i5?t=>atob(V_(t)):gs?t=>Buffer.from(t,"base64").toString("binary"):H_,G_=gs?t=>R_(Buffer.from(t,"base64")):t=>R_(ep(t),e=>e.charCodeAt(0)),J_=t=>G_(Y_(t)),h5=gs?t=>Buffer.from(t,"base64").toString("utf8"):A_?t=>A_.decode(G_(t)):t=>$_(ep(t)),Y_=t=>V_(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),Jd=t=>h5(Y_(t)),d5=t=>{if(typeof t!="string")return!1;let e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},K_=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),Z_=function(){let t=(e,r)=>Object.defineProperty(String.prototype,e,K_(r));t("fromBase64",function(){return Jd(this)}),t("toBase64",function(e){return ms(this,e)}),t("toBase64URI",function(){return ms(this,!0)}),t("toBase64URL",function(){return ms(this,!0)}),t("toUint8Array",function(){return J_(this)})},X_=function(){let t=(e,r)=>Object.defineProperty(Uint8Array.prototype,e,K_(r));t("toBase64",function(e){return hc(this,e)}),t("toBase64URI",function(){return hc(this,!0)}),t("toBase64URL",function(){return hc(this,!0)})},p5=()=>{Z_(),X_()},pc={version:U_,VERSION:n5,atob:ep,atobPolyfill:H_,btoa:Qd,btoaPolyfill:W_,fromBase64:Jd,toBase64:ms,encode:ms,encodeURI:F_,encodeURL:F_,utob:q_,btou:$_,decode:Jd,isValid:d5,fromUint8Array:hc,toUint8Array:J_,extendString:Z_,extendUint8Array:X_,extendBuiltins:p5},y5={relaxed:!1};(function(t){t.Normal="normal",t.Server="server"})(Yd||(Yd={}));(function(t){t.NAME="name",t.EMAIL="email",t.PICTURE="picture",t.FIRST_NAME="first_name",t.LAST_NAME="last_name",t.GENDER="gender",t.BIRTHDAY="birthday",t.MIN_AGE="min_age",t.MAX_AGE="max_age"})(sn||(sn={}));C_={[sn.NAME]:"name",[sn.EMAIL]:"email",[sn.PICTURE]:"pictureUrl",[sn.FIRST_NAME]:"firstName",[sn.LAST_NAME]:"lastName",[sn.GENDER]:"gender",[sn.BIRTHDAY]:"birthday",[sn.MIN_AGE]:"minAge",[sn.MAX_AGE]:"maxAge"},tp=class{constructor(e){if(this.type=Yd.Normal,this.identities=[],typeof e=="object"&&e!==null){let{type:r,identities:n,data:i}=e;if(typeof r=="string")this.type=r;else throw new Error("Expected 'type' in the response body");if(Array.isArray(n))this.identities=n.map(o=>{let{id:s,provider_type:a}=o;return{id:s,providerType:a}});else throw new Error("Expected 'identities' in the response body");if(typeof i=="object"&&i!==null){let o=Object.fromEntries(Object.entries(i).map(([s,a])=>s in C_?[C_[s],a]:[s,a]));this.data=e2(o)}else throw new Error("Expected 'data' in the response body")}else this.data={}}},Xr=class{constructor(e,r){this.storage=e,this.keyPart=r}get(e){return this.storage.get(this.keyPart+Xr.PART_SEPARATOR+e)}set(e,r){return this.storage.set(this.keyPart+Xr.PART_SEPARATOR+e,r)}remove(e){return this.storage.remove(this.keyPart+Xr.PART_SEPARATOR+e)}prefix(e){return new Xr(this,e)}clear(e=""){return this.storage.clear(this.keyPart+Xr.PART_SEPARATOR+e)}addListener(e){return this.storage.addListener(e)}removeListener(e){return this.storage.addListener(e)}};Xr.PART_SEPARATOR=":";t2=class{constructor(){this.storage={},this.listeners=new Set}get(e){return e in this.storage?this.storage[e]:null}set(e,r){this.storage[e]=r,this.fireListeners()}remove(e){delete this.storage[e],this.fireListeners()}prefix(e){return new Xr(this,e)}clear(e){for(let r of Object.keys(this.storage))(!e||r.startsWith(e))&&delete this.storage[r];this.fireListeners()}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}fireListeners(){this.listeners.forEach(e=>e())}},Wd="accessToken",qd="refreshToken",$d="profile",Hd="providerType",r2=class extends Xr{constructor(e,r){super(e,`user(${r})`)}get accessToken(){return this.get(Wd)}set accessToken(e){e===null?this.remove(Wd):this.set(Wd,e)}get refreshToken(){return this.get(qd)}set refreshToken(e){e===null?this.remove(qd):this.set(qd,e)}get profile(){let e=this.get($d);if(e){let r=new tp;return Object.assign(r,JSON.parse(e)),r}}set profile(e){e?this.set($d,JSON.stringify(e)):this.remove($d)}get providerType(){let e=this.get(Hd);if(e)return e}set providerType(e){e?this.set(Hd,e):this.remove(Hd)}};v5=["inspect","callFunction","callFunctionStreaming",...Object.getOwnPropertyNames(Object.prototype)];tl=class{constructor(e,r={}){this.fetcher=e,this.serviceName=r.serviceName,this.argsTransformation=r.argsTransformation||_5}static create(e,r={}){let n=new tl(e,r);return new Proxy(n,{get(i,o,s){if(typeof o=="string"&&v5.indexOf(o)===-1)return i.callFunction.bind(i,o);{let a=Reflect.get(i,o,s);return typeof a=="function"?a.bind(i):a}}})}async callFunction(e,...r){let n={name:e,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute;return this.fetcher.fetchJSON({method:"POST",path:i.functionsCall().path,body:n})}callFunctionStreaming(e,...r){let n={name:e,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute,o=n2({baas_request:pc.encode(JSON.stringify(n))});return this.fetcher.fetchStream({method:"GET",path:i.functionsCall().path+o})}},i2=!1,S5=t=>{i2=t},E5=(t,e)=>{!i2||console.warn(`Deprecation warning from Realm: ${t} is deprecated and will be removed in a future major release. Consider switching to ${e}.`)},oo=(t,e,r,n)=>{if(typeof t[0]!="object"){let i=n?", ...args":"";E5(`${e}(${r.join(", ")}${i})`,`${e}({ ${r.join(", ")} }${i})`);let o=r.reduce((a,f,d)=>({...a,[f]:t[d]}),{}),s=n?t.slice(r.length):void 0;return{argsObject:o,restArgs:s}}return{argsObject:t[0],restArgs:n?t.slice(1):void 0}};S5(typeof __DEV__<"u"&&__DEV__);o2=class{constructor(e,r="local-userpass"){this.fetcher=e,this.providerName=r}async registerUser(...e){let{argsObject:r}=oo(e,"registerUser",["email","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).register().path,body:r})}async confirmUser(...e){let{argsObject:r}=oo(e,"confirmUser",["token","tokenId"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirm().path,body:r})}async resendConfirmationEmail(...e){let{argsObject:r}=oo(e,"resendConfirmationEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmSend().path,body:r})}async retryCustomConfirmation(...e){let{argsObject:r}=oo(e,"retryCustomConfirmation",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmCall().path,body:r})}async resetPassword(...e){let{argsObject:r}=oo(e,"resetPassword",["token","tokenId","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).reset().path,body:r})}async sendResetPasswordEmail(...e){let{argsObject:r}=oo(e,"sendResetPasswordEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).resetSend().path,body:r})}async callResetPasswordFunction(...e){let{argsObject:r,restArgs:n}=oo(e,"callResetPasswordFunction",["email","password"],!0),i=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:i.emailPasswordAuth(this.providerName).resetCall().path,body:{...r,arguments:n}})}};Zr={api:b5},s2=class{constructor(e){this.fetcher=e}create(e){return this.fetcher.fetchJSON({method:"POST",body:{name:e},path:Zr.api().auth().apiKeys().path,tokenType:"refresh"})}fetch(e){return this.fetcher.fetchJSON({method:"GET",path:Zr.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}fetchAll(){return this.fetcher.fetchJSON({method:"GET",tokenType:"refresh",path:Zr.api().auth().apiKeys().path})}async delete(e){await this.fetcher.fetchJSON({method:"DELETE",path:Zr.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}async enable(e){await this.fetcher.fetchJSON({method:"PUT",path:Zr.api().auth().apiKeys().key(e).enable().path,tokenType:"refresh"})}async disable(e){await this.fetcher.fetchJSON({method:"PUT",path:Zr.api().auth().apiKeys().key(e).disable().path,tokenType:"refresh"})}},Zd=null;dc=class extends Error{constructor({message:e,code:r}){super(e);this.name="WatchError",this.code=r}};(function(t){t.NEED_DATA="NEED_DATA",t.HAVE_EVENT="HAVE_EVENT",t.HAVE_ERROR="HAVE_ERROR"})(lr||(lr={}));a2=class{constructor(){this._state=lr.NEED_DATA,this._error=null,this._textDecoder=new(Qa()).TextDecoder,this._buffer="",this._bufferOffset=0,this._eventType="",this._dataBuffer=""}feedBuffer(e){this.assertState(lr.NEED_DATA),this._buffer+=this._textDecoder.decode(e,{stream:!0}),this.advanceBufferState()}feedLine(e){if(this.assertState(lr.NEED_DATA),e.endsWith(`
`)&&(e=e.substr(0,e.length-1)),e.endsWith("\r")&&(e=e.substr(0,e.length-1)),e.length===0){if(this._dataBuffer.length===0){this._eventType="";return}this._dataBuffer.endsWith(`
`)&&(this._dataBuffer=this._dataBuffer.substr(0,this._dataBuffer.length-1)),this.feedSse({data:this._dataBuffer,eventType:this._eventType}),this._dataBuffer="",this._eventType=""}if(e[0]===":")return;let r=e.indexOf(":"),n=e.substr(0,r),i=r===-1?"":e.substr(r+1);i.startsWith(" ")&&(i=i.substr(1)),n==="event"?this._eventType=i:n==="data"&&(this._dataBuffer+=i,this._dataBuffer+=`
`)}feedSse(e){this.assertState(lr.NEED_DATA);let r=e.data.indexOf("%");if(r!==-1){let n="",i=0;for(let o=r;o!==-1;o=e.data.indexOf("%",i)){n+=e.data.substr(i,o-i);let s=e.data.substr(o,3);s==="%25"?n+="%":s==="%0A"?n+=`
`:s==="%0D"?n+="\r":n+=s,i=o+s.length}n+=e.data.substr(i),e.data=n}if(!e.eventType||e.eventType==="message"){try{let n=vi.parse(e.data);if(typeof n=="object"){this._nextEvent=n,this._state=lr.HAVE_EVENT;return}}catch{}this._state=lr.HAVE_ERROR,this._error=new dc({message:"server returned malformed event: "+e.data,code:"bad bson parse"})}else if(e.eventType==="error"){this._state=lr.HAVE_ERROR,this._error=new dc({message:e.data,code:"unknown"});try{let{error_code:n,error:i}=vi.parse(e.data);if(typeof n!="string"||typeof i!="string")return;this._error=new dc({message:i,code:n})}catch{return}}}get state(){return this._state}nextEvent(){this.assertState(lr.HAVE_EVENT);let e=this._nextEvent;return this._state=lr.NEED_DATA,this.advanceBufferState(),e}get error(){return this._error}advanceBufferState(){for(this.assertState(lr.NEED_DATA);this.state===lr.NEED_DATA;){if(this._bufferOffset===this._buffer.length){this._buffer="",this._bufferOffset=0;return}let e=this._buffer.indexOf(`
`,this._bufferOffset);if(e===-1){this._bufferOffset!==0&&(this._buffer=this._buffer.substr(this._bufferOffset,this._buffer.length-this._bufferOffset),this._bufferOffset=0);return}this.feedLine(this._buffer.substr(this._bufferOffset,e-this._bufferOffset)),this._bufferOffset=e+1}}assertState(e){if(this._state!==e)throw Error(`Expected WatchStream to be in state ${e}, but in state ${this._state}`)}},l2=class{constructor(e,r,n,i){this.functions=tl.create(e,{serviceName:r}),this.databaseName=n,this.collectionName=i,this.serviceName=r,this.fetcher=e}find(e={},r={}){return this.functions.find({database:this.databaseName,collection:this.collectionName,query:e,project:r.projection,sort:r.sort,limit:r.limit})}findOne(e={},r={}){return this.functions.findOne({database:this.databaseName,collection:this.collectionName,query:e,project:r.projection,sort:r.sort})}findOneAndUpdate(e={},r,n={}){return this.functions.findOneAndUpdate({database:this.databaseName,collection:this.collectionName,filter:e,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndReplace(e={},r,n={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndDelete(e={},r={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,sort:r.sort,projection:r.projection})}aggregate(e){return this.functions.aggregate({database:this.databaseName,collection:this.collectionName,pipeline:e})}count(e={},r={}){return this.functions.count({database:this.databaseName,collection:this.collectionName,query:e,limit:r.limit})}insertOne(e){return this.functions.insertOne({database:this.databaseName,collection:this.collectionName,document:e})}insertMany(e){return this.functions.insertMany({database:this.databaseName,collection:this.collectionName,documents:e})}deleteOne(e={}){return this.functions.deleteOne({database:this.databaseName,collection:this.collectionName,query:e})}deleteMany(e={}){return this.functions.deleteMany({database:this.databaseName,collection:this.collectionName,query:e})}updateOne(e,r,n={}){return this.functions.updateOne({database:this.databaseName,collection:this.collectionName,query:e,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}updateMany(e,r,n={}){return this.functions.updateMany({database:this.databaseName,collection:this.collectionName,query:e,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}async*watch({ids:e,filter:r}={}){let n=await this.functions.callFunctionStreaming("watch",{database:this.databaseName,collection:this.collectionName,ids:e,filter:r}),i=new a2;for await(let o of n)if(!!o){for(i.feedBuffer(o);i.state==lr.HAVE_EVENT;)yield i.nextEvent();if(i.state==lr.HAVE_ERROR)throw i.error}}};N5="000000000000000000000000";(function(t){t.Active="active",t.LoggedOut="logged-out",t.Removed="removed"})(so||(so={}));(function(t){t.Normal="normal",t.Server="server"})(P_||(P_={}));Xd=class{constructor(e){if(this.app=e.app,this.id=e.id,this.storage=new r2(this.app.storage,this.id),"accessToken"in e&&"refreshToken"in e&&"providerType"in e)this._accessToken=e.accessToken,this._refreshToken=e.refreshToken,this.providerType=e.providerType,this.storage.accessToken=e.accessToken,this.storage.refreshToken=e.refreshToken,this.storage.providerType=e.providerType;else{this._accessToken=this.storage.accessToken,this._refreshToken=this.storage.refreshToken;let r=this.storage.providerType;if(this._profile=this.storage.profile,r)this.providerType=r;else throw new Error("Storage is missing a provider type")}this.fetcher=this.app.fetcher.clone({userContext:{currentUser:this}}),this.apiKeys=new s2(this.fetcher),this.functions=tl.create(this.fetcher)}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,this.storage.accessToken=e}get refreshToken(){return this._refreshToken}set refreshToken(e){this._refreshToken=e,this.storage.refreshToken=e}get state(){return this.id in this.app.allUsers?this.refreshToken===null?so.LoggedOut:so.Active:so.Removed}get isLoggedIn(){return this.state===so.Active}get customData(){if(this.accessToken)return this.decodeAccessToken().userData;throw new Error("Cannot read custom data without an access token")}get profile(){if(this._profile)return this._profile.data;throw new Error("A profile was never fetched for this user")}get identities(){if(this._profile)return this._profile.identities;throw new Error("A profile was never fetched for this user")}get deviceId(){if(this.accessToken){let e=this.accessToken.split(".")[1];if(e){let n=JSON.parse(pc.decode(e)).baas_device_id;if(typeof n=="string"&&n!==N5)return n}}return null}async refreshProfile(){let e=await this.fetcher.fetchJSON({method:"GET",path:Zr.api().auth().profile().path});this._profile=new tp(e),this.storage.profile=this._profile}async logOut(){try{this._refreshToken!==null&&await this.fetcher.fetchJSON({method:"DELETE",path:Zr.api().auth().session().path,tokenType:"refresh"})}catch(e){if(!(e instanceof Error)||!e.message.includes("failed to find refresh token"))throw e}finally{this.accessToken=null,this.refreshToken=null}}async linkCredentials(e){let r=await this.app.authenticator.authenticate(e,this);if(this.id!==r.userId){let n=`got user id ${r.userId} expected ${this.id}`;throw new Error(`Link response ment for another user (${n})`)}this.accessToken=r.accessToken,await this.refreshProfile()}async refreshAccessToken(){let e=await this.fetcher.fetchJSON({method:"POST",path:Zr.api().auth().session().path,tokenType:"refresh"}),{access_token:r}=e;if(typeof r=="string")this.accessToken=r;else throw new Error("Expected an 'access_token' in the response")}async refreshCustomData(){return await this.refreshAccessToken(),this.customData}callFunction(e,...r){return this.functions.callFunction(e,...r)}toJSON(){return{id:this.id,accessToken:this.accessToken,refreshToken:this.refreshToken,profile:this._profile,state:this.state,customData:this.customData}}push(){throw new Error("Not yet implemented")}mongoClient(e){return T5(this.fetcher,e)}decodeAccessToken(){if(this.accessToken){let e=this.accessToken.split(".");if(e.length!==3)throw new Error("Expected an access token with three parts");let r=e[1],n=pc.decode(r),i=JSON.parse(n),{exp:o,iat:s,sub:a,user_data:f={}}=i;if(typeof o!="number")throw new Error("Failed to decode access token 'exp'");if(typeof s!="number")throw new Error("Failed to decode access token 'iat'");return{expires:o,issuedAt:s,subject:a,userData:f}}else throw new Error("Missing an access token")}},Kt=class{constructor(e,r,n){this.providerName=e,this.providerType=r,this.payload=n}static anonymous(){return new Kt("anon-user","anon-user",{})}static userApiKey(e){return new Kt("api-key","api-key",{key:e})}static serverApiKey(e){return new Kt("api-key","api-key",{key:e})}static apiKey(e){return new Kt("api-key","api-key",{key:e})}static emailPassword(e,r){return new Kt("local-userpass","local-userpass",{username:e,password:r})}static function(e){return new Kt("custom-function","custom-function",e)}static jwt(e){return new Kt("custom-token","custom-token",{token:e})}static google(e){return new Kt("oauth2-google","oauth2-google",Kt.derivePayload(e))}static derivePayload(e){if(typeof e=="string"){if(e.includes("://"))return this.derivePayload({redirectUrl:e});if(e.startsWith("4/"))return this.derivePayload({authCode:e});if(e.startsWith("ey"))return this.derivePayload({idToken:e});throw new Error(`Unexpected payload: ${e}`)}else if(Object.keys(e).length===1){if("authCode"in e||"redirectUrl"in e)return e;if("idToken"in e)return{id_token:e.idToken};throw new Error("Unexpected payload: "+JSON.stringify(e))}else throw new Error("Expected only one property in payload, got "+JSON.stringify(e))}static facebook(e){return new Kt("oauth2-facebook","oauth2-facebook",e.includes("://")?{redirectUrl:e}:{accessToken:e})}static apple(e){return new Kt("oauth2-apple","oauth2-apple",e.includes("://")?{redirectUrl:e}:{id_token:e})}},L_="userIds",M_="deviceId",u2=class extends Xr{constructor(e,r){super(e,`app(${r})`)}getUserIds(){let e=this.get(L_),r=e?JSON.parse(e):[];if(Array.isArray(r))return[...new Set(r)];throw new Error("Expected the user ids to be an array")}setUserIds(e,r){if(r){let n=this.getUserIds();for(let i of n)e.indexOf(i)===-1&&e.push(i)}this.set(L_,JSON.stringify(e))}removeUserId(e){let n=this.getUserIds().filter(i=>i!==e);this.setUserIds(n,!1)}getDeviceId(){return this.get(M_)}setDeviceId(e){this.set(M_,e)}},A5="abcdefghijklmnopqrstuvwxyz",I5=100,R5={_stitch_client_app_id:"appId",_baas_client_app_id:"appId",_stitch_ua:"userAuth",_baas_ua:"userAuth",_stitch_link:"link",_baas_link:"link",_stitch_error:"error",_baas_error:"error",_stitch_state:"state",_baas_state:"state"},wi=class{constructor(e,r=Qa().openWindow){this.storage=e.prefix("oauth2"),this.openWindow=r}static parseRedirectLocation(e){let r=g5(e),n={};for(let[i,o]of Object.entries(R5)){let s=r[i];s&&(n[o]=s)}return n}static handleRedirect(e,r=Qa().defaultStorage){let n=wi.parseRedirectLocation(e),{state:i,error:o}=n;if(typeof i=="string"){let s=r.prefix("oauth2");wi.getStateStorage(s,i).set("result",JSON.stringify(n))}else throw o?new Error(`Failed to handle OAuth 2.0 redirect: ${o}`):new Error("Failed to handle OAuth 2.0 redirect.")}static decodeAuthInfo(e){let r=(e||"").split("$");if(r.length===4){let[n,i,o,s]=r;return{accessToken:n,refreshToken:i,userId:o,deviceId:s}}else throw new Error("Failed to decode 'authInfo' into ids and tokens")}static getStateStorage(e,r){return e.prefix(`state(${r})`)}openWindowAndWaitForRedirect(e,r){let n=wi.getStateStorage(this.storage,r);return new Promise((i,o)=>{let s=null,a,f=()=>{let d=n.get("result");if(d){let m=JSON.parse(d);n.removeListener(f),n.clear();try{s&&(clearInterval(a),s.close())}catch(v){console.warn(`Failed closing redirect window: ${v}`)}finally{i(m)}}};n.addListener(f),s=this.openWindow(e),a=setInterval(()=>{if(!s)clearInterval(a);else if(s.closed){clearInterval(a),n.removeListener(f);let d=new Error("Window closed");o(d)}},I5)})}generateState(){return m5(12,A5)}},j_="x-baas-location",c2=class{constructor(e,r,n){this.fetcher=e,this.oauth2=new wi(r),this.getDeviceInformation=n}async authenticate(e,r){let n=this.getDeviceInformation(),i=typeof r=="object";if(e.providerType.startsWith("oauth2")&&typeof e.payload.redirectUrl=="string"){let o=this.oauth2.generateState(),s=await this.getLogInUrl(e,i,{state:o,redirect:e.payload.redirectUrl,providerRedirectHeader:i?!0:void 0,device:i?void 0:n.encode()});if(i){let f=(await this.fetcher.fetch({method:"GET",url:s,tokenType:i?"access":"none",user:r,mode:"cors",credentials:"include"})).headers.get(j_);if(f)return this.openWindowAndWaitForAuthResponse(f,o);throw new Error(`Missing ${j_} header`)}else return this.openWindowAndWaitForAuthResponse(s,o)}else{let o=await this.getLogInUrl(e,i),s=await this.fetcher.fetchJSON({method:"POST",url:o,body:{...e.payload,options:{device:n.toJSON()}},tokenType:i?"access":"none",user:r}),{user_id:a,access_token:f,refresh_token:d=null,device_id:m}=s;if(typeof a!="string")throw new Error("Expected a user id in the response");if(typeof f!="string")throw new Error("Expected an access token in the response");if(typeof d!="string"&&d!==null)throw new Error("Expected refresh token to be a string or null");if(typeof m!="string")throw new Error("Expected device id to be a string");return{userId:a,accessToken:f,refreshToken:d,deviceId:m}}}async getLogInUrl(e,r=!1,n={}){let o=this.fetcher.appRoute.authProvider(e.providerName).login(),s=n2({link:r?"true":void 0,...n});return await this.fetcher.locationUrl+o.path+s}async openWindowAndWaitForAuthResponse(e,r){let n=await this.oauth2.openWindowAndWaitForRedirect(e,r);return wi.decodeAuthInfo(n.userAuth)}},el=class extends Error{constructor(e,r,n,i,o,s,a){let f=i?`status ${n} ${i}`:`status ${n}`;typeof o=="string"?super(`Request failed (${e} ${r}): ${o} (${f})`):super(`Request failed (${e} ${r}): (${f})`),this.method=e,this.url=r,this.statusText=i,this.statusCode=n,this.error=o,this.errorCode=s,this.link=a}static async fromRequestAndResponse(e,r){var n;let{url:i,method:o}=e,{status:s,statusText:a}=r;if((n=r.headers.get("content-type"))===null||n===void 0?void 0:n.startsWith("application/json")){let f=await r.json();if(typeof f=="object"&&f){let{error:d,error_code:m,link:v}=f;return new el(o,i,s,a,typeof d=="string"?d:void 0,typeof m=="string"?m:void 0,typeof v=="string"?v:void 0)}}return new el(o,i,s,a)}};ao=class{constructor({appId:e,transport:r,userContext:n,locationUrlContext:i}){this.appId=e,this.transport=r,this.userContext=n,this.locationUrlContext=i}static buildAuthorizationHeader(e,r){if(!e||r==="none")return{};if(r==="access")return{Authorization:`Bearer ${e.accessToken}`};if(r==="refresh")return{Authorization:`Bearer ${e.refreshToken}`};throw new Error(`Unexpected token type (${r})`)}static buildBody(e){if(e){if(typeof e=="object"&&e!==null)return JSON.stringify(Q_(e));if(typeof e=="string")return e;throw console.log("body is",e),new Error("Unexpected type of body")}else return}static buildJsonHeader(e){return e&&e.length>0?{"Content-Type":"application/json"}:{}}clone(e){return new ao({appId:this.appId,transport:this.transport,userContext:this.userContext,locationUrlContext:this.locationUrlContext,...e})}async fetch(e){let{path:r,url:n,tokenType:i="access",user:o=this.userContext.currentUser,...s}=e;if(typeof r=="string"&&typeof n=="string")throw new Error("Use of 'url' and 'path' mutually exclusive");if(typeof r=="string"){let a=await this.locationUrlContext.locationUrl+r;return this.fetch({...e,path:void 0,url:a})}else if(typeof n=="string"){let a=await this.transport.fetch({...s,url:n,headers:{...ao.buildAuthorizationHeader(o,i),...e.headers}});if(a.ok)return a;if(o&&a.status===401&&i==="access")return await o.refreshAccessToken(),this.fetch({...e,user:o});throw o&&a.status===401&&i==="refresh"&&(o.accessToken=null,o.refreshToken=null),await el.fromRequestAndResponse(e,a)}else throw new Error("Expected either 'url' or 'path'")}async fetchJSON(e){let{body:r}=e,n=ao.buildBody(r),i=ao.buildJsonHeader(n),o=await this.fetch({...e,body:n,headers:{Accept:"application/json",...i,...e.headers}}),s=o.headers.get("content-type");if(s==null?void 0:s.startsWith("application/json")){let a=await o.json();return e2(a)}else{if(s===null)return null;throw new Error(`Expected JSON response, got "${s}"`)}}async fetchStream(e){let{body:r}=await this.fetch({...e,headers:{Accept:"text/event-stream",...e.headers}});return D5(r)}get appRoute(){return Zr.api().app(this.appId)}get locationUrl(){return this.locationUrlContext.locationUrl}},F5="deviceId";(function(t){t.DEVICE_ID="deviceId",t.APP_ID="appId",t.APP_VERSION="appVersion",t.PLATFORM="platform",t.PLATFORM_VERSION="platformVersion",t.SDK_VERSION="sdkVersion"})(B_||(B_={}));f2=class{constructor({appId:e,appVersion:r,deviceId:n}){this.sdkVersion="1.7.0";let i=Qa();this.platform=i.platform,this.platformVersion=i.platformVersion,this.appId=e,this.appVersion=r,this.deviceId=n}encode(){let e=Kd(this);return pc.encode(JSON.stringify(e))}toJSON(){return Kd(this)}},C5="https://realm.mongodb.com",On=class{constructor(e){this.users=[],this._locationUrl=null;let r=typeof e=="string"?{id:e}:e;if(typeof r=="object"&&typeof r.id=="string")this.id=r.id;else throw new Error("Missing a MongoDB Realm app-id");this.baseUrl=r.baseUrl||C5,r.skipLocationRequest&&(this._locationUrl=Promise.resolve(this.baseUrl)),this.localApp=r.app;let{storage:n,transport:i=new an}=r;this.fetcher=new ao({appId:this.id,userContext:this,locationUrlContext:this,transport:i}),this.emailPasswordAuth=new o2(this.fetcher);let o=n||Qa().defaultStorage;this.storage=new u2(o,this.id),this.authenticator=new c2(this.fetcher,o,()=>this.deviceInformation);try{this.hydrate()}catch(s){this.storage.clear(),console.warn("Realm app hydration failed:",s instanceof Error?s.message:s)}}static getApp(e){if(e in On.appCache)return On.appCache[e];{let r=new On(e);return On.appCache[e]=r,r}}switchUser(e){let r=this.users.findIndex(i=>i===e);if(r===-1)throw new Error("The user was never logged into this app");let[n]=this.users.splice(r,1);this.users.unshift(n)}async logIn(e,r=!0){let n=await this.authenticator.authenticate(e),i=this.createOrUpdateUser(n,e.providerType);this.switchUser(i),r&&await i.refreshProfile(),this.storage.setUserIds(this.users.map(s=>s.id),!0);let o=n.deviceId;return o&&o!=="000000000000000000000000"&&this.storage.set(F5,o),i}async removeUser(e){let r=this.users.findIndex(n=>n===e);if(r===-1)throw new Error("The user was never logged into this app");this.users.splice(r,1),await e.logOut(),this.storage.remove(`user(${e.id}):profile`),this.storage.removeUserId(e.id)}async deleteUser(e){await this.fetcher.fetchJSON({method:"DELETE",path:Zr.api().auth().delete().path}),await this.removeUser(e)}get currentUser(){let e=this.users.filter(r=>r.state===so.Active);return e.length===0?null:e[0]}get allUsers(){return Object.fromEntries(this.users.map(e=>[e.id,e]))}get locationUrl(){if(!this._locationUrl){let e=Zr.api().app(this.id).location().path;this._locationUrl=this.fetcher.fetchJSON({method:"GET",url:this.baseUrl+e,tokenType:"none"}).then(r=>{if(typeof r!="object")throw new Error("Expected response body be an object");return r}).then(({hostname:r})=>{if(typeof r!="string")throw new Error("Expected response to contain a 'hostname'");return r}).catch(r=>{throw this._locationUrl=null,r})}return this._locationUrl}get deviceInformation(){let e=this.storage.getDeviceId(),r=typeof e=="string"&&e!=="000000000000000000000000"?new vr(e):void 0;return new f2({appId:this.localApp?this.localApp.name:void 0,appVersion:this.localApp?this.localApp.version:void 0,deviceId:r})}createOrUpdateUser(e,r){let n=this.users.find(i=>i.id===e.userId);if(n)return n.accessToken=e.accessToken,n.refreshToken=e.refreshToken,n;{if(!e.refreshToken)throw new Error("No refresh token in response from server");let i=new Xd({app:this,id:e.userId,accessToken:e.accessToken,refreshToken:e.refreshToken,providerType:r});return this.users.unshift(i),i}}hydrate(){let e=this.storage.getUserIds();this.users=e.map(r=>new Xd({app:this,id:r}))}};On.appCache={};On.Credentials=Kt;h2=class{constructor(){if(typeof globalThis.localStorage=="object")this.global=globalThis;else throw new Error("Cannot use LocalStorage without a global localStorage object")}get(e){return this.global.localStorage.getItem(e)}set(e,r){return this.global.localStorage.setItem(e,r)}remove(e){return this.global.localStorage.removeItem(e)}prefix(e){return new Xr(this,e)}clear(e){let r=[];for(let n=0;n<this.global.localStorage.length;n++){let i=this.global.localStorage.key(n);i&&(!e||i.startsWith(e))&&r.push(i)}for(let n of r)this.global.localStorage.removeItem(n)}addListener(e){return this.global.addEventListener("storage",e)}removeListener(e){return this.global.removeEventListener("storage",e)}},ys=X6(),P5="localStorage"in globalThis?h2:t2;d2={defaultStorage:new P5().prefix("realm-web"),openWindow:L5,platform:(ys==null?void 0:ys.name)||"web",platformVersion:(ys==null?void 0:ys.version)||"0.0.0",TextDecoder};x5(d2)});function Ut(t="struct",e={},r={_id:""},n={structType:"struct",_id:""}){function i(s=""){return`${s+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}let o={_id:i(t+"defaultId"),structType:t,ownerId:r?._id,timestamp:Date.now(),parent:{structType:n?.structType,_id:n?._id}};return o.ownerId||delete o.ownerId,o?.parent?._id||delete o.parent,Object.keys(e).length>0&&Object.assign(o,e),o}function yc(t,e={}){if(!lo[t.tag]&&t.position&&(lo[t.tag]=[t.position.x,t.position.y,t.position.z]),lo[t.tag]){let r={channel:"",position:{x:lo[t.tag][0],y:lo[t.tag][1],z:lo[t.tag][2]}};return Object.assign(e,r)}else return Object.assign(e,t)}function j5(t=[],e=!0){let r=[];for(let n of t){let i=_i(n);r.push(i)}return e&&r.push(...np({channelDicts:t})),r}function mc(t=[],e={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return t.forEach(n=>r[n]=[]),Object.assign(e,r)}function _i(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=mc(),o={tag:t,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Ut("eeg",o,r,n);return t&&yc(o,s),Object.assign(s,e)}function rp(t={0:_i("FP1"),1:_i("FP2")},e={},r={_id:""},n={structType:"struct",_id:""}){let i=mc(),o={tag:t[0]?.tag+"::"+t[1]?.tag,x0:t[0]?.position?.x,y0:t[0]?.position?.y,z0:t[0]?.position?.z,x1:t[1]?.position?.x,y1:t[1]?.position?.y,z1:t[1]?.position?.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Ut("coherence",o,r,n);return Object.assign(s,e)}function np(t={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},e={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,a=0;a<t.channelDicts.length*(t.channelDicts.length+1)/2-t.channelDicts.length;a++){if(t.taggedOnly===!1||t.taggedOnly===!0&&t.channelDicts[s].tag!==null&&t.channelDicts[s+o].tag!==null&&t.channelDicts[s].tag!=="other"&&t.channelDicts[s+o].tag!=="other"&&t.channelDicts[s].analyze===!0&&t.channelDicts[s+o].analyze===!0){var f=_i(t.channelDicts[s].tag),d=_i(t.channelDicts[s+o].tag);i.push(rp({0:f,1:d},{},r,n))}o++,o+s===t.channelDicts.length&&(s++,o=1)}return i}function ip(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=Ut("fnirs",i,r,n);return t&&yc(i,o),Object.assign(o,e)}function v2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=Ut("imu",i,r,n);return t&&yc(i,o),Object.assign(o,e)}function w2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},o=Ut("eyetracker",i,r,n);return Object.assign(o,e)}function op(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},o=Ut("ecg",i,r,n);return Object.assign(o,e)}function _2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){}function S2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=ip(t,r,n,e);return i.structType="ppg",i}function E2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=op(t,r,n,e);return i.structType="hrv",i}function b2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=_i(t,r,n,e);return i.structType="emg",i}function x2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Ut("profile",{tag:t,name:"",username:"",firstName:"",lastName:"",email:"",sex:"",birthday:"",type:"",userRoles:{},id:""},r,n);return Object.assign(i,e)}function O2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Ut("authorization",{tag:t,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:{},structs:{},excluded:{},groups:{},status:"PENDING",expires:!1,associatedAuthId:""},r,n);return Object.assign(i,e)}function k2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Ut("group",{tag:t,name:"",details:"",admins:{},peers:{},clients:{},users:{}},r,n);return Object.assign(i,e)}function T2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",expires:!1,type:"",data:new Array},o=Ut("dataInstance",i,r,n);return Object.assign(o,e)}function N2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:{}},o=Ut("event",i,r,n);return Object.assign(o,e)}function A2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:{},audioChatActive:!1,videoChatActive:!1},o=Ut("chatroom",i,r,n);return Object.assign(o,e)}function I2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:{},attachments:new Array},o=Ut("comment",i,r,n);return Object.assign(o,e)}function R2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Ut("notification",{tag:t,note:"",parentUserId:""},r,n);return Object.assign(i,e)}function D2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",attachments:new Array,dates:new Array},o=Ut("schedule",i,r,n);return Object.assign(o,e)}function F2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},o=Ut("date",i,r,n);return Object.assign(o,e)}function Y5(t=[],e={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return t.forEach((n,i)=>{for(let o in e)r[o]||(r[o]=[[],[]]),n>=e[o][0]&&n<=e[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r}function X5(t,e,r){let n=(e-t)/r,i=[],o=0;for(;o<e;)i.push(o),o+=n;return i}var m2,M5,g2,Ge,Bn,lo,B5,U5,uo,je,z5,V5,W5,q5,$5,H5,G5,J5,K5,Z5,C2,P2=it(()=>{m2=Object.defineProperty,M5=(t,e,r)=>e in t?m2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,g2=(t,e)=>{for(var r in e)m2(t,r,{get:e[r],enumerable:!0})},Ge=(t,e,r)=>(M5(t,typeof e!="symbol"?e+"":e,r),r),Bn={};g2(Bn,{AuthorizationStruct:()=>O2,ChatroomStruct:()=>A2,CoherenceMap:()=>np,CoherenceStruct:()=>rp,CommentStruct:()=>I2,DataStruct:()=>T2,DateStruct:()=>F2,ECGStruct:()=>op,EDAStruct:()=>_2,EEGCoordinates:()=>j5,EEGStruct:()=>_i,EMGStruct:()=>b2,EventStruct:()=>N2,EyeTrackerStruct:()=>w2,FNIRSStruct:()=>ip,FrequencyBandsStruct:()=>mc,GroupStruct:()=>k2,HRVStruct:()=>E2,IMUStruct:()=>v2,NotificationStruct:()=>R2,PPGStruct:()=>S2,ProfileStruct:()=>x2,ScheduleStruct:()=>D2,Struct:()=>Ut,eegCoordinates:()=>lo,setCoordinate:()=>yc,structRegistry:()=>B5});lo={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};B5={Struct:Ut,EEGStruct:_i,FNIRSStruct:ip,CoherenceStruct:rp,CoherenceMap:np,FrequencyBandsStruct:mc,IMUStruct:v2,EyeTrackerStruct:w2,ECGStruct:op,EDAStruct:_2,PPGStruct:S2,HRVStruct:E2,EMGStruct:b2,ProfileStruct:x2,AuthorizationStruct:O2,GroupStruct:k2,DataStruct:T2,EventStruct:N2,ChatroomStruct:A2,CommentStruct:I2,NotificationStruct:R2,ScheduleStruct:D2,DateStruct:F2},U5={};g2(U5,{bandpassWindow:()=>X5,get40HzGamma:()=>H5,getAlphaBetaRatio:()=>q5,getAlphaRatio:()=>V5,getAlphaThetaRatio:()=>$5,getCoherenceScore:()=>z5,getHEGRatioScore:()=>J5,getLowGammaScore:()=>G5,getThetaBetaRatio:()=>W5,mapCoherenceData:()=>Z5,mapFFTData:()=>K5,splitFrequencyBands:()=>Y5});uo=class{constructor(){}static genSineWave(t=20,e=1,r=1,n=512,i=0,o=1){for(var s=[],a=[],f=1/n,d=0;d<r;d+=f){var m=Math.sin(2*Math.PI*t*d)*e;m+=Math.sin(2*Math.PI*i*d)*o,s.push(m),a.push(d)}return[a,s]}static getSineAmplitude(t=20,e=1,r=0,n=0){return Math.sin(this.TWO_PI*t*r+n)*e}static mean(t){var e=t.reduce((r,n)=>n+=r);return e/t.length}static mode(t){return t.sort((e,r)=>t.filter(n=>n===e).length-t.filter(n=>n===r).length).pop()}static std(t,e=void 0){let r=e;e||(r=this.mean(t));let n=0;for(let i=0;i<t.length;i++){let o=t[i]-r;n+=o*o}return Math.sqrt(n/t.length)}static relError(t=[],e=[],r=!0){if(t.length!==e.length)throw new Error("Input arrays of same length!");let n=t.length,i=[];for(let o=0;o<n;o++){let s=(t[o]-e[o])/t[o];r&&(s=Math.abs(s)),i.push(s)}return i}static informationEntropy(t=[]){let e=[],r=t.length;for(let n=0;n<r;n++){let i=t[n]*Math.log(t[n]);isNaN(i)&&(i=0),e.push(i)}return e}static zscore(t){let e=this.mean(t),r=this.std(t,e),n=[];for(let i=0;i<t.length;i++)n.push((t[i]-e)/r);return n}static variance(t){var e=this.mean(t);return t.reduce((r,n)=>r+(n-e)**2,0)/t.length}static dot(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}static cross3D(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}static magnitude(t){var e=0;return t.forEach(r=>{e+=r*r}),Math.sqrt(e)}static distance(t,e){var r=0;return t.forEach((n,i)=>{r+=(e[i]-n)*(e[i]-n)}),Math.sqrt(r)}static normalize(t){var e=0;e=this.magnitude(t);var r=[];return t.forEach((n,i)=>{r.push(n*e)}),r}static quadraticFormula(t,e,r){let n=Math.sqrt(e*e-4*t*r);if(!isNaN(n))return["complex","complex"];let i=1/(2*t);if(n===0)return[e*i];let o=-e;return[(o+n)*i,(o-n)*i]}static newtonsMethod(t=o=>Math.pow(o,5)+o*o-o-.2,e=0,r=1,n=.01,i=10){let o=[];for(let s=0;s<i;s++){let a=Math.random()*(r-e),f=t(a),d=t(a+n),m=(d-f)/n,v=a+n;for(;Math.abs(m)>n;){let E=-f/O,I=v+E;f=d,d=t(I);let O=(d-f)/(I-v)}let y,w=o.find((E,I)=>{if(Math.abs(xn1-E)<n)return y=I,!0});w?o[y]=(xn1+w)*.5:o.push(xn1)}return o}static makeVec(t,e){var r=[];return t.forEach((n,i)=>{r.push(e[i]-n)}),r}static transpose(t){return t[0].map((e,r)=>t.map(n=>n[r]))}static matmul(t,e){for(var r=t.length,n=t[0].length,i=e.length,o=e[0].length,s=new Array(r),a=0;a<r;++a){s[a]=new Array(o);for(var f=0;f<o;++f){s[a][f]=0;for(var d=0;d<n;++d)s[a][f]+=t[a][d]*e[d][f]}}return s}static matscale(t,e){let r=[];for(var n=0;n<t.length;n++){r[n]=[];for(let i=0;i<t[0].length;i++)r[n][i]=t[n][i]*e}return r}static matadd(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]+e[i][n]}return r}static matsub(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]-e[i][n]}return r}static histogram(t=[],e=1,r=void 0){let n=[...t];n.sort(function(f,d){return f-d});let i=Math.min(...n);if(typeof r=="number"){let f=Math.max(...n);e=Math.abs((f-i)/(r-1))}let o=i,s=[],a=[];for(let f=0;f<n.length;f++){let d=e*o;if(n[f]>i+d){o++,d+=e;let m=i+d+d*.5;s.push(m),a.push(0)}a[a.length-1]++}return[s,a]}static normalDistribution(t=[],e=!0,r=1e-4){let n=this.mean(t),i=this.variance(t),o=t.length,s=[],a=1/(this.TWO_PI*i),f=1/i,d=0;for(let m=0;m<o;m++){let v=Math.exp(-.5*Math.pow((t[m]-n)*f,2))*a;v<r&&(v=0),s.push(v),d+=v}if(e){let m=1/d;s=s.map(v=>v*m)}return s}static expectedValue(t=[],e=this.normalDistribution(t)){return t.reduce((r,n,i)=>r+n*e[i])}static originMoment(t=[],e=this.normalDistribution(t),r=1){return t.reduce((n,i,o)=>n+Math.pow(i,r)*e[o])}static centralMoment(t=[],e=this.normalDistribution(t),r=1){let n=this.mean(t);return t.reduce((i,o,s)=>i+Math.pow(o-n,r)*e[s]/t.length)}static linearDiscriminantAnalysis(t=[],e=[]){let r=this.mean(t),n=this.mean(e),i=this.cov1d(t,e),o=this.normalDistribution(t),s=[];for(let a=0;a<t.length;a++)s.push(x[a]*i*n-.5*r*i*n+Math.log10(o[a]));return s}static conv1D(t=[],e=[1/3,1/3,1/3],r=Math.floor(e.length*.5)){let n=[],i=1/e.length;if(r>0){let a=new Array(r).fill(0);t=[...a,...t,...a]}let o=Math.floor(e.length*.5),s=t.length-e.length+o;for(let a=o;a<s;a++){let f=0;for(let d=0;d<e.length;d++)f+=t[a-o]*e[d];n.push(f*i)}return n}static conv2D(t=[[],[],[]],e=[[],[],[]],r=0){let n=new Array(t.length-Math.ceil(e.length*.5)).fill([]),i,o=uo.transpose(o);if(r>0){let I=new Array(r).fill(0);i=uo.transpose(t);for(let O=0;O<i.length;O++)i[O]=[...I,...i[O],...I];t=uo.transpose(i);for(let O=0;O<t.length;O++)t[O]=[...I,...t[O],...I]}let s=Math.floor(e[0].length*.5),a=Math.floor(o[0].length*.5),f=t[0].length-e[0].length+s,d=i[0].length-o[0].length+a,m=1/(e[0].length*o[0].length),v=f*d,y=s,w,E=a;for(;y<v;){let I=0;w=y%t[0].length,w===0&&E++;for(let O=0;O<e[0].length;O++){for(let A=0;A<o[0].length;O++)I+=t[E-a+A][w-s+O]*e[A][O];n[E].push(I*m)}y++}return n}static cov2d(t){var e=this.transpose(t),r=[],n=[],i=[];t.forEach((E,I)=>{n.push(this.mean(E))}),e.forEach((E,I)=>{i.push(this.mean(E))}),t.forEach((E,I)=>{r.push([]);for(var O=0;O<E.length;O++)r[I].push((t[I][O]-n[I])*(t[I][O]-i[O])/(E.length-1))});for(var o=this.transpose(r),s=r.length,a=r[0].length,f=o.length,d=o[0].length,m=new Array(s),v=0;v<s;++v){m[v]=new Array(d);for(var y=0;y<d;++y){m[v][y]=0;for(var w=0;w<a;++w)m[v][y]+=r[v][w]*o[w][y]/(t[0].length-1)}}return m}static cov1d(t=[],e=[]){return this.cov2d([t,e])}static cov3d(t=[],e=[],r=[]){return[[this.cov1d(t,t),this.cov1d(t,e),this.cov1d(t,r)],[this.cov1d(e,t),this.cov1d(e,e),this.cov1d(e,r)],[this.cov1d(r,t),this.cov1d(r,e),this.cov1d(r,r)]]}static covNd(t=[]){let e=[];t.forEach((r,n)=>{e.push([]),t.forEach((i,o)=>{e[n].push(this.cov1d(r,i))})})}static eigens2x2(t=[[1,2],[3,4]]){let e=t[0][0]*t[1][1]-t[0][1]*t[1][0],r=(t[0][0]+t[1][1])*.5,n=Math.sqrt(r*r-e),i=r+n,o=r-n;return[i,o]}static eigenvectors2x2(t=[[1,2],[3,4]],e=[1,2]){let r=[-t[0][1],t[0][0]-e[0]];r[0]===0&&r[1]===0&&(r[0]=t[1][1]-e[0],r[1]=-t[1][0]);let n=[-t[0][1],t[0][0]-e[1]];return n[0]===0&&n[1]===0&&(n[0]=t[1][1]-e[1],n[1]=-t[1][0]),[r,n]}static fastpca2d(t,e){let r=this.cov1d(t,e),n=this.eigens2x2(r);n[1]>n[0]&&n.reverse();let i=this.eigenvectors2x2(r,n);return console.log(n,i),[n,i]}static crosscorrelation(t,e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(t),i=this.mean(e),o=t.reduce((v,y)=>v+=Math.pow(y-n,2));o=Math.sqrt(o);var s=e.reduce((v,y)=>v+=Math.pow(y-n,2));s=Math.sqrt(s);for(var a=1/(o*s),f=new Array(t.length).fill(0),d=0;d<t.length;d++){var m=t.reduce((v,y,w)=>v+=(y-n)*(r[d+w]-i));f[d]=m*a}return f}static autocorrelation(t){var e=[...t,...Array(t.length).fill(0)],r=this.mean(t),n=t.reduce((f,d)=>f+=Math.pow(d-r,2));n=Math.sqrt(n);for(var i=1/(n*n),o=new Array(t.length).fill(0),s=0;s<t.length;s++){var a=t.reduce((f,d,m)=>f+=(d-r)*(e[s+m]-r));o[s]=a*i}return o}static correlograms(t=[[],[]]){var e=[];return t.forEach((r,n)=>{t.forEach((i,o)=>{o>=n&&e.push(uo.crosscorrelation(r,i))})}),e}static sma(t=[],e){for(var r=[],n=0;n<t.length;n++)if(n==0)r.push(t[0]);else if(n<e){var i=t.slice(0,n+1);r.push(i.reduce((o,s)=>s+=o)/(n+1))}else{var i=t.slice(n-e,n);r.push(i.reduce((s,a)=>a+=s)/e)}return r}static sum(t=[]){if(t.length>0){var e=t.reduce((r,n)=>n+=r);return e}else return 0}static reduceArrByFactor(t,e=2){return t.filter((r,n)=>n%e===0)}static makeArr(t,e,r){for(var n=[],i=(e-t)/(r-1),o=0;o<r;o++)n.push(t+i*o);return n}static interpolateArray(t,e,r=1){var n=function(v,y,w){return(v+(y-v)*w)*r},i=new Array,o=new Number((t.length-1)/(e-1));i[0]=t[0];for(var s=1;s<e-1;s++){var a=s*o,f=new Number(Math.floor(a)).toFixed(),d=new Number(Math.ceil(a)).toFixed(),m=a-f;i[s]=n(t[f],t[d],m)}return i[e-1]=t[t.length-1],i}static isExtrema(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}else if(e==="valley"){if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}else if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}}return n}else return}static isCriticalPoint(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}else if(e==="valley"){if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}else if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}}return n}else return}static getPeakThreshold(t,e,r){let n,i=t.filter((o,s)=>{if(e.indexOf(s)>-1)return!0});return r===0?n=this.mean(i):n=(r+this.mean(i))*.5,n}static column(t,e){let r=new Array(t.length).fill(0).map(()=>new Array(1).fill(0));for(let n=0;n<t.length;n++)r[n][0]=t[n][e];return r}static flatten_vector(t){let e=[];for(let r=0;r<t.length;r++)e[r]=t[r][0];return e}static squared_difference(t,e){let r=0;for(let n=0;n<t.length;n++)r=r+Math.pow(t[n]-e[n],2);return r}static shift_deflate(t,e,r){let n=Math.sqrt(this.matmul(this.transpose(r),r)),i=this.matscale(r,1/n),o=this.matscale(this.matmul(i,this.transpose(i)),e);return this.matsub(t,o)}static eigenvalue_of_vector(t,e){return ev=this.matmul(this.matmul(this.transpose(e),t),e),ev}static power_iteration(t,e=1e-5,r=1e3){let n=t.length,i=new Array(n).fill(0).map(()=>new Array(1).fill(Math.sqrt(n))),o=this.eigenvalue_of_vector(t,i),s=1,a=0;for(;s>e&&a<r;){let f=JSON.parse(JSON.stringify(o)),d=this.matmul(t,i);i=this.normalize(d),o=this.eigenvalue_of_vector(t,i),s=Math.abs(o-f),a++}return[o,i]}static eigens(t,e=1e-4,r=1e3){let n=[],i=[];for(let o=0;o<t.length;o++){let s=this.power_iteration(t,e,r),a=s[0],f=s[1];n[o]=a,i[o]=this.flatten_vector(f),t=this.shift_deflate(t,a,f)}return[n,i]}static pca(t,e=1e-5){let r=t.length,n=new Array(r),i=new Array(r),o=this.transpose(t);n[0]=this.column(t,0);let s=1,a=0;for(;espilon>e;){a++,i[0]=this.matmul(o,n[0]);let f=this.matmul(this.transpose(n[0]),n[0]);i[0]=this.matscale(i[0],1/f);let d=Math.sqrt(this.matmul(this.transpose(i[0]),i[0]));i[0]=this.matscale(i[0],1/d);let m=this.matmul(t,i[0]),v=this.matmul(this.transpose(i[0]),i[0]);m=this.matscale(m,1/v),s=this.squared_difference(n[0],m),n[0]=JSON.parse(JSON.stringify(m))}return this.matmul(this.transpose(n[0]),n[0])}static p300(t=[],e=[],r=[],n=256){let i=Math.floor(n/10),o=this.sma(e,i),s=this.peakDetect(o,"peak",i),a=this.mean(o),f=this.std(o,a),d=0,m=[];return s.length>0&&t.forEach((v,y)=>{for(;r[s[d]]<v+200&&(d++,!!s[d]););let w=0,E=[];for(;r[s[d+w]]<v+600&&(E.push(d+w),w++,!!s[d+w]););if(E.length>1){let I=[];E.forEach(F=>{I.push(o[s[F]])});let O=Math.max(...I),A=E[I.indexOf(O)];m.push({event_timestamp:v,event_index:y,peak_timestamp:r[[s[A]]],signal_index:[s[A]],signal_amplitude:e[[s[A]]],zscore:(o[s[A]]-a)/f})}else E.length===1&&m.push({event_timestamp:v,event_index:y,peak_timestamp:r[s[E[0]]],signal_index:s[E[0]],signal_amplitude:e[[s[E[0]]]],zscore:(o[s[E[0]]]-a)/f})}),m}},je=uo;Ge(je,"TWO_PI",Math.PI*2),Ge(je,"C",299792458),Ge(je,"G",66743e-15),Ge(je,"h",662607015e-42),Ge(je,"R",8314.32),Ge(je,"Ra",287),Ge(je,"H",69.3),Ge(je,"kbar",1054571817e-43),Ge(je,"kB",1380649e-29),Ge(je,"ke",89875517923e-1),Ge(je,"me",91093837015e-41),Ge(je,"mp",167262192369e-38),Ge(je,"mn",167492749804e-38),Ge(je,"P0",101325),Ge(je,"T0",288.15),Ge(je,"p0",1.225),Ge(je,"Na",60220978e16),Ge(je,"y",1.405),Ge(je,"M0",28.96643),Ge(je,"g0",9.80665),Ge(je,"Re",6378100),Ge(je,"B",1458e-9),Ge(je,"S",110.4),Ge(je,"Sigma",365e-12),Ge(je,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),Ge(je,"integral",(t=n=>n,e=[],r=.01)=>{let n=0;for(let i=e[0];i<e[1];i+=r)n+=t(i)*r;return n}),Ge(je,"dintegral",(t=(i,o)=>i+o,e=[[],[]],r=.01,n=r)=>{let i=0;for(let o=e[0][0]+r;o<e[0][1];o+=r)for(let s=e[1][0]+n;s<e[1][1];s+=n)i+=t(o,s)*r*n;return i}),Ge(je,"tintegral",(t=(o,s,a)=>o+s+a,e=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=e[0][0]+r;s<e[0][1];s+=r)for(let a=e[1][0]+n;a<e[1][1];a+=n)for(let f=e[2][0]+i;f<e[2][1];f+=i)o+=t(s,a,f)*r*n*i;return o}),Ge(je,"pintegral",(t=n=>n,e=[],r=.01)=>{let n=0,i,o;for(let s=e[0];s<e[1];s+=r)i=o,o=t(s),i&&(n+=uo.distance([0,i],[r,o]));return n}),Ge(je,"peakDetect",(t,e="peak",r=49)=>{let n=Math.floor(r*.5),i=[];for(let o=0;o<t.length-r;o++)uo.isExtrema(t.slice(o,o+r),e)&&i.push(o+n-1);return i});z5=(t,e="alpha1")=>{let r=[];return Array.isArray(t)||(t=[t]),t.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[e].slice(i-o);r.push(je.mean(s))}}),je.mean(r)},V5=t=>t.fftCount>0?t.means.alpha2[t.fftCount-1]/t.means.alpha1[t.fftCount-1]:0,W5=t=>t.fftCount>0?t.means.theta[t.fftCount-1]/t.means.beta[t.fftCount-1]:0,q5=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.beta[t.fftCount-1]:0,$5=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.theta[t.fftCount-1]:0,H5=(t,e)=>{if(t.fftCount>0&&Array.isArray(e)){let r=t.slices.lowgamma[t.fftCount-1],n=[];return r.forEach((i,o)=>{e.lowgamma[0][o]>38&&e.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}else return 0},G5=t=>{if(t.fftCount>0){let e=t.fftCount,r=20;e<r&&(r=e);let n=t.means.lowgamma.slice(e-r);return t.means.lowgamma[e-1]-je.mean(n)}else return 0},J5=t=>{if(t.count>0){let e=t.count,r=40;e<r&&(r=e);let n=t.ratio.slice(e-r);return t.ratio[e-1]-je.mean(n)}else return 0};K5=(t,e,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(e),n.ffts.push(t);for(let o in r){let s=t.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((a,f)=>a+f)/s.length),i+=r[o][1].length}},Z5=(t,e,r,n)=>{t.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(e),n[o].ffts.push(data);let s=0;for(let a in r){let f=fft.slice(s,s+r[a][1].length);coord.slices[a].push(f),coord.means[a].push(f.reduce((d,m)=>d+m)/f.length),s+=r[a][1].length}})};C2=class{constructor(t={},e=!1,r=void 0){this.DS=Bn,this.collections=new Map,this.data={byTime:{},notes:{},events:{},sleep:{},food:{},hr:{},ppg:{},hrv:{},ecg:{},emg:{},eeg:{},fnirs:{}},this.rolloverLimit=5e4,this.dataSorts=new Map,this.watches={},this.onCollectionSet=(n,i)=>{},this.ontrigger=n=>{},this.threaded=e,r?this.workers=r:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&(this.threaded=!0),Object.assign(this.data,t),this.dataSorts=new Map,this.watches={},this.setSort("event",n=>(this.data.events[n.timestamp]?this.data.events[n.timestamp].push(n):this.data.events[n.timestamp]=[n],n.event==="sleep"&&(this.data.sleep[n.timestamp]?this.data.sleep[n.timestamp].push(n):this.data.sleep[n.timestamp]=[n]),n)),this.setSort(["notes","note","link"],n=>(this.data.notes[n.timestamp]?this.data.notes[n.timestamp].push(n):this.data.notes[n.timestamp]=[n],this.data.byTime[n.timestamp]?this.data.byTime[n.timestamp].push(n):this.data.byTime[n.timestamp]=[n],n)),this.id=this.randomId("dataTablet")}randomId(t=""){return`${t+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}setLocalData(t){let e=r=>{let n=r.structType,i=this.collections.get(n);i||(i=new Map,this.collections.set(n,i)),i.set(r._id,r),this.onCollectionSet(n,i)};Array.isArray(t)?t.forEach(r=>{e(r)}):e(t)}getLocalData(t,e){let r="",n="",i="";if(typeof e=="object"?(r=e.ownerId,n=Object.keys(e).filter(s=>s!="ownerId")[0],i=e[n]):i=e,!t&&!r&&!n&&!i)return[];let o=[];if(!t&&(r||n))return this.collections.forEach(s=>{if((n==="_id"||n==="id")&&i){let a=s.get(i);a&&o.push(a)}else s.forEach(a=>{n&&i?a[n]===i&&a.ownerId===r&&o.push(a):a.ownerId===r&&o.push(a)})}),o;{let s=this.collections.get(t);if(!s)return o;if(!n&&!r)return s.forEach(a=>{o.push(a)}),o;if((n==="_id"||n==="id")&&i)return s.get(i);s.forEach((a,f)=>{n&&i&&!r?a[n]===i&&o.push(a):r&&!n?a.ownerId===r&&o.push(a):r&&n&&i&&a.ownerId===r&&a[n]&&a[n]===i&&o.push(a)})}return o}runSort(t,e={},r=[],n=this){let i;if(this.threaded===!1){let o=this.getSort(t);if(o)i=o(e,r,n);else return!1}else if(this.threaded===!0)return this.workers.runWorkerFunction("runSort",[t,e,r],this.workerId,this.id);return i}setSort(t,e=(r,n=[],i=this)=>{}){if(this.threaded===!1)Array.isArray(t)?t.forEach(r=>{this.dataSorts.set(r,e)}):this.dataSorts.set(t,e);else if(this.threaded===!0)return this.workers.runWorkerFunction("setSort",[t,e.toString()],this.workerId,this.id)}getSort(t){if(this.threaded===!1)return this.dataSorts.get(t);if(this.threaded===!0)return this.workers.runWorkerFunction("getSort",[t],this.workerId,this.id)}checkWatches(t={}){for(let e in this.watches)this.watches[e].ondata(t,this.watches[e].accum,this.watches[e]),this.watches[e].triggered&&(this.ontrigger(this.watches[e].accum),this.watches[e].triggered=!1)}setWatch(t,e=(n,i,o)=>{},r=n=>{}){this.watches[t]={triggered:!1,accum:this.DS.Struct("alert"),ondata:e,ontrigger:r}}getWatch(t){return this.watches[t]}async sortStructsIntoTable(t=[]){let e=function(n,i){return n.timestamp-i.timestamp};t.sort(e);let r=[];for(let n=0;n<t.length;n++){let i=t[n];if(!i.timestamp)continue;let o=i.timestamp;if(this.data.byTime[o]?this.data.byTime[o].push(i):this.data.byTime[o]=[i],i.structType==="dataInstance"&&i.data)i.data.forEach(async s=>{if(typeof s=="object"&&!Array.isArray(s)){let a=s.dataType;if(s.ownerId=i.ownerId,s.timestamp||(s.timestamp=o),a){let f=this.runSort(a,s,r,this);f?f.constructor?.name!=="Promise"&&(this.checkWatches(f),this.onUpdate(o,f),r.push(f)):(this.data[a]||(this.data[a]={}),s.timestamp=o,this.data[a][o]?this.data[a][o].push(s):this.data[a][o]=[s],this.data.byTime[o]?this.data.byTime[o].push(s):this.data.byTime[o]=[s],this.checkWatches(s),this.onUpdate(o,s),r.push(s))}}});else{let s=this.runSort(i.structType,i,r,this);if(s)this.checkWatches(s),this.onUpdate(o,s),r.push(s);else{let a=i.structType;this.data[a]||(this.data[a]={}),this.data[a][o]?this.data[a][o].push(i):this.data[a][o]=[i],this.checkWatches(i),this.onUpdate(o,i),r.push(i)}}}for(let n in this.data)this.data[n]=this.sortObjectByPropName(this.data[n]);this.onSorted(r)}onUpdate(t,e,r=this.data){}onSorted(t=[]){}getDataByTimestamp(t,e){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimestamp",[t,e],this.workerId,this.id);let r=this.data.byTime[t];return e&&r&&(r=r.filter(n=>e?e===n.ownerId:!0)),r}getDataByTimeRange(t,e,r,n){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimeRange",[t,e,r,n],this.workerId,this.id);let i={};if(r){for(let o in this.data[r]){let s=parseInt(o);s>t&&s<e&&(i[o]=[...this.data[r][o]])}r==="sleep"&&(i=this.filterSleepResults(i))}else for(let o in this.data.byTime){let s=parseInt(o);s>t&&s<e&&(i[o]=[...this.data.byTime[o]])}if(n&&i)for(let o in i){let s=[];i[o]=i[o],i[o].forEach((a,f)=>{a.ownerId!==n&&s.push(f)}),s.reverse().forEach(a=>{i[o].splice(a,1)}),i[o].length===0&&delete i[o]}return i}getDataByType(t,e,r){if(!this.data[t])return;let n={...this.data[t]};if(e&&(n=[...n[e]]),r&&n)for(let i in n){let o=[];n[i]=[...n[i]],n[i].forEach((s,a)=>{s.ownerId!==r&&o.push(a)}),o.reverse().forEach(s=>{n[i].splice(s,1)}),n[i].length===0&&delete n[i]}return t==="sleep"&&(n=this.filterSleepResults(n)),n}filterSleepResults(t={}){let e=[];for(let r in t)t[r]=[...t[r]],e.push(...t[r].filter(n=>n.structType==="event"));return e.forEach(r=>{let n;for(let i in t)t[i].forEach((o,s)=>o.structType==="fitbitsleep"&&r.startTime&&r.endTime&&Math.abs(o.startTime-r.startTime)<1e3*12*3600&&Math.abs(o.endTime-r.endTime)<1e3*12*3600&&r.endTime-r.startTime>1e3*2*3600?(n=s,!0):!1),n&&t[i].splice(n,1)}),t}sortObjectByPropName(t){return Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{})}checkRollover(t,e=this.rolloverLimit){if(!t)return!1;let r=this.collections.get(t);return r?(r.forEach(n=>{for(let i in n)Array.isArray(n[i])?n[i].length>e&&(n[i].slice(n[i].length-e),i==="ffts"?n.fftCount=n[i].length:i==="times"&&(n.count=n[i].length)):typeof n[i]=="object"&&this.checkRollover(n[i])}),!0):!1}}});function gc(t,e){let r=e instanceof URL?e:new URL(e);return t=r.pathname==="/"?t:r.pathname+t,new URL(t,r.href).href}function rl(t,e=!0){t=t.replace(/\/\*\*?/,"");let r=t.split("/");e&&(r=r.slice(0,r.length-1));let n=[t];return n.push(t+"/*"),n.push(t+"/**"),r.forEach((i,o)=>{let s=r.slice(0,o+1).join("/");s!=t&&(o===r.length-1&&n.push(s+"/*"),n.push(s+"/**"))}),n}var nl=it(()=>{});var ln,sp,vc,vs=it(()=>{ln=t=>(t?`${t}_`:"")+Math.floor(1e5*Math.random()),sp=(t=Math,e=Date,r=16,n=i=>t.floor(i).toString(r))=>n(e.now()/1e3)+" ".repeat(r).replace(/./g,()=>n(t.random()*r)),vc=(t={})=>{let e={_id:null,id:null};return e._id=t._id?t._id:t.id?t.id:sp(),e.id=t.id?t.id:e._id,e}});function L2(t){if(t instanceof Function){var e=t.toString().replace(ek,""),r=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(tk);return r===null&&(r=[]),r}else return}function QA(method=""){let getFunctionBody=t=>t.replace(/^\W*(function[^{]+\{([\s\S]*)\}|[^=]+=>[^{]*\{([\s\S]*)\}|[^=]+=>(.+))/i,"$2$3$4"),getFunctionHead=t=>{let e=t.indexOf(")");return t.slice(0,t.indexOf("{",e)+1)},newFuncHead=getFunctionHead(method),newFuncBody=getFunctionBody(method),newFunc;if(newFuncHead.includes("function ")){let t=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(t,newFuncBody)}else if(newFuncHead.substring(0,6)===newFuncBody.substring(0,6)){let t=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(t,newFuncBody.substring(newFuncBody.indexOf("{")+1,newFuncBody.length-1))}else newFunc=eval(newFuncHead+newFuncBody+"}");return newFunc}var Q5,il,ek,tk,wc=it(()=>{Q5=input=>{if(typeof input=="string"&&(input=JSON.parse(input)),typeof input=="object"){for(let key in input){let value=input[key],regex=new RegExp("(|[a-zA-Z]w*|([a-zA-Z]w*(,s*[a-zA-Z]w*)*))s*=>"),func=typeof value=="string"?value.substring(0,8)=="function":!1,arrow=typeof value=="string"?regex.test(value):!1;try{input[key]=func||arrow?eval("("+value+")"):value}catch(t){console.error(t,value),input[key]=value}typeof input[key]=="object"&&Q5(input[key])}return input}else return{}},il=(t,e=!0)=>{t instanceof Object&&(t=Array.isArray(t)?[...t]:Object.assign({},t));for(let r in t)t[r]instanceof Function&&(t[r]=t[r].toString()),t[r]instanceof Object&&(t[r]=il(t[r],!1));return e?JSON.stringify(t):t},ek=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,tk=/([^\s,]+)/g});var M2,j2=it(()=>{M2=`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>404 Not Found</pre>
</body>
</html>`});var U2=Oe((ws,B2)=>{"use strict";var rk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Un<"u")return Un;throw new Error("unable to locate global object")},Un=rk();B2.exports=ws=Un.fetch;Un.fetch&&(ws.default=Un.fetch.bind(Un));ws.Headers=Un.Headers;ws.Request=Un.Request;ws.Response=Un.Response});var ap,z2=it(()=>{wc();nl();vs();try{if(typeof process=="object"){let t=U2();typeof globalThis.fetch!="function"&&(globalThis.fetch=t)}}catch(t){}ap=class{constructor(e="https://localhost",r,n){this.id=null;this.target=null;this.type=null;this.link=null;this.credentials={};this.connection=null;this.services={available:{},connecting:{},queue:{}};this.router=null;this.clients={};this.user=sp();this.status=!1;this.responses={};this.setCredentials=e=>{this.credentials=vc(e),console.log("Using Credentials:",this.credentials)};this.check=()=>te(this,null,function*(){var i,o,s,a,f,d;this.type==="webrtc"&&(this.clients.webrtc?yield this._subscribe({protocol:"webrtc",force:!0}).then(m=>{this.status=!0}).catch(m=>console.log("Link doesn't have WebRTC enabled.",m)):console.error("WebRTC client not added..."));let e=()=>te(this,null,function*(){if(this.clients.websocket)return yield this._subscribe({protocol:"websocket",force:!0}).then(m=>(this.status=!0,m)),yield this.send("services");console.error("Websocket client not added...")}),r=()=>te(this,null,function*(){return yield this.send("services")}),n;if(console.log("endpoint type",this.type),this.type==="websocket"){console.log("connecting ws");let m=yield e().then(v=>(this.status=!0,v)).catch(v=>te(this,null,function*(){if(this.type==="websocket")return console.log("Falling back to http"),yield r()}));console.log("endpoint res",m)}else n=yield r().then(m=>(this.status=!0,m)).catch(m=>te(this,null,function*(){return console.log("Falling back to websockets"),yield e()}));if(n){console.log("Connection successful!");let m=n.message[0],v=[];for(let y in m){let E=m[y].replace(/Backend|Service/,"").toLowerCase();this.services.available[E]=y,v.push(E),((s=(o=(i=this.router)==null?void 0:i.SERVICES)==null?void 0:o[E])==null?void 0:s.status)instanceof Function&&this.router.SERVICES[E].status(y),((a=this.clients[E])==null?void 0:a.serviceType)==="subscription"&&((f=this.services.queue[E])==null||f.forEach(I=>I()),this.services.queue[E]=[])}(d=this.services.queue.undefined)==null||d.forEach(y=>y()),this.services.queue.undefined=[]}else console.log("Connection failed!");return n==null?void 0:n.message});this.send=(i,...o)=>te(this,[i,...o],function*(e,r={},n=()=>{}){var f,d,m,v,y,w,E,I;if(typeof e=="string")r.route=e;else{let O=this.services[e.service];r.route=O?`${O}/${e.route}`:e.route}r.suppress=!!this.connection;let s,a={suppress:r.suppress,id:(f=this.link.connection)==null?void 0:f.id};if(((d=this.connection)==null?void 0:d.protocol)==="websocket")r.id=(m=this.link.credentials)==null?void 0:m.id,s=yield this.link.connection.service.send(r,a);else if(((v=this==null?void 0:this.connection)==null?void 0:v.protocol)==="webrtc")r.id=((y=this.credentials)==null?void 0:y.id)||((w=this.link.credentials)==null?void 0:w.id),s=yield this.connection.service.send(r,a);else{r.id=(E=this.link.credentials)==null?void 0:E.id,r.method||(r.method=((I=r.message)==null?void 0:I.length)>0?"POST":"GET");let O={method:r.method.toUpperCase(),mode:"cors",headers:{"Content-Type":"application/json"}};O.method!="GET"&&(O.body=il(r)),s=yield fetch(gc(r.route,this.link.target),O).then(A=>te(this,null,function*(){let F=A.body.getReader(),Y=A.headers.get("Content-Length"),H=0;if(globalThis.ReadableStream){let Z=new ReadableStream({start(j){let V=()=>te(this,null,function*(){F.read().then(({value:S,done:W})=>{if(W){j.close();return}H+=S.length,n(H/Y,Y),j.enqueue(S),V()})});V()}});return new Response(Z,{headers:A.headers})}else return A})),s=s&&(yield s.json().then(A=>{if(s.ok)return A;throw A.message}).catch(A=>te(this,null,function*(){throw"Invalid JSON"})))}return s&&!(s==null?void 0:s.route)&&(s.route=r.route,s.block=!0),s});this._subscribe=(...r)=>te(this,[...r],function*(e={}){let n=()=>new Promise(i=>te(this,null,function*(){var a;let o=(a=e.protocol)!=null?a:this.type;(o?[this.clients[o]]:Object.values(this.clients)).forEach(f=>te(this,null,function*(){var d;if(f&&e.force||(f==null?void 0:f.status)===!0&&(f==null?void 0:f.serviceType)==="subscription"){let m=`${(d=this.link.services.available[f==null?void 0:f.service])!=null?d:f.name.toLowerCase()}/subscribe`;if(f.setEndpoint(this.link),!this.connection){let y=this.type==="http"||this.type==="websocket"?new URL(m,this.target):this.target;console.log(y,this.target,m);let w=yield f.add(this.credentials,y.href);this.router&&f.addResponse("router",E=>{let I=E;if(typeof E=="string")try{I=JSON.parse(E)}catch(O){}Object.values(this.responses).forEach(O=>{O(I)}),this.router&&this.router.handleLocalRoute(I)}),this.connection={service:f,id:w,protocol:f.name}}this.type==="webrtc"&&(e.routes=[this.target]);let v=yield this.link.send(m,Object.assign({route:e.route,message:e.message,protocol:e.protocol},{message:[e.routes,this.credentials.id]}));i(this.connection);return}})),this.services.queue[o]||(this.services.queue[o]=[]),this.services.queue[o].push(()=>te(this,null,function*(){let f=yield n();i(f)}))}));return yield n()});this.subscribe=e=>{if(e){let r=ln("response");return this.responses[r]=e,r}};this.unsubscribe=e=>{e?delete this.responses[e]:this.responses={}};let i,o;typeof e=="object"?e instanceof URL?i=e:(i=e.target,o=e.type,this.link=e.link,this.setCredentials(e.credentials)):i=e,o||(o="http"),this.link||(this.link=this),o==="http"||o==="websocket"?(i=i instanceof URL?i:new URL(i),this.id=i.origin):this.id=i,this.target=i,this.type=o,this.router=n,r&&(this.clients=r)}}});var nk,lp,V2=it(()=>{Ed();nl();vs();wc();j2();z2();nk="DONOTSEND",lp=class{constructor(e={debug:!1}){this.id=ln();this.USERS={};this.CONNECTIONS=new Map;this.SUBSCRIPTIONS=[];this.ENDPOINTS={};this.SERVICES={};this.ROUTES={};this.INTERVAL=10;this.DEFAULTROUTES=[{route:"ping",post:()=>"pong"},{route:"services/**",get:{object:this.SERVICES,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{let s=e[o];(s==null?void 0:s.serviceType)==="default"&&(n[o]=s.name)}),r.forEach((o,s)=>n=n[o]),n}}},{route:"/",aliases:["routes/**"],get:{object:this.ROUTES,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{o&&(n[o]={route:e[o].route.split("/").filter(s=>!s.match(/\*\*?/)).join("/"),args:e[o].args,wildcard:o.includes("*")})}),r.forEach((o,s)=>n=n[o]),n}}},{route:"sendMessage",aliases:["message","sendMsg"],post:(e,r)=>e.sendMsg(r[0],r[1],r[2])},{route:"setUserServerDetails",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;r[0]&&(i.username=r[0]),r[1]&&(i.password=r[1]),r[2]&&(i.props=r[2]),r[3]&&(i._id=r[3],i.id=r[3])}},{route:"setProps",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(typeof r=="object"&&!Array.isArray(r))return Object.assign(i.props,r),!0;if(Array.isArray(r)&&typeof r[1]=="object"){let o=e.USERS[r[0]];return o&&Object.assign(o.props,r[1]),!0}return!1}},{route:"getProps",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(r[0]){let o=e.USERS[r[0]];if(o)return o.props}else return i.props}},{route:"blockUser",post:(e,r,n)=>{let i=e.USERS[n];return i?this.blockUser(i,r[0]):!1}},{route:"users/**",get:{object:this.USERS,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{let s=e[o];n[o]={_id:s._id,username:s.username,origin:s.origin,props:s.props,updatedPropNames:s.updatedPropNames,lastUpdate:s.lastUpdate,lastTransmit:s.lastTransmit,latency:s.latency}}),r.forEach((o,s)=>n=n[o]),n}}},{route:"getUser",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(r[0]){let o=this.USERS[r[0]];if(o)return{_id:o._id,username:o.username,origin:o.origin,props:o.props,updatedPropNames:o.updatedPropNames,lastUpdate:o.lastUpdate,lastTransmit:o.lastTransmit,latency:o.latency}}else return{_id:i._id,username:i.username,origin:i.origin,props:i.props,updatedPropNames:i.updatedPropNames,lastUpdate:i.lastUpdate,lastTransmit:i.lastTransmit,latency:i.latency}}},{route:"login",aliases:["addUser","startSession"],post:(e,r,n)=>te(this,null,function*(){let i=yield e.addUser(r[0]);return{message:i,id:i.origin}})},{route:"logout",aliases:["removeUser","endSession"],post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;r[0]?e.removeUser(...r):e.removeUser(i)}}];this.protocols={};this.connect=(e,r)=>{let n=new ap(e,this.SERVICES,this);return this.ENDPOINTS[n.id]=n,n.check().then(i=>{i&&(r&&r(n),this.login(n,n.credentials))}),n};this.disconnect=e=>te(this,null,function*(){this.logout(this.ENDPOINTS[e]),delete this.ENDPOINTS[e]});this._loadBackend=(e,r=e.name)=>{var n;this.SERVICES[r]=e,this.SERVICES[r].status=!0,(n=e.routes)==null||n.forEach(i=>this.addRoute(Object.assign({service:r},i))),e.subscribe&&e.subscribe((i,o,s)=>te(this,null,function*(){let a=yield this.handleMessage(i,o);if(s==null?void 0:s.includes("worker"))if(a!==null&&e[s])e[s].postMessage({route:"worker/workerPost",message:a,origin:e.id,callbackId:i.callbackId});else return a;return a})),(e==null?void 0:e.serviceType)==="subscription"&&this.SUBSCRIPTIONS.push(e.updateSubscribers)};this._loadService=(n,...i)=>te(this,[n,...i],function*(e,r=e==null?void 0:e.name){return this._loadBackend(e,r),yield this._loadClient(e,r,!0)});this._loadClient=(e,r,n=!1)=>new Promise(i=>{let o=e.name;if(e.subscribe&&e.subscribe((s,a)=>te(this,null,function*(){var v;let f=this.SERVICES[o],d=f.status===!0,m;return a==="local"?m=yield this.handleLocalRoute(s):d&&(m=yield this.send({route:`${f.route}/${s.route}`,endpoint:e==null?void 0:e.endpoint},...(v=s.message)!=null?v:[])),m})),n)i(e);else{this.SERVICES[o]=e;let s=a=>{this.SERVICES[o].status=!0,e.setEndpointRoute instanceof Function&&e.setEndpointRoute(a),e.routes.forEach(f=>{this.ROUTES[`${a}/${f.route}`]=f}),i(e)};this.SERVICES[o].status===!0?s(this.SERVICES[o]):this.SERVICES[o].status=s}});this.get=(e,...r)=>this._send(e,"GET",...r);this.delete=(e,...r)=>this._send(e,"DELETE",...r);this.post=(e,...r)=>this._send(e,"POST",...r);this.send=this.post;this._send=(e,r,...n)=>te(this,null,function*(){let i;if(typeof e=="string"||(e==null?void 0:e.endpoint)==null?i=Object.values(this.ENDPOINTS)[0]:i=e.endpoint,!i)return;let o;return o=yield i.send(e,{message:n,method:r}),o&&this.handleLocalRoute(o,i),o==null?void 0:o.message});this.handleLocalRoute=(e,r,n)=>te(this,null,function*(){var i,o,s;if(r&&n&&!e.suppress&&r.connection&&((s=(o=(i=r.connection)==null?void 0:i.service)==null?void 0:o.responses)==null||s.forEach(a=>a(Object.assign({route:n},e)))),!e.block){let a=this.ROUTES[e==null?void 0:e.route];if((a==null?void 0:a.post)instanceof Function)return a.post(this,e.message,e.id)}});this.subscribe=(n,...i)=>te(this,[n,...i],function*(e,r={}){if(Object.keys(this.ENDPOINTS).length>0||(r==null?void 0:r.endpoint))return r.endpoint||(r.endpoint=Object.values(this.ENDPOINTS)[0]),yield r.endpoint._subscribe(r).then(s=>r.endpoint.subscribe(e));throw"Remote is not specified"});this.handleMessage=(e,r)=>te(this,null,function*(){var i;let n={};if(Array.isArray(e))n.route=e[0],n.message=e.slice(1),n.callbackId=void 0;else if(typeof e=="string"){let o=e.split(" ");n.route=o[0],n.message=o.slice(1),n.callbackId=void 0}else typeof e=="object"&&Object.assign(n,e);if(typeof n=="object"&&!Array.isArray(n)&&n.route!=null){console.log("runRoute",n.route);let o=yield this.runRoute(n.route,n.method,n.message,(i=n._id)!=null?i:n.id,n.callbackId);return o&&n.suppress&&(o.suppress=n.suppress),o}return null});e.interval&&(this.INTERVAL=e.interval),this.STATE=new Vw({},this.INTERVAL,void 0),this.DEBUG=e==null?void 0:e.debug,"onbeforeunload"in globalThis&&(globalThis.onbeforeunload=()=>{Object.values(this.ENDPOINTS).forEach(r=>{r.type!="webrtc"&&this.logout(r)})}),this.load({routes:this.DEFAULTROUTES}),this.DEBUG&&this.runCallback("routes",[!0]),(e==null?void 0:e.endpoints)&&e.endpoints.forEach(r=>this.connect(r))}login(e,r){return te(this,null,function*(){yield this.logout(e);let n=Object.values(e?{endpoint:e}:this.ENDPOINTS),i=yield Promise.all(n.map(o=>te(this,null,function*(){let s=yield this.send({route:"login",endpoint:o},r);return o.setCredentials(s[0]),s})));return i?i[0]:i.reduce((o,s)=>o*s[0],!0)===1})}logout(e){return te(this,null,function*(){let r=yield Promise.all(Object.values(e?{endpoint:e}:this.ENDPOINTS).map(n=>te(this,null,function*(){return yield this.send({route:"logout",endpoint:n},n.credentials)})));return r?r.reduce((n,i)=>n*(i==null?void 0:i[0]),!0)===1:!1})}load(n){return te(this,arguments,function*(e,r=e.name){let i=e.constructor.type==="client",o=!e.constructor.type||e.constructor.type==="service",s=e.constructor.type==="backend";return o&&(yield this._loadService(e,r)),s&&(yield this._loadBackend(e,r)),i&&(yield this._loadClient(e)),e})}format(e,r={}){return e!==void 0&&((!e||typeof e!="object"||!("message"in e)&&!("route"in e))&&(e={message:e}),Array.isArray(e.message)||(e.message=[e.message]),r.service&&(e==null?void 0:e.route)&&(e.route=`${r.service}/${e.route}`),r.headers&&(e.headers=r.headers)),(e==null?void 0:e.route)&&(e.route=e.route.replace(/\/\*\*?/,"")),e}runRoute(s,a){return te(this,arguments,function*(e,r,n=[],i,o){try{return e==null?void 0:(!r&&Array.isArray(n)&&(r=n.length>0?"POST":"GET"),this.DEBUG&&console.log("route",e),yield this.runCallback(e,n,i,r).then(f=>{if(this.DEBUG&&console.log("Result:",f),f!==void 0)return f=this.format(f),f.callbackId=o,this.ROUTES[f.route]&&(f.block=!0),f.message===nk?void 0:f}).catch(console.error))}catch(f){return new Error("Route failed...")}})}addUser(e={},r=vc(e)){var n,i;if(e){let o=this.USERS[r._id],s=o!=null?o:{_id:(n=e._id)!=null?n:e.id,id:(i=e.id)!=null?i:e._id,username:e.username,origin:r._id,props:{},updatedPropNames:[],sessions:[],blocked:[],lastUpdate:Date.now(),lastTransmit:0,latency:0,routes:new Map};Object.assign(s,e),this.DEBUG&&console.log("Adding User, Id:",e._id,"Credentials:",r),this.USERS[r._id]=s;for(let a in this.SERVICES){let f=this.SERVICES[a];if(f.status===!0){let d=f.name+"/users";rl(d).forEach(v=>{this.ROUTES[v]&&this.runRoute(v,"POST",[s],r._id)})}}return s}else return!1}removeUser(e){let r=typeof e=="string"?this.USERS[e]:e;return r?(Object.values(this.SERVICES).forEach(n=>{if(n.status===!0){let i=n.name+"/users";this.ROUTES[i]&&this.runRoute(i,"DELETE",[r],r.id)}}),delete r.id,!0):!1}blockUser(e,r=""){return this.USERS[r]&&!e.blocked.includes(r)&&e.id!==r?(e.blocked.push(r),!0):!1}sendMsg(e="",r="",n=void 0){var o;let i={message:r,data:n};if(typeof e=="string"){let s=this.USERS[e];if(typeof s=="object"){if(typeof(s==null?void 0:s.send)=="function")return s.send(i),!0;console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${e} does not have anything to receive your message...`)}else console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${e} does not have anything to receive your message...`)}else if(e&&typeof e=="object"){if(typeof e.send!="function"&&e._id&&(e=this.USERS[e._id]),typeof e.send=="function")return e.send(i),!0;console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${(o=e.username)!=null?o:e.id} does not have anything to receive your message...`)}return!1}addRoute(e){e=Object.assign({},e);let r=[e.route,...e.aliases?e.aliases:[]];return delete e.aliases,r.forEach(n=>{var i,o;if(!n||!e.post&&!e.get)return!1;n=e.route=`${e.service?`${e.service}/`:""}`+n,this.removeRoute(n),n[0]==="/"&&(n=n.slice(1)),e.args=L2(e.post),this.ROUTES[n]=Object.assign(e,{route:n}),e.get&&(this.STATE.setState({[n]:(o=(i=e.get)==null?void 0:i.object)!=null?o:e.get}),this.STATE.subscribe(n,s=>{var f;let a=((f=e.get)==null?void 0:f.transform)?e.get.transform(s):s;this.SUBSCRIPTIONS.forEach(d=>d(this,{route:n,message:a}))}))}),!0}removeRoute(e){return delete this.ROUTES[e]}runCallback(e,r=[],n,i=r.length>0?"POST":"GET"){return new Promise(o=>te(this,null,function*(){let s=rl(e),a={route:e,block:!0,message:{html:M2},headers:{"Content-Type":"text/html"}};Promise.all(s.map(f=>te(this,null,function*(){var m;let d=this.ROUTES[f];if(d){this.DEBUG&&console.log("routeInfo",d);try{let v;if((d==null?void 0:d.delete)&&i.toUpperCase()==="DELETE")v=yield d.delete(this,r,n);else if(i.toUpperCase()==="GET"||!(d==null?void 0:d.post)){let y=this.STATE.data[d.route];if(y){let w=e.replace(d.route.split("/").filter(E=>E!="*"&&E!="**").join("/"),"").split("/").filter(E=>!!E);v={message:((m=d.get)==null?void 0:m.transform)?yield d.get.transform(y,...w):y}}else v=a}else(d==null?void 0:d.post)?v=yield d==null?void 0:d.post(this,r,n):v=a;o(this.format(v,d))}catch(v){console.log("Callback Failed: ",v)}}}))).then(f=>o(a))}))}checkRoutes(e){return te(this,null,function*(){var n,i;if(!e.data)return;let r=(i=(n=this.ROUTES[e.data.foo])!=null?n:this.ROUTES[e.data.route])!=null?i:this.ROUTES[e.data.functionName];return r||(r=this.ROUTES[e.data.foo]),r?e.data.message?yield r.post(this,e.data.message,e.data.origin):void 0:!1})}}});var J2=Oe((pI,G2)=>{var up=Math.floor(Math.random()*16777215),W2=Xe.index=parseInt(Math.random()*16777215,10),q2=(typeof process>"u"||typeof process.pid!="number"?Math.floor(Math.random()*1e5):process.pid)%65535,_c=function(t){return!!(t!=null&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))},H2=[];for(wr=0;wr<256;wr++)H2[wr]=(wr<=15?"0":"")+wr.toString(16);var wr,$2=new RegExp("^[0-9a-fA-F]{24}$"),ol=[];wr=0;for(;wr<10;)ol[48+wr]=wr++;for(;wr<16;)ol[65-10+wr]=ol[97-10+wr]=wr++;function Xe(t){if(!(this instanceof Xe))return new Xe(t);if(t&&(t instanceof Xe||t._bsontype==="ObjectID"))return t;if(this._bsontype="ObjectID",t==null||typeof t=="number"){this.id=this.generate(t);return}var e=Xe.isValid(t);if(!e&&t!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(e&&typeof t=="string"&&t.length===24)return Xe.createFromHexString(t);if(t!=null&&t.length===12)this.id=t;else{if(t!=null&&typeof t.toHexString=="function")return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}G2.exports=Xe;Xe.default=Xe;Xe.createFromTime=function(t){return t=parseInt(t,10)%4294967295,new Xe(ok(8,t)+"0000000000000000")};Xe.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var e="",r=0;r<24;)e+=String.fromCharCode(ol[t.charCodeAt(r++)]<<4|ol[t.charCodeAt(r++)]);return new Xe(e)};Xe.isValid=function(t){return t==null?!1:typeof t=="number"?!0:typeof t=="string"?t.length===12||t.length===24&&$2.test(t):t instanceof Xe||_c(t)?!0:typeof t.toHexString=="function"&&(t.id instanceof _Buffer||typeof t.id=="string")?t.id.length===12||t.id.length===24&&$2.test(t.id):!1};Xe.prototype={constructor:Xe,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(_c(this.id))return this.id.toString("hex");for(var t="",e=0;e<this.id.length;e++)t+=H2[this.id.charCodeAt(e)];return t},equals:function(t){return t instanceof Xe?this.toString()===t.toString():typeof t=="string"&&Xe.isValid(t)&&t.length===12&&_c(this.id)?t===this.id.toString("binary"):typeof t=="string"&&Xe.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&Xe.isValid(t)&&t.length===12?t===this.id:t!=null&&(t instanceof Xe||t.toHexString)?t.toHexString()===this.toHexString():!1},getTimestamp:function(){var t=new Date,e;return _c(this.id)?e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:e=this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(Math.floor(e)*1e3),t},generate:function(t){typeof t!="number"&&(t=~~(Date.now()/1e3)),t=parseInt(t,10)%4294967295;var e=ik();return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255,up>>16&255,up>>8&255,up&255,q2>>8&255,q2&255,e>>16&255,e>>8&255,e&255)}};function ik(){return W2=(W2+1)%16777215}function ok(t,e){return e=e.toString(16),e.length===t?e:"00000000".substring(e.length,t)+e}var sk=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";Xe.prototype[sk]=function(){return"ObjectID("+this+")"};Xe.prototype.toJSON=Xe.prototype.toHexString;Xe.prototype.toString=Xe.prototype.toHexString});var Y2,sl,cp=it(()=>{vs();sl=class{constructor(e){this.id=ln("service");this.name="service";this.callbacks=new Map;this.status=!1;this.serviceType="default";this.routes=[];this.delegate=(Y2=globalThis==null?void 0:globalThis.document)==null?void 0:Y2.createDocumentFragment();this.protocols={};this.services={};this.setEndpointRoute=e=>{this.route=e};this.notify=(e,r,n)=>te(this,null,function*(){let i=[];return yield Promise.all(Array.from(this.callbacks).map((o,s)=>te(this,null,function*(){let a=yield o[1](e,r,n);a&&!(a instanceof Error)&&i.push(a)}))),i==null?void 0:i[0]});this.setEndpoint=e=>{this.endpoint=e};this.subscribe=e=>{if(e instanceof Function){let r=ln();return this.callbacks.set(r,e),r}else return};this.unsubscribe=e=>this.callbacks.delete(e);this.router=e}addEventListener(...e){var r;(r=this.delegate)==null||r.addEventListener.apply(this.delegate,e)}dispatchEvent(...e){var r;return(r=this.delegate)==null?void 0:r.dispatchEvent.apply(this.delegate,e)}removeEventListener(...e){var r;return(r=this.delegate)==null?void 0:r.removeEventListener.apply(this.delegate,e)}}});var K2,jt,fe,ak,Z2,X2,Q2=it(()=>{K2=Ct(J2());cp();vs();jt=t=>typeof t=="string"&&t.length===24?(0,K2.default)(t):t,fe=t=>typeof t=="object"?t.toString():t,ak=["profile","group","authorization","discussion","chatroom","comment","dataInstance","event","notification","schedule","date"],Z2=class extends sl{constructor(e,r={},n=!1,i=!0){super(e);this.name="structs";this.collections={};this.debug=!1;this.useAuths=!0;this.wipeDB=()=>te(this,null,function*(){return yield Promise.all(Object.values(this.collections).map(e=>{try{e.instance.remove({})}catch(r){}})),!0});this.db=r==null?void 0:r.db,this.debug=n,this.useAuths=i,this.mode=this.db&&r.mode?r.mode:"local",r.collections||(r.collections={}),ak.forEach(o=>{r.collections[o]||(r.collections[o]=this.db?{instance:this.db.collection(o)}:{},r.collections[o].reference={})}),this.collections=r.collections,this.wipeDB(),this.routes=[{route:"getUser",post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoUser(f,s[0]);else{let m=this.getLocalData("profile",{_id:s[0]});if(!m)d={user:{}};else{let v=!this.useAuths;if(this.useAuths&&(v=yield this.checkAuthorization(f,m)),v){let y=this.getLocalData("group",{ownerId:s[0]}),w=this.getLocalData("authorization",{ownerId:s[0]});d={user:m,groups:y,authorizations:w}}else d={user:{}}}}return this.debug&&console.log("getUser: user:",f,"input:",s,"output",d),d})},{route:"setUser",aliases:["addUser"],post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.setMongoUser(f,s[0]);else{let m=!this.useAuths;return this.useAuths&&(m=yield this.checkAuthorization(f,s[0],"WRITE")),m&&this.setLocalData(s[0]),!0}return this.debug&&console.log("setUser user:",f,"input:",s,"output",d),d})},{route:"getUsersByIds",aliases:["getUsers"],post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoUsersByIds(f,s[0]);else if(d=[],Array.isArray(s[0])){let m=this.getLocalData("profile",{_id:s[0]});m&&d.push(m)}return this.debug&&console.log("getUserByIds: user:",f,"input:",s,"output",d),d})},{route:"getUsersByRoles",post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoUsersByRoles(f,s[0]);else{let m=this.getLocalData("profile");d=[],m.forEach(v=>{v.userRoles[s[0]]&&d.push(v)})}return this.debug&&console.log("getUserByRoles: user:",f,"input:",s,"output",d),d})},{route:"deleteUser",aliases:["removeUser"],post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.deleteMongoUser(f,s[0]);else{d=!1;let m=this.getLocalData(s[0]);if(m){let v=!this.useAuths;this.useAuths&&(v=yield this.checkAuthorization(f,m,"WRITE")),v&&(d=this.deleteLocalData(m))}}return this.debug&&console.log("deleteUser: user:",f,"input:",s,"output",d),d})},{route:"setData",aliases:["setMongoData"],post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.setMongoData(f,s);else{let m=[];return d=[],yield Promise.all(s.map(v=>te(this,null,function*(){let y=this.getLocalData(v),w=!this.useAuths;this.useAuths&&(w=yield this.checkAuthorization(f,y,"WRITE")),w&&(this.collections[y.structType]||(this.collections[y.structType]=this.db?{instance:this.db.collection(y.structType)}:{},this.collections[y.structType].reference={}),this.setLocalData(y),d.push(y),y.structType!=="notification"&&m.push(y))}))),m.length>0&&this.checkToNotify(f,m,this.mode),this.debug&&console.log("setData:",f,s,d),!0}return this.debug&&console.log("setData: user:",f,"input:",s,"output",d),d})},{route:"getData",aliases:["getMongoData","getUserData"],post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoData(f,s[0],s[1],s[2],s[4],s[5]);else{d=[];let m;s[0]&&(m=this.getLocalData(s[0])),m&&s[1]&&(m=m.filter(v=>{if(v.ownerId===s[1])return!0})),m&&(yield Promise.all(m.map(v=>te(this,null,function*(){let y=this.getLocalData(fe(v._id)),w=!this.useAuths;this.useAuths&&(w=yield this.checkAuthorization(f,y)),w&&d.push(y)}))))}return this.debug&&console.log("getData: user:",f,"input:",s,"output",d),d})},{route:"getDataByIds",aliases:["getMongoDataByIds","getUserDataByIds"],post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoDataByIds(f,s[0],s[1],s[2]);else{d=[];let m;s[2]&&(m=this.getLocalData(s[2])),m&&s[1]&&(m=m.filter(v=>{if(v.ownerId===s[1])return!0})),m&&(yield Promise.all(m.map(v=>te(this,null,function*(){let y=this.getLocalData(fe(v._id)),w=!this.useAuths;this.useAuths&&(w=yield this.checkAuthorization(f,y)),w&&d.push(y)}))))}return this.debug&&console.log("getDataByIds: user:",f,"input:",s,"output",d),d})},{route:"getAllData",post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getAllUserMongoData(f,s[0],s[1]);else{let m=this.getLocalData(void 0,{ownerId:s[0]});d=[],yield Promise.all(m.map(v=>te(this,null,function*(){if(s[1]){if(s[1].indexOf(v.structType)<0){let y=!this.useAuths;this.useAuths&&(y=yield this.checkAuthorization(f,v)),y&&d.push(v)}}else{let y=!this.useAuths;this.useAuths&&(y=yield this.checkAuthorization(f,v)),y&&d.push(v)}})))}return this.debug&&console.log("getAllData: user:",f,"input:",s,"output",d),d})},{route:"deleteData",post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;return this.mode.includes("mongo")?d=yield this.deleteMongoData(f,s):(d=!1,yield Promise.all(s.map(m=>te(this,null,function*(){let v=this.getLocalData(m),y=!this.useAuths;this.useAuths&&(y=yield this.checkAuthorization(f,v,"WRITE")),y&&this.deleteLocalData(v),d=!0})))),this.debug&&console.log("deleteData: user:",f,"input:",s,"output",d),d})},{route:"getGroup",aliases:["getGroups"],post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoGroups(f,s[0],s[1]);else if(typeof s[1]=="string")d=this.getLocalData("group",{_id:s[1]});else{d=[];let m=this.getLocalData("group");s[0]?m.forEach(v=>{Object.keys(v.users).includes(s[0])&&d.push(v)}):m.forEach(v=>{Object.keys(v.users).includes(fe(f._id))&&d.push(v)})}return this.debug&&console.log("getGroups: user:",f,"input:",s,"output",d),d})},{route:"setGroup",post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d=yield this.setGroup(f,s[0],this.mode);return this.debug&&console.log("setGroup: user:",f,"input:",s,"output",d),d})},{route:"deleteGroup",post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.deleteMongoGroup(f,s[0]);else{let m=this.getLocalData("group",s[0]),v=!this.useAuths;m&&this.useAuths&&(v=yield this.checkAuthorization(f,m,"WRITE")),v&&(d=!0)}return this.debug&&console.log("deleteGroup: user:",f,"input:",s,"output",d),d})},{route:"setAuth",post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d=yield this.setAuthorization(f,s[0],this.mode);return this.debug&&console.log("setAuth: user:",f,"input:",s,"output",d),d})},{route:"getAuths",post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.getMongoAuthorizations(f,s[0],s[1]);else if(s[1]){let m=this.getLocalData("authorization",{_id:s[1]});m&&(d=[m])}else d=this.getLocalData("authorization",{ownerId:s[0]});return this.debug&&console.log("getAuths: user:",f,"input:",s,"output",d),d})},{route:"deleteAuth",post:(o,s,a)=>te(this,null,function*(){let f=o.USERS[a];if(!f)return!1;let d;if(this.mode.includes("mongo"))d=yield this.deleteMongoAuthorization(f,s[0]);else{d=!0;let m=this.getLocalData("authorization",{_id:s[0]});if(m){let v=!this.useAuths;this.useAuths&&(v=yield this.checkAuthorization(f,m,"WRITE")),v&&(d=this.deleteLocalData(m))}}return this.debug&&console.log("deleteAuth: user:",f,"input:",s,"output",d),d})}]}notificationStruct(e={}){let r="notification";return{structType:r,timestamp:Date.now(),_id:ln(r),note:"",alert:!1,ownerId:"",parentUserId:"",parent:{structType:e==null?void 0:e.structType,_id:fe(e==null?void 0:e._id)}}}checkToNotify(i){return te(this,arguments,function*(e,r=[],n=this.mode){if(r.length===0)return!1;if(typeof e=="string")for(let a in this.router.USERS){let f=this.router.USERS[a];fe(f._id)===e&&(e=f)}if(typeof e=="string"||e==null)return!1;let o={},s=[];if(r.forEach(a=>te(this,null,function*(){if((e==null?void 0:e._id)!==a.ownerId){let f=this.notificationStruct(a);f._id="notification_"+fe(a._id),f.ownerId=a.ownerId,f.note=a.structType,f.parentUserId=a.ownerId,a.alert&&(f.alert=a.alert),s.push(f),o[a.ownerId]=a.ownerId}if(a.users)Object.keys(a.users).forEach(f=>{if(f!==e._id){let d=this.notificationStruct(a);d._id="notification_"+fe(a._id),d.ownerId=f,d.note=a.structType,a.alert&&(d.alert=a.alert),d.parentUserId=a.ownerId,s.push(d),o[f]=f}});else{let f=[];if(n.includes("mongo")){let d=this.collections.authorization.instance.find({$or:[{authorizedId:e._id},{authorizerId:e._id}]});(yield d.count())>0&&(yield d.forEach(m=>f.push(m)))}else f=this.getLocalData("authorization",{authorizedId:e._id}),f.push(...this.getLocalData("authorization",{authorizerId:e._id}));f.length>0&&f.forEach(d=>{if(a.authorizerId===a.ownerId&&!o[a.authorizedId]&&d.status==="OKAY"&&d.authorizations.peer){let m=this.notificationStruct(a);m.ownerId=d.authorizedId,m._id="notification_"+fe(a._id),m.note=a.structType,m.parentUserId=a.ownerId,a.alert&&(m.alert=a.alert),s.push(m),o[m.ownerId]=m.ownerId}})}})),s.length>0){n.includes("mongo")?yield this.setMongoData(e,s):this.setLocalData(s);for(let a in o)this.router.sendMsg(a,"notifications",!0);return!0}else return!1})}setMongoData(n){return te(this,arguments,function*(e,r=[]){let i=!1;if(r.length>0){let o=!0,s="";if(yield Promise.all(r.map(a=>te(this,null,function*(){var f;if((fe(e==null?void 0:e._id)!==a.ownerId||fe(e._id)===a.ownerId&&((f=e.userRoles)==null?void 0:f.admincontrol))&&s!==a.ownerId&&(this.useAuths&&(o=yield this.checkAuthorization(e,a,"WRITE")),s=a.ownerId),o&&a.structType){this.collections[a.structType]||(this.collections[a.structType]=this.db?{instance:this.db.collection(a.structType)}:{},this.collections[a.structType].reference={});let d=JSON.parse(JSON.stringify(a));d._id&&delete d._id,a._id?fe(a._id).includes("defaultId")?(yield this.db.collection(a.structType).insertOne(d),i=!0):a.structType==="notification"?yield this.db.collection(a.structType).updateOne({parent:a.parent,_id:a._id},{$set:d},{upsert:!0,unique:!1}):yield this.db.collection(a.structType).updateOne({_id:jt(a._id)},{$set:d},{upsert:!0}):a.structType&&this.db.collection(a.structType).insertOne(d)}}))),i===!0){let a=[];return yield Promise.all(r.map((f,d)=>te(this,null,function*(){let m=JSON.parse(JSON.stringify(f));if(m._id&&m.structType!=="profile"&&delete m._id,f.structType!=="comment"){let v;f.structType!=="notification"&&(v=yield this.db.collection(m.structType).findOne(m)),v&&(v._id=fe(v._id),a.push(v))}else if(f.structType==="comment"){let v=f,y=JSON.parse(JSON.stringify(v));y._id&&delete y._id;let w=yield this.db.collection("comment").findOne(y),E=w==null?void 0:w.replyTo,I=r.find(O=>{if(fe(O._id)===E)return!0});if(I){let O=JSON.parse(JSON.stringify(I));O._id&&delete O._id;let A;if(yield Promise.all(["discussion","chatroom","comment"].map(F=>te(this,null,function*(){let Y=yield this.db.collection(F).findOne({_id:jt(E)});Y&&(A=Y)}))),A){let F=fe(w.parent._id),Y,H;F!==E?(Y=r.find(j=>{if(fe(j._id)===F)return!0}),Y&&(delete Y._id,yield Promise.all(["discussion","chatroom"].map(j=>te(this,null,function*(){let V=yield this.db.collection(j).findOne(Y);V&&(H=V)}))))):H=A;let Z=[w];A&&(A.replies.indexOf(fe(w._id))<0&&(A.replies.push(fe(w._id)),w.replyTo=fe(A._id)),Z.push(A)),H&&H.comments.indexOf(w._id)<0&&(H.comments.push(fe(w._id)),w.parent._id=fe(H._id)),yield Promise.all(Z.map(j=>te(this,null,function*(){let V=JSON.parse(JSON.stringify(j));delete V._id,yield this.db.collection(j.structType).updateOne({_id:jt(j._id)},{$set:V},{upsert:!1})}))),[...a].reverse().forEach((j,V)=>{Z.find(S=>{if(fe(j._id)===fe(S._id))return!0})&&a.splice(a.length-V-1,1)}),a.push(...Z)}}else w&&a.push(w)}}))),this.checkToNotify(e,a),a}else{let a=[];return r.forEach(f=>{f.structType!=="notification"&&a.push(f)}),this.checkToNotify(e,a),!0}}else return!1})}setMongoUser(e,r){return te(this,null,function*(){var n;if(r._id){let i=jt(r._id),o=i!==r._id?{_id:i}:{id:r.id};if((yield this.collections.profile.instance.findOne(o))&&(fe(e._id)!==r.ownerId||fe(e._id)===r.ownerId&&((n=e.userRoles)==null?void 0:n.admincontrol))){let f=!this.useAuths;if(this.useAuths&&(f=yield this.checkAuthorization(e,r,"WRITE")),!f)return!1}let a=JSON.parse(JSON.stringify(r));return this.router.DEBUG&&console.log("RETURNS PROFILE",r),yield this.collections.profile.instance.updateOne(o,{$set:a},{upsert:!0}),e=yield this.collections.profile.instance.findOne(o),this.checkToNotify(e,[r]),e}else return!1})}setGroup(i){return te(this,arguments,function*(e,r={},n=this.mode){if(r._id){let o;if(n.includes("mongo")?o=yield this.collections.group.instance.findOne({name:r.name}):o=this.getLocalData("group",{_id:fe(r._id)}),o&&(o.ownerId!==r.ownerId||r.admins.indexOf(fe(e._id))<0))return!1;if(fe(e._id)!==r.ownerId){let w=!this.useAuths;if(this.useAuths&&(w=yield this.checkAuthorization(e,r,"WRITE")),!w)return!1}let s=[];Object.keys(r.users).forEach(w=>{s.push({email:w},{id:w},{username:w})});let a={},f={};if(n.includes("mongo")){let w=this.collections.profile.instance.find({$or:s});(yield w.count())>0&&(yield w.forEach(E=>{a[fe(E._id)]=E,f[fe(E._id)]=!0}))}else s.forEach(w=>{let E=this.getLocalData("profile",w);E.length>0&&(a[fe(E[0]._id)]=E[0],f[fe(E[0]._id)]=!0)});r.users=f;let d={},m={},v={};Object.keys(a).forEach(w=>{let E=a[w];(r.admins[fe(E._id)]||r.admins[E.email]||r.admins[E.username]||r.admins[r.ownerId])&&(d[fe(E._id)]||(d[fe(E._id)]=!0)),(r.peers[fe(E._id)]||r.peers[E.email]||r.peers[E.username]||r.peers[r.ownerId])&&(m[fe(E._id)]||(m[fe(E._id)]=!0)),(r.clients[fe(E._id)]||r.clients[E.email]||r.clients[E.username]||r.clients[r.ownerId])&&(v[fe(E._id)]||(v[fe(E._id)]=!0))}),r.admins=d,r.peers=m,r.clients=v;let y=JSON.parse(JSON.stringify(r));return y._id&&delete y._id,n.includes("mongo")?fe(r._id).includes("defaultId")?(yield this.db.collection(r.structType).insertOne(y),delete r._id,r=yield this.db.collection(r.structType).findOne(r),r._id=fe(r._id)):yield this.collections.group.instance.updateOne({_id:jt(r._id)},{$set:y},{upsert:!0}):this.setLocalData(r),this.checkToNotify(e,[r],this.mode),r}else return!1})}getMongoUser(e,r="",n=!1){return te(this,null,function*(){return new Promise(i=>te(this,null,function*(){var a;let o=[{email:r},{id:r},{username:r}];try{o.push({_id:jt(r)})}catch(f){}let s=yield this.collections.profile.instance.findOne({$or:o});if(!s||s==null)i({});else if(s._id=fe(s._id),s.ownerId||(s.ownerId=s._id),s&&n===!1){if(fe(e._id)!==s._id||fe(e._id)===s._id&&((a=e.userRoles)==null?void 0:a.admincontrol)){let y=!this.useAuths;this.useAuths&&(y=yield this.checkAuthorization(e,s)),y||i(void 0)}let f=[],d=this.collections.authorization.instance.find({ownerId:s._id});(yield d.count())>0&&(yield d.forEach(y=>f.push(y)));let m=this.collections.group.instance.find({users:{$all:[s._id]}}),v=[];(yield m.count())>0&&(yield m.forEach(y=>v.push(y))),i({user:s,authorizations:f,groups:v})}else i({user:s})}))})}getMongoUsersByIds(){return te(this,arguments,function*(e={},r=[]){let n=[];r.forEach(o=>{try{n.push({_id:jt(o)})}catch(s){}});let i=[];if(n.length>0){let o=this.collections.profile.instance.find({$or:n});(yield o.count())>0&&(yield o.forEach(s=>{i.push(s)}))}return i})}getMongoUsersByRoles(){return te(this,arguments,function*(e={},r={}){let n=this.collections.profile.instance.find({userRoles:{$all:r}}),i=[];return(yield n.count())>0&&(yield n.forEach(o=>{i.push(o)})),i})}getMongoDataByIds(e,r,n,i){return te(this,null,function*(){if(r.length>0){let o=[];r.forEach(a=>{let f={_id:jt(a)};n&&(f.ownerId=n),o.push(f)});let s=[];if(!i)yield Promise.all(Object.keys(this.collections).map(a=>te(this,null,function*(){let f=yield this.db.collection(a).find({$or:o});if((yield f.count())>0){let d=!0,m="";yield f.forEach(v=>te(this,null,function*(){var y;(fe(e._id)!==v.ownerId||fe(e._id)===v.ownerId&&((y=e.userRoles)==null?void 0:y.admincontrol))&&m!==v.ownerId&&(this.useAuths&&(d=yield this.checkAuthorization(e,v)),m=v.ownerId),d&&s.push(v)}))}})));else{let a=yield this.db.collection(i).find({$or:o});if((yield a.count())>0){let f=!0,d="";yield a.forEach(m=>te(this,null,function*(){var v;(fe(e._id)!==m.ownerId||fe(e._id)===m.ownerId&&((v=e.userRoles)==null?void 0:v.admincontrol))&&d!==m.ownerId&&(this.useAuths&&(f=yield this.checkAuthorization(e,m)),d=m.ownerId),f&&s.push(m)}))}}return s}})}getMongoData(a,f,d){return te(this,arguments,function*(e,r,n,i={},o=0,s=0){n||(n=i==null?void 0:i.ownerId),i||(i={}),i._id&&(i._id=jt(i._id));let m=[],v=!0,y="";if(!r&&!n&&!i)return[];if(!r&&n&&Object.keys(i).length===0)return yield this.getAllUserMongoData(e,n);if((!i||Object.keys(i).length===0)&&n&&r){let w=this.db.collection(r).find({ownerId:n}).sort({$natural:-1}).skip(s);o>0&&w.limit(o),(yield w.count())>0&&(yield w.forEach(E=>te(this,null,function*(){var I;(fe(e._id)!==E.ownerId||fe(e._id)===E.ownerId&&((I=e.userRoles)==null?void 0:I.admincontrol))&&y!==E.ownerId&&(this.useAuths&&(v=yield this.checkAuthorization(e,E)),y=E.ownerId),v===!0&&m.push(E)})))}else if(Object.keys(i).length>0&&n){let w=yield this.db.collection(r).findOne(qm({ownerId:n},i));w&&m.push(w)}else Object.keys(i).length>0&&!n&&(yield Promise.all(Object.keys(this.collections).map(w=>te(this,null,function*(){var I;let E=yield this.db.collection(w).findOne(i);if(E){(fe(e._id)!==E.ownerId||fe(e._id)===E.ownerId&&((I=e.userRoles)==null?void 0:I.admincontrol))&&y!==E.ownerId&&(this.useAuths&&(v=yield this.checkAuthorization(e,E)),y=E.ownerId),m.push(E);return}}))));return v?m:[]})}getAllUserMongoData(i,o){return te(this,arguments,function*(e,r,n=[]){let s=[],a=!0,f="";return yield Promise.all(Object.keys(this.collections).map((d,m)=>te(this,null,function*(){var v;if(a&&n.indexOf(d)<0){let y=this.db.collection(d).find({ownerId:r}),w=yield y.count();for(let E=0;E<w;E++){let I=yield y.next();(fe(e._id)!==r||fe(e._id)===r&&((v=e.userRoles)==null?void 0:v.admincontrol))&&f!==r&&(this.useAuths&&(a=yield this.checkAuthorization(e,I)),f=r),a&&s.push(I)}}}))),a?s:[]})}getMongoDataByRefs(n){return te(this,arguments,function*(e,r=[]){let i=[];if(i.length>0){let o="";r.forEach(s=>te(this,null,function*(){var a;if(s.structType&&fe(s._id)){let f=yield this.db.collection(s.structType).findOne({_id:jt(s._id)});if(f){let d=!0;(fe(e._id)!==f.ownerId||fe(e._id)===f.ownerId&&((a=e.userRoles)==null?void 0:a.admincontrol))&&o!==f.ownerId&&(this.useAuths&&(d=yield this.checkAuthorization(e,f)),o=f.ownerId),d===!0&&i.push(f)}}}))}return i})}getMongoAuthorizations(i){return te(this,arguments,function*(e,r=fe(e._id),n=""){var s;let o=[];if(n.length===0){let a=this.collections.authorization.instance.find({ownerId:r});(yield a.count)>0&&(yield a.forEach(f=>{o.push(f)}))}else o.push(yield this.collections.authorization.instance.findOne({_id:jt(n),ownerId:r}));if(fe(e._id)!==((s=o[0])==null?void 0:s.ownerId)){let a=!this.useAuths;if(this.useAuths&&(a=yield this.checkAuthorization(e,o[0])),!a)return}return o})}getMongoGroups(i){return te(this,arguments,function*(e,r=fe(e._id),n=""){let o=[];if(n.length===0){let s=this.collections.group.instance.find({users:{$all:[r]}});(yield s.count)>0&&(yield s.forEach(a=>{o.push(a)}))}else try{o.push(yield this.collections.group.instance.findOne({_id:jt(n),users:{$all:[r]}}))}catch(s){}return o})}deleteMongoData(n){return te(this,arguments,function*(e,r=[]){let i=[];yield Promise.all(r.map(s=>te(this,null,function*(){try{let a=jt(s._id),f=yield this.db.collection(s.structType).findOne({_id:a});if(f){i.push(f);let d=yield this.collections.notifications.instance.find({parent:{structType:s.structType,_id:fe(s._id)}}),m=yield d.count();for(let v=0;v<m;v++){let y=yield d.next();y&&i.push(y)}}}catch(a){}})));let o="";return yield Promise.all(i.map((s,a)=>te(this,null,function*(){var d;let f=!0;(s.ownerId!==fe(e._id)||fe(e._id)===s.ownerId&&((d=e.userRoles)==null?void 0:d.admincontrol))&&s.ownerId!==o&&(o=s.ownerId,this.useAuths&&(f=yield this.checkAuthorization(e,s,"WRITE"))),f&&(yield this.db.collection(s.structType).deleteOne({_id:jt(s._id)}),s.users&&Object.keys(s.users).forEach(m=>{m!==fe(e._id)&&m!==s.ownerId&&this.router.sendMsg(m,"deleted",fe(s._id))}),s.ownerId!==e._id&&this.router.sendMsg(s.ownerId,"deleted",fe(s._id)))}))),!0})}deleteMongoUser(e,r){return te(this,null,function*(){var n;if(fe(e._id)!==r||fe(e._id)===r&&((n=e.userRoles)==null?void 0:n.admincontrol)){let i=yield this.collections.profile.instance.findOne({id:r}),o=!this.useAuths;if(this.useAuths&&(o=yield this.checkAuthorization(e,i,"WRITE")),!o)return!1}return yield this.collections.profile.instance.deleteOne({id:r}),fe(e._id)!==r&&this.router.sendMsg(r,"deleted",r),!0})}deleteMongoGroup(e,r){return te(this,null,function*(){var i;let n=yield this.collections.group.instance.findOne({_id:jt(r)});if(n){if(fe(e._id)!==n.ownerId||fe(e._id)===n.ownerId&&((i=e.userRoles)==null?void 0:i.admincontrol)){let o=!this.useAuths;if(this.useAuths&&(o=yield this.checkAuthorization(e,n,"WRITE")),!o)return!1}return n.users&&Object.keys(n.users).forEach(o=>{this.router.sendMsg(n.authorizerId,"deleted",fe(n._id))}),yield this.collections.group.instance.deleteOne({_id:jt(r)}),!0}else return!1})}deleteMongoAuthorization(e,r){return te(this,null,function*(){var i;let n=yield this.collections.authorization.instance.findOne({_id:jt(r)});if(n){if(fe(e._id)!==n.ownerId||fe(e._id)===n.ownerId&&((i=e.userRoles)==null?void 0:i.admincontrol)){let o=!this.useAuths;if(this.useAuths&&(o=yield this.checkAuthorization(e,n,"WRITE")),!o)return!1}return n.associatedAuthId&&(this.router.DEBUG&&console.log(n),yield this.collections.authorization.instance.deleteOne({_id:jt(n.associatedAuthId)}),n.authorizerId&&n.authorizerId!==fe(e._id)?this.router.sendMsg(n.authorizerId,"deleted",fe(n._id)):n.authorizedId&&n.authorizedId!==fe(e._id)&&this.router.sendMsg(n.authorizedId,"deleted",fe(n._id))),yield this.collections.authorization.instance.deleteOne({_id:jt(r)}),!0}else return!1})}setAuthorization(i,o){return te(this,arguments,function*(e,r,n=this.mode){var v;let s,a;if(n.includes("mongo")?(s=(yield this.getMongoUser(e,r.authorizedId,!0)).user,a=(yield this.getMongoUser(e,r.authorizerId,!0)).user):(s=this.getLocalData("profile",{_id:r.authorizedId})[0],a=this.getLocalData("profile",{_id:r.authorizerId})[0]),!s||!a)return!1;if(r.authorizedId!==fe(s._id)&&(r.authorizedId=fe(s._id)),r.authorizerId!==fe(a._id)&&(r.authorizerId=fe(a._id)),r.authorizedName||(s.username?r.authorizedName=s.username:s.email&&(r.authorizedName=s.email)),r.authorizerName||(a.username?r.authorizerName=a.username:a.email&&(r.authorizerName=a.email)),(fe(e._id)!==r.ownerId||fe(e._id)===r.ownerId&&((v=e.userRoles)==null?void 0:v.admincontrol))&&fe(e._id)!==r.authorizedId&&fe(e._id)!==r.authorizerId){let y=!this.useAuths;if(this.useAuths&&(y=yield this.checkAuthorization(e,r,"WRITE")),!y)return!1}let f=[];if(n.includes("mongo")){let y=this.collections.authorization.instance.find({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId}]});(yield y.count())>0&&(yield y.forEach(w=>f.push(w)))}else{let y=this.getLocalData("authorization",{authorizedId:r.authorizedId});Array.isArray(y)&&y.forEach(w=>{w.authorizerId===r.authorizerId&&f.push(w)})}let d;Array.isArray(f)&&f.forEach(y=>te(this,null,function*(){if(y.ownerId!==fe(e._id)){r.authorizerId===fe(e._id)?(y.authorizations=r.authorizations,y.structs=r.structs,y.excluded=r.excluded,y.expires=r.expires,y.status="OKAY",r.status="OKAY"):(r.authorizations=y.authorizations,r.structs=y.structs,r.excluded=y.excluded,r.expires=y.expires,y.status="OKAY",r.status="OKAY"),r.associatedAuthId=fe(y._id),y.associatedAuthId=fe(r._id),d=y;let w=JSON.parse(JSON.stringify(y));n.includes("mongo")?(delete w._id,yield this.collections.authorization.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:y.ownerId}]},{$set:w},{upsert:!0})):this.setLocalData(w)}}));let m=JSON.parse(JSON.stringify(r));if(n.includes("mongo")?(delete m._id,yield this.collections.authorization.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:r.ownerId}]},{$set:m},{upsert:!0})):this.setLocalData(m),fe(r._id).includes("defaultId")&&n.includes("mongo")){let y=yield this.collections.authorization.instance.findOne(m);if(y&&(r._id=fe(y._id),d)){let w=yield this.collections.authorization.instance.findOne({$and:[{authorizedId:d.authorizedId},{authorizerId:d.authorizerId},{ownerId:d.ownerId}]});if(w){w.associatedAuthId=fe(r._id);let E=JSON.parse(JSON.stringify(w));delete E._id,yield this.collections.authorization.instance.updateOne({$and:[{authorizedId:w.authorizedId},{authorizerId:w.authorizerId},{ownerId:w.ownerId}]},{$set:E},{upsert:!0}),this.checkToNotify(e,[w])}}}return r})}checkAuthorization(o,s){return te(this,arguments,function*(e,r,n="READ",i=this.mode){if(!e||!r)return!1;if(typeof e=="object"){if(r.ownerId===fe(e._id)&&!e.userRoles.admincontrol)return!0}else if(typeof e=="string"){if(r.ownerId===e)return!0;e={_id:e}}let a,f;if(i.includes("mongo")?(a=yield this.collections.authorization.instance.findOne({$or:[{authorizedId:fe(e._id),authorizerId:r.ownerId,ownerId:fe(e._id)},{authorizedId:r.ownerId,authorizerId:fe(e._id),ownerId:fe(e._id)}]}),f=yield this.collections.authorization.instance.findOne({$or:[{authorizedId:fe(e._id),authorizerId:r.ownerId,ownerId:r.ownerId},{authorizedId:r.ownerId,authorizerId:fe(e._id),ownerId:r.ownerId}]})):(a=this.getLocalData("authorization",{ownerId:fe(e._id)}).find(m=>{if(m.authorizedId===fe(e._id)&&m.authorizerId===r.ownerId)return!0}),f=this.getLocalData("authorization",{ownerId:r.ownerId}).find(m=>{if(m.authorizedId===fe(e._id)&&m.authorizerId===r.ownerId)return!0})),!a||!f)return!1;let d=!1;return a.status==="OKAY"&&f.status==="OKAY"&&(r.structType==="group"?a.authorizations[r.name+"_admin"]&&f.authorizations[r.name+"_admin"]?d=!0:d=!1:a.authorizations.peer&&f.authorizations.peer||a.authorizations.admincontrol&&f.authorizations.admincontrol||a.structIds[fe(r._id)]&&f.structIds[fe(r._id)]?d=!0:a.excluded[r.structType]&&r.ownerId===fe(e._id)&&n==="WRITE"&&(d=!1)),d})}overwriteLocalData(e){if(Array.isArray(e))e.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:fe(r._id)});!n||(n==null?void 0:n.length)===0?this.setLocalData(r):Object.assign(n,r)});else{let r=this.getLocalData(e.structType,{ownerId:e.ownerId,_id:fe(e._id)});!r||(r==null?void 0:r.length)===0?this.setLocalData(e):Object.assign(r,e)}}setLocalData(e){let r=n=>{var s;let i=n.structType,o=(s=this.collections[i])==null?void 0:s.reference;o||(o={},this.collections[i]||(this.collections[i]={}),this.collections[i].reference=o),o[fe(n._id)]=n};Array.isArray(e)?e.forEach(n=>{r(n)}):r(e)}getLocalData(e,r){var a;let n,i,o;if(typeof r=="object"?(n=r.ownerId,i=Object.keys(r).filter(d=>d!="ownerId")[0],o=r[i]):o=r,!e&&!n&&!i&&!o)return[];let s=[];if(!e&&(n||i))return Object.values(this.collections).forEach(f=>{if(f=f.reference,(i==="_id"||i==="id")&&o){let d=f[o];d&&s.push(d)}else Object.values(f).forEach(d=>{i&&o?d[i]===o&&d.ownerId===n&&s.push(d):d.ownerId===n&&s.push(d)})}),s;{let f=(a=this.collections[e])==null?void 0:a.reference;if(!f)return s;if(!i&&!n)return Object.values(f).forEach(d=>{s.push(d)}),s;if((i==="_id"||i==="id")&&o)return fe(f[o]);Object.keys(f).forEach(d=>{let m=f[d];i&&o&&!n?m[i]===o&&s.push(m):n&&!i?m.ownerId===n&&s.push(m):n&&i&&o&&m.ownerId===n&&m[i]&&m[i]===o&&s.push(m)})}return s}deleteLocalData(e){if(!e)throw new Error("Struct not supplied");return!e.structType||!e._id?!1:(this.collections[e.structType]&&delete this.collections[e.structType].reference[e._id],!0)}},X2=Z2});var eS,Sc,fp=it(()=>{P2();V2();vs();Q2();eS=class extends lp{constructor(e={},r){super(r);this.tablet=new C2;this.collections=this.tablet.collections;this.id=ln();this.baseServerCallback=e=>{let r=e;if(typeof e=="object"&&(e==null?void 0:e.structType)&&(r=[e]),Array.isArray(r)){let n=r.filter(i=>{if(i.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(n),r.forEach(i=>{var o,s,a,f,d,m,v;if(typeof i=="object")if((!i.structType||i.structType==="USER")&&(i.email?i.structType="user":i.structType="uncategorized"),i.structType==="user"||i.structType==="authorization"||i.structType==="group"){if(i.structType==="user")i._id=i.id;else if(i.structType==="group"&&this.currentUser){let y=!1;i.admins[(o=this.currentUser)==null?void 0:o._id]&&!this.currentUser.userRoles[i.name+"_admin"]?(this.currentUser.userRoles[i.name+"_admin"]=!0,y=!0):!i.admins[(s=this.currentUser)==null?void 0:s._id]&&this.currentUser.userRoles[i.name+"_admin"]&&(delete this.currentUser.userRoles[i.name+"_admin"],y=!0),i.admins[(a=this.currentUser)==null?void 0:a._id]&&!this.currentUser.userRoles[i.name+"_peer"]?(this.currentUser.userRoles[i.name+"_peer"]=!0,y=!0):!i.admins[(f=this.currentUser)==null?void 0:f._id]&&this.currentUser.userRoles[i.name+"_peer"]&&(delete this.currentUser.userRoles[i.name+"_peer"],y=!0),i.admins[(d=this.currentUser)==null?void 0:d._id]&&!this.currentUser.userRoles[i.name+"_client"]?(this.currentUser.userRoles[i.name+"_client"]=!0,y=!0):!i.admins[(m=this.currentUser)==null?void 0:m._id]&&this.currentUser.userRoles[i.name+"_client"]&&(delete this.currentUser.userRoles[i.name+"_client"],y=!0),y&&this.setUser(this.currentUser)}this.setLocalData(i)}else i.structType==="notification"?(this.getLocalData("notification",{ownerId:i.ownerId,_id:i.parent._id})?this.setLocalData(i):this.getLocalData(i.structType,{_id:i.parent._id})||this.overwriteLocalData(i),i.ownerId===((v=this.currentUser)==null?void 0:v._id)&&(i.parent.structType==="user"||i.parent.structType==="dataInstance"||i.parent.structType==="schedule"||i.parent.structType==="authorization")&&this.resolveNotifications([i],!0)):this.overwriteLocalData(i)})}(e==null?void 0:e.message)==="notifications"&&this.checkForNotifications(),(e==null?void 0:e.message)==="deleted"&&this.deleteLocalData(e.data),this.onResult(e)};this.ping=(e=r=>{console.log(r)})=>te(this,null,function*(){var n;let r=(n=yield this.send("ping"))==null?void 0:n[0];return e(r),r});this.sendMessage=(e="",r="",n=void 0,i=o=>{console.log(o)})=>te(this,null,function*(){var a;let o=[e,r];n&&(o[2]=n);let s=(a=yield this.send("sendMessage",...o))==null?void 0:a[0];return i(s),s});this.getUser=(...n)=>te(this,[...n],function*(e="",r=this.baseServerCallback){var o;let i=(o=yield this.send("structs/getUser",e))==null?void 0:o[0];return r(i),i});this.getUsers=(...n)=>te(this,[...n],function*(e=[],r=this.baseServerCallback){let i=yield this.send("structs/getUsersByIds",...e);return r(i),i});this.getUsersByRoles=(...n)=>te(this,[...n],function*(e={},r=this.baseServerCallback){let i=yield this.send("structs/getUsersByRoles",e);return r(i),i});this.getAllUserData=(i,...o)=>te(this,[i,...o],function*(e,r=[],n=this.baseServerCallback){let s=yield this.send("structs/getAllData",e,r);return n(s),s});this.getData=(a,f,d,...m)=>te(this,[a,f,d,...m],function*(e,r,n,i=0,o=0,s=this.baseServerCallback){let v=yield this.send("structs/getData",e,r,n,i,o);return s(v),v});this.getDataByIds=(...o)=>te(this,[...o],function*(e=[],r,n,i=this.baseServerCallback){let s=yield this.send("structs/getDataByIds",e,r,n);return i(s),s});this.getStructParentData=(n,...i)=>te(this,[n,...i],function*(e,r=this.baseServerCallback){var a,f,d;if(!e.parent)return;let o=[(a=e.parent)==null?void 0:a.structType,"_id",(f=e.parent)==null?void 0:f._id],s=(d=yield this.send("structs/getData",...o))==null?void 0:d[0];return r(s),s});this.setUser=(...n)=>te(this,[...n],function*(e={},r=this.baseServerCallback){var o;let i=(o=yield this.send("structs/setUser",this.stripStruct(e)))==null?void 0:o[0];return r(i),i});this.checkUserToken=(i,...o)=>te(this,[i,...o],function*(e,r=this.currentUser,n=this.baseServerCallback){if(!e)return!1;let s=!1;for(let a in e){let f=this.userStruct();if(r[a]&&a!=="_id")if(Array.isArray(e[a])){for(let d=0;d<r[a].length;d++)if(e[a].indexOf(r[a][d])<0){r[a]=e[a],s=!0;break}if(!s){for(let d=0;d<e[a].length;d++)if(r[a].indexOf(e[a][d])<0){r[a]=e[a],s=!0;break}}}else r[a]!==e[a]&&(r[a]=e[a],s=!0);else!r[a]&&f[a]&&(r[a]=e[a],s=!0)}return s&&(yield this.setUser(r,n))});this.updateServerData=(...n)=>te(this,[...n],function*(e=[],r=this.baseServerCallback){let i=new Array;e.forEach(s=>{i.push(this.stripStruct(s))});let o=yield this.send("structs/setData",...i);return r(o),o});this.deleteData=(...n)=>te(this,[...n],function*(e=[],r=this.baseServerCallback){var s;let i=[];e.forEach(a=>{if(typeof a=="object")(a==null?void 0:a.structType)&&(a==null?void 0:a._id)&&(i.push({structType:a.structType,_id:a._id}),this.deleteLocalData(a));else if(typeof a=="string"){let f=this.getLocalData(void 0,{_id:a});f&&!Array.isArray(f)?i.push({structType:f.structType,_id:f._id}):i.push({_id:a})}});let o=(s=yield this.send("structs/deleteData",...i))==null?void 0:s[0];return r(o),o});this.deleteUser=(n,...i)=>te(this,[n,...i],function*(e,r=this.baseServerCallback){var s;if(!e)return;let o=(s=yield this.send("structs/deleteUser",e))==null?void 0:s[0];return r(o),o});this.setGroup=(...n)=>te(this,[...n],function*(e={},r=this.baseServerCallback){var o;let i=(o=yield this.send("structs/setGroup",this.stripStruct(e)))==null?void 0:o[0];return r(i),i});this.getGroups=(...i)=>te(this,[...i],function*(e=this.currentUser._id,r="",n=this.baseServerCallback){let o=yield this.send("structs/getGroups",e,r);return n(o),o});this.deleteGroup=(n,...i)=>te(this,[n,...i],function*(e,r=this.baseServerCallback){var s;if(!e)return;this.deleteLocalData(e);let o=(s=yield this.send("structs/deleteGroup",e))==null?void 0:s[0];return r(o),o});this.setAuthorization=(...n)=>te(this,[...n],function*(e={},r=this.baseServerCallback){var o;let i=(o=yield this.send("structs/setAuth",this.stripStruct(e)))==null?void 0:o[0];return r(i),i});this.getAuthorizations=(...o)=>te(this,[...o],function*(e=(i=>(i=this.currentUser)==null?void 0:i._id)(),r="",n=this.baseServerCallback){if(e===void 0)return;let s=yield this.send("structs/getAuths",e,r);return n(s),s});this.deleteAuthorization=(n,...i)=>te(this,[n,...i],function*(e,r=this.baseServerCallback){var s;if(!e)return;this.deleteLocalData(e);let o=(s=yield this.send("structs/deleteAuth",e))==null?void 0:s[0];return r(o),o});this.checkForNotifications=(...n)=>te(this,[...n],function*(e=(r=>(r=this.currentUser)==null?void 0:r._id)()){return yield this.getData("notification",e)});this.resolveNotifications=(...i)=>te(this,[...i],function*(e=[],r=!0,n=this.currentUser){if(!n||e.length===0)return;let o=[],s=[],a=[],f=!1;if(e.length===0&&(e=this.getLocalData("notification",{ownerId:n._id})),e.forEach(d=>{d.parent.structType==="user"&&(f=!0),a.push(d.parent.structType),o.push(d.parent._id),s.push(d._id),this.deleteLocalData(d)}),this.deleteData(e),r){if(a.reverse().forEach((d,m)=>{d==="user"&&(this.getUser(o[m]),o.splice(o.length-m-1,1))}),o.length===1)return yield this.getDataByIds(o,void 0,e[0].parent.structType);if(o.length>0)return yield this.getDataByIds(o)}return!0});this.setAuthorizationsByGroup=(...r)=>te(this,[...r],function*(e=this.currentUser){let n=this.getLocalData("authorization",{ownerId:e._id}),i=[];if(yield Promise.all(Object.keys(e.userRoles).map(o=>te(this,null,function*(){let a=o.split("_")[0],f;if(o.includes("client")?f=a+"_peer":o.includes("peer")?f=a+"_client":o.includes("admin")&&(f=a+"_owner"),f){let d=yield this.getUsersByRoles([f]);d&&(yield Promise.all(d.map(m=>te(this,null,function*(){let v=m.username;v||(v=m.email),v||(v=m._id);let y=e.username;if(y||(y=e.email),y||(y=e._id),v!==y){if(o.includes("client")){if(!n.find(E=>{if(E.authorizerId===m._id&&E.authorizedId===e._id)return!0})){let E=yield this.authorizeUser(Bn.ProfileStruct("user",e,e),m._id,v,e._id,y,{peer:!0},void 0,{group:a});i.push(E)}}else if(o.includes("peer")&&!n.find(E=>{if(E.authorizedId===m._id&&E.authorizerId===e._id)return!0})){let E=yield this.authorizeUser(Bn.ProfileStruct("user",e,e),e._id,y,m._id,v,{peer:!0},void 0,{group:a});i.push(E)}}}))))}}))),i.length>0)return i});this.deleteRoom=e=>te(this,null,function*(){var n;if(!e)return!1;let r=[e];return(n=e.comments)==null||n.forEach(i=>{let o=this.getLocalData("comment",{_id:i});r.push(o)}),e?yield this.deleteData(r):!1});this.deleteComment=e=>te(this,null,function*(){var a,f,d;let r=[e],n=(m=e)=>{(m==null?void 0:m.replies)&&m.replies.forEach(v=>{let y=this.getLocalData("comment",{_id:v});y&&(y.replies.length>0&&y.replies.forEach(w=>{n(w)}),r.push(y))})};n(e);let i=this.getLocalData((a=e.parent)==null?void 0:a.structType,{_id:(f=e.parent)==null?void 0:f._id}),o=[];i&&(o=[i],r.forEach(m=>{var w,E;let v=(w=i.replies)==null?void 0:w.indexOf(m._id);v>-1&&i.replies.splice(v,1);let y=(E=i.comments)==null?void 0:E.indexOf(m._id);y>-1&&i.comments.splice(y,1)}));let s=this.getLocalData("comment",{_id:e.replyTo});if((s==null?void 0:s._id)!==(i==null?void 0:i._id)){let m=(d=s.replies)==null?void 0:d.indexOf(i._id);m>-1&&s.replies.splice(m,1),o.push(s)}return o.length>0&&(yield this.updateServerData(o)),yield this.deleteData(r)});this.getUserDataByAuthorization=(a,f,d,...m)=>te(this,[a,f,d,...m],function*(e,r,n,i=0,o=0,s=this.baseServerCallback){let v=e.authorizerId;if(v)return new Promise(y=>te(this,null,function*(){this.getUser(v,w=>te(this,null,function*(){r?yield this.getData(r,v,n,i,o,s):yield this.getAllUserData(v,["notification"],s),y(w),s(w)}))}))});this.getUserDataByAuthorizationGroup=(...a)=>te(this,[...a],function*(e="",r,n,i=0,o=0,s=this.baseServerCallback){let f=this.getLocalData("authorization"),d=[];return yield Promise.all(f.map(m=>te(this,null,function*(){var v;if((v=m.groups)==null?void 0:v.includes(e)){let y=m.authorizerId;if(y){let w,E=yield this.getUser(y,s);E&&d.push(E),r?w=yield this.getData(r,y,n,i,o,s):w=yield this.getAllUserData(y,["notification"],s),w&&d.push(w)}return!0}}))),d});this.getLocalUserPeerIds=(e=this.currentUser)=>{if(!e)return[];let r=[];return this.getLocalData("authorization",e._id).forEach(i=>{i.authorizations.peer&&i.authorizerId===e._id&&r.push(i.authorizedId)}),r};this.authorizeUser=(v,...y)=>te(this,[v,...y],function*(e,r="",n="",i="",o="",s={},a={},f={},d={},m=!1){if(!e)return;let w=this.createStruct("authorization",void 0,e,void 0);return w.authorizedId=i,w.authorizedName=o,w.authorizerId=r,w.authorizerName=n,w.authorizations=s,w.structs=a,w.excluded=f,w.groups=d,w.expires=m,w.status="PENDING",w.associatedAuthId="",w.ownerId=e._id,w=yield this.setAuthorization(w),w});this.addGroup=(f,...d)=>te(this,[f,...d],function*(e,r="",n="",i={},o={},s={},a=!0){if(!e)return;let m=this.createStruct("group",void 0,e);return m.name=r,m.details=n,m.admins=i,m.peers=o,m.clients=s,m.users={},Object.assign(m.users,m.admins),Object.assign(m.users,m.peers),Object.assign(m.users,m.clients),m.ownerId=e._id,a&&(m=yield this.setGroup(m)),m});this.addData=(f,...d)=>te(this,[f,...d],function*(e,r="",n="",i="",o=[],s=!1,a=!0){if(!e)return;let m=this.createStruct("dataInstance",void 0,e);return m.author=r,m.title=n,m.type=i,m.data=o,m.expires=s,m.ownerId=e._id,a&&(m=yield this.updateServerData([m])[0]),m});this.addEvent=(v,...y)=>te(this,[v,...y],function*(e,r="",n="",i="",o=0,s=0,a=0,f=[],d={},m=!0){if(!e)return;Object.keys(d).length===0&&(d=this.getLocalUserPeerIds(e));let w=this.createStruct("event",void 0,e);return w.author=r,w.event=n,w.notes=i,w.startTime=o,w.endTime=s,w.grade=a,w.attachments=f,w.users=d,w.ownerId=e._id,m&&(w=yield this.updateServerData([w])[0]),w});this.addChatroom=(a,...f)=>te(this,[a,...f],function*(e,r="",n="",i=[],o={},s=!0){if(!e)return;Object.keys(o).length===0&&(o=this.getLocalUserPeerIds(e));let d=this.createStruct("chatroom",void 0,e);d.message=n,d.attachments=i,d.authorId=r,d.users=o,d.replies=[],d.comments=[],d.ownerId=e._id;let m=[d];return s&&(d=yield this.updateServerData(m)[0]),d});this.addComment=(f,d,m,...v)=>te(this,[f,d,m,...v],function*(e,r,n,i="",o="",s=[],a=!0){if(!r||(n||(n=r),!e))return;let y=this.createStruct("comment",void 0,e,r);y.authorId=i,y.replyTo=n==null?void 0:n._id,y.message=o,y.attachments=s,y.users=r==null?void 0:r.users,y.replies=[],y.ownerId=e._id,a||n==null||n.replies.push(y._id),a||r==null||r.comments.push(y._id);let w=[y,r];n._id!==r._id&&w.push(n);let E;a&&(E=yield this.updateServerData(w));let I;return typeof E=="object"&&(I=E.find(O=>{if(y.ownerId===O.ownerId&&y.timestamp===O.timestamp&&y.message===O.message)return!0})),I||E});e instanceof Object&&Object.keys(e).length>0&&this.setupUser(e),this.load(new X2(this))}setupUser(e,r=n=>{}){return te(this,null,function*(){if(!e){console.error('must provide an info object! e.g. {_id:"abc123"}'),r(void 0);return}let n=!1;e.id&&!e._id?e._id=e.id:e._id&&(e.id=e._id);let i=yield this.getUser(e._id),o=i==null?void 0:i.user,s,a=!1;if(o==null?void 0:o._id){s=o;for(let f in e){let d=this.userStruct();if(s[f]&&f!=="_id")if(Array.isArray(e[f])){for(let m=0;m<s[f].length;m++)if(e[f].indexOf(s[f][m])<0){s[f]=e[f],n=!0;break}if(!n){for(let m=0;m<e[f].length;m++)if(s[f].indexOf(e[f][m])<0){s[f]=e[f],n=!0;break}}}else s[f]!==e[f]&&(s[f]=e[f],n=!0);else s[f]!==e[f]&&typeof d[f]=="string"&&f!=="_id"&&(s[f]=e[f],n=!0)}(i==null?void 0:i.authorizations)&&Array.isArray(i.authorizations)&&this.setLocalData(i.authorizations),(i==null?void 0:i.groups)&&Array.isArray(i.groups)&&this.setLocalData(i.groups)}else{s=this.userStruct(e,!0),a=!0;let f=yield this.setUser(s),d=this.getLocalData(void 0,{ownerId:s._id});(d==null?void 0:d.length)>0&&this.updateServerData(d),this.setAuthorizationsByGroup(s)}if(a)this.setLocalData(s);else{let f=yield this.getAllUserData(s._id,void 0);if(!(!f||f.length===0)){this.setLocalData(f);let d=f.filter(w=>{if(w.structType==="notification"&&(this.getLocalData("authorization",w.parent._id)||w.parent.structType==="user"||w.parent.structType==="authorization"||!this.getLocalData(w.parent.structType,w.parent._id)))return!0}),m=f.filter(w=>{if(w.structType==="comment")return!0}),v=[];m.forEach(w=>{this.getLocalData("comment",{_id:w._id})||v.push(w._id)}),v.length>0&&this.deleteData(v),d.length>0&&(this.resolveNotifications(d,!1,void 0),n=!0);let y=f.filter(w=>{if(w.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(y)}this.setLocalData(s),console.log("collections",this.tablet.collections)}return s?(this.currentUser=s,r(this.currentUser),this.currentUser):(r(s),s)})}onResult(e){}randomId(e=""){return`${e+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}addStruct(){return te(this,arguments,function*(e="struct",r={},n=void 0,i=void 0,o=!0){let s=Bn.Struct(e,r,n,i);return o&&(s=yield this.updateServerData([s])[0]),s})}overwriteLocalData(e){if(Array.isArray(e))e.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:r._id});!n||(n==null?void 0:n.length)===0?this.setLocalData(r):Object.assign(n,r)});else{let r=this.getLocalData(e.structType,{ownerId:e.ownerId,_id:e._id});!r||(r==null?void 0:r.length)===0?this.setLocalData(e):Object.assign(r,e)}}setLocalData(e){this.tablet.setLocalData(e)}getLocalData(e,r){return this.tablet.getLocalData(e,r)}getLocalReplies(e){let r=[];if(e.replies){if(e.replies.reduce((n,i)=>n*(typeof i=="object"?1:0),1))return e.replies}else return r;return r=this.getLocalData("comment",{replyTo:e._id}),r}hasLocalAuthorization(e,r=this.currentUser._id){let i=this.getLocalData("authorization",{ownerId:r}).find(o=>{if(o.authorizedId===r&&o.authorizerId===e||o.authorizerId===r&&o.authorizedId===e)return!0});return i||!1}deleteLocalData(e){return Array.isArray(e)?e.forEach(r=>this.deleteStruct(r)):this.deleteStruct(e),!0}deleteStruct(e){if(typeof e=="string"&&(e=this.getLocalData(e)),!e)throw new Error("Struct not supplied");return!e.structType||!e._id?!1:(this.tablet.collections.get(e.structType).delete(e._id),!0)}stripStruct(e={}){let r=Object.assign({},e);for(let n in r)(r[n]===void 0||r[n].constructor.name==="Map")&&delete r[n];return r}createStruct(e,r,n=this.currentUser,i){return Bn.Struct(e,r,n,i)}userStruct(e={},r=!1){let n=Bn.ProfileStruct(void 0,e,e);e._id?n.id=e._id:e.id?n.id=e.id:n.id="user"+Math.floor(Math.random()*1e10),n._id=n.id,n.ownerId=n.id;for(let i in e)Object.keys(Bn.ProfileStruct()).indexOf(i)<0&&delete n[i];return r&&(this.currentUser=n),n}dataObject(e=void 0,r="any",n=Date.now()){return{type:r,data:e,timestamp:n}}},Sc=eS});var al,hp=it(()=>{cp();nl();al=class extends sl{constructor(e){super(e);this.responses=new Map;this.serviceType="subscription";this.subscribers=new Map;this.updateSubscribers=(e,r)=>{this.subscribers.forEach(n=>{rl(r.route,!1).forEach(o=>{n.routes[o]&&(n==null?void 0:n.send)&&n.send(e.format(r))})})};this.add=(e,r)=>{throw"Add not implemented"};this.addResponse=(e,r)=>{this.responses.set(e,r)};this.removeResponse=e=>{e?this.responses.delete(e):this.responses=new Map};this.send=(e,r)=>te(this,null,function*(){throw"Send not implemented"})}}});var dp,Ec,pp=it(()=>{hp();nl();dp=class extends al{constructor(e){super(e);this.name="http";this.service="http";this.add=(e,r)=>new Promise(n=>{this.connection=new EventSource(gc("",r)),this.connection.onopen=()=>{this.connection.onmessage=i=>{let o=JSON.parse(i.data);o.route==="events/subscribe"&&n(o.message[0]),this.responses.forEach(s=>s(o))}}})}};dp.type="client";Ec=dp});var bc,tS=it(()=>{bc={protocol:"http",hosturl:"localhost",port:"80",port2:"81",docusaurus:"3000"}});var yp,xc,mp=it(()=>{hp();wc();tS();yp=class extends al{constructor(e,r={},n){super(e);this.name="websocket";this.service="websocket";this.connected=!1;this.sendQueue={};this.sockets=new Map;this.queue={};this.origin=`client${Math.floor(Math.random()*1e13)}`;this.encodeForSubprotocol=e=>{let r=[];return e._id&&(e.id=e._id,delete e._id),Object.keys(e).forEach(i=>r.push(`brainsatplay.com/${i}/${e[i]}?arr=`+Array.isArray(e[i]))),encodeURIComponent(r.join(";"))||void 0};this.add=(e,r)=>te(this,null,function*(){return this.addSocket(r,e)});this.send=(e,r={})=>new Promise(n=>{let i=d=>{r.callback&&r.callback(d),n(d)},o=""+Math.random();typeof e=="object"&&(Array.isArray(e)?e.splice(1,0,o):e.callbackId=o),this.queue[o]={resolve:n,suppress:e.suppress};let s,a=new URL(r.id);if(s=this.getSocket(a),!s)return;let f=()=>s.send(il(e),i);s.readyState===s.OPEN?f():(this.sendQueue[a.origin]||(this.sendQueue[a.origin]=[]),this.sendQueue[a.origin].push(f))});this.post=this.send;this.onmessage=e=>{let r;try{r=JSON.parse(e.data)}catch(o){r=e}console.log("WS Message",r);let n=()=>{this.responses.forEach((o,s)=>{o(r)})},i=r.callbackId;if(i){delete r.callbackId;let o=this.queue[i];(o==null?void 0:o.resolve)&&o.resolve(r),(o==null?void 0:o.suppress)||n(),delete this.queue[i]}else n(),this.defaultCallback(r)};this.defaultCallback=e=>{};this.isOpen=e=>{let r=this.getSocket(e);return r?r.readyState===1:!1};this.close=e=>{let r=this.getSocket(e);return r?r.close():!1};this.terminate=this.close;this.subprotocols=r,n&&this.addSocket(n,r)}addSocket(e=new URL(`${bc.protocol}://${bc.host}:${bc.port}`),r=this.subprotocols){let n;e instanceof URL||(e=new URL(e));let i=e.origin;try{if(e.protocol==="http:")n=new WebSocket("ws://"+e.host,this.encodeForSubprotocol(r));else if(e.protocol==="https:")n=new WebSocket("wss://"+e.host,this.encodeForSubprotocol(r));else{console.log("invalid protocol");return}return n.onmessage=this.onmessage,this.sockets.set(i,n),i}catch(o){console.error("Error with socket creation!",o);return}}getSocket(e){return typeof e=="string"&&(e=new URL(e)),e?this.sockets.get(e.origin):this.sockets.values().next().value}addCallback(e="",r=n=>{}){if(e.length>0&&!this.responses.has(e))this.responses.set(e,r);else return!1}removeCallback(e=""){this.responses.delete(e)}};yp.type="client";xc=yp});var Pe,lk,uk,_s=it(()=>{fp();pp();mp();Pe=new Sc,lk=new Ec(Pe),uk=new xc(Pe);Pe.load(lk,"http");Pe.load(uk,"websockets")});var nS,iS,rS,ll,ul,gp=it(()=>{nS=Ct(yi());Ga();y2();_s();iS=Ct(qa()),rS=new On(iS.settings.realmapp),ll=(t,e)=>te(void 0,null,function*(){let{currentUser:r}=rS,n="LOG_IN";if(r)try{yield r.refreshAccessToken(),n="REFRESH"}catch(i){return{type:"FAIL",data:{err:i,type:"REFRESH"}}}else{let i;try{t==="google"?(yield(0,nS.wait)(0),i=Kt.google({redirectUrl:window.location.origin})):t&&(i=Kt.emailPassword(t,e))}catch(o){console.error(o)}if(i)try{let o=yield rS.logIn(i);o&&(yield o.refreshAccessToken(),r=o)}catch(o){return{type:"FAIL",data:{err:o,type:"LOGIN"}}}}return r?{type:n,data:r.toJSON()}:{type:"FAIL",data:{err:void 0,type:"UNCAUGHT"}}}),ul=t=>te(void 0,null,function*(){var n,i;let e=!1,r;if((t==null?void 0:t.type)!=="FAIL"&&((t==null?void 0:t.data).id||(t==null?void 0:t.data)._id?r=Pe.setupUser(t.data):((i=(n=t==null?void 0:t.data)==null?void 0:n.profile)==null?void 0:i.data)._id&&(r=Pe.setupUser(t.data.profile.data))),r){let o=yield r;if(o)return e=!0,Jr.setState({isLoggedIn:!0,loggedInId:o._id}),console.log("Logged in: ",o),o}e||(console.log("User not created with info:",t.data),Jr.get("isLoggedIn")&&Jr.setState({isLoggedIn:!1}))});window.location.href.includes("_baas_client_app_id")&&p2()});function zt(t="struct",e={},r={_id:""},n={structType:"struct",_id:""}){function i(s=""){return`${s+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}let o={_id:i(t+"defaultId"),structType:t,ownerId:r?._id,timestamp:Date.now(),parent:{structType:n?.structType,_id:n?._id}};return o.ownerId||delete o.ownerId,o?.parent?._id||delete o.parent,Object.keys(e).length>0&&Object.assign(o,e),o}function Oc(t,e={}){if(!co[t.tag]&&t.position&&(co[t.tag]=[t.position.x,t.position.y,t.position.z]),co[t.tag]){let r={channel:"",position:{x:co[t.tag][0],y:co[t.tag][1],z:co[t.tag][2]}};return Object.assign(e,r)}else return Object.assign(e,t)}function fk(t=[],e=!0){let r=[];for(let n of t){let i=Si(n);r.push(i)}return e&&r.push(...wp({channelDicts:t})),r}function kc(t=[],e={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return t.forEach(n=>r[n]=[]),Object.assign(e,r)}function Si(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=kc(),o={tag:t,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=zt("eeg",o,r,n);return t&&Oc(o,s),Object.assign(s,e)}function vp(t={0:Si("FP1"),1:Si("FP2")},e={},r={_id:""},n={structType:"struct",_id:""}){let i=kc(),o={tag:t[0]?.tag+"::"+t[1]?.tag,x0:t[0]?.position?.x,y0:t[0]?.position?.y,z0:t[0]?.position?.z,x1:t[1]?.position?.x,y1:t[1]?.position?.y,z1:t[1]?.position?.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=zt("coherence",o,r,n);return Object.assign(s,e)}function wp(t={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},e={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,a=0;a<t.channelDicts.length*(t.channelDicts.length+1)/2-t.channelDicts.length;a++){if(t.taggedOnly===!1||t.taggedOnly===!0&&t.channelDicts[s].tag!==null&&t.channelDicts[s+o].tag!==null&&t.channelDicts[s].tag!=="other"&&t.channelDicts[s+o].tag!=="other"&&t.channelDicts[s].analyze===!0&&t.channelDicts[s+o].analyze===!0){var f=Si(t.channelDicts[s].tag),d=Si(t.channelDicts[s+o].tag);i.push(vp({0:f,1:d},{},r,n))}o++,o+s===t.channelDicts.length&&(s++,o=1)}return i}function _p(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=zt("fnirs",i,r,n);return t&&Oc(i,o),Object.assign(o,e)}function aS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=zt("imu",i,r,n);return t&&Oc(i,o),Object.assign(o,e)}function lS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},o=zt("eyetracker",i,r,n);return Object.assign(o,e)}function Sp(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},o=zt("ecg",i,r,n);return Object.assign(o,e)}function uS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){}function cS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=_p(t,r,n,e);return i.structType="ppg",i}function fS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Sp(t,r,n,e);return i.structType="hrv",i}function hS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Si(t,r,n,e);return i.structType="emg",i}function dS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=zt("profile",{tag:t,name:"",username:"",firstName:"",lastName:"",email:"",sex:"",birthday:"",type:"",userRoles:{},id:""},r,n);return Object.assign(i,e)}function pS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=zt("authorization",{tag:t,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:{},structs:{},excluded:{},groups:{},status:"PENDING",expires:!1,associatedAuthId:""},r,n);return Object.assign(i,e)}function yS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=zt("group",{tag:t,name:"",details:"",admins:{},peers:{},clients:{},users:{}},r,n);return Object.assign(i,e)}function mS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",expires:!1,type:"",data:new Array},o=zt("dataInstance",i,r,n);return Object.assign(o,e)}function gS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:{}},o=zt("event",i,r,n);return Object.assign(o,e)}function vS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:{},audioChatActive:!1,videoChatActive:!1},o=zt("chatroom",i,r,n);return Object.assign(o,e)}function wS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:{},attachments:new Array},o=zt("comment",i,r,n);return Object.assign(o,e)}function _S(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=zt("notification",{tag:t,note:"",parentUserId:""},r,n);return Object.assign(i,e)}function SS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",attachments:new Array,dates:new Array},o=zt("schedule",i,r,n);return Object.assign(o,e)}function ES(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},o=zt("date",i,r,n);return Object.assign(o,e)}function Ek(t=[],e={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return t.forEach((n,i)=>{for(let o in e)r[o]||(r[o]=[[],[]]),n>=e[o][0]&&n<=e[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r}function Ok(t,e,r){let n=(e-t)/r,i=[],o=0;for(;o<e;)i.push(o),o+=n;return i}var oS,ck,sS,Je,zn,co,hk,dk,fo,Be,pk,yk,mk,gk,vk,wk,_k,Sk,bk,xk,Ep=it(()=>{oS=Object.defineProperty,ck=(t,e,r)=>e in t?oS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sS=(t,e)=>{for(var r in e)oS(t,r,{get:e[r],enumerable:!0})},Je=(t,e,r)=>(ck(t,typeof e!="symbol"?e+"":e,r),r),zn={};sS(zn,{AuthorizationStruct:()=>pS,ChatroomStruct:()=>vS,CoherenceMap:()=>wp,CoherenceStruct:()=>vp,CommentStruct:()=>wS,DataStruct:()=>mS,DateStruct:()=>ES,ECGStruct:()=>Sp,EDAStruct:()=>uS,EEGCoordinates:()=>fk,EEGStruct:()=>Si,EMGStruct:()=>hS,EventStruct:()=>gS,EyeTrackerStruct:()=>lS,FNIRSStruct:()=>_p,FrequencyBandsStruct:()=>kc,GroupStruct:()=>yS,HRVStruct:()=>fS,IMUStruct:()=>aS,NotificationStruct:()=>_S,PPGStruct:()=>cS,ProfileStruct:()=>dS,ScheduleStruct:()=>SS,Struct:()=>zt,eegCoordinates:()=>co,setCoordinate:()=>Oc,structRegistry:()=>hk});co={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};hk={Struct:zt,EEGStruct:Si,FNIRSStruct:_p,CoherenceStruct:vp,CoherenceMap:wp,FrequencyBandsStruct:kc,IMUStruct:aS,EyeTrackerStruct:lS,ECGStruct:Sp,EDAStruct:uS,PPGStruct:cS,HRVStruct:fS,EMGStruct:hS,ProfileStruct:dS,AuthorizationStruct:pS,GroupStruct:yS,DataStruct:mS,EventStruct:gS,ChatroomStruct:vS,CommentStruct:wS,NotificationStruct:_S,ScheduleStruct:SS,DateStruct:ES},dk={};sS(dk,{bandpassWindow:()=>Ok,get40HzGamma:()=>wk,getAlphaBetaRatio:()=>gk,getAlphaRatio:()=>yk,getAlphaThetaRatio:()=>vk,getCoherenceScore:()=>pk,getHEGRatioScore:()=>Sk,getLowGammaScore:()=>_k,getThetaBetaRatio:()=>mk,mapCoherenceData:()=>xk,mapFFTData:()=>bk,splitFrequencyBands:()=>Ek});fo=class{constructor(){}static genSineWave(t=20,e=1,r=1,n=512,i=0,o=1){for(var s=[],a=[],f=1/n,d=0;d<r;d+=f){var m=Math.sin(2*Math.PI*t*d)*e;m+=Math.sin(2*Math.PI*i*d)*o,s.push(m),a.push(d)}return[a,s]}static getSineAmplitude(t=20,e=1,r=0,n=0){return Math.sin(this.TWO_PI*t*r+n)*e}static mean(t){var e=t.reduce((r,n)=>n+=r);return e/t.length}static mode(t){return t.sort((e,r)=>t.filter(n=>n===e).length-t.filter(n=>n===r).length).pop()}static std(t,e=void 0){let r=e;e||(r=this.mean(t));let n=0;for(let i=0;i<t.length;i++){let o=t[i]-r;n+=o*o}return Math.sqrt(n/t.length)}static relError(t=[],e=[],r=!0){if(t.length!==e.length)throw new Error("Input arrays of same length!");let n=t.length,i=[];for(let o=0;o<n;o++){let s=(t[o]-e[o])/t[o];r&&(s=Math.abs(s)),i.push(s)}return i}static informationEntropy(t=[]){let e=[],r=t.length;for(let n=0;n<r;n++){let i=t[n]*Math.log(t[n]);isNaN(i)&&(i=0),e.push(i)}return e}static zscore(t){let e=this.mean(t),r=this.std(t,e),n=[];for(let i=0;i<t.length;i++)n.push((t[i]-e)/r);return n}static variance(t){var e=this.mean(t);return t.reduce((r,n)=>r+(n-e)**2,0)/t.length}static dot(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}static cross3D(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}static magnitude(t){var e=0;return t.forEach(r=>{e+=r*r}),Math.sqrt(e)}static distance(t,e){var r=0;return t.forEach((n,i)=>{r+=(e[i]-n)*(e[i]-n)}),Math.sqrt(r)}static normalize(t){var e=0;e=this.magnitude(t);var r=[];return t.forEach((n,i)=>{r.push(n*e)}),r}static quadraticFormula(t,e,r){let n=Math.sqrt(e*e-4*t*r);if(!isNaN(n))return["complex","complex"];let i=1/(2*t);if(n===0)return[e*i];let o=-e;return[(o+n)*i,(o-n)*i]}static newtonsMethod(t=o=>Math.pow(o,5)+o*o-o-.2,e=0,r=1,n=.01,i=10){let o=[];for(let s=0;s<i;s++){let a=Math.random()*(r-e),f=t(a),d=t(a+n),m=(d-f)/n,v=a+n;for(;Math.abs(m)>n;){let E=-f/O,I=v+E;f=d,d=t(I);let O=(d-f)/(I-v)}let y,w=o.find((E,I)=>{if(Math.abs(xn1-E)<n)return y=I,!0});w?o[y]=(xn1+w)*.5:o.push(xn1)}return o}static makeVec(t,e){var r=[];return t.forEach((n,i)=>{r.push(e[i]-n)}),r}static transpose(t){return t[0].map((e,r)=>t.map(n=>n[r]))}static matmul(t,e){for(var r=t.length,n=t[0].length,i=e.length,o=e[0].length,s=new Array(r),a=0;a<r;++a){s[a]=new Array(o);for(var f=0;f<o;++f){s[a][f]=0;for(var d=0;d<n;++d)s[a][f]+=t[a][d]*e[d][f]}}return s}static matscale(t,e){let r=[];for(var n=0;n<t.length;n++){r[n]=[];for(let i=0;i<t[0].length;i++)r[n][i]=t[n][i]*e}return r}static matadd(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]+e[i][n]}return r}static matsub(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]-e[i][n]}return r}static histogram(t=[],e=1,r=void 0){let n=[...t];n.sort(function(f,d){return f-d});let i=Math.min(...n);if(typeof r=="number"){let f=Math.max(...n);e=Math.abs((f-i)/(r-1))}let o=i,s=[],a=[];for(let f=0;f<n.length;f++){let d=e*o;if(n[f]>i+d){o++,d+=e;let m=i+d+d*.5;s.push(m),a.push(0)}a[a.length-1]++}return[s,a]}static normalDistribution(t=[],e=!0,r=1e-4){let n=this.mean(t),i=this.variance(t),o=t.length,s=[],a=1/(this.TWO_PI*i),f=1/i,d=0;for(let m=0;m<o;m++){let v=Math.exp(-.5*Math.pow((t[m]-n)*f,2))*a;v<r&&(v=0),s.push(v),d+=v}if(e){let m=1/d;s=s.map(v=>v*m)}return s}static expectedValue(t=[],e=this.normalDistribution(t)){return t.reduce((r,n,i)=>r+n*e[i])}static originMoment(t=[],e=this.normalDistribution(t),r=1){return t.reduce((n,i,o)=>n+Math.pow(i,r)*e[o])}static centralMoment(t=[],e=this.normalDistribution(t),r=1){let n=this.mean(t);return t.reduce((i,o,s)=>i+Math.pow(o-n,r)*e[s]/t.length)}static linearDiscriminantAnalysis(t=[],e=[]){let r=this.mean(t),n=this.mean(e),i=this.cov1d(t,e),o=this.normalDistribution(t),s=[];for(let a=0;a<t.length;a++)s.push(x[a]*i*n-.5*r*i*n+Math.log10(o[a]));return s}static conv1D(t=[],e=[1/3,1/3,1/3],r=Math.floor(e.length*.5)){let n=[],i=1/e.length;if(r>0){let a=new Array(r).fill(0);t=[...a,...t,...a]}let o=Math.floor(e.length*.5),s=t.length-e.length+o;for(let a=o;a<s;a++){let f=0;for(let d=0;d<e.length;d++)f+=t[a-o]*e[d];n.push(f*i)}return n}static conv2D(t=[[],[],[]],e=[[],[],[]],r=0){let n=new Array(t.length-Math.ceil(e.length*.5)).fill([]),i,o=fo.transpose(o);if(r>0){let I=new Array(r).fill(0);i=fo.transpose(t);for(let O=0;O<i.length;O++)i[O]=[...I,...i[O],...I];t=fo.transpose(i);for(let O=0;O<t.length;O++)t[O]=[...I,...t[O],...I]}let s=Math.floor(e[0].length*.5),a=Math.floor(o[0].length*.5),f=t[0].length-e[0].length+s,d=i[0].length-o[0].length+a,m=1/(e[0].length*o[0].length),v=f*d,y=s,w,E=a;for(;y<v;){let I=0;w=y%t[0].length,w===0&&E++;for(let O=0;O<e[0].length;O++){for(let A=0;A<o[0].length;O++)I+=t[E-a+A][w-s+O]*e[A][O];n[E].push(I*m)}y++}return n}static cov2d(t){var e=this.transpose(t),r=[],n=[],i=[];t.forEach((E,I)=>{n.push(this.mean(E))}),e.forEach((E,I)=>{i.push(this.mean(E))}),t.forEach((E,I)=>{r.push([]);for(var O=0;O<E.length;O++)r[I].push((t[I][O]-n[I])*(t[I][O]-i[O])/(E.length-1))});for(var o=this.transpose(r),s=r.length,a=r[0].length,f=o.length,d=o[0].length,m=new Array(s),v=0;v<s;++v){m[v]=new Array(d);for(var y=0;y<d;++y){m[v][y]=0;for(var w=0;w<a;++w)m[v][y]+=r[v][w]*o[w][y]/(t[0].length-1)}}return m}static cov1d(t=[],e=[]){return this.cov2d([t,e])}static cov3d(t=[],e=[],r=[]){return[[this.cov1d(t,t),this.cov1d(t,e),this.cov1d(t,r)],[this.cov1d(e,t),this.cov1d(e,e),this.cov1d(e,r)],[this.cov1d(r,t),this.cov1d(r,e),this.cov1d(r,r)]]}static covNd(t=[]){let e=[];t.forEach((r,n)=>{e.push([]),t.forEach((i,o)=>{e[n].push(this.cov1d(r,i))})})}static eigens2x2(t=[[1,2],[3,4]]){let e=t[0][0]*t[1][1]-t[0][1]*t[1][0],r=(t[0][0]+t[1][1])*.5,n=Math.sqrt(r*r-e),i=r+n,o=r-n;return[i,o]}static eigenvectors2x2(t=[[1,2],[3,4]],e=[1,2]){let r=[-t[0][1],t[0][0]-e[0]];r[0]===0&&r[1]===0&&(r[0]=t[1][1]-e[0],r[1]=-t[1][0]);let n=[-t[0][1],t[0][0]-e[1]];return n[0]===0&&n[1]===0&&(n[0]=t[1][1]-e[1],n[1]=-t[1][0]),[r,n]}static fastpca2d(t,e){let r=this.cov1d(t,e),n=this.eigens2x2(r);n[1]>n[0]&&n.reverse();let i=this.eigenvectors2x2(r,n);return console.log(n,i),[n,i]}static crosscorrelation(t,e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(t),i=this.mean(e),o=t.reduce((v,y)=>v+=Math.pow(y-n,2));o=Math.sqrt(o);var s=e.reduce((v,y)=>v+=Math.pow(y-n,2));s=Math.sqrt(s);for(var a=1/(o*s),f=new Array(t.length).fill(0),d=0;d<t.length;d++){var m=t.reduce((v,y,w)=>v+=(y-n)*(r[d+w]-i));f[d]=m*a}return f}static autocorrelation(t){var e=[...t,...Array(t.length).fill(0)],r=this.mean(t),n=t.reduce((f,d)=>f+=Math.pow(d-r,2));n=Math.sqrt(n);for(var i=1/(n*n),o=new Array(t.length).fill(0),s=0;s<t.length;s++){var a=t.reduce((f,d,m)=>f+=(d-r)*(e[s+m]-r));o[s]=a*i}return o}static correlograms(t=[[],[]]){var e=[];return t.forEach((r,n)=>{t.forEach((i,o)=>{o>=n&&e.push(fo.crosscorrelation(r,i))})}),e}static sma(t=[],e){for(var r=[],n=0;n<t.length;n++)if(n==0)r.push(t[0]);else if(n<e){var i=t.slice(0,n+1);r.push(i.reduce((o,s)=>s+=o)/(n+1))}else{var i=t.slice(n-e,n);r.push(i.reduce((s,a)=>a+=s)/e)}return r}static sum(t=[]){if(t.length>0){var e=t.reduce((r,n)=>n+=r);return e}else return 0}static reduceArrByFactor(t,e=2){return t.filter((r,n)=>n%e===0)}static makeArr(t,e,r){for(var n=[],i=(e-t)/(r-1),o=0;o<r;o++)n.push(t+i*o);return n}static interpolateArray(t,e,r=1){var n=function(v,y,w){return(v+(y-v)*w)*r},i=new Array,o=new Number((t.length-1)/(e-1));i[0]=t[0];for(var s=1;s<e-1;s++){var a=s*o,f=new Number(Math.floor(a)).toFixed(),d=new Number(Math.ceil(a)).toFixed(),m=a-f;i[s]=n(t[f],t[d],m)}return i[e-1]=t[t.length-1],i}static isExtrema(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}else if(e==="valley"){if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}else if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}}return n}else return}static isCriticalPoint(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}else if(e==="valley"){if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}else if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}}return n}else return}static getPeakThreshold(t,e,r){let n,i=t.filter((o,s)=>{if(e.indexOf(s)>-1)return!0});return r===0?n=this.mean(i):n=(r+this.mean(i))*.5,n}static column(t,e){let r=new Array(t.length).fill(0).map(()=>new Array(1).fill(0));for(let n=0;n<t.length;n++)r[n][0]=t[n][e];return r}static flatten_vector(t){let e=[];for(let r=0;r<t.length;r++)e[r]=t[r][0];return e}static squared_difference(t,e){let r=0;for(let n=0;n<t.length;n++)r=r+Math.pow(t[n]-e[n],2);return r}static shift_deflate(t,e,r){let n=Math.sqrt(this.matmul(this.transpose(r),r)),i=this.matscale(r,1/n),o=this.matscale(this.matmul(i,this.transpose(i)),e);return this.matsub(t,o)}static eigenvalue_of_vector(t,e){return ev=this.matmul(this.matmul(this.transpose(e),t),e),ev}static power_iteration(t,e=1e-5,r=1e3){let n=t.length,i=new Array(n).fill(0).map(()=>new Array(1).fill(Math.sqrt(n))),o=this.eigenvalue_of_vector(t,i),s=1,a=0;for(;s>e&&a<r;){let f=JSON.parse(JSON.stringify(o)),d=this.matmul(t,i);i=this.normalize(d),o=this.eigenvalue_of_vector(t,i),s=Math.abs(o-f),a++}return[o,i]}static eigens(t,e=1e-4,r=1e3){let n=[],i=[];for(let o=0;o<t.length;o++){let s=this.power_iteration(t,e,r),a=s[0],f=s[1];n[o]=a,i[o]=this.flatten_vector(f),t=this.shift_deflate(t,a,f)}return[n,i]}static pca(t,e=1e-5){let r=t.length,n=new Array(r),i=new Array(r),o=this.transpose(t);n[0]=this.column(t,0);let s=1,a=0;for(;espilon>e;){a++,i[0]=this.matmul(o,n[0]);let f=this.matmul(this.transpose(n[0]),n[0]);i[0]=this.matscale(i[0],1/f);let d=Math.sqrt(this.matmul(this.transpose(i[0]),i[0]));i[0]=this.matscale(i[0],1/d);let m=this.matmul(t,i[0]),v=this.matmul(this.transpose(i[0]),i[0]);m=this.matscale(m,1/v),s=this.squared_difference(n[0],m),n[0]=JSON.parse(JSON.stringify(m))}return this.matmul(this.transpose(n[0]),n[0])}static p300(t=[],e=[],r=[],n=256){let i=Math.floor(n/10),o=this.sma(e,i),s=this.peakDetect(o,"peak",i),a=this.mean(o),f=this.std(o,a),d=0,m=[];return s.length>0&&t.forEach((v,y)=>{for(;r[s[d]]<v+200&&(d++,!!s[d]););let w=0,E=[];for(;r[s[d+w]]<v+600&&(E.push(d+w),w++,!!s[d+w]););if(E.length>1){let I=[];E.forEach(F=>{I.push(o[s[F]])});let O=Math.max(...I),A=E[I.indexOf(O)];m.push({event_timestamp:v,event_index:y,peak_timestamp:r[[s[A]]],signal_index:[s[A]],signal_amplitude:e[[s[A]]],zscore:(o[s[A]]-a)/f})}else E.length===1&&m.push({event_timestamp:v,event_index:y,peak_timestamp:r[s[E[0]]],signal_index:s[E[0]],signal_amplitude:e[[s[E[0]]]],zscore:(o[s[E[0]]]-a)/f})}),m}},Be=fo;Je(Be,"TWO_PI",Math.PI*2),Je(Be,"C",299792458),Je(Be,"G",66743e-15),Je(Be,"h",662607015e-42),Je(Be,"R",8314.32),Je(Be,"Ra",287),Je(Be,"H",69.3),Je(Be,"kbar",1054571817e-43),Je(Be,"kB",1380649e-29),Je(Be,"ke",89875517923e-1),Je(Be,"me",91093837015e-41),Je(Be,"mp",167262192369e-38),Je(Be,"mn",167492749804e-38),Je(Be,"P0",101325),Je(Be,"T0",288.15),Je(Be,"p0",1.225),Je(Be,"Na",60220978e16),Je(Be,"y",1.405),Je(Be,"M0",28.96643),Je(Be,"g0",9.80665),Je(Be,"Re",6378100),Je(Be,"B",1458e-9),Je(Be,"S",110.4),Je(Be,"Sigma",365e-12),Je(Be,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),Je(Be,"integral",(t=n=>n,e=[],r=.01)=>{let n=0;for(let i=e[0];i<e[1];i+=r)n+=t(i)*r;return n}),Je(Be,"dintegral",(t=(i,o)=>i+o,e=[[],[]],r=.01,n=r)=>{let i=0;for(let o=e[0][0]+r;o<e[0][1];o+=r)for(let s=e[1][0]+n;s<e[1][1];s+=n)i+=t(o,s)*r*n;return i}),Je(Be,"tintegral",(t=(o,s,a)=>o+s+a,e=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=e[0][0]+r;s<e[0][1];s+=r)for(let a=e[1][0]+n;a<e[1][1];a+=n)for(let f=e[2][0]+i;f<e[2][1];f+=i)o+=t(s,a,f)*r*n*i;return o}),Je(Be,"pintegral",(t=n=>n,e=[],r=.01)=>{let n=0,i,o;for(let s=e[0];s<e[1];s+=r)i=o,o=t(s),i&&(n+=fo.distance([0,i],[r,o]));return n}),Je(Be,"peakDetect",(t,e="peak",r=49)=>{let n=Math.floor(r*.5),i=[];for(let o=0;o<t.length-r;o++)fo.isExtrema(t.slice(o,o+r),e)&&i.push(o+n-1);return i});pk=(t,e="alpha1")=>{let r=[];return Array.isArray(t)||(t=[t]),t.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[e].slice(i-o);r.push(Be.mean(s))}}),Be.mean(r)},yk=t=>t.fftCount>0?t.means.alpha2[t.fftCount-1]/t.means.alpha1[t.fftCount-1]:0,mk=t=>t.fftCount>0?t.means.theta[t.fftCount-1]/t.means.beta[t.fftCount-1]:0,gk=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.beta[t.fftCount-1]:0,vk=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.theta[t.fftCount-1]:0,wk=(t,e)=>{if(t.fftCount>0&&Array.isArray(e)){let r=t.slices.lowgamma[t.fftCount-1],n=[];return r.forEach((i,o)=>{e.lowgamma[0][o]>38&&e.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}else return 0},_k=t=>{if(t.fftCount>0){let e=t.fftCount,r=20;e<r&&(r=e);let n=t.means.lowgamma.slice(e-r);return t.means.lowgamma[e-1]-Be.mean(n)}else return 0},Sk=t=>{if(t.count>0){let e=t.count,r=40;e<r&&(r=e);let n=t.ratio.slice(e-r);return t.ratio[e-1]-Be.mean(n)}else return 0};bk=(t,e,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(e),n.ffts.push(t);for(let o in r){let s=t.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((a,f)=>a+f)/s.length),i+=r[o][1].length}},xk=(t,e,r,n)=>{t.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(e),n[o].ffts.push(data);let s=0;for(let a in r){let f=fft.slice(s,s+r[a][1].length);coord.slices[a].push(f),coord.means[a].push(f.reduce((d,m)=>d+m)/f.length),s+=r[a][1].length}})}});function Tc(){return te(this,null,function*(){let t=Pe.connect({target:bp.settings.dataserver,credentials:Ss,type:"websocket"});return t.subscribe(e=>{Pe.baseServerCallback(e)}),console.log(t),console.log("Sending /routes from Client 1"),yield Pe.send("routes").then(e=>console.log("Routes (Client 1)",e)).catch(console.error),console.log("setting up client"),Pe.setupUser(Ss)})}function bS(){return te(this,null,function*(){return _r.connect({target:bp.settings.dataserver,credentials:ho,type:"websocket"}).subscribe(e=>{Pe.baseServerCallback(e)}),console.log("Sending /routes from Client 2"),_r.send("routes").then(e=>console.log("Routes (Client 2)",e)).catch(console.error),console.log("setting up client"),_r.setupUser(ho)})}var bp,_r,kk,Tk,Ss,ho,Nc=it(()=>{_s();Ep();bp=Ct(qa());fp();pp();mp();_r=new Sc,kk=new Ec(_r),Tk=new xc(_r);_r.load(kk,"http");_r.load(Tk,"websockets");Ss=zn.ProfileStruct("test",{_id:"testclient",email:"testclient@myalyce.com",username:"testclient",firstName:"Howard",lastName:"Dent",sex:"m",birthday:"09/10/1993"});ho=zn.ProfileStruct("test",{_id:"testpeer",email:"testpeer@myalyce.com",username:"testpeer",firstName:"The",lastName:"Batman",sex:"m",birthday:"01/19/1483"})});var OS=Oe(xp=>{Sw();var xS=Ct(qa());gp();Ga();Nc();console.log("using data server URL: ",xS.settings.dataserver);Jr.subscribe("route",t=>{history.replaceState(void 0,t,location.origin+t)});var Nk=!0;Nk?Tc().then(t=>te(xp,null,function*(){console.log(t),yield us(t)})):ll().then(t=>te(xp,null,function*(){let e=yield ul(t);yield us(e)}))});var ct=Oe((sR,Rc)=>{var kS,TS,NS,AS,IS,RS,DS,FS,CS,Ac,Op,PS,LS,MS,Es,jS,BS,US,zS,VS,WS,qS,$S,Ic;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof Rc=="object"&&typeof Rc.exports=="object"?t(r(e,r(Rc.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,s){return n[o]=i?i(o,s):s}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};kS=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},TS=Object.assign||function(n){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},NS=function(n,i){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(o[s[a]]=n[s[a]]);return o},AS=function(n,i,o,s){var a=arguments.length,f=a<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,o):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(n,i,o,s);else for(var m=n.length-1;m>=0;m--)(d=n[m])&&(f=(a<3?d(f):a>3?d(i,o,f):d(i,o))||f);return a>3&&f&&Object.defineProperty(i,o,f),f},IS=function(n,i){return function(o,s){i(o,s,n)}},RS=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},DS=function(n,i,o,s){function a(f){return f instanceof o?f:new o(function(d){d(f)})}return new(o||(o=Promise))(function(f,d){function m(w){try{y(s.next(w))}catch(E){d(E)}}function v(w){try{y(s.throw(w))}catch(E){d(E)}}function y(w){w.done?f(w.value):a(w.value).then(m,v)}y((s=s.apply(n,i||[])).next())})},FS=function(n,i){var o={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,a,f,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(y){return function(w){return v([y,w])}}function v(y){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,a&&(f=y[0]&2?a.return:y[0]?a.throw||((f=a.return)&&f.call(a),0):a.next)&&!(f=f.call(a,y[1])).done)return f;switch(a=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,a=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(f=o.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){o.label=y[1];break}if(y[0]===6&&o.label<f[1]){o.label=f[1],f=y;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(y);break}f[2]&&o.ops.pop(),o.trys.pop();continue}y=i.call(n,o)}catch(w){y=[6,w],a=0}finally{s=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},CS=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Ic(i,n,o)},Ic=Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]},Ac=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Op=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,f=[],d;try{for(;(i===void 0||i-- >0)&&!(a=s.next()).done;)f.push(a.value)}catch(m){d={error:m}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(d)throw d.error}}return f},PS=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(Op(arguments[i]));return n},LS=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var s=Array(n),a=0,i=0;i<o;i++)for(var f=arguments[i],d=0,m=f.length;d<m;d++,a++)s[a]=f[d];return s},MS=function(n,i,o){if(o||arguments.length===2)for(var s=0,a=i.length,f;s<a;s++)(f||!(s in i))&&(f||(f=Array.prototype.slice.call(i,0,s)),f[s]=i[s]);return n.concat(f||Array.prototype.slice.call(i))},Es=function(n){return this instanceof Es?(this.v=n,this):new Es(n)},jS=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,i||[]),a,f=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(I){s[I]&&(a[I]=function(O){return new Promise(function(A,F){f.push([I,O,A,F])>1||m(I,O)})})}function m(I,O){try{v(s[I](O))}catch(A){E(f[0][3],A)}}function v(I){I.value instanceof Es?Promise.resolve(I.value.v).then(y,w):E(f[0][2],I)}function y(I){m("next",I)}function w(I){m("throw",I)}function E(I,O){I(O),f.shift(),f.length&&m(f[0][0],f[0][1])}},BS=function(n){var i,o;return i={},s("next"),s("throw",function(a){throw a}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(a,f){i[a]=n[a]?function(d){return(o=!o)?{value:Es(n[a](d)),done:a==="return"}:f?f(d):d}:f}},US=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof Ac=="function"?Ac(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=n[f]&&function(d){return new Promise(function(m,v){d=n[f](d),a(m,v,d.done,d.value)})}}function a(f,d,m,v){Promise.resolve(v).then(function(y){f({value:y,done:m})},d)}},zS=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};VS=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&Ic(i,n,o);return r(i,n),i},WS=function(n){return n&&n.__esModule?n:{default:n}},qS=function(n,i,o,s){if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?s:o==="a"?s.call(n):s?s.value:i.get(n)},$S=function(n,i,o,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(n,o):a?a.value=o:i.set(n,o),o},t("__extends",kS),t("__assign",TS),t("__rest",NS),t("__decorate",AS),t("__param",IS),t("__metadata",RS),t("__awaiter",DS),t("__generator",FS),t("__exportStar",CS),t("__createBinding",Ic),t("__values",Ac),t("__read",Op),t("__spread",PS),t("__spreadArrays",LS),t("__spreadArray",MS),t("__await",Es),t("__asyncGenerator",jS),t("__asyncDelegator",BS),t("__asyncValues",US),t("__makeTemplateObject",zS),t("__importStar",VS),t("__importDefault",WS),t("__classPrivateFieldGet",qS),t("__classPrivateFieldSet",$S)})});var GS=Oe(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0})});var YS=Oe(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0})});var kp=Oe(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.arrHas=Ye.arrLast=Ye.arrToBoolDict=Ye.arrToIdxDict=Ye.arrToDict=Ye.arrRemoveValues=Ye.arrReplace=Ye.arrDeepFlatten=Ye.arrFlatten=Ye.arrDivide=Ye.arrGetByIds=Ye.arrRemoveById=Ye.arrGen=void 0;var Ei=or(),Ak=(t,e=void 0)=>t<1?[]:Array(t).fill(e);Ye.arrGen=Ak;function Ik(t,e,r="id"){let n=KS(t,r),i=Ei.objRemoveKeys(n,e);return Ei.objVals(i)}Ye.arrRemoveById=Ik;function Rk(t,e,r="id"){let n=ZS(e);return t.filter(i=>n[i[r]])}Ye.arrGetByIds=Rk;function Dk(t,e){let r=Math.ceil(t.length/e)||0,n=Ye.arrGen(r).map(()=>[]);return t.forEach((i,o)=>n[Math.floor(o/e)].push(i)),n}Ye.arrDivide=Dk;function Fk(t){return[].concat.apply([],t)}Ye.arrFlatten=Fk;var Ck=t=>t.reduce((e,r)=>e.concat(Ei.isType(r,"array")?Ye.arrDeepFlatten(r):r),[]);Ye.arrDeepFlatten=Ck;function Pk(t){let e=[...t];return{all:r=>{let n=[];return t.forEach((i,o)=>Ei.equal(r,i)?n[o]=o:null),{with:i=>n.length?(n.forEach(o=>e[o]=i),e):t}},first:r=>{let n=t.findIndex(i=>Ei.equal(r,i));return{with:i=>Ei.nonValue(n)?t:(e[n]=i,e)}}}}Ye.arrReplace=Pk;function Lk(t,e){let r=[...t];return e.forEach(n=>r=r.filter(i=>!Ei.equal(i,n))),r}Ye.arrRemoveValues=Lk;function KS(t,e){let r={};return t.forEach(n=>r[n[e]]=n),r}Ye.arrToDict=KS;function Mk(t){let e={};return t.forEach((r,n)=>e[r]=n+""),e}Ye.arrToIdxDict=Mk;function ZS(t){let e={};return t.forEach(r=>e[r]=!0),e}Ye.arrToBoolDict=ZS;var jk=t=>t[t.length-1];Ye.arrLast=jk;function Bk(t,e,r=!1){let n=r?i=>Ei.equal(i,e):i=>i===e;return t.findIndex(n)!==-1}Ye.arrHas=Bk});var XS=Oe(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.clone=void 0;function Tp(t){let e,r,n,i,o,s,a;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t);if(r=Object.keys(t),n=r.length,Array.isArray(t)){for(s=new Array(n),i=0;i<n;i++)o=r[i],e=t[o],typeof e!="object"||e===null?s[o]=e:e instanceof Date?s[o]=new Date(e):s[o]=Tp(e);return s}for(a={},i=0;i<n;i++)o=r[i],e=t[o],Object.hasOwnProperty.call(t,o)!==!1&&(typeof e!="object"||e===null?a[o]=e:e instanceof Date?a[o]=new Date(e):a[o]=Tp(e));return a}Dc.clone=Tp});var QS=Oe(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.equal=void 0;function Fc(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Fc(t[n],e[n]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;for(n of t.entries())if(!Fc(n[1],e.get(n[0])))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!Fc(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}Cc.equal=Fc});var tE=Oe(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.promiseOut=Et.debounceTimeOut=Et.randomColorHex=Et.uuid=Et.assertType=Et.type=Et.cloneLog=Et.unsubAll=Et.wait=Et.interval=void 0;var Vn=or(),Uk=(t,e,r)=>{if(Vn.isType(r,"number")&&r<1)throw Error(`argument "times" can't be less than 1`);let n=0,i=()=>clearInterval(o),o=setInterval(()=>{t(n,i),n++,r&&n>=r&&i()},e);return{stop:i}};Et.interval=Uk;var zk=t=>new Promise(e=>setTimeout(()=>e(),t));Et.wait=zk;var eE=(t,e="unsubscribe")=>Vn.isType(t,"object")&&Vn.hasKey(t,e)?t[e]():null;function Vk(t,e="unsubscribe"){if(Vn.isType(t,"array"))t.forEach(r=>eE(r,e));else if(Vn.isType(t,"object"))Vn.objMap(t,({val:r})=>eE(r,e));else throw Error('argument "objOrArr" must be of type "object" or "array"')}Et.unsubAll=Vk;var Wk=t=>console.log(Vn.clone(t));Et.cloneLog=Wk;function qk(t){return typeof t=="object"?Array.isArray(t)?"array":t===null?"null":"object":t!==t?"NaN":typeof t}Et.type=qk;function $k(t,e){Vn.isType(e,"array")||(e=[e]);for(let r of e)if(Vn.isType(t,r))return;throw Error(`value needs to be of type ${e.join(" || ")}`)}Et.assertType=$k;var Hk=()=>{let t=new Date().getTime(),e=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=Math.random()*16;return t>0?(i=(t+i)%16|0,t=Math.floor(t/16)):(i=(e+i)%16|0,e=Math.floor(e/16)),(n==="x"?i:i&3|8).toString(16)})};Et.uuid=Hk;var Gk=()=>"#"+((1<<24)*Math.random()|0).toString(16);Et.randomColorHex=Gk;function Jk(){let t=null;return(e,r)=>{t&&clearTimeout(t),e!=="cancel"&&(t=setTimeout(e,r||0))}}Et.debounceTimeOut=Jk;function Yk(){let t,e=new Promise(r=>t=r);return{resolve:t,promise:e}}Et.promiseOut=Yk});var rE=Oe(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.iterate=void 0;var Np=kp();function Kk(t,e,r){let n=(i,o=!1)=>{let s=[];for(let a=0;a<t;a++)if(!e)s.push(i({x:a}));else for(let f=0;f<e;f++)if(!r)s.push(i({x:a,y:f}));else for(let d=0;d<r;d++)s.push(i({x:a,y:f,z:d}));return o?r&&e?Np.arrDivide(s,e*r).map(f=>Np.arrDivide(f,r)):e?Np.arrDivide(s,e):s:s};return{for:i=>{n(i)},map:i=>n(i),nestedMap:i=>n(i,!0)}}Pc.iterate=Kk});var iE=Oe(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.newNumFromRange=Fr.numberWithCommas=Fr.decPlace=Fr.average=Fr.rand=void 0;var nE=or(),Zk=(t,e)=>Math.floor(Math.random()*(e+1-t))+t;Fr.rand=Zk;var Xk=t=>t.reduce((e=0,r=0)=>e+r,0)/t.length;Fr.average=Xk;var Qk=(t,e)=>parseFloat(t.toFixed(e));Fr.decPlace=Qk;var eT=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Fr.numberWithCommas=eT;function tT(t,e,r){let n,i=0,o=nE.isType(t,"array")?nE.arrToBoolDict(t):{[t]:!0};do if(n=Fr.rand(e,r),i++,i>1e6)throw console.error("Check for infinite loops"),new Error("Looped 1 million times");while(o[n]);return n}Fr.newNumFromRange=tT});var oE=Oe(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.objPromiseAll=dt.objSortKeys=dt.objResolve=dt.objExtract=dt.objKeyVals=dt.objVals=dt.objKeys=dt.objRemoveKeys=dt.objFilter=dt.objMap=void 0;function rT(t,e){let r={};for(let n in t)r[n]=e({key:n,val:t[n]});return r}dt.objMap=rT;function nT(t,e){let r=Object.assign({},t);for(let n in t)e({key:n,val:t[n]})||delete r[n];return r}dt.objFilter=nT;function iT(t,e){let r=Object.assign({},t);return e.forEach(n=>delete r[n]),r}dt.objRemoveKeys=iT;function Lc(t){if(Object.keys)return Object.keys(t);let e=[];for(let r in t)e.push(r);return e}dt.objKeys=Lc;var oT=t=>Object.values?Object.values(t):Lc(t).map(e=>t[e]);dt.objVals=oT;var sT=t=>Lc(t).map(e=>({key:e,val:t[e]}));dt.objKeyVals=sT;function aT(t,e){let r={};return e.forEach(n=>r[n]=t[n]),r}dt.objExtract=aT;var lT=(t,e)=>e.split(".").reduce((r,n)=>r[n],t);dt.objResolve=lT;var uT=(t,e)=>{let r={};return Lc(t).sort(e).map(i=>r[i]=t[i]),r};dt.objSortKeys=uT;function cT(t){let e=dt.objKeyVals(t),r=e.length,n={},i=0;return new Promise(o=>e.forEach(({key:s,val:a})=>a.then(f=>{n[s]=f,i++,r===i&&o(n)})))}dt.objPromiseAll=cT});var sE=Oe(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.minAppend=bi.strRemove=bi.strIncludes=void 0;var fT=(t,e)=>t.indexOf(e)!==-1;bi.strIncludes=fT;var hT=(t,e)=>t.replace(new RegExp(e,"g"),"");bi.strRemove=hT;var dT=(t,e,r="0")=>(r.repeat(e-1)+t).slice(-e);bi.minAppend=dT});var lE=Oe(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.isValidEmail=bt.nonValue=bt.nullOrEmpty=bt.isType=bt.hasKeys=bt.hasKey=bt.equalAny=void 0;var pT=or(),aE=or(),yT=(t,e)=>!!e.find(r=>pT.equal(t,r));bt.equalAny=yT;var mT=(t,e)=>bt.isType(t,"object")&&t.hasOwnProperty(e);bt.hasKey=mT;function gT(t,e){if(!bt.isType(t,"object"))return!1;for(let r of e)if(!t.hasOwnProperty(r))return!1;return!0}bt.hasKeys=gT;var vT=(t,e)=>aE.type(t)===e;bt.isType=vT;function wT(t){return bt.nonValue(t)?!0:bt.isType(t,"string")||bt.isType(t,"array")?!t.length:bt.isType(t,"object")?!aE.objVals(t).length:!1}bt.nullOrEmpty=wT;var _T=t=>t==null;bt.nonValue=_T;var ST=t=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t);bt.isValidEmail=ST});var uE=Oe(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.yearStartEnd=_e.monthStartEnd=_e.weekStartEnd=_e.getDayStartEnd=_e.wks=_e.weeks=_e.dys=_e.days=_e.hrs=_e.hours=_e.min=_e.minutes=_e.sec=_e.seconds=_e.msTimeObj=_e.msToTime=_e.msToWks=_e.msToDys=_e.msToHrs=_e.msToMin=_e.msToSec=_e.dateTimeToString=_e.weekTuple=_e.msTime=void 0;var Mc=or();_e.msTime={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};_e.weekTuple=["sun","mon","tue","wed","thu","fri","sat"];function ET(t=new Date){let e=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2),n=("0"+t.getSeconds()).slice(-2),i=("00"+t.getMilliseconds()).slice(-3);return`${e}:${r}:${n}:${i}`}_e.dateTimeToString=ET;var bT=t=>t/_e.msTime.s;_e.msToSec=bT;var xT=t=>t/_e.msTime.m;_e.msToMin=xT;var OT=t=>t/_e.msTime.h;_e.msToHrs=OT;var kT=t=>t/_e.msTime.d;_e.msToDys=kT;var TT=t=>t/_e.msTime.w;_e.msToWks=TT;function NT(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);o=o%24;let a=("00"+s).slice(-3),f=("0"+o).slice(-2),d=("0"+i).slice(-2),m=("0"+n).slice(-2),v=("00"+r).slice(-3);return e?{d:s,h:o,m:i,s:n,ms:r}:`${s?a+":":""}${f}:${d}:${m}:${v}`}_e.msToTime=NT;function AT(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);return o=o%24,e?{d:s,h:o,m:i,s:n,ms:r}:{d:("00"+s).slice(-3),h:("0"+o).slice(-2),m:("0"+i).slice(-2),s:("0"+n).slice(-2),ms:("00"+r).slice(-3)}}_e.msTimeObj=AT;var IT=t=>t*_e.msTime.s;_e.seconds=IT;_e.sec=_e.seconds;var RT=t=>t*_e.msTime.m;_e.minutes=RT;_e.min=_e.minutes;var DT=t=>t*_e.msTime.h;_e.hours=DT;_e.hrs=_e.hours;var FT=t=>t*_e.msTime.d;_e.days=FT;_e.dys=_e.days;var CT=t=>t*_e.msTime.w;_e.weeks=CT;_e.wks=_e.weeks;function PT(t,e="local"){Mc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),o=new Date(r,n,i),s=new Date(r,n,i,23,59,59,999);if(e==="unix"){let a=_e.min(o.getTimezoneOffset());o=new Date(o.getTime()+a),s=new Date(s.getTime()+a)}return{start:o,end:s}}_e.getDayStartEnd=PT;function LT(t,e="sun",r="local"){Mc.isType(t,"number")&&(t=new Date(t));let i=t.getDay()*-1+(e==="mon"?1:0),o=6+i,s=new Date(t.getTime()+_e.days(i)),a=new Date(t.getTime()+_e.days(o)),f=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999);if(r==="unix"){let m=_e.min(f.getTimezoneOffset());f=new Date(f.getTime()+m),d=new Date(d.getTime()+m)}return{start:f,end:d}}_e.weekStartEnd=LT;function MT(t,e="local"){Mc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=new Date(r,n,1),o=new Date(r,n,0,23,59,59,999);if(e==="unix"){let s=_e.min(i.getTimezoneOffset());i=new Date(i.getTime()+s),o=new Date(o.getTime()+s)}return{start:i,end:o}}_e.monthStartEnd=MT;function jT(t,e="local"){Mc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=new Date(r,0,1),i=new Date(r,12,0,23,59,59,999);if(e==="unix"){let o=_e.min(n.getTimezoneOffset());n=new Date(n.getTime()+o),i=new Date(i.getTime()+o)}return{start:n,end:i}}_e.yearStartEnd=jT});var or=Oe(Xt=>{"use strict";var BT=Xt&&Xt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),un=Xt&&Xt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&BT(e,t,r)};Object.defineProperty(Xt,"__esModule",{value:!0});un(YS(),Xt);un(kp(),Xt);un(XS(),Xt);un(QS(),Xt);un(tE(),Xt);un(rE(),Xt);un(iE(),Xt);un(oE(),Xt);un(sE(),Xt);un(lE(),Xt);un(uE(),Xt)});var Vt=Oe((_R,jc)=>{(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(!!i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var s=e.apply(null,i);s&&r.push(s)}}else if(o==="object")if(i.toString===Object.prototype.toString)for(var a in i)t.call(i,a)&&i[a]&&r.push(a);else r.push(i.toString())}}return r.join(" ")}typeof jc<"u"&&jc.exports?(e.default=e,jc.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var cE=Oe(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.chevronIcons=void 0;var UT=ct(),xt=(0,UT.__importDefault)(Me());Bc.chevronIcons={1:{viewBox:"0 0 16 16",path:xt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z"})},2:{viewBox:"0 0 16 16",path:xt.default.createElement("path",{"fill-rule":"evenodd",d:"M3.646 4.146a.5.5 0 0 1 .708 0L8 7.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zM1 11.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"})},3:{viewBox:"0 0 16 16",path:xt.default.createElement(xt.default.Fragment,null,xt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 6.646a.5.5 0 0 1 .708 0L8 12.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}),xt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 2.646a.5.5 0 0 1 .708 0L8 8.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}))},4:{viewBox:"0 0 16 16",path:xt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})},5:{viewBox:"0 0 24 24",path:xt.default.createElement(xt.default.Fragment,null,xt.default.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),xt.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},6:{viewBox:"0 0 24 24",path:xt.default.createElement(xt.default.Fragment,null,xt.default.createElement("path",{d:"M5 21h14c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM5 5h14l.001 14H5V5z"}),xt.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},7:{viewBox:"0 0 24 24",path:xt.default.createElement("path",{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"})},8:{viewBox:"0 0 24 24",path:xt.default.createElement(xt.default.Fragment,null,xt.default.createElement("path",{d:"m12 15.586-4.293-4.293-1.414 1.414L12 18.414l5.707-5.707-1.414-1.414z"}),xt.default.createElement("path",{d:"m17.707 7.707-1.414-1.414L12 10.586 7.707 6.293 6.293 7.707 12 13.414z"}))},9:{viewBox:"0 0 512 512",path:xt.default.createElement("path",{d:"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM273 369.9l135.5-135.5c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L256 285.1 154.4 183.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L239 369.9c9.4 9.4 24.6 9.4 34 0z"})},10:{viewBox:"0 0 24 24",path:xt.default.createElement("path",{d:"M21.886 5.536A1.002 1.002 0 0 0 21 5H3a1.002 1.002 0 0 0-.822 1.569l9 13a.998.998 0 0 0 1.644 0l9-13a.998.998 0 0 0 .064-1.033zM12 17.243 4.908 7h14.184L12 17.243z"})}}});var Ap=Oe(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.Chevron=void 0;var hE=ct(),zT=(0,hE.__importDefault)(Me()),VT=(0,hE.__importDefault)(Vt()),fE=cE(),WT={down:"rotate-0",up:"rotate-180",left:"rotate-90",right:"-rotate-90"},qT={xs:"h-3 w-3",sm:"h-6 w-6",md:"h-12 w-12",lg:"h-24 w-24",xl:"h-48 w-48",auto:"h-full w-full"},$T=function(t){var e=t.direction,r=t.icon,n=t.size,i=n===void 0?"auto":n,o=t.className,s=t.style;return zT.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",className:(0,VT.default)("transform transition-transform duration-500 svg-fix",qT[i],WT[e],o),viewBox:fE.chevronIcons[r].viewBox,style:s},fE.chevronIcons[r].path)};Uc.Chevron=$T});var xi=Oe(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.customScrollBar=Sr.loremIpsum=Sr.TextInputBorderMap=Sr.regexpUtil=Sr.useRefDimensions=Sr.clickOutListener=void 0;var Ip=Me();function HT(t,e){(0,Ip.useEffect)(function(){return document.addEventListener("click",function(r){return t.current&&!t.current.contains(r.target)&&e()})},[t])}Sr.clickOutListener=HT;var GT=function(t){var e,r,n=(0,Ip.useState)({width:0,height:0}),i=n[0],o=n[1];return(0,Ip.useEffect)(function(){if(t.current){var s=t.current.getBoundingClientRect(),a=s.width,f=s.height;o({width:a,height:f})}},[(e=t.current)===null||e===void 0?void 0:e.offsetHeight,(r=t.current)===null||r===void 0?void 0:r.offsetWidth]),i};Sr.useRefDimensions=GT;Sr.regexpUtil={name:/^[a-z ,.'-]+$/i,email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/};Sr.TextInputBorderMap={default:"border-secondary-300 placeholder-secondary-300 focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-200",success:"border-success-400 placeholder-success-300 focus:border-success-500 focus:outline-none focus:ring-1 focus:ring-success-200",warning:"border-warning-400 placeholder-warning-300 focus:border-warning-500 focus:outline-none focus:ring-1 focus:ring-warning-200",danger:"border-danger-400 placeholder-danger-300 focus:border-danger-500 focus:outline-none focus:ring-1 focus:ring-danger-200"};Sr.loremIpsum="Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.";Sr.customScrollBar="scrollbar-thin scrollbar-track-secondary-200 scrollbar-thumb-secondary-400 scrollbar"});var pE=Oe(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.Accordion=void 0;var bs=ct(),zc=or(),Vc=Me(),cn=(0,bs.__importDefault)(Me()),dE=(0,bs.__importDefault)(Vt()),JT=Ap(),YT=xi(),KT={xs:"max-w-xs",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",auto:"w-full"},ZT={danger:"text-danger-700",info:"text-info-700",primary:"text-primary-700",secondary:"text-secondary-700",success:"text-success-700",warning:"text-warning-700"},XT={danger:"border-danger-600",info:"border-info-600",primary:"border-primary-600",secondary:"border-secondary-600",success:"border-success-600",warning:"border-warning-600"};function QT(t){var e=t.title,r=t.collapseOthers,n=r===void 0?!1:r,i=t.items,o=t.size,s=o===void 0?"auto":o,a=t.type,f=a===void 0?"secondary":a,d=t.className,m=t.style,v=t.contentMaxHeigh,y=(0,Vc.useState)(Date.now()),w=y[0],E=y[1],I=function(O){return E(O)};return cn.default.createElement("main",{className:(0,dE.default)(KT[s],d),style:m},cn.default.createElement("div",{className:"w-full my-1"},e&&cn.default.createElement("h2",{className:"text-xl font-semibold mb-2"},e),cn.default.createElement("ul",{className:"flex flex-col"},i.map(function(O,A){return cn.default.createElement(eN,(0,bs.__assign)({},(0,bs.__assign)((0,bs.__assign)({},O),{collapseOthers:n,onOpen:I,openId:w,type:f,contentMaxHeigh:v}),{key:A}))}))))}Wc.Accordion=QT;var eN=function(t){var e=t.title,r=t.content,n=t.onOpen,i=t.openId,o=t.collapseOthers,s=t.type,a=t.onClick,f=(0,bs.__rest)(t,["title","content","onOpen","openId","collapseOthers","type","onClick"]),d=(0,Vc.useState)(i),m=d[0],v=d[1],y=(0,Vc.useState)(!1),w=y[0],E=y[1];(0,Vc.useEffect)(function(){i!==m&&(v(i),E(!1))},[i]);var I=function(A){if(!w){var F=Date.now();v(F),o&&n(F)}E(!w),a==null||a(A)},O=(0,zc.isType)(f.isOpen,"boolean")?f.isOpen:w;return cn.default.createElement("li",{className:"bg-white my-2 shadow-lg"},cn.default.createElement("h2",{onClick:I,className:`\r
                flex flex-row justify-between items-center\r
                font-semibold p-3 cursor-pointer\r
            `},(0,zc.isType)(r,"string")?cn.default.createElement("span",null,e):e,cn.default.createElement(JT.Chevron,{direction:O?"up":"down",icon:8,size:"sm",className:ZT[s]})),cn.default.createElement("div",{className:(0,dE.default)("border-l-2 overflow-hidden max-h-0 duration-700 transition-all",YT.customScrollBar,XT[s],O&&"max-h-96"),style:{maxHeight:!(0,zc.nonValue)(f.contentMaxHeigh)&&O?f.contentMaxHeigh:void 0}},(0,zc.isType)(r,"string")?cn.default.createElement("p",{className:"p-3 text-gray-900"},r):r))}});var yE=Oe(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.AlertIcon=void 0;var tN=ct(),po=(0,tN.__importDefault)(Me()),rN={primary:po.default.createElement("path",{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),danger:po.default.createElement("path",{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zM8 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),info:po.default.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}),secondary:po.default.createElement("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}),success:po.default.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}),warning:po.default.createElement("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})},nN=function(t){return po.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-6 h-6"},rN[t.type])};qc.AlertIcon=nN});var mE=Oe($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.Alert=void 0;var Dp=ct(),Rp=or(),iN=(0,Dp.__importDefault)(Vt()),Cr=(0,Dp.__importStar)(Me()),oN=yE(),sN={primary:"text-primary-600",secondary:"text-secondary-600",info:"text-info-600",warning:"text-warning-600",danger:"text-danger-600",success:"text-success-600"},aN={primary:"text-primary-900",secondary:"text-secondary-900",info:"text-info-900",warning:"text-warning-900",danger:"text-danger-900",success:"text-success-900"},lN=function(t){(0,Dp.__extends)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={botW:100,isClosing:!1,isClosed:!1,isHover:!1,transitionDuration:void 0},r.closingDebounce=(0,Rp.debounceTimeOut)(),r.handleMouseHover=function(n){var i=r.props.timeoutMs,o=!(0,Rp.nonValue)(i);o&&!n?r.closingDebounce(r.startClosing,i):n&&r.closingDebounce("cancel"),r.setState(n?{isClosing:!1,botW:100,isHover:n}:{isHover:n,botW:o?0:100})},r.startClosing=function(){r.setState({isClosing:!0}),r.closingDebounce(r.close,700)},r.close=function(){r.props.onClose&&r.props.onClose(),r.setState({isClosed:!0})},r.componentWillUnmount=function(){return r.closingDebounce("cancel")},r.render=function(){var n=r.props,i=n.title,o=n.text,s=n.type,a=n.className,f=n.style,d=r.state,m=d.isHover,v=d.isClosing,y=d.botW,w=d.transitionDuration,E=d.isClosed,I=m?void 0:w,O=(0,iN.default)("bg-white border border-current border-b-0 rounded-lg flex flex-col overflow-hidden transition-opacity duration-700",{"opacity-0":v},sN[s],a);return E?null:Cr.default.createElement("div",{className:O,style:f,onMouseEnter:function(){return r.handleMouseHover(!0)},onMouseLeave:function(){return r.handleMouseHover(!1)}},Cr.default.createElement("div",{className:"p-1 flex w-full overflow-hidden mx-auto"},Cr.default.createElement("div",{className:"pt-2 ml-3"},Cr.default.createElement(oN.AlertIcon,{type:s})),Cr.default.createElement("div",{className:"w-full flex justify-between items-start px-0 py-2"},Cr.default.createElement("div",{className:"ml-3"},Cr.default.createElement("p",{className:"font-bold"},i),o&&Cr.default.createElement("p",{className:"mt-1 text-sm ".concat(aN[s])},o)),Cr.default.createElement("a",{className:"mr-1 cursor-pointer",onClick:r.close},Cr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Cr.default.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),Cr.default.createElement("span",{className:"border-b-4 border-current transition-all ease-linear",style:{width:"".concat(y,"%"),transitionDuration:I}}))},r}return e.prototype.componentDidMount=function(){var r=this,n=this.props.timeoutMs;(0,Rp.nonValue)(n)||(this.setState({transitionDuration:"".concat(n,"ms")}),setTimeout(function(){return r.setState({botW:0})},0),this.closingDebounce(this.startClosing,n))},e}(Cr.Component);$c.Alert=lN});var Gc=Oe(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.Badge=void 0;var vE=ct(),uN=or(),cN=(0,vE.__importDefault)(Vt()),gE=(0,vE.__importDefault)(Me()),fN={xs:"h-2 min-w-2",sm:"h-3 min-w-3",md:"h-4 min-w-4",lg:"h-6 min-w-6",xl:"h-12 min-w-12"},hN={md:"text-xs",lg:"text-base",xl:"text-2xl"},dN=function(t){var e=t.size,r=t.badge,n=t.className;return r?gE.default.createElement("div",{className:(0,cN.default)("bg-info-600 rounded-full absolute top-0 right-0 pl-1 pr-1 flex justify-center text-gray-100",fN[e],n)},(0,uN.isType)(r,"number")&&e!=="sm"&&e!=="xs"&&gE.default.createElement("span",{className:"m-auto ".concat(hN[e])},r>999?"+999":r)):null};Hc.Badge=dN});var wE=Oe(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.spinnersSvg=void 0;Jc.spinnersSvg=['<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 6h-6l2.243-2.243c-1.133-1.133-2.64-1.757-4.243-1.757s-3.109 0.624-4.243 1.757c-1.133 1.133-1.757 2.64-1.757 4.243s0.624 3.109 1.757 4.243c1.133 1.133 2.64 1.757 4.243 1.757s3.109-0.624 4.243-1.757c0.095-0.095 0.185-0.192 0.273-0.292l1.505 1.317c-1.466 1.674-3.62 2.732-6.020 2.732-4.418 0-8-3.582-8-8s3.582-8 8-8c2.209 0 4.209 0.896 5.656 2.344l2.343-2.344v6z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0.001 8.025l-0 0c0 0 0 0.001 0 0.003 0.002 0.061 0.009 0.12 0.021 0.177 0.003 0.027 0.007 0.057 0.011 0.090 0.003 0.029 0.007 0.061 0.011 0.095 0.006 0.040 0.012 0.083 0.019 0.128 0.013 0.090 0.028 0.189 0.045 0.296 0.021 0.101 0.044 0.21 0.068 0.326 0.011 0.058 0.028 0.117 0.044 0.178s0.032 0.123 0.049 0.188c0.009 0.032 0.016 0.065 0.027 0.097s0.021 0.065 0.031 0.098 0.043 0.134 0.065 0.203c0.006 0.017 0.011 0.035 0.017 0.052s0.013 0.034 0.019 0.052 0.026 0.070 0.039 0.105c0.027 0.070 0.053 0.142 0.081 0.215 0.031 0.071 0.062 0.144 0.094 0.218 0.016 0.037 0.032 0.074 0.048 0.111s0.035 0.073 0.053 0.111 0.073 0.148 0.11 0.224c0.039 0.075 0.081 0.149 0.123 0.224 0.021 0.037 0.042 0.075 0.063 0.113s0.045 0.074 0.068 0.112 0.093 0.149 0.14 0.224c0.198 0.295 0.417 0.587 0.66 0.864 0.245 0.275 0.511 0.535 0.792 0.775 0.284 0.236 0.582 0.452 0.886 0.642 0.306 0.188 0.619 0.349 0.928 0.487 0.078 0.032 0.156 0.063 0.232 0.095 0.038 0.015 0.076 0.032 0.115 0.046s0.077 0.027 0.115 0.041 0.151 0.054 0.226 0.078c0.075 0.022 0.15 0.044 0.224 0.066 0.037 0.011 0.073 0.022 0.109 0.031s0.073 0.018 0.109 0.027 0.143 0.035 0.213 0.052c0.070 0.014 0.139 0.027 0.207 0.040 0.034 0.006 0.067 0.013 0.101 0.019 0.017 0.003 0.033 0.006 0.049 0.009s0.033 0.005 0.049 0.007c0.066 0.009 0.13 0.018 0.192 0.027 0.031 0.004 0.062 0.009 0.093 0.013s0.061 0.006 0.091 0.009 0.118 0.010 0.174 0.015c0.056 0.005 0.111 0.011 0.164 0.012 0.004 0 0.007 0 0.011 0 0.010 0.544 0.453 0.982 1 0.982 0.008 0 0.017-0 0.025-0.001v0c0 0 0.001-0 0.004-0 0.061-0.002 0.12-0.009 0.177-0.021 0.027-0.003 0.057-0.007 0.090-0.011 0.029-0.003 0.061-0.007 0.095-0.011 0.040-0.006 0.083-0.012 0.128-0.019 0.090-0.013 0.189-0.028 0.296-0.045 0.101-0.021 0.21-0.044 0.326-0.068 0.058-0.011 0.117-0.028 0.178-0.044s0.123-0.033 0.188-0.049c0.032-0.009 0.065-0.016 0.097-0.027s0.065-0.021 0.098-0.031 0.134-0.043 0.203-0.065c0.017-0.006 0.035-0.011 0.052-0.017s0.034-0.013 0.052-0.019 0.070-0.026 0.105-0.039c0.070-0.027 0.142-0.053 0.215-0.081 0.071-0.031 0.144-0.062 0.218-0.094 0.037-0.016 0.074-0.032 0.111-0.048s0.073-0.035 0.111-0.053 0.148-0.073 0.224-0.11c0.075-0.039 0.149-0.081 0.224-0.123 0.037-0.021 0.075-0.042 0.113-0.063s0.074-0.045 0.112-0.068 0.149-0.093 0.224-0.14c0.295-0.197 0.587-0.417 0.864-0.66 0.275-0.245 0.535-0.511 0.775-0.792 0.236-0.284 0.452-0.582 0.642-0.886 0.188-0.306 0.349-0.619 0.487-0.928 0.032-0.078 0.063-0.156 0.095-0.232 0.015-0.038 0.032-0.076 0.046-0.115s0.027-0.077 0.040-0.115 0.054-0.151 0.078-0.226c0.022-0.075 0.044-0.15 0.066-0.224 0.011-0.037 0.022-0.073 0.031-0.109s0.018-0.073 0.027-0.109 0.035-0.143 0.052-0.213c0.014-0.070 0.027-0.139 0.040-0.207 0.006-0.034 0.013-0.067 0.019-0.101 0.003-0.017 0.006-0.033 0.009-0.049s0.005-0.033 0.007-0.050c0.009-0.065 0.018-0.13 0.027-0.192 0.004-0.031 0.009-0.062 0.013-0.093s0.006-0.061 0.009-0.091 0.010-0.118 0.015-0.174c0.005-0.056 0.011-0.111 0.012-0.165 0-0.008 0.001-0.016 0.001-0.025 0.55-0.002 0.996-0.449 0.996-1 0-0.008-0-0.017-0.001-0.025h0c0 0-0-0.001-0-0.003-0.002-0.061-0.009-0.12-0.021-0.177-0.003-0.027-0.007-0.057-0.011-0.090-0.003-0.029-0.007-0.061-0.011-0.095-0.006-0.040-0.012-0.083-0.019-0.128-0.013-0.090-0.028-0.189-0.045-0.296-0.021-0.101-0.044-0.21-0.068-0.326-0.011-0.058-0.028-0.117-0.044-0.178s-0.032-0.123-0.049-0.188c-0.009-0.032-0.016-0.065-0.027-0.097s-0.021-0.065-0.031-0.098-0.043-0.134-0.065-0.203c-0.005-0.017-0.011-0.035-0.017-0.052s-0.013-0.034-0.019-0.052-0.026-0.070-0.039-0.105c-0.027-0.070-0.053-0.142-0.081-0.215-0.031-0.071-0.062-0.144-0.094-0.218-0.016-0.037-0.032-0.074-0.048-0.111s-0.035-0.073-0.053-0.111-0.073-0.148-0.11-0.224c-0.039-0.075-0.081-0.149-0.123-0.224-0.021-0.037-0.042-0.075-0.063-0.113s-0.045-0.074-0.068-0.112-0.093-0.149-0.14-0.224c-0.197-0.295-0.417-0.587-0.66-0.864-0.245-0.275-0.511-0.535-0.792-0.775-0.284-0.236-0.582-0.452-0.886-0.642-0.306-0.188-0.619-0.349-0.928-0.487-0.078-0.032-0.156-0.063-0.232-0.095-0.038-0.015-0.076-0.032-0.115-0.046s-0.077-0.027-0.115-0.040-0.151-0.054-0.226-0.078c-0.075-0.022-0.15-0.044-0.224-0.066-0.037-0.010-0.073-0.022-0.109-0.031s-0.073-0.018-0.109-0.027-0.143-0.035-0.213-0.052c-0.070-0.014-0.139-0.027-0.207-0.040-0.034-0.006-0.067-0.013-0.101-0.019-0.017-0.003-0.033-0.006-0.049-0.009s-0.033-0.005-0.049-0.007c-0.066-0.009-0.13-0.018-0.192-0.027-0.031-0.004-0.062-0.009-0.093-0.013s-0.061-0.006-0.091-0.009-0.118-0.010-0.174-0.015c-0.056-0.005-0.111-0.011-0.164-0.012-0.013-0-0.026-0.001-0.039-0.001-0.010-0.543-0.454-0.981-0.999-0.981-0.008 0-0.017 0-0.025 0.001l-0-0c0 0-0.001 0-0.003 0-0.061 0.002-0.12 0.009-0.177 0.021-0.027 0.003-0.057 0.007-0.090 0.011-0.029 0.003-0.061 0.007-0.095 0.011-0.040 0.006-0.083 0.012-0.128 0.019-0.090 0.013-0.189 0.028-0.296 0.045-0.101 0.021-0.21 0.044-0.326 0.068-0.058 0.011-0.117 0.028-0.178 0.044s-0.123 0.033-0.188 0.049c-0.032 0.009-0.065 0.016-0.097 0.027s-0.065 0.021-0.098 0.031-0.134 0.043-0.203 0.065c-0.017 0.006-0.035 0.011-0.052 0.017s-0.034 0.013-0.052 0.019-0.070 0.026-0.105 0.039c-0.070 0.027-0.142 0.053-0.215 0.081-0.071 0.031-0.144 0.062-0.218 0.094-0.037 0.016-0.074 0.032-0.111 0.048s-0.073 0.035-0.111 0.053-0.148 0.073-0.224 0.11c-0.075 0.039-0.149 0.081-0.224 0.123-0.037 0.021-0.075 0.042-0.113 0.063s-0.074 0.045-0.112 0.068-0.149 0.093-0.224 0.14c-0.295 0.198-0.587 0.417-0.864 0.66-0.275 0.245-0.535 0.511-0.775 0.792-0.236 0.284-0.452 0.582-0.642 0.886-0.188 0.306-0.349 0.619-0.487 0.928-0.032 0.078-0.063 0.156-0.095 0.232-0.015 0.038-0.032 0.076-0.046 0.115s-0.027 0.077-0.040 0.115-0.054 0.151-0.078 0.226c-0.022 0.075-0.044 0.15-0.066 0.224-0.011 0.037-0.022 0.073-0.032 0.109s-0.018 0.073-0.027 0.109-0.035 0.143-0.052 0.213c-0.014 0.070-0.027 0.139-0.040 0.207-0.006 0.034-0.013 0.067-0.019 0.101-0.003 0.017-0.006 0.033-0.009 0.049s-0.005 0.033-0.007 0.050c-0.009 0.065-0.018 0.13-0.027 0.192-0.004 0.031-0.009 0.062-0.013 0.093s-0.006 0.061-0.009 0.091-0.010 0.118-0.015 0.174c-0.005 0.056-0.011 0.111-0.012 0.165-0 0.009-0.001 0.017-0.001 0.025-0.537 0.017-0.967 0.458-0.967 0.999 0 0.008 0 0.017 0.001 0.025zM1.149 7.011c0.001-0.003 0.001-0.006 0.002-0.009 0.010-0.051 0.026-0.102 0.040-0.155s0.030-0.107 0.045-0.163c0.008-0.028 0.015-0.056 0.024-0.084s0.019-0.057 0.028-0.086 0.038-0.116 0.058-0.176c0.005-0.015 0.010-0.030 0.015-0.045s0.012-0.030 0.017-0.045 0.023-0.060 0.035-0.091 0.048-0.123 0.073-0.186c0.028-0.062 0.056-0.125 0.084-0.189 0.014-0.032 0.028-0.064 0.043-0.096s0.032-0.064 0.048-0.096 0.065-0.128 0.098-0.194c0.034-0.065 0.073-0.128 0.109-0.194 0.018-0.032 0.037-0.065 0.056-0.098s0.040-0.064 0.061-0.096c0.041-0.064 0.082-0.129 0.124-0.194 0.176-0.255 0.369-0.506 0.583-0.744 0.217-0.236 0.451-0.459 0.697-0.665 0.25-0.202 0.511-0.385 0.776-0.547 0.268-0.159 0.541-0.294 0.808-0.41 0.068-0.027 0.135-0.053 0.202-0.079 0.033-0.013 0.066-0.027 0.099-0.038s0.067-0.022 0.1-0.033 0.131-0.045 0.196-0.065c0.065-0.018 0.13-0.036 0.194-0.054 0.032-0.009 0.063-0.019 0.095-0.026s0.063-0.014 0.094-0.021 0.123-0.028 0.184-0.042c0.061-0.011 0.12-0.021 0.179-0.032 0.029-0.005 0.058-0.010 0.087-0.015 0.014-0.003 0.029-0.005 0.043-0.008s0.029-0.003 0.043-0.005c0.056-0.007 0.112-0.014 0.166-0.020 0.027-0.003 0.053-0.007 0.080-0.010s0.053-0.004 0.078-0.006 0.102-0.007 0.15-0.011c0.049-0.003 0.095-0.008 0.142-0.008 0.091-0.002 0.177-0.004 0.256-0.006 0.073 0.003 0.14 0.005 0.2 0.007 0.030 0.001 0.058 0.002 0.085 0.002 0.033 0.002 0.064 0.004 0.093 0.006 0.033 0.002 0.063 0.004 0.091 0.006 0.051 0.008 0.103 0.012 0.156 0.012 0.007 0 0.015-0 0.022-0.001 0.002 0 0.004 0 0.004 0v-0c0.487-0.012 0.887-0.372 0.962-0.84 0.008 0.002 0.017 0.004 0.025 0.006 0.051 0.010 0.102 0.026 0.155 0.040s0.107 0.030 0.163 0.045c0.028 0.008 0.056 0.015 0.084 0.024s0.057 0.019 0.086 0.028 0.116 0.038 0.176 0.058c0.015 0.005 0.030 0.010 0.045 0.015s0.030 0.012 0.045 0.017 0.060 0.023 0.091 0.035 0.123 0.048 0.186 0.073c0.062 0.028 0.125 0.056 0.189 0.084 0.032 0.014 0.064 0.028 0.096 0.043s0.064 0.032 0.096 0.048 0.128 0.065 0.194 0.098c0.065 0.034 0.129 0.073 0.194 0.109 0.032 0.018 0.065 0.037 0.098 0.056s0.064 0.040 0.096 0.061 0.129 0.082 0.194 0.124c0.255 0.176 0.506 0.369 0.744 0.583 0.236 0.217 0.459 0.451 0.665 0.697 0.202 0.25 0.385 0.511 0.547 0.776 0.159 0.268 0.294 0.541 0.41 0.808 0.027 0.068 0.053 0.135 0.079 0.202 0.013 0.033 0.027 0.066 0.038 0.099s0.022 0.067 0.033 0.1 0.045 0.131 0.065 0.196c0.018 0.065 0.036 0.13 0.054 0.194 0.009 0.032 0.019 0.063 0.026 0.095s0.014 0.063 0.021 0.094 0.028 0.123 0.042 0.184c0.011 0.061 0.021 0.12 0.032 0.179 0.005 0.029 0.010 0.058 0.015 0.087 0.003 0.014 0.005 0.029 0.008 0.043s0.003 0.029 0.005 0.043c0.007 0.056 0.014 0.112 0.020 0.166 0.003 0.027 0.007 0.053 0.010 0.080s0.004 0.053 0.006 0.078 0.007 0.102 0.011 0.15c0.003 0.049 0.008 0.095 0.008 0.142 0.002 0.091 0.004 0.177 0.006 0.256-0.003 0.073-0.005 0.14-0.007 0.2-0.001 0.030-0.002 0.058-0.002 0.085-0.002 0.033-0.004 0.064-0.006 0.093-0.002 0.033-0.004 0.063-0.006 0.091-0.008 0.051-0.012 0.103-0.012 0.156 0 0.007 0 0.015 0.001 0.022-0 0.002-0 0.004-0 0.004h0c0.012 0.481 0.363 0.877 0.823 0.959-0.001 0.005-0.002 0.009-0.003 0.014-0.010 0.051-0.025 0.102-0.040 0.155s-0.030 0.107-0.045 0.163c-0.008 0.028-0.015 0.056-0.024 0.084s-0.019 0.057-0.028 0.086-0.039 0.116-0.058 0.176c-0.005 0.015-0.010 0.030-0.015 0.045s-0.012 0.030-0.017 0.045-0.023 0.060-0.035 0.091-0.048 0.123-0.073 0.186c-0.028 0.062-0.056 0.125-0.084 0.189-0.014 0.032-0.028 0.064-0.043 0.096s-0.032 0.064-0.048 0.096-0.065 0.128-0.098 0.194c-0.034 0.065-0.073 0.129-0.109 0.194-0.018 0.032-0.037 0.065-0.056 0.098s-0.040 0.064-0.061 0.096-0.082 0.129-0.124 0.194c-0.176 0.255-0.369 0.506-0.583 0.744-0.217 0.236-0.451 0.459-0.697 0.665-0.25 0.202-0.511 0.385-0.776 0.547-0.268 0.159-0.541 0.294-0.808 0.41-0.068 0.027-0.135 0.053-0.202 0.079-0.033 0.013-0.066 0.027-0.099 0.038s-0.067 0.022-0.1 0.033-0.131 0.045-0.196 0.065c-0.065 0.018-0.13 0.036-0.194 0.054-0.032 0.009-0.063 0.019-0.095 0.026s-0.063 0.014-0.094 0.021-0.123 0.028-0.184 0.042c-0.061 0.011-0.12 0.021-0.179 0.032-0.029 0.005-0.058 0.010-0.087 0.015-0.014 0.003-0.028 0.005-0.043 0.008s-0.029 0.003-0.043 0.005c-0.056 0.007-0.112 0.014-0.166 0.020-0.027 0.003-0.053 0.007-0.080 0.010s-0.053 0.004-0.078 0.006-0.102 0.007-0.15 0.011c-0.049 0.003-0.095 0.008-0.142 0.008-0.091 0.002-0.177 0.004-0.256 0.006-0.073-0.003-0.14-0.005-0.2-0.007-0.030-0.001-0.058-0.002-0.085-0.002-0.033-0.002-0.064-0.004-0.093-0.006-0.033-0.002-0.063-0.004-0.091-0.006-0.051-0.008-0.103-0.012-0.156-0.012-0.007 0-0.015 0-0.022 0.001-0.002-0-0.003-0-0.003-0v0c-0.484 0.012-0.883 0.369-0.961 0.834-0.050-0.010-0.101-0.025-0.153-0.039s-0.107-0.030-0.163-0.045c-0.028-0.008-0.056-0.015-0.084-0.024s-0.057-0.019-0.086-0.028-0.116-0.039-0.176-0.058c-0.015-0.005-0.030-0.010-0.045-0.015s-0.030-0.012-0.045-0.017-0.060-0.023-0.091-0.035-0.123-0.048-0.186-0.073c-0.062-0.028-0.125-0.056-0.189-0.084-0.032-0.014-0.064-0.028-0.096-0.043s-0.064-0.032-0.096-0.048-0.128-0.065-0.194-0.098c-0.065-0.034-0.129-0.073-0.194-0.109-0.032-0.018-0.065-0.037-0.098-0.056s-0.064-0.040-0.096-0.061c-0.064-0.041-0.129-0.082-0.194-0.124-0.255-0.175-0.506-0.369-0.744-0.583-0.236-0.217-0.459-0.451-0.665-0.697-0.202-0.25-0.385-0.511-0.547-0.776-0.159-0.268-0.294-0.541-0.41-0.808-0.027-0.068-0.053-0.135-0.079-0.202-0.013-0.033-0.027-0.066-0.038-0.099s-0.022-0.067-0.033-0.1-0.045-0.131-0.065-0.196c-0.018-0.065-0.036-0.13-0.054-0.194-0.009-0.032-0.019-0.063-0.026-0.095s-0.014-0.063-0.021-0.094-0.028-0.123-0.042-0.184c-0.011-0.061-0.021-0.12-0.032-0.179-0.005-0.029-0.010-0.058-0.015-0.087-0.003-0.014-0.005-0.028-0.008-0.043s-0.003-0.029-0.005-0.043c-0.007-0.056-0.014-0.112-0.020-0.166-0.003-0.027-0.007-0.053-0.010-0.080s-0.004-0.053-0.006-0.078-0.007-0.101-0.011-0.15c-0.003-0.049-0.008-0.095-0.008-0.142-0.002-0.091-0.004-0.177-0.006-0.256 0.003-0.073 0.005-0.14 0.007-0.2 0.001-0.030 0.002-0.058 0.002-0.085 0.002-0.033 0.004-0.064 0.006-0.093 0.002-0.033 0.004-0.063 0.006-0.091 0.008-0.051 0.012-0.103 0.012-0.156 0-0.007-0-0.015-0.001-0.022 0-0.002 0-0.003 0-0.003h-0c-0.012-0.49-0.377-0.893-0.851-0.964z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.355 0-7.898 3.481-7.998 7.812 0.092-3.779 2.966-6.812 6.498-6.812 3.59 0 6.5 3.134 6.5 7 0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-4.418-3.582-8-8-8zM8 16c4.355 0 7.898-3.481 7.998-7.812-0.092 3.779-2.966 6.812-6.498 6.812-3.59 0-6.5-3.134-6.5-7 0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5c0 4.418 3.582 8 8 8z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zM12.773 12.773c-1.275 1.275-2.97 1.977-4.773 1.977s-3.498-0.702-4.773-1.977-1.977-2.97-1.977-4.773c0-1.803 0.702-3.498 1.977-4.773l1.061 1.061c0 0 0 0 0 0-2.047 2.047-2.047 5.378 0 7.425 0.992 0.992 2.31 1.538 3.712 1.538s2.721-0.546 3.712-1.538c2.047-2.047 2.047-5.378 0-7.425l1.061-1.061c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 8c0-0.19 0.011-0.378 0.032-0.563l-2.89-0.939c-0.092 0.487-0.141 0.989-0.141 1.502 0 2.3 0.971 4.374 2.526 5.833l1.786-2.458c-0.814-0.889-1.312-2.074-1.312-3.375zM13 8c0 1.301-0.497 2.486-1.312 3.375l1.786 2.458c1.555-1.459 2.526-3.533 2.526-5.833 0-0.513-0.049-1.015-0.141-1.502l-2.89 0.939c0.021 0.185 0.032 0.373 0.032 0.563zM9 3.1c1.436 0.292 2.649 1.199 3.351 2.435l2.89-0.939c-1.144-2.428-3.473-4.188-6.241-4.534v3.038zM3.649 5.535c0.702-1.236 1.914-2.143 3.351-2.435v-3.038c-2.769 0.345-5.097 2.105-6.241 4.534l2.89 0.939zM10.071 12.552c-0.631 0.288-1.332 0.448-2.071 0.448s-1.44-0.16-2.071-0.448l-1.786 2.458c1.144 0.631 2.458 0.99 3.857 0.99s2.713-0.359 3.857-0.99l-1.786-2.458z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c-2.137 0-4.146-0.832-5.657-2.343s-2.343-3.52-2.343-5.657c0-1.513 0.425-2.986 1.228-4.261 0.781-1.239 1.885-2.24 3.193-2.895l0.672 1.341c-1.063 0.533-1.961 1.347-2.596 2.354-0.652 1.034-0.997 2.231-0.997 3.461 0 3.584 2.916 6.5 6.5 6.5s6.5-2.916 6.5-6.5c0-1.23-0.345-2.426-0.997-3.461-0.635-1.008-1.533-1.822-2.596-2.354l0.672-1.341c1.308 0.655 2.412 1.656 3.193 2.895 0.803 1.274 1.228 2.748 1.228 4.261 0 2.137-0.832 4.146-2.343 5.657s-3.52 2.343-5.657 2.343z"/></svg>']});var Yc=Oe(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.Spinner=yo.spinnerSizeMap=void 0;var _E=ct(),pN=(0,_E.__importDefault)(Vt()),Fp=(0,_E.__importDefault)(Me()),yN=wE();yo.spinnerSizeMap={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"};var mN=function(t){var e=t.type,r=e===void 0?1:e,n=t.size,i=n===void 0?"auto":n,o=t.className;return Fp.default.createElement("div",{className:(0,pN.default)("overflow-hidden",o,yo.spinnerSizeMap[i])},r==="pulse"?Fp.default.createElement("div",{className:"bg-secondary-300 h-full w-full animate-pulse"}):Fp.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(yN.spinnersSvg[r-1]),className:"animate-spin h-full w-full"}))};yo.Spinner=mN});var Kc=Oe(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.AvatarInner=mo.Avatar=void 0;var Cp=ct(),SE=or(),Er=(0,Cp.__importStar)(Me()),gN=Gc(),vN=(0,Cp.__importDefault)(Vt()),wN={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},_N=Yc(),SN=function(t){var e=t.dataState,r=t.imgSrc,n=t.backgroundColor,i=t.status,o=t.badge,s=t.size,a=t.onClick,f=t.className,d=function(){if(e==="loading"||e==="error")return e==="error"?"Couldn't Load User":e==="loading"?"Loading...":"";if((0,SE.isType)(t.name,"string")||!t.name)return t.name||"";var m=t.name,v=m.first,y=m.last;return"".concat(v," ").concat(y)}();return Er.default.createElement("div",{onClick:a,className:(0,vN.default)(`
            flex relative justify-center items-center
            m-1 mr-2 rounded-full text-white`,wN[s],!(n||e==="loading")&&"bg-secondary-500",e==="loading"&&" overflow-hidden",a&&"cursor-pointer",f),title:e==="error"?"Couldn't Load User":e==="loading"?"Loading...":d,style:{backgroundColor:n}},Er.default.createElement(mo.AvatarInner,(0,Cp.__assign)({},{dataState:e,imgSrc:r,badge:o,size:s,status:i,name:d})))};mo.Avatar=SN;var EN={xs:"text-sm",sm:"text-xl",md:"text-4xl",lg:"text-7xl",xl:"text-9xl"},bN=function(t){if(t.dataState==="loading")return Er.default.createElement(_N.Spinner,{size:"auto",type:"pulse"});if(t.dataState==="error")return Er.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(TN),className:"rounded-full h-full w-full"});var e=t.imgSrc,r=t.status,n=t.badge,i=t.size,o=t.name,s=o===void 0?"":o,a=(0,Er.useState)(e?"loading":"error"),f=a[0],d=a[1],m=(0,SE.isType)(s,"string")?s.substring(0,2):"".concat(s.first[0].toUpperCase()).concat(s.last[0].toUpperCase());return Er.default.createElement(Er.default.Fragment,null,Er.default.createElement(gN.Badge,{size:i,badge:n}),f==="error"?Er.default.createElement("span",{className:EN[i]},m):Er.default.createElement("img",{className:"rounded-full h-full w-full",src:e,onLoad:function(){return d("success")},onError:function(){return d("error")}}),r&&Er.default.createElement(kN,{size:i,status:r}))};mo.AvatarInner=bN;var xN={xs:"h-2 w-2",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-12 w-12"},ON={online:"bg-success-500",offline:"bg-danger-500",busy:"bg-warning-500",away:"bg-secondary-500"},kN=function(t){return Er.default.createElement("span",{className:"flex absolute bottom-0 right-0"},t.status==="online"&&Er.default.createElement("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success-400 opacity-75"}),Er.default.createElement("span",{className:"relative inline-flex rounded-full ".concat(ON[t.status]," ").concat(xN[t.size])}))},TN='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"/><path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/></svg>'});var xE=Oe(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.AvatarGroup=void 0;var Lp=ct(),Pp=(0,Lp.__importDefault)(Vt()),cl=(0,Lp.__importDefault)(Me()),EE=Kc(),bE={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},NN=function(t){var e=t.maxShow,r=e===void 0?5:e,n=t.avatars,i=t.size,o=t.onClick;if(r<1)return console.error(`Property "maxShow" can't be less than 1`),null;var s=n.slice(0,r),a=n.length-s.length;return cl.default.createElement("div",{className:(0,Pp.default)("flex flex-row-reverse justify-center mt-10",o&&"cursor-pointer",t.className),onClick:o},a>0&&cl.default.createElement("div",{className:(0,Pp.default)(`
                flex flex-shrink-0 relative
                bg-secondary-500
                justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 text-xl text-white`,bE[i])},cl.default.createElement(EE.AvatarInner,{size:i,dataState:"done",name:"+".concat(a)})),s.map(function(f,d){var m=f.dataState,v=f.backgroundColor,y=f.imgSrc,w=f.name,E=f.status,I={dataState:m,name:w,imgSrc:y,status:E,size:i};return cl.default.createElement("div",{className:(0,Pp.default)("flex flex-shrink-0 relative justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 border-white",!(f.backgroundColor||f.dataState==="loading")&&"bg-secondary-500",bE[i]),style:{backgroundColor:v},key:d},cl.default.createElement(EE.AvatarInner,(0,Lp.__assign)({},I)))}))};Zc.AvatarGroup=NN});var Qc=Oe(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.Backdrop=void 0;var jp=ct(),AN=(0,jp.__importDefault)(Vt()),Mp=(0,jp.__importStar)(Me()),IN=function(t){var e=t.zIndex,r=t.onBackdropClick,n=t.maxOpacity,i=n===void 0?40:n,o=t.transition,s=o===void 0?!0:o,a=t.style,f=t.className,d=(0,Mp.useState)(!s),m=d[0],v=d[1];return(0,Mp.useEffect)(function(){return!m&&setTimeout(function(){return v(!0)},0)},[m]),Mp.default.createElement("div",{className:(0,AN.default)("fixed top-0 left-0 right-0 w-screen h-screen bg-black",s&&"transition-opacity duration-200",f),style:(0,jp.__assign)({zIndex:e,opacity:m?Number((i/100).toFixed(2)):0},a),onClick:r})};Xc.Backdrop=IN});var fl=Oe(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.Button=void 0;var ef=ct(),RN=(0,ef.__importDefault)(Vt()),Bp=(0,ef.__importStar)(Me()),DN=Gc(),FN={xs:"text-xs p-0.5 px-1",sm:"text-sm p-1 px-2",md:"text-base p-1.5 px-3",lg:"text-lg p-2 px-4",xl:"text-xl p-2.5 px-5",auto:"p-1.5 text-base h-full w-full"},CN={primary:"bg-primary-500",secondary:"bg-secondary-500",success:"bg-success-500",info:"bg-info-500",danger:"bg-danger-500",warning:"bg-warning-500"},PN={primary:"hover:bg-primary-600",secondary:"hover:bg-secondary-600",success:"hover:bg-success-600",info:"hover:bg-info-600",danger:"hover:bg-danger-700",warning:"hover:bg-warning-600"},LN={primary:"border-primary-500 text-primary-500",secondary:"border-secondary-500 text-secondary-500",success:"border-success-500 text-success-500",info:"border-info-500 text-info-500",danger:"border-danger-500 text-danger-500",warning:"border-warning-500 text-warning-500"},MN={xs:"xs",sm:"sm",md:"md",lg:"md",xl:"lg",auto:"md"},jN=function(t){var e=t.size,r=e===void 0?"md":e,n=t.type,i=n===void 0?"secondary":n,o=t.shape,s=o===void 0?"round":o,a=t.outline,f=a===void 0?!1:a,d=t.badge,m=t.className,v=t.disabled,y=t.children,w=t.htmlType,E=w===void 0?"button":w,I=(0,ef.__rest)(t,["size","type","shape","outline","badge","className","disabled","children","htmlType"]),O=(0,Bp.useState)(!1),A=O[0],F=O[1];return Bp.default.createElement("button",(0,ef.__assign)({type:E,className:(0,RN.default)("relative text-gray-100 font-normal border-2 transition-all",FN[r],f&&!A?LN[i]:CN[i]+" border-transparent",s==="flat"?"rounded-none":"rounded-lg",v&&"opacity-60",!v&&PN[i],m),onMouseEnter:function(){return F(!v)},onMouseLeave:function(){return F(!1)},disabled:v},I),d&&Bp.default.createElement(DN.Badge,{size:MN[r],badge:d,className:r==="xs"||r==="sm"?"-top-1.5 -right-1.5":"-top-2 -right-3"}),y)};tf.Button=jN});var OE=Oe(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.Dropdown=void 0;var rf=ct(),BN=or(),hl=(0,rf.__importDefault)(Vt()),br=(0,rf.__importStar)(Me()),UN=xi(),zN={xs:"w-30",sm:"w-44",md:"w-60",lg:"w-80",xl:"w-96",auto:"w-full"};function VN(t){var e=t.header,r=t.items,n=t.show,i=t.children,o=t.itemBorders,s=t.size,a=s===void 0?"md":s,f=t.className,d=t.align,m=d===void 0?"left":d,v=t.containerClassName,y=(0,br.useState)(n||!1),w=y[0],E=y[1],I=function(){return setTimeout(function(){return E(!1)},0)},O=(0,br.useRef)(null);(0,UN.clickOutListener)(O,I);var A=o?r.filter(function(Y){return Y.type!=="break"}):r,F={onClick:function(){return E(!w)},onBlur:I};return br.default.createElement("div",(0,rf.__assign)({className:(0,hl.default)("relative",v)},n??F,{ref:O}),i,br.default.createElement("div",{className:(0,hl.default)("animate-slide-down absolute bg-white text-sm list-none divide-gray-100 rounded-sm shadow-md border",!(n??w)&&"hidden",m==="right"&&"right-0 left-auto",zN[a],f)},e&&br.default.createElement("div",{className:(0,hl.default)("cursor-default",o&&"border-b border-secondary-200")},(0,BN.isType)(e,"string")?br.default.createElement("span",{className:"py-1.5 block text-center text-gray-500 text-base"},e):e),br.default.createElement("ul",null,A.map(function(Y,H,Z){var j=Z.length;return br.default.createElement(WN,(0,rf.__assign)({},Y,{border:o,isLast:H===j-1,key:H}))}))))}nf.Dropdown=VN;var WN=function(t){var e=(0,hl.default)(!t.isLast&&t.border&&"border-b border-secondary-200");switch(t.type){case"action":return br.default.createElement("li",{className:e},br.default.createElement("a",{className:"hover:bg-gray-100 text-gray-700 cursor-pointer block px-4 py-1.5",onClick:t.onClick},t.title));case"break":return br.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return br.default.createElement("li",{className:(0,hl.default)("text-gray-600 text-center block py-1 cursor-default",e)},br.default.createElement("span",{className:"text-xs"},t.title));case"jsx":return br.default.createElement("li",{className:e},t.element);default:throw console.error(t),new Error("This type of MenuItem is not implemented.")}}});var ny=Oe(Pr=>{"use strict";function qN(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}Object.defineProperty(Pr,"__esModule",{value:!0});var Fe=qN(Me()),pl=t=>t.type==="checkbox",Os=t=>t instanceof Date,xr=t=>t==null,BE=t=>typeof t=="object",Wt=t=>!xr(t)&&!Array.isArray(t)&&BE(t)&&!Os(t),UE=t=>Wt(t)&&t.target?pl(t.target)?t.target.checked:t.target.value:t,zE=(t,e)=>[...t].some(r=>(n=>n.substring(0,n.search(/.\d/))||n)(e)===r),yl=t=>t.filter(Boolean),at=t=>t===void 0,xe=(t,e,r)=>{if(!e||!Wt(t))return r;let n=yl(e.split(/[,[\].]+?/)).reduce((i,o)=>xr(i)?i:i[o],t);return at(n)||n===t?at(t[e])?r:t[e]:n},VE="blur",$N="focusout",HN="change",GN="onBlur",WE="onChange",qE="onSubmit",JN="onTouched",ml="all",YN="max",KN="min",ZN="maxLength",XN="minLength",kE="pattern",TE="required",QN="validate",ff=(t,e)=>{let r=Object.assign({},t);return delete r[e],r},$E=Fe.default.createContext(null),gl=()=>Fe.default.useContext($E),HE=(t,e,r,n=!0)=>{let i={};for(let o in t)Object.defineProperty(i,o,{get:()=>{let s=o;return e[s]!==ml&&(e[s]=!n||ml),r&&(r[s]=!0),t[s]}});return i},Lr=t=>Wt(t)&&!Object.keys(t).length,GE=(t,e,r)=>{let n=ff(t,"name");return Lr(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(i=>e[i]===(!r||ml))},Mr=t=>Array.isArray(t)?t:[t],JE=(t,e,r)=>r&&e?t===e:!t||!e||t===e||Mr(t).some(n=>n&&(n.startsWith(e)||e.startsWith(n)));function af(t){let e=Fe.default.useRef(t);e.current=t,Fe.default.useEffect(()=>{let r=!t.disabled&&e.current.subject.subscribe({next:e.current.callback});return()=>(n=>{n&&n.unsubscribe()})(r)},[t.disabled])}function YE(t){let e=gl(),{control:r=e.control,disabled:n,name:i,exact:o}=t||{},[s,a]=Fe.default.useState(r._formState),f=Fe.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Fe.default.useRef(i),m=Fe.default.useRef(!0);return d.current=i,af({disabled:n,callback:Fe.default.useCallback(v=>m.current&&JE(d.current,v.name,o)&&GE(v,f.current)&&a(Object.assign(Object.assign({},r._formState),v)),[r,o]),subject:r._subjects.state}),Fe.default.useEffect(()=>()=>{m.current=!1},[]),HE(s,r._proxyFormState,f.current,!1)}var Tn=t=>typeof t=="string",KE=(t,e,r,n)=>{let i=Array.isArray(t);return Tn(t)?(n&&e.watch.add(t),xe(r,t)):i?t.map(o=>(n&&e.watch.add(o),xe(r,o))):(n&&(e.watchAll=!0),r)},hf=t=>typeof t=="function",Qp=t=>{for(let e in t)if(hf(t[e]))return!0;return!1};function ZE(t){let e=gl(),{control:r=e.control,name:n,defaultValue:i,disabled:o,exact:s}=t||{},a=Fe.default.useRef(n);a.current=n;let f=Fe.default.useCallback(v=>{if(JE(a.current,v.name,s)){let y=KE(a.current,r._names,v.values||r._formValues);m(at(a.current)||Wt(y)&&!Qp(y)?Object.assign({},y):Array.isArray(y)?[...y]:at(y)?i:y)}},[r,s,i]);af({disabled:o,subject:r._subjects.watch,callback:f});let[d,m]=Fe.default.useState(at(i)?r._getWatch(n):i);return Fe.default.useEffect(()=>{r._removeUnmounted()}),d}function NE(t){let e=gl(),{name:r,control:n=e.control,shouldUnregister:i}=t,o=zE(n._names.array,r),s=ZE({control:n,name:r,defaultValue:xe(n._formValues,r,xe(n._defaultValues,r,t.defaultValue)),exact:!0}),a=YE({control:n,name:r}),f=Fe.default.useRef(n.register(r,Object.assign(Object.assign({},t.rules),{value:s})));return Fe.default.useEffect(()=>{let d=(m,v)=>{let y=xe(n._fields,m);y&&(y._f.mount=v)};return d(r,!0),()=>{let m=n._options.shouldUnregister||i;(o?m&&!n._stateFlags.action:m)?n.unregister(r):d(r,!1)}},[r,n,o,i]),{field:{name:r,value:s,onChange:Fe.default.useCallback(d=>{f.current.onChange({target:{value:UE(d),name:r},type:HN})},[r]),onBlur:Fe.default.useCallback(()=>{f.current.onBlur({target:{value:xe(n._formValues,r),name:r},type:VE})},[r,n]),ref:Fe.default.useCallback(d=>{let m=xe(n._fields,r);d&&m&&d.focus&&(m._f.ref={focus:()=>d.focus(),setCustomValidity:v=>d.setCustomValidity(v),reportValidity:()=>d.reportValidity()})},[r,n._fields])},formState:a,fieldState:n.getFieldState(r,a)}}var XE=(t,e,r,n,i)=>e?Object.assign(Object.assign({},r[t]),{types:Object.assign(Object.assign({},r[t]&&r[t].types?r[t].types:{}),{[n]:i||!0})}):{},ey=t=>/^\w*$/.test(t),QE=t=>yl(t.replace(/["|']|\]/g,"").split(/\.|\[/));function pt(t,e,r){let n=-1,i=ey(e)?[e]:QE(e),o=i.length,s=o-1;for(;++n<o;){let a=i[n],f=r;if(n!==s){let d=t[a];f=Wt(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}t[a]=f,t=t[a]}return t}var lf=(t,e,r)=>{for(let n of r||Object.keys(t)){let i=xe(t,n);if(i){let o=i._f,s=ff(i,"_f");if(o&&e(o.name)){if(o.ref.focus&&at(o.ref.focus()))break;if(o.refs){o.refs[0].focus();break}}else Wt(s)&&lf(s,e)}}},Oi=()=>{let t=typeof performance>"u"?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let r=(16*Math.random()+t)%16|0;return(e=="x"?r:3&r|8).toString(16)})},Up=(t,e,r={})=>r.shouldFocus||at(r.shouldFocus)?r.focusName||`${t}.${at(r.focusIndex)?e:r.focusIndex}.`:"",Zp=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));function zp(t,e){return[...t,...Mr(e)]}function kn(t){let e,r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else{if(!r&&!Wt(t))return t;e=r?[]:{};for(let n in t){if(hf(t[n])){e=t;break}e[n]=kn(t[n])}}return e}var Vp=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Wp(t,e,r){return[...t.slice(0,e),...Mr(r),...t.slice(e)]}var qp=(t,e,r)=>Array.isArray(t)?(at(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[];function $p(t,e){return[...Mr(e),...Mr(t)]}var Hp=(t,e)=>at(e)?[]:function(r,n){let i=0,o=[...r];for(let s of n)o.splice(s-i,1),i++;return yl(o).length?o:[]}(t,Mr(e).sort((r,n)=>r-n)),Gp=(t,e,r)=>{t[e]=[t[r],t[r]=t[e]][0]},AE=(t,e,r)=>(t[e]=r,t);function Jp(){let t=[];return{get observers(){return t},next:e=>{for(let r of t)r.next(e)},subscribe:e=>(t.push(e),{unsubscribe:()=>{t=t.filter(r=>r!==e)}}),unsubscribe:()=>{t=[]}}}var uf=t=>xr(t)||!BE(t);function ks(t,e){if(uf(t)||uf(e))return t===e;if(Os(t)&&Os(e))return t.getTime()===e.getTime();let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i of r){let o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){let s=e[i];if(Os(o)&&Os(s)||Wt(o)&&Wt(s)||Array.isArray(o)&&Array.isArray(s)?!ks(o,s):o!==s)return!1}}return!0}var IE=t=>({isOnSubmit:!t||t===qE,isOnBlur:t===GN,isOnChange:t===WE,isOnAll:t===ml,isOnTouch:t===JN}),vl=t=>typeof t=="boolean",ty=t=>t.type==="file",Xp=t=>t instanceof HTMLElement,eb=t=>t.type==="select-multiple",ry=t=>t.type==="radio",RE=typeof window<"u"&&window.HTMLElement!==void 0&&typeof document<"u",Yp=t=>Xp(t)&&t.isConnected;function ur(t,e){let r=ey(e)?[e]:QE(e),n=r.length==1?t:function(s,a){let f=a.slice(0,-1).length,d=0;for(;d<f;)s=at(s)?d++:s[a[d++]];return s}(t,r),i=r[r.length-1],o;n&&delete n[i];for(let s=0;s<r.slice(0,-1).length;s++){let a,f=-1,d=r.slice(0,-(s+1)),m=d.length-1;for(s>0&&(o=t);++f<d.length;){let v=d[f];a=a?a[v]:t[v],m===f&&(Wt(a)&&Lr(a)||Array.isArray(a)&&!a.filter(y=>Wt(y)&&!Lr(y)||vl(y)||Array.isArray(y)&&y.length).length)&&(o?delete o[v]:delete t[v]),o=a}}return t}function of(t,e={}){let r=Array.isArray(t);if(Wt(t)||r)for(let n in t)Array.isArray(t[n])||Wt(t[n])&&!Qp(t[n])?(e[n]=Array.isArray(t[n])?[]:{},of(t[n],e[n])):xr(t[n])||(e[n]=!0);return e}var DE=(t,e)=>function r(n,i,o){let s=Array.isArray(n);if(Wt(n)||s)for(let a in n)Array.isArray(n[a])||Wt(n[a])&&!Qp(n[a])?at(i)||uf(o[a])?o[a]=Array.isArray(n[a])?of(n[a],[]):Object.assign({},of(n[a])):r(n[a],xr(i)?{}:i[a],o[a]):o[a]=!ks(n[a],i[a]);return o}(t,e,of(e)),FE={value:!1,isValid:!1},CE={value:!0,isValid:!0},tb=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!at(t[0].attributes.value)?at(t[0].value)||t[0].value===""?CE:{value:t[0].value,isValid:!0}:CE:FE}return FE},rb=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>at(t)?t:e?t===""?NaN:+t:r&&Tn(t)?new Date(t):n?n(t):t,PE={isValid:!1,value:null},nb=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,PE):PE;function Kp(t){let e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return ty(e)?e.files:ry(e)?nb(t.refs).value:eb(e)?[...e.selectedOptions].map(({value:r})=>r):pl(e)?tb(t.refs).value:rb(at(e.value)?t.ref.value:e.value,t)}var cf=t=>t instanceof RegExp,dl=t=>at(t)?void 0:cf(t)?t.source:Wt(t)?cf(t.value)?t.value.source:t.value:t;function LE(t,e,r){let n=xe(t,r);if(n||ey(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),s=xe(e,o),a=xe(t,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:r}}var sf=t=>Tn(t)||Fe.default.isValidElement(t);function ME(t,e,r="validate"){if(sf(t)||Array.isArray(t)&&t.every(sf)||vl(t)&&!t)return{type:r,message:sf(t)?t:"",ref:e}}var xs=t=>Wt(t)&&!cf(t)?t:{value:t,message:""},jE=async(t,e,r,n)=>{let{ref:i,refs:o,required:s,maxLength:a,minLength:f,min:d,max:m,pattern:v,validate:y,name:w,valueAsNumber:E,mount:I,disabled:O}=t._f;if(!I||O)return{};let A=o?o[0]:i,F=re=>{n&&A.reportValidity&&(A.setCustomValidity(vl(re)?"":re||" "),A.reportValidity())},Y={},H=ry(i),Z=pl(i),j=H||Z,V=(E||ty(i))&&!i.value||e===""||Array.isArray(e)&&!e.length,S=XE.bind(null,w,r,Y),W=(re,X,le,ae=ZN,me=XN)=>{let L=re?X:le;Y[w]=Object.assign({type:re?ae:me,message:L,ref:i},S(re?ae:me,L))};if(s&&(!j&&(V||xr(e))||vl(e)&&!e||Z&&!tb(o).isValid||H&&!nb(o).isValid)){let{value:re,message:X}=sf(s)?{value:!!s,message:s}:xs(s);if(re&&(Y[w]=Object.assign({type:TE,message:X,ref:A},S(TE,X)),!r))return F(X),Y}if(!(V||xr(d)&&xr(m))){let re,X,le=xs(m),ae=xs(d);if(isNaN(e)){let me=i.valueAsDate||new Date(e);Tn(le.value)&&(re=me>new Date(le.value)),Tn(ae.value)&&(X=me<new Date(ae.value))}else{let me=i.valueAsNumber||+e;xr(le.value)||(re=me>le.value),xr(ae.value)||(X=me<ae.value)}if((re||X)&&(W(!!re,le.message,ae.message,YN,KN),!r))return F(Y[w].message),Y}if((a||f)&&!V&&Tn(e)){let re=xs(a),X=xs(f),le=!xr(re.value)&&e.length>re.value,ae=!xr(X.value)&&e.length<X.value;if((le||ae)&&(W(le,re.message,X.message),!r))return F(Y[w].message),Y}if(v&&!V&&Tn(e)){let{value:re,message:X}=xs(v);if(cf(re)&&!e.match(re)&&(Y[w]=Object.assign({type:kE,message:X,ref:i},S(kE,X)),!r))return F(X),Y}if(y){if(hf(y)){let re=ME(await y(e),A);if(re&&(Y[w]=Object.assign(Object.assign({},re),S(QN,re.message)),!r))return F(re.message),Y}else if(Wt(y)){let re={};for(let X in y){if(!Lr(re)&&!r)break;let le=ME(await y[X](e),A,X);le&&(re=Object.assign(Object.assign({},le),S(X,le.message)),F(le.message),r&&(Y[w]=re))}if(!Lr(re)&&(Y[w]=Object.assign({ref:A},re),!r))return Y}}return F(!0),Y},e8={mode:qE,reValidateMode:WE,shouldFocusError:!0};function t8(t={}){let e,r=Object.assign(Object.assign({},e8),t),n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},o=r.defaultValues||{},s=r.shouldUnregister?{}:kn(o),a={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d=0,m={},v={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:Jp(),array:Jp(),state:Jp()},w=IE(r.mode),E=IE(r.reValidateMode),I=r.criteriaMode===ml,O=async U=>{let z=!1;return v.isValid&&(z=r.resolver?Lr((await Z()).errors):await j(i,!0),U||z===n.isValid||(n.isValid=z,y.state.next({isValid:z}))),z},A=(U,z)=>(pt(n.errors,U,z),y.state.next({errors:n.errors})),F=(U,z,G,ue)=>{let oe=xe(i,U);if(oe){let ne=xe(s,U,at(G)?xe(o,U):G);at(ne)||ue&&ue.defaultChecked||z?pt(s,U,z?ne:Kp(oe._f)):W(U,ne),a.mount&&O()}},Y=(U,z,G,ue,oe)=>{let ne=!1,se={name:U},ye=xe(n.touchedFields,U);if(v.isDirty){let be=n.isDirty;n.isDirty=se.isDirty=V(),ne=be!==se.isDirty}if(v.dirtyFields&&(!G||ue)){let be=xe(n.dirtyFields,U);ks(xe(o,U),z)?ur(n.dirtyFields,U):pt(n.dirtyFields,U,!0),se.dirtyFields=n.dirtyFields,ne=ne||be!==xe(n.dirtyFields,U)}return G&&!ye&&(pt(n.touchedFields,U,G),se.touchedFields=n.touchedFields,ne=ne||v.touchedFields&&ye!==G),ne&&oe&&y.state.next(se),ne?se:{}},H=async(U,z,G,ue,oe)=>{let ne=xe(n.errors,z),se=v.isValid&&n.isValid!==G;var ye,be;if(t.delayError&&ue?(e=e||(ye=A,be=t.delayError,(...Ie)=>{clearTimeout(d),d=window.setTimeout(()=>ye(...Ie),be)}),e(z,ue)):(clearTimeout(d),ue?pt(n.errors,z,ue):ur(n.errors,z)),((ue?!ks(ne,ue):ne)||!Lr(oe)||se)&&!U){let Ie=Object.assign(Object.assign(Object.assign({},oe),se?{isValid:G}:{}),{errors:n.errors,name:z});n=Object.assign(Object.assign({},n),Ie),y.state.next(Ie)}m[z]--,v.isValidating&&!Object.values(m).some(Ie=>Ie)&&(y.state.next({isValidating:!1}),m={})},Z=async U=>r.resolver?await r.resolver(Object.assign({},s),r.context,((z,G,ue,oe)=>{let ne={};for(let se of z){let ye=xe(G,se);ye&&pt(ne,se,ye._f)}return{criteriaMode:ue,names:[...z],fields:ne,shouldUseNativeValidation:oe}})(U||f.mount,i,r.criteriaMode,r.shouldUseNativeValidation)):{},j=async(U,z,G={valid:!0})=>{for(let ue in U){let oe=U[ue];if(oe){let ne=oe._f,se=ff(oe,"_f");if(ne){let ye=await jE(oe,xe(s,ne.name),I,r.shouldUseNativeValidation);if(ye[ne.name]&&(G.valid=!1,z))break;z||(ye[ne.name]?pt(n.errors,ne.name,ye[ne.name]):ur(n.errors,ne.name))}se&&await j(se,z,G)}}return G.valid},V=(U,z)=>(U&&z&&pt(s,U,z),!ks(me(),o)),S=(U,z,G)=>{let ue=Object.assign({},a.mount?s:at(z)?o:Tn(U)?{[U]:z}:z);return KE(U,f,ue,G)},W=(U,z,G={})=>{let ue=xe(i,U),oe=z;if(ue){let ne=ue._f;ne&&(!ne.disabled&&pt(s,U,rb(z,ne)),oe=RE&&Xp(ne.ref)&&xr(z)?"":z,eb(ne.ref)?[...ne.ref.options].forEach(se=>se.selected=oe.includes(se.value)):ne.refs?pl(ne.ref)?ne.refs.length>1?ne.refs.forEach(se=>se.checked=Array.isArray(oe)?!!oe.find(ye=>ye===se.value):oe===se.value):ne.refs[0]&&(ne.refs[0].checked=!!oe):ne.refs.forEach(se=>se.checked=se.value===oe):ty(ne.ref)?ne.ref.value="":(ne.ref.value=oe,ne.ref.type||y.watch.next({name:U})))}(G.shouldDirty||G.shouldTouch)&&Y(U,oe,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&ae(U)},re=(U,z,G)=>{for(let ue in z){let oe=z[ue],ne=`${U}.${ue}`,se=xe(i,ne);!f.array.has(U)&&uf(oe)&&(!se||se._f)||Os(oe)?W(ne,oe,G):re(ne,oe,G)}},X=(U,z,G={})=>{let ue=xe(i,U),oe=f.array.has(U),ne=kn(z);pt(s,U,ne),oe?(y.array.next({name:U,values:s}),(v.isDirty||v.dirtyFields)&&G.shouldDirty&&(n.dirtyFields=DE(o,s),y.state.next({name:U,dirtyFields:n.dirtyFields,isDirty:V(U,ne)}))):!ue||ue._f||xr(ne)?W(U,ne,G):re(U,ne,G),Zp(U,f)&&y.state.next({}),y.watch.next({name:U})},le=async U=>{let z=U.target,G=z.name,ue=xe(i,G);if(ue){let ne,se,ye=z.type?Kp(ue._f):UE(U),be=U.type===VE||U.type===$N,Ie=!((oe=ue._f).mount&&(oe.required||oe.min||oe.max||oe.maxLength||oe.minLength||oe.pattern||oe.validate)||r.resolver||xe(n.errors,G)||ue._f.deps)||(($,K,J,Se,C)=>!C.isOnAll&&(!J&&C.isOnTouch?!(K||$):(J?Se.isOnBlur:C.isOnBlur)?!$:!(J?Se.isOnChange:C.isOnChange)||$))(be,xe(n.touchedFields,G),n.isSubmitted,E,w),k=Zp(G,f,be);pt(s,G,ye),be?ue._f.onBlur&&ue._f.onBlur(U):ue._f.onChange&&ue._f.onChange(U);let R=Y(G,ye,be,!1),M=!Lr(R)||k;if(!be&&y.watch.next({name:G,type:U.type}),Ie)return M&&y.state.next(Object.assign({name:G},k?{}:R));if(!be&&k&&y.state.next({}),m[G]=(m[G],1),y.state.next({isValidating:!0}),r.resolver){let{errors:$}=await Z([G]),K=LE(n.errors,i,G),J=LE($,i,K.name||G);ne=J.error,G=J.name,se=Lr($)}else ne=(await jE(ue,xe(s,G),I,r.shouldUseNativeValidation))[G],se=await O(!0);ue._f.deps&&ae(ue._f.deps),H(!1,G,se,ne,R)}var oe},ae=async(U,z={})=>{let G,ue,oe=Mr(U);if(y.state.next({isValidating:!0}),r.resolver){let ne=await(async se=>{let{errors:ye}=await Z();if(se)for(let be of se){let Ie=xe(ye,be);Ie?pt(n.errors,be,Ie):ur(n.errors,be)}else n.errors=ye;return ye})(at(U)?U:oe);G=Lr(ne),ue=U?!oe.some(se=>xe(ne,se)):G}else U?(ue=(await Promise.all(oe.map(async ne=>{let se=xe(i,ne);return await j(se&&se._f?{[ne]:se}:se)}))).every(Boolean),(ue||n.isValid)&&O()):ue=G=await j(i);return y.state.next(Object.assign(Object.assign(Object.assign({},!Tn(U)||v.isValid&&G!==n.isValid?{}:{name:U}),r.resolver?{isValid:G}:{}),{errors:n.errors,isValidating:!1})),z.shouldFocus&&!ue&&lf(i,ne=>xe(n.errors,ne),U?oe:f.mount),ue},me=U=>{let z=Object.assign(Object.assign({},o),a.mount?s:{});return at(U)?z:Tn(U)?xe(z,U):U.map(G=>xe(z,G))},L=(U,z)=>({invalid:!!xe((z||n).errors,U),isDirty:!!xe((z||n).dirtyFields,U),isTouched:!!xe((z||n).touchedFields,U),error:xe((z||n).errors,U)}),D=(U,z={})=>{for(let G of U?Mr(U):f.mount)f.mount.delete(G),f.array.delete(G),xe(i,G)&&(z.keepValue||(ur(i,G),ur(s,G)),!z.keepError&&ur(n.errors,G),!z.keepDirty&&ur(n.dirtyFields,G),!z.keepTouched&&ur(n.touchedFields,G),!r.shouldUnregister&&!z.keepDefaultValue&&ur(o,G));y.watch.next({}),y.state.next(Object.assign(Object.assign({},n),z.keepDirty?{isDirty:V()}:{})),!z.keepIsValid&&O()},ie=(U,z={})=>{let G=xe(i,U),ue=vl(z.disabled);return pt(i,U,{_f:Object.assign(Object.assign(Object.assign({},G&&G._f?G._f:{ref:{name:U}}),{name:U,mount:!0}),z)}),f.mount.add(U),G?ue&&pt(s,U,z.disabled?void 0:xe(s,U,Kp(G._f))):F(U,!0,z.value),Object.assign(Object.assign(Object.assign({},ue?{disabled:z.disabled}:{}),r.shouldUseNativeValidation?{required:!!z.required,min:dl(z.min),max:dl(z.max),minLength:dl(z.minLength),maxLength:dl(z.maxLength),pattern:dl(z.pattern)}:{}),{name:U,onChange:le,onBlur:le,ref:oe=>{if(oe){ie(U,z),G=xe(i,U);let ne=at(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,se=(be=>ry(be)||pl(be))(ne),ye=G._f.refs||[];if(se?ye.find(be=>be===ne):ne===G._f.ref)return;pt(i,U,{_f:Object.assign(Object.assign({},G._f),se?{refs:ye.concat(ne).filter(Yp),ref:{type:ne.type,name:U}}:{ref:ne})}),F(U,!1,void 0,ne)}else G=xe(i,U,{}),G._f&&(G._f.mount=!1),(r.shouldUnregister||z.shouldUnregister)&&(!zE(f.array,U)||!a.action)&&f.unMount.add(U)}})};return{control:{register:ie,unregister:D,getFieldState:L,_executeSchema:Z,_getWatch:S,_getDirty:V,_updateValid:O,_removeUnmounted:()=>{for(let U of f.unMount){let z=xe(i,U);z&&(z._f.refs?z._f.refs.every(G=>!Yp(G)):!Yp(z._f.ref))&&D(U)}f.unMount=new Set},_updateFieldArray:(U,z=[],G,ue,oe=!0,ne=!0)=>{if(ue&&G){if(a.action=!0,ne&&Array.isArray(xe(i,U))){let se=G(xe(i,U),ue.argA,ue.argB);oe&&pt(i,U,se)}if(v.errors&&ne&&Array.isArray(xe(n.errors,U))){let se=G(xe(n.errors,U),ue.argA,ue.argB);oe&&pt(n.errors,U,se),((ye,be)=>{!yl(xe(ye,be)).length&&ur(ye,be)})(n.errors,U)}if(v.touchedFields&&Array.isArray(xe(n.touchedFields,U))){let se=G(xe(n.touchedFields,U),ue.argA,ue.argB);oe&&pt(n.touchedFields,U,se)}v.dirtyFields&&(n.dirtyFields=DE(o,s)),y.state.next({isDirty:V(U,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else pt(s,U,z)},_getFieldArray:U=>yl(xe(a.mount?s:o,U,t.shouldUnregister?xe(o,U,[]):[])),_subjects:y,_proxyFormState:v,get _fields(){return i},get _formValues(){return s},get _stateFlags(){return a},set _stateFlags(U){a=U},get _defaultValues(){return o},get _names(){return f},set _names(U){f=U},get _formState(){return n},set _formState(U){n=U},get _options(){return r},set _options(U){r=Object.assign(Object.assign({},r),U)}},trigger:ae,register:ie,handleSubmit:(U,z)=>async G=>{G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let ue=!0,oe=kn(s);y.state.next({isSubmitting:!0});try{if(r.resolver){let{errors:ne,values:se}=await Z();n.errors=ne,oe=se}else await j(i);Lr(n.errors)&&Object.keys(n.errors).every(ne=>xe(oe,ne))?(y.state.next({errors:{},isSubmitting:!0}),await U(oe,G)):(z&&await z(Object.assign({},n.errors),G),r.shouldFocusError&&lf(i,ne=>xe(n.errors,ne),f.mount))}catch(ne){throw ue=!1,ne}finally{n.isSubmitted=!0,y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lr(n.errors)&&ue,submitCount:n.submitCount+1,errors:n.errors})}},watch:(U,z)=>hf(U)?y.watch.subscribe({next:G=>U(S(void 0,z),G)}):S(U,z,!0),setValue:X,getValues:me,reset:(U,z={})=>{let G=U||o,ue=kn(G),oe=U&&!Lr(U)?ue:o;if(z.keepDefaultValues||(o=G),!z.keepValues){if(RE&&at(U))for(let ne of f.mount){let se=xe(i,ne);if(se&&se._f){let ye=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;try{Xp(ye)&&ye.closest("form").reset();break}catch{}}}s=t.shouldUnregister?z.keepDefaultValues?kn(o):{}:ue,i={},y.array.next({values:oe}),y.watch.next({values:oe})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!v.isValid||!!z.keepIsValid,a.watch=!!t.shouldUnregister,y.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:z.keepDirty?n.isDirty:!!z.keepDefaultValues&&!ks(U,o),isSubmitted:!!z.keepIsSubmitted&&n.isSubmitted,dirtyFields:z.keepDirty?n.dirtyFields:z.keepDefaultValues&&U?Object.entries(U).reduce((ne,[se,ye])=>Object.assign(Object.assign({},ne),{[se]:ye!==xe(o,se)}),{}):{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(U,z={})=>{xe(i,U)&&(at(z.defaultValue)?X(U,xe(o,U)):(X(U,z.defaultValue),pt(o,U,z.defaultValue)),z.keepTouched||ur(n.touchedFields,U),z.keepDirty||(ur(n.dirtyFields,U),n.isDirty=z.defaultValue?V(U,xe(o,U)):V()),z.keepError||(ur(n.errors,U),v.isValid&&O()),y.state.next(Object.assign({},n)))},clearErrors:U=>{U?Mr(U).forEach(z=>ur(n.errors,z)):n.errors={},y.state.next({errors:n.errors})},unregister:D,setError:(U,z,G)=>{let ue=(xe(i,U,{_f:{}})._f||{}).ref;pt(n.errors,U,Object.assign(Object.assign({},z),{ref:ue})),y.state.next({name:U,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&ue&&ue.focus&&ue.focus()},setFocus:(U,z={})=>{let G=xe(i,U)._f,ue=G.refs?G.refs[0]:G.ref;z.shouldSelect?ue.select():ue.focus()},getFieldState:L}}Pr.Controller=t=>t.render(NE(t)),Pr.FormProvider=t=>Fe.default.createElement($E.Provider,{value:ff(t,"children")},t.children),Pr.appendErrors=XE,Pr.get=xe,Pr.set=pt,Pr.useController=NE,Pr.useFieldArray=function(t){let e=gl(),{control:r=e.control,name:n,keyName:i="id",shouldUnregister:o}=t,[s,a]=Fe.default.useState(r._getFieldArray(n)),f=Fe.default.useRef(r._getFieldArray(n).map(Oi)),d=Fe.default.useRef(s),m=Fe.default.useRef(n),v=Fe.default.useRef(!1);m.current=n,d.current=s,r._names.array.add(n),af({callback:Fe.default.useCallback(({values:w,name:E})=>{if(E===m.current||!E){let I=xe(w,m.current,[]);a(I),f.current=I.map(Oi)}},[]),subject:r._subjects.array});let y=Fe.default.useCallback(w=>{v.current=!0,r._updateFieldArray(n,w)},[r,n]);return Fe.default.useEffect(()=>{r._stateFlags.action=!1,Zp(n,r._names)&&r._subjects.state.next({}),v.current&&r._executeSchema([n]).then(w=>{let E=xe(w.errors,n);E&&E.type&&!xe(r._formState.errors,n)&&(pt(r._formState.errors,n,E),r._subjects.state.next({errors:r._formState.errors}))}),r._subjects.watch.next({name:n,values:r._formValues}),r._names.focus&&lf(r._fields,w=>w.startsWith(r._names.focus)),r._names.focus="",r._proxyFormState.isValid&&r._updateValid()},[s,n,r]),Fe.default.useEffect(()=>(!xe(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||o)&&r.unregister(n)}),[n,r,i,o]),{swap:Fe.default.useCallback((w,E)=>{let I=r._getFieldArray(n);Gp(I,w,E),Gp(f.current,w,E),y(I),a(I),r._updateFieldArray(n,I,Gp,{argA:w,argB:E},!1)},[y,n,r]),move:Fe.default.useCallback((w,E)=>{let I=r._getFieldArray(n);qp(I,w,E),qp(f.current,w,E),y(I),a(I),r._updateFieldArray(n,I,qp,{argA:w,argB:E},!1)},[y,n,r]),prepend:Fe.default.useCallback((w,E)=>{let I=Mr(kn(w)),O=$p(r._getFieldArray(n),I);r._names.focus=Up(n,0,E),f.current=$p(f.current,I.map(Oi)),y(O),a(O),r._updateFieldArray(n,O,$p,{argA:Vp(w)})},[y,n,r]),append:Fe.default.useCallback((w,E)=>{let I=Mr(kn(w)),O=zp(r._getFieldArray(n),I);r._names.focus=Up(n,O.length-1,E),f.current=zp(f.current,I.map(Oi)),y(O),a(O),r._updateFieldArray(n,O,zp,{argA:Vp(w)})},[y,n,r]),remove:Fe.default.useCallback(w=>{let E=Hp(r._getFieldArray(n),w);f.current=Hp(f.current,w),y(E),a(E),r._updateFieldArray(n,E,Hp,{argA:w})},[y,n,r]),insert:Fe.default.useCallback((w,E,I)=>{let O=Mr(kn(E)),A=Wp(r._getFieldArray(n),w,O);r._names.focus=Up(n,w,I),f.current=Wp(f.current,w,O.map(Oi)),y(A),a(A),r._updateFieldArray(n,A,Wp,{argA:w,argB:Vp(E)})},[y,n,r]),update:Fe.default.useCallback((w,E)=>{let I=AE(r._getFieldArray(n),w,E);f.current=[...I].map((O,A)=>O&&A!==w?f.current[A]:Oi()),y(I),a([...I]),r._updateFieldArray(n,I,AE,{argA:w,argB:E},!0,!1)},[y,n,r]),replace:Fe.default.useCallback(w=>{let E=Mr(kn(w));f.current=E.map(Oi),y([...E]),a([...E]),r._updateFieldArray(n,[...E],I=>I,{},!0,!1)},[y,n,r]),fields:Fe.default.useMemo(()=>s.map((w,E)=>Object.assign(Object.assign({},w),{[i]:f.current[E]||Oi()})),[s,i])}},Pr.useForm=function(t={}){let e=Fe.default.useRef(),[r,n]=Fe.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});e.current?e.current.control._options=t:e.current=Object.assign(Object.assign({},t8(t)),{formState:r});let i=e.current.control,o=Fe.default.useCallback(s=>{GE(s,i._proxyFormState,!0)&&(i._formState=Object.assign(Object.assign({},i._formState),s),n(Object.assign({},i._formState)))},[i]);return af({subject:i._subjects.state,callback:o}),Fe.default.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),e.current.formState=HE(r,i._proxyFormState),e.current},Pr.useFormContext=gl,Pr.useFormState=YE,Pr.useWatch=ZE});var yf=Oe(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.TextInput=void 0;var wl=ct(),Ts=(0,wl.__importDefault)(Me()),df=(0,wl.__importDefault)(Vt()),r8=fl(),n8=xi(),i8=function(t){var e=t.validation,r=e===void 0?"default":e,n=t.className,i=t.label,o=t.labelType,s=o===void 0?"default":o,a=t.inputClassName,f=t.button,d=t.register,m=(0,wl.__rest)(t,["validation","className","label","labelType","inputClassName","button","register"]),v=i&&s,y=Ts.default.createElement("input",(0,wl.__assign)({alt:i},m,{className:(0,df.default)("px-3 py-1.5 outline-0 border w-full",n8.TextInputBorderMap[r],m.disabled&&"bg-secondary-200",v!=="addon"&&"rounded-l-sm",!f&&"rounded-r",i||f?a:n)},d));return i||f?Ts.default.createElement("div",{className:(0,df.default)("flex",v==="default"?"flex-col":"flex-row",n)},i&&Ts.default.createElement("div",{className:(0,df.default)("flex",v==="default"&&"pb-2",v==="row:1/3"&&"w-1/3",v==="row:1/4"&&"w-1/4",v==="row:2/5"&&"w-2/5",v==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},Ts.default.createElement("span",{className:(0,df.default)(v!=="default"&&"m-auto")},i)),f?Ts.default.createElement("div",{className:"flex flex-row w-full"},y,Ts.default.createElement(r8.Button,(0,wl.__assign)({shape:"flat",className:"rounded-r-sm"},f),f.label)):y):y};pf.TextInput=i8});var ab=Oe(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.Login=void 0;var iy=ct(),ib=(0,iy.__importDefault)(Vt()),It=(0,iy.__importDefault)(Me()),o8=ny(),ob=yf(),s8=xi(),sb=fl(),a8=Yc();function l8(t){var e=t.onLoginClick,r=t.companyName,n=t.onSignUpClick,i=t.isLoading,o=t.useRegularLogin,s=t.thirdPartyLogins,a=t.className,f=t.style,d=(0,o8.useForm)(),m=d.register,v=d.handleSubmit,y=d.formState,w=d.reset,E=d.setValue,I=y.errors,O=y.submitCount,A=function(j){w(),E("email",j.email),E("password",j.password),e==null||e(j)},F="rounded-md text-sm font-medium",Y="py-2.5 pl-3 text-base font-semibold "+(i?"bg-gray-200":"bg-gray-50"),H=O>0&&I.email,Z=O>0&&I.password;return It.default.createElement("form",{className:(0,ib.default)("bg-white rounded max-w-lg w-full p-10",a),style:f,onSubmit:v(A)},It.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",r||"your account"),n&&It.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",It.default.createElement("a",{onClick:i?void 0:n,className:(0,ib.default)(`
                    hover:text-gray-500 focus:text-gray-500 focus:outline-none
                    focus:underline hover:underline text-sm font-medium leading-none
                    text-gray-800`,i?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),It.default.createElement("div",{className:"mt-4"}),s==null?void 0:s.map(function(j,V){return It.default.createElement(u8,(0,iy.__assign)({},j,{disabled:i,key:V}))}),s&&o&&It.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},It.default.createElement("hr",{className:"w-full bg-gray-400"}),It.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),It.default.createElement("hr",{className:"w-full bg-gray-400"})),o&&It.default.createElement(It.default.Fragment,null,It.default.createElement(ob.TextInput,{label:"Email",className:F,inputClassName:Y,disabled:i,validation:H?"danger":"default",register:m("email",{required:!0,pattern:s8.regexpUtil.email})}),It.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",H?"Please enter a valid email":""),It.default.createElement(ob.TextInput,{label:"Password",type:"password",className:F,inputClassName:Y,disabled:i,validation:H?"danger":"default",register:m("password",{required:!0})}),It.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",Z?"Please enter your password":""),It.default.createElement("div",{className:"mt-6"},It.default.createElement(sb.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:i,htmlType:"submit"},i?It.default.createElement(a8.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))}mf.Login=l8;var u8=function(t){var e=t.disabled,r=t.name,n=t.logo,i=t.onClick;return It.default.createElement(sb.Button,{size:"auto",outline:!0,type:"secondary",disabled:e,onClick:i,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,It.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var lb=Oe(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.Modal=void 0;var gf=ct(),c8=or(),f8=(0,gf.__importDefault)(Vt()),fn=(0,gf.__importDefault)(Me()),h8=Qc();function d8(t){var e=t.zIndex,r=e===void 0?1004:e,n=t.className,i=t.style,o=t.header,s=t.onClose,a=t.onBackdropClick,f=t.children;return fn.default.createElement(fn.default.Fragment,null,fn.default.createElement(h8.Backdrop,(0,gf.__assign)({},{zIndex:r-1,onBackdropClick:a,transition:!1})),fn.default.createElement("div",{className:(0,f8.default)("fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2","border border-secondary-300 shadow-lg bg-white w-11/12 md:max-w-md mx-auto rounded overflow-y-auto",n),style:(0,gf.__assign)({zIndex:r},i)},fn.default.createElement("div",{className:"relative"},fn.default.createElement("div",{className:"cursor-pointer absolute top-3.5 right-3.5",onClick:s},fn.default.createElement("svg",{className:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 18 18"},fn.default.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}))),fn.default.createElement("div",{className:"py-4 px-6"},o&&fn.default.createElement("div",{className:"pb-3"},(0,c8.isType)(o,"string")?fn.default.createElement("p",{className:"text-2xl font-bold"},o):o),f))))}vf.Modal=d8});var ub=Oe(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.SquareGrid=void 0;var oy=ct(),hn=(0,oy.__importStar)(Me()),p8=or(),y8=function(t){(0,oy.__extends)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={sizeBy:"vw"},r.componentDidMount=function(){var n=function(){var i=window.innerHeight>window.innerWidth?"vw":"vh";i!==r.state.sizeBy&&r.setState({sizeBy:i})};n(),r.resizeRef=v8(n)},r.componentWillUnmount=function(){var n;return(n=r.resizeRef)===null||n===void 0?void 0:n.stop()},r.render=function(){var n=r.props,i=r.state,o="85"+i.sizeBy;return hn.default.createElement("div",{className:"border flex flex-col",style:{height:o,width:o}},hn.default.createElement(m8,{items:n.items}))},r}return e}(hn.Component);wf.SquareGrid=y8;function m8(t){var e=(0,hn.useState)("0"),r=e[0],n=e[1],i=(0,hn.useState)([]),o=i[0],s=i[1];return(0,hn.useEffect)(function(){var a=t.items.length,f=Math.ceil(Math.sqrt(a)),d=(0,p8.arrDivide)(t.items,a/f);s(d),n((100/d.length).toFixed(5)+"%")},[t.items]),hn.default.createElement(hn.default.Fragment,null,o.map(function(a,f){return hn.default.createElement("div",{className:"flex flex-row",style:{height:r},key:f},a.map(function(d,m){return hn.default.createElement(g8,(0,oy.__assign)({},{children:d,size:r},{key:m}))}))}))}function g8(t){var e=t.children,r=t.size;return hn.default.createElement("div",{style:{width:r},className:"h-full m-auto"},e)}function v8(t){return addEventListener("resize",t),{stop:function(){return removeEventListener("resize",t)}}}});var cb=Oe(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.Radio=void 0;var ay=ct(),sy=(0,ay.__importDefault)(Me()),w8=function(t){var e=t.label,r=t.disabled,n=(0,ay.__rest)(t,["label","disabled"]);return sy.default.createElement("label",{className:"inline-flex items-center"},sy.default.createElement("input",(0,ay.__assign)({type:"radio",name:"vehicle",className:"h-5 w-5 text-red-600",disabled:r},n)),e&&sy.default.createElement("span",{className:"ml-2 text-gray-700"},e))};_f.Radio=w8});var fb=Oe(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.TextArea=void 0;var bf=ct(),Sf=(0,bf.__importDefault)(Me()),_8=xi(),Ef=(0,bf.__importDefault)(Vt());function S8(t){var e=t.validation,r=e===void 0?"default":e,n=t.className,i=t.label,o=t.labelType,s=o===void 0?"default":o,a=t.inputClassName,f=t.register,d=(0,bf.__rest)(t,["validation","className","label","labelType","inputClassName","register"]),m=i&&s,v=Sf.default.createElement("textarea",(0,bf.__assign)({alt:i},d,{className:(0,Ef.default)("px-3 py-1.5 outline-0 border w-full rounded-r-sm",_8.TextInputBorderMap[r],d.disabled&&"bg-secondary-200",m!=="addon"&&"rounded-l-sm",i?a:n)}));return i?Sf.default.createElement("div",{className:(0,Ef.default)("flex",m==="default"?"flex-col":"flex-row",n)},i&&Sf.default.createElement("div",{className:(0,Ef.default)("flex",m==="default"&&"pb-2",m==="row:1/3"&&"w-1/3",m==="row:1/4"&&"w-1/4",m==="row:2/5"&&"w-2/5",m==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},Sf.default.createElement("span",{className:(0,Ef.default)(m!=="default"&&"m-auto")},i)),v):v}xf.TextArea=S8});var hb=Oe(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.Toggle=void 0;var ly=ct(),ki=(0,ly.__importStar)(Me()),E8=function(t){var e=t.onChange,r=t.label,n=(0,ly.__rest)(t,["onChange","label"]),i=(0,ki.useState)(!1),o=i[0],s=i[1];return ki.default.createElement("div",{className:"flex flex-col"},ki.default.createElement("label",{className:"mt-3 inline-flex items-center cursor-pointer"},ki.default.createElement("span",{className:"relative"},ki.default.createElement("span",{className:"block w-10 h-6 rounded-full shadow-inner ".concat(o?"bg-primary-300":"bg-secondary-200")}),ki.default.createElement("span",{className:"absolute block w-4 h-4 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-300 ease-in-out ".concat(o?"transform translate-x-full bg-secondary-300":"bg-secondary-400")},ki.default.createElement("input",(0,ly.__assign)({},n,{type:"checkbox",className:"absolute opacity-0 w-0 h-0",onChange:function(a){s(a.target.checked),e(a.target.checked)}})))),r&&ki.default.createElement("span",{className:"ml-3 text-sm"},r)))};Of.Toggle=E8});var mb=Oe(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.NavDrawer=void 0;var dn=ct(),Qe=(0,dn.__importStar)(Me()),go=(0,dn.__importDefault)(Vt()),pb=or(),b8=Kc(),x8=Qc(),O8=xi(),k8=function(t){var e=t.brand,r=t.fixed,n=r===void 0?!1:r,i=t.zIndex,o=i===void 0?1002:i,s=t.user,a=t.onBrandClick,f=t.onAvatarClick,d=t.onBackdropClick,m=t.menuItems,v=t.isOpen,y=t.className,w=t.style;return Qe.default.createElement(Qe.default.Fragment,null,n&&v&&Qe.default.createElement(x8.Backdrop,(0,dn.__assign)({},{onBackdropClick:d,zIndex:o-1})),Qe.default.createElement("div",{className:(0,go.default)(`
        flex flex-col bg-white
        dark:bg-gray-800 dark:border-gray-600
        shadow text-secondary-600 w-64
        transition-all duration-500`,n&&"h-screen fixed top-0 "+(n==="left"?"left-0":"right-0"),n&&[!v&&n==="left"&&"-translate-x-full",!v&&n==="right"&&"translate-x-full"],O8.customScrollBar,y),style:(0,dn.__assign)({zIndex:o},w)},e&&Qe.default.createElement("div",{className:(0,go.default)("border-b border-secondary-200 px-2 py-1.5",a&&"cursor-pointer"),onClick:a},(0,pb.isType)(e,"string")?Qe.default.createElement("h2",{className:(0,go.default)("text-3xl font-semibold text-gray-800 dark:text-white")},e):e),s&&Qe.default.createElement("div",{className:(0,go.default)("flex items-center border-b border-secondary-200 pl-1.5 py-2",f&&"cursor-pointer"),onClick:f},Qe.default.createElement(b8.Avatar,(0,dn.__assign)({dataState:"done",size:"sm"},s)),Qe.default.createElement("h4",{className:"ml-1 font-medium text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},s.name)),Qe.default.createElement("div",{className:"flex flex-col justify-between flex-1"},Qe.default.createElement("nav",{className:"px-1.5"},m.map(function(E,I){return Qe.default.createElement(yb,(0,dn.__assign)({},E,{key:I}))})))))};kf.NavDrawer=k8;var db=function(t){var e=t.children,r=t.isActive,n=t.getHeight,i=(0,dn.__rest)(t,["children","isActive","getHeight"]);return Qe.default.createElement("div",(0,dn.__assign)({className:(0,go.default)(`
        flex items-center
        my-1 px-4 py-2 rounded-md
        text-gray-600 dark:text-gray-400
    `,i.onClick&&"cursor-pointer",r?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200":"hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200")},i),e)},yb=function(t){switch(t.type){case"action":{var e=t.isActive,r=t.icon,n=t.title,i=t.onClick;return(0,pb.isType)(n,"string")?Qe.default.createElement(db,(0,dn.__assign)({},{isActive:e,onClick:i}),r&&r,Qe.default.createElement("span",{className:"mx-4 font-medium"},n)):n}case"break":return Qe.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return Qe.default.createElement("div",{className:`\r
                overflow-hidden my-1 py-2\r
                text-gray-600 dark:text-gray-400\r
            `},Qe.default.createElement("span",{className:"px-3 font-medium"},t.title));case"sub-menu":{var r=t.icon,n=t.title,o=t.subMenu,s=(0,Qe.useState)(!1),a=s[0],f=s[1];return Qe.default.createElement(Qe.default.Fragment,null,Qe.default.createElement(db,(0,dn.__assign)({},{isActive:a,onClick:function(){return f(!a)}}),r&&r,Qe.default.createElement("span",{className:"mx-4 font-medium"},n),Qe.default.createElement("svg",{className:(0,go.default)("svg-fix transition-transform ml-auto mr-1.5",a&&"-rotate-90"),stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},Qe.default.createElement("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}))),Qe.default.createElement("div",{className:(0,go.default)("overflow-hidden transition-all duration-700",a?"max-h-screen":"max-h-0")},o.map(function(v,y){return Qe.default.createElement(yb,(0,dn.__assign)({},v,{key:y}))})))}default:throw console.error(t),new Error("This type of MenuItem is not implemented.")}}});var vb=Oe(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.TopBar=void 0;var Tf=ct(),T8=or(),N8=(0,Tf.__importDefault)(Vt()),qt=(0,Tf.__importStar)(Me()),A8=qt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}),I8=qt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"});function R8(t){var e=t.fixed,r=t.onMenuExpand,n=t.leftNavItems,i=t.centerContent,o=t.rightNavItems,s=t.zIndex,a=s===void 0?1e3:s,f=t.className,d=t.style,m=t.addSpacer,v=m===void 0?!1:m,y=t.menuIsExpanded,w=(0,qt.useState)(0),E=w[0],I=w[1],O=(0,qt.useRef)(null),A=(0,qt.useRef)(new ResizeObserver(function(V){return I(V[0].borderBoxSize[0].blockSize)}));(0,qt.useEffect)(function(){return O.current&&A.current.observe(O.current),function(){return A.current.disconnect()}},[O,A]);var F=(0,qt.useState)(!1),Y=F[0],H=F[1],Z=function(V){return V&&V.map(function(S,W){var re=S.children,X=S.onClick;return qt.default.createElement(gb,(0,Tf.__assign)({},{children:re,onClick:X},{key:W}))})},j=(0,T8.isType)(y,"boolean")?!y:!Y;return qt.default.createElement(qt.default.Fragment,null,v&&e&&qt.default.createElement("div",{style:{height:E},className:"w-full"}),qt.default.createElement("nav",{ref:O,className:(0,N8.default)("bg-white shadow dark:bg-gray-800 flex justify-between p-2 border",e&&"fixed top-0 left-0 right-0",f),style:(0,Tf.__assign)({zIndex:a},d)},qt.default.createElement("ul",{className:"flex flex-row"},r&&qt.default.createElement(gb,{onClick:function(){H(!j),r(!j)}},qt.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"svg-fix"},j?I8:A8)),Z(n)),i,qt.default.createElement("ul",{className:"flex flex-row"},Z(o))))}Nf.TopBar=R8;var gb=function(t){return qt.default.createElement("li",{className:"p-4 text-neutral-500 hover:text-neutral-800 min-w-2"},qt.default.createElement("span",{className:"cursor-pointer",onClick:t.onClick},t.children))}});var wb=Oe(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.grTo=Ti.grFrom=Ti.gradients=void 0;Ti.gradients={1:"bg-gradient-to-t",2:"bg-gradient-to-tr",3:"bg-gradient-to-r",4:"bg-gradient-to-br",5:"bg-gradient-to-b",6:"bg-gradient-to-bl",7:"bg-gradient-to-l",8:"bg-gradient-to-tl"};Ti.grFrom={slate:"from-slate-400",gray:"from-gray-400",red:"from-red-400",pink:"from-pink-400",purple:"from-purple-400",indigo:"from-indigo-400",blue:"from-blue-400",cyan:"from-cyan-400",teal:"from-teal-400",green:"from-green-400",lime:"from-lime-400",yellow:"from-yellow-400",amber:"from-amber-400",orange:"from-orange-400",brown:"from-brown-400",grey:"from-grey-400",emerald:"from-emerald-400",rose:"from-rose-400"};Ti.grTo={slate:"to-slate-900",gray:"to-gray-900",red:"to-red-900",pink:"to-pink-900",purple:"to-purple-900",indigo:"to-indigo-900",blue:"to-blue-900",cyan:"to-cyan-900",teal:"to-teal-900",green:"to-green-900",lime:"to-lime-900",yellow:"to-yellow-900",amber:"to-amber-900",orange:"to-orange-900",brown:"to-brown-900",grey:"to-grey-900",emerald:"to-emerald-900",rose:"to-rose-900"}});var bb=Oe(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.LoginPage=void 0;var cy=ct(),_b=(0,cy.__importDefault)(Vt()),yt=(0,cy.__importDefault)(Me()),D8=ny(),F8=If(),Eb=fl(),Sb=yf(),C8=xi(),uy=wb();function P8(t){var e=t.thirdPartyLogins,r=t.useRegularLogin,n=t.brand,i=t.companyName,o=t.bgGradientFrom,s=t.bgGradientTo,a=t.onLoginClick,f=t.isLoading,d=t.gradient,m=t.onSignUpClick,v=t.className,y=t.style,w=(0,D8.useForm)(),E=w.register,I=w.handleSubmit,O=w.formState,A=w.reset,F=w.setValue,Y=O.errors,H=O.submitCount,Z=function(X){A(),F("email",X.email),F("password",X.password),a==null||a(X)},j="rounded-md text-sm font-medium",V="py-2.5 pl-3 text-base font-semibold "+(f?"bg-gray-200":"bg-gray-50"),S=o&&s&&d,W=H>0&&Y.email,re=H>0&&Y.password;return yt.default.createElement("div",{className:(0,_b.default)("h-full w-full py-14 px-4",S&&uy.gradients[d],S&&uy.grFrom[o],S&&uy.grTo[s],v),style:y},yt.default.createElement("div",{className:"flex flex-col items-center justify-center"},n,yt.default.createElement("form",{className:"bg-white shadow-lg rounded lg:w-2/3 md:w-3/4 max-w-lg w-full p-10 border border-secondary-200",onSubmit:I(Z)},yt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",i||"your account"),m&&yt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",yt.default.createElement("a",{onClick:f?void 0:m,className:(0,_b.default)(`
                            hover:text-gray-500 focus:text-gray-500 focus:outline-none
                            focus:underline hover:underline text-sm font-medium leading-none
                            text-gray-800`,f?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),yt.default.createElement("div",{className:"mt-4"}),e==null?void 0:e.map(function(X,le){return yt.default.createElement(L8,(0,cy.__assign)({},X,{disabled:f,key:le}))}),e&&r&&yt.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},yt.default.createElement("hr",{className:"w-full bg-gray-400"}),yt.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),yt.default.createElement("hr",{className:"w-full bg-gray-400"})),r&&yt.default.createElement(yt.default.Fragment,null,yt.default.createElement(Sb.TextInput,{label:"Email",className:j,inputClassName:V,disabled:f,validation:W?"danger":"default",register:E("email",{required:!0,pattern:C8.regexpUtil.email})}),yt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",W?"Please enter a valid email":""),yt.default.createElement(Sb.TextInput,{label:"Password",type:"password",className:j,inputClassName:V,disabled:f,validation:W?"danger":"default",register:E("password",{required:!0})}),yt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",re?"Please enter your password":""),yt.default.createElement("div",{className:"mt-6"},yt.default.createElement(Eb.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:f,htmlType:"submit"},f?yt.default.createElement(F8.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))))}Af.LoginPage=P8;var L8=function(t){var e=t.disabled,r=t.name,n=t.logo;return yt.default.createElement(Eb.Button,{size:"auto",outline:!0,type:"secondary",disabled:e,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,yt.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var If=Oe(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});var Rt=ct();(0,Rt.__exportStar)(GS(),mt);(0,Rt.__exportStar)(pE(),mt);(0,Rt.__exportStar)(mE(),mt);(0,Rt.__exportStar)(Kc(),mt);(0,Rt.__exportStar)(xE(),mt);(0,Rt.__exportStar)(Qc(),mt);(0,Rt.__exportStar)(Gc(),mt);(0,Rt.__exportStar)(fl(),mt);(0,Rt.__exportStar)(Ap(),mt);(0,Rt.__exportStar)(OE(),mt);(0,Rt.__exportStar)(ab(),mt);(0,Rt.__exportStar)(lb(),mt);(0,Rt.__exportStar)(Yc(),mt);(0,Rt.__exportStar)(ub(),mt);(0,Rt.__exportStar)(cb(),mt);(0,Rt.__exportStar)(fb(),mt);(0,Rt.__exportStar)(yf(),mt);(0,Rt.__exportStar)(hb(),mt);(0,Rt.__exportStar)(mb(),mt);(0,Rt.__exportStar)(vb(),mt);(0,Rt.__exportStar)(bb(),mt)});var wy=Ct(Me()),Ib=Ct(aw());var nn=Ct(Me());function as(){return as=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},as.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));var lw=function(t){return t};var uw="beforeunload";var Fx="popstate";function hw(t){t===void 0&&(t={});var e=t,r=e.window,n=r===void 0?document.defaultView:r,i=n.history;function o(){var V=n.location,S=V.pathname,W=V.search,re=V.hash,X=i.state||{};return[X.idx,lw({pathname:S,search:W,hash:re,state:X.usr||null,key:X.key||"default"})]}var s=null;function a(){if(s)w.call(s),s=null;else{var V=di.Pop,S=o(),W=S[0],re=S[1];if(w.length){if(W!=null){var X=m-W;X&&(s={action:V,location:re,retry:function(){Z(X*-1)}},Z(X))}}else F(V)}}n.addEventListener(Fx,a);var f=di.Pop,d=o(),m=d[0],v=d[1],y=fw(),w=fw();m==null&&(m=0,i.replaceState(as({},i.state,{idx:m}),""));function E(V){return typeof V=="string"?V:dw(V)}function I(V,S){return S===void 0&&(S=null),lw(as({pathname:v.pathname,hash:"",search:""},typeof V=="string"?vd(V):V,{state:S,key:Cx()}))}function O(V,S){return[{usr:V.state,key:V.key,idx:S},E(V)]}function A(V,S,W){return!w.length||(w.call({action:V,location:S,retry:W}),!1)}function F(V){f=V;var S=o();m=S[0],v=S[1],y.call({action:f,location:v})}function Y(V,S){var W=di.Push,re=I(V,S);function X(){Y(V,S)}if(A(W,re,X)){var le=O(re,m+1),ae=le[0],me=le[1];try{i.pushState(ae,"",me)}catch{n.location.assign(me)}F(W)}}function H(V,S){var W=di.Replace,re=I(V,S);function X(){H(V,S)}if(A(W,re,X)){var le=O(re,m),ae=le[0],me=le[1];i.replaceState(ae,"",me),F(W)}}function Z(V){i.go(V)}var j={get action(){return f},get location(){return v},createHref:E,push:Y,replace:H,go:Z,back:function(){Z(-1)},forward:function(){Z(1)},listen:function(S){return y.push(S)},block:function(S){var W=w.push(S);return w.length===1&&n.addEventListener(uw,cw),function(){W(),w.length||n.removeEventListener(uw,cw)}}};return j}function cw(t){t.preventDefault(),t.returnValue=""}function fw(){var t=[];return{get length(){return t.length},push:function(r){return t.push(r),function(){t=t.filter(function(n){return n!==r})}},call:function(r){t.forEach(function(n){return n&&n(r)})}}}function Cx(){return Math.random().toString(36).substr(2,8)}function dw(t){var e=t.pathname,r=e===void 0?"/":e,n=t.search,i=n===void 0?"":n,o=t.hash,s=o===void 0?"":o;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function vd(t){var e={};if(t){var r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));var n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}var Mt=Ct(Me());function Px(t,e){if(!t)throw new Error(e)}var Lx=(0,Mt.createContext)(null),pw=(0,Mt.createContext)(null);function yw(t){let{basename:e="/",children:r=null,location:n,navigationType:i=di.Pop,navigator:o,static:s=!1}=t;Mx()&&Px(!1);let a=Bx(e),f=(0,Mt.useMemo)(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof n=="string"&&(n=vd(n));let{pathname:d="/",search:m="",hash:v="",state:y=null,key:w="default"}=n,E=(0,Mt.useMemo)(()=>{let I=jx(d,a);return I==null?null:{pathname:I,search:m,hash:v,state:y,key:w}},[a,d,m,v,y,w]);return E==null?null:(0,Mt.createElement)(Lx.Provider,{value:f},(0,Mt.createElement)(pw.Provider,{children:r,value:{location:E,navigationType:i}}))}function Mx(){return(0,Mt.useContext)(pw)!=null}function jx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=t.charAt(e.length);return r&&r!=="/"?null:t.slice(e.length)||"/"}var Bx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function mw(t){let{basename:e,children:r,window:n}=t,i=(0,nn.useRef)();i.current==null&&(i.current=hw({window:n}));let o=i.current,[s,a]=(0,nn.useState)({action:o.action,location:o.location});return(0,nn.useLayoutEffect)(()=>o.listen(a),[o]),(0,nn.createElement)(yw,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o})}var AD=Ct(OS());var Qt=Ct(Me()),Is=Ct(If());var xb=Ct(Me());Ga();var vo=class extends xb.Component{constructor(e={state:Jr}){super(e);this.statemgr=Jr;this.UPDATED=[];e.state&&(this.statemgr=e.state);let r=this.setState.bind(this);this.setState=n=>{this.UPDATED=Object.keys(n),r(n),typeof n=="object"&&Jr.setState(n)},setTimeout(()=>{let n={};for(let i in this.state)this.statemgr.subscribeTrigger(i,o=>{if(typeof this=="undefined")this.statemgr.unsubscribeTrigger(i);else{let a=this.UPDATED.indexOf(i);a>-1?this.UPDATED.splice(a,1):r({[i]:o})}});Object.keys(n).length>0&&r(n)},.001)}};var Wn=Ct(Me()),fy=class extends Wn.Component{render(){return Wn.default.createElement("div",null,Wn.default.createElement("div",{style:{height:200,border:"1px solid black",borderRadius:5}},"User Card + Summary"),Wn.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Selectable summary tiles"),Wn.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Descending or popup scrollview of selected timelines/details/summaries.",Wn.default.createElement("br",null),Wn.default.createElement("br",null),"E.g. Sleep timeline adjacent to events, and chart"))}};var Ot=Ct(Me());function Ob(t=""){return`${t+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}_s();var hy=class extends vo{constructor(){super(...arguments);this.id=Ob("permissions");this.onclicked=()=>{let e=document.getElementById(this.id+"userid").value,r=document.getElementById(this.id+"name").value,n=document.getElementById(this.id+"perms"),i=n.options[n.selectedIndex].value,o=document.getElementById(this.id+"peers"),s=o.options[o.selectedIndex].value;s==="granting"?Pe.authorizeUser(Pe.currentUser,Pe.currentUser._id,"me",e,r,[n]):s==="asking"&&Pe.authorizeUser(Pe.currentUser,e,r,Pe.currentUser._id,"me",[i])}}componentDidMount(){return te(this,null,function*(){let e=yield Pe.getAuthorizations(),r=document.getElementById(this.id+"auths");e&&e.forEach(n=>{r==null||r.insertAdjacentHTML("beforeend",`
                    <tr>
                        <td>Permissions: ${n.authorizations.join(",")}</td>
                        <td>Authorized: ${n.authorizedName}</td>
                        <td>Authorizer: ${n.authorizerName}</td>
                        <td>Status: ${n.status}</td>
                    </tr>`)})})}render(){return Ot.default.createElement("div",null,Ot.default.createElement("div",{style:{height:400,border:"1px solid black",borderRadius:5}},"Groups and Authorizations",Ot.default.createElement("br",null),"User Id or Email",Ot.default.createElement("br",null),Ot.default.createElement("input",{id:this.id+"userid",type:"text",placeholder:"example@example.com"}),"Name",Ot.default.createElement("br",null),Ot.default.createElement("input",{id:this.id+"name",type:"text",placeholder:"example@example.com"}),Ot.default.createElement("br",null),"Permssions:",Ot.default.createElement("br",null),Ot.default.createElement("select",{id:this.id+"perms"},Ot.default.createElement("option",{value:"peer",selected:!0},"Peer (read/write/chat)"),Ot.default.createElement("option",{value:"control"},"Admin (hand over control)")),Ot.default.createElement("br",null),"Asking or Granting?",Ot.default.createElement("br",null),Ot.default.createElement("select",{id:this.id+"peers"},Ot.default.createElement("option",{value:"asking",selected:!0},"Asking (get access)"),Ot.default.createElement("option",{value:"granting"},"Granting (give access)")),Ot.default.createElement("br",null),Ot.default.createElement("button",{id:this.id+"submit"},"Submit")),Ot.default.createElement("div",{onClick:this.onclicked,style:{height:600,border:"1px solid black",borderRadius:5}},"Summaries of Connected Peers",Ot.default.createElement("table",{id:this.id+"auths"})))}};var Ns=Ct(Me()),dy=class extends Ns.Component{render(){return Ns.default.createElement("div",null,Ns.default.createElement("div",null,"Profile Deets + Editing"),Ns.default.createElement("div",null,"More fine grained permissions and opt-in stuff"))}};var Ab=Ct(If());gp();Ga();var my=Ct(Me());Nc();_s();Nc();Ep();var Ni=class{constructor(){}static genSineWave(e=20,r=1,n=1,i=512,o=0,s=1){for(var a=[],f=[],d=1/i,m=0;m<n;m+=d){var v=Math.sin(2*Math.PI*e*m)*r;v+=Math.sin(2*Math.PI*o*m)*s,a.push(v),f.push(m)}return[f,a]}static getSineAmplitude(e=20,r=1,n=0,i=0){return Math.sin(this.TWO_PI*e*n+i)*r}static genSawtoothWave(e=1,r=1,n=1,i=512){let o=[],s=[],a=1/i;for(var f=0;f<n;f+=a){let d=Math.PI*f*e,m=Math.cos(d)/Math.sin(d),v=-f*Math.PI*.5/Math.atan(m);s.push(f),o.push(v)}return[s,o]}static genSquareWave(e=1,r=1,n=1,i=512,o=!1){let s=[],a=[],f=1/i;for(let d=0;d<n;d+=f){let m;Math.sin(e*d)<0?m=-r:m=r}return[a,s]}static mean(e){var r=e.reduce((n,i)=>i+=n);return r/e.length}static mode(e){return e.sort((r,n)=>e.filter(i=>i===r).length-e.filter(i=>i===n).length).pop()}static std(e,r=void 0){let n=r;r||(n=this.mean(e));let i=0;for(let o=0;o<e.length;o++){let s=e[o]-n;i+=s*s}return Math.sqrt(i/e.length)}static relError(e=[],r=[],n=!0){if(e.length!==r.length)throw new Error("Input arrays of same length!");let i=e.length,o=[];for(let s=0;s<i;s++){let a=(e[s]-r[s])/e[s];n&&(a=Math.abs(a)),o.push(a)}return o}static informationEntropy(e=[]){let r=[],n=e.length;for(let i=0;i<n;i++){let o=e[i]*Math.log(e[i]);isNaN(o)&&(o=0),r.push(o)}return r}static zscore(e){let r=this.mean(e),n=this.std(e,r),i=[];for(let o=0;o<e.length;o++)i.push((e[o]-r)/n);return i}static variance(e){var r=this.mean(e);return e.reduce((n,i)=>n+Wm(i-r,2),0)/e.length}static linspace(e,r,n){var i=new Array(n);n<2&&(n=2);for(var o=(r-e)/(n-1),s=0;s<n;s++)i[s]=e+o*s;return i}static dot(e,r){for(var n=0,i=0;i<e.length;i++)n+=e[i]*r[i];return n}static cross3D(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}static magnitude(e){var r=0;return e.forEach(n=>{r+=n*n}),Math.sqrt(r)}static distance(e,r){var n=0;return e.forEach((i,o)=>{n+=(r[o]-i)*(r[o]-i)}),Math.sqrt(n)}static normalize(e){let r=1/this.magnitude(e),n=new Array(e.length);return e.forEach((i,o)=>{n[o]=i*r}),n}static makeVec(e,r){var n=new Array(e.length);return e.forEach((i,o)=>{n.push(r[o]-i)}),n}static vecsub(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]-r[i];return n}static vecadd(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]+r[i];return n}static vecmul(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]*r[i];return n}static vecdiv(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]/r[i];return n}static vecscale(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]*r;return n}static calcNormal(e,r,n,i=!0){var o=makeVec(e,r),s=makeVec(e,n);return i===!0?Math3D.normalize(this.cross3D(o,s)):Math3D.normalize(this.cross3D(s,o))}static quadraticFormula(e,r,n){let i=Math.sqrt(r*r-4*e*n);if(!isNaN(i))return["complex","complex"];let o=1/(2*e);if(i===0)return[r*o];let s=-r;return[(s+i)*o,(s-i)*o]}static newtonsMethod(e=s=>Math.pow(s,5)+s*s-s-.2,r=0,n=1,i=.01,o=10){let s=[];for(let a=0;a<o;a++){let f=r+(n-r)*a/(o-1),d=e(f),m=e(f+i),v=(m-d)/i,y=f+i;for(;Math.abs(v)>i;){let I=-d/A,O=y+I;d=m,m=e(O);let A=(m-d)/(O-y)}let w,E=s.find((I,O)=>{if(Math.abs(xn1-I)<i)return w=O,!0});E?s[w]=(xn1+E)*.5:s.push(xn1)}return s}static makeVec(e,r){var n=[];return e.forEach((i,o)=>{n.push(r[o]-i)}),n}static transpose(e){return e[0].map((r,n)=>e.map(i=>i[n]))}static matmul(e,r){for(var n=e.length,i=e[0].length,o=r.length,s=r[0].length,a=new Array(n),f=0;f<n;++f){a[f]=new Array(s);for(var d=0;d<s;++d){a[f][d]=0;for(var m=0;m<i;++m)a[f][d]+=e[f][m]*r[m][d]}}return a}static matscale(e,r){let n=[];for(var i=0;i<e.length;i++){n[i]=[];for(let o=0;o<e[0].length;o++)n[i][o]=e[i][o]*r}return n}static matadd(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]+r[o][i]}return n}static matsub(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]-r[o][i]}return n}static histogram(e=[],r=1,n=void 0){let i=[...e];i.sort(function(d,m){return d-m});let o=Math.min(...i);if(typeof n=="number"){let d=Math.max(...i);r=Math.abs((d-o)/(n-1))}let s=o,a=[],f=[];for(let d=0;d<i.length;d++){let m=r*s;if(i[d]>o+m){s++,m+=r;let y=o+m+m*.5;a.push(y),f.push(0)}f[f.length-1]++}return[a,f]}static normalDistribution(e=[],r=!0,n=1e-4){let i=this.mean(e),o=this.variance(e),s=e.length,a=[],f=1/(this.TWO_PI*o),d=1/o,m=0;for(let v=0;v<s;v++){let y=Math.exp(-.5*Math.pow((e[v]-i)*d,2))*f;y<n&&(y=0),a.push(y),m+=y}if(r){let v=1/m;a=a.map(y=>y*v)}return a}static expectedValue(e=[],r=this.normalDistribution(e)){return e.reduce((n,i,o)=>n+i*r[o])}static originMoment(e=[],r=this.normalDistribution(e),n=1){return e.reduce((i,o,s)=>i+Math.pow(o,n)*r[s])}static centralMoment(e=[],r=this.normalDistribution(e),n=1){let i=this.mean(e);return e.reduce((o,s,a)=>o+Math.pow(s-i,n)*r[a]/e.length)}static linearDiscriminantAnalysis(e=[],r=[]){let n=this.mean(e),i=this.mean(r),o=this.cov1d(e,r),s=this.normalDistribution(e),a=[];for(let f=0;f<e.length;f++)a.push(x[f]*o*i-.5*n*o*i+Math.log10(s[f]));return a}static conv1D(e=[],r=[1/3,1/3,1/3],n=Math.floor(r.length*.5)){let i=[],o=1/r.length;if(n>0){let f=new Array(n).fill(0);e=[...f,...e,...f]}let s=Math.floor(r.length*.5),a=e.length-r.length+s;for(let f=s;f<a;f++){let d=0;for(let m=0;m<r.length;m++)d+=e[f-s]*r[m];i.push(d*o)}return i}static conv2D(e=[[],[],[]],r=[[],[],[]],n=0){let i=new Array(e.length-Math.ceil(r.length*.5)).fill([]),o,s=Ni.transpose(s);if(n>0){let O=new Array(n).fill(0);o=Ni.transpose(e);for(let A=0;A<o.length;A++)o[A]=[...O,...o[A],...O];e=Ni.transpose(o);for(let A=0;A<e.length;A++)e[A]=[...O,...e[A],...O]}let a=Math.floor(r[0].length*.5),f=Math.floor(s[0].length*.5),d=e[0].length-r[0].length+a,m=o[0].length-s[0].length+f,v=1/(r[0].length*s[0].length),y=d*m,w=a,E,I=f;for(;w<y;){let O=0;E=w%e[0].length,E===0&&I++;for(let A=0;A<r[0].length;A++){for(let F=0;F<s[0].length;A++)O+=e[I-f+F][E-a+A]*r[F][A];i[I].push(O*v)}w++}return i}static cov2d(e){var r=this.transpose(e),n=[],i=[],o=[];e.forEach((I,O)=>{i.push(this.mean(I))}),r.forEach((I,O)=>{o.push(this.mean(I))}),e.forEach((I,O)=>{n.push([]);for(var A=0;A<I.length;A++)n[O].push((e[O][A]-i[O])*(e[O][A]-o[A])/(I.length-1))});for(var s=this.transpose(n),a=n.length,f=n[0].length,d=s.length,m=s[0].length,v=new Array(a),y=0;y<a;++y){v[y]=new Array(m);for(var w=0;w<m;++w){v[y][w]=0;for(var E=0;E<f;++E)v[y][w]+=n[y][E]*s[E][w]/(e[0].length-1)}}return v}static cov1d(e=[],r=[]){return this.cov2d([e,r])}static cov3d(e=[],r=[],n=[]){return[[this.cov1d(e,e),this.cov1d(e,r),this.cov1d(e,n)],[this.cov1d(r,e),this.cov1d(r,r),this.cov1d(r,n)],[this.cov1d(n,e),this.cov1d(n,r),this.cov1d(n,n)]]}static covNd(e=[]){let r=[];e.forEach((n,i)=>{r.push([]),e.forEach((o,s)=>{r[i].push(this.cov1d(n,o))})})}static eigens2x2(e=[[1,2],[3,4]]){let r=e[0][0]*e[1][1]-e[0][1]*e[1][0],n=(e[0][0]+e[1][1])*.5,i=Math.sqrt(n*n-r),o=n+i,s=n-i;return[o,s]}static eigenvectors2x2(e=[[1,2],[3,4]],r=[1,2]){let n=[-e[0][1],e[0][0]-r[0]];n[0]===0&&n[1]===0&&(n[0]=e[1][1]-r[0],n[1]=-e[1][0]);let i=[-e[0][1],e[0][0]-r[1]];return i[0]===0&&i[1]===0&&(i[0]=e[1][1]-r[1],i[1]=-e[1][0]),[n,i]}static fastpca2d(e,r){let n=this.cov1d(e,r),i=this.eigens2x2(n);i[1]>i[0]&&i.reverse();let o=this.eigenvectors2x2(n,i);return console.log(i,o),[i,o]}static crosscorrelation(e,r){var n=[...r,...Array(r.length).fill(0)],i=this.mean(e),o=this.mean(r),s=e.reduce((y,w)=>y+=Math.pow(w-i,2));s=Math.sqrt(s);var a=r.reduce((y,w)=>y+=Math.pow(w-i,2));a=Math.sqrt(a);for(var f=1/(s*a),d=new Array(e.length).fill(0),m=0;m<e.length;m++){var v=e.reduce((y,w,E)=>y+=(w-i)*(n[m+E]-o));d[m]=v*f}return d}static autocorrelation(e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(e),i=e.reduce((d,m)=>d+=Math.pow(m-n,2));i=Math.sqrt(i);for(var o=1/(i*i),s=new Array(e.length).fill(0),a=0;a<e.length;a++){var f=e.reduce((d,m,v)=>d+=(m-n)*(r[a+v]-n));s[a]=f*o}return s}static correlograms(e=[[],[]]){var r=[];return e.forEach((n,i)=>{e.forEach((o,s)=>{s>=i&&r.push(Ni.crosscorrelation(n,o))})}),r}static sma(e=[],r){for(var n=[],i=0;i<e.length;i++)if(i==0)n.push(e[0]);else if(i<r){var o=e.slice(0,i+1);n.push(o.reduce((s,a)=>a+=s)/(i+1))}else{var o=e.slice(i-r,i);n.push(o.reduce((a,f)=>f+=a)/r)}return n}static sum(e=[]){if(e.length>0){var r=e.reduce((n,i)=>i+=n);return r}else return 0}static reduceArrByFactor(e,r=2){return e.filter((i,o)=>o%r===0)}static makeArr(e,r,n){for(var i=[],o=(r-e)/(n-1),s=0;s<n;s++)i.push(e+o*s);return i}static interpolateArray(e,r,n=1){var i=function(y,w,E){return(y+(w-y)*E)*n},o=new Array,s=new Number((e.length-1)/(r-1));o[0]=e[0];for(var a=1;a<r-1;a++){var f=a*s,d=new Number(Math.floor(f)).toFixed(),m=new Number(Math.ceil(f)).toFixed(),v=f-d;o[a]=i(e[d],e[m],v)}return o[r-1]=e[e.length-1],o}static isExtrema(e,r="peak"){let n=[...e];if(n.length%2===0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}}else if(r==="valley"){if(o<Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}}else if(o<Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}}}return i}else return}static isCriticalPoint(e,r="peak"){let n=[...e];if(n.length%2===0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<n.length*.5&&s<=0){i=!1;break}else if(o>n.length*.5&&s>0){i=!1;break}}else if(r==="valley"){if(o<n.length*.5&&s>=0){i=!1;break}else if(o>n.length*.5&&s<0){i=!1;break}}else if(o<n.length*.5&&s>=0){i=!1;break}else if(o>n.length*.5&&s<0){i=!1;break}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<n.length*.5&&s<=0){i=!1;break}else if(o>n.length*.5&&s>0){i=!1;break}}}return i}else return}static getPeakThreshold(e,r,n){let i,o=e.filter((s,a)=>{if(r.indexOf(a)>-1)return!0});return n===0?i=this.mean(o):i=(n+this.mean(o))*.5,i}static column(e,r){let n=new Array(e.length).fill(0).map(()=>new Array(1).fill(0));for(let i=0;i<e.length;i++)n[i][0]=e[i][r];return n}static flatten_vector(e){let r=[];for(let n=0;n<e.length;n++)r[n]=e[n][0];return r}static squared_difference(e,r){let n=0;for(let i=0;i<e.length;i++)n=n+Math.pow(e[i]-r[i],2);return n}static shift_deflate(e,r,n){let i=Math.sqrt(this.matmul(this.transpose(n),n)),o=this.matscale(n,1/i),s=this.matscale(this.matmul(o,this.transpose(o)),r);return this.matsub(e,s)}static eigenvalue_of_vector(e,r){return ev=this.matmul(this.matmul(this.transpose(r),e),r),ev}static power_iteration(e,r=1e-5,n=1e3){let i=e.length,o=new Array(i).fill(0).map(()=>new Array(1).fill(Math.sqrt(i))),s=this.eigenvalue_of_vector(e,o),a=1,f=0;for(;a>r&&f<n;){let d=JSON.parse(JSON.stringify(s)),m=this.matmul(e,o);o=this.normalize(m),s=this.eigenvalue_of_vector(e,o),a=Math.abs(s-d),f++}return[s,o]}static eigens(e,r=1e-4,n=1e3){let i=[],o=[];for(let s=0;s<e.length;s++){let a=this.power_iteration(e,r,n),f=a[0],d=a[1];i[s]=f,o[s]=this.flatten_vector(d),e=this.shift_deflate(e,f,d)}return[i,o]}static pca(e,r=1e-5){let n=e.length,i=new Array(n),o=new Array(n),s=this.transpose(e);i[0]=this.column(e,0);let a=1,f=0;for(;espilon>r;){f++,o[0]=this.matmul(s,i[0]);let m=this.matmul(this.transpose(i[0]),i[0]);o[0]=this.matscale(o[0],1/m);let v=Math.sqrt(this.matmul(this.transpose(o[0]),o[0]));o[0]=this.matscale(o[0],1/v);let y=this.matmul(e,o[0]),w=this.matmul(this.transpose(o[0]),o[0]);y=this.matscale(y,1/w),a=this.squared_difference(i[0],y),i[0]=JSON.parse(JSON.stringify(y))}return this.matmul(this.transpose(i[0]),i[0])}static p300(e=[],r=[],n=[],i=256){let o=Math.floor(i/10),s=this.sma(r,o),a=this.peakDetect(s,"peak",o),f=this.mean(s),d=this.std(s,f),m=0,v=[];return a.length>0&&e.forEach((y,w)=>{for(;n[a[m]]<y+200&&(m++,!!a[m]););let E=0,I=[];for(;n[a[m+E]]<y+600&&(I.push(m+E),E++,!!a[m+E]););if(I.length>1){let O=[];I.forEach(Y=>{O.push(s[a[Y]])});let A=Math.max(...O),F=I[O.indexOf(A)];v.push({event_timestamp:y,event_index:w,peak_timestamp:n[[a[F]]],signal_index:[a[F]],signal_amplitude:r[[a[F]]],zscore:(s[a[F]]-f)/d})}else I.length===1&&v.push({event_timestamp:y,event_index:w,peak_timestamp:n[a[I[0]]],signal_index:a[I[0]],signal_amplitude:r[[a[I[0]]]],zscore:(s[a[I[0]]]-f)/d})}),v}},Le=Ni;We(Le,"TWO_PI",Math.PI*2),We(Le,"C",299792458),We(Le,"G",66743e-15),We(Le,"h",662607015e-42),We(Le,"R",8314.32),We(Le,"Ra",287),We(Le,"H",69.3),We(Le,"kbar",1054571817e-43),We(Le,"kB",1380649e-29),We(Le,"ke",89875517923e-1),We(Le,"me",91093837015e-41),We(Le,"mp",167262192369e-38),We(Le,"mn",167492749804e-38),We(Le,"P0",101325),We(Le,"T0",288.15),We(Le,"p0",1.225),We(Le,"Na",60220978e16),We(Le,"y",1.405),We(Le,"M0",28.96643),We(Le,"g0",9.80665),We(Le,"Re",6378100),We(Le,"B",1458e-9),We(Le,"S",110.4),We(Le,"Sigma",365e-12),We(Le,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),We(Le,"integral",(e=i=>i,r=[],n=.01)=>{let i=0;for(let o=r[0];o<r[1];o+=n)i+=e(o)*n;return i}),We(Le,"dintegral",(e=(o,s)=>o+s,r=[[],[]],n=.01,i=n)=>{let o=0;for(let s=r[0][0]+n;s<r[0][1];s+=n)for(let a=r[1][0]+i;a<r[1][1];a+=i)o+=e(s,a)*n*i;return o}),We(Le,"tintegral",(e=(s,a,f)=>s+a+f,r=[[],[],[]],n=.01,i=n,o=n)=>{let s=0;for(let a=r[0][0]+n;a<r[0][1];a+=n)for(let f=r[1][0]+i;f<r[1][1];f+=i)for(let d=r[2][0]+o;d<r[2][1];d+=o)s+=e(a,f,d)*n*i*o;return s}),We(Le,"pintegral",(e=i=>i,r=[],n=.01)=>{let i=0,o,s;for(let a=r[0];a<r[1];a+=n)o=s,s=e(a),o&&(i+=Ni.distance([0,o],[n,s]));return i}),We(Le,"peakDetect",(e,r="peak",n=49)=>{let i=Math.floor(n*.5),o=[];for(let s=0;s<e.length-n;s++)Ni.isExtrema(e.slice(s,s+n),r)&&o.push(s+i-1);return o});var As=200,yy=50,_l=Le.genSineWave(.9,500,As,yy,60,50),py=Le.genSineWave(.9,700,As,yy,60,50),kb=Le.linspace(Date.now()-As*1e3,Date.now(),200);_l=Le.vecadd(_l,new Array(_l.length).fill(5e3));py=Le.vecadd(_l,new Array(py.length).fill(5500));var Rf=6,M8=2,j8=zn.PPGStruct("dummyppg",{red:_l,ir:py,times:kb,count:As*yy,startTime:kb[0]}),Df=[],B8=[];for(let t=As/60;t>0;t--){let e=0;for(;e<Rf;)Df.push(Date.now()-t*As+e/1e3),B8.push(Rf),j8.beat_detect.breaths.push({t:Df[Df.length-1],rate:Rf}),e++;Rf-=M8}var sD=zn.IMUStruct("dummyimu",{}),aD=zn.ECGStruct("dummyecg",{}),lD=zn.EMGStruct("dummyemg",{});function Tb(){return te(this,null,function*(){let t=yield U8();console.log(t);let e=yield z8(t.user,t.peer),r=yield V8(t.user,t.peer),n=yield W8(),i=yield q8(t.peer,r.chatroom,r.comment),o=yield $8(),s=yield H8(e.userauth),a=yield G8(t.user,t.peer),f=yield J8(),d={users:t,auths:e,chatroomres:r,pnotes:n,replied:i,unotes:o,rejected:s,group:a,gauths:f};return console.log("results",d),console.log("testclient map",Pe.collections),console.log("testpeer map",_r.collections),d})}function U8(){return te(this,null,function*(){let t=yield Tc(),e=yield bS();return console.log("user",t,"peer",e),{user:t,peer:e}})}function z8(){return te(this,arguments,function*(t=Ss,e=ho){let r=yield Pe.authorizeUser(t,t._id,void 0,e._id,void 0,{peer:!0});console.log(t._id);let n=yield _r.authorizeUser(e,t._id,void 0,e._id,void 0,{peer:!0});return console.log("user-owned auth:",r,`
peer-owned auth:`,n),console.log("auths",r,n),{userauth:r,peerauth:n}})}function V8(){return te(this,arguments,function*(t=Ss,e=ho){let r=Pe.getLocalData("chatroom"),n;r?r.length>0?n=r[0]:n=yield Pe.addChatroom(t,t._id,"this is the first comment",void 0,{[e._id]:!0},!0):n=yield Pe.addChatroom(t,t._id,"this is the first comment",void 0,{[e._id]:!0},!0);let i,o;return n&&(i=yield Pe.addComment(t,n,n,t._id,"don't go there girlfrienddd"),setTimeout(()=>te(this,null,function*(){o=yield Pe.addComment(t,n,i,t._id,"update: you did")}),1e3)),{chatroom:n,comment:i}})}function W8(){return te(this,null,function*(){let t=yield _r.checkForNotifications();if(console.log("notifications",t),t){let e=yield _r.resolveNotifications(t);return console.log("resolve notes result",e),e}})}function q8(){return te(this,arguments,function*(t=ho,e,r){return yield Pe.addComment(t,e,r,t._id,"oh I went there")})}function $8(){return te(this,null,function*(){let t=yield Pe.checkForNotifications();if(console.log(`


notes`,JSON.stringify(t),`


`),t)return yield Pe.resolveNotifications(t)})}function H8(t){return te(this,null,function*(){if(t)return yield Pe.deleteAuthorization(t._id)})}function G8(){return te(this,arguments,function*(t=Ss,e=ho){return yield _r.addGroup(e,"testgroup"+Math.floor(Math.random()*1e8),"this is a test",{[e._id]:!0},{[e._id]:!0},{[t._id]:!0},!0)})}function J8(){return te(this,null,function*(){yield Pe.setAuthorizationsByGroup(),yield _r.setAuthorizationsByGroup()})}var gy=class extends vo{componentDidMount(){return te(this,null,function*(){let e=yield Tb();console.log(e)})}render(){return my.default.createElement("div",null,my.default.createElement("div",null,"DEV TEST (see console -- Press F12)"))}};_s();var Y8=()=>Qt.default.createElement("img",{src:"src/assets/myalyce.png",width:"100px",alt:"MyAlyce"}),Nb=!0,vy=class extends vo{constructor(){super(...arguments);this.state={isLoggedIn:!1,navOpen:!1,route:"/"}}onLoginClick(e){ll(e.email,e.password).then(r=>te(this,null,function*(){let n=yield ul(r);n&&(yield us(n))}))}onGoogleLoginClick(){ll("google").then(e=>te(this,null,function*(){let r=yield ul(e);r&&(yield us(r))}))}setNavOpen(e){this.setState({navOpen:e})}render(){var e,r;return console.log(this.state.route),Qt.default.createElement("div",null,!this.state.isLoggedIn&&!Nb&&Qt.default.createElement(Ab.Login,{useRegularLogin:!0,onLoginClick:this.onLoginClick,thirdPartyLogins:[{name:"google",logo:Qt.default.createElement("img",{src:"src/assets/google.png",width:"50px"}),onClick:this.onGoogleLoginClick}]}),(this.state.isLoggedIn||Nb)&&Qt.default.createElement("div",null,Qt.default.createElement(Is.NavDrawer,{fixed:"left",zIndex:102,isOpen:this.state.navOpen,brand:Y8(),onBackdropClick:()=>this.setState({navOpen:!1}),menuItems:[{type:"action",icon:"D",onClick:()=>this.setState({route:"/dashboard",navOpen:!1}),title:"Dashboard"},{type:"action",icon:"P",onClick:()=>this.setState({route:"/peers",navOpen:!1}),title:"Peers & Groups"},{type:"action",icon:"S",onClick:()=>this.setState({route:"/settings",navOpen:!1}),title:"Profile Settings"},{type:"action",icon:"D",onClick:()=>this.setState({route:"/dev",navOpen:!1}),title:"DEV MODE"}]}),Qt.default.createElement("div",{id:"view"},Qt.default.createElement(Is.TopBar,{zIndex:0,onMenuExpand:()=>{let n=!this.state.navOpen;this.setState({navOpen:n})},rightNavItems:[{children:Qt.default.createElement(Is.Avatar,{dataState:"done",imgSrc:"src/assets/person.png",size:"xs",status:"online",name:{first:(e=Pe.currentUser)==null?void 0:e.firstName,last:(r=Pe.currentUser)==null?void 0:r.lastName},backgroundColor:"lightblue"}),onClick:()=>{}},{children:Qt.default.createElement("p",{style:{fontSize:"16px"}},"logout"),onClick:()=>{}}]}),Qt.default.createElement("div",{id:"viewcontent"},Qt.default.createElement("div",{id:"route"},(this.state.route.includes("dashboard")||this.state.route==="/"||this.state.route==="")&&Qt.default.createElement(fy,null),this.state.route.includes("peers")&&Qt.default.createElement(hy,null),this.state.route.includes("settings")&&Qt.default.createElement(dy,null),this.state.route.includes("dev")&&Qt.default.createElement(gy,null))))))}};var K8=!0;K8&&document.head.insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="dist/app.css" type="text/css" />');Ib.default.render(wy.default.createElement(mw,null,wy.default.createElement(vy,null)),document.getElementById("react"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * React Router DOM v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=app.js.map
