(()=>{var o3=Object.create;var Tl=Object.defineProperty;var s3=Object.getOwnPropertyDescriptor;var a3=Object.getOwnPropertyNames,Im=Object.getOwnPropertySymbols,l3=Object.getPrototypeOf,Rm=Object.prototype.hasOwnProperty,u3=Object.prototype.propertyIsEnumerable;var Am=(t,e,r)=>e in t?Tl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dm=(t,e)=>{for(var r in e||(e={}))Rm.call(e,r)&&Am(t,r,e[r]);if(Im)for(var r of Im(e))u3.call(e,r)&&Am(t,r,e[r]);return t};var c3=t=>Tl(t,"__esModule",{value:!0});var f3=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var tt=(t,e)=>()=>(t&&(e=t(t=0)),e);var xe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var h3=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of a3(e))!Rm.call(t,i)&&(r||i!=="default")&&Tl(t,i,{get:()=>e[i],enumerable:!(n=s3(e,i))||n.enumerable});return t},Rt=(t,e)=>h3(c3(Tl(t!=null?o3(l3(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var te=(t,e,r)=>new Promise((n,i)=>{var o=f=>{try{l(r.next(f))}catch(d){i(d)}},s=f=>{try{l(r.throw(f))}catch(d){i(d)}},l=f=>f.done?n(f.value):Promise.resolve(f.value).then(o,s);l((r=r.apply(t,e)).next())});var $f=xe((w8,Cm)=>{"use strict";var Fm=Object.getOwnPropertySymbols,d3=Object.prototype.hasOwnProperty,p3=Object.prototype.propertyIsEnumerable;function y3(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function m3(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Cm.exports=m3()?Object.assign:function(t,e){for(var r,n=y3(t),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)d3.call(r,s)&&(n[s]=r[s]);if(Fm){i=Fm(r);for(var l=0;l<i.length;l++)p3.call(r,i[l])&&(n[i[l]]=r[i[l]])}}return n}});var Km=xe(je=>{"use strict";var Gf=$f(),bo=60103,Mm=60106;je.Fragment=60107;je.StrictMode=60108;je.Profiler=60114;var jm=60109,Bm=60110,Um=60112;je.Suspense=60113;var zm=60115,Vm=60116;typeof Symbol=="function"&&Symbol.for&&(Mr=Symbol.for,bo=Mr("react.element"),Mm=Mr("react.portal"),je.Fragment=Mr("react.fragment"),je.StrictMode=Mr("react.strict_mode"),je.Profiler=Mr("react.profiler"),jm=Mr("react.provider"),Bm=Mr("react.context"),Um=Mr("react.forward_ref"),je.Suspense=Mr("react.suspense"),zm=Mr("react.memo"),Vm=Mr("react.lazy"));var Mr,Lm=typeof Symbol=="function"&&Symbol.iterator;function g3(t){return t===null||typeof t!="object"?null:(t=Lm&&t[Lm]||t["@@iterator"],typeof t=="function"?t:null)}function Ps(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qm={};function xo(t,e,r){this.props=t,this.context=e,this.refs=qm,this.updater=r||Wm}xo.prototype.isReactComponent={};xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Ps(85));this.updater.enqueueSetState(this,t,e,"setState")};xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $m(){}$m.prototype=xo.prototype;function Jf(t,e,r){this.props=t,this.context=e,this.refs=qm,this.updater=r||Wm}var Yf=Jf.prototype=new $m;Yf.constructor=Jf;Gf(Yf,xo.prototype);Yf.isPureReactComponent=!0;var Kf={current:null},Hm=Object.prototype.hasOwnProperty,Gm={key:!0,ref:!0,__self:!0,__source:!0};function Jm(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Hm.call(e,n)&&!Gm.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var f=Array(l),d=0;d<l;d++)f[d]=arguments[d+2];i.children=f}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:bo,type:t,key:o,ref:s,props:i,_owner:Kf.current}}function v3(t,e){return{$$typeof:bo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zf(t){return typeof t=="object"&&t!==null&&t.$$typeof===bo}function w3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Pm=/\/+/g;function Hf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?w3(""+t.key):e.toString(36)}function Il(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case bo:case Mm:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Hf(s,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(Pm,"$&/")+"/"),Il(i,e,r,"",function(d){return d})):i!=null&&(Zf(i)&&(i=v3(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Pm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){o=t[l];var f=n+Hf(o,l);s+=Il(o,e,r,f,i)}else if(f=g3(t),typeof f=="function")for(t=f.call(t),l=0;!(o=t.next()).done;)o=o.value,f=n+Hf(o,l++),s+=Il(o,e,r,f,i);else if(o==="object")throw e=""+t,Error(Ps(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function Nl(t,e,r){if(t==null)return t;var n=[],i=0;return Il(t,n,"","",function(o){return e.call(r,o,i++)}),n}function _3(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var Ym={current:null};function Nn(){var t=Ym.current;if(t===null)throw Error(Ps(321));return t}var S3={ReactCurrentDispatcher:Ym,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Kf,IsSomeRendererActing:{current:!1},assign:Gf};je.Children={map:Nl,forEach:function(t,e,r){Nl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Nl(t,function(){e++}),e},toArray:function(t){return Nl(t,function(e){return e})||[]},only:function(t){if(!Zf(t))throw Error(Ps(143));return t}};je.Component=xo;je.PureComponent=Jf;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S3;je.cloneElement=function(t,e,r){if(t==null)throw Error(Ps(267,t));var n=Gf({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Kf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(f in e)Hm.call(e,f)&&!Gm.hasOwnProperty(f)&&(n[f]=e[f]===void 0&&l!==void 0?l[f]:e[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){l=Array(f);for(var d=0;d<f;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:bo,type:t.type,key:i,ref:o,props:n,_owner:s}};je.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Bm,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:jm,_context:t},t.Consumer=t};je.createElement=Jm;je.createFactory=function(t){var e=Jm.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:Um,render:t}};je.isValidElement=Zf;je.lazy=function(t){return{$$typeof:Vm,_payload:{_status:-1,_result:t},_init:_3}};je.memo=function(t,e){return{$$typeof:zm,type:t,compare:e===void 0?null:e}};je.useCallback=function(t,e){return Nn().useCallback(t,e)};je.useContext=function(t,e){return Nn().useContext(t,e)};je.useDebugValue=function(){};je.useEffect=function(t,e){return Nn().useEffect(t,e)};je.useImperativeHandle=function(t,e,r){return Nn().useImperativeHandle(t,e,r)};je.useLayoutEffect=function(t,e){return Nn().useLayoutEffect(t,e)};je.useMemo=function(t,e){return Nn().useMemo(t,e)};je.useReducer=function(t,e,r){return Nn().useReducer(t,e,r)};je.useRef=function(t){return Nn().useRef(t)};je.useState=function(t){return Nn().useState(t)};je.version="17.0.2"});var Le=xe((S8,Zm)=>{"use strict";Zm.exports=Km()});var ng=xe(Ue=>{"use strict";var ko,Bs,Fl,ih;typeof performance=="object"&&typeof performance.now=="function"?(Xm=performance,Ue.unstable_now=function(){return Xm.now()}):(Xf=Date,Qm=Xf.now(),Ue.unstable_now=function(){return Xf.now()-Qm});var Xm,Xf,Qm;typeof window>"u"||typeof MessageChannel!="function"?(Oo=null,Qf=null,eh=function(){if(Oo!==null)try{var t=Ue.unstable_now();Oo(!0,t),Oo=null}catch(e){throw setTimeout(eh,0),e}},ko=function(t){Oo!==null?setTimeout(ko,0,t):(Oo=t,setTimeout(eh,0))},Bs=function(t,e){Qf=setTimeout(t,e)},Fl=function(){clearTimeout(Qf)},Ue.unstable_shouldYield=function(){return!1},ih=Ue.unstable_forceFrameRate=function(){}):(eg=window.setTimeout,tg=window.clearTimeout,typeof console<"u"&&(rg=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof rg!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Ms=!1,js=null,Al=-1,th=5,rh=0,Ue.unstable_shouldYield=function(){return Ue.unstable_now()>=rh},ih=function(){},Ue.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):th=0<t?Math.floor(1e3/t):5},nh=new MessageChannel,Rl=nh.port2,nh.port1.onmessage=function(){if(js!==null){var t=Ue.unstable_now();rh=t+th;try{js(!0,t)?Rl.postMessage(null):(Ms=!1,js=null)}catch(e){throw Rl.postMessage(null),e}}else Ms=!1},ko=function(t){js=t,Ms||(Ms=!0,Rl.postMessage(null))},Bs=function(t,e){Al=eg(function(){t(Ue.unstable_now())},e)},Fl=function(){tg(Al),Al=-1});var Oo,Qf,eh,eg,tg,rg,Ms,js,Al,th,rh,nh,Rl;function oh(t,e){var r=t.length;t.push(e);e:for(;;){var n=r-1>>>1,i=t[n];if(i!==void 0&&0<Dl(i,e))t[n]=e,t[r]=i,r=n;else break e}}function Zr(t){return t=t[0],t===void 0?null:t}function Cl(t){var e=t[0];if(e!==void 0){var r=t.pop();if(r!==e){t[0]=r;e:for(var n=0,i=t.length;n<i;){var o=2*(n+1)-1,s=t[o],l=o+1,f=t[l];if(s!==void 0&&0>Dl(s,r))f!==void 0&&0>Dl(f,s)?(t[n]=f,t[l]=r,n=l):(t[n]=s,t[o]=r,n=o);else if(f!==void 0&&0>Dl(f,r))t[n]=f,t[l]=r,n=l;else break e}}return e}return null}function Dl(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}var pn=[],Un=[],E3=1,jr=null,Kt=3,Ll=!1,Ci=!1,Us=!1;function sh(t){for(var e=Zr(Un);e!==null;){if(e.callback===null)Cl(Un);else if(e.startTime<=t)Cl(Un),e.sortIndex=e.expirationTime,oh(pn,e);else break;e=Zr(Un)}}function ah(t){if(Us=!1,sh(t),!Ci)if(Zr(pn)!==null)Ci=!0,ko(lh);else{var e=Zr(Un);e!==null&&Bs(ah,e.startTime-t)}}function lh(t,e){Ci=!1,Us&&(Us=!1,Fl()),Ll=!0;var r=Kt;try{for(sh(e),jr=Zr(pn);jr!==null&&(!(jr.expirationTime>e)||t&&!Ue.unstable_shouldYield());){var n=jr.callback;if(typeof n=="function"){jr.callback=null,Kt=jr.priorityLevel;var i=n(jr.expirationTime<=e);e=Ue.unstable_now(),typeof i=="function"?jr.callback=i:jr===Zr(pn)&&Cl(pn),sh(e)}else Cl(pn);jr=Zr(pn)}if(jr!==null)var o=!0;else{var s=Zr(Un);s!==null&&Bs(ah,s.startTime-e),o=!1}return o}finally{jr=null,Kt=r,Ll=!1}}var b3=ih;Ue.unstable_IdlePriority=5;Ue.unstable_ImmediatePriority=1;Ue.unstable_LowPriority=4;Ue.unstable_NormalPriority=3;Ue.unstable_Profiling=null;Ue.unstable_UserBlockingPriority=2;Ue.unstable_cancelCallback=function(t){t.callback=null};Ue.unstable_continueExecution=function(){Ci||Ll||(Ci=!0,ko(lh))};Ue.unstable_getCurrentPriorityLevel=function(){return Kt};Ue.unstable_getFirstCallbackNode=function(){return Zr(pn)};Ue.unstable_next=function(t){switch(Kt){case 1:case 2:case 3:var e=3;break;default:e=Kt}var r=Kt;Kt=e;try{return t()}finally{Kt=r}};Ue.unstable_pauseExecution=function(){};Ue.unstable_requestPaint=b3;Ue.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=Kt;Kt=t;try{return e()}finally{Kt=r}};Ue.unstable_scheduleCallback=function(t,e,r){var n=Ue.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,t={id:E3++,callback:e,priorityLevel:t,startTime:r,expirationTime:i,sortIndex:-1},r>n?(t.sortIndex=r,oh(Un,t),Zr(pn)===null&&t===Zr(Un)&&(Us?Fl():Us=!0,Bs(ah,r-n))):(t.sortIndex=i,oh(pn,t),Ci||Ll||(Ci=!0,ko(lh))),t};Ue.unstable_wrapCallback=function(t){var e=Kt;return function(){var r=Kt;Kt=e;try{return t.apply(this,arguments)}finally{Kt=r}}}});var og=xe((b8,ig)=>{"use strict";ig.exports=ng()});var Hv=xe(qr=>{"use strict";var Nu=Le(),st=$f(),Lt=og();function me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Nu)throw Error(me(227));var v1=new Set,ma={};function $i(t,e){Go(t,e),Go(t+"Capture",e)}function Go(t,e){for(ma[t]=e,t=0;t<e.length;t++)v1.add(e[t])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sg=Object.prototype.hasOwnProperty,ag={},lg={};function O3(t){return sg.call(lg,t)?!0:sg.call(ag,t)?!1:x3.test(t)?lg[t]=!0:(ag[t]=!0,!1)}function k3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function T3(t,e,r,n){if(e===null||typeof e>"u"||k3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var gd=/[\-:]([a-z])/g;function vd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gd,vd);$t[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gd,vd);$t[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gd,vd);$t[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function wd(t,e,r,n){var i=$t.hasOwnProperty(e)?$t[e]:null,o=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(T3(e,r,i,n)&&(r=null),n||i===null?O3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Hi=Nu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qs=60103,Pi=60106,Vn=60107,_d=60108,ia=60114,Sd=60109,Ed=60110,Iu=60112,oa=60113,ou=60120,Au=60115,bd=60116,xd=60121,Od=60128,w1=60129,kd=60130,Rh=60131;typeof Symbol=="function"&&Symbol.for&&(Dt=Symbol.for,Qs=Dt("react.element"),Pi=Dt("react.portal"),Vn=Dt("react.fragment"),_d=Dt("react.strict_mode"),ia=Dt("react.profiler"),Sd=Dt("react.provider"),Ed=Dt("react.context"),Iu=Dt("react.forward_ref"),oa=Dt("react.suspense"),ou=Dt("react.suspense_list"),Au=Dt("react.memo"),bd=Dt("react.lazy"),xd=Dt("react.block"),Dt("react.scope"),Od=Dt("react.opaque.id"),w1=Dt("react.debug_trace_mode"),kd=Dt("react.offscreen"),Rh=Dt("react.legacy_hidden"));var Dt,ug=typeof Symbol=="function"&&Symbol.iterator;function zs(t){return t===null||typeof t!="object"?null:(t=ug&&t[ug]||t["@@iterator"],typeof t=="function"?t:null)}var uh;function ea(t){if(uh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);uh=e&&e[1]||""}return`
`+uh+t}var ch=!1;function Pl(t,e){if(!t||ch)return"";ch=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var n=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){n=f}t.call(e.prototype)}else{try{throw Error()}catch(f){n=f}t()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=l);break}}}finally{ch=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ea(t):""}function N3(t){switch(t.tag){case 5:return ea(t.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return t=Pl(t.type,!1),t;case 11:return t=Pl(t.type.render,!1),t;case 22:return t=Pl(t.type._render,!1),t;case 1:return t=Pl(t.type,!0),t;default:return""}}function Mo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vn:return"Fragment";case Pi:return"Portal";case ia:return"Profiler";case _d:return"StrictMode";case oa:return"Suspense";case ou:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ed:return(t.displayName||"Context")+".Consumer";case Sd:return(t._context.displayName||"Context")+".Provider";case Iu:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Au:return Mo(t.type);case xd:return Mo(t._render);case bd:e=t._payload,t=t._init;try{return Mo(t(e))}catch{}}return null}function ei(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I3(t){var e=_1(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ml(t){t._valueTracker||(t._valueTracker=I3(t))}function S1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=_1(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function su(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dh(t,e){var r=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function cg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ei(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function E1(t,e){e=e.checked,e!=null&&wd(t,"checked",e,!1)}function Fh(t,e){E1(t,e);var r=ei(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ch(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ch(t,e.type,ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ch(t,e,r){(e!=="number"||su(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function A3(t){var e="";return Nu.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function Lh(t,e){return t=st({children:void 0},e),(e=A3(e.children))&&(t.children=e),t}function jo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ei(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ph(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(me(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(me(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ei(r)}}function b1(t,e){var r=ei(e.value),n=ei(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function dg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Mh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function x1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?x1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jl,O1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==Mh.svg||"innerHTML"in t)t.innerHTML=e;else{for(jl=jl||document.createElement("div"),jl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ga(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var sa={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R3=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(t){R3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sa[e]=sa[t]})});function k1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||sa.hasOwnProperty(t)&&sa[t]?(""+e).trim():e+"px"}function T1(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=k1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var D3=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bh(t,e){if(e){if(D3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function Uh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Td(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zh=null,Bo=null,Uo=null;function pg(t){if(t=Ra(t)){if(typeof zh!="function")throw Error(me(280));var e=t.stateNode;e&&(e=Pu(e),zh(t.stateNode,t.type,e))}}function N1(t){Bo?Uo?Uo.push(t):Uo=[t]:Bo=t}function I1(){if(Bo){var t=Bo,e=Uo;if(Uo=Bo=null,pg(t),e)for(t=0;t<e.length;t++)pg(e[t])}}function Nd(t,e){return t(e)}function A1(t,e,r,n,i){return t(e,r,n,i)}function Id(){}var R1=Nd,Mi=!1,fh=!1;function Ad(){(Bo!==null||Uo!==null)&&(Id(),I1())}function F3(t,e,r){if(fh)return t(e,r);fh=!0;try{return R1(t,e,r)}finally{fh=!1,Ad()}}function va(t,e){var r=t.stateNode;if(r===null)return null;var n=Pu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(me(231,e,typeof r));return r}var Vh=!1;if(Cn)try{To={},Object.defineProperty(To,"passive",{get:function(){Vh=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{Vh=!1}var To;function C3(t,e,r,n,i,o,s,l,f){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(m){this.onError(m)}}var aa=!1,au=null,lu=!1,Wh=null,L3={onError:function(t){aa=!0,au=t}};function P3(t,e,r,n,i,o,s,l,f){aa=!1,au=null,C3.apply(L3,arguments)}function M3(t,e,r,n,i,o,s,l,f){if(P3.apply(this,arguments),aa){if(aa){var d=au;aa=!1,au=null}else throw Error(me(198));lu||(lu=!0,Wh=d)}}function Gi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function D1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yg(t){if(Gi(t)!==t)throw Error(me(188))}function j3(t){var e=t.alternate;if(!e){if(e=Gi(t),e===null)throw Error(me(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return yg(i),t;if(o===n)return yg(i),e;o=o.sibling}throw Error(me(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?t:e}function F1(t){if(t=j3(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function mg(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var C1,Rd,L1,P1,qh=!1,yn=[],Hn=null,Gn=null,Jn=null,wa=new Map,_a=new Map,Vs=[],gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $h(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function vg(t,e){switch(t){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":wa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(e.pointerId)}}function Ws(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t=$h(e,r,n,i,o),e!==null&&(e=Ra(e),e!==null&&Rd(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function B3(t,e,r,n,i){switch(e){case"focusin":return Hn=Ws(Hn,t,e,r,n,i),!0;case"dragenter":return Gn=Ws(Gn,t,e,r,n,i),!0;case"mouseover":return Jn=Ws(Jn,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return wa.set(o,Ws(wa.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,_a.set(o,Ws(_a.get(o)||null,t,e,r,n,i)),!0}return!1}function U3(t){var e=ji(t.target);if(e!==null){var r=Gi(e);if(r!==null){if(e=r.tag,e===13){if(e=D1(r),e!==null){t.blockedOn=e,P1(t.lanePriority,function(){Lt.unstable_runWithPriority(t.priority,function(){L1(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ld(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Ra(r),e!==null&&Rd(e),t.blockedOn=r,!1;e.shift()}return!0}function wg(t,e,r){Yl(t)&&r.delete(e)}function z3(){for(qh=!1;0<yn.length;){var t=yn[0];if(t.blockedOn!==null){t=Ra(t.blockedOn),t!==null&&C1(t);break}for(var e=t.targetContainers;0<e.length;){var r=Ld(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&yn.shift()}Hn!==null&&Yl(Hn)&&(Hn=null),Gn!==null&&Yl(Gn)&&(Gn=null),Jn!==null&&Yl(Jn)&&(Jn=null),wa.forEach(wg),_a.forEach(wg)}function qs(t,e){t.blockedOn===e&&(t.blockedOn=null,qh||(qh=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,z3)))}function M1(t){function e(i){return qs(i,t)}if(0<yn.length){qs(yn[0],t);for(var r=1;r<yn.length;r++){var n=yn[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Hn!==null&&qs(Hn,t),Gn!==null&&qs(Gn,t),Jn!==null&&qs(Jn,t),wa.forEach(e),_a.forEach(e),r=0;r<Vs.length;r++)n=Vs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)U3(r),r.blockedOn===null&&Vs.shift()}function Bl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ro={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},hh={},j1={};Cn&&(j1=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Ru(t){if(hh[t])return hh[t];if(!Ro[t])return t;var e=Ro[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in j1)return hh[t]=e[r];return t}var B1=Ru("animationend"),U1=Ru("animationiteration"),z1=Ru("animationstart"),V1=Ru("transitionend"),W1=new Map,Dd=new Map,V3=["abort","abort",B1,"animationEnd",U1,"animationIteration",z1,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",V1,"transitionEnd","waiting","waiting"];function Fd(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dd.set(n,e),W1.set(n,i),$i(i,[n])}}var W3=Lt.unstable_now;W3();var Ze=8;function Io(t){if((1&t)!==0)return Ze=15,1;if((2&t)!==0)return Ze=14,2;if((4&t)!==0)return Ze=13,4;var e=24&t;return e!==0?(Ze=12,e):(t&32)!==0?(Ze=11,32):(e=192&t,e!==0?(Ze=10,e):(t&256)!==0?(Ze=9,256):(e=3584&t,e!==0?(Ze=8,e):(t&4096)!==0?(Ze=7,4096):(e=4186112&t,e!==0?(Ze=6,e):(e=62914560&t,e!==0?(Ze=5,e):t&67108864?(Ze=4,67108864):(t&134217728)!==0?(Ze=3,134217728):(e=805306368&t,e!==0?(Ze=2,e):(1073741824&t)!==0?(Ze=1,1073741824):(Ze=8,t))))))}function q3(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function $3(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(me(358,t))}}function Sa(t,e){var r=t.pendingLanes;if(r===0)return Ze=0;var n=0,i=0,o=t.expiredLanes,s=t.suspendedLanes,l=t.pingedLanes;if(o!==0)n=o,i=Ze=15;else if(o=r&134217727,o!==0){var f=o&~s;f!==0?(n=Io(f),i=Ze):(l&=o,l!==0&&(n=Io(l),i=Ze))}else o=r&~s,o!==0?(n=Io(o),i=Ze):l!==0&&(n=Io(l),i=Ze);if(n===0)return 0;if(n=31-ti(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&(e&s)===0){if(Io(e),i<=Ze)return e;Ze=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ti(e),i=1<<r,n|=t[r],e&=~i;return n}function q1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uu(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Ao(24&~e),t===0?uu(10,e):t;case 10:return t=Ao(192&~e),t===0?uu(8,e):t;case 8:return t=Ao(3584&~e),t===0&&(t=Ao(4186112&~e),t===0&&(t=512)),t;case 2:return e=Ao(805306368&~e),e===0&&(e=268435456),e}throw Error(me(358,t))}function Ao(t){return t&-t}function dh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Du(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-ti(e),t[e]=r}var ti=Math.clz32?Math.clz32:J3,H3=Math.log,G3=Math.LN2;function J3(t){return t===0?32:31-(H3(t)/G3|0)|0}var Y3=Lt.unstable_UserBlockingPriority,K3=Lt.unstable_runWithPriority,Kl=!0;function Z3(t,e,r,n){Mi||Id();var i=Cd,o=Mi;Mi=!0;try{A1(i,t,e,r,n)}finally{(Mi=o)||Ad()}}function X3(t,e,r,n){K3(Y3,Cd.bind(null,t,e,r,n))}function Cd(t,e,r,n){if(Kl){var i;if((i=(e&4)===0)&&0<yn.length&&-1<gg.indexOf(t))t=$h(null,t,e,r,n),yn.push(t);else{var o=Ld(t,e,r,n);if(o===null)i&&vg(t,n);else{if(i){if(-1<gg.indexOf(t)){t=$h(o,t,e,r,n),yn.push(t);return}if(B3(o,t,e,r,n))return;vg(t,n)}iv(t,e,n,null,r)}}}}function Ld(t,e,r,n){var i=Td(n);if(i=ji(i),i!==null){var o=Gi(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=D1(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return iv(t,e,n,i,r),null}var Wn=null,Pd=null,Zl=null;function $1(){if(Zl)return Zl;var t,e=Pd,r=e.length,n,i="value"in Wn?Wn.value:Wn.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return Zl=i.slice(t,1<n?1-n:void 0)}function Xl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function _g(){return!1}function Nr(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ul:_g,this.isPropagationStopped=_g,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Md=Nr(Zo),Aa=st({},Zo,{view:0,detail:0}),Q3=Nr(Aa),ph,yh,$s,Fu=st({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$s&&($s&&t.type==="mousemove"?(ph=t.screenX-$s.screenX,yh=t.screenY-$s.screenY):yh=ph=0,$s=t),ph)},movementY:function(t){return"movementY"in t?t.movementY:yh}}),Sg=Nr(Fu),e4=st({},Fu,{dataTransfer:0}),t4=Nr(e4),r4=st({},Aa,{relatedTarget:0}),mh=Nr(r4),n4=st({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),i4=Nr(n4),o4=st({},Zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s4=Nr(o4),a4=st({},Zo,{data:0}),Eg=Nr(a4),l4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c4[t])?!!e[t]:!1}function jd(){return f4}var h4=st({},Aa,{key:function(t){if(t.key){var e=l4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jd,charCode:function(t){return t.type==="keypress"?Xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d4=Nr(h4),p4=st({},Fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bg=Nr(p4),y4=st({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jd}),m4=Nr(y4),g4=st({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),v4=Nr(g4),w4=st({},Fu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_4=Nr(w4),S4=[9,13,27,32],Bd=Cn&&"CompositionEvent"in window,la=null;Cn&&"documentMode"in document&&(la=document.documentMode);var E4=Cn&&"TextEvent"in window&&!la,H1=Cn&&(!Bd||la&&8<la&&11>=la),xg=String.fromCharCode(32),Og=!1;function G1(t,e){switch(t){case"keyup":return S4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Do=!1;function b4(t,e){switch(t){case"compositionend":return J1(e);case"keypress":return e.which!==32?null:(Og=!0,xg);case"textInput":return t=e.data,t===xg&&Og?null:t;default:return null}}function x4(t,e){if(Do)return t==="compositionend"||!Bd&&G1(t,e)?(t=$1(),Zl=Pd=Wn=null,Do=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return H1&&e.locale!=="ko"?null:e.data;default:return null}}var O4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O4[t.type]:e==="textarea"}function Y1(t,e,r,n){N1(n),e=cu(e,"onChange"),0<e.length&&(r=new Md("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ua=null,Ea=null;function k4(t){tv(t,0)}function Cu(t){var e=Co(t);if(S1(e))return t}function T4(t,e){if(t==="change")return e}var K1=!1;Cn&&(Cn?(Vl="oninput"in document,Vl||(gh=document.createElement("div"),gh.setAttribute("oninput","return;"),Vl=typeof gh.oninput=="function"),zl=Vl):zl=!1,K1=zl&&(!document.documentMode||9<document.documentMode));var zl,Vl,gh;function Tg(){ua&&(ua.detachEvent("onpropertychange",Z1),Ea=ua=null)}function Z1(t){if(t.propertyName==="value"&&Cu(Ea)){var e=[];if(Y1(e,Ea,t,Td(t)),t=k4,Mi)t(e);else{Mi=!0;try{Nd(t,e)}finally{Mi=!1,Ad()}}}}function N4(t,e,r){t==="focusin"?(Tg(),ua=e,Ea=r,ua.attachEvent("onpropertychange",Z1)):t==="focusout"&&Tg()}function I4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Ea)}function A4(t,e){if(t==="click")return Cu(e)}function R4(t,e){if(t==="input"||t==="change")return Cu(e)}function D4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Br=typeof Object.is=="function"?Object.is:D4,F4=Object.prototype.hasOwnProperty;function ba(t,e){if(Br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!F4.call(e,r[n])||!Br(t[r[n]],e[r[n]]))return!1;return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,e){var r=Ng(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ng(r)}}function X1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ag(){for(var t=window,e=su();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=su(t.document)}return e}function Hh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var C4=Cn&&"documentMode"in document&&11>=document.documentMode,Fo=null,Gh=null,ca=null,Jh=!1;function Rg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jh||Fo==null||Fo!==su(n)||(n=Fo,"selectionStart"in n&&Hh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ca&&ba(ca,n)||(ca=n,n=cu(Gh,"onSelect"),0<n.length&&(e=new Md("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Fo)))}Fd("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Fd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Fd(V3,2);for(vh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wl=0;Wl<vh.length;Wl++)Dd.set(vh[Wl],0);var vh,Wl;Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function Dg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,M3(n,e,void 0,t),t.currentTarget=null}function tv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var l=n[s],f=l.instance,d=l.currentTarget;if(l=l.listener,f!==o&&i.isPropagationStopped())break e;Dg(i,l,d),o=f}else for(s=0;s<n.length;s++){if(l=n[s],f=l.instance,d=l.currentTarget,l=l.listener,f!==o&&i.isPropagationStopped())break e;Dg(i,l,d),o=f}}}if(lu)throw t=Wh,lu=!1,Wh=null,t}function rt(t,e){var r=sv(e),n=t+"__bubble";r.has(n)||(nv(e,t,2,!1),r.add(n))}var Fg="_reactListening"+Math.random().toString(36).slice(2);function rv(t){t[Fg]||(t[Fg]=!0,v1.forEach(function(e){Q1.has(e)||Cg(e,!1,t,null),Cg(e,!0,t,null)}))}function Cg(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(t==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!e&&Q1.has(t)){if(t!=="scroll")return;i|=2,o=n}var s=sv(o),l=t+"__"+(e?"capture":"bubble");s.has(l)||(e&&(i|=4),nv(o,t,i,e),s.add(l))}function nv(t,e,r,n){var i=Dd.get(e);switch(i===void 0?2:i){case 0:i=Z3;break;case 1:i=X3;break;default:i=Cd}r=i.bind(null,e,r,t),i=void 0,!Vh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function iv(t,e,r,n,i){var o=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;l!==null;){if(s=ji(l),s===null)return;if(f=s.tag,f===5||f===6){n=o=s;continue e}l=l.parentNode}}n=n.return}F3(function(){var d=o,m=Td(r),v=[];e:{var y=W1.get(t);if(y!==void 0){var S=Md,O=t;switch(t){case"keypress":if(Xl(r)===0)break e;case"keydown":case"keyup":S=d4;break;case"focusin":O="focus",S=mh;break;case"focusout":O="blur",S=mh;break;case"beforeblur":case"afterblur":S=mh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=t4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=m4;break;case B1:case U1:case z1:S=i4;break;case V1:S=v4;break;case"scroll":S=Q3;break;case"wheel":S=_4;break;case"copy":case"cut":case"paste":S=s4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=bg}var R=(e&4)!==0,T=!R&&t==="scroll",I=R?y!==null?y+"Capture":null:y;R=[];for(var L=d,Y;L!==null;){Y=L;var H=Y.stateNode;if(Y.tag===5&&H!==null&&(Y=H,I!==null&&(H=va(L,I),H!=null&&R.push(xa(L,H,Y)))),T)break;L=L.return}0<R.length&&(y=new S(y,O,null,r,m),v.push({event:y,listeners:R}))}}if((e&7)===0){e:{if(y=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",y&&(e&16)===0&&(O=r.relatedTarget||r.fromElement)&&(ji(O)||O[Xo]))break e;if((S||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,S?(O=r.relatedTarget||r.toElement,S=d,O=O?ji(O):null,O!==null&&(T=Gi(O),O!==T||O.tag!==5&&O.tag!==6)&&(O=null)):(S=null,O=d),S!==O)){if(R=Sg,H="onMouseLeave",I="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(R=bg,H="onPointerLeave",I="onPointerEnter",L="pointer"),T=S==null?y:Co(S),Y=O==null?y:Co(O),y=new R(H,L+"leave",S,r,m),y.target=T,y.relatedTarget=Y,H=null,ji(m)===d&&(R=new R(I,L+"enter",O,r,m),R.target=Y,R.relatedTarget=T,H=R),T=H,S&&O)t:{for(R=S,I=O,L=0,Y=R;Y;Y=No(Y))L++;for(Y=0,H=I;H;H=No(H))Y++;for(;0<L-Y;)R=No(R),L--;for(;0<Y-L;)I=No(I),Y--;for(;L--;){if(R===I||I!==null&&R===I.alternate)break t;R=No(R),I=No(I)}R=null}else R=null;S!==null&&Lg(v,y,S,R,!1),O!==null&&T!==null&&Lg(v,T,O,R,!0)}}e:{if(y=d?Co(d):window,S=y.nodeName&&y.nodeName.toLowerCase(),S==="select"||S==="input"&&y.type==="file")var Z=T4;else if(kg(y))if(K1)Z=R4;else{Z=I4;var P=N4}else(S=y.nodeName)&&S.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(Z=A4);if(Z&&(Z=Z(t,d))){Y1(v,Z,r,m);break e}P&&P(t,y,d),t==="focusout"&&(P=y._wrapperState)&&P.controlled&&y.type==="number"&&Ch(y,"number",y.value)}switch(P=d?Co(d):window,t){case"focusin":(kg(P)||P.contentEditable==="true")&&(Fo=P,Gh=d,ca=null);break;case"focusout":ca=Gh=Fo=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Rg(v,r,m);break;case"selectionchange":if(C4)break;case"keydown":case"keyup":Rg(v,r,m)}var V;if(Bd)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Do?G1(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(H1&&r.locale!=="ko"&&(Do||_!=="onCompositionStart"?_==="onCompositionEnd"&&Do&&(V=$1()):(Wn=m,Pd="value"in Wn?Wn.value:Wn.textContent,Do=!0)),P=cu(d,_),0<P.length&&(_=new Eg(_,t,null,r,m),v.push({event:_,listeners:P}),V?_.data=V:(V=J1(r),V!==null&&(_.data=V)))),(V=E4?b4(t,r):x4(t,r))&&(d=cu(d,"onBeforeInput"),0<d.length&&(m=new Eg("onBeforeInput","beforeinput",null,r,m),v.push({event:m,listeners:d}),m.data=V))}tv(v,e)})}function xa(t,e,r){return{instance:t,listener:e,currentTarget:r}}function cu(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=va(t,r),o!=null&&n.unshift(xa(t,o,i)),o=va(t,e),o!=null&&n.push(xa(t,o,i))),t=t.return}return n}function No(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lg(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var l=r,f=l.alternate,d=l.stateNode;if(f!==null&&f===n)break;l.tag===5&&d!==null&&(l=d,i?(f=va(r,o),f!=null&&s.unshift(xa(r,f,l))):i||(f=va(r,o),f!=null&&s.push(xa(r,f,l)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}function fu(){}var wh=null,_h=null;function ov(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Yh(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pg=typeof setTimeout=="function"?setTimeout:void 0,L4=typeof clearTimeout=="function"?clearTimeout:void 0;function Ud(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function zo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Mg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Sh=0;function P4(t){return{$$typeof:Od,toString:t,valueOf:t}}var Lu=Math.random().toString(36).slice(2),qn="__reactFiber$"+Lu,hu="__reactProps$"+Lu,Xo="__reactContainer$"+Lu,jg="__reactEvents$"+Lu;function ji(t){var e=t[qn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Xo]||r[qn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Mg(t);t!==null;){if(r=t[qn])return r;t=Mg(t)}return e}t=r,r=t.parentNode}return null}function Ra(t){return t=t[qn]||t[Xo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(me(33))}function Pu(t){return t[hu]||null}function sv(t){var e=t[jg];return e===void 0&&(e=t[jg]=new Set),e}var Kh=[],Lo=-1;function oi(t){return{current:t}}function nt(t){0>Lo||(t.current=Kh[Lo],Kh[Lo]=null,Lo--)}function yt(t,e){Lo++,Kh[Lo]=t.current,t.current=e}var ri={},er=oi(ri),pr=oi(!1),Vi=ri;function Jo(t,e){var r=t.type.contextTypes;if(!r)return ri;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yr(t){return t=t.childContextTypes,t!=null}function du(){nt(pr),nt(er)}function Bg(t,e,r){if(er.current!==ri)throw Error(me(168));yt(er,e),yt(pr,r)}function av(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(me(108,Mo(e)||"Unknown",i));return st({},r,n)}function Ql(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ri,Vi=er.current,yt(er,t),yt(pr,pr.current),!0}function Ug(t,e,r){var n=t.stateNode;if(!n)throw Error(me(169));r?(t=av(t,e,Vi),n.__reactInternalMemoizedMergedChildContext=t,nt(pr),nt(er),yt(er,t)):nt(pr),yt(pr,r)}var zd=null,zi=null,M4=Lt.unstable_runWithPriority,Vd=Lt.unstable_scheduleCallback,Zh=Lt.unstable_cancelCallback,j4=Lt.unstable_shouldYield,zg=Lt.unstable_requestPaint,Xh=Lt.unstable_now,B4=Lt.unstable_getCurrentPriorityLevel,Mu=Lt.unstable_ImmediatePriority,lv=Lt.unstable_UserBlockingPriority,uv=Lt.unstable_NormalPriority,cv=Lt.unstable_LowPriority,fv=Lt.unstable_IdlePriority,Eh={},U4=zg!==void 0?zg:function(){},In=null,eu=null,bh=!1,Vg=Xh(),Xt=1e4>Vg?Xh:function(){return Xh()-Vg};function Yo(){switch(B4()){case Mu:return 99;case lv:return 98;case uv:return 97;case cv:return 96;case fv:return 95;default:throw Error(me(332))}}function hv(t){switch(t){case 99:return Mu;case 98:return lv;case 97:return uv;case 96:return cv;case 95:return fv;default:throw Error(me(332))}}function Wi(t,e){return t=hv(t),M4(t,e)}function Oa(t,e,r){return t=hv(t),Vd(t,e,r)}function _n(){if(eu!==null){var t=eu;eu=null,Zh(t)}dv()}function dv(){if(!bh&&In!==null){bh=!0;var t=0;try{var e=In;Wi(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),In=null}catch(r){throw In!==null&&(In=In.slice(t+1)),Vd(Mu,_n),r}finally{bh=!1}}}var z4=Hi.ReactCurrentBatchConfig;function Xr(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var pu=oi(null),yu=null,Po=null,mu=null;function Wd(){mu=Po=yu=null}function qd(t){var e=pu.current;nt(pu),t.type._context._currentValue=e}function pv(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Vo(t,e){yu=t,mu=Po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Qr=!0),t.firstContext=null)}function Vr(t,e){if(mu!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(mu=t,e=1073741823),e={context:t,observedBits:e,next:null},Po===null){if(yu===null)throw Error(me(308));Po=e,yu.dependencies={lanes:0,firstContext:e,responders:null}}else Po=Po.next=e;return t._currentValue}var zn=!1;function $d(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function Wg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ka(t,e,r,n){var i=t.updateQueue;zn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var f=l,d=f.next;f.next=null,s===null?o=d:s.next=d,s=f;var m=t.alternate;if(m!==null){m=m.updateQueue;var v=m.lastBaseUpdate;v!==s&&(v===null?m.firstBaseUpdate=d:v.next=d,m.lastBaseUpdate=f)}}if(o!==null){v=i.baseState,s=0,m=d=f=null;do{l=o.lane;var y=o.eventTime;if((n&l)===l){m!==null&&(m=m.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=t,O=o;switch(l=e,y=r,O.tag){case 1:if(S=O.payload,typeof S=="function"){v=S.call(y,v,l);break e}v=S;break e;case 3:S.flags=S.flags&-4097|64;case 0:if(S=O.payload,l=typeof S=="function"?S.call(y,v,l):S,l==null)break e;v=st({},v,l);break e;case 2:zn=!0}}o.callback!==null&&(t.flags|=32,l=i.effects,l===null?i.effects=[o]:l.push(o))}else y={eventTime:y,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=y,f=v):m=m.next=y,s|=l;if(o=o.next,o===null){if(l=i.shared.pending,l===null)break;o=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);m===null&&(f=v),i.baseState=f,i.firstBaseUpdate=d,i.lastBaseUpdate=m,Fa|=s,t.lanes=s,t.memoizedState=v}}function qg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(me(191,i));i.call(n)}}}var mv=new Nu.Component().refs;function gu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:st({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ju={isMounted:function(t){return(t=t._reactInternals)?Gi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=Zn(t),o=Yn(n,i);o.payload=e,r!=null&&(o.callback=r),Kn(t,o),Xn(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=Zn(t),o=Yn(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),Kn(t,o),Xn(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Tr(),n=Zn(t),i=Yn(r,n);i.tag=2,e!=null&&(i.callback=e),Kn(t,i),Xn(t,n,r)}};function $g(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!ba(r,n)||!ba(i,o):!0}function gv(t,e,r){var n=!1,i=ri,o=e.contextType;return typeof o=="object"&&o!==null?o=Vr(o):(i=yr(e)?Vi:er.current,n=e.contextTypes,o=(n=n!=null)?Jo(t,i):ri),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ju,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Hg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ju.enqueueReplaceState(e,e.state,null)}function Qh(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=mv,$d(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Vr(o):(o=yr(e)?Vi:er.current,i.context=Jo(t,o)),ka(t,r,i,n),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gu(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ju.enqueueReplaceState(i,i.state,null),ka(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var ql=Array.isArray;function Hs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=n.refs;s===mv&&(s=n.refs={}),o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,t))}return t}function $l(t,e){if(t.type!=="textarea")throw Error(me(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function vv(t){function e(T,I){if(t){var L=T.lastEffect;L!==null?(L.nextEffect=I,T.lastEffect=I):T.firstEffect=T.lastEffect=I,I.nextEffect=null,I.flags=8}}function r(T,I){if(!t)return null;for(;I!==null;)e(T,I),I=I.sibling;return null}function n(T,I){for(T=new Map;I!==null;)I.key!==null?T.set(I.key,I):T.set(I.index,I),I=I.sibling;return T}function i(T,I){return T=ii(T,I),T.index=0,T.sibling=null,T}function o(T,I,L){return T.index=L,t?(L=T.alternate,L!==null?(L=L.index,L<I?(T.flags=2,I):L):(T.flags=2,I)):I}function s(T){return t&&T.alternate===null&&(T.flags=2),T}function l(T,I,L,Y){return I===null||I.tag!==6?(I=Nh(L,T.mode,Y),I.return=T,I):(I=i(I,L),I.return=T,I)}function f(T,I,L,Y){return I!==null&&I.elementType===L.type?(Y=i(I,L.props),Y.ref=Hs(T,I,L),Y.return=T,Y):(Y=iu(L.type,L.key,L.props,null,T.mode,Y),Y.ref=Hs(T,I,L),Y.return=T,Y)}function d(T,I,L,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Ih(L,T.mode,Y),I.return=T,I):(I=i(I,L.children||[]),I.return=T,I)}function m(T,I,L,Y,H){return I===null||I.tag!==7?(I=Ho(L,T.mode,Y,H),I.return=T,I):(I=i(I,L),I.return=T,I)}function v(T,I,L){if(typeof I=="string"||typeof I=="number")return I=Nh(""+I,T.mode,L),I.return=T,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Qs:return L=iu(I.type,I.key,I.props,null,T.mode,L),L.ref=Hs(T,null,I),L.return=T,L;case Pi:return I=Ih(I,T.mode,L),I.return=T,I}if(ql(I)||zs(I))return I=Ho(I,T.mode,L,null),I.return=T,I;$l(T,I)}return null}function y(T,I,L,Y){var H=I!==null?I.key:null;if(typeof L=="string"||typeof L=="number")return H!==null?null:l(T,I,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Qs:return L.key===H?L.type===Vn?m(T,I,L.props.children,Y,H):f(T,I,L,Y):null;case Pi:return L.key===H?d(T,I,L,Y):null}if(ql(L)||zs(L))return H!==null?null:m(T,I,L,Y,null);$l(T,L)}return null}function S(T,I,L,Y,H){if(typeof Y=="string"||typeof Y=="number")return T=T.get(L)||null,l(I,T,""+Y,H);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Qs:return T=T.get(Y.key===null?L:Y.key)||null,Y.type===Vn?m(I,T,Y.props.children,H,Y.key):f(I,T,Y,H);case Pi:return T=T.get(Y.key===null?L:Y.key)||null,d(I,T,Y,H)}if(ql(Y)||zs(Y))return T=T.get(L)||null,m(I,T,Y,H,null);$l(I,Y)}return null}function O(T,I,L,Y){for(var H=null,Z=null,P=I,V=I=0,_=null;P!==null&&V<L.length;V++){P.index>V?(_=P,P=null):_=P.sibling;var W=y(T,P,L[V],Y);if(W===null){P===null&&(P=_);break}t&&P&&W.alternate===null&&e(T,P),I=o(W,I,V),Z===null?H=W:Z.sibling=W,Z=W,P=_}if(V===L.length)return r(T,P),H;if(P===null){for(;V<L.length;V++)P=v(T,L[V],Y),P!==null&&(I=o(P,I,V),Z===null?H=P:Z.sibling=P,Z=P);return H}for(P=n(T,P);V<L.length;V++)_=S(P,T,V,L[V],Y),_!==null&&(t&&_.alternate!==null&&P.delete(_.key===null?V:_.key),I=o(_,I,V),Z===null?H=_:Z.sibling=_,Z=_);return t&&P.forEach(function(re){return e(T,re)}),H}function R(T,I,L,Y){var H=zs(L);if(typeof H!="function")throw Error(me(150));if(L=H.call(L),L==null)throw Error(me(151));for(var Z=H=null,P=I,V=I=0,_=null,W=L.next();P!==null&&!W.done;V++,W=L.next()){P.index>V?(_=P,P=null):_=P.sibling;var re=y(T,P,W.value,Y);if(re===null){P===null&&(P=_);break}t&&P&&re.alternate===null&&e(T,P),I=o(re,I,V),Z===null?H=re:Z.sibling=re,Z=re,P=_}if(W.done)return r(T,P),H;if(P===null){for(;!W.done;V++,W=L.next())W=v(T,W.value,Y),W!==null&&(I=o(W,I,V),Z===null?H=W:Z.sibling=W,Z=W);return H}for(P=n(T,P);!W.done;V++,W=L.next())W=S(P,T,V,W.value,Y),W!==null&&(t&&W.alternate!==null&&P.delete(W.key===null?V:W.key),I=o(W,I,V),Z===null?H=W:Z.sibling=W,Z=W);return t&&P.forEach(function(X){return e(T,X)}),H}return function(T,I,L,Y){var H=typeof L=="object"&&L!==null&&L.type===Vn&&L.key===null;H&&(L=L.props.children);var Z=typeof L=="object"&&L!==null;if(Z)switch(L.$$typeof){case Qs:e:{for(Z=L.key,H=I;H!==null;){if(H.key===Z){switch(H.tag){case 7:if(L.type===Vn){r(T,H.sibling),I=i(H,L.props.children),I.return=T,T=I;break e}break;default:if(H.elementType===L.type){r(T,H.sibling),I=i(H,L.props),I.ref=Hs(T,H,L),I.return=T,T=I;break e}}r(T,H);break}else e(T,H);H=H.sibling}L.type===Vn?(I=Ho(L.props.children,T.mode,Y,L.key),I.return=T,T=I):(Y=iu(L.type,L.key,L.props,null,T.mode,Y),Y.ref=Hs(T,I,L),Y.return=T,T=Y)}return s(T);case Pi:e:{for(H=L.key;I!==null;){if(I.key===H)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){r(T,I.sibling),I=i(I,L.children||[]),I.return=T,T=I;break e}else{r(T,I);break}else e(T,I);I=I.sibling}I=Ih(L,T.mode,Y),I.return=T,T=I}return s(T)}if(typeof L=="string"||typeof L=="number")return L=""+L,I!==null&&I.tag===6?(r(T,I.sibling),I=i(I,L),I.return=T,T=I):(r(T,I),I=Nh(L,T.mode,Y),I.return=T,T=I),s(T);if(ql(L))return O(T,I,L,Y);if(zs(L))return R(T,I,L,Y);if(Z&&$l(T,L),typeof L>"u"&&!H)switch(T.tag){case 1:case 22:case 0:case 11:case 15:throw Error(me(152,Mo(T.type)||"Component"))}return r(T,I)}}var vu=vv(!0),wv=vv(!1),Da={},vn=oi(Da),Ta=oi(Da),Na=oi(Da);function Bi(t){if(t===Da)throw Error(me(174));return t}function ed(t,e){switch(yt(Na,e),yt(Ta,t),yt(vn,Da),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jh(e,t)}nt(vn),yt(vn,e)}function Ko(){nt(vn),nt(Ta),nt(Na)}function Gg(t){Bi(Na.current);var e=Bi(vn.current),r=jh(e,t.type);e!==r&&(yt(Ta,t),yt(vn,r))}function Hd(t){Ta.current===t&&(nt(vn),nt(Ta))}var pt=oi(0);function wu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rn=null,$n=null,wn=!1;function _v(t,e){var r=Ur(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function Jg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function td(t){if(wn){var e=$n;if(e){var r=e;if(!Jg(t,e)){if(e=zo(r.nextSibling),!e||!Jg(t,e)){t.flags=t.flags&-1025|2,wn=!1,Rn=t;return}_v(Rn,r)}Rn=t,$n=zo(e.firstChild)}else t.flags=t.flags&-1025|2,wn=!1,Rn=t}}function Yg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function Hl(t){if(t!==Rn)return!1;if(!wn)return Yg(t),wn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Yh(e,t.memoizedProps))for(e=$n;e;)_v(t,e),e=zo(e.nextSibling);if(Yg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$n=zo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=Rn?zo(t.stateNode.nextSibling):null;return!0}function xh(){$n=Rn=null,wn=!1}var Wo=[];function Gd(){for(var t=0;t<Wo.length;t++)Wo[t]._workInProgressVersionPrimary=null;Wo.length=0}var fa=Hi.ReactCurrentDispatcher,zr=Hi.ReactCurrentBatchConfig,Ia=0,kt=null,Zt=null,Wt=null,_u=!1,ha=!1;function hr(){throw Error(me(321))}function Jd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Br(t[r],e[r]))return!1;return!0}function Yd(t,e,r,n,i,o){if(Ia=o,kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=t===null||t.memoizedState===null?W4:q4,t=r(n,i),ha){o=0;do{if(ha=!1,!(25>o))throw Error(me(301));o+=1,Wt=Zt=null,e.updateQueue=null,fa.current=$4,t=r(n,i)}while(ha)}if(fa.current=xu,e=Zt!==null&&Zt.next!==null,Ia=0,Wt=Zt=kt=null,_u=!1,e)throw Error(me(300));return t}function Ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?kt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function Ji(){if(Zt===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var e=Wt===null?kt.memoizedState:Wt.next;if(e!==null)Wt=e,Zt=t;else{if(t===null)throw Error(me(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Wt===null?kt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function mn(t,e){return typeof e=="function"?e(t):e}function Gs(t){var e=Ji(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=Zt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var l=s=o=null,f=i;do{var d=f.lane;if((Ia&d)===d)l!==null&&(l=l.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),n=f.eagerReducer===t?f.eagerState:t(n,f.action);else{var m={lane:d,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};l===null?(s=l=m,o=n):l=l.next=m,kt.lanes|=d,Fa|=d}f=f.next}while(f!==null&&f!==i);l===null?o=n:l.next=s,Br(n,e.memoizedState)||(Qr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function Js(t){var e=Ji(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Br(o,e.memoizedState)||(Qr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Kg(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Ia&t)===t)&&(e._workInProgressVersionPrimary=n,Wo.push(e))),t)return r(e._source);throw Wo.push(e),Error(me(350))}function Sv(t,e,r,n){var i=rr;if(i===null)throw Error(me(349));var o=e._getVersion,s=o(e._source),l=fa.current,f=l.useState(function(){return Kg(i,e,r)}),d=f[1],m=f[0];f=Wt;var v=t.memoizedState,y=v.refs,S=y.getSnapshot,O=v.source;v=v.subscribe;var R=kt;return t.memoizedState={refs:y,source:e,subscribe:n},l.useEffect(function(){y.getSnapshot=r,y.setSnapshot=d;var T=o(e._source);if(!Br(s,T)){T=r(e._source),Br(m,T)||(d(T),T=Zn(R),i.mutableReadLanes|=T&i.pendingLanes),T=i.mutableReadLanes,i.entangledLanes|=T;for(var I=i.entanglements,L=T;0<L;){var Y=31-ti(L),H=1<<Y;I[Y]|=T,L&=~H}}},[r,e,n]),l.useEffect(function(){return n(e._source,function(){var T=y.getSnapshot,I=y.setSnapshot;try{I(T(e._source));var L=Zn(R);i.mutableReadLanes|=L&i.pendingLanes}catch(Y){I(function(){throw Y})}})},[e,n]),Br(S,r)&&Br(O,e)&&Br(v,n)||(t={pending:null,dispatch:null,lastRenderedReducer:mn,lastRenderedState:m},t.dispatch=d=Xd.bind(null,kt,t),f.queue=t,f.baseQueue=null,m=Kg(i,e,r),f.memoizedState=f.baseState=m),m}function Ev(t,e,r){var n=Ji();return Sv(n,t,e,r)}function Ys(t){var e=Ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:mn,lastRenderedState:t},t=t.dispatch=Xd.bind(null,kt,t),[e.memoizedState,t]}function Su(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=kt.updateQueue,e===null?(e={lastEffect:null},kt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Zg(t){var e=Ui();return t={current:t},e.memoizedState=t}function Eu(){return Ji().memoizedState}function rd(t,e,r,n){var i=Ui();kt.flags|=t,i.memoizedState=Su(1|e,r,void 0,n===void 0?null:n)}function Kd(t,e,r,n){var i=Ji();n=n===void 0?null:n;var o=void 0;if(Zt!==null){var s=Zt.memoizedState;if(o=s.destroy,n!==null&&Jd(n,s.deps)){Su(e,r,o,n);return}}kt.flags|=t,i.memoizedState=Su(1|e,r,o,n)}function Xg(t,e){return rd(516,4,t,e)}function bu(t,e){return Kd(516,4,t,e)}function bv(t,e){return Kd(4,2,t,e)}function xv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ov(t,e,r){return r=r!=null?r.concat([t]):null,Kd(4,2,xv.bind(null,e,t),r)}function Zd(){}function kv(t,e){var r=Ji();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Jd(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Tv(t,e){var r=Ji();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Jd(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function V4(t,e){var r=Yo();Wi(98>r?98:r,function(){t(!0)}),Wi(97<r?97:r,function(){var n=zr.transition;zr.transition=1;try{t(!1),e()}finally{zr.transition=n}})}function Xd(t,e,r){var n=Tr(),i=Zn(t),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),e.pending=o,s=t.alternate,t===kt||s!==null&&s===kt)ha=_u=!0;else{if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,f=s(l,r);if(o.eagerReducer=s,o.eagerState=f,Br(f,l))return}catch{}finally{}Xn(t,i,n)}}var xu={readContext:Vr,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useOpaqueIdentifier:hr,unstable_isNewReconciler:!1},W4={readContext:Vr,useCallback:function(t,e){return Ui().memoizedState=[t,e===void 0?null:e],t},useContext:Vr,useEffect:Xg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,rd(4,2,xv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return rd(4,2,t,e)},useMemo:function(t,e){var r=Ui();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ui();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Xd.bind(null,kt,t),[n.memoizedState,t]},useRef:Zg,useState:Ys,useDebugValue:Zd,useDeferredValue:function(t){var e=Ys(t),r=e[0],n=e[1];return Xg(function(){var i=zr.transition;zr.transition=1;try{n(t)}finally{zr.transition=i}},[t]),r},useTransition:function(){var t=Ys(!1),e=t[0];return t=V4.bind(null,t[1]),Zg(t),[t,e]},useMutableSource:function(t,e,r){var n=Ui();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},Sv(n,t,e,r)},useOpaqueIdentifier:function(){if(wn){var t=!1,e=P4(function(){throw t||(t=!0,r("r:"+(Sh++).toString(36))),Error(me(355))}),r=Ys(e)[1];return(kt.mode&2)===0&&(kt.flags|=516,Su(5,function(){r("r:"+(Sh++).toString(36))},void 0,null)),e}return e="r:"+(Sh++).toString(36),Ys(e),e},unstable_isNewReconciler:!1},q4={readContext:Vr,useCallback:kv,useContext:Vr,useEffect:bu,useImperativeHandle:Ov,useLayoutEffect:bv,useMemo:Tv,useReducer:Gs,useRef:Eu,useState:function(){return Gs(mn)},useDebugValue:Zd,useDeferredValue:function(t){var e=Gs(mn),r=e[0],n=e[1];return bu(function(){var i=zr.transition;zr.transition=1;try{n(t)}finally{zr.transition=i}},[t]),r},useTransition:function(){var t=Gs(mn)[0];return[Eu().current,t]},useMutableSource:Ev,useOpaqueIdentifier:function(){return Gs(mn)[0]},unstable_isNewReconciler:!1},$4={readContext:Vr,useCallback:kv,useContext:Vr,useEffect:bu,useImperativeHandle:Ov,useLayoutEffect:bv,useMemo:Tv,useReducer:Js,useRef:Eu,useState:function(){return Js(mn)},useDebugValue:Zd,useDeferredValue:function(t){var e=Js(mn),r=e[0],n=e[1];return bu(function(){var i=zr.transition;zr.transition=1;try{n(t)}finally{zr.transition=i}},[t]),r},useTransition:function(){var t=Js(mn)[0];return[Eu().current,t]},useMutableSource:Ev,useOpaqueIdentifier:function(){return Js(mn)[0]},unstable_isNewReconciler:!1},H4=Hi.ReactCurrentOwner,Qr=!1;function dr(t,e,r,n){e.child=t===null?wv(e,null,r,n):vu(e,t.child,r,n)}function Qg(t,e,r,n,i){r=r.render;var o=e.ref;return Vo(e,i),n=Yd(t,e,r,n,o,i),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Dn(t,e,i)):(e.flags|=1,dr(t,e,n,i),e.child)}function e1(t,e,r,n,i,o){if(t===null){var s=r.type;return typeof s=="function"&&!i0(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Nv(t,e,s,n,i,o)):(t=iu(r.type,null,n,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return s=t.child,(i&o)===0&&(i=s.memoizedProps,r=r.compare,r=r!==null?r:ba,r(i,n)&&t.ref===e.ref)?Dn(t,e,o):(e.flags|=1,t=ii(s,n),t.ref=e.ref,t.return=e,e.child=t)}function Nv(t,e,r,n,i,o){if(t!==null&&ba(t.memoizedProps,n)&&t.ref===e.ref)if(Qr=!1,(o&i)!==0)(t.flags&16384)!==0&&(Qr=!0);else return e.lanes=t.lanes,Dn(t,e,o);return nd(t,e,r,n,o)}function Oh(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Jl(e,r);else if((r&1073741824)!==0)e.memoizedState={baseLanes:0},Jl(e,o!==null?o.baseLanes:r);else return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Jl(e,t),null;else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Jl(e,n);return dr(t,e,i,r),e.child}function Iv(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function nd(t,e,r,n,i){var o=yr(r)?Vi:er.current;return o=Jo(e,o),Vo(e,i),r=Yd(t,e,r,n,o,i),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Dn(t,e,i)):(e.flags|=1,dr(t,e,r,i),e.child)}function t1(t,e,r,n,i){if(yr(r)){var o=!0;Ql(e)}else o=!1;if(Vo(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),gv(e,r,n),Qh(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var f=s.context,d=r.contextType;typeof d=="object"&&d!==null?d=Vr(d):(d=yr(r)?Vi:er.current,d=Jo(e,d));var m=r.getDerivedStateFromProps,v=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||f!==d)&&Hg(e,s,n,d),zn=!1;var y=e.memoizedState;s.state=y,ka(e,n,s,i),f=e.memoizedState,l!==n||y!==f||pr.current||zn?(typeof m=="function"&&(gu(e,r,m,n),f=e.memoizedState),(l=zn||$g(e,r,l,n,y,f,d))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=f),s.props=n,s.state=f,s.context=d,n=l):(typeof s.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{s=e.stateNode,yv(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Xr(e.type,l),s.props=d,v=e.pendingProps,y=s.context,f=r.contextType,typeof f=="object"&&f!==null?f=Vr(f):(f=yr(r)?Vi:er.current,f=Jo(e,f));var S=r.getDerivedStateFromProps;(m=typeof S=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==v||y!==f)&&Hg(e,s,n,f),zn=!1,y=e.memoizedState,s.state=y,ka(e,n,s,i);var O=e.memoizedState;l!==v||y!==O||pr.current||zn?(typeof S=="function"&&(gu(e,r,S,n),O=e.memoizedState),(d=zn||$g(e,r,d,n,y,O,f))?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,O,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,O,f)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=O),s.props=n,s.state=O,s.context=f,n=d):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),n=!1)}return id(t,e,r,n,o,i)}function id(t,e,r,n,i,o){Iv(t,e);var s=(e.flags&64)!==0;if(!n&&!s)return i&&Ug(e,r,!1),Dn(t,e,o);n=e.stateNode,H4.current=e;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=vu(e,t.child,null,o),e.child=vu(e,null,l,o)):dr(t,e,l,o),e.memoizedState=n.state,i&&Ug(e,r,!0),e.child}function r1(t){var e=t.stateNode;e.pendingContext?Bg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bg(t,e.context,!1),ed(t,e.containerInfo)}var Gl={dehydrated:null,retryLane:0};function n1(t,e,r){var n=e.pendingProps,i=pt.current,o=!1,s;return(s=(e.flags&64)!==0)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),yt(pt,i&1),t===null?(n.fallback!==void 0&&td(e),t=n.children,i=n.fallback,o?(t=i1(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Gl,t):typeof n.unstable_expectedLoadTime=="number"?(t=i1(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Gl,e.lanes=33554432,t):(r=o0({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?o?(n=s1(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=Gl,n):(r=o1(t,e,n.children,r),e.memoizedState=null,r):o?(n=s1(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=Gl,n):(r=o1(t,e,n.children,r),e.memoizedState=null,r)}function i1(t,e,r,n){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=e):o=o0(e,i,0,null),r=Ho(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r}function o1(t,e,r,n){var i=t.child;return t=i.sibling,r=ii(i,{mode:"visible",children:r}),(e.mode&2)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function s1(t,e,r,n,i){var o=e.mode,s=t.child;t=s.sibling;var l={mode:"hidden",children:r};return(o&2)===0&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,s=r.lastEffect,s!==null?(e.firstEffect=r.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):r=ii(s,l),t!==null?n=ii(t,n):(n=Ho(n,o,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function a1(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pv(t.return,e)}function kh(t,e,r,n,i,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.lastEffect=o)}function l1(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(dr(t,e,n.children,r),n=pt.current,(n&2)!==0)n=n&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a1(t,r);else if(t.tag===19)a1(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(yt(pt,n),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&wu(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),kh(e,!1,i,r,o,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wu(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}kh(e,!0,r,null,o,e.lastEffect);break;case"together":kh(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Dn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Fa|=e.lanes,(r&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,r=ii(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ii(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var Av,od,Rv,Dv;Av=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};od=function(){};Rv=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Bi(vn.current);var o=null;switch(r){case"input":i=Dh(t,i),n=Dh(t,n),o=[];break;case"option":i=Lh(t,i),n=Lh(t,n),o=[];break;case"select":i=st({},i,{value:void 0}),n=st({},n,{value:void 0}),o=[];break;case"textarea":i=Ph(t,i),n=Ph(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=fu)}Bh(r,n);var s;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ma.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var f=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&f!==l&&(f!=null||l!=null))if(d==="style")if(l){for(s in l)!l.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in f)f.hasOwnProperty(s)&&l[s]!==f[s]&&(r||(r={}),r[s]=f[s])}else r||(o||(o=[]),o.push(d,r)),r=f;else d==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,l=l?l.__html:void 0,f!=null&&l!==f&&(o=o||[]).push(d,f)):d==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(d,""+f):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ma.hasOwnProperty(d)?(f!=null&&d==="onScroll"&&rt("scroll",t),o||l===f||(o=[])):typeof f=="object"&&f!==null&&f.$$typeof===Od?f.toString():(o=o||[]).push(d,f))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};Dv=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ks(t,e){if(!wn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function G4(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return yr(e.type)&&du(),null;case 3:return Ko(),nt(pr),nt(er),Gd(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Hl(e)?e.flags|=4:n.hydrate||(e.flags|=256)),od(e),null;case 5:Hd(e);var i=Bi(Na.current);if(r=e.type,t!==null&&e.stateNode!=null)Rv(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(me(166));return null}if(t=Bi(vn.current),Hl(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[qn]=e,n[hu]=o,r){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(t=0;t<ta.length;t++)rt(ta[t],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":cg(n,o),rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},rt("invalid",n);break;case"textarea":hg(n,o),rt("invalid",n)}Bh(r,o),t=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):ma.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&rt("scroll",n));switch(r){case"input":Ml(n),fg(n,o,!0);break;case"textarea":Ml(n),dg(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=fu)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,t===Mh.html&&(t=x1(r)),t===Mh.html?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[qn]=e,t[hu]=n,Av(t,e,!1,!1),e.stateNode=t,s=Uh(r,n),r){case"dialog":rt("cancel",t),rt("close",t),i=n;break;case"iframe":case"object":case"embed":rt("load",t),i=n;break;case"video":case"audio":for(i=0;i<ta.length;i++)rt(ta[i],t);i=n;break;case"source":rt("error",t),i=n;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=n;break;case"details":rt("toggle",t),i=n;break;case"input":cg(t,n),i=Dh(t,n),rt("invalid",t);break;case"option":i=Lh(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=st({},n,{value:void 0}),rt("invalid",t);break;case"textarea":hg(t,n),i=Ph(t,n),rt("invalid",t);break;default:i=n}Bh(r,i);var l=i;for(o in l)if(l.hasOwnProperty(o)){var f=l[o];o==="style"?T1(t,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&O1(t,f)):o==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&ga(t,f):typeof f=="number"&&ga(t,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ma.hasOwnProperty(o)?f!=null&&o==="onScroll"&&rt("scroll",t):f!=null&&wd(t,o,f,s))}switch(r){case"input":Ml(t),fg(t,n,!1);break;case"textarea":Ml(t),dg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ei(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?jo(t,!!n.multiple,o,!1):n.defaultValue!=null&&jo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fu)}ov(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Dv(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(me(166));r=Bi(Na.current),Bi(vn.current),Hl(e)?(n=e.stateNode,r=e.memoizedProps,n[qn]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qn]=e,e.stateNode=n)}return null;case 13:return nt(pt),n=e.memoizedState,(e.flags&64)!==0?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Hl(e):r=t.memoizedState!==null,n&&!r&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(pt.current&1)!==0?qt===0&&(qt=3):((qt===0||qt===3)&&(qt=4),rr===null||(Fa&134217727)===0&&(es&134217727)===0||qo(rr,Qt))),(n||r)&&(e.flags|=4),null);case 4:return Ko(),od(e),t===null&&rv(e.stateNode.containerInfo),null;case 10:return qd(e),null;case 17:return yr(e.type)&&du(),null;case 19:if(nt(pt),n=e.memoizedState,n===null)return null;if(o=(e.flags&64)!==0,s=n.rendering,s===null)if(o)Ks(n,!1);else{if(qt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(s=wu(t),s!==null){for(e.flags|=64,Ks(n,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return yt(pt,pt.current&1|2),e.child}t=t.sibling}n.tail!==null&&Xt()>fd&&(e.flags|=64,o=!0,Ks(n,!1),e.lanes=33554432)}else{if(!o)if(t=wu(s),t!==null){if(e.flags|=64,o=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ks(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!wn)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Xt()-n.renderingStartTime>fd&&r!==1073741824&&(e.flags|=64,o=!0,Ks(n,!1),e.lanes=33554432);n.isBackwards?(s.sibling=e.child,e.child=s):(r=n.last,r!==null?r.sibling=s:e.child=s,n.last=s)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Xt(),r.sibling=null,e=pt.current,yt(pt,o?e&1|2:e&1),r):null;case 23:case 24:return n0(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(me(156,e.tag))}function J4(t){switch(t.tag){case 1:yr(t.type)&&du();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Ko(),nt(pr),nt(er),Gd(),e=t.flags,(e&64)!==0)throw Error(me(285));return t.flags=e&-4097|64,t;case 5:return Hd(t),null;case 13:return nt(pt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return nt(pt),null;case 4:return Ko(),null;case 10:return qd(t),null;case 23:case 24:return n0(),null;default:return null}}function Qd(t,e){try{var r="",n=e;do r+=N3(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function sd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Y4=typeof WeakMap=="function"?WeakMap:Map;function Fv(t,e,r){r=Yn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ku||(ku=!0,hd=n),sd(t,e)},r}function Cv(t,e,r){r=Yn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return sd(t,e),n(i)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(gn===null?gn=new Set([this]):gn.add(this),sd(t,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}var K4=typeof WeakSet=="function"?WeakSet:Set;function u1(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){Qn(t,r)}else e.current=null}function Z4(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:Xr(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Ud(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(me(163))}function X4(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(Wv(r,t),sx(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:Xr(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&qg(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}qg(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&ov(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&M1(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(me(163))}function c1(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=k1("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function f1(t,e){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(zd,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)Wv(e,r);else{n=e;try{i()}catch(o){Qn(n,o)}}r=r.next}while(r!==t)}break;case 1:if(u1(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Qn(e,o)}break;case 5:u1(e);break;case 4:Lv(t,e)}}function h1(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function d1(t){return t.tag===5||t.tag===3||t.tag===4}function p1(t){e:{for(var e=t.return;e!==null;){if(d1(e))break e;e=e.return}throw Error(me(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(me(161))}r.flags&16&&(ga(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||d1(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?ad(t,r,e):ld(t,r,e)}function ad(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=fu));else if(n!==4&&(t=t.child,t!==null))for(ad(t,e,r),t=t.sibling;t!==null;)ad(t,e,r),t=t.sibling}function ld(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ld(t,e,r),t=t.sibling;t!==null;)ld(t,e,r),t=t.sibling}function Lv(t,e){for(var r=e,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(me(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var s=t,l=r,f=l;;)if(f1(s,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(s=i,l=r.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(f1(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Th(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(r[hu]=n,t==="input"&&n.type==="radio"&&n.name!=null&&E1(r,n),Uh(t,i),e=Uh(t,n),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];s==="style"?T1(r,l):s==="dangerouslySetInnerHTML"?O1(r,l):s==="children"?ga(r,l):wd(r,s,l,e)}switch(t){case"input":Fh(r,n);break;case"textarea":b1(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?jo(r,!!n.multiple,o,!1):t!==!!n.multiple&&(n.defaultValue!=null?jo(r,!!n.multiple,n.defaultValue,!0):jo(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(me(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,M1(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(r0=Xt(),c1(e.child,!0)),y1(e);return;case 19:y1(e);return;case 17:return;case 23:case 24:c1(e,e.memoizedState!==null);return}throw Error(me(163))}function y1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new K4),e.forEach(function(n){var i=ux.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Q4(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var ex=Math.ceil,Ou=Hi.ReactCurrentDispatcher,e0=Hi.ReactCurrentOwner,Ae=0,rr=null,Ft=null,Qt=0,qi=0,ud=oi(0),qt=0,Bu=null,Qo=0,Fa=0,es=0,t0=0,cd=null,r0=0,fd=1/0;function ts(){fd=Xt()+500}var Oe=null,ku=!1,hd=null,gn=null,ni=!1,da=null,ra=90,dd=[],pd=[],Fn=null,pa=0,yd=null,tu=-1,An=0,ru=0,ya=null,nu=!1;function Tr(){return(Ae&48)!==0?Xt():tu!==-1?tu:tu=Xt()}function Zn(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Yo()===99?1:2;if(An===0&&(An=Qo),z4.transition!==0){ru!==0&&(ru=cd!==null?cd.pendingLanes:0),t=An;var e=4186112&~ru;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Yo(),(Ae&4)!==0&&t===98?t=uu(12,An):(t=q3(t),t=uu(t,An)),t}function Xn(t,e,r){if(50<pa)throw pa=0,yd=null,Error(me(185));if(t=Uu(t,e),t===null)return null;Du(t,e,r),t===rr&&(es|=e,qt===4&&qo(t,Qt));var n=Yo();e===1?(Ae&8)!==0&&(Ae&48)===0?md(t):(Wr(t,r),Ae===0&&(ts(),_n())):((Ae&4)===0||n!==98&&n!==99||(Fn===null?Fn=new Set([t]):Fn.add(t)),Wr(t,r)),cd=t}function Uu(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function Wr(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-ti(s),f=1<<l,d=o[l];if(d===-1){if((f&n)===0||(f&i)!==0){d=e,Io(f);var m=Ze;o[l]=10<=m?d+250:6<=m?d+5e3:-1}}else d<=e&&(t.expiredLanes|=f);s&=~f}if(n=Sa(t,t===rr?Qt:0),e=Ze,n===0)r!==null&&(r!==Eh&&Zh(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==Eh&&Zh(r)}e===15?(r=md.bind(null,t),In===null?(In=[r],eu=Vd(Mu,dv)):In.push(r),r=Eh):e===14?r=Oa(99,md.bind(null,t)):(r=$3(e),r=Oa(r,Pv.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function Pv(t){if(tu=-1,ru=An=0,(Ae&48)!==0)throw Error(me(327));var e=t.callbackNode;if(si()&&t.callbackNode!==e)return null;var r=Sa(t,t===rr?Qt:0);if(r===0)return null;var n=r,i=Ae;Ae|=16;var o=Uv();(rr!==t||Qt!==n)&&(ts(),$o(t,n));do try{nx();break}catch(l){Bv(t,l)}while(1);if(Wd(),Ou.current=o,Ae=i,Ft!==null?n=0:(rr=null,Qt=0,n=qt),(Qo&es)!==0)$o(t,0);else if(n!==0){if(n===2&&(Ae|=64,t.hydrate&&(t.hydrate=!1,Ud(t.containerInfo)),r=q1(t),r!==0&&(n=na(t,r))),n===1)throw e=Bu,$o(t,0),qo(t,r),Wr(t,Xt()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(me(345));case 2:Li(t);break;case 3:if(qo(t,r),(r&62914560)===r&&(n=r0+500-Xt(),10<n)){if(Sa(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pg(Li.bind(null,t),n);break}Li(t);break;case 4:if(qo(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var s=31-ti(r);o=1<<s,s=n[s],s>i&&(i=s),r&=~o}if(r=i,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ex(r/1960))-r,10<r){t.timeoutHandle=Pg(Li.bind(null,t),r);break}Li(t);break;case 5:Li(t);break;default:throw Error(me(329))}}return Wr(t,Xt()),t.callbackNode===e?Pv.bind(null,t):null}function qo(t,e){for(e&=~t0,e&=~es,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ti(e),n=1<<r;t[r]=-1,e&=~n}}function md(t){if((Ae&48)!==0)throw Error(me(327));if(si(),t===rr&&(t.expiredLanes&Qt)!==0){var e=Qt,r=na(t,e);(Qo&es)!==0&&(e=Sa(t,e),r=na(t,e))}else e=Sa(t,0),r=na(t,e);if(t.tag!==0&&r===2&&(Ae|=64,t.hydrate&&(t.hydrate=!1,Ud(t.containerInfo)),e=q1(t),e!==0&&(r=na(t,e))),r===1)throw r=Bu,$o(t,0),qo(t,e),Wr(t,Xt()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t),Wr(t,Xt()),null}function tx(){if(Fn!==null){var t=Fn;Fn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Wr(e,Xt())})}_n()}function Mv(t,e){var r=Ae;Ae|=1;try{return t(e)}finally{Ae=r,Ae===0&&(ts(),_n())}}function jv(t,e){var r=Ae;Ae&=-2,Ae|=8;try{return t(e)}finally{Ae=r,Ae===0&&(ts(),_n())}}function Jl(t,e){yt(ud,qi),qi|=e,Qo|=e}function n0(){qi=ud.current,nt(ud)}function $o(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,L4(r)),Ft!==null)for(r=Ft.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&du();break;case 3:Ko(),nt(pr),nt(er),Gd();break;case 5:Hd(n);break;case 4:Ko();break;case 13:nt(pt);break;case 19:nt(pt);break;case 10:qd(n);break;case 23:case 24:n0()}r=r.return}rr=t,Ft=ii(t.current,null),Qt=qi=Qo=e,qt=0,Bu=null,t0=es=Fa=0}function Bv(t,e){do{var r=Ft;try{if(Wd(),fa.current=xu,_u){for(var n=kt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_u=!1}if(Ia=0,Wt=Zt=kt=null,ha=!1,e0.current=null,r===null||r.return===null){qt=1,Bu=e,Ft=null;break}e:{var o=t,s=r.return,l=r,f=e;if(e=Qt,l.flags|=2048,l.firstEffect=l.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var d=f;if((l.mode&2)===0){var m=l.alternate;m?(l.updateQueue=m.updateQueue,l.memoizedState=m.memoizedState,l.lanes=m.lanes):(l.updateQueue=null,l.memoizedState=null)}var v=(pt.current&1)!==0,y=s;do{var S;if(S=y.tag===13){var O=y.memoizedState;if(O!==null)S=O.dehydrated!==null;else{var R=y.memoizedProps;S=R.fallback===void 0?!1:R.unstable_avoidThisFallback!==!0?!0:!v}}if(S){var T=y.updateQueue;if(T===null){var I=new Set;I.add(d),y.updateQueue=I}else T.add(d);if((y.mode&2)===0){if(y.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var L=Yn(-1,1);L.tag=2,Kn(l,L)}l.lanes|=1;break e}f=void 0,l=e;var Y=o.pingCache;if(Y===null?(Y=o.pingCache=new Y4,f=new Set,Y.set(d,f)):(f=Y.get(d),f===void 0&&(f=new Set,Y.set(d,f))),!f.has(l)){f.add(l);var H=lx.bind(null,o,d,l);d.then(H,H)}y.flags|=4096,y.lanes=e;break e}y=y.return}while(y!==null);f=Error((Mo(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}qt!==5&&(qt=2),f=Qd(f,l),y=s;do{switch(y.tag){case 3:o=f,y.flags|=4096,e&=-e,y.lanes|=e;var Z=Fv(y,o,e);Wg(y,Z);break e;case 1:o=f;var P=y.type,V=y.stateNode;if((y.flags&64)===0&&(typeof P.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(gn===null||!gn.has(V)))){y.flags|=4096,e&=-e,y.lanes|=e;var _=Cv(y,o,e);Wg(y,_);break e}}y=y.return}while(y!==null)}Vv(r)}catch(W){e=W,Ft===r&&r!==null&&(Ft=r=r.return);continue}break}while(1)}function Uv(){var t=Ou.current;return Ou.current=xu,t===null?xu:t}function na(t,e){var r=Ae;Ae|=16;var n=Uv();rr===t&&Qt===e||$o(t,e);do try{rx();break}catch(i){Bv(t,i)}while(1);if(Wd(),Ae=r,Ou.current=n,Ft!==null)throw Error(me(261));return rr=null,Qt=0,qt}function rx(){for(;Ft!==null;)zv(Ft)}function nx(){for(;Ft!==null&&!j4();)zv(Ft)}function zv(t){var e=qv(t.alternate,t,qi);t.memoizedProps=t.pendingProps,e===null?Vv(t):Ft=e,e0.current=null}function Vv(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&2048)===0){if(r=G4(r,e,qi),r!==null){Ft=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||(qi&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(r=J4(e),r!==null){r.flags&=2047,Ft=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);qt===0&&(qt=5)}function Li(t){var e=Yo();return Wi(99,ix.bind(null,t,e)),null}function ix(t,e){do si();while(da!==null);if((Ae&48)!==0)throw Error(me(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(me(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,l=t.expirationTimes;0<o;){var f=31-ti(o),d=1<<f;i[f]=0,s[f]=-1,l[f]=-1,o&=~d}if(Fn!==null&&(n&24)===0&&Fn.has(t)&&Fn.delete(t),t===rr&&(Ft=rr=null,Qt=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Ae,Ae|=32,e0.current=null,wh=Kl,s=Ag(),Hh(s)){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(d=l.getSelection&&l.getSelection())&&d.rangeCount!==0){l=d.anchorNode,o=d.anchorOffset,f=d.focusNode,d=d.focusOffset;try{l.nodeType,f.nodeType}catch{l=null;break e}var m=0,v=-1,y=-1,S=0,O=0,R=s,T=null;t:for(;;){for(var I;R!==l||o!==0&&R.nodeType!==3||(v=m+o),R!==f||d!==0&&R.nodeType!==3||(y=m+d),R.nodeType===3&&(m+=R.nodeValue.length),(I=R.firstChild)!==null;)T=R,R=I;for(;;){if(R===s)break t;if(T===l&&++S===o&&(v=m),T===f&&++O===d&&(y=m),(I=R.nextSibling)!==null)break;R=T,T=R.parentNode}R=I}l=v===-1||y===-1?null:{start:v,end:y}}else l=null;l=l||{start:0,end:0}}else l=null;_h={focusedElem:s,selectionRange:l},Kl=!1,ya=null,nu=!1,Oe=n;do try{ox()}catch(W){if(Oe===null)throw Error(me(330));Qn(Oe,W),Oe=Oe.nextEffect}while(Oe!==null);ya=null,Oe=n;do try{for(s=t;Oe!==null;){var L=Oe.flags;if(L&16&&ga(Oe.stateNode,""),L&128){var Y=Oe.alternate;if(Y!==null){var H=Y.ref;H!==null&&(typeof H=="function"?H(null):H.current=null)}}switch(L&1038){case 2:p1(Oe),Oe.flags&=-3;break;case 6:p1(Oe),Oe.flags&=-3,Th(Oe.alternate,Oe);break;case 1024:Oe.flags&=-1025;break;case 1028:Oe.flags&=-1025,Th(Oe.alternate,Oe);break;case 4:Th(Oe.alternate,Oe);break;case 8:l=Oe,Lv(s,l);var Z=l.alternate;h1(l),Z!==null&&h1(Z)}Oe=Oe.nextEffect}}catch(W){if(Oe===null)throw Error(me(330));Qn(Oe,W),Oe=Oe.nextEffect}while(Oe!==null);if(H=_h,Y=Ag(),L=H.focusedElem,s=H.selectionRange,Y!==L&&L&&L.ownerDocument&&X1(L.ownerDocument.documentElement,L)){for(s!==null&&Hh(L)&&(Y=s.start,H=s.end,H===void 0&&(H=Y),"selectionStart"in L?(L.selectionStart=Y,L.selectionEnd=Math.min(H,L.value.length)):(H=(Y=L.ownerDocument||document)&&Y.defaultView||window,H.getSelection&&(H=H.getSelection(),l=L.textContent.length,Z=Math.min(s.start,l),s=s.end===void 0?Z:Math.min(s.end,l),!H.extend&&Z>s&&(l=s,s=Z,Z=l),l=Ig(L,Z),o=Ig(L,s),l&&o&&(H.rangeCount!==1||H.anchorNode!==l.node||H.anchorOffset!==l.offset||H.focusNode!==o.node||H.focusOffset!==o.offset)&&(Y=Y.createRange(),Y.setStart(l.node,l.offset),H.removeAllRanges(),Z>s?(H.addRange(Y),H.extend(o.node,o.offset)):(Y.setEnd(o.node,o.offset),H.addRange(Y)))))),Y=[],H=L;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Y.length;L++)H=Y[L],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}Kl=!!wh,_h=wh=null,t.current=r,Oe=n;do try{for(L=t;Oe!==null;){var P=Oe.flags;if(P&36&&X4(L,Oe.alternate,Oe),P&128){Y=void 0;var V=Oe.ref;if(V!==null){var _=Oe.stateNode;switch(Oe.tag){case 5:Y=_;break;default:Y=_}typeof V=="function"?V(Y):V.current=Y}}Oe=Oe.nextEffect}}catch(W){if(Oe===null)throw Error(me(330));Qn(Oe,W),Oe=Oe.nextEffect}while(Oe!==null);Oe=null,U4(),Ae=i}else t.current=r;if(ni)ni=!1,da=t,ra=e;else for(Oe=n;Oe!==null;)e=Oe.nextEffect,Oe.nextEffect=null,Oe.flags&8&&(P=Oe,P.sibling=null,P.stateNode=null),Oe=e;if(n=t.pendingLanes,n===0&&(gn=null),n===1?t===yd?pa++:(pa=0,yd=t):pa=0,r=r.stateNode,zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(zd,r,void 0,(r.current.flags&64)===64)}catch{}if(Wr(t,Xt()),ku)throw ku=!1,t=hd,hd=null,t;return(Ae&8)!==0||_n(),null}function ox(){for(;Oe!==null;){var t=Oe.alternate;nu||ya===null||((Oe.flags&8)!==0?mg(Oe,ya)&&(nu=!0):Oe.tag===13&&Q4(t,Oe)&&mg(Oe,ya)&&(nu=!0));var e=Oe.flags;(e&256)!==0&&Z4(t,Oe),(e&512)===0||ni||(ni=!0,Oa(97,function(){return si(),null})),Oe=Oe.nextEffect}}function si(){if(ra!==90){var t=97<ra?97:ra;return ra=90,Wi(t,ax)}return!1}function sx(t,e){dd.push(e,t),ni||(ni=!0,Oa(97,function(){return si(),null}))}function Wv(t,e){pd.push(e,t),ni||(ni=!0,Oa(97,function(){return si(),null}))}function ax(){if(da===null)return!1;var t=da;if(da=null,(Ae&48)!==0)throw Error(me(331));var e=Ae;Ae|=32;var r=pd;pd=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(f){if(o===null)throw Error(me(330));Qn(o,f)}}for(r=dd,dd=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var l=i.create;i.destroy=l()}catch(f){if(o===null)throw Error(me(330));Qn(o,f)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return Ae=e,_n(),!0}function m1(t,e,r){e=Qd(r,e),e=Fv(t,e,1),Kn(t,e),e=Tr(),t=Uu(t,1),t!==null&&(Du(t,1,e),Wr(t,e))}function Qn(t,e){if(t.tag===3)m1(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){m1(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(gn===null||!gn.has(n))){t=Qd(e,t);var i=Cv(r,t,1);if(Kn(r,i),i=Tr(),r=Uu(r,1),r!==null)Du(r,1,i),Wr(r,i);else if(typeof n.componentDidCatch=="function"&&(gn===null||!gn.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function lx(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Tr(),t.pingedLanes|=t.suspendedLanes&r,rr===t&&(Qt&r)===r&&(qt===4||qt===3&&(Qt&62914560)===Qt&&500>Xt()-r0?$o(t,0):t0|=r),Wr(t,e)}function ux(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Yo()===99?1:2:(An===0&&(An=Qo),e=Ao(62914560&~An),e===0&&(e=4194304))),r=Tr(),t=Uu(t,e),t!==null&&(Du(t,e,r),Wr(t,r))}var qv;qv=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||pr.current)Qr=!0;else if((r&n)!==0)Qr=(t.flags&16384)!==0;else{switch(Qr=!1,e.tag){case 3:r1(e),xh();break;case 5:Gg(e);break;case 1:yr(e.type)&&Ql(e);break;case 4:ed(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;yt(pu,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return(r&e.child.childLanes)!==0?n1(t,e,r):(yt(pt,pt.current&1),e=Dn(t,e,r),e!==null?e.sibling:null);yt(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,(t.flags&64)!==0){if(n)return l1(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yt(pt,pt.current),n)break;return null;case 23:case 24:return e.lanes=0,Oh(t,e,r)}return Dn(t,e,r)}else Qr=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Jo(e,er.current),Vo(e,r),i=Yd(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,yr(n)){var o=!0;Ql(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$d(e);var s=n.getDerivedStateFromProps;typeof s=="function"&&gu(e,n,s,t),i.updater=ju,e.stateNode=i,i._reactInternals=e,Qh(e,n,t,r),e=id(null,e,n,!0,o,r)}else e.tag=0,dr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=fx(i),t=Xr(i,t),o){case 0:e=nd(null,e,i,t,r);break e;case 1:e=t1(null,e,i,t,r);break e;case 11:e=Qg(null,e,i,t,r);break e;case 14:e=e1(null,e,i,Xr(i.type,t),n,r);break e}throw Error(me(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xr(n,i),nd(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xr(n,i),t1(t,e,n,i,r);case 3:if(r1(e),n=e.updateQueue,t===null||n===null)throw Error(me(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,yv(t,e),ka(e,n,null,r),n=e.memoizedState.element,n===i)xh(),e=Dn(t,e,r);else{if(i=e.stateNode,(o=i.hydrate)&&($n=zo(e.stateNode.containerInfo.firstChild),Rn=e,o=wn=!0),o){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)o=t[i],o._workInProgressVersionPrimary=t[i+1],Wo.push(o);for(r=wv(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else dr(t,e,n,r),xh();e=e.child}return e;case 5:return Gg(e),t===null&&td(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Yh(n,i)?s=null:o!==null&&Yh(n,o)&&(e.flags|=16),Iv(t,e),dr(t,e,s,r),e.child;case 6:return t===null&&td(e),null;case 13:return n1(t,e,r);case 4:return ed(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=vu(e,null,n,r):dr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xr(n,i),Qg(t,e,n,i,r);case 7:return dr(t,e,e.pendingProps,r),e.child;case 8:return dr(t,e,e.pendingProps.children,r),e.child;case 12:return dr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var l=e.type._context;if(yt(pu,l._currentValue),l._currentValue=o,s!==null)if(l=s.value,o=Br(l,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(l,o):1073741823)|0,o===0){if(s.children===i.children&&!pr.current){e=Dn(t,e,r);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var f=l.dependencies;if(f!==null){s=l.child;for(var d=f.firstContext;d!==null;){if(d.context===n&&(d.observedBits&o)!==0){l.tag===1&&(d=Yn(-1,r&-r),d.tag=2,Kn(l,d)),l.lanes|=r,d=l.alternate,d!==null&&(d.lanes|=r),pv(l.return,r),f.lanes|=r;break}d=d.next}}else s=l.tag===10&&l.type===e.type?null:l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===e){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}dr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,n=o.children,Vo(e,r),i=Vr(i,o.unstable_observedBits),n=n(i),e.flags|=1,dr(t,e,n,r),e.child;case 14:return i=e.type,o=Xr(i,e.pendingProps),o=Xr(i.type,o),e1(t,e,i,o,n,r);case 15:return Nv(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xr(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,yr(n)?(t=!0,Ql(e)):t=!1,Vo(e,r),gv(e,n,i),Qh(e,n,i,r),id(null,e,n,!0,t,r);case 19:return l1(t,e,r);case 23:return Oh(t,e,r);case 24:return Oh(t,e,r)}throw Error(me(156,e.tag))};function cx(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(t,e,r,n){return new cx(t,e,r,n)}function i0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fx(t){if(typeof t=="function")return i0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iu)return 11;if(t===Au)return 14}return 2}function ii(t,e){var r=t.alternate;return r===null?(r=Ur(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function iu(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")i0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Vn:return Ho(r.children,i,o,e);case w1:s=8,i|=16;break;case _d:s=8,i|=1;break;case ia:return t=Ur(12,r,e,i|8),t.elementType=ia,t.type=ia,t.lanes=o,t;case oa:return t=Ur(13,r,e,i),t.type=oa,t.elementType=oa,t.lanes=o,t;case ou:return t=Ur(19,r,e,i),t.elementType=ou,t.lanes=o,t;case kd:return o0(r,i,o,e);case Rh:return t=Ur(24,r,e,i),t.elementType=Rh,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sd:s=10;break e;case Ed:s=9;break e;case Iu:s=11;break e;case Au:s=14;break e;case bd:s=16,n=null;break e;case xd:s=22;break e}throw Error(me(130,t==null?t:typeof t,""))}return e=Ur(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Ho(t,e,r,n){return t=Ur(7,t,n,e),t.lanes=r,t}function o0(t,e,r,n){return t=Ur(23,t,n,e),t.elementType=kd,t.lanes=r,t}function Nh(t,e,r){return t=Ur(6,t,null,e),t.lanes=r,t}function Ih(t,e,r){return e=Ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hx(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=dh(0),this.expirationTimes=dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dh(0),this.mutableSourceEagerHydrationData=null}function dx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Tu(t,e,r,n){var i=e.current,o=Tr(),s=Zn(i);e:if(r){r=r._reactInternals;t:{if(Gi(r)!==r||r.tag!==1)throw Error(me(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(yr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(me(171))}if(r.tag===1){var f=r.type;if(yr(f)){r=av(r,f,l);break e}}r=l}else r=ri;return e.context===null?e.context=r:e.pendingContext=r,e=Yn(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),Kn(i,e),Xn(i,s,o),s}function Ah(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function s0(t,e){g1(t,e),(t=t.alternate)&&g1(t,e)}function px(){return null}function a0(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new hx(t,e,r!=null&&r.hydrate===!0),e=Ur(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,$d(e),t[Xo]=r.current,rv(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}a0.prototype.render=function(t){Tu(t,this._internalRoot,null,null)};a0.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Tu(null,t,null,function(){e[Xo]=null})};function Ca(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yx(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new a0(t,0,e?{hydrate:!0}:void 0)}function zu(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var l=i;i=function(){var d=Ah(s);l.call(d)}}Tu(e,s,t,i)}else{if(o=r._reactRootContainer=yx(r,n),s=o._internalRoot,typeof i=="function"){var f=i;i=function(){var d=Ah(s);f.call(d)}}jv(function(){Tu(e,s,t,i)})}return Ah(s)}C1=function(t){if(t.tag===13){var e=Tr();Xn(t,4,e),s0(t,4)}};Rd=function(t){if(t.tag===13){var e=Tr();Xn(t,67108864,e),s0(t,67108864)}};L1=function(t){if(t.tag===13){var e=Tr(),r=Zn(t);Xn(t,r,e),s0(t,r)}};P1=function(t,e){return e()};zh=function(t,e,r){switch(e){case"input":if(Fh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Pu(n);if(!i)throw Error(me(90));S1(n),Fh(n,i)}}}break;case"textarea":b1(t,r);break;case"select":e=r.value,e!=null&&jo(t,!!r.multiple,e,!1)}};Nd=Mv;A1=function(t,e,r,n,i){var o=Ae;Ae|=4;try{return Wi(98,t.bind(null,e,r,n,i))}finally{Ae=o,Ae===0&&(ts(),_n())}};Id=function(){(Ae&49)===0&&(tx(),si())};R1=function(t,e){var r=Ae;Ae|=2;try{return t(e)}finally{Ae=r,Ae===0&&(ts(),_n())}};function $v(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ca(e))throw Error(me(200));return dx(t,e,null,r)}var mx={Events:[Ra,Co,Pu,N1,I1,si,{current:!1}]},Zs={findFiberByHostInstance:ji,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},gx={bundleType:Zs.bundleType,version:Zs.version,rendererPackageName:Zs.rendererPackageName,rendererConfig:Zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=F1(t),t===null?null:t.stateNode},findFiberByHostInstance:Zs.findFiberByHostInstance||px,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Xs.isDisabled&&Xs.supportsFiber))try{zd=Xs.inject(gx),zi=Xs}catch{}var Xs;qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mx;qr.createPortal=$v;qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):Error(me(268,Object.keys(t)));return t=F1(e),t=t===null?null:t.stateNode,t};qr.flushSync=function(t,e){var r=Ae;if((r&48)!==0)return t(e);Ae|=1;try{if(t)return Wi(99,t.bind(null,e))}finally{Ae=r,_n()}};qr.hydrate=function(t,e,r){if(!Ca(e))throw Error(me(200));return zu(null,t,e,!0,r)};qr.render=function(t,e,r){if(!Ca(e))throw Error(me(200));return zu(null,t,e,!1,r)};qr.unmountComponentAtNode=function(t){if(!Ca(t))throw Error(me(40));return t._reactRootContainer?(jv(function(){zu(null,null,t,!1,function(){t._reactRootContainer=null,t[Xo]=null})}),!0):!1};qr.unstable_batchedUpdates=Mv;qr.unstable_createPortal=function(t,e){return $v(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};qr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ca(r))throw Error(me(200));if(t==null||t._reactInternals===void 0)throw Error(me(38));return zu(t,e,r,!1,n)};qr.version="17.0.2"});var Yv=xe((O8,Jv)=>{"use strict";function Gv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gv)}catch(t){console.error(t)}}Gv(),Jv.exports=Hv()});var La=xe(ow=>{var Ox={debug:!1,protocol:"http",host:"localhost",port:8080,socket_protocol:"ws",hotreload:5e3,python:void 0,python_node:7001,startpage:"src/index.html",errpage:"src/other/404.html",certpath:"node_server/ssl/cert.pem",keypath:"node_server/ssl/key.pem",dataserver:"http://localhost:4000",realmapp:"buckleup-ilscy",googleclientid:"406817559914-boi30d05dk9jtj55frgi1dg8gkp6rrj9.apps.googleusercontent.com"};ow.settings=Ox});var aw,lw,sw,uw=tt(()=>{aw=Rt(La()),sw={log:console.log,gAuth:new Promise(t=>lw=t)};Object.keys(sw).forEach(t=>{window[t]=sw[t]});(function(){if(location.hostname==="localhost"&&location.port!=="4000")return;function e(){gapi.load("auth2",()=>{gapi.auth2.init({client_id:aw.settings.googleclientid,scope:"https://www.googleapis.com/auth/drive"}).then(i=>{lw(()=>i)},i=>{console.log("UNHANDLED"),console.error(i)})})}let r=document.createElement("script");r.type="text/javascript",r.src="https://apis.google.com/js/platform.js",r.onload=e,document.head.appendChild(r)})()});var fw=xe(cw=>{"use strict";Object.defineProperty(cw,"__esModule",{value:!0})});var u0=xe(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.arrHas=ze.arrLast=ze.arrToBoolDict=ze.arrToIdxDict=ze.arrToDict=ze.arrRemoveValues=ze.arrReplace=ze.arrDeepFlatten=ze.arrFlatten=ze.arrDivide=ze.arrGetByIds=ze.arrRemoveById=ze.arrGen=void 0;var li=ui(),kx=t=>Array(t).fill(null);ze.arrGen=kx;function Tx(t,e,r="id"){let n=hw(t,r),i=li.objRemoveKeys(n,e);return li.objVals(i)}ze.arrRemoveById=Tx;function Nx(t,e,r="id"){let n=dw(e);return t.filter(i=>n[i[r]])}ze.arrGetByIds=Nx;function Ix(t,e){let r=Math.ceil(t.length/e),n=ze.arrGen(r).map(()=>[]);return t.forEach((i,o)=>n[Math.floor(o/e)].push(i)),n}ze.arrDivide=Ix;function Ax(t){return[].concat.apply([],t)}ze.arrFlatten=Ax;var Rx=t=>t.reduce((e,r)=>e.concat(li.isType(r,"array")?ze.arrDeepFlatten(r):r),[]);ze.arrDeepFlatten=Rx;function Dx(t){let e=[...t];return{all:r=>{let n=[];return t.forEach((i,o)=>li.equal(r,i)?n[o]=o:null),{with:i=>n.length?(n.forEach(o=>e[o]=i),e):t}},first:r=>{let n=t.findIndex(i=>li.equal(r,i));return{with:i=>li.nonValue(n)?t:(e[n]=i,e)}}}}ze.arrReplace=Dx;function Fx(t,e){let r=[...t];return e.forEach(n=>r=r.filter(i=>!li.equal(i,n))),r}ze.arrRemoveValues=Fx;function hw(t,e){let r={};return t.forEach(n=>r[n[e]]=n),r}ze.arrToDict=hw;function Cx(t){let e={};return t.forEach((r,n)=>e[r]=n+""),e}ze.arrToIdxDict=Cx;function dw(t){let e={};return t.forEach(r=>e[r]=!0),e}ze.arrToBoolDict=dw;var Lx=t=>t[t.length-1];ze.arrLast=Lx;function Px(t,e,r=!1){let n=r?i=>li.equal(i,e):i=>i===e;return t.findIndex(n)!==-1}ze.arrHas=Px});var pw=xe(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.clone=void 0;function c0(t){let e,r,n,i,o,s,l;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t);if(r=Object.keys(t),n=r.length,Array.isArray(t)){for(s=new Array(n),i=0;i<n;i++)o=r[i],e=t[o],typeof e!="object"||e===null?s[o]=e:e instanceof Date?s[o]=new Date(e):s[o]=c0(e);return s}for(l={},i=0;i<n;i++)o=r[i],e=t[o],Object.hasOwnProperty.call(t,o)!==!1&&(typeof e!="object"||e===null?l[o]=e:e instanceof Date?l[o]=new Date(e):l[o]=c0(e));return l}Vu.clone=c0});var yw=xe(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.equal=void 0;function Wu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Wu(t[n],e[n]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;for(n of t.entries())if(!Wu(n[1],e.get(n[0])))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!Wu(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}qu.equal=Wu});var gw=xe(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.promiseOut=mt.debounceTimeOut=mt.randomColorHex=mt.uiid=mt.assertType=mt.type=mt.cloneLog=mt.unsubAll=mt.wait=mt.interval=void 0;var Ln=ui(),Mx=(t,e,r)=>{if(Ln.isType(r,"number")&&r<1)throw Error(`argument "times" can't be less than 1`);let n=0,i=setInterval(()=>{t(n),n++,r&&n>=r&&clearInterval(i)},e);return{stop:()=>clearInterval(i)}};mt.interval=Mx;var jx=t=>new Promise(e=>setTimeout(()=>e(),t));mt.wait=jx;var mw=(t,e="unsubscribe")=>Ln.isType(t,"object")&&Ln.hasKey(t,e)?t[e]():null;function Bx(t,e="unsubscribe"){if(Ln.isType(t,"array"))t.forEach(r=>mw(r,e));else if(Ln.isType(t,"object"))Ln.objMap(t,({val:r})=>mw(r,e));else throw Error('argument "objOrArr" must be of type "object" or "array"')}mt.unsubAll=Bx;var Ux=t=>console.log(Ln.clone(t));mt.cloneLog=Ux;function zx(t){return typeof t=="object"?Array.isArray(t)?"array":t===null?"null":"object":t!==t?"NaN":typeof t}mt.type=zx;function Vx(t,e){Ln.isType(e,"array")||(e=[e]);for(let r of e)if(Ln.isType(t,r))return;throw Error(`value needs to be of type ${e.join(" || ")}`)}mt.assertType=Vx;var Wx=()=>{let t=new Date().getTime(),e=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=Math.random()*16;return t>0?(i=(t+i)%16|0,t=Math.floor(t/16)):(i=(e+i)%16|0,e=Math.floor(e/16)),(n==="x"?i:i&3|8).toString(16)})};mt.uiid=Wx;var qx=()=>"#"+((1<<24)*Math.random()|0).toString(16);mt.randomColorHex=qx;function $x(){let t=null;return(e,r)=>{t&&clearTimeout(t),t=setTimeout(e,r)}}mt.debounceTimeOut=$x;function Hx(){let t,e=new Promise(r=>t=r);return{resolve:t,promise:e}}mt.promiseOut=Hx});var vw=xe($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.iterate=void 0;var f0=u0();function Gx(t,e,r){let n=(i,o=!1)=>{let s=[];for(let l=0;l<t;l++)if(!e)s.push(i({x:l}));else for(let f=0;f<e;f++)if(!r)s.push(i({x:l,y:f}));else for(let d=0;d<r;d++)s.push(i({x:l,y:f,z:d}));return o?r&&e?f0.arrDivide(s,e*r).map(f=>f0.arrDivide(f,r)):e?f0.arrDivide(s,e):s:s};return{for:i=>{n(i)},map:i=>n(i),nestedMap:i=>n(i,!0)}}$u.iterate=Gx});var _w=xe(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.newNumFromRange=Ir.numberWithCommas=Ir.decPlace=Ir.average=Ir.rand=void 0;var ww=ui(),Jx=(t,e)=>Math.floor(Math.random()*(e+1-t))+t;Ir.rand=Jx;var Yx=t=>t.reduce((e=0,r=0)=>e+r,0)/t.length;Ir.average=Yx;var Kx=(t,e)=>parseFloat(t.toFixed(e));Ir.decPlace=Kx;var Zx=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Ir.numberWithCommas=Zx;function Xx(t,e,r){let n,i=0,o=ww.isType(t,"array")?ww.arrToBoolDict(t):{[t]:!0};do if(n=Ir.rand(e,r),i++,i>1e6)throw console.error("Check for infinite loops"),new Error("Looped 1 million times");while(o[n]);return n}Ir.newNumFromRange=Xx});var Sw=xe(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.objPromiseAll=ut.objSortKeys=ut.objResolve=ut.objExtract=ut.objKeyVals=ut.objVals=ut.objKeys=ut.objRemoveKeys=ut.objFilter=ut.objMap=void 0;function Qx(t,e){let r={};for(let n in t)r[n]=e({key:n,val:t[n]});return r}ut.objMap=Qx;function eO(t,e){let r=Object.assign({},t);for(let n in t)e({key:n,val:t[n]})||delete r[n];return r}ut.objFilter=eO;function tO(t,e){let r=Object.assign({},t);return e.forEach(n=>delete r[n]),r}ut.objRemoveKeys=tO;function Hu(t){if(Object.keys)return Object.keys(t);let e=[];for(let r in t)e.push(r);return e}ut.objKeys=Hu;var rO=t=>Object.values?Object.values(t):Hu(t).map(e=>t[e]);ut.objVals=rO;var nO=t=>Hu(t).map(e=>({key:e,val:t[e]}));ut.objKeyVals=nO;function iO(t,e){let r={};return e.forEach(n=>r[n]=t[n]),r}ut.objExtract=iO;var oO=(t,e)=>e.split(".").reduce((r,n)=>r[n],t);ut.objResolve=oO;var sO=(t,e)=>{let r={};return Hu(t).sort(e).map(i=>r[i]=t[i]),r};ut.objSortKeys=sO;function aO(t){let e=ut.objKeyVals(t),r=e.length,n={},i=0;return new Promise(o=>e.forEach(({key:s,val:l})=>l.then(f=>{n[s]=f,i++,r===i&&o(n)})))}ut.objPromiseAll=aO});var Ew=xe(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.minAppend=ci.strRemove=ci.strIncludes=void 0;var lO=(t,e)=>t.indexOf(e)!==-1;ci.strIncludes=lO;var uO=(t,e)=>t.replace(new RegExp(e,"g"),"");ci.strRemove=uO;var cO=(t,e,r="0")=>{if(t=t+"",e<1)throw Error("length can not be less than 1");if(t.length>e)throw Error("item can not exceed length");return(r.repeat(e-1)+t).slice(-e)};ci.minAppend=cO});var xw=xe(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.isValidEmail=gt.nonValue=gt.nullOrEmpty=gt.isType=gt.hasKeys=gt.hasKey=gt.equalAny=void 0;var fO=ui(),bw=ui(),hO=(t,e)=>!!e.find(r=>fO.equal(t,r));gt.equalAny=hO;var dO=(t,e)=>gt.isType(t,"object")&&t.hasOwnProperty(e);gt.hasKey=dO;function pO(t,e){if(!gt.isType(t,"object"))return!1;for(let r of e)if(!t.hasOwnProperty(r))return!1;return!0}gt.hasKeys=pO;var yO=(t,e)=>bw.type(t)===e;gt.isType=yO;function mO(t){return gt.nonValue(t)?!0:gt.isType(t,"string")||gt.isType(t,"array")?!t.length:gt.isType(t,"object")?!bw.objVals(t).length:!1}gt.nullOrEmpty=mO;var gO=t=>t==null;gt.nonValue=gO;var vO=t=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t);gt.isValidEmail=vO});var Ow=xe(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.yearStartEnd=Se.monthStartEnd=Se.weekStartEnd=Se.getDayStartEnd=Se.wks=Se.weeks=Se.dys=Se.days=Se.hrs=Se.hours=Se.min=Se.minutes=Se.sec=Se.seconds=Se.msToTime=Se.msToWks=Se.msToDys=Se.msToHrs=Se.msToMin=Se.msToSec=Se.dateTimeToString=Se.weekTuple=Se.msTime=void 0;var Gu=ui();Se.msTime={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};Se.weekTuple=["sun","mon","tue","wed","thu","fri","sat"];function wO(t=new Date){let e=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2),n=("0"+t.getSeconds()).slice(-2),i=("00"+t.getMilliseconds()).slice(-3);return`${e}:${r}:${n}:${i}`}Se.dateTimeToString=wO;var _O=t=>t/Se.msTime.s;Se.msToSec=_O;var SO=t=>t/Se.msTime.m;Se.msToMin=SO;var EO=t=>t/Se.msTime.h;Se.msToHrs=EO;var bO=t=>t/Se.msTime.d;Se.msToDys=bO;var xO=t=>t/Se.msTime.w;Se.msToWks=xO;function OO(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);o=o%24;let l=("00"+s).slice(-3),f=("0"+o).slice(-2),d=("0"+i).slice(-2),m=("0"+n).slice(-2),v=("00"+r).slice(-3);return e?{d:s,h:o,m:i,s:n,ms:r}:`${s?l+":":""}${f}:${d}:${m}:${v}`}Se.msToTime=OO;var kO=t=>t*Se.msTime.s;Se.seconds=kO;Se.sec=Se.seconds;var TO=t=>t*Se.msTime.m;Se.minutes=TO;Se.min=Se.minutes;var NO=t=>t*Se.msTime.h;Se.hours=NO;Se.hrs=Se.hours;var IO=t=>t*Se.msTime.d;Se.days=IO;Se.dys=Se.days;var AO=t=>t*Se.msTime.w;Se.weeks=AO;Se.wks=Se.weeks;function RO(t,e="local"){Gu.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),o=new Date(r,n,i),s=new Date(r,n,i,23,59,59,999);if(e==="unix"){let l=Se.min(o.getTimezoneOffset());o=new Date(o.getTime()+l),s=new Date(s.getTime()+l)}return{start:o,end:s}}Se.getDayStartEnd=RO;function DO(t,e="sun",r="local"){Gu.isType(t,"number")&&(t=new Date(t));let i=t.getDay()*-1+(e==="mon"?1:0),o=6+i,s=new Date(t.getTime()+Se.days(i)),l=new Date(t.getTime()+Se.days(o)),f=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(l.getFullYear(),l.getMonth(),l.getDate(),23,59,59,999);if(r==="unix"){let m=Se.min(f.getTimezoneOffset());f=new Date(f.getTime()+m),d=new Date(d.getTime()+m)}return{start:f,end:d}}Se.weekStartEnd=DO;function FO(t,e="local"){Gu.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=new Date(r,n,1),o=new Date(r,n,0,23,59,59,999);if(e==="unix"){let s=Se.min(i.getTimezoneOffset());i=new Date(i.getTime()+s),o=new Date(o.getTime()+s)}return{start:i,end:o}}Se.monthStartEnd=FO;function CO(t,e="local"){Gu.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=new Date(r,0,1),i=new Date(r,12,0,23,59,59,999);if(e==="unix"){let o=Se.min(n.getTimezoneOffset());n=new Date(n.getTime()+o),i=new Date(i.getTime()+o)}return{start:n,end:i}}Se.yearStartEnd=CO});var ui=xe(Ht=>{"use strict";var LO=Ht&&Ht.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tn=Ht&&Ht.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&LO(e,t,r)};Object.defineProperty(Ht,"__esModule",{value:!0});tn(fw(),Ht);tn(u0(),Ht);tn(pw(),Ht);tn(yw(),Ht);tn(gw(),Ht);tn(vw(),Ht);tn(_w(),Ht);tn(Sw(),Ht);tn(Ew(),Ht);tn(xw(),Ht);tn(Ow(),Ht)});var kw,Tw,Nw,Iw=tt(()=>{kw=class{constructor(e=!1,r=!1){this.debug=e,this.listeners=[],this.synchronous=r,this.syncInterval="FRAMERATE",this.syncAnim=void 0,r===!0&&this.startSync()}addListener(e=null,r,n=void 0,i=void 0,o=void 0,s=this.debug,l=!0){if(r===void 0){console.error("You must assign an object");return}var f=e;f==null&&(f=Math.floor(Math.random()*1e5)),this.synchronous===!0&&(l=!1);var d={key:f,listener:new Tw(r,n,i,o,s,l)};this.listeners.push(d)}getListener(e){return this.listeners.find((n,i)=>{if(n.key===e)return!0})}hasKey(e){var r=!1;return this.listeners.forEach((n,i)=>{if(n.key===e)return r=!0,!0}),r}getKeyIndices(e){var r=[];return this.listeners.find((n,i)=>{n.key===e&&r.push(i)}),r}onchange(e=null,r=null){if(e==null)this.listeners.forEach((i,o)=>{i.listener.onchange=r});else var n=this.listeners.find((i,o)=>{i.name===e&&(i.listener.onchange=r)})}addFunc=(e=null,r=null,n=!0)=>{var i=null;if(r!==null)if(e==null)this.listeners.forEach((s,l)=>{i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start()});else var o=this.listeners.find((s,l)=>{s.key===e&&(i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start())});return i};getFuncs=(e=void 0)=>{if(e){var r=this.listeners.find((n,i)=>{if(n.key===e)return!0});return r.onchangeFuncs}else return};removeFuncs=(e=null,r=null,n=!1)=>{if(e==null)this.listeners.forEach((o,s)=>{o.listener.removeFuncs(r)});else var i=this.listeners.find((o,s)=>{o.key===e&&(o.listener.removeFuncs(r),(o.listener.onchangeFuncs.length===0||n===!0)&&o.listener.stop())})};stop(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.stop()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.stop()})}start(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.start()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.start()})}startSync(){if(this.synchronous===!1){this.synchronous=!0,this.stop();let e=()=>{this.synchronous===!0&&(this.listeners.forEach(r=>{r.listener.check()}),this.syncInterval==="FRAMERATE"?this.syncAnim=requestAnimationFrame(e):typeof this.syncInterval=="number"&&setTimeout(e,this.syncInterval))};e()}}stopSync(){this.synchronous=!1,this.syncAnim&&cancelAnimationFrame(this.syncAnim)}remove(e=null){if(e==null)this.listeners.forEach(i=>{i.listener.stop()}),this.listeners.splice(0,this.listeners.length);else{var r=[],n=this.listeners.forEach((i,o)=>{i.key===e&&r.push(o)});r.reverse().forEach(i=>{this.listeners[i].listener.stop(),this.listeners.splice(i,1)})}}},Tw=class{constructor(e,r="__ANY__",n=this.onchange,i="FRAMERATE",o=!1,s=!0){this.debug=o,this.onchange=n,this.onchangeFuncs=[],this.object=e,this.propName=r,this.propOld=void 0,this.setListenerRef(r),this.running=s,this.funcs=0,this.interval,i<10?(this.interval=10,console.log("Min recommended interval set: 10ms")):this.interval=i,s===!0&&(typeof window>"u"?setTimeout(()=>{this.check()},60):this.checker=requestAnimationFrame(this.check))}onchange=e=>{console.log(this.propName," changed from: ",this.propOld," to: ",this.object[this.propName])};addFunc=(e=null)=>{let r=0;return e!==null&&(this.onchangeFuncs.push({idx:this.funcs,onchange:e}),r=this.funcs,this.funcs++),r};removeFuncs(e=null){let r=0;e===null?this.onchangeFuncs=[]:this.onchangeFuncs.find((n,i)=>{if(n.idx===e)return r=i,!0})!==void 0&&this.onchangeFuncs.splice(r,1)}onchangeMulti=e=>{[...this.onchangeFuncs].forEach((n,i)=>{this.debug===!0&&console.log(n.onchange),n.onchange(e)})};setListenerRef=e=>{e==="__ANY__"||e===null||e===void 0?this.propOld=JSON.stringifyFast(this.object):Array.isArray(this.object[e])?this.propOld=JSON.stringifyFast(this.object[e].slice(this.object[e].length-20)):typeof this.object[e]=="object"?this.propOld=JSON.stringifyFast(this.object[e]):typeof this.object[e]=="function"?this.propOld=this.object[e].toString():this.propOld=this.object[e],this.debug===!0&&console.log("propname",e,", new assignment: ",this.propOld)};check=()=>{let e=!1;if(this.propName==="__ANY__"||this.propName===null||this.propName===void 0)this.propOld!==JSON.stringifyFast(this.object)&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object),this.setListenerRef(this.propName),e=!0);else if(Array.isArray(this.object[this.propName]))this.propOld!==JSON.stringifyFast(this.object[this.propName].slice(this.object[this.propName].length-20))&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);else if(typeof this.object[this.propName]=="object"){let r=JSON.stringifyFast(this.object[this.propName]);this.propOld!==r&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0)}else typeof this.object[this.propName]=="function"?this.propOld!==this.object[this.propName].toString()&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName].toString()),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName].toString()),this.setListenerRef(this.propName),e=!0):this.object[this.propName]!==this.propOld&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);return this.running===!0&&(this.debug===!0&&console.log("checking",this.object,this.propName),this.interval==="FRAMERATE"?typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check):setTimeout(()=>{this.check()},this.interval)),e};start(){this.running=!0,typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check)}stop(){this.running=!1,cancelAnimationFrame(this.checker)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,l){var f=e.length-1;if(e[f]){var d=e[f];if(typeof d=="object")if(d[s]===l||f===0)r.push(s),e.push(l.pushed);else for(;f-->=0;){if(d=e[f],typeof d=="object"&&d[s]===l){f+=2,e.length=f,r.length=f,--f,e[f]=l,r[f]=s;break}f--}}}function o(s,l){let f;if(l!=null)if(typeof l=="object"){let d=l.constructor.name;s&&d==="Object"&&i(s,l);let m=t.get(l);if(m)return"[Circular Reference]"+m;if(t.set(l,r.join(".")),d==="Array")l.length>20?f=l.slice(l.length-20):f=l;else if(d.includes("Set"))f=Array.from(l);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")f="instanceof_"+d;else if(d==="Object"){let v={};for(let y in l)if(l[y]==null)v[y]=l[y];else if(Array.isArray(l[y]))l[y].length>20?v[y]=l[y].slice(l[y].length-20):v[y]=l[y];else if(l[y].constructor.name==="Object"){v[y]={};for(let S in l[y])if(Array.isArray(l[y][S]))l[y][S].length>20?v[y][S]=l[y][S].slice(l[y][S].length-20):v[y][S]=l[y][S];else if(l[y][S]!=null){let O=l[y][S].constructor.name;O.includes("Set")?v[y][S]=Array.from(l[y][S]):O!=="Number"&&O!=="String"&&O!=="Boolean"?v[y][S]="instanceof_"+O:v[y][S]=l[y][S]}else v[y][S]=l[y][S]}else{let S=l[y].constructor.name;S.includes("Set")?v[y]=Array.from(l[y]):S!=="Number"&&S!=="String"&&S!=="Boolean"?v[y]="instanceof_"+S:v[y]=l[y]}f=v}else f=l}else f=l;return f}return function(l,f){e.push(l);let d=JSON.stringify(l,o,f);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,l){var f=e.length-1,d=e[f];if(d[s]===l||f===0)r.push(s),e.push(l);else for(;f-->=0;)if(d=e[f],d[s]===l){f+=2,e.length=f,r.length=f,--f,e[f]=l,r[f]=s;break}}function o(s,l){if(l!=null&&typeof l=="object"){s&&i(s,l);let f=t.get(l);if(f)return"[Circular Reference]"+f;t.set(l,r.join("."))}return l}return function(l,f){try{return e.push(l),JSON.stringify(l,o,f)}finally{n()}}}());Nw=kw});var Ju,Aw,h0=tt(()=>{Iw();Ju=class{constructor(e={},r="FRAMERATE",n=!0){this.data=e,this.interval=r,this.pushToState={},this.pushRecord={pushed:[]},this.pushCallbacks={},this.triggers={},this.prev={},this.listener=new Nw,this.defaultStartListenerEventLoop=n}subscribe(e,r,n=this.defaultStartListenerEventLoop){if(e&&e!=="state")if(this.data[e]===void 0)this.addToState(e,null,r,n);else return this.addSecondaryKeyResponse(e,r,void 0,n);else return this.addSecondaryKeyResponse(e,r,void 0,n)}subscribeOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribe(e,n)};n=this.subscribe(e,i)}unsubscribe(e,r=null){r!==null?this.removeSecondaryKeyResponse(e,r,!0):console.error("Specify a subcription function index")}unsubscribeAll(e){this.unsubscribeAllSequential(e),this.unsubscribeAllTriggers(e),this.clearAllKeyResponses(e),this.data[e]&&delete this.data[e],this.listener.hasKey("pushToState")&&this.setSequentialState({stateRemoved:e})}setInterval(e="FRAMERATE"){this.interval=e,this.listener.listeners.forEach((r,n)=>{r.interval=this.interval})}updateState(e,r){this.data[e]==null?this.addToState(e,r):this.data[e]=r}setupSynchronousUpdates=()=>{if(!this.listener.hasKey("pushToState")){let e=()=>{if(Object.keys(this.pushToState).length>0){Object.assign(this.data,this.pushToState);for(let r of Object.getOwnPropertyNames(this.pushToState))delete this.pushToState[r]}};this.listener.addListener("pushToState",this.pushToState,"__ANY__",e,this.interval),this.addToState("pushRecord",this.pushRecord,r=>{let n=r.pushed.length;for(let i=0;i<n;i++){let o=r.pushed[i];this.pushCallbacks.state&&this.pushCallbacks.state.forEach(s=>{s.onchange(o)});for(let s in o)this.pushCallbacks[s]&&this.pushCallbacks[s].forEach(l=>{typeof l=="object"&&l.onchange(o[s])})}this.pushRecord.pushed.splice(0,n)})}};addToState(e,r,n=null,i=this.defaultStartListenerEventLoop,o=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&this.setupSynchronousUpdates(),this.data[e]=r,this.setSequentialState({stateAdded:e}),n!==null)return this.addSecondaryKeyResponse(e,n,o,i)}get(e){return this.data[e]}getState(){return JSON.parse(JSON.stringifyFast(this.data))}setState(e={},r=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&(this.setupSynchronousUpdates(),this.pushRecord.pushed.push(JSON.parse(JSON.stringifyWithCircularRefs(e)))),e.stateUpdateTimeStamp=Date.now(),r){for(let n in e)if(n in this.pushToState){if(Array.isArray(this.pushToState[n])&&Array.isArray(e[n]))e[n]=this.pushToState[n].push(...e[n]);else if(typeof this.pushToState[n]=="object"&&typeof e[n]=="object"){for(let i in e[n])if(this.pushToState[n][i]){if(Array.isArray(this.pushToState[n][i])&&Array.isArray(e[n][i]))e[n][i]=this.pushToState[n][i].push(...e[n][i]);else if(typeof this.pushToState[n][i]=="object"&&typeof e[n][i]=="object"){for(let o in e[n][i])if(this.pushToState[n][i][o])Array.isArray(this.pushToState[n][i][o])&&Array.isArray(e[n][i][o])&&(e[n][i][o]=this.pushToState[n][i][o].push(...e[n][i][o]));else if(typeof this.pushToState[n][i][o]=="object"&&typeof e[n][i][o]=="object")for(let s in e[n][i][o])this.pushToState[n][i][o][s]&&Array.isArray(this.pushToState[n][i][o][s])&&Array.isArray(e[n][i][o][s])&&(e[n][i][o][s]=this.pushToState[n][i][o][s].push(...e[n][i][o][s]))}}}}}if(Object.assign(this.pushToState,e),Object.keys(this.triggers).length>0){this.triggers.state&&this.triggers.state.forEach(n=>{n.onchange(this.data)});for(let n of Object.getOwnPropertyNames(this.triggers))n in this.pushToState&&(this.data[n]=this.pushToState[n],delete this.pushToState[n],this.triggers[n].forEach(i=>{i.onchange(this.data[n])}))}return this.pushToState}subscribeTrigger(e=void 0,r=n=>{}){if(e){this.triggers[e]||(this.triggers[e]=[]);let n=this.triggers[e].length;return this.triggers[e].push({idx:n,onchange:r}),this.triggers[e].length-1}else return}subscribeTriggerOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeTrigger(e,n)};n=this.subscribeTrigger(e,i)}unsubscribeTrigger(e=void 0,r=0){let n,i=this.triggers[e];i&&i.find(s=>{if(s.idx===r)return!0})&&i.splice(n,1)}unsubscribeAllTriggers(e){e&&this.triggers[e]&&delete this.triggers[e]}setSequentialState(e={}){this.listener.hasKey("pushToState")||this.setupSynchronousUpdates(),e.stateUpdateTimeStamp=Date.now(),this.pushRecord.pushed.push(JSON.parse(JSON.stringify(e)))}subscribeSequential(e=void 0,r=void 0){if(e)if(this.data[e]===void 0&&e!=="state"&&this.addToState(e,null,void 0),this.pushCallbacks[e]||(this.pushCallbacks[e]=[]),r){let n=this.pushCallbacks[e].length;return this.pushCallbacks[e].push({idx:n,onchange:r}),this.pushCallbacks[e].length-1}else return;else return}subscribeSequentialOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeSequential(e,n)};n=this.subscribeSequential(e,i)}unsubscribeSequential(e=void 0,r=0){e&&this.pushCallbacks[e]&&this.pushCallbacks[e].find((n,i)=>{if(n.idx===r)return this.pushCallbacks[e].splice(i,1),!0})}unsubscribeAllSequential(e){e&&this.pushCallbacks[e]&&this.pushCallbacks[e]&&delete this.pushCallbacks[e]}setPrimaryKeyResponse(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop){if(r!==null)if(this.listener.hasKey(e))this.listener.onchange(e,r);else if(e!=null&&e!=="state")this.listener.addListener(e,this.data,e,r,this.data.stateUpdateInterval,n,i);else{if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}}addSecondaryKeyResponse=(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop)=>{if(r!=null){if(this.listener.hasKey(e))return this.listener.addFunc(e,r);if(e!=null&&e!=="state")return this.listener.addListener(e,this.data,e,()=>{},this.data.stateUpdateInterval,n,i),this.listener.addFunc(e,r);if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}};removeSecondaryKeyResponse(e=null,r=null,n=!0){e!==null?this.listener.hasKey(e)?this.listener.removeFuncs(e,r,n):console.error("key does not exist"):console.error("provide key")}clearAllKeyResponses(e=null){e===null?this.listener.remove(null):this.listener.hasKey(e)&&this.listener.remove(e)}getKeySubCallbacks(e){return this.listener.getFuncs(e)}removeState=this.unsubscribeAll;runSynchronousListeners(){this.defaultStartListenerEventLoop=!1,this.listener.startSync()}stop(e=null){this.listener.stop(e)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,l){var f=e.length-1;if(e[f]){var d=e[f];if(typeof d=="object")if(d[s]===l||f===0)r.push(s),e.push(l.pushed);else for(;f-->=0;){if(d=e[f],typeof d=="object"&&d[s]===l){f+=2,e.length=f,r.length=f,--f,e[f]=l,r[f]=s;break}f++}}}function o(s,l){let f;if(l!=null)if(typeof l=="object"){let d=l.constructor.name;s&&d==="Object"&&i(s,l);let m=t.get(l);if(m)return"[Circular Reference]"+m;if(t.set(l,r.join(".")),d==="Array")l.length>20?f=l.slice(l.length-20):f=l;else if(d.includes("Set"))f=Array.from(l);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")f="instanceof_"+d;else if(d==="Object"){let v={};for(let y in l)if(l[y]==null)v[y]=l[y];else if(Array.isArray(l[y]))l[y].length>20?v[y]=l[y].slice(l[y].length-20):v[y]=l[y];else if(l[y].constructor.name==="Object"){v[y]={};for(let S in l[y])if(Array.isArray(l[y][S]))l[y][S].length>20?v[y][S]=l[y][S].slice(l[y][S].length-20):v[y][S]=l[y][S];else if(l[y][S]!=null){let O=l[y][S].constructor.name;O.includes("Set")?v[y][S]=Array.from(l[y][S]):O!=="Number"&&O!=="String"&&O!=="Boolean"?v[y][S]="instanceof_"+O:v[y][S]=l[y][S]}else v[y][S]=l[y][S]}else{let S=l[y].constructor.name;S.includes("Set")?v[y]=Array.from(l[y]):S!=="Number"&&S!=="String"&&S!=="Boolean"?v[y]="instanceof_"+S:v[y]=l[y]}f=v}else f=l}else f=l;return f}return function(l,f){e.push(l);let d=JSON.stringify(l,o,f);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,l){var f=e.length-1,d=e[f];if(typeof d=="object")if(d[s]===l||f===0)r.push(s),e.push(l.pushed);else for(;f-->=0;){if(d=e[f],typeof d=="object"&&d[s]===l){f+=2,e.length=f,r.length=f,--f,e[f]=l,r[f]=s;break}f--}}function o(s,l){if(l!=null&&typeof l=="object"){s&&i(s,l);let f=t.get(l);if(f)return"[Circular Reference]"+f;t.set(l,r.join("."))}return l}return function(l,f){try{return e.push(l),JSON.stringify(l,o,f)}finally{n()}}}());Aw=Ju});async function Dw(t="sessionName",e="data",r=0,n=5120,i=o=>{}){return t!=""?new Promise(async o=>{Je.open("/"+e+"/"+t,"r",(s,l)=>{if(s)throw s;Je.read(l,n,r,"utf-8",(f,d,m)=>{if(f)throw f;if(m!==0){let v=d.toString();Je.close(l,()=>{i(v,t),o(v)})}else o(void 0)})})}):void console.error("Path name is not defined")}function m0(t=e=>{}){window.gapi.client.drive.files.list({q:"name='Brainsatplay_Data' and mimeType='application/vnd.google-apps.folder'"}).then(e=>{e.result.files.length===0&&this.createDriveFolder(),t&&t(e.result)})}function Lw(t=e=>{}){m0(e=>{window.gapi.client.drive.files.list({q:`'${e.files[0].id}' in parents`,pageSize:10,fields:"nextPageToken, files(id, name)"}).then(r=>{var n=r.result.files;n&&n.length>0&&t(n)})})}function g0(t){return!!t.match(g0.regex)}var Pa,Rw,rI,Ma,Yu,Je,d0,p0,Fw,Cw,ns,y0,Yi,nI,iI,Mw,jw,Bw,PO,Pw,oI,Uw=tt(()=>{Pa=class{constructor(e=this.onOpen,r=null,n=null){this.onOpen=e,this.notes=[{idx:0,text:"comment"}],r!==null&&document.getElementById(r).addEventListener("click",this.saveCSV),n!==null&&document.getElementById(n).addEventListener("click",this.openCSV)}processArraysForCSV(e=["1|2|3","3|2|1"],r="|",n="a,b,c",i=!1){let o=n+`
`,s=0;return e.forEach((l,f)=>{e[f]==="string"&&r!==","?o+=l.split(r).join(","):csvData+=l.join(","),i===!0&&this.notes[s].idx===f&&(l+=this.notes[s].text,s++),l.indexOf(`
`)<0&&(o+=`
`)}),o}static saveCSV(e=`a,b,c
1,2,3
3,2,1
`,r=new Date().toISOString()){var n=document.createElement("a");n.href="data:text/csv;charset=utf-8,"+encodeURI(e),n.target="_blank",n.download=r!==""?r+".csv":Date().toISOString()+".csv",n.click()}static openCSV(e=",",r=(n,i,o)=>o){var n=document.createElement("input");n.accept=".csv",n.type="file",n.onchange=i=>{var o=i.target.files[0],s=new FileReader;s.onload=l=>{var f=l.target.result.split(`
`);let d=[];var m=[];f.pop(),f.forEach((v,y)=>{if(y==0)d=v.split(e);else{var S=v.split(e);m.push(S)}}),r(m,d,n.value),n.value=""},s.readAsText(o)},n.click()}static openCSVRaw(e=(r,n)=>n){var r=document.createElement("input");r.accept=".csv",r.type="file",r.onchange=n=>{var i=n.target.files[0],o=new FileReader;o.onload=s=>{var l=s.target.result;e(l,r.value),r.value=""},o.readAsText(i)},r.click()}onOpen(e=[],r=[]){console.log("CSV Opened!",r,e)}},rI=Object.freeze({__proto__:null,CSV:Pa,parseCSVData:(t,e,r,n=!0,i=(o,s,l)=>{let f={filename:l,head:s},d=s;typeof s=="string"&&(d=s.split(","));for(let m=0;m<o.length;m++){let v=o[m].split(",");for(let y=0;y<v.length;y++)f[d[y]]||f[d[y]],f[d[y]]=v[y]}return f})=>{let o=t.split(`
`);return o.shift(),n===!1&&o.pop(),i(o,e,r)},processDataForCSV:(t={})=>{let e="";typeof t.data[0]!="object"||Array.isArray(t.data[0])||(t.data[0].x?e="x,":t.data[0].timestamp&&(e="timestamp,localtime,"));let r=0,n={};t.data.forEach((s,l)=>{if(Array.isArray(s))for(let f=0;f<s.length;f++)n[f]||(n[f]=""),Array.isArray(s[f])?(f===0&&(e[r]+=t.header[r]+new Array(s[f].length-1).fill("").join(",")),n[f]+=s[f].join(",")+",",r+=s[f].length):(f===0&&(e[r]+=t.header[r]+","),n[f]+=s[f]+",",r++);else if(typeof s=="object"){let f;s.x?f=s.x:s.timestamp&&(f=s.timestamp);for(let d=0;d<f.length;d++){n[f[d]]||(n[f[d]]=f[d]+","),s.timestamp&&(n[f[d]]+=toISOLocal(s.timestamp[d])+",");for(let m in s)m!=="x"&&(n[f[d]]||(n[f[d]]=""),Array.isArray(s[m][d])?(d===0&&(e[r]+=t.header[r]+Array(s[m][d].length-1).fill("").join(",")),n[f[d]]+=s[m][d].join(",")+",",r+=s[m][d].length):(d===0&&(e[r]+=t.header[r]+","),n[f[d]]+=s[m][d]+",",r++))}}}),e.splice(e.length-1,1),e+=`
`;let i="";for(let s in n)n[s].splice(n[s].length-1,1),i+=n[s]+`
`;let o={filename:t.filename,header:e,body:i};return t.save&&Pa.saveCSV(e+i,t.filename),t.write&&fs.exists(t.filename,s=>{s?appendFile(t.filename,i,t.dir):appendFile(t.filename,e+i,t.dir)}),o}}),Ma=(typeof globalThis<"u"||typeof window<"u"||(typeof global<"u"?global:typeof self<"u"),{exports:{}});Rw=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=t,r.c=e,r.p="",r(0)}([function(t,e,r){(function(n,i,o,s){Object.defineProperty(e,"__esModule",{value:!0});var l,f=r(2),d=r(9);(function(c){c[c.EPERM=1]="EPERM",c[c.ENOENT=2]="ENOENT",c[c.EIO=5]="EIO",c[c.EBADF=9]="EBADF",c[c.EACCES=13]="EACCES",c[c.EBUSY=16]="EBUSY",c[c.EEXIST=17]="EEXIST",c[c.ENOTDIR=20]="ENOTDIR",c[c.EISDIR=21]="EISDIR",c[c.EINVAL=22]="EINVAL",c[c.EFBIG=27]="EFBIG",c[c.ENOSPC=28]="ENOSPC",c[c.EROFS=30]="EROFS",c[c.ENOTEMPTY=39]="ENOTEMPTY",c[c.ENOTSUP=95]="ENOTSUP"})(l||(l={}));var m={};m[l.EPERM]="Operation not permitted.",m[l.ENOENT]="No such file or directory.",m[l.EIO]="Input/output error.",m[l.EBADF]="Bad file descriptor.",m[l.EACCES]="Permission denied.",m[l.EBUSY]="Resource busy or locked.",m[l.EEXIST]="File exists.",m[l.ENOTDIR]="File is not a directory.",m[l.EISDIR]="File is a directory.",m[l.EINVAL]="Invalid argument.",m[l.EFBIG]="File is too big.",m[l.ENOSPC]="No space left on disk.",m[l.EROFS]="Cannot modify a read-only file system.",m[l.ENOTEMPTY]="Directory is not empty.",m[l.ENOTSUP]="Operation is not supported.";var v,y=function(c){function u(a,h,p){h===void 0&&(h=m[a]),c.call(this,h),this.syscall="",this.errno=a,this.code=l[a],this.path=p,this.stack=new c().stack,this.message="Error: "+this.code+": "+h+(this.path?", '"+this.path+"'":"")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.fromJSON=function(a){var h=new u(0);return h.errno=a.errno,h.code=a.code,h.path=a.path,h.stack=a.stack,h.message=a.message,h},u.fromBuffer=function(a,h){return h===void 0&&(h=0),u.fromJSON(JSON.parse(a.toString("utf8",h+4,h+4+a.readUInt32LE(h))))},u.FileError=function(a,h){return new u(a,m[a],h)},u.ENOENT=function(a){return this.FileError(l.ENOENT,a)},u.EEXIST=function(a){return this.FileError(l.EEXIST,a)},u.EISDIR=function(a){return this.FileError(l.EISDIR,a)},u.ENOTDIR=function(a){return this.FileError(l.ENOTDIR,a)},u.EPERM=function(a){return this.FileError(l.EPERM,a)},u.ENOTEMPTY=function(a){return this.FileError(l.ENOTEMPTY,a)},u.prototype.toString=function(){return this.message},u.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},u.prototype.writeToBuffer=function(a,h){a===void 0&&(a=n.alloc(this.bufferSize())),h===void 0&&(h=0);var p=a.write(JSON.stringify(this.toJSON()),h+4);return a.writeUInt32LE(p,h),a},u.prototype.bufferSize=function(){return 4+n.byteLength(JSON.stringify(this.toJSON()))},u}(Error),S=Object.freeze({get ErrorCode(){return l},ErrorStrings:m,ApiError:y});(function(c){c[c.NOP=0]="NOP",c[c.THROW_EXCEPTION=1]="THROW_EXCEPTION",c[c.TRUNCATE_FILE=2]="TRUNCATE_FILE",c[c.CREATE_FILE=3]="CREATE_FILE"})(v||(v={}));var O,R=function c(u){if(this.flagStr=u,c.validFlagStrs.indexOf(u)<0)throw new y(l.EINVAL,"Invalid flag: "+u)};R.getFileFlag=function(c){return R.flagCache.hasOwnProperty(c)?R.flagCache[c]:R.flagCache[c]=new R(c)},R.prototype.getFlagString=function(){return this.flagStr},R.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},R.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},R.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},R.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},R.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},R.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},R.prototype.pathExistsAction=function(){return this.isExclusive()?v.THROW_EXCEPTION:this.isTruncating()?v.TRUNCATE_FILE:v.NOP},R.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?v.CREATE_FILE:v.THROW_EXCEPTION},R.flagCache={},R.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"],function(c){c[c.FILE=32768]="FILE",c[c.DIRECTORY=16384]="DIRECTORY",c[c.SYMLINK=40960]="SYMLINK"}(O||(O={}));var T=function(c,u,a,h,p,g){if(h===void 0&&(h=new Date),p===void 0&&(p=new Date),g===void 0&&(g=new Date),this.size=u,this.atime=h,this.mtime=p,this.ctime=g,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,a)this.mode=a;else switch(c){case O.FILE:this.mode=420;break;case O.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(u/512),this.mode<4096&&(this.mode|=c)};T.fromBuffer=function(c){var u=c.readUInt32LE(0),a=c.readUInt32LE(4),h=c.readDoubleLE(8),p=c.readDoubleLE(16),g=c.readDoubleLE(24);return new T(61440&a,u,4095&a,new Date(h),new Date(p),new Date(g))},T.prototype.toBuffer=function(){var c=n.alloc(32);return c.writeUInt32LE(this.size,0),c.writeUInt32LE(this.mode,4),c.writeDoubleLE(this.atime.getTime(),8),c.writeDoubleLE(this.mtime.getTime(),16),c.writeDoubleLE(this.ctime.getTime(),24),c},T.prototype.clone=function(){return new T(61440&this.mode,this.size,4095&this.mode,this.atime,this.mtime,this.ctime)},T.prototype.isFile=function(){return(61440&this.mode)===O.FILE},T.prototype.isDirectory=function(){return(61440&this.mode)===O.DIRECTORY},T.prototype.isSymbolicLink=function(){return(61440&this.mode)===O.SYMLINK},T.prototype.chmod=function(c){this.mode=61440&this.mode|c},T.prototype.isSocket=function(){return!1},T.prototype.isBlockDevice=function(){return!1},T.prototype.isCharacterDevice=function(){return!1},T.prototype.isFIFO=function(){return!1};var I=function(c,u){return c};function L(c){if(c)return c;throw new y(l.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Y(c,u){switch(typeof c){case"number":return c;case"string":var a=parseInt(c,8);return isNaN(a)?u:a;default:return u}}function H(c){if(c instanceof Date)return c;if(typeof c=="number")return new Date(1e3*c);throw new y(l.EINVAL,"Invalid time.")}function Z(c){if(c.indexOf("\0")>=0)throw new y(l.EINVAL,"Path must be a string without null bytes.");if(c==="")throw new y(l.EINVAL,"Path must not be empty.");return d.resolve(c)}function P(c,u,a,h){switch(typeof c){case"object":return{encoding:c.encoding!==void 0?c.encoding:u,flag:c.flag!==void 0?c.flag:a,mode:Y(c.mode,h)};case"string":return{encoding:c,flag:a,mode:h};default:return{encoding:u,flag:a,mode:h}}}function V(){}var _=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};_.prototype.initialize=function(c){if(!c.constructor.isAvailable())throw new y(l.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=c},_.prototype._toUnixTimestamp=function(c){if(typeof c=="number")return c;if(c instanceof Date)return c.getTime()/1e3;throw new Error("Cannot parse time: "+c)},_.prototype.getRootFS=function(){return this.root?this.root:null},_.prototype.rename=function(c,u,a){a===void 0&&(a=V);var h=I(a,1);try{L(this.root).rename(Z(c),Z(u),h)}catch(p){h(p)}},_.prototype.renameSync=function(c,u){L(this.root).renameSync(Z(c),Z(u))},_.prototype.exists=function(c,u){u===void 0&&(u=V);var a=I(u,1);try{return L(this.root).exists(Z(c),a)}catch{return a(!1)}},_.prototype.existsSync=function(c){try{return L(this.root).existsSync(Z(c))}catch{return!1}},_.prototype.stat=function(c,u){u===void 0&&(u=V);var a=I(u,2);try{return L(this.root).stat(Z(c),!1,a)}catch(h){return a(h)}},_.prototype.statSync=function(c){return L(this.root).statSync(Z(c),!1)},_.prototype.lstat=function(c,u){u===void 0&&(u=V);var a=I(u,2);try{return L(this.root).stat(Z(c),!0,a)}catch(h){return a(h)}},_.prototype.lstatSync=function(c){return L(this.root).statSync(Z(c),!0)},_.prototype.truncate=function(c,u,a){u===void 0&&(u=0),a===void 0&&(a=V);var h=0;typeof u=="function"?a=u:typeof u=="number"&&(h=u);var p=I(a,1);try{if(h<0)throw new y(l.EINVAL);return L(this.root).truncate(Z(c),h,p)}catch(g){return p(g)}},_.prototype.truncateSync=function(c,u){if(u===void 0&&(u=0),u<0)throw new y(l.EINVAL);return L(this.root).truncateSync(Z(c),u)},_.prototype.unlink=function(c,u){u===void 0&&(u=V);var a=I(u,1);try{return L(this.root).unlink(Z(c),a)}catch(h){return a(h)}},_.prototype.unlinkSync=function(c){return L(this.root).unlinkSync(Z(c))},_.prototype.open=function(c,u,a,h){var p=this;h===void 0&&(h=V);var g=Y(a,420),w=I(h=typeof a=="function"?a:h,2);try{L(this.root).open(Z(c),R.getFileFlag(u),g,function(N,C){C?w(N,p.getFdForFile(C)):w(N)})}catch(N){w(N)}},_.prototype.openSync=function(c,u,a){return a===void 0&&(a=420),this.getFdForFile(L(this.root).openSync(Z(c),R.getFileFlag(u),Y(a,420)))},_.prototype.readFile=function(c,u,a){u===void 0&&(u={}),a===void 0&&(a=V);var h=P(u,null,"r",null),p=I(a=typeof u=="function"?u:a,2);try{var g=R.getFileFlag(h.flag);return g.isReadable()?L(this.root).readFile(Z(c),h.encoding,g,p):p(new y(l.EINVAL,"Flag passed to readFile must allow for reading."))}catch(w){return p(w)}},_.prototype.readFileSync=function(c,u){u===void 0&&(u={});var a=P(u,null,"r",null),h=R.getFileFlag(a.flag);if(!h.isReadable())throw new y(l.EINVAL,"Flag passed to readFile must allow for reading.");return L(this.root).readFileSync(Z(c),a.encoding,h)},_.prototype.writeFile=function(c,u,a,h){a===void 0&&(a={}),h===void 0&&(h=V);var p=P(a,"utf8","w",420),g=I(h=typeof a=="function"?a:h,1);try{var w=R.getFileFlag(p.flag);return w.isWriteable()?L(this.root).writeFile(Z(c),u,p.encoding,w,p.mode,g):g(new y(l.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(N){return g(N)}},_.prototype.writeFileSync=function(c,u,a){var h=P(a,"utf8","w",420),p=R.getFileFlag(h.flag);if(!p.isWriteable())throw new y(l.EINVAL,"Flag passed to writeFile must allow for writing.");return L(this.root).writeFileSync(Z(c),u,h.encoding,p,h.mode)},_.prototype.appendFile=function(c,u,a,h){h===void 0&&(h=V);var p=P(a,"utf8","a",420),g=I(h=typeof a=="function"?a:h,1);try{var w=R.getFileFlag(p.flag);if(!w.isAppendable())return g(new y(l.EINVAL,"Flag passed to appendFile must allow for appending."));L(this.root).appendFile(Z(c),u,p.encoding,w,p.mode,g)}catch(N){g(N)}},_.prototype.appendFileSync=function(c,u,a){var h=P(a,"utf8","a",420),p=R.getFileFlag(h.flag);if(!p.isAppendable())throw new y(l.EINVAL,"Flag passed to appendFile must allow for appending.");return L(this.root).appendFileSync(Z(c),u,h.encoding,p,h.mode)},_.prototype.fstat=function(c,u){u===void 0&&(u=V);var a=I(u,2);try{this.fd2file(c).stat(a)}catch(h){a(h)}},_.prototype.fstatSync=function(c){return this.fd2file(c).statSync()},_.prototype.close=function(c,u){var a=this;u===void 0&&(u=V);var h=I(u,1);try{this.fd2file(c).close(function(p){p||a.closeFd(c),h(p)})}catch(p){h(p)}},_.prototype.closeSync=function(c){this.fd2file(c).closeSync(),this.closeFd(c)},_.prototype.ftruncate=function(c,u,a){a===void 0&&(a=V);var h=typeof u=="number"?u:0,p=I(a=typeof u=="function"?u:a,1);try{var g=this.fd2file(c);if(h<0)throw new y(l.EINVAL);g.truncate(h,p)}catch(w){p(w)}},_.prototype.ftruncateSync=function(c,u){u===void 0&&(u=0);var a=this.fd2file(c);if(u<0)throw new y(l.EINVAL);a.truncateSync(u)},_.prototype.fsync=function(c,u){u===void 0&&(u=V);var a=I(u,1);try{this.fd2file(c).sync(a)}catch(h){a(h)}},_.prototype.fsyncSync=function(c){this.fd2file(c).syncSync()},_.prototype.fdatasync=function(c,u){u===void 0&&(u=V);var a=I(u,1);try{this.fd2file(c).datasync(a)}catch(h){a(h)}},_.prototype.fdatasyncSync=function(c){this.fd2file(c).datasyncSync()},_.prototype.write=function(c,u,a,h,p,g){g===void 0&&(g=V);var w,N,C,q=null;if(typeof u=="string"){var Q="utf8";switch(typeof a){case"function":g=a;break;case"number":q=a,Q=typeof h=="string"?h:"utf8",g=typeof p=="function"?p:g;break;default:return(g=typeof h=="function"?h:typeof p=="function"?p:g)(new y(l.EINVAL,"Invalid arguments."))}N=0,C=(w=n.from(u,Q)).length}else w=u,N=a,C=h,q=typeof p=="number"?p:null,g=typeof p=="function"?p:g;var ce=I(g,3);try{var de=this.fd2file(c);q==null&&(q=de.getPos()),de.write(w,N,C,q,ce)}catch(ge){ce(ge)}},_.prototype.writeSync=function(c,u,a,h,p){var g,w,N,C=0;if(typeof u=="string"){N=typeof a=="number"?a:null;var q=typeof h=="string"?h:"utf8";C=0,w=(g=n.from(u,q)).length}else g=u,C=a,w=h,N=typeof p=="number"?p:null;var Q=this.fd2file(c);return N==null&&(N=Q.getPos()),Q.writeSync(g,C,w,N)},_.prototype.read=function(c,u,a,h,p,g){var w,N,C,q,Q;if(g===void 0&&(g=V),typeof u=="number"){C=u,w=a;var ce=h;g=typeof p=="function"?p:g,N=0,q=n.alloc(C),Q=I(function(ge,ve,Te){if(ge)return g(ge);g(ge,Te.toString(ce),ve)},3)}else q=u,N=a,C=h,w=p,Q=I(g,3);try{var de=this.fd2file(c);w==null&&(w=de.getPos()),de.read(q,N,C,w,Q)}catch(ge){Q(ge)}},_.prototype.readSync=function(c,u,a,h,p){var g,w,N,C,q=!1,Q="utf8";typeof u=="number"?(N=u,C=a,Q=h,w=0,g=n.alloc(N),q=!0):(g=u,w=a,N=h,C=p);var ce=this.fd2file(c);C==null&&(C=ce.getPos());var de=ce.readSync(g,w,N,C);return q?[g.toString(Q),de]:de},_.prototype.fchown=function(c,u,a,h){h===void 0&&(h=V);var p=I(h,1);try{this.fd2file(c).chown(u,a,p)}catch(g){p(g)}},_.prototype.fchownSync=function(c,u,a){this.fd2file(c).chownSync(u,a)},_.prototype.fchmod=function(c,u,a){var h=I(a,1);try{var p=typeof u=="string"?parseInt(u,8):u;this.fd2file(c).chmod(p,h)}catch(g){h(g)}},_.prototype.fchmodSync=function(c,u){var a=typeof u=="string"?parseInt(u,8):u;this.fd2file(c).chmodSync(a)},_.prototype.futimes=function(c,u,a,h){h===void 0&&(h=V);var p=I(h,1);try{var g=this.fd2file(c);typeof u=="number"&&(u=new Date(1e3*u)),typeof a=="number"&&(a=new Date(1e3*a)),g.utimes(u,a,p)}catch(w){p(w)}},_.prototype.futimesSync=function(c,u,a){this.fd2file(c).utimesSync(H(u),H(a))},_.prototype.rmdir=function(c,u){u===void 0&&(u=V);var a=I(u,1);try{c=Z(c),L(this.root).rmdir(c,a)}catch(h){a(h)}},_.prototype.rmdirSync=function(c){return c=Z(c),L(this.root).rmdirSync(c)},_.prototype.mkdir=function(c,u,a){a===void 0&&(a=V),typeof u=="function"&&(a=u,u=511);var h=I(a,1);try{c=Z(c),L(this.root).mkdir(c,u,h)}catch(p){h(p)}},_.prototype.mkdirSync=function(c,u){L(this.root).mkdirSync(Z(c),Y(u,511))},_.prototype.readdir=function(c,u){u===void 0&&(u=V);var a=I(u,2);try{c=Z(c),L(this.root).readdir(c,a)}catch(h){a(h)}},_.prototype.readdirSync=function(c){return c=Z(c),L(this.root).readdirSync(c)},_.prototype.link=function(c,u,a){a===void 0&&(a=V);var h=I(a,1);try{c=Z(c),u=Z(u),L(this.root).link(c,u,h)}catch(p){h(p)}},_.prototype.linkSync=function(c,u){return c=Z(c),u=Z(u),L(this.root).linkSync(c,u)},_.prototype.symlink=function(c,u,a,h){h===void 0&&(h=V);var p=typeof a=="string"?a:"file",g=I(h=typeof a=="function"?a:h,1);try{if(p!=="file"&&p!=="dir")return g(new y(l.EINVAL,"Invalid type: "+p));c=Z(c),u=Z(u),L(this.root).symlink(c,u,p,g)}catch(w){g(w)}},_.prototype.symlinkSync=function(c,u,a){if(a){if(a!=="file"&&a!=="dir")throw new y(l.EINVAL,"Invalid type: "+a)}else a="file";return c=Z(c),u=Z(u),L(this.root).symlinkSync(c,u,a)},_.prototype.readlink=function(c,u){u===void 0&&(u=V);var a=I(u,2);try{c=Z(c),L(this.root).readlink(c,a)}catch(h){a(h)}},_.prototype.readlinkSync=function(c){return c=Z(c),L(this.root).readlinkSync(c)},_.prototype.chown=function(c,u,a,h){h===void 0&&(h=V);var p=I(h,1);try{c=Z(c),L(this.root).chown(c,!1,u,a,p)}catch(g){p(g)}},_.prototype.chownSync=function(c,u,a){c=Z(c),L(this.root).chownSync(c,!1,u,a)},_.prototype.lchown=function(c,u,a,h){h===void 0&&(h=V);var p=I(h,1);try{c=Z(c),L(this.root).chown(c,!0,u,a,p)}catch(g){p(g)}},_.prototype.lchownSync=function(c,u,a){c=Z(c),L(this.root).chownSync(c,!0,u,a)},_.prototype.chmod=function(c,u,a){a===void 0&&(a=V);var h=I(a,1);try{var p=Y(u,-1);if(p<0)throw new y(l.EINVAL,"Invalid mode.");L(this.root).chmod(Z(c),!1,p,h)}catch(g){h(g)}},_.prototype.chmodSync=function(c,u){var a=Y(u,-1);if(a<0)throw new y(l.EINVAL,"Invalid mode.");c=Z(c),L(this.root).chmodSync(c,!1,a)},_.prototype.lchmod=function(c,u,a){a===void 0&&(a=V);var h=I(a,1);try{var p=Y(u,-1);if(p<0)throw new y(l.EINVAL,"Invalid mode.");L(this.root).chmod(Z(c),!0,p,h)}catch(g){h(g)}},_.prototype.lchmodSync=function(c,u){var a=Y(u,-1);if(a<1)throw new y(l.EINVAL,"Invalid mode.");L(this.root).chmodSync(Z(c),!0,a)},_.prototype.utimes=function(c,u,a,h){h===void 0&&(h=V);var p=I(h,1);try{L(this.root).utimes(Z(c),H(u),H(a),p)}catch(g){p(g)}},_.prototype.utimesSync=function(c,u,a){L(this.root).utimesSync(Z(c),H(u),H(a))},_.prototype.realpath=function(c,u,a){a===void 0&&(a=V);var h=typeof u=="object"?u:{},p=I(a=typeof u=="function"?u:V,2);try{c=Z(c),L(this.root).realpath(c,h,p)}catch(g){p(g)}},_.prototype.realpathSync=function(c,u){return u===void 0&&(u={}),c=Z(c),L(this.root).realpathSync(c,u)},_.prototype.watchFile=function(c,u,a){throw new y(l.ENOTSUP)},_.prototype.unwatchFile=function(c,u){throw new y(l.ENOTSUP)},_.prototype.watch=function(c,u,a){throw new y(l.ENOTSUP)},_.prototype.access=function(c,u,a){throw new y(l.ENOTSUP)},_.prototype.accessSync=function(c,u){throw new y(l.ENOTSUP)},_.prototype.createReadStream=function(c,u){throw new y(l.ENOTSUP)},_.prototype.createWriteStream=function(c,u){throw new y(l.ENOTSUP)},_.prototype.wrapCallbacks=function(c){I=c},_.prototype.getFdForFile=function(c){var u=this.nextFd++;return this.fdMap[u]=c,u},_.prototype.fd2file=function(c){var u=this.fdMap[c];if(u)return u;throw new y(l.EBADF,"Invalid file descriptor.")},_.prototype.closeFd=function(c){delete this.fdMap[c]},_.Stats=T;var W=new _,re={},X=_.prototype;function le(c,u,a,h,p){return c<u||a<u?c>a?a+1:c+1:h===p?u:u+1}function ae(c,u){if(c===u)return 0;if(c.length>u.length){var a=c;c=u,u=a}for(var h=c.length,p=u.length;h>0&&c.charCodeAt(h-1)===u.charCodeAt(p-1);)h--,p--;for(var g=0;g<h&&c.charCodeAt(g)===u.charCodeAt(g);)g++;if(p-=g,(h-=g)==0||p===1)return p;for(var w,N,C,q,Q,ce=new Array(h<<1),de=0;de<h;)ce[h+de]=c.charCodeAt(g+de),ce[de]=++de;for(w=0;w+3<p;)for(var ge=u.charCodeAt(g+(N=w)),ve=u.charCodeAt(g+(C=w+1)),Te=u.charCodeAt(g+(q=w+2)),Be=u.charCodeAt(g+(Q=w+3)),Ot=w+=4,Kr=0;Kr<h;){var kr=ce[h+Kr],Eo=ce[Kr];N=le(Eo,N,C,ge,kr),C=le(N,C,q,ve,kr),q=le(C,q,Q,Te,kr),Ot=le(q,Q,Ot,Be,kr),ce[Kr++]=Ot,Q=q,q=C,C=N,N=Eo}for(var fr=0;w<p;){var Wf=u.charCodeAt(g+(N=w));fr=++w;for(var Di=0;Di<h;Di++){var Fi=ce[Di];ce[Di]=fr=Fi<N||fr<N?Fi>fr?fr+1:Fi+1:Wf===ce[h+Di]?N:N+1,N=Fi}}return fr}function ye(c,u,a){c&&console.warn("["+u+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+u+".Create("+JSON.stringify(a)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}Object.keys(X).forEach(function(c){typeof W[c]=="function"?re[c]=function(){return W[c].apply(W,arguments)}:re[c]=W[c]}),re.changeFSModule=function(c){W=c},re.getFSModule=function(){return W},re.FS=_;var M=typeof navigator<"u"&&!(!/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&navigator.userAgent.indexOf("Trident")===-1),D=typeof window>"u";function ie(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function U(c,u,a){a.existsSync(c)||(U(d.dirname(c),u,a),a.mkdirSync(c,u))}function z(c){var u=G(c),a=u.byteOffset,h=u.byteLength;return a===0&&h===u.buffer.byteLength?u.buffer:u.buffer.slice(a,a+h)}function G(c){return c instanceof Uint8Array?c:new Uint8Array(c)}function ue(c){return c instanceof n?c:c instanceof Uint8Array?oe(c):n.from(c)}function oe(c){return c instanceof n?c:c.byteOffset===0&&c.byteLength===c.buffer.byteLength?ne(c.buffer):n.from(c.buffer,c.byteOffset,c.byteLength)}function ne(c){return n.from(c)}function se(c,u,a){if(u===void 0&&(u=0),a===void 0&&(a=c.length),u<0||a<0||a>c.length||u>a)throw new TypeError("Invalid slice bounds on buffer of length "+c.length+": ["+u+", "+a+"]");if(c.length===0)return Ee();var h=G(c),p=c[0],g=(p+1)%255;return c[0]=g,h[0]===g?(h[0]=p,oe(h.slice(u,a))):(c[0]=p,oe(h.subarray(u,a)))}var pe=null;function Ee(){return pe||(pe=n.alloc(0))}function Ie(c,u){n.isBuffer(c)?u():u(new y(l.EINVAL,"option must be a Buffer."))}function b(c,u,a){var h=c.Options,p=c.Name,g=0,w=!1,N=!1;function C(de){w||(de&&(w=!0,a(de)),--g==0&&N&&a())}var q=function(de){if(h.hasOwnProperty(de)){var ge=h[de],ve=u[de];if(ve==null){if(!ge.optional){var Te=Object.keys(u).filter(function(Be){return!(Be in h)}).map(function(Be){return{str:Be,distance:ae(de,Be)}}).filter(function(Be){return Be.distance<5}).sort(function(Be,Ot){return Be.distance-Ot.distance});return w?{}:(w=!0,{v:a(new y(l.EINVAL,"["+p+"] Required option '"+de+"' not provided."+(Te.length>0?" You provided unrecognized option '"+Te[0].str+"'; perhaps you meant to type '"+de+"'.":"")+`
Option description: `+ge.description))})}}else{if(!(Array.isArray(ge.type)?ge.type.indexOf(typeof ve)!==-1:typeof ve===ge.type))return w?{}:(w=!0,{v:a(new y(l.EINVAL,"["+p+"] Value provided for option "+de+" is not the proper type. Expected "+(Array.isArray(ge.type)?"one of {"+ge.type.join(", ")+"}":ge.type)+", but received "+typeof ve+`
Option description: `+ge.description))});ge.validator&&(g++,ge.validator(ve,C))}}};for(var Q in h){var ce=q(Q);if(ce)return ce.v}N=!0,g!==0||w||a()}var A=Object.freeze({deprecationMessage:ye,isIE:M,isWebWorker:D,fail:ie,mkdirpSync:U,buffer2ArrayBuffer:z,buffer2Uint8array:G,arrayish2Buffer:ue,uint8Array2Buffer:oe,arrayBuffer2Buffer:ne,copyingSlice:se,emptyBuffer:Ee,bufferValidator:Ie,checkOptions:b}),j=function(c){this.fs=c,this.nodefs=c.getNodeFS(),this.FS=c.getFS(),this.PATH=c.getPATH(),this.ERRNO_CODES=c.getERRNO_CODES()};j.prototype.open=function(c){var u=this.fs.realPath(c.node),a=this.FS;try{a.isFile(c.node.mode)&&(c.nfd=this.nodefs.openSync(u,this.fs.flagsToPermissionString(c.flags)))}catch(h){throw h.code?new a.ErrnoError(this.ERRNO_CODES[h.code]):h}},j.prototype.close=function(c){var u=this.FS;try{u.isFile(c.node.mode)&&c.nfd&&this.nodefs.closeSync(c.nfd)}catch(a){throw a.code?new u.ErrnoError(this.ERRNO_CODES[a.code]):a}},j.prototype.read=function(c,u,a,h,p){try{return this.nodefs.readSync(c.nfd,oe(u),a,h,p)}catch(g){throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code])}},j.prototype.write=function(c,u,a,h,p){try{return this.nodefs.writeSync(c.nfd,oe(u),a,h,p)}catch(g){throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code])}},j.prototype.llseek=function(c,u,a){var h=u;if(a===1)h+=c.position;else if(a===2&&this.FS.isFile(c.node.mode))try{h+=this.nodefs.fstatSync(c.nfd).size}catch(p){throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(h<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return c.position=h,h};var $=function(c){this.fs=c,this.nodefs=c.getNodeFS(),this.FS=c.getFS(),this.PATH=c.getPATH(),this.ERRNO_CODES=c.getERRNO_CODES()};$.prototype.getattr=function(c){var u,a=this.fs.realPath(c);try{u=this.nodefs.lstatSync(a)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}return{dev:u.dev,ino:u.ino,mode:u.mode,nlink:u.nlink,uid:u.uid,gid:u.gid,rdev:u.rdev,size:u.size,atime:u.atime,mtime:u.mtime,ctime:u.ctime,blksize:u.blksize,blocks:u.blocks}},$.prototype.setattr=function(c,u){var a=this.fs.realPath(c);try{if(u.mode!==void 0&&(this.nodefs.chmodSync(a,u.mode),c.mode=u.mode),u.timestamp!==void 0){var h=new Date(u.timestamp);this.nodefs.utimesSync(a,h,h)}}catch(p){if(!p.code)throw p;if(p.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(u.size!==void 0)try{this.nodefs.truncateSync(a,u.size)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},$.prototype.lookup=function(c,u){var a=this.PATH.join2(this.fs.realPath(c),u),h=this.fs.getMode(a);return this.fs.createNode(c,u,h)},$.prototype.mknod=function(c,u,a,h){var p=this.fs.createNode(c,u,a,h),g=this.fs.realPath(p);try{this.FS.isDir(p.mode)?this.nodefs.mkdirSync(g,p.mode):this.nodefs.writeFileSync(g,"",{mode:p.mode})}catch(w){throw w.code?new this.FS.ErrnoError(this.ERRNO_CODES[w.code]):w}return p},$.prototype.rename=function(c,u,a){var h=this.fs.realPath(c),p=this.PATH.join2(this.fs.realPath(u),a);try{this.nodefs.renameSync(h,p),c.name=a,c.parent=u}catch(g){throw g.code?new this.FS.ErrnoError(this.ERRNO_CODES[g.code]):g}},$.prototype.unlink=function(c,u){var a=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.unlinkSync(a)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.rmdir=function(c,u){var a=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.rmdirSync(a)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.readdir=function(c){var u=this.fs.realPath(c);try{var a=this.nodefs.readdirSync(u);return a.push(".",".."),a}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.symlink=function(c,u,a){var h=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.symlinkSync(a,h)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},$.prototype.readlink=function(c){var u=this.fs.realPath(c);try{return this.nodefs.readlinkSync(u)}catch(a){throw a.code?new this.FS.ErrnoError(this.ERRNO_CODES[a.code]):a}};var K=function(c,u,a,h){c===void 0&&(c=self.FS),u===void 0&&(u=self.PATH),a===void 0&&(a=self.ERRNO_CODES),h===void 0&&(h=re),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=h,this.FS=c,this.PATH=u,this.ERRNO_CODES=a,this.node_ops=new $(this),this.stream_ops=new j(this)};K.prototype.mount=function(c){return this.createNode(null,"/",this.getMode(c.opts.root),0)},K.prototype.createNode=function(c,u,a,h){var p=this.FS;if(!p.isDir(a)&&!p.isFile(a)&&!p.isLink(a))throw new p.ErrnoError(this.ERRNO_CODES.EINVAL);var g=p.createNode(c,u,a);return g.node_ops=this.node_ops,g.stream_ops=this.stream_ops,g},K.prototype.getMode=function(c){var u;try{u=this.nodefs.lstatSync(c)}catch(a){throw a.code?new this.FS.ErrnoError(this.ERRNO_CODES[a.code]):a}return u.mode},K.prototype.realPath=function(c){for(var u=[];c.parent!==c;)u.push(c.name),c=c.parent;return u.push(c.mount.opts.root),u.reverse(),this.PATH.join.apply(null,u)},K.prototype.flagsToPermissionString=function(c){var u=typeof c=="string"?parseInt(c,10):c;return(u&=8191)in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[u]:c},K.prototype.getNodeFS=function(){return this.nodefs},K.prototype.getFS=function(){return this.FS},K.prototype.getPATH=function(){return this.PATH},K.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var J=function(){};J.prototype.supportsLinks=function(){return!1},J.prototype.diskSpace=function(c,u){u(0,0)},J.prototype.openFile=function(c,u,a){throw new y(l.ENOTSUP)},J.prototype.createFile=function(c,u,a,h){throw new y(l.ENOTSUP)},J.prototype.open=function(c,u,a,h){var p=this;this.stat(c,!1,function(g,w){if(g)switch(u.pathNotExistsAction()){case v.CREATE_FILE:return p.stat(d.dirname(c),!1,function(N,C){N?h(N):C&&!C.isDirectory()?h(y.ENOTDIR(d.dirname(c))):p.createFile(c,u,a,h)});case v.THROW_EXCEPTION:return h(y.ENOENT(c));default:return h(new y(l.EINVAL,"Invalid FileFlag object."))}else{if(w&&w.isDirectory())return h(y.EISDIR(c));switch(u.pathExistsAction()){case v.THROW_EXCEPTION:return h(y.EEXIST(c));case v.TRUNCATE_FILE:return p.openFile(c,u,function(N,C){N?h(N):C?C.truncate(0,function(){C.sync(function(){h(null,C)})}):ie()});case v.NOP:return p.openFile(c,u,h);default:return h(new y(l.EINVAL,"Invalid FileFlag object."))}}})},J.prototype.rename=function(c,u,a){a(new y(l.ENOTSUP))},J.prototype.renameSync=function(c,u){throw new y(l.ENOTSUP)},J.prototype.stat=function(c,u,a){a(new y(l.ENOTSUP))},J.prototype.statSync=function(c,u){throw new y(l.ENOTSUP)},J.prototype.openFileSync=function(c,u,a){throw new y(l.ENOTSUP)},J.prototype.createFileSync=function(c,u,a){throw new y(l.ENOTSUP)},J.prototype.openSync=function(c,u,a){var h;try{h=this.statSync(c,!1)}catch{switch(u.pathNotExistsAction()){case v.CREATE_FILE:if(!this.statSync(d.dirname(c),!1).isDirectory())throw y.ENOTDIR(d.dirname(c));return this.createFileSync(c,u,a);case v.THROW_EXCEPTION:throw y.ENOENT(c);default:throw new y(l.EINVAL,"Invalid FileFlag object.")}}if(h.isDirectory())throw y.EISDIR(c);switch(u.pathExistsAction()){case v.THROW_EXCEPTION:throw y.EEXIST(c);case v.TRUNCATE_FILE:return this.unlinkSync(c),this.createFileSync(c,u,h.mode);case v.NOP:return this.openFileSync(c,u,a);default:throw new y(l.EINVAL,"Invalid FileFlag object.")}},J.prototype.unlink=function(c,u){u(new y(l.ENOTSUP))},J.prototype.unlinkSync=function(c){throw new y(l.ENOTSUP)},J.prototype.rmdir=function(c,u){u(new y(l.ENOTSUP))},J.prototype.rmdirSync=function(c){throw new y(l.ENOTSUP)},J.prototype.mkdir=function(c,u,a){a(new y(l.ENOTSUP))},J.prototype.mkdirSync=function(c,u){throw new y(l.ENOTSUP)},J.prototype.readdir=function(c,u){u(new y(l.ENOTSUP))},J.prototype.readdirSync=function(c){throw new y(l.ENOTSUP)},J.prototype.exists=function(c,u){this.stat(c,null,function(a){u(!a)})},J.prototype.existsSync=function(c){try{return this.statSync(c,!0),!0}catch{return!1}},J.prototype.realpath=function(c,u,a){if(this.supportsLinks())for(var h=c.split(d.sep),p=0;p<h.length;p++){var g=h.slice(0,p+1);h[p]=d.join.apply(null,g)}else this.exists(c,function(w){w?a(null,c):a(y.ENOENT(c))})},J.prototype.realpathSync=function(c,u){if(this.supportsLinks()){for(var a=c.split(d.sep),h=0;h<a.length;h++){var p=a.slice(0,h+1);a[h]=d.join.apply(d,p)}return a.join(d.sep)}if(this.existsSync(c))return c;throw y.ENOENT(c)},J.prototype.truncate=function(c,u,a){this.open(c,R.getFileFlag("r+"),420,function(h,p){if(h)return a(h);p.truncate(u,function(g){p.close(function(w){a(g||w)})})})},J.prototype.truncateSync=function(c,u){var a=this.openSync(c,R.getFileFlag("r+"),420);try{a.truncateSync(u)}catch(h){throw h}finally{a.closeSync()}},J.prototype.readFile=function(c,u,a,h){var p=h;this.open(c,a,420,function(g,w){if(g)return h(g);h=function(N,C){w.close(function(q){return N||(N=q),p(N,C)})},w.stat(function(N,C){if(N)return h(N);var q=n.alloc(C.size);w.read(q,0,C.size,0,function(Q){if(Q)return h(Q);if(u===null)return h(Q,q);try{h(null,q.toString(u))}catch(ce){h(ce)}})})})},J.prototype.readFileSync=function(c,u,a){var h=this.openSync(c,a,420);try{var p=h.statSync(),g=n.alloc(p.size);return h.readSync(g,0,p.size,0),h.closeSync(),u===null?g:g.toString(u)}finally{h.closeSync()}},J.prototype.writeFile=function(c,u,a,h,p,g){var w=g;this.open(c,h,420,function(N,C){if(N)return g(N);g=function(q){C.close(function(Q){w(q||Q)})};try{typeof u=="string"&&(u=n.from(u,a))}catch(q){return g(q)}C.write(u,0,u.length,0,g)})},J.prototype.writeFileSync=function(c,u,a,h,p){var g=this.openSync(c,h,p);try{typeof u=="string"&&(u=n.from(u,a)),g.writeSync(u,0,u.length,0)}finally{g.closeSync()}},J.prototype.appendFile=function(c,u,a,h,p,g){var w=g;this.open(c,h,p,function(N,C){if(N)return g(N);g=function(q){C.close(function(Q){w(q||Q)})},typeof u=="string"&&(u=n.from(u,a)),C.write(u,0,u.length,null,g)})},J.prototype.appendFileSync=function(c,u,a,h,p){var g=this.openSync(c,h,p);try{typeof u=="string"&&(u=n.from(u,a)),g.writeSync(u,0,u.length,null)}finally{g.closeSync()}},J.prototype.chmod=function(c,u,a,h){h(new y(l.ENOTSUP))},J.prototype.chmodSync=function(c,u,a){throw new y(l.ENOTSUP)},J.prototype.chown=function(c,u,a,h,p){p(new y(l.ENOTSUP))},J.prototype.chownSync=function(c,u,a,h){throw new y(l.ENOTSUP)},J.prototype.utimes=function(c,u,a,h){h(new y(l.ENOTSUP))},J.prototype.utimesSync=function(c,u,a){throw new y(l.ENOTSUP)},J.prototype.link=function(c,u,a){a(new y(l.ENOTSUP))},J.prototype.linkSync=function(c,u){throw new y(l.ENOTSUP)},J.prototype.symlink=function(c,u,a,h){h(new y(l.ENOTSUP))},J.prototype.symlinkSync=function(c,u,a){throw new y(l.ENOTSUP)},J.prototype.readlink=function(c,u){u(new y(l.ENOTSUP))},J.prototype.readlinkSync=function(c){throw new y(l.ENOTSUP)};var _e=function(c){function u(){c.apply(this,arguments)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.supportsSynch=function(){return!0},u.prototype.rename=function(a,h,p){try{this.renameSync(a,h),p()}catch(g){p(g)}},u.prototype.stat=function(a,h,p){try{p(null,this.statSync(a,h))}catch(g){p(g)}},u.prototype.open=function(a,h,p,g){try{g(null,this.openSync(a,h,p))}catch(w){g(w)}},u.prototype.unlink=function(a,h){try{this.unlinkSync(a),h()}catch(p){h(p)}},u.prototype.rmdir=function(a,h){try{this.rmdirSync(a),h()}catch(p){h(p)}},u.prototype.mkdir=function(a,h,p){try{this.mkdirSync(a,h),p()}catch(g){p(g)}},u.prototype.readdir=function(a,h){try{h(null,this.readdirSync(a))}catch(p){h(p)}},u.prototype.chmod=function(a,h,p,g){try{this.chmodSync(a,h,p),g()}catch(w){g(w)}},u.prototype.chown=function(a,h,p,g,w){try{this.chownSync(a,h,p,g),w()}catch(N){w(N)}},u.prototype.utimes=function(a,h,p,g){try{this.utimesSync(a,h,p),g()}catch(w){g(w)}},u.prototype.link=function(a,h,p){try{this.linkSync(a,h),p()}catch(g){p(g)}},u.prototype.symlink=function(a,h,p,g){try{this.symlinkSync(a,h,p),g()}catch(w){g(w)}},u.prototype.readlink=function(a,h){try{h(null,this.readlinkSync(a))}catch(p){h(p)}},u}(J),F=function(){};F.prototype.sync=function(c){c(new y(l.ENOTSUP))},F.prototype.syncSync=function(){throw new y(l.ENOTSUP)},F.prototype.datasync=function(c){this.sync(c)},F.prototype.datasyncSync=function(){return this.syncSync()},F.prototype.chown=function(c,u,a){a(new y(l.ENOTSUP))},F.prototype.chownSync=function(c,u){throw new y(l.ENOTSUP)},F.prototype.chmod=function(c,u){u(new y(l.ENOTSUP))},F.prototype.chmodSync=function(c){throw new y(l.ENOTSUP)},F.prototype.utimes=function(c,u,a){a(new y(l.ENOTSUP))},F.prototype.utimesSync=function(c,u){throw new y(l.ENOTSUP)};var E=function(c){function u(a,h,p,g,w){if(c.call(this),this._pos=0,this._dirty=!1,this._fs=a,this._path=h,this._flag=p,this._stat=g,this._buffer=w||Ee(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getBuffer=function(){return this._buffer},u.prototype.getStats=function(){return this._stat},u.prototype.getFlag=function(){return this._flag},u.prototype.getPath=function(){return this._path},u.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},u.prototype.advancePos=function(a){return this._pos+=a},u.prototype.setPos=function(a){return this._pos=a},u.prototype.sync=function(a){try{this.syncSync(),a()}catch(h){a(h)}},u.prototype.syncSync=function(){throw new y(l.ENOTSUP)},u.prototype.close=function(a){try{this.closeSync(),a()}catch(h){a(h)}},u.prototype.closeSync=function(){throw new y(l.ENOTSUP)},u.prototype.stat=function(a){try{a(null,this._stat.clone())}catch(h){a(h)}},u.prototype.statSync=function(){return this._stat.clone()},u.prototype.truncate=function(a,h){try{this.truncateSync(a),this._flag.isSynchronous()&&!re.getRootFS().supportsSynch()&&this.sync(h),h()}catch(p){return h(p)}},u.prototype.truncateSync=function(a){if(this._dirty=!0,!this._flag.isWriteable())throw new y(l.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,a>this._buffer.length){var h=n.alloc(a-this._buffer.length,0);return this.writeSync(h,0,h.length,this._buffer.length),void(this._flag.isSynchronous()&&re.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=a;var p=n.alloc(a);this._buffer.copy(p,0,0,a),this._buffer=p,this._flag.isSynchronous()&&re.getRootFS().supportsSynch()&&this.syncSync()},u.prototype.write=function(a,h,p,g,w){try{w(null,this.writeSync(a,h,p,g),a)}catch(N){w(N)}},u.prototype.writeSync=function(a,h,p,g){if(this._dirty=!0,g==null&&(g=this.getPos()),!this._flag.isWriteable())throw new y(l.EPERM,"File not opened with a writeable mode.");var w=g+p;if(w>this._stat.size&&(this._stat.size=w,w>this._buffer.length)){var N=n.alloc(w);this._buffer.copy(N),this._buffer=N}var C=a.copy(this._buffer,g,h,h+p);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),C):(this.setPos(g+C),C)},u.prototype.read=function(a,h,p,g,w){try{w(null,this.readSync(a,h,p,g),a)}catch(N){w(N)}},u.prototype.readSync=function(a,h,p,g){if(!this._flag.isReadable())throw new y(l.EPERM,"File not opened with a readable mode.");g==null&&(g=this.getPos()),g+p>this._stat.size&&(p=this._stat.size-g);var w=this._buffer.copy(a,h,g,g+p);return this._stat.atime=new Date,this._pos=g+p,w},u.prototype.chmod=function(a,h){try{this.chmodSync(a),h()}catch(p){h(p)}},u.prototype.chmodSync=function(a){if(!this._fs.supportsProps())throw new y(l.ENOTSUP);this._dirty=!0,this._stat.chmod(a),this.syncSync()},u.prototype.isDirty=function(){return this._dirty},u.prototype.resetDirty=function(){this._dirty=!1},u}(F),k=function(c){function u(a,h,p,g,w){c.call(this,a,h,p,g,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(a){a()},u.prototype.syncSync=function(){},u.prototype.close=function(a){a()},u.prototype.closeSync=function(){},u}(E),B=function(c){function u(a,h,p,g,w){c.call(this,a,h,p,g,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(E),ee=function(c){function u(a,h,p){if(p===void 0&&(p=!0),c.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=a,this._async=h,!a.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");ye(p,u.Name,{sync:"sync file system instance",async:"async file system instance"})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){try{var p=new u(a.sync,a.async,!1);p.initialize(function(g){g?h(g):h(null,p)},!1)}catch(g){h(g)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){return u.Name},u.prototype._syncSync=function(a){this._sync.writeFileSync(a.getPath(),a.getBuffer(),null,R.getFileFlag("w"),a.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[a.getPath(),a.getBuffer(),null,a.getFlag(),a.getStats().mode]})},u.prototype.initialize=function(a,h){var p=this;h===void 0&&(h=!0),h&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var g=this._initializeCallbacks;if(this._isInitialized)a();else if(g.push(a)===1){var w=function(C,q,Q){C!=="/"&&p._sync.mkdirSync(C,q),p._async.readdir(C,function(ce,de){var ge=0;ce?Q(ce):function ve(Te){Te?Q(Te):ge<de.length?(N(d.join(C,de[ge]),ve),ge++):Q()}()})},N=function(C,q){p._async.stat(C,!1,function(Q,ce){Q?q(Q):ce.isDirectory()?w(C,ce.mode,q):function(de,ge,ve){p._async.readFile(de,null,R.getFileFlag("r"),function(Te,Be){if(Te)ve(Te);else try{p._sync.writeFileSync(de,Be,null,R.getFileFlag("w"),ge)}catch(Ot){Te=Ot}finally{ve(Te)}})}(C,ce.mode,q)})};w("/",0,function(C){p._isInitialized=!C,p._initializeCallbacks=[],g.forEach(function(q){return q(C)})})}},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},u.prototype.renameSync=function(a,h){this.checkInitialized(),this._sync.renameSync(a,h),this.enqueueOp({apiMethod:"rename",arguments:[a,h]})},u.prototype.statSync=function(a,h){return this.checkInitialized(),this._sync.statSync(a,h)},u.prototype.openSync=function(a,h,p){return this.checkInitialized(),this._sync.openSync(a,h,p).closeSync(),new B(this,a,h,this._sync.statSync(a,!1),this._sync.readFileSync(a,null,R.getFileFlag("r")))},u.prototype.unlinkSync=function(a){this.checkInitialized(),this._sync.unlinkSync(a),this.enqueueOp({apiMethod:"unlink",arguments:[a]})},u.prototype.rmdirSync=function(a){this.checkInitialized(),this._sync.rmdirSync(a),this.enqueueOp({apiMethod:"rmdir",arguments:[a]})},u.prototype.mkdirSync=function(a,h){this.checkInitialized(),this._sync.mkdirSync(a,h),this.enqueueOp({apiMethod:"mkdir",arguments:[a,h]})},u.prototype.readdirSync=function(a){return this.checkInitialized(),this._sync.readdirSync(a)},u.prototype.existsSync=function(a){return this.checkInitialized(),this._sync.existsSync(a)},u.prototype.chmodSync=function(a,h,p){this.checkInitialized(),this._sync.chmodSync(a,h,p),this.enqueueOp({apiMethod:"chmod",arguments:[a,h,p]})},u.prototype.chownSync=function(a,h,p,g){this.checkInitialized(),this._sync.chownSync(a,h,p,g),this.enqueueOp({apiMethod:"chown",arguments:[a,h,p,g]})},u.prototype.utimesSync=function(a,h,p){this.checkInitialized(),this._sync.utimesSync(a,h,p),this.enqueueOp({apiMethod:"utimes",arguments:[a,h,p]})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new y(l.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},u.prototype.enqueueOp=function(a){var h=this;if(this._queue.push(a),!this._queueRunning){this._queueRunning=!0;var p=function(g){if(g&&console.error("WARNING: File system has desynchronized. Received following error: "+g+`
$`),h._queue.length>0){var w=h._queue.shift(),N=w.arguments;N.push(p),h._async[w.apiMethod].apply(h._async,N)}else h._queueRunning=!1};p()}},u}(_e);function fe(c,u,a){switch(a.length){case 0:return c.call(u);case 1:return c.call(u,a[0]);case 2:return c.call(u,a[0],a[1]);case 3:return c.call(u,a[0],a[1],a[2])}return c.apply(u,a)}ee.Name="AsyncMirror",ee.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};var he=Math.max;function Ce(c){return c}function Re(c,u){return function(a,h,p){return h=he(h===void 0?a.length-1:h,0),function(){for(var g=arguments,w=-1,N=he(g.length-h,0),C=Array(N);++w<N;)C[w]=g[h+w];w=-1;for(var q=Array(h+1);++w<h;)q[w]=g[w];return q[h]=p(C),fe(a,this,q)}}(c,u,Ce)}var Ge=function(c){return Re(function(u){var a=u.pop();c.call(this,u,a)})};function At(c){return Re(function(u,a){var h=Ge(function(p,g){var w=this;return c(u,function(N,C){N.apply(w,p.concat(C))},g)});return a.length?h.apply(this,a):h})}var Xe=typeof i=="object"&&i&&i.Object===Object&&i,po=typeof self=="object"&&self&&self.Object===Object&&self,Es=Xe||po||Function("return this")(),xi=Es.Symbol,ly=Object.prototype,mb=ly.hasOwnProperty,gb=ly.toString,bs=xi?xi.toStringTag:void 0,vb=Object.prototype.toString,uy=xi?xi.toStringTag:void 0;function xf(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":uy&&uy in Object(c)?function(u){var a=mb.call(u,bs),h=u[bs];try{u[bs]=void 0;var p=!0}catch{}var g=gb.call(u);return p&&(a?u[bs]=h:delete u[bs]),g}(c):function(u){return vb.call(u)}(c)}function cy(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}function Of(c){return c!=null&&cy(c.length)&&!function(u){if(!function(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}(u))return!1;var a=xf(u);return a=="[object Function]"||a=="[object GeneratorFunction]"||a=="[object AsyncFunction]"||a=="[object Proxy]"}(c)}var fy={};function xs(){}function kf(c){return function(){if(c!==null){var u=c;c=null,u.apply(this,arguments)}}}var Tf=typeof Symbol=="function"&&Symbol.iterator;function Nf(c){return c!=null&&typeof c=="object"}function hy(c){return Nf(c)&&xf(c)=="[object Arguments]"}var dy=Object.prototype,wb=dy.hasOwnProperty,_b=dy.propertyIsEnumerable,Sb=hy(function(){return arguments}())?hy:function(c){return Nf(c)&&wb.call(c,"callee")&&!_b.call(c,"callee")},Eb=Array.isArray,py=typeof e=="object"&&e&&!e.nodeType&&e,yy=py&&typeof o=="object"&&o&&!o.nodeType&&o,my=yy&&yy.exports===py?Es.Buffer:void 0,bb=(my?my.isBuffer:void 0)||function(){return!1},xb=/^(?:0|[1-9]\d*)$/;function Ob(c,u){return!!(u=u??9007199254740991)&&(typeof c=="number"||xb.test(c))&&c>-1&&c%1==0&&c<u}var Qe={};Qe["[object Float32Array]"]=Qe["[object Float64Array]"]=Qe["[object Int8Array]"]=Qe["[object Int16Array]"]=Qe["[object Int32Array]"]=Qe["[object Uint8Array]"]=Qe["[object Uint8ClampedArray]"]=Qe["[object Uint16Array]"]=Qe["[object Uint32Array]"]=!0,Qe["[object Arguments]"]=Qe["[object Array]"]=Qe["[object ArrayBuffer]"]=Qe["[object Boolean]"]=Qe["[object DataView]"]=Qe["[object Date]"]=Qe["[object Error]"]=Qe["[object Function]"]=Qe["[object Map]"]=Qe["[object Number]"]=Qe["[object Object]"]=Qe["[object RegExp]"]=Qe["[object Set]"]=Qe["[object String]"]=Qe["[object WeakMap]"]=!1;var gy,vy=typeof e=="object"&&e&&!e.nodeType&&e,wy=vy&&typeof o=="object"&&o&&!o.nodeType&&o,If=wy&&wy.exports===vy&&Xe.process,_y=function(){try{return If&&If.binding&&If.binding("util")}catch{}}(),Sy=_y&&_y.isTypedArray,kb=Sy?(gy=Sy,function(c){return gy(c)}):function(c){return Nf(c)&&cy(c.length)&&!!Qe[xf(c)]},Tb=Object.prototype.hasOwnProperty;function Nb(c,u){var a=Eb(c),h=!a&&Sb(c),p=!a&&!h&&bb(c),g=!a&&!h&&!p&&kb(c),w=a||h||p||g,N=w?function(Q,ce){for(var de=-1,ge=Array(Q);++de<Q;)ge[de]=ce(de);return ge}(c.length,String):[],C=N.length;for(var q in c)!u&&!Tb.call(c,q)||w&&(q=="length"||p&&(q=="offset"||q=="parent")||g&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||Ob(q,C))||N.push(q);return N}var Ib=Object.prototype,Ab=function(c,u){return function(a){return c(u(a))}}(Object.keys,Object),Rb=Object.prototype.hasOwnProperty;function Db(c){if(a=(u=c)&&u.constructor,u!==(typeof a=="function"&&a.prototype||Ib))return Ab(c);var u,a,h=[];for(var p in Object(c))Rb.call(c,p)&&p!="constructor"&&h.push(p);return h}function Fb(c){var u,a=Of(u=c)?Nb(u):Db(u),h=-1,p=a.length;return function(){var g=a[++h];return h<p?{value:c[g],key:g}:null}}function Cb(c){if(Of(c))return function(a){var h=-1,p=a.length;return function(){return++h<p?{value:a[h],key:h}:null}}(c);var u=function(a){return Tf&&a[Tf]&&a[Tf]()}(c);return u?function(a){var h=-1;return function(){var p=a.next();return p.done?null:(h++,{value:p.value,key:h})}}(u):Fb(c)}function Ey(c){return function(){if(c===null)throw new Error("Callback was already called.");var u=c;c=null,u.apply(this,arguments)}}function by(c){return function(u,a,h){if(h=kf(h||xs),c<=0||!u)return h(null);var p=Cb(u),g=!1,w=0;function N(q,Q){if(w-=1,q)g=!0,h(q);else{if(Q===fy||g&&w<=0)return g=!0,h(null);C()}}function C(){for(;w<c&&!g;){var q=p();if(q===null)return g=!0,void(w<=0&&h(null));w+=1,a(q.value,q.key,Ey(N))}}C()}}function xy(c,u,a,h){by(u)(c,a,h)}function Af(c,u){return function(a,h,p){return c(a,u,h,p)}}function Lb(c,u,a){a=kf(a||xs);var h=0,p=0,g=c.length;function w(N,C){N?a(N):++p!==g&&C!==fy||a(null)}for(g===0&&a(null);h<g;h++)u(c[h],h,Ey(w))}var Oy,Pb=Af(xy,1/0),ky=function(c,u,a){(Of(c)?Lb:Pb)(c,u,a)};function Ty(c,u,a,h){h=h||xs;var p=[],g=0;c(u=u||[],function(w,N,C){var q=g++;a(w,function(Q,ce){p[q]=ce,C(Q)})},function(w){h(w,p)})}At((Oy=Ty,function(c,u,a){return Oy(ky,c,u,a)}));var Mb=function(c){return function(u,a,h,p){return c(by(a),u,h,p)}}(Ty);At(Af(Mb,1)),Re(function(c,u){return Re(function(a){return c.apply(null,u.concat(a))})});var Ny=typeof setImmediate=="function"&&setImmediate,Iy=typeof s=="object"&&typeof s.nextTick=="function";function Ay(c){setTimeout(c,0)}function Ry(c){return Re(function(u,a){c(function(){u.apply(null,a)})})}Ry(Ny?setImmediate:Iy?s.nextTick:Ay);var Er,jb=Af(xy,1),Bb=Re(function(c){return Re(function(u){var a,h,p,g,w=this,N=u[u.length-1];typeof N=="function"?u.pop():N=xs,a=c,h=u,p=function(C,q,Q){q.apply(w,C.concat(Re(function(ce,de){Q(ce,de)})))},g=kf((g=function(C,q){N.apply(w,[C].concat(q))})||xs),jb(a,function(C,q,Q){p(h,C,function(ce,de){h=de,Q(ce)})},function(C){g(C,h)})})});function Dy(c){return Re(function(u,a){u.apply(null,a.concat(Re(function(h,p){typeof console=="object"&&(h?console.error&&console.error(h):console[c]&&function(g,w){for(var N=-1,C=g==null?0:g.length;++N<C&&w(g[N],N,g)!==!1;);}(p,function(g){console[c](g)}))})))})}function Fy(c,u,a){ky(c,function(h){return function(p,g,w){return h(p,w)}}(u),a)}Re(function(c){return Bb.apply(null,c.reverse())}),Re(function(c){var u=[null].concat(c);return Ge(function(a,h){return h.apply(this,u)})}),Dy("dir"),Dy("log"),Ry(Iy?s.nextTick:Ny?setImmediate:Ay);var Vt=function(c){this._cache={},this._client=c};Vt.prototype.readdir=function(c,u){var a=this,h=this.getCachedDirInfo(c);this._wrap(function(p){h!==null&&h.contents?a._client.readdir(c,{contentHash:h.stat.contentHash},p):a._client.readdir(c,p)},function(p,g,w,N){p?p.status===Dropbox.ApiError.NO_CONTENT&&h!==null?u(null,h.contents.slice(0)):u(p):(a.updateCachedDirInfo(c,w,g.slice(0)),N.forEach(function(C){a.updateCachedInfo(d.join(c,C.name),C)}),u(null,g))})},Vt.prototype.remove=function(c,u){var a=this;this._wrap(function(h){a._client.remove(c,h)},function(h,p){h||a.updateCachedInfo(c,p),u(h)})},Vt.prototype.move=function(c,u,a){var h=this;this._wrap(function(p){h._client.move(c,u,p)},function(p,g){p||(h.deleteCachedInfo(c),h.updateCachedInfo(u,g)),a(p)})},Vt.prototype.stat=function(c,u){var a=this;this._wrap(function(h){a._client.stat(c,h)},function(h,p){h||a.updateCachedInfo(c,p),u(h,p)})},Vt.prototype.readFile=function(c,u){var a=this,h=this.getCachedFileInfo(c);h!==null&&h.contents!==null?this.stat(c,function(p,g){p?u(p):g.contentHash===h.stat.contentHash?u(p,h.contents.slice(0),h.stat):a.readFile(c,u)}):this._wrap(function(p){a._client.readFile(c,{arrayBuffer:!0},p)},function(p,g,w){p||a.updateCachedInfo(c,w,g.slice(0)),u(p,g,w)})},Vt.prototype.writeFile=function(c,u,a){var h=this;this._wrap(function(p){h._client.writeFile(c,u,p)},function(p,g){p||h.updateCachedInfo(c,g,u.slice(0)),a(p,g)})},Vt.prototype.mkdir=function(c,u){var a=this;this._wrap(function(h){a._client.mkdir(c,h)},function(h,p){h||a.updateCachedInfo(c,p,[]),u(h)})},Vt.prototype._wrap=function(c,u){var a=0,h=function(p){var g=2;if(p&&3>++a)switch(p.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){c(h)},1e3*g);break;default:u.apply(null,arguments)}else u.apply(null,arguments)};c(h)},Vt.prototype.getCachedInfo=function(c){return this._cache[c.toLowerCase()]},Vt.prototype.putCachedInfo=function(c,u){this._cache[c.toLowerCase()]=u},Vt.prototype.deleteCachedInfo=function(c){delete this._cache[c.toLowerCase()]},Vt.prototype.getCachedDirInfo=function(c){var u,a=this.getCachedInfo(c);return(u=a)&&u.stat.isFolder?a:null},Vt.prototype.getCachedFileInfo=function(c){var u,a=this.getCachedInfo(c);return(u=a)&&u.stat.isFile?a:null},Vt.prototype.updateCachedDirInfo=function(c,u,a){a===void 0&&(a=null);var h=this.getCachedInfo(c);u.contentHash===null||h!==void 0&&h.stat.contentHash===u.contentHash||this.putCachedInfo(c,{stat:u,contents:a})},Vt.prototype.updateCachedFileInfo=function(c,u,a){a===void 0&&(a=null);var h=this.getCachedInfo(c);u.versionTag===null||h!==void 0&&h.stat.versionTag===u.versionTag||this.putCachedInfo(c,{stat:u,contents:a})},Vt.prototype.updateCachedInfo=function(c,u,a){var h;a===void 0&&(a=null),u.isFile&&((h=a)==null||typeof h=="object"&&typeof h.byteLength=="number")?this.updateCachedFileInfo(c,u,a):u.isFolder&&Array.isArray(a)&&this.updateCachedDirInfo(c,u,a)};var Ub=function(c){function u(a,h,p,g,w){c.call(this,a,h,p,g,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(a){var h=this;if(this.isDirty()){var p=z(this.getBuffer());this._fs._writeFileStrict(this.getPath(),p,function(g){g||h.resetDirty(),a(g)})}else a()},u.prototype.close=function(a){this.sync(a)},u}(E),dl=function(c){function u(a,h){h===void 0&&(h=!0),c.call(this),this._client=new Vt(a),ye(h,u.Name,{client:"authenticated dropbox client instance"}),Er||((Er={})[Dropbox.ApiError.NETWORK_ERROR]=l.EIO,Er[Dropbox.ApiError.INVALID_PARAM]=l.EINVAL,Er[Dropbox.ApiError.INVALID_TOKEN]=l.EPERM,Er[Dropbox.ApiError.OAUTH_ERROR]=l.EPERM,Er[Dropbox.ApiError.NOT_FOUND]=l.ENOENT,Er[Dropbox.ApiError.INVALID_METHOD]=l.EINVAL,Er[Dropbox.ApiError.NOT_ACCEPTABLE]=l.EINVAL,Er[Dropbox.ApiError.CONFLICT]=l.EINVAL,Er[Dropbox.ApiError.RATE_LIMITED]=l.EBUSY,Er[Dropbox.ApiError.SERVER_ERROR]=l.EBUSY,Er[Dropbox.ApiError.OVER_QUOTA]=l.ENOSPC)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){h(null,new u(a.client,!1))},u.isAvailable=function(){return typeof Dropbox<"u"},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(a){var h=this;this._client.readdir("/",function(p,g){p?a(h.convert(p,"/")):Fy(g,function(w,N){var C=d.join("/",w);h._client.remove(C,function(q){N(q?h.convert(q,C):null)})},function(w){w?a(w):a()})})},u.prototype.rename=function(a,h,p){var g=this;this._client.move(a,h,function(w){w?g._client.stat(h,function(N,C){if(N||C.isFolder){var q=w.response.error.indexOf(a)>-1?a:h;p(g.convert(w,q))}else g._client.remove(h,function(Q){Q?p(g.convert(Q,h)):g.rename(a,h,p)})}):p()})},u.prototype.stat=function(a,h,p){var g=this;this._client.stat(a,function(w,N){if(w)p(g.convert(w,a));else{if(!N||!N.isRemoved){var C=new T(g._statType(N),N.size);return p(null,C)}p(y.FileError(l.ENOENT,a))}})},u.prototype.open=function(a,h,p,g){var w=this;this._client.readFile(a,function(N,C,q){if(!N){var Q;Q=C===null?Ee():ne(C);var ce=w._makeFile(a,h,q,Q);return g(null,ce)}if(!h.isReadable()){if(N.status===Dropbox.ApiError.NOT_FOUND){var de=new ArrayBuffer(0);return w._writeFileStrict(a,de,function(ge,ve){if(ge)g(ge);else{var Te=w._makeFile(a,h,ve,ne(de));g(null,Te)}})}return g(w.convert(N,a))}g(w.convert(N,a))})},u.prototype._writeFileStrict=function(a,h,p){var g=this,w=d.dirname(a);this.stat(w,!1,function(N,C){N?p(y.FileError(l.ENOENT,w)):g._client.writeFile(a,h,function(q,Q){q?p(g.convert(q,a)):p(null,Q)})})},u.prototype._statType=function(a){return a.isFile?O.FILE:O.DIRECTORY},u.prototype._makeFile=function(a,h,p,g){var w=this._statType(p),N=new T(w,p.size);return new Ub(this,a,h,N,g)},u.prototype._remove=function(a,h,p){var g=this;this._client.stat(a,function(w,N){w?h(g.convert(w,a)):N.isFile&&!p?h(y.FileError(l.ENOTDIR,a)):!N.isFile&&p?h(y.FileError(l.EISDIR,a)):g._client.remove(a,function(C){h(C?g.convert(C,a):null)})})},u.prototype.unlink=function(a,h){this._remove(a,h,!0)},u.prototype.rmdir=function(a,h){this._remove(a,h,!1)},u.prototype.mkdir=function(a,h,p){var g=this,w=d.dirname(a);this._client.stat(w,function(N,C){N?p(g.convert(N,w)):g._client.mkdir(a,function(q){p(q?y.FileError(l.EEXIST,a):null)})})},u.prototype.readdir=function(a,h){var p=this;this._client.readdir(a,function(g,w){return g?h(p.convert(g)):h(null,w)})},u.prototype.convert=function(a,h){h===void 0&&(h=null);var p=Er[a.status];return p===void 0&&(p=l.EIO),h?y.FileError(p,h):new y(p)},u}(J);function lt(c,u){u===void 0&&(u="");for(var a=c.errno,h=c.node,p=[];h&&(p.unshift(h.name),h!==h.parent);)h=h.parent;return new y(a,m[a],p.length>0?"/"+p.join("/"):u)}dl.Name="Dropbox",dl.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(c,u){c.isAuthenticated&&c.isAuthenticated()?u():u(new y(l.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};var zb=function(c){function u(a,h,p,g){c.call(this),this._fs=a,this._FS=h,this._path=p,this._stream=g}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getPos=function(){},u.prototype.close=function(a){var h=null;try{this.closeSync()}catch(p){h=p}finally{a(h)}},u.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(a){throw lt(a,this._path)}},u.prototype.stat=function(a){try{a(null,this.statSync())}catch(h){a(h)}},u.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(a){throw lt(a,this._path)}},u.prototype.truncate=function(a,h){var p=null;try{this.truncateSync(a)}catch(g){p=g}finally{h(p)}},u.prototype.truncateSync=function(a){try{this._FS.ftruncate(this._stream.fd,a)}catch(h){throw lt(h,this._path)}},u.prototype.write=function(a,h,p,g,w){try{w(null,this.writeSync(a,h,p,g),a)}catch(N){w(N)}},u.prototype.writeSync=function(a,h,p,g){try{var w=G(a),N=g===null?void 0:g;return this._FS.write(this._stream,w,h,p,N)}catch(C){throw lt(C,this._path)}},u.prototype.read=function(a,h,p,g,w){try{w(null,this.readSync(a,h,p,g),a)}catch(N){w(N)}},u.prototype.readSync=function(a,h,p,g){try{var w=G(a),N=g===null?void 0:g;return this._FS.read(this._stream,w,h,p,N)}catch(C){throw lt(C,this._path)}},u.prototype.sync=function(a){a()},u.prototype.syncSync=function(){},u.prototype.chown=function(a,h,p){var g=null;try{this.chownSync(a,h)}catch(w){g=w}finally{p(g)}},u.prototype.chownSync=function(a,h){try{this._FS.fchown(this._stream.fd,a,h)}catch(p){throw lt(p,this._path)}},u.prototype.chmod=function(a,h){var p=null;try{this.chmodSync(a)}catch(g){p=g}finally{h(p)}},u.prototype.chmodSync=function(a){try{this._FS.fchmod(this._stream.fd,a)}catch(h){throw lt(h,this._path)}},u.prototype.utimes=function(a,h,p){var g=null;try{this.utimesSync(a,h)}catch(w){g=w}finally{p(g)}},u.prototype.utimesSync=function(a,h){this._fs.utimesSync(this._path,a,h)},u}(F),pl=function(c){function u(a){c.call(this),this._FS=a}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){h(null,new u(a.FS))},u.isAvailable=function(){return!0},u.prototype.getName=function(){return this._FS.DB_NAME()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!0},u.prototype.supportsProps=function(){return!0},u.prototype.supportsSynch=function(){return!0},u.prototype.renameSync=function(a,h){try{this._FS.rename(a,h)}catch(p){throw p.errno===l.ENOENT?lt(p,this.existsSync(a)?h:a):lt(p)}},u.prototype.statSync=function(a,h){try{var p=h?this._FS.lstat(a):this._FS.stat(a),g=this.modeToFileType(p.mode);return new T(g,p.size,p.mode,p.atime,p.mtime,p.ctime)}catch(w){throw lt(w,a)}},u.prototype.openSync=function(a,h,p){try{var g=this._FS.open(a,h.getFlagString(),p);if(this._FS.isDir(g.node.mode))throw this._FS.close(g),y.EISDIR(a);return new zb(this,this._FS,a,g)}catch(w){throw lt(w,a)}},u.prototype.unlinkSync=function(a){try{this._FS.unlink(a)}catch(h){throw lt(h,a)}},u.prototype.rmdirSync=function(a){try{this._FS.rmdir(a)}catch(h){throw lt(h,a)}},u.prototype.mkdirSync=function(a,h){try{this._FS.mkdir(a,h)}catch(p){throw lt(p,a)}},u.prototype.readdirSync=function(a){try{return this._FS.readdir(a).filter(function(h){return h!=="."&&h!==".."})}catch(h){throw lt(h,a)}},u.prototype.truncateSync=function(a,h){try{this._FS.truncate(a,h)}catch(p){throw lt(p,a)}},u.prototype.readFileSync=function(a,h,p){try{var g=oe(this._FS.readFile(a,{flags:p.getFlagString()}));return h?g.toString(h):g}catch(w){throw lt(w,a)}},u.prototype.writeFileSync=function(a,h,p,g,w){try{p&&(h=n.from(h,p));var N=G(h);this._FS.writeFile(a,N,{flags:g.getFlagString(),encoding:"binary"}),this._FS.chmod(a,w)}catch(C){throw lt(C,a)}},u.prototype.chmodSync=function(a,h,p){try{h?this._FS.lchmod(a,p):this._FS.chmod(a,p)}catch(g){throw lt(g,a)}},u.prototype.chownSync=function(a,h,p,g){try{h?this._FS.lchown(a,p,g):this._FS.chown(a,p,g)}catch(w){throw lt(w,a)}},u.prototype.symlinkSync=function(a,h,p){try{this._FS.symlink(a,h)}catch(g){throw lt(g)}},u.prototype.readlinkSync=function(a){try{return this._FS.readlink(a)}catch(h){throw lt(h,a)}},u.prototype.utimesSync=function(a,h,p){try{this._FS.utime(a,h.getTime(),p.getTime())}catch(g){throw lt(g,a)}},u.prototype.modeToFileType=function(a){if(this._FS.isDir(a))return O.DIRECTORY;if(this._FS.isFile(a))return O.FILE;if(this._FS.isLink(a))return O.SYMLINK;throw y.EPERM("Invalid mode: "+a)},u}(_e);pl.Name="EmscriptenFileSystem",pl.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var yo=function(c){function u(a,h){c.call(this),this._folder=a,this._wrapped=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){h(null,new u(a.folder,a.wrapped))},u.isAvailable=function(){return!0},u.prototype.initialize=function(a){var h=this;this._wrapped.exists(this._folder,function(p){p?a():h._wrapped.isReadOnly()?a(y.ENOENT(h._folder)):h._wrapped.mkdir(h._folder,511,a)})},u.prototype.getName=function(){return this._wrapped.getName()},u.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},u.prototype.supportsProps=function(){return this._wrapped.supportsProps()},u.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u}(J);function Cy(c,u){if(u!==null&&typeof u=="object"){var a=u,h=a.path;h&&(h="/"+d.relative(c,h),a.message=a.message.replace(a.path,h),a.path=h)}return u}function Vb(c,u){return typeof u=="function"?function(a){arguments.length>0&&(arguments[0]=Cy(c,a)),u.apply(null,arguments)}:u}function Ly(c,u,a){return c.slice(c.length-4)!=="Sync"?function(){return arguments.length>0&&(u&&(arguments[0]=d.join(this._folder,arguments[0])),a&&(arguments[1]=d.join(this._folder,arguments[1])),arguments[arguments.length-1]=Vb(this._folder,arguments[arguments.length-1])),this._wrapped[c].apply(this._wrapped,arguments)}:function(){try{return u&&(arguments[0]=d.join(this._folder,arguments[0])),a&&(arguments[1]=d.join(this._folder,arguments[1])),this._wrapped[c].apply(this._wrapped,arguments)}catch(h){throw Cy(this._folder,h)}}}yo.Name="FolderAdapter",yo.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}},["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(c){yo.prototype[c]=Ly(c,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(c){yo.prototype[c]=Ly(c,!0,!0)});var bt=typeof window<"u"?window:typeof self<"u"?self:i,Rf=bt.webkitRequestFileSystem||bt.requestFileSystem||null;function fn(c,u,a){switch(c.name){case"PathExistsError":return y.EEXIST(u);case"QuotaExceededError":return y.FileError(l.ENOSPC,u);case"NotFoundError":return y.ENOENT(u);case"SecurityError":return y.FileError(l.EACCES,u);case"InvalidModificationError":return y.FileError(l.EPERM,u);case"TypeMismatchError":return y.FileError(a?l.ENOTDIR:l.EISDIR,u);default:return y.FileError(l.EINVAL,u)}}var Wb=function(c){function u(a,h,p,g,w,N){c.call(this,a,p,g,w,N),this._entry=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(a){var h=this;if(!this.isDirty())return a();this._entry.createWriter(function(p){var g=h.getBuffer(),w=new Blob([z(g)]),N=w.size;p.onwriteend=function(C){p.onwriteend=null,p.onerror=null,p.truncate(N),h.resetDirty(),a()},p.onerror=function(C){a(fn(C,h.getPath(),!1))},p.write(w)})},u.prototype.close=function(a){this.sync(a)},u}(E),yl=function(c){function u(a,h,p){a===void 0&&(a=5),h===void 0&&(h=bt.PERSISTENT),p===void 0&&(p=!0),c.call(this),this.size=1048576*a,this.type=h,ye(p,u.Name,{size:a,type:h})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){var p=new u(a.size,a.type,!1);p.allocate(function(g){return g?h(g):h(null,p)},!1)},u.isAvailable=function(){return!!Rf},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.allocate=function(a,h){var p=this;a===void 0&&(a=function(){}),h===void 0&&(h=!0),h&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var g=function(N){p.fs=N,a()},w=function(N){a(fn(N,"/",!0))};this.type===bt.PERSISTENT?function(N,C,q,Q){if(navigator.webkitPersistentStorage!==void 0)switch(N){case bt.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(C,q,Q);break;case bt.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(C,q,Q);break;default:Q(new TypeError("Invalid storage type: "+N))}else bt.webkitStorageInfo.requestQuota(N,C,q,Q)}(this.type,this.size,function(N){Rf(p.type,N,g,w)},w):Rf(this.type,this.size,g,w)},u.prototype.empty=function(a){this._readdir("/",function(h,p){h?(console.error("Failed to empty FS"),a(h)):Fy(p,function(g,w){var N=function(){w()},C=function(q){w(fn(q,g.fullPath,!g.isDirectory))};(function(q){return q.isDirectory})(g)?g.removeRecursively(N,C):g.remove(N,C)},function(g){h?(console.error("Failed to empty FS"),a(h)):a()})})},u.prototype.rename=function(a,h,p){var g=this,w=2,N=0,C=this.fs.root,q=a,Q=function(de){--w<=0&&p(fn(de,q,!1))},ce=function(de){return++N==2?p(new y(l.EINVAL,"Something was identified as both a file and a directory. This should never happen.")):a===h?p():(q=d.dirname(h),void C.getDirectory(q,{},function(ge){q=d.basename(h),de.moveTo(ge,q,function(ve){p()},function(ve){de.isDirectory?(q=h,g.unlink(h,function(Te){Te?Q(ve):g.rename(a,h,p)})):Q(ve)})},Q))};C.getFile(a,{},ce,Q),C.getDirectory(a,{},ce,Q)},u.prototype.stat=function(a,h,p){var g=this,w={create:!1},N=function(q){var Q=new T(O.DIRECTORY,4096);p(null,Q)},C=function(q){p(fn(q,a,!1))};this.fs.root.getFile(a,w,function(q){q.file(function(Q){var ce=new T(O.FILE,Q.size);p(null,ce)},C)},function(){g.fs.root.getDirectory(a,w,N,C)})},u.prototype.open=function(a,h,p,g){var w=this,N=function(C){C.name==="InvalidModificationError"&&h.isExclusive()?g(y.EEXIST(a)):g(fn(C,a,!1))};this.fs.root.getFile(a,{create:h.pathNotExistsAction()===v.CREATE_FILE,exclusive:h.isExclusive()},function(C){C.file(function(q){var Q=new FileReader;Q.onloadend=function(ce){var de=w._makeFile(a,C,h,q,Q.result);g(null,de)},Q.onerror=function(ce){N(Q.error)},Q.readAsArrayBuffer(q)},N)},N)},u.prototype.unlink=function(a,h){this._remove(a,h,!0)},u.prototype.rmdir=function(a,h){var p=this;this.readdir(a,function(g,w){g?h(g):w.length>0?h(y.ENOTEMPTY(a)):p._remove(a,h,!1)})},u.prototype.mkdir=function(a,h,p){this.fs.root.getDirectory(a,{create:!0,exclusive:!0},function(g){p()},function(g){p(fn(g,a,!0))})},u.prototype.readdir=function(a,h){this._readdir(a,function(p,g){if(!g)return h(p);for(var w=[],N=0,C=g;N<C.length;N+=1){var q=C[N];w.push(q.name)}h(null,w)})},u.prototype._makeFile=function(a,h,p,g,w){w===void 0&&(w=new ArrayBuffer(0));var N=new T(O.FILE,g.size),C=ne(w);return new Wb(this,h,a,p,N,C)},u.prototype._readdir=function(a,h){var p=function(g){h(fn(g,a,!0))};this.fs.root.getDirectory(a,{create:!1},function(g){var w=g.createReader(),N=[],C=function(){w.readEntries(function(q){q.length?(N=N.concat(function(Q){return Array.prototype.slice.call(Q||[],0)}(q)),C()):h(null,N)},p)};C()},p)},u.prototype._remove=function(a,h,p){var g=function(C){C.remove(function(){h()},function(q){h(fn(q,a,!p))})},w=function(C){h(fn(C,a,!p))},N={create:!1};p?this.fs.root.getFile(a,N,g,w):this.fs.root.getDirectory(a,N,g,w)},u}(J);yl.Name="HTML5FS",yl.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var lr=function(c,u,a,h,p,g){this.id=c,this.size=u,this.mode=a,this.atime=h,this.mtime=p,this.ctime=g};lr.fromBuffer=function(c){if(c===void 0)throw new Error("NO");return new lr(c.toString("ascii",30),c.readUInt32LE(0),c.readUInt16LE(4),c.readDoubleLE(6),c.readDoubleLE(14),c.readDoubleLE(22))},lr.prototype.toStats=function(){return new T((61440&this.mode)===O.DIRECTORY?O.DIRECTORY:O.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},lr.prototype.getSize=function(){return 30+this.id.length},lr.prototype.toBuffer=function(c){return c===void 0&&(c=n.alloc(this.getSize())),c.writeUInt32LE(this.size,0),c.writeUInt16LE(this.mode,4),c.writeDoubleLE(this.atime,6),c.writeDoubleLE(this.mtime,14),c.writeDoubleLE(this.ctime,22),c.write(this.id,30,this.id.length,"ascii"),c},lr.prototype.update=function(c){var u=!1;this.size!==c.size&&(this.size=c.size,u=!0),this.mode!==c.mode&&(this.mode=c.mode,u=!0);var a=c.atime.getTime();this.atime!==a&&(this.atime=a,u=!0);var h=c.mtime.getTime();this.mtime!==h&&(this.mtime=h,u=!0);var p=c.ctime.getTime();return this.ctime!==p&&(this.ctime=p,u=!0),u},lr.prototype.isFile=function(){return(61440&this.mode)===O.FILE},lr.prototype.isDirectory=function(){return(61440&this.mode)===O.DIRECTORY};var jn="/",Py=null;function My(){return Py||(Py=n.from("{}"))}function ml(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var u=16*Math.random()|0;return(c==="x"?u:3&u|8).toString(16)})}function br(c,u){return!c||(u(c),!1)}function It(c,u,a){return!c||(u.abort(function(){a(c)}),!1)}var On=function(c){this.store=c,this.originalData={},this.modifiedKeys=[]};On.prototype.get=function(c){var u=this.store.get(c);return this.stashOldValue(c,u),u},On.prototype.put=function(c,u,a){return this.markModified(c),this.store.put(c,u,a)},On.prototype.del=function(c){this.markModified(c),this.store.del(c)},On.prototype.commit=function(){},On.prototype.abort=function(){for(var c=this,u=0,a=c.modifiedKeys;u<a.length;u+=1){var h=a[u],p=c.originalData[h];p?c.store.put(h,p,!0):c.store.del(h)}},On.prototype.stashOldValue=function(c,u){this.originalData.hasOwnProperty(c)||(this.originalData[c]=u)},On.prototype.markModified=function(c){this.modifiedKeys.indexOf(c)===-1&&(this.modifiedKeys.push(c),this.originalData.hasOwnProperty(c)||(this.originalData[c]=this.store.get(c)))};var jy=function(c){function u(a,h,p,g,w){c.call(this,a,h,p,g,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(E),By=function(c){function u(a){c.call(this),this.store=a.store,this.makeRootDirectory()}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},u.prototype.renameSync=function(a,h){var p=this.store.beginTransaction("readwrite"),g=d.dirname(a),w=d.basename(a),N=d.dirname(h),C=d.basename(h),q=this.findINode(p,g),Q=this.getDirListing(p,g,q);if(!Q[w])throw y.ENOENT(a);var ce,de,ge=Q[w];if(delete Q[w],(N+"/").indexOf(a+"/")===0)throw new y(l.EBUSY,g);if(N===g?(ce=q,de=Q):(ce=this.findINode(p,N),de=this.getDirListing(p,N,ce)),de[C]){var ve=this.getINode(p,h,de[C]);if(!ve.isFile())throw y.EPERM(h);try{p.del(ve.id),p.del(de[C])}catch(Te){throw p.abort(),Te}}de[C]=ge;try{p.put(q.id,n.from(JSON.stringify(Q)),!0),p.put(ce.id,n.from(JSON.stringify(de)),!0)}catch(Te){throw p.abort(),Te}p.commit()},u.prototype.statSync=function(a,h){return this.findINode(this.store.beginTransaction("readonly"),a).toStats()},u.prototype.createFileSync=function(a,h,p){var g=this.store.beginTransaction("readwrite"),w=Ee(),N=this.commitNewFile(g,a,O.FILE,p,w);return new jy(this,a,h,N.toStats(),w)},u.prototype.openFileSync=function(a,h){var p=this.store.beginTransaction("readonly"),g=this.findINode(p,a),w=p.get(g.id);if(w===void 0)throw y.ENOENT(a);return new jy(this,a,h,g.toStats(),w)},u.prototype.unlinkSync=function(a){this.removeEntry(a,!1)},u.prototype.rmdirSync=function(a){if(this.readdirSync(a).length>0)throw y.ENOTEMPTY(a);this.removeEntry(a,!0)},u.prototype.mkdirSync=function(a,h){var p=this.store.beginTransaction("readwrite"),g=n.from("{}");this.commitNewFile(p,a,O.DIRECTORY,h,g)},u.prototype.readdirSync=function(a){var h=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(h,a,this.findINode(h,a)))},u.prototype._syncSync=function(a,h,p){var g=this.store.beginTransaction("readwrite"),w=this._findINode(g,d.dirname(a),d.basename(a)),N=this.getINode(g,a,w),C=N.update(p);try{g.put(N.id,h,!0),C&&g.put(w,N.toBuffer(),!0)}catch(q){throw g.abort(),q}g.commit()},u.prototype.makeRootDirectory=function(){var a=this.store.beginTransaction("readwrite");if(a.get(jn)===void 0){var h=new Date().getTime(),p=new lr(ml(),4096,511|O.DIRECTORY,h,h,h);a.put(p.id,My(),!1),a.put(jn,p.toBuffer(),!1),a.commit()}},u.prototype._findINode=function(a,h,p){var g=this,w=function(N){var C=g.getDirListing(a,h,N);if(C[p])return C[p];throw y.ENOENT(d.resolve(h,p))};return h==="/"?p===""?jn:w(this.getINode(a,h,jn)):w(this.getINode(a,h+d.sep+p,this._findINode(a,d.dirname(h),d.basename(h))))},u.prototype.findINode=function(a,h){return this.getINode(a,h,this._findINode(a,d.dirname(h),d.basename(h)))},u.prototype.getINode=function(a,h,p){var g=a.get(p);if(g===void 0)throw y.ENOENT(h);return lr.fromBuffer(g)},u.prototype.getDirListing=function(a,h,p){if(!p.isDirectory())throw y.ENOTDIR(h);var g=a.get(p.id);if(g===void 0)throw y.ENOENT(h);return JSON.parse(g.toString())},u.prototype.addNewNode=function(a,h){for(var p;;)try{return p=ml(),a.put(p,h,!1),p}catch{}throw new y(l.EIO,"Unable to commit data to key-value store.")},u.prototype.commitNewFile=function(a,h,p,g,w){var N,C=d.dirname(h),q=d.basename(h),Q=this.findINode(a,C),ce=this.getDirListing(a,C,Q),de=new Date().getTime();if(h==="/"||ce[q])throw y.EEXIST(h);try{var ge=this.addNewNode(a,w);N=new lr(ge,w.length,g|p,de,de,de);var ve=this.addNewNode(a,N.toBuffer());ce[q]=ve,a.put(Q.id,n.from(JSON.stringify(ce)),!0)}catch(Te){throw a.abort(),Te}return a.commit(),N},u.prototype.removeEntry=function(a,h){var p=this.store.beginTransaction("readwrite"),g=d.dirname(a),w=this.findINode(p,g),N=this.getDirListing(p,g,w),C=d.basename(a);if(!N[C])throw y.ENOENT(a);var q=N[C];delete N[C];var Q=this.getINode(p,a,q);if(!h&&Q.isDirectory())throw y.EISDIR(a);if(h&&!Q.isDirectory())throw y.ENOTDIR(a);try{p.del(Q.id),p.del(q),p.put(w.id,n.from(JSON.stringify(N)),!0)}catch(ce){throw p.abort(),ce}p.commit()},u}(_e),Uy=function(c){function u(a,h,p,g,w){c.call(this,a,h,p,g,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(a){var h=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(p){p||h.resetDirty(),a(p)}):a()},u.prototype.close=function(a){this.sync(a)},u}(E),qb=function(c){function u(){c.apply(this,arguments)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.init=function(a,h){this.store=a,this.makeRootDirectory(h)},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(a){var h=this;this.store.clear(function(p){br(p,a)&&h.makeRootDirectory(a)})},u.prototype.rename=function(a,h,p){var g=this,w=this.store.beginTransaction("readwrite"),N=d.dirname(a),C=d.basename(a),q=d.dirname(h),Q=d.basename(h),ce={},de={},ge=!1;if((q+"/").indexOf(a+"/")===0)return p(new y(l.EBUSY,N));var ve=function(Te){g.findINodeAndDirListing(w,Te,function(Be,Ot,Kr){Be?ge||(ge=!0,w.abort(function(){p(Be)})):(ce[Te]=Ot,de[Te]=Kr,function(){if(!ge&&de.hasOwnProperty(N)&&de.hasOwnProperty(q)){var kr=de[N],Eo=ce[N],fr=de[q],Wf=ce[q];if(kr[C]){var Di=kr[C];delete kr[C];var Fi=function(){fr[Q]=Di,w.put(Eo.id,n.from(JSON.stringify(kr)),!0,function(qf){It(qf,w,p)&&(N===q?w.commit(p):w.put(Wf.id,n.from(JSON.stringify(fr)),!0,function(kl){It(kl,w,p)&&w.commit(p)}))})};fr[Q]?g.getINode(w,h,fr[Q],function(qf,kl){It(qf,w,p)&&(kl.isFile()?w.del(kl.id,function(Nm){It(Nm,w,p)&&w.del(fr[Q],function(i3){It(i3,w,p)&&Fi()})}):w.abort(function(Nm){p(y.EPERM(h))}))}):Fi()}else p(y.ENOENT(a))}}())})};ve(N),N!==q&&ve(q)},u.prototype.stat=function(a,h,p){var g=this.store.beginTransaction("readonly");this.findINode(g,a,function(w,N){br(w,p)&&p(null,N.toStats())})},u.prototype.createFile=function(a,h,p,g){var w=this,N=this.store.beginTransaction("readwrite"),C=Ee();this.commitNewFile(N,a,O.FILE,p,C,function(q,Q){br(q,g)&&g(null,new Uy(w,a,h,Q.toStats(),C))})},u.prototype.openFile=function(a,h,p){var g=this,w=this.store.beginTransaction("readonly");this.findINode(w,a,function(N,C){br(N,p)&&w.get(C.id,function(q,Q){br(q,p)&&(Q===void 0?p(y.ENOENT(a)):p(null,new Uy(g,a,h,C.toStats(),Q)))})})},u.prototype.unlink=function(a,h){this.removeEntry(a,!1,h)},u.prototype.rmdir=function(a,h){var p=this;this.readdir(a,function(g,w){g?h(g):w.length>0?h(y.ENOTEMPTY(a)):p.removeEntry(a,!0,h)})},u.prototype.mkdir=function(a,h,p){var g=this.store.beginTransaction("readwrite"),w=n.from("{}");this.commitNewFile(g,a,O.DIRECTORY,h,w,p)},u.prototype.readdir=function(a,h){var p=this,g=this.store.beginTransaction("readonly");this.findINode(g,a,function(w,N){br(w,h)&&p.getDirListing(g,a,N,function(C,q){br(C,h)&&h(null,Object.keys(q))})})},u.prototype._sync=function(a,h,p,g){var w=this,N=this.store.beginTransaction("readwrite");this._findINode(N,d.dirname(a),d.basename(a),function(C,q){It(C,N,g)&&w.getINode(N,a,q,function(Q,ce){if(It(Q,N,g)){var de=ce.update(p);N.put(ce.id,h,!0,function(ge){It(ge,N,g)&&(de?N.put(q,ce.toBuffer(),!0,function(ve){It(ve,N,g)&&N.commit(g)}):N.commit(g))})}})})},u.prototype.makeRootDirectory=function(a){var h=this.store.beginTransaction("readwrite");h.get(jn,function(p,g){if(p||g===void 0){var w=new Date().getTime(),N=new lr(ml(),4096,511|O.DIRECTORY,w,w,w);h.put(N.id,My(),!1,function(C){It(C,h,a)&&h.put(jn,N.toBuffer(),!1,function(q){q?h.abort(function(){a(q)}):h.commit(a)})})}else h.commit(a)})},u.prototype._findINode=function(a,h,p,g){var w=this,N=function(C,q,Q){C?g(C):Q[p]?g(null,Q[p]):g(y.ENOENT(d.resolve(h,p)))};h==="/"?p===""?g(null,jn):this.getINode(a,h,jn,function(C,q){br(C,g)&&w.getDirListing(a,h,q,function(Q,ce){N(Q,0,ce)})}):this.findINodeAndDirListing(a,h,N)},u.prototype.findINode=function(a,h,p){var g=this;this._findINode(a,d.dirname(h),d.basename(h),function(w,N){br(w,p)&&g.getINode(a,h,N,p)})},u.prototype.getINode=function(a,h,p,g){a.get(p,function(w,N){br(w,g)&&(N===void 0?g(y.ENOENT(h)):g(null,lr.fromBuffer(N)))})},u.prototype.getDirListing=function(a,h,p,g){p.isDirectory()?a.get(p.id,function(w,N){if(br(w,g))try{g(null,JSON.parse(N.toString()))}catch{g(y.ENOENT(h))}}):g(y.ENOTDIR(h))},u.prototype.findINodeAndDirListing=function(a,h,p){var g=this;this.findINode(a,h,function(w,N){br(w,p)&&g.getDirListing(a,h,N,function(C,q){br(C,p)&&p(null,N,q)})})},u.prototype.addNewNode=function(a,h,p){var g,w=0,N=function(){++w==5?p(new y(l.EIO,"Unable to commit data to key-value store.")):(g=ml(),a.put(g,h,!1,function(C,q){C||!q?N():p(null,g)}))};N()},u.prototype.commitNewFile=function(a,h,p,g,w,N){var C=this,q=d.dirname(h),Q=d.basename(h),ce=new Date().getTime();if(h==="/")return N(y.EEXIST(h));this.findINodeAndDirListing(a,q,function(de,ge,ve){It(de,a,N)&&(ve[Q]?a.abort(function(){N(y.EEXIST(h))}):C.addNewNode(a,w,function(Te,Be){if(It(Te,a,N)){var Ot=new lr(Be,w.length,g|p,ce,ce,ce);C.addNewNode(a,Ot.toBuffer(),function(Kr,kr){It(Kr,a,N)&&(ve[Q]=kr,a.put(ge.id,n.from(JSON.stringify(ve)),!0,function(Eo){It(Eo,a,N)&&a.commit(function(fr){It(fr,a,N)&&N(null,Ot)})}))})}}))})},u.prototype.removeEntry=function(a,h,p){var g=this,w=this.store.beginTransaction("readwrite"),N=d.dirname(a),C=d.basename(a);this.findINodeAndDirListing(w,N,function(q,Q,ce){if(It(q,w,p))if(ce[C]){var de=ce[C];delete ce[C],g.getINode(w,a,de,function(ge,ve){It(ge,w,p)&&(!h&&ve.isDirectory()?w.abort(function(){p(y.EISDIR(a))}):h&&!ve.isDirectory()?w.abort(function(){p(y.ENOTDIR(a))}):w.del(ve.id,function(Te){It(Te,w,p)&&w.del(de,function(Be){It(Be,w,p)&&w.put(Q.id,n.from(JSON.stringify(ce)),!0,function(Ot){It(Ot,w,p)&&w.commit(p)})})}))})}else w.abort(function(){p(y.ENOENT(a))})})},u}(J),Oi=function(){this.store={}};Oi.prototype.name=function(){return mo.Name},Oi.prototype.clear=function(){this.store={}},Oi.prototype.beginTransaction=function(c){return new On(this)},Oi.prototype.get=function(c){return this.store[c]},Oi.prototype.put=function(c,u,a){return!(!a&&this.store.hasOwnProperty(c)||(this.store[c]=u,0))},Oi.prototype.del=function(c){delete this.store[c]};var mo=function(c){function u(){c.call(this,{store:new Oi})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){h(null,new u)},u}(By);mo.Name="InMemory",mo.Options={};var Df=bt.indexedDB||bt.mozIndexedDB||bt.webkitIndexedDB||bt.msIndexedDB;function Os(c,u){switch(u===void 0&&(u=c.toString()),c.name){case"NotFoundError":return new y(l.ENOENT,u);case"QuotaExceededError":return new y(l.ENOSPC,u);default:return new y(l.EIO,u)}}function ks(c,u,a){return u===void 0&&(u=l.EIO),a===void 0&&(a=null),function(h){h.preventDefault(),c(new y(u,a!==null?a:void 0))}}var Ff=function(c,u){this.tx=c,this.store=u};Ff.prototype.get=function(c,u){try{var a=this.store.get(c);a.onerror=ks(u),a.onsuccess=function(h){var p=h.target.result;u(null,p===void 0?p:ne(p))}}catch(h){u(Os(h))}};var $b=function(c){function u(a,h){c.call(this,a,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.put=function(a,h,p,g){try{var w,N=z(h);(w=p?this.store.put(N,a):this.store.add(N,a)).onerror=ks(g),w.onsuccess=function(C){g(null,!0)}}catch(C){g(Os(C))}},u.prototype.del=function(a,h){try{var p=this.store.delete(a);p.onerror=ks(h),p.onsuccess=function(g){h()}}catch(g){h(Os(g))}},u.prototype.commit=function(a){setTimeout(a,0)},u.prototype.abort=function(a){var h=null;try{this.tx.abort()}catch(p){h=Os(p)}finally{a(h)}},u}(Ff),gl=function(c,u){var a=this;u===void 0&&(u="browserfs"),this.storeName=u;var h=Df.open(this.storeName,1);h.onupgradeneeded=function(p){var g=p.target.result;g.objectStoreNames.contains(a.storeName)&&g.deleteObjectStore(a.storeName),g.createObjectStore(a.storeName)},h.onsuccess=function(p){a.db=p.target.result,c(null,a)},h.onerror=ks(c,l.EACCES)};gl.prototype.name=function(){return Ts.Name+" - "+this.storeName},gl.prototype.clear=function(c){try{var u=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();u.onsuccess=function(a){setTimeout(c,0)},u.onerror=ks(c)}catch(a){c(Os(a))}},gl.prototype.beginTransaction=function(c){c===void 0&&(c="readonly");var u=this.db.transaction(this.storeName,c),a=u.objectStore(this.storeName);if(c==="readwrite")return new $b(u,a);if(c==="readonly")return new Ff(u,a);throw new y(l.EINVAL,"Invalid transaction type.")};var Ts=function(c){function u(a,h,p){var g=this;p===void 0&&(p=!0),c.call(this),this.store=new gl(function(w){w?a(w):g.init(g.store,function(N){a(N,g)})},h),ye(p,u.Name,{storeName:h})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){new u(h,a.storeName,!1)},u.isAvailable=function(){try{return Df!==void 0&&Df.open("__browserfs_test__")!==null}catch{return!1}},u}(qb);Ts.Name="IndexedDB",Ts.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var Ns,Cf=!1;try{bt.localStorage.setItem("__test__",String.fromCharCode(55296)),Cf=bt.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{Cf=!1}Ns=Cf?"binary_string":"binary_string_ie",n.isEncoding(Ns)||(Ns="base64");var ki=function(){};ki.prototype.name=function(){return Is.Name},ki.prototype.clear=function(){bt.localStorage.clear()},ki.prototype.beginTransaction=function(c){return new On(this)},ki.prototype.get=function(c){try{var u=bt.localStorage.getItem(c);if(u!==null)return n.from(u,Ns)}catch{}},ki.prototype.put=function(c,u,a){try{return!(!a&&bt.localStorage.getItem(c)!==null||(bt.localStorage.setItem(c,u.toString(Ns)),0))}catch{throw new y(l.ENOSPC,"LocalStorage is full.")}},ki.prototype.del=function(c){try{bt.localStorage.removeItem(c)}catch(u){throw new y(l.EIO,"Unable to delete key "+c+": "+u)}};var Is=function(c){function u(){c.call(this,{store:new ki})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){h(null,new u)},u.isAvailable=function(){return bt.localStorage!==void 0},u}(By);Is.Name="LocalStorage",Is.Options={};var go=function(c){function u(){c.call(this),this.mountList=[],this.mntMap={},this.rootFs=new mo}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){var p=new u;Object.keys(a).forEach(function(g){p.mount(g,a[g])}),h(null,p)},u.isAvailable=function(){return!0},u.prototype.mount=function(a,h){if(a[0]!=="/"&&(a="/"+a),a=d.resolve(a),this.mntMap[a])throw new y(l.EINVAL,"Mount point "+a+" is already taken.");U(a,511,this.rootFs),this.mntMap[a]=h,this.mountList.push(a),this.mountList=this.mountList.sort(function(p,g){return g.length-p.length})},u.prototype.umount=function(a){if(a[0]!=="/"&&(a="/"+a),a=d.resolve(a),!this.mntMap[a])throw new y(l.EINVAL,"Mount point "+a+" is already unmounted.");for(delete this.mntMap[a],this.mountList.splice(this.mountList.indexOf(a),1);a!=="/"&&this.rootFs.readdirSync(a).length===0;)this.rootFs.rmdirSync(a),a=d.dirname(a)},u.prototype._getFs=function(a){for(var h=this.mountList,p=h.length,g=0;g<p;g++){var w=h[g];if(w.length<=a.length&&a.indexOf(w)===0)return(a=a.substr(w.length>1?w.length:0))===""&&(a="/"),{fs:this.mntMap[w],path:a}}return{fs:this.rootFs,path:a}},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(a,h){h(0,0)},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.standardizeError=function(a,h,p){var g=a.message.indexOf(h);return g!==-1&&(a.message=a.message.substr(0,g)+p+a.message.substr(g+h.length),a.path=p),a},u.prototype.rename=function(a,h,p){var g=this,w=this._getFs(a),N=this._getFs(h);return w.fs===N.fs?w.fs.rename(w.path,N.path,function(C){C&&g.standardizeError(g.standardizeError(C,w.path,a),N.path,h),p(C)}):re.readFile(a,function(C,q){if(C)return p(C);re.writeFile(h,q,function(Q){if(Q)return p(Q);re.unlink(a,p)})})},u.prototype.renameSync=function(a,h){var p=this._getFs(a),g=this._getFs(h);if(p.fs===g.fs)try{return p.fs.renameSync(p.path,g.path)}catch(N){throw this.standardizeError(this.standardizeError(N,p.path,a),g.path,h),N}var w=re.readFileSync(a);return re.writeFileSync(h,w),re.unlinkSync(a)},u.prototype.readdirSync=function(a){var h=this._getFs(a),p=null;if(h.fs!==this.rootFs)try{p=this.rootFs.readdirSync(a)}catch{}try{var g=h.fs.readdirSync(h.path);return p===null?g:g.concat(p.filter(function(w){return g.indexOf(w)===-1}))}catch(w){if(p===null)throw this.standardizeError(w,h.path,a);return p}},u.prototype.readdir=function(a,h){var p=this,g=this._getFs(a);g.fs.readdir(g.path,function(w,N){if(g.fs!==p.rootFs)try{var C=p.rootFs.readdirSync(a);N=N?N.concat(C.filter(function(q){return N.indexOf(q)===-1})):C}catch{if(w)return h(p.standardizeError(w,g.path,a))}else if(w)return h(p.standardizeError(w,g.path,a));h(null,N)})},u.prototype.rmdirSync=function(a){var h=this._getFs(a);if(this._containsMountPt(a))throw y.ENOTEMPTY(a);try{h.fs.rmdirSync(h.path)}catch(p){throw this.standardizeError(p,h.path,a)}},u.prototype.rmdir=function(a,h){var p=this,g=this._getFs(a);this._containsMountPt(a)?h(y.ENOTEMPTY(a)):g.fs.rmdir(g.path,function(w){h(w?p.standardizeError(w,g.path,a):null)})},u.prototype._containsMountPt=function(a){for(var h=this.mountList,p=h.length,g=0;g<p;g++){var w=h[g];if(w.length>=a.length&&w.slice(0,a.length)===a)return!0}return!1},u}(J);function zy(c,u,a){return u?function(){for(var h=[],p=arguments.length;p--;)h[p]=arguments[p];var g=h[0],w=this._getFs(g);h[0]=w.path;try{return w.fs[c].apply(w.fs,h)}catch(N){throw this.standardizeError(N,w.path,g),N}}:function(){for(var h=this,p=[],g=arguments.length;g--;)p[g]=arguments[g];var w=p[0],N=this._getFs(w);if(p[0]=N.path,typeof p[p.length-1]=="function"){var C=p[p.length-1];p[p.length-1]=function(){for(var q=[],Q=arguments.length;Q--;)q[Q]=arguments[Q];q.length>0&&q[0]instanceof y&&h.standardizeError(q[0],N.path,w),C.apply(null,q)}}return N.fs[c].apply(N.fs,p)}}go.Name="MountableFileSystem",go.Options={};for(var As,Vy=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Lf=0;Lf<Vy.length;Lf++)for(var Pf=0,Wy=Vy[Lf];Pf<Wy.length;Pf+=1){var vl=Wy[Pf];go.prototype[vl]=zy(vl,!1),go.prototype[vl+"Sync"]=zy(vl+"Sync",!0)}if(typeof setImmediate<"u")As=setImmediate;else{var Lr=bt,vo=[],qy="zero-timeout-message";if(function(){if(Lr.importScripts!==void 0||!Lr.postMessage)return!1;var c=!0,u=Lr.onmessage;return Lr.onmessage=function(){c=!1},Lr.postMessage("","*"),Lr.onmessage=u,c}()){As=function(c){vo.push(c),Lr.postMessage(qy,"*")};var $y=function(c){if(c.source===self&&c.data===qy&&(c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,vo.length>0))return vo.shift()()};Lr.addEventListener?Lr.addEventListener("message",$y,!0):Lr.attachEvent("onmessage",$y)}else if(Lr.MessageChannel){var Hy=new Lr.MessageChannel;Hy.port1.onmessage=function(c){if(vo.length>0)return vo.shift()()},As=function(c){vo.push(c),Hy.port2.postMessage("")}}else As=function(c){return setTimeout(c,0)}}var Mf=As,Rs=function(){this._locked=!1,this._waiters=[]};Rs.prototype.lock=function(c){this._locked?this._waiters.push(c):(this._locked=!0,c())},Rs.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var c=this._waiters.shift();c?Mf(c):this._locked=!1},Rs.prototype.tryLock=function(){return!this._locked&&(this._locked=!0,!0)},Rs.prototype.isLocked=function(){return this._locked};var Ne=function(c){this._fs=c,this._mu=new Rs};Ne.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},Ne.prototype.getFSUnlocked=function(){return this._fs},Ne.prototype.initialize=function(c){this._fs.initialize(c)},Ne.prototype.diskSpace=function(c,u){this._fs.diskSpace(c,u)},Ne.prototype.isReadOnly=function(){return this._fs.isReadOnly()},Ne.prototype.supportsLinks=function(){return this._fs.supportsLinks()},Ne.prototype.supportsProps=function(){return this._fs.supportsProps()},Ne.prototype.supportsSynch=function(){return this._fs.supportsSynch()},Ne.prototype.rename=function(c,u,a){var h=this;this._mu.lock(function(){h._fs.rename(c,u,function(p){h._mu.unlock(),a(p)})})},Ne.prototype.renameSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(c,u)},Ne.prototype.stat=function(c,u,a){var h=this;this._mu.lock(function(){h._fs.stat(c,u,function(p,g){h._mu.unlock(),a(p,g)})})},Ne.prototype.statSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(c,u)},Ne.prototype.open=function(c,u,a,h){var p=this;this._mu.lock(function(){p._fs.open(c,u,a,function(g,w){p._mu.unlock(),h(g,w)})})},Ne.prototype.openSync=function(c,u,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(c,u,a)},Ne.prototype.unlink=function(c,u){var a=this;this._mu.lock(function(){a._fs.unlink(c,function(h){a._mu.unlock(),u(h)})})},Ne.prototype.unlinkSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(c)},Ne.prototype.rmdir=function(c,u){var a=this;this._mu.lock(function(){a._fs.rmdir(c,function(h){a._mu.unlock(),u(h)})})},Ne.prototype.rmdirSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(c)},Ne.prototype.mkdir=function(c,u,a){var h=this;this._mu.lock(function(){h._fs.mkdir(c,u,function(p){h._mu.unlock(),a(p)})})},Ne.prototype.mkdirSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(c,u)},Ne.prototype.readdir=function(c,u){var a=this;this._mu.lock(function(){a._fs.readdir(c,function(h,p){a._mu.unlock(),u(h,p)})})},Ne.prototype.readdirSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(c)},Ne.prototype.exists=function(c,u){var a=this;this._mu.lock(function(){a._fs.exists(c,function(h){a._mu.unlock(),u(h)})})},Ne.prototype.existsSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(c)},Ne.prototype.realpath=function(c,u,a){var h=this;this._mu.lock(function(){h._fs.realpath(c,u,function(p,g){h._mu.unlock(),a(p,g)})})},Ne.prototype.realpathSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(c,u)},Ne.prototype.truncate=function(c,u,a){var h=this;this._mu.lock(function(){h._fs.truncate(c,u,function(p){h._mu.unlock(),a(p)})})},Ne.prototype.truncateSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(c,u)},Ne.prototype.readFile=function(c,u,a,h){var p=this;this._mu.lock(function(){p._fs.readFile(c,u,a,function(g,w){p._mu.unlock(),h(g,w)})})},Ne.prototype.readFileSync=function(c,u,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(c,u,a)},Ne.prototype.writeFile=function(c,u,a,h,p,g){var w=this;this._mu.lock(function(){w._fs.writeFile(c,u,a,h,p,function(N){w._mu.unlock(),g(N)})})},Ne.prototype.writeFileSync=function(c,u,a,h,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(c,u,a,h,p)},Ne.prototype.appendFile=function(c,u,a,h,p,g){var w=this;this._mu.lock(function(){w._fs.appendFile(c,u,a,h,p,function(N){w._mu.unlock(),g(N)})})},Ne.prototype.appendFileSync=function(c,u,a,h,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(c,u,a,h,p)},Ne.prototype.chmod=function(c,u,a,h){var p=this;this._mu.lock(function(){p._fs.chmod(c,u,a,function(g){p._mu.unlock(),h(g)})})},Ne.prototype.chmodSync=function(c,u,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(c,u,a)},Ne.prototype.chown=function(c,u,a,h,p){var g=this;this._mu.lock(function(){g._fs.chown(c,u,a,h,function(w){g._mu.unlock(),p(w)})})},Ne.prototype.chownSync=function(c,u,a,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(c,u,a,h)},Ne.prototype.utimes=function(c,u,a,h){var p=this;this._mu.lock(function(){p._fs.utimes(c,u,a,function(g){p._mu.unlock(),h(g)})})},Ne.prototype.utimesSync=function(c,u,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(c,u,a)},Ne.prototype.link=function(c,u,a){var h=this;this._mu.lock(function(){h._fs.link(c,u,function(p){h._mu.unlock(),a(p)})})},Ne.prototype.linkSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(c,u)},Ne.prototype.symlink=function(c,u,a,h){var p=this;this._mu.lock(function(){p._fs.symlink(c,u,a,function(g){p._mu.unlock(),h(g)})})},Ne.prototype.symlinkSync=function(c,u,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(c,u,a)},Ne.prototype.readlink=function(c,u){var a=this;this._mu.lock(function(){a._fs.readlink(c,function(h,p){a._mu.unlock(),u(h,p)})})},Ne.prototype.readlinkSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(c)};var kn="/.deletedFiles.log";function Gy(c){return 146|c}function xr(c){return R.getFileFlag(c)}var ot,Jy=function(c){function u(a,h,p,g,w){c.call(this,a,h,p,g,w)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(a){var h=this;this.isDirty()?this._fs._syncAsync(this,function(p){h.resetDirty(),a(p)}):a(null)},u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.close=function(a){this.sync(a)},u.prototype.closeSync=function(){this.syncSync()},u}(E),Yy=function(c){function u(a,h){if(c.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=a,this._readable=h,this._writable.isReadOnly())throw new y(l.EINVAL,"Writable file system must be writable.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},u.prototype._syncAsync=function(a,h){var p=this;this.createParentDirectoriesAsync(a.getPath(),function(g){if(g)return h(g);p._writable.writeFile(a.getPath(),a.getBuffer(),null,xr("w"),a.getStats().mode,h)})},u.prototype._syncSync=function(a){this.createParentDirectories(a.getPath()),this._writable.writeFileSync(a.getPath(),a.getBuffer(),null,xr("w"),a.getStats().mode)},u.prototype.getName=function(){return Ds.Name},u.prototype.initialize=function(a){var h=this,p=this._initializeCallbacks,g=function(w){h._isInitialized=!w,h._initializeCallbacks=[],p.forEach(function(N){return N(w)})};if(this._isInitialized)return a();p.push(a),p.length===1&&this._writable.readFile(kn,"utf8",xr("r"),function(w,N){if(w){if(w.errno!==l.ENOENT)return g(w)}else h._deleteLog=N;h._reparseDeletionLog(),g()})},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},u.prototype.getDeletionLog=function(){return this._deleteLog},u.prototype.restoreDeletionLog=function(a){this._deleteLog=a,this._reparseDeletionLog(),this.updateLog("")},u.prototype.rename=function(a,h,p){var g=this;if(this.checkInitAsync(p)&&!this.checkPathAsync(a,p)&&!this.checkPathAsync(h,p))return a===kn||h===kn?p(y.EPERM("Cannot rename deletion log.")):a===h?p():void this.stat(a,!1,function(w,N){return w?p(w):g.stat(h,!1,function(C,q){var Q=g;function ce(ge){var ve=ge.shift();if(!ve)return p();var Te=d.resolve(a,ve),Be=d.resolve(h,ve);Q.rename(Te,Be,function(Ot){if(Ot)return p(Ot);ce(ge)})}var de=511;if(N.isDirectory()){if(C)return C.errno!==l.ENOENT?p(C):g._writable.exists(a,function(ge){if(ge)return g._writable.rename(a,h,p);g._writable.mkdir(h,de,function(ve){if(ve)return p(ve);g._readable.readdir(a,function(Te,Be){if(Te)return p();ce(Be)})})});if(de=q.mode,!q.isDirectory())return p(y.ENOTDIR(h));g.readdir(h,function(ge,ve){if(ve&&ve.length)return p(y.ENOTEMPTY(h));g._readable.readdir(a,function(Te,Be){if(Te)return p();ce(Be)})})}if(q&&q.isDirectory())return p(y.EISDIR(h));g.readFile(a,null,xr("r"),function(ge,ve){return ge?p(ge):g.writeFile(h,ve,null,xr("w"),N.mode,function(Te){return Te?p(Te):g.unlink(a,p)})})})})},u.prototype.renameSync=function(a,h){var p=this;if(this.checkInitialized(),this.checkPath(a),this.checkPath(h),a===kn||h===kn)throw y.EPERM("Cannot rename deletion log.");var g=this.statSync(a,!1);if(g.isDirectory()){if(a===h)return;var w=511;if(this.existsSync(h)){var N=this.statSync(h,!1);if(w=N.mode,!N.isDirectory())throw y.ENOTDIR(h);if(this.readdirSync(h).length>0)throw y.ENOTEMPTY(h)}this._writable.existsSync(a)?this._writable.renameSync(a,h):this._writable.existsSync(h)||this._writable.mkdirSync(h,w),this._readable.existsSync(a)&&this._readable.readdirSync(a).forEach(function(C){p.renameSync(d.resolve(a,C),d.resolve(h,C))})}else{if(this.existsSync(h)&&this.statSync(h,!1).isDirectory())throw y.EISDIR(h);this.writeFileSync(h,this.readFileSync(a,null,xr("r")),null,xr("w"),g.mode)}a!==h&&this.existsSync(a)&&this.unlinkSync(a)},u.prototype.stat=function(a,h,p){var g=this;this.checkInitAsync(p)&&this._writable.stat(a,h,function(w,N){w&&w.errno===l.ENOENT?(g._deletedFiles[a]&&p(y.ENOENT(a)),g._readable.stat(a,h,function(C,q){q&&((q=q.clone()).mode=Gy(q.mode)),p(C,q)})):p(w,N)})},u.prototype.statSync=function(a,h){this.checkInitialized();try{return this._writable.statSync(a,h)}catch{if(this._deletedFiles[a])throw y.ENOENT(a);var p=this._readable.statSync(a,h).clone();return p.mode=Gy(p.mode),p}},u.prototype.open=function(a,h,p,g){var w=this;this.checkInitAsync(g)&&!this.checkPathAsync(a,g)&&this.stat(a,!1,function(N,C){if(!C)return h.pathNotExistsAction()===v.CREATE_FILE?w.createParentDirectoriesAsync(a,function(q){return q?g(q):w._writable.open(a,h,p,g)}):g(y.ENOENT(a));switch(h.pathExistsAction()){case v.TRUNCATE_FILE:return w.createParentDirectoriesAsync(a,function(q){if(q)return g(q);w._writable.open(a,h,p,g)});case v.NOP:return w._writable.exists(a,function(q){q?w._writable.open(a,h,p,g):((C=C.clone()).mode=p,w._readable.readFile(a,null,xr("r"),function(Q,ce){if(Q)return g(Q);C.size===-1&&(C.size=ce.length);var de=new Jy(w,a,h,C,ce);g(null,de)}))});default:return g(y.EEXIST(a))}})},u.prototype.openSync=function(a,h,p){if(this.checkInitialized(),this.checkPath(a),a===kn)throw y.EPERM("Cannot open deletion log.");if(!this.existsSync(a)){if(h.pathNotExistsAction()===v.CREATE_FILE)return this.createParentDirectories(a),this._writable.openSync(a,h,p);throw y.ENOENT(a)}switch(h.pathExistsAction()){case v.TRUNCATE_FILE:return this.createParentDirectories(a),this._writable.openSync(a,h,p);case v.NOP:if(this._writable.existsSync(a))return this._writable.openSync(a,h,p);var g=this._readable.readFileSync(a,null,xr("r")),w=this._readable.statSync(a,!1).clone();return w.mode=p,new Jy(this,a,h,w,g);default:throw y.EEXIST(a)}},u.prototype.unlink=function(a,h){var p=this;this.checkInitAsync(h)&&!this.checkPathAsync(a,h)&&this.exists(a,function(g){if(!g)return h(y.ENOENT(a));p._writable.exists(a,function(w){if(w)return p._writable.unlink(a,function(N){if(N)return h(N);p.exists(a,function(C){C&&p.deletePath(a),h(null)})});p.deletePath(a),h(null)})})},u.prototype.unlinkSync=function(a){if(this.checkInitialized(),this.checkPath(a),!this.existsSync(a))throw y.ENOENT(a);this._writable.existsSync(a)&&this._writable.unlinkSync(a),this.existsSync(a)&&this.deletePath(a)},u.prototype.rmdir=function(a,h){var p=this;if(this.checkInitAsync(h)){var g=function(){p.readdir(a,function(w,N){return w?h(w):N.length?h(y.ENOTEMPTY(a)):(p.deletePath(a),void h(null))})};this.exists(a,function(w){if(!w)return h(y.ENOENT(a));p._writable.exists(a,function(N){N?p._writable.rmdir(a,function(C){if(C)return h(C);p._readable.exists(a,function(q){q?g():h()})}):g()})})}},u.prototype.rmdirSync=function(a){if(this.checkInitialized(),!this.existsSync(a))throw y.ENOENT(a);if(this._writable.existsSync(a)&&this._writable.rmdirSync(a),this.existsSync(a)){if(this.readdirSync(a).length>0)throw y.ENOTEMPTY(a);this.deletePath(a)}},u.prototype.mkdir=function(a,h,p){var g=this;this.checkInitAsync(p)&&this.exists(a,function(w){if(w)return p(y.EEXIST(a));g.createParentDirectoriesAsync(a,function(N){if(N)return p(N);g._writable.mkdir(a,h,p)})})},u.prototype.mkdirSync=function(a,h){if(this.checkInitialized(),this.existsSync(a))throw y.EEXIST(a);this.createParentDirectories(a),this._writable.mkdirSync(a,h)},u.prototype.readdir=function(a,h){var p=this;this.checkInitAsync(h)&&this.stat(a,!1,function(g,w){return g?h(g):w.isDirectory()?void p._writable.readdir(a,function(N,C){if(N&&N.code!=="ENOENT")return h(N);!N&&C||(C=[]),p._readable.readdir(a,function(q,Q){!q&&Q||(Q=[]);var ce={},de=C.concat(Q.filter(function(ge){return!p._deletedFiles[a+"/"+ge]})).filter(function(ge){var ve=!ce[ge];return ce[ge]=!0,ve});h(null,de)})}):h(y.ENOTDIR(a))})},u.prototype.readdirSync=function(a){var h=this;if(this.checkInitialized(),!this.statSync(a,!1).isDirectory())throw y.ENOTDIR(a);var p=[];try{p=p.concat(this._writable.readdirSync(a))}catch{}try{p=p.concat(this._readable.readdirSync(a).filter(function(w){return!h._deletedFiles[a+"/"+w]}))}catch{}var g={};return p.filter(function(w){var N=!g[w];return g[w]=!0,N})},u.prototype.exists=function(a,h){var p=this;this.checkInitialized(),this._writable.exists(a,function(g){if(g)return h(!0);p._readable.exists(a,function(w){h(w&&p._deletedFiles[a]!==!0)})})},u.prototype.existsSync=function(a){return this.checkInitialized(),this._writable.existsSync(a)||this._readable.existsSync(a)&&this._deletedFiles[a]!==!0},u.prototype.chmod=function(a,h,p,g){var w=this;this.checkInitAsync(g)&&this.operateOnWritableAsync(a,function(N){if(N)return g(N);w._writable.chmod(a,h,p,g)})},u.prototype.chmodSync=function(a,h,p){var g=this;this.checkInitialized(),this.operateOnWritable(a,function(){g._writable.chmodSync(a,h,p)})},u.prototype.chown=function(a,h,p,g,w){var N=this;this.checkInitAsync(w)&&this.operateOnWritableAsync(a,function(C){if(C)return w(C);N._writable.chown(a,h,p,g,w)})},u.prototype.chownSync=function(a,h,p,g){var w=this;this.checkInitialized(),this.operateOnWritable(a,function(){w._writable.chownSync(a,h,p,g)})},u.prototype.utimes=function(a,h,p,g){var w=this;this.checkInitAsync(g)&&this.operateOnWritableAsync(a,function(N){if(N)return g(N);w._writable.utimes(a,h,p,g)})},u.prototype.utimesSync=function(a,h,p){var g=this;this.checkInitialized(),this.operateOnWritable(a,function(){g._writable.utimesSync(a,h,p)})},u.prototype.deletePath=function(a){this._deletedFiles[a]=!0,this.updateLog("d"+a+`
`)},u.prototype.updateLog=function(a){var h=this;this._deleteLog+=a,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(kn,this._deleteLog,"utf8",R.getFileFlag("w"),420,function(p){h._deleteLogUpdatePending=!1,p?h._deleteLogError=p:h._deleteLogUpdateNeeded&&(h._deleteLogUpdateNeeded=!1,h.updateLog(""))}))},u.prototype._reparseDeletionLog=function(){var a=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(h){a._deletedFiles[h.slice(1)]=h.slice(0,1)==="d"})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new y(l.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(this._deleteLogError!==null){var a=this._deleteLogError;throw this._deleteLogError=null,a}},u.prototype.checkInitAsync=function(a){if(!this._isInitialized)return a(new y(l.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;if(this._deleteLogError!==null){var h=this._deleteLogError;return this._deleteLogError=null,a(h),!1}return!0},u.prototype.checkPath=function(a){if(a===kn)throw y.EPERM(a)},u.prototype.checkPathAsync=function(a,h){return a===kn&&(h(y.EPERM(a)),!0)},u.prototype.createParentDirectoriesAsync=function(a,h){var p=d.dirname(a),g=[],w=this;function N(){if(!g.length)return h();var C=g.pop();w._readable.stat(C,!1,function(q,Q){if(!Q)return h();w._writable.mkdir(C,Q.mode,function(ce){if(ce)return h(ce);N()})})}this._writable.stat(p,!1,function C(q,Q){q?(g.push(p),p=d.dirname(p),w._writable.stat(p,!1,C)):N()})},u.prototype.createParentDirectories=function(a){for(var h=this,p=d.dirname(a),g=[];!this._writable.existsSync(p);)g.push(p),p=d.dirname(p);(g=g.reverse()).forEach(function(w){h._writable.mkdirSync(w,h.statSync(w,!1).mode)})},u.prototype.operateOnWritable=function(a,h){if(!this.existsSync(a))throw y.ENOENT(a);this._writable.existsSync(a)||this.copyToWritable(a),h()},u.prototype.operateOnWritableAsync=function(a,h){var p=this;this.exists(a,function(g){if(!g)return h(y.ENOENT(a));p._writable.exists(a,function(w){if(!w)return p.copyToWritableAsync(a,h);h()})})},u.prototype.copyToWritable=function(a){var h=this.statSync(a,!1);h.isDirectory()?this._writable.mkdirSync(a,h.mode):this.writeFileSync(a,this._readable.readFileSync(a,null,xr("r")),null,xr("w"),this.statSync(a,!1).mode)},u.prototype.copyToWritableAsync=function(a,h){var p=this;this.stat(a,!1,function(g,w){return g?h(g):w.isDirectory()?p._writable.mkdir(a,w.mode,h):void p._readable.readFile(a,null,xr("r"),function(N,C){if(N)return h(N);p.writeFile(a,C,null,xr("w"),w.mode,h)})})},u}(J),Ds=function(c){function u(a,h,p){p===void 0&&(p=!0),c.call(this,new Yy(a,h)),ye(p,u.Name,{readable:"readable file system",writable:"writable file system"})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){try{var p=new u(a.writable,a.readable,!1);p.initialize(function(g){h(g,p)},!1)}catch(g){h(g)}},u.isAvailable=function(){return Yy.isAvailable()},u.prototype.initialize=function(a,h){h===void 0&&(h=!0),h&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),c.prototype.initialize.call(this,a)},u.prototype.getOverlayedFileSystems=function(){return c.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},u.prototype.unwrap=function(){return c.prototype.getFSUnlocked.call(this)},u}(Ne);Ds.Name="OverlayFS",Ds.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}},function(c){c[c.CB=0]="CB",c[c.FD=1]="FD",c[c.API_ERROR=2]="API_ERROR",c[c.STATS=3]="STATS",c[c.PROBE=4]="PROBE",c[c.FILEFLAG=5]="FILEFLAG",c[c.BUFFER=6]="BUFFER",c[c.ERROR=7]="ERROR"}(ot||(ot={}));var jf=function(){this._callbacks={},this._nextId=0};jf.prototype.toRemoteArg=function(c){var u=this._nextId++;return this._callbacks[u]=c,{type:ot.CB,id:u}},jf.prototype.toLocalArg=function(c){var u=this._callbacks[c];return delete this._callbacks[c],u};var wl=function(){this._fileDescriptors={},this._nextId=0};function _l(c){return{type:ot.API_ERROR,errorData:Ti(c.writeToBuffer())}}function Ky(c){return y.fromBuffer(Ni(c.errorData))}function Zy(c){return{type:ot.ERROR,name:c.name,message:c.message,stack:c.stack}}function Xy(c){var u=bt[c.name];typeof u!="function"&&(u=Error);var a=new u(c.message);return a.stack=c.stack,a}function Qy(c){return{type:ot.STATS,statsData:Ti(c.toBuffer())}}function em(c){return T.fromBuffer(Ni(c.statsData))}function tm(c){return{type:ot.FILEFLAG,flagStr:c.getFlagString()}}function rm(c){return R.getFileFlag(c.flagStr)}function Ti(c){return z(c)}function Ni(c){return ne(c)}function nm(c){return{type:ot.BUFFER,data:Ti(c)}}function im(c){return Ni(c.data)}wl.prototype.toRemoteArg=function(c,u,a,h){var p,g,w=this._nextId++;this._fileDescriptors[w]=c,c.stat(function(N,C){N?h(N):(g=Ti(C.toBuffer()),a.isReadable()?c.read(n.alloc(C.size),0,C.size,0,function(q,Q,ce){q?h(q):(p=Ti(ce),h(null,{type:ot.FD,id:w,data:p,stat:g,path:u,flag:a.getFlagString()}))}):h(null,{type:ot.FD,id:w,data:new ArrayBuffer(0),stat:g,path:u,flag:a.getFlagString()}))})},wl.prototype.applyFdAPIRequest=function(c,u){var a=this,h=c.args[0];this._applyFdChanges(h,function(p,g){p?u(p):g[c.method](function(w){c.method==="close"&&delete a._fileDescriptors[h.id],u(w)})})},wl.prototype._applyFdChanges=function(c,u){var a=this._fileDescriptors[c.id],h=Ni(c.data),p=T.fromBuffer(Ni(c.stat)),g=R.getFileFlag(c.flag);g.isWriteable()?a.write(h,0,h.length,g.isAppendable()?a.getPos():0,function(w){function N(){a.stat(function(C,q){C?u(C):q.mode!==p.mode?a.chmod(p.mode,function(Q){u(Q,a)}):u(C,a)})}w?u(w):g.isAppendable()?N():a.truncate(h.length,function(){N()})}):u(null,a)};var om=function(c){function u(a,h,p,g,w,N){c.call(this,a,h,p,g,N),this._remoteFdId=w}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getRemoteFdId=function(){return this._remoteFdId},u.prototype.toRemoteArg=function(){return{type:ot.FD,id:this._remoteFdId,data:Ti(this.getBuffer()),stat:Ti(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},u.prototype.sync=function(a){this._syncClose("sync",a)},u.prototype.close=function(a){this._syncClose("close",a)},u.prototype._syncClose=function(a,h){var p=this;this.isDirty()?this._fs.syncClose(a,this,function(g){g||p.resetDirty(),h(g)}):h()},u}(E),Sl=function(c){function u(a,h){var p=this;h===void 0&&(h=!0),c.call(this),this._callbackConverter=new jf,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=a,ye(h,u.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(g){var w,N=g.data;if((w=N)&&typeof w=="object"&&w.hasOwnProperty("browserfsMessage")&&w.browserfsMessage){var C,q=N.args,Q=new Array(q.length);for(C=0;C<Q.length;C++)Q[C]=p._argRemote2Local(q[C]);p._callbackConverter.toLocalArg(N.cbId).apply(null,Q)}})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){var p=new u(a.worker,!1);p.initialize(function(){h(null,p)})},u.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},u.attachRemoteListener=function(a){var h=new wl;function p(w,N,C){typeof w=="object"?w instanceof T?C(null,Qy(w)):w instanceof y?C(null,_l(w)):w instanceof F?C(null,h.toRemoteArg(w,N[0],N[1],C)):w instanceof R?C(null,tm(w)):w instanceof n?C(null,nm(w)):w instanceof Error?C(null,Zy(w)):C(null,w):C(null,w)}function g(w,N){if(!w)return w;if(typeof w=="object"){if(typeof w.type!="number")return w;var C=w;switch(C.type){case ot.CB:var q=w.id;return function(){var Q,ce,de=arguments,ge=new Array(arguments.length),ve=arguments.length;function Te(Be){ve>0&&(ve=-1,ce={browserfsMessage:!0,cbId:q,args:[_l(Be)]},a.postMessage(ce))}for(Q=0;Q<arguments.length;Q++)(function(Be,Ot){p(Ot,N,function(Kr,kr){ge[Be]=kr,Kr?Te(Kr):--ve==0&&(ce={browserfsMessage:!0,cbId:q,args:ge},a.postMessage(ce))})})(Q,de[Q]);arguments.length===0&&(ce={browserfsMessage:!0,cbId:q,args:ge},a.postMessage(ce))};case ot.API_ERROR:return Ky(C);case ot.STATS:return em(C);case ot.FILEFLAG:return rm(C);case ot.BUFFER:return im(C);case ot.ERROR:return Xy(C);default:return w}}return w}a.addEventListener("message",function(w){var N,C,q=w.data;if((C=q)&&typeof C=="object"&&C.hasOwnProperty("browserfsMessage")&&C.browserfsMessage){var Q=q.args,ce=new Array(Q.length);switch(q.method){case"close":case"sync":N=Q[1],h.applyFdAPIRequest(q,function(ve){var Te={browserfsMessage:!0,cbId:N.id,args:ve?[_l(ve)]:[]};a.postMessage(Te)});break;case"probe":(function(){var ve=re.getRootFS(),Te=Q[1],Be={type:ot.PROBE,isReadOnly:ve.isReadOnly(),supportsLinks:ve.supportsLinks(),supportsProps:ve.supportsProps()},Ot={browserfsMessage:!0,cbId:Te.id,args:[Be]};a.postMessage(Ot)})();break;default:for(var de=0;de<Q.length;de++)ce[de]=g(Q[de],ce);var ge=re.getRootFS();ge[q.method].apply(ge,ce)}}})},u.prototype.getName=function(){return u.Name},u.prototype.initialize=function(a){var h=this;if(this._isInitialized)a();else{var p={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Ee()),this._callbackConverter.toRemoteArg(function(g){h._isInitialized=!0,h._isReadOnly=g.isReadOnly,h._supportLinks=g.supportsLinks,h._supportProps=g.supportsProps,a()})]};this._worker.postMessage(p)}},u.prototype.isReadOnly=function(){return this._isReadOnly},u.prototype.supportsSynch=function(){return!1},u.prototype.supportsLinks=function(){return this._supportLinks},u.prototype.supportsProps=function(){return this._supportProps},u.prototype.rename=function(a,h,p){this._rpc("rename",arguments)},u.prototype.stat=function(a,h,p){this._rpc("stat",arguments)},u.prototype.open=function(a,h,p,g){this._rpc("open",arguments)},u.prototype.unlink=function(a,h){this._rpc("unlink",arguments)},u.prototype.rmdir=function(a,h){this._rpc("rmdir",arguments)},u.prototype.mkdir=function(a,h,p){this._rpc("mkdir",arguments)},u.prototype.readdir=function(a,h){this._rpc("readdir",arguments)},u.prototype.exists=function(a,h){this._rpc("exists",arguments)},u.prototype.realpath=function(a,h,p){this._rpc("realpath",arguments)},u.prototype.truncate=function(a,h,p){this._rpc("truncate",arguments)},u.prototype.readFile=function(a,h,p,g){this._rpc("readFile",arguments)},u.prototype.writeFile=function(a,h,p,g,w,N){this._rpc("writeFile",arguments)},u.prototype.appendFile=function(a,h,p,g,w,N){this._rpc("appendFile",arguments)},u.prototype.chmod=function(a,h,p,g){this._rpc("chmod",arguments)},u.prototype.chown=function(a,h,p,g,w){this._rpc("chown",arguments)},u.prototype.utimes=function(a,h,p,g){this._rpc("utimes",arguments)},u.prototype.link=function(a,h,p){this._rpc("link",arguments)},u.prototype.symlink=function(a,h,p,g){this._rpc("symlink",arguments)},u.prototype.readlink=function(a,h){this._rpc("readlink",arguments)},u.prototype.syncClose=function(a,h,p){this._worker.postMessage({browserfsMessage:!0,method:a,args:[h.toRemoteArg(),this._callbackConverter.toRemoteArg(p)]})},u.prototype._argRemote2Local=function(a){if(!a)return a;if(typeof a=="object"){if(typeof a.type!="number")return a;var h=a;switch(h.type){case ot.API_ERROR:return Ky(h);case ot.FD:var p=h;return new om(this,p.path,R.getFileFlag(p.flag),T.fromBuffer(Ni(p.stat)),p.id,Ni(p.data));case ot.STATS:return em(h);case ot.FILEFLAG:return rm(h);case ot.BUFFER:return im(h);case ot.ERROR:return Xy(h);default:return a}}return a},u.prototype._rpc=function(a,h){for(var p=new Array(h.length),g=0;g<h.length;g++)p[g]=this._argLocal2Remote(h[g]);var w={browserfsMessage:!0,method:a,args:p};this._worker.postMessage(w)},u.prototype._argLocal2Remote=function(a){if(!a)return a;switch(typeof a){case"object":return a instanceof T?Qy(a):a instanceof y?_l(a):a instanceof om?a.toRemoteArg():a instanceof R?tm(a):a instanceof n?nm(a):a instanceof Error?Zy(a):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(a);default:return a}},u}(J);function sm(c,u,a){var h=new XMLHttpRequest;h.open("HEAD",u,c),h.onreadystatechange=function(p){if(h.readyState===4){if(h.status!==200)return a(new y(h.status,"XHR HEAD error."));try{return a(null,parseInt(h.getResponseHeader("Content-Length")||"-1",10))}catch{return a(new y(l.EIO,"XHR HEAD error: Could not read content-length."))}}},h.send()}Sl.Name="WorkerFS",Sl.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(c,u){c.postMessage?u():u(new y(l.EINVAL,"option must be a Web Worker instance."))}}};var am=function(c,u,a){var h=new XMLHttpRequest;h.open("GET",c,!0);var p=!0;switch(u){case"buffer":h.responseType="arraybuffer";break;case"json":try{h.responseType="json",p=h.responseType==="json"}catch{p=!1}break;default:return a(new y(l.EINVAL,"Invalid download type: "+u))}h.onreadystatechange=function(g){if(h.readyState===4){if(h.status!==200)return a(new y(h.status,"XHR error."));switch(u){case"buffer":return a(null,h.response?n.from(h.response):Ee());case"json":return a(null,p?h.response:JSON.parse(h.responseText))}}},h.send()},Hb=M&&typeof Blob<"u"?function(c,u){var a,h,p=new XMLHttpRequest;switch(p.open("GET",c,!1),u){case"buffer":p.responseType="arraybuffer";break;case"json":break;default:throw new y(l.EINVAL,"Invalid download type: "+u)}if(p.onreadystatechange=function(g){if(p.readyState===4)if(p.status===200)switch(u){case"buffer":a=n.from(p.response);break;case"json":a=JSON.parse(p.response)}else h=new y(p.status,"XHR error.")},p.send(),h)throw h;return a}:function(c,u){var a=new XMLHttpRequest;a.open("GET",c,!1);var h=null,p=null;if(a.overrideMimeType("text/plain; charset=x-user-defined"),a.onreadystatechange=function(g){if(a.readyState===4){if(a.status!==200)return void(p=new y(a.status,"XHR error."));switch(u){case"buffer":var w=a.responseText;h=n.alloc(w.length);for(var N=0;N<w.length;N++)h[N]=w.charCodeAt(N);return;case"json":return void(h=JSON.parse(a.responseText))}}},a.send(),p)throw p;return h},Pr=function(){this._index={},this.addPath("/",new ur)};Pr.fromListing=function(c){var u=new Pr,a=new ur;u._index["/"]=a;for(var h=[["",c,a]];h.length>0;){var p=void 0,g=h.pop(),w=g[0],N=g[1],C=g[2];for(var q in N)if(N.hasOwnProperty(q)){var Q=N[q],ce=w+"/"+q;Q?(u._index[ce]=p=new ur,h.push([ce,Q,p])):p=new wo(new T(O.FILE,-1,365)),C&&(C._ls[q]=p)}}return u},Pr.prototype.fileIterator=function(c){var u=this;for(var a in u._index)if(u._index.hasOwnProperty(a))for(var h=u._index[a],p=0,g=h.getListing();p<g.length;p+=1){var w=g[p],N=h.getItem(w);Tn(N)&&c(N.getData())}},Pr.prototype.addPath=function(c,u){if(!u)throw new Error("Inode must be specified");if(c[0]!=="/")throw new Error("Path must be absolute, got: "+c);if(this._index.hasOwnProperty(c))return this._index[c]===u;var a=this._split_path(c),h=a[0],p=a[1],g=this._index[h];return!(g===void 0&&c!=="/"&&(g=new ur,!this.addPath(h,g))||c!=="/"&&!g.addItem(p,u)||(Bn(u)&&(this._index[c]=u),0))},Pr.prototype.addPathFast=function(c,u){var a=c.lastIndexOf("/"),h=a===0?"/":c.substring(0,a),p=c.substring(a+1),g=this._index[h];return g===void 0&&(g=new ur,this.addPathFast(h,g)),!!g.addItem(p,u)&&(u.isDir()&&(this._index[c]=u),!0)},Pr.prototype.removePath=function(c){var u=this._split_path(c),a=u[0],h=u[1],p=this._index[a];if(p===void 0)return null;var g=p.remItem(h);if(g===null)return null;if(Bn(g)){for(var w=0,N=g.getListing();w<N.length;w+=1){var C=N[w];this.removePath(c+"/"+C)}c!=="/"&&delete this._index[c]}return g},Pr.prototype.ls=function(c){var u=this._index[c];return u===void 0?null:u.getListing()},Pr.prototype.getInode=function(c){var u=this._split_path(c),a=u[0],h=u[1],p=this._index[a];return p===void 0?null:a===c?p:p.getItem(h)},Pr.prototype._split_path=function(c){var u=d.dirname(c);return[u,c.substr(u.length+(u==="/"?0:1))]};var wo=function(c){this.data=c};wo.prototype.isFile=function(){return!0},wo.prototype.isDir=function(){return!1},wo.prototype.getData=function(){return this.data},wo.prototype.setData=function(c){this.data=c};var ur=function(c){c===void 0&&(c=null),this.data=c,this._ls={}};function Tn(c){return!!c&&c.isFile()}function Bn(c){return!!c&&c.isDir()}ur.prototype.isFile=function(){return!1},ur.prototype.isDir=function(){return!0},ur.prototype.getData=function(){return this.data},ur.prototype.getStats=function(){return new T(O.DIRECTORY,4096,365)},ur.prototype.getListing=function(){return Object.keys(this._ls)},ur.prototype.getItem=function(c){var u=this._ls[c];return u||null},ur.prototype.addItem=function(c,u){return!(c in this._ls)&&(this._ls[c]=u,!0)},ur.prototype.remItem=function(c){var u=this._ls[c];return u===void 0?null:(delete this._ls[c],u)};var El=function(c){function u(a,h,p){h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),a||(a="index.json"),h.length>0&&h.charAt(h.length-1)!=="/"&&(h+="/"),this.prefixUrl=h;var g=null;if(typeof a=="string"){if(!(g=this._requestFileSync(a,"json")))throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else g=a;ye(p,u.Name,{index:typeof a=="string"?a:"file index as an object",baseUrl:h}),this._index=Pr.fromListing(g)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){a.index===void 0&&(a.index="index.json"),typeof a.index=="string"?u.FromURL(a.index,h,a.baseUrl,!1):h(null,new u(a.index,a.baseUrl,!1))},u.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},u.FromURL=function(a,h,p,g){p===void 0&&(p=a.slice(0,a.lastIndexOf("/")+1)),g===void 0&&(g=!0),g&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+a+'", baseUrl: "'+p+`" }, cb)' instead.`),am(a,"json",function(w,N){w?h(w):h(null,new u(N,p,!1))})},u.prototype.empty=function(){this._index.fileIterator(function(a){a.fileData=null})},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(a,h){h(0,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.preloadFile=function(a,h){var p=this._index.getInode(a);if(!Tn(p))throw y.EISDIR(a);if(p===null)throw y.ENOENT(a);var g=p.getData();g.size=h.length,g.fileData=h},u.prototype.stat=function(a,h,p){var g,w=this._index.getInode(a);if(w===null)return p(y.ENOENT(a));Tn(w)?(g=w.getData()).size<0?this._requestFileSizeAsync(a,function(N,C){if(N)return p(N);g.size=C,p(null,g.clone())}):p(null,g.clone()):Bn(w)?(g=w.getStats(),p(null,g)):p(y.FileError(l.EINVAL,a))},u.prototype.statSync=function(a,h){var p,g=this._index.getInode(a);if(g===null)throw y.ENOENT(a);if(Tn(g))(p=g.getData()).size<0&&(p.size=this._requestFileSizeSync(a));else{if(!Bn(g))throw y.FileError(l.EINVAL,a);p=g.getStats()}return p},u.prototype.open=function(a,h,p,g){if(h.isWriteable())return g(new y(l.EPERM,a));var w=this,N=this._index.getInode(a);if(N===null)return g(y.ENOENT(a));if(!Tn(N))return g(y.EISDIR(a));var C=N.getData();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:return g(y.EEXIST(a));case v.NOP:if(C.fileData)return g(null,new k(w,a,h,C.clone(),C.fileData));this._requestFileAsync(a,"buffer",function(q,Q){return q?g(q):(C.size=Q.length,C.fileData=Q,g(null,new k(w,a,h,C.clone(),Q)))});break;default:return g(new y(l.EINVAL,"Invalid FileMode object."))}},u.prototype.openSync=function(a,h,p){if(h.isWriteable())throw new y(l.EPERM,a);var g=this._index.getInode(a);if(g===null)throw y.ENOENT(a);if(!Tn(g))throw y.EISDIR(a);var w=g.getData();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(a);case v.NOP:if(w.fileData)return new k(this,a,h,w.clone(),w.fileData);var N=this._requestFileSync(a,"buffer");return w.size=N.length,w.fileData=N,new k(this,a,h,w.clone(),N);default:throw new y(l.EINVAL,"Invalid FileMode object.")}},u.prototype.readdir=function(a,h){try{h(null,this.readdirSync(a))}catch(p){h(p)}},u.prototype.readdirSync=function(a){var h=this._index.getInode(a);if(h===null)throw y.ENOENT(a);if(Bn(h))return h.getListing();throw y.ENOTDIR(a)},u.prototype.readFile=function(a,h,p,g){var w=g;this.open(a,p,420,function(N,C){if(N)return g(N);g=function(Q,ce){C.close(function(de){return Q||(Q=de),w(Q,ce)})};var q=C.getBuffer();h===null?g(N,se(q)):function(Q,ce,de){try{de(null,Q.toString(ce))}catch(ge){de(ge)}}(q,h,g)})},u.prototype.readFileSync=function(a,h,p){var g=this.openSync(a,p,420);try{var w=g.getBuffer();return h===null?se(w):w.toString(h)}finally{g.closeSync()}},u.prototype.getXhrPath=function(a){return a.charAt(0)==="/"&&(a=a.slice(1)),this.prefixUrl+a},u.prototype._requestFileAsync=function(a,h,p){am(this.getXhrPath(a),h,p)},u.prototype._requestFileSync=function(a,h){return Hb(this.getXhrPath(a),h)},u.prototype._requestFileSizeAsync=function(a,h){(function(p,g){sm(!0,p,g)})(this.getXhrPath(a),h)},u.prototype._requestFileSizeSync=function(a){return h=this.getXhrPath(a),p=-1,sm(!1,h,function(g,w){if(g)throw g;p=w}),p;var h,p},u}(J);El.Name="XmlHttpRequest",El.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Ii=function(){};Ii.str2byte=function(c,u){for(var a=c.length>u.length?u.length:c.length,h=0;h<a;h++){var p=c.charCodeAt(h);if(p>127){var g=Ii.extendedChars.indexOf(c.charAt(h));g>-1&&(p=g+128)}u[p]=h}return a},Ii.byte2str=function(c){for(var u=new Array(c.length),a=0;a<c.length;a++){var h=c[a];u[a]=h>127?Ii.extendedChars[h-128]:String.fromCharCode(h)}return u.join("")},Ii.byteLength=function(c){return c.length},Ii.extendedChars=["\xC7","\xFC","\xE9","\xE2","\xE4","\xE0","\xE5","\xE7","\xEA","\xEB","\xE8","\xEF","\xEE","\xEC","\xC4","\xC5","\xC9","\xE6","\xC6","\xF4","\xF6","\xF2","\xFB","\xF9","\xFF","\xD6","\xDC","\xF8","\xA3","\xD8","\xD7","\u0192","\xE1","\xED","\xF3","\xFA","\xF1","\xD1","\xAA","\xBA","\xBF","\xAE","\xAC","\xBD","\xBC","\xA1","\xAB","\xBB","_","_","_","\xA6","\xA6","\xC1","\xC2","\xC0","\xA9","\xA6","\xA6","+","+","\xA2","\xA5","+","+","-","-","+","-","+","\xE3","\xC3","+","+","-","-","\xA6","-","+","\xA4","\xF0","\xD0","\xCA","\xCB","\xC8","i","\xCD","\xCE","\xCF","+","+","_","_","\xA6","\xCC","_","\xD3","\xDF","\xD4","\xD2","\xF5","\xD5","\xB5","\xFE","\xDE","\xDA","\xDB","\xD9","\xFD","\xDD","\xAF","\xB4","\xAD","\xB1","_","\xBE","\xB6","\xA7","\xF7","\xB8","\xB0","\xA8","\xB7","\xB9","\xB3","\xB2","_"," "];var lm,_o,Gb=r(31).inflateRaw,um={};function cm(c,u){return new Date(1980+(u>>9),(u>>5&15)-1,31&u,c>>11,c>>5&63,31&c)}function bl(c,u,a,h){return h===0?"":u?c.toString("utf8",a,a+h):Ii.byte2str(c.slice(a,a+h))}(function(c){c[c.MSDOS=0]="MSDOS",c[c.AMIGA=1]="AMIGA",c[c.OPENVMS=2]="OPENVMS",c[c.UNIX=3]="UNIX",c[c.VM_CMS=4]="VM_CMS",c[c.ATARI_ST=5]="ATARI_ST",c[c.OS2_HPFS=6]="OS2_HPFS",c[c.MAC=7]="MAC",c[c.Z_SYSTEM=8]="Z_SYSTEM",c[c.CP_M=9]="CP_M",c[c.NTFS=10]="NTFS",c[c.MVS=11]="MVS",c[c.VSE=12]="VSE",c[c.ACORN_RISC=13]="ACORN_RISC",c[c.VFAT=14]="VFAT",c[c.ALT_MVS=15]="ALT_MVS",c[c.BEOS=16]="BEOS",c[c.TANDEM=17]="TANDEM",c[c.OS_400=18]="OS_400",c[c.OSX=19]="OSX"})(lm||(lm={})),function(c){c[c.STORED=0]="STORED",c[c.SHRUNK=1]="SHRUNK",c[c.REDUCED_1=2]="REDUCED_1",c[c.REDUCED_2=3]="REDUCED_2",c[c.REDUCED_3=4]="REDUCED_3",c[c.REDUCED_4=5]="REDUCED_4",c[c.IMPLODE=6]="IMPLODE",c[c.DEFLATE=8]="DEFLATE",c[c.DEFLATE64=9]="DEFLATE64",c[c.TERSE_OLD=10]="TERSE_OLD",c[c.BZIP2=12]="BZIP2",c[c.LZMA=14]="LZMA",c[c.TERSE_NEW=18]="TERSE_NEW",c[c.LZ77=19]="LZ77",c[c.WAVPACK=97]="WAVPACK",c[c.PPMD=98]="PPMD"}(_o||(_o={}));var Or=function(c){if(this.data=c,c.readUInt32LE(0)!==67324752)throw new y(l.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Or.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Or.prototype.flags=function(){return this.data.readUInt16LE(6)},Or.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Or.prototype.lastModFileTime=function(){return cm(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Or.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Or.prototype.crc32=function(){return this.data.readUInt32LE(14)},Or.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Or.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Or.prototype.fileName=function(){return bl(this.data,this.useUTF8(),30,this.fileNameLength())},Or.prototype.extraField=function(){var c=30+this.fileNameLength();return this.data.slice(c,c+this.extraFieldLength())},Or.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Or.prototype.useUTF8=function(){return(2048&this.flags())==2048};var Fs=function(c,u,a){this.header=c,this.record=u,this.data=a};Fs.prototype.decompress=function(){var c=this.header.compressionMethod(),u=um[c];if(u)return u(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var a=_o[c];throw a||(a="Unknown: "+c),new y(l.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+a)},Fs.prototype.getHeader=function(){return this.header},Fs.prototype.getRecord=function(){return this.record},Fs.prototype.getRawData=function(){return this.data};var Me=function(c,u){if(this.zipData=c,this.data=u,this.data.readUInt32LE(0)!==33639248)throw new y(l.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};Me.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},Me.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},Me.prototype.flag=function(){return this.data.readUInt16LE(8)},Me.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},Me.prototype.lastModFileTime=function(){return cm(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},Me.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},Me.prototype.crc32=function(){return this.data.readUInt32LE(16)},Me.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},Me.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},Me.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},Me.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},Me.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},Me.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},Me.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},Me.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},Me.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},Me.prototype.produceFilename=function(){return bl(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},Me.prototype.fileName=function(){return this._filename},Me.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},Me.prototype.extraField=function(){var c=44+this.fileNameLength();return this.data.slice(c,c+this.extraFieldLength())},Me.prototype.fileComment=function(){var c=46+this.fileNameLength()+this.extraFieldLength();return bl(this.data,this.useUTF8(),c,this.fileCommentLength())},Me.prototype.rawFileComment=function(){var c=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(c,c+this.fileCommentLength())},Me.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},Me.prototype.isDirectory=function(){var c=this.fileName();return!!(16&this.externalAttributes())||c.charAt(c.length-1)==="/"},Me.prototype.isFile=function(){return!this.isDirectory()},Me.prototype.useUTF8=function(){return(2048&this.flag())==2048},Me.prototype.isEncrypted=function(){return(1&this.flag())==1},Me.prototype.getFileData=function(){var c=this.headerRelativeOffset(),u=new Or(this.zipData.slice(c));return new Fs(u,this,this.zipData.slice(c+u.totalSize()))},Me.prototype.getData=function(){return this.getFileData().decompress()},Me.prototype.getRawData=function(){return this.getFileData().getRawData()},Me.prototype.getStats=function(){return new T(O.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var hn=function(c){if(this.data=c,this.data.readUInt32LE(0)!==101010256)throw new y(l.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};hn.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},hn.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},hn.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},hn.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},hn.prototype.cdSize=function(){return this.data.readUInt32LE(12)},hn.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},hn.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},hn.prototype.cdZipComment=function(){return bl(this.data,!0,22,this.cdZipCommentLength())},hn.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var fm=function(c,u,a,h){this.index=c,this.directoryEntries=u,this.eocd=a,this.data=h},Ai=function(c){function u(a,h,p){h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),this.name=h,this._index=new Pr,this._directoryEntries=[],this._eocd=null,ye(p,u.Name,{zipData:"zip data as a Buffer",name:h}),a instanceof fm?(this._index=a.index,this._directoryEntries=a.directoryEntries,this._eocd=a.eocd,this.data=a.data):(this.data=a,this.populateIndex())}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){try{u.computeIndex(a.zipData,function(p){var g=new u(p,a.name,!1);h(null,g)},!1)}catch(p){h(p)}},u.isAvailable=function(){return!0},u.RegisterDecompressionMethod=function(a,h){um[a]=h},u.computeIndex=function(a,h,p){p===void 0&&(p=!0),p&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var g=new Pr,w=u.getEOCD(a);if(w.diskNumber()!==w.cdDiskNumber())throw new y(l.EINVAL,"ZipFS does not support spanned zip files.");var N=w.cdOffset();if(N===4294967295)throw new y(l.EINVAL,"ZipFS does not support Zip64.");var C=N+w.cdSize();u.computeIndexResponsive(a,g,N,C,h,[],w)},u.getEOCD=function(a){for(var h=Math.min(65557,a.length-1),p=22;p<h;p++)if(a.readUInt32LE(a.length-p)===101010256)return new hn(a.slice(a.length-p));throw new y(l.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},u.addToIndex=function(a,h){var p=a.fileName();if(p.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");p.charAt(p.length-1)==="/"&&(p=p.substr(0,p.length-1)),a.isDirectory()?h.addPathFast("/"+p,new ur(a)):h.addPathFast("/"+p,new wo(a))},u.computeIndexResponsive=function(a,h,p,g,w,N,C){if(p<g){for(var q=0;q++<200&&p<g;){var Q=new Me(a,a.slice(p));u.addToIndex(Q,h),p+=Q.totalSize(),N.push(Q)}Mf(function(){u.computeIndexResponsive(a,h,p,g,w,N,C)})}else w(new fm(h,N,C,a))},u.prototype.getName=function(){return u.Name+(this.name!==""?" "+this.name:"")},u.prototype.getCentralDirectoryEntry=function(a){var h=this._index.getInode(a);if(h===null)throw y.ENOENT(a);if(Tn(h)||Bn(h))return h.getData();throw y.EPERM("Invalid inode: "+h)},u.prototype.getCentralDirectoryEntryAt=function(a){var h=this._directoryEntries[a];if(!h)throw new RangeError("Invalid directory index: "+a+".");return h},u.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},u.prototype.getEndOfCentralDirectory=function(){return this._eocd},u.prototype.diskSpace=function(a,h){h(this.data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(a,h){var p,g=this._index.getInode(a);if(g===null)throw y.ENOENT(a);if(Tn(g))p=g.getData().getStats();else{if(!Bn(g))throw new y(l.EINVAL,"Invalid inode.");p=g.getStats()}return p},u.prototype.openSync=function(a,h,p){if(h.isWriteable())throw new y(l.EPERM,a);var g=this._index.getInode(a);if(!g)throw y.ENOENT(a);if(!Tn(g))throw y.EISDIR(a);var w=g.getData(),N=w.getStats();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(a);case v.NOP:return new k(this,a,h,N,w.getData());default:throw new y(l.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(a){var h=this._index.getInode(a);if(h){if(Bn(h))return h.getListing();throw y.ENOTDIR(a)}throw y.ENOENT(a)},u.prototype.readFileSync=function(a,h,p){var g=this.openSync(a,p,420);try{var w=g.getBuffer();return h===null?se(w):w.toString(h)}finally{g.closeSync()}},u.prototype.populateIndex=function(){var a=this,h=this._eocd=u.getEOCD(this.data);if(h.diskNumber()!==h.cdDiskNumber())throw new y(l.EINVAL,"ZipFS does not support spanned zip files.");var p=h.cdOffset();if(p===4294967295)throw new y(l.EINVAL,"ZipFS does not support Zip64.");for(var g=p+h.cdSize();p<g;){var w=new Me(a.data,a.data.slice(p));p+=w.totalSize(),u.addToIndex(w,a._index),a._directoryEntries.push(w)}},u}(_e);function cr(c,u,a){return c.toString("ascii",u,u+a).trim()}function Bf(c,u,a){if(a===1)return String.fromCharCode(c[u]);for(var h=Math.floor(a/2),p=new Array(h),g=0;g<h;g++){var w=u+(g<<1);p[g]=String.fromCharCode(c[w+1]|c[w]<<8)}return p.join("")}function dn(c,u){var a=parseInt(cr(c,u,4),10),h=parseInt(cr(c,u+4,2),10),p=parseInt(cr(c,u+6,2),10),g=parseInt(cr(c,u+8,2),10),w=parseInt(cr(c,u+10,2),10),N=parseInt(cr(c,u+12,2),10),C=parseInt(cr(c,u+14,2),10);return new Date(a,h,p,g,w,N,100*C)}function Ri(c,u){var a=c[u],h=c[u+1],p=c[u+2],g=c[u+3],w=c[u+4],N=c[u+5];return new Date(a,h-1,p,g,w,N)}function Jb(c,u){var a=c.slice(u),h=new xt(a);switch(h.signatureWord()){case 17221:return new mm(a);case 20548:return new Zb(a);case 21328:return new gm(a);case 21332:return new vm(a);case 17746:return new wm(a);case 17747:return new Xb(a);case 20568:return new Sm(a);case 20558:return new Qb(a);case 21324:return new Uf(a);case 20045:return new Em(a);case 17228:return new zf(a);case 20556:return new e3(a);case 21061:return new bm(a);case 21574:return new xm(a);case 21318:return new t3(a);case 21074:return new _m(a);default:return h}}function hm(c,u,a,h){a-=4;for(var p=new Array;u<a;){var g=Jb(c,u),w=g.length();if(w===0)return p;if(u+=w,g instanceof vm)break;g instanceof mm?p=p.concat(g.getEntries(h)):p.push(g)}return p}Ai.Name="ZipFS",Ai.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:Ie},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Ai.CompressionMethod=_o,Ai.RegisterDecompressionMethod(_o.DEFLATE,function(c,u,a){return ue(Gb(c.slice(0,u),{chunkSize:a}))}),Ai.RegisterDecompressionMethod(_o.STORED,function(c,u,a){return se(c,0,a)});var So=function(c){this._data=c};So.prototype.type=function(){return this._data[0]},So.prototype.standardIdentifier=function(){return cr(this._data,1,5)},So.prototype.version=function(){return this._data[6]},So.prototype.data=function(){return this._data.slice(7,2048)};var dm=function(c){function u(a){c.call(this,a),this._root=null}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.systemIdentifier=function(){return this._getString32(8)},u.prototype.volumeIdentifier=function(){return this._getString32(40)},u.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},u.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},u.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},u.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},u.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},u.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},u.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},u.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},u.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},u.prototype.rootDirectoryEntry=function(a){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(a)),this._root},u.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},u.prototype.publisherIdentifier=function(){return this._getString(318,128)},u.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},u.prototype.applicationIdentifier=function(){return this._getString(574,128)},u.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},u.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},u.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},u.prototype.volumeCreationDate=function(){return dn(this._data,813)},u.prototype.volumeModificationDate=function(){return dn(this._data,830)},u.prototype.volumeExpirationDate=function(){return dn(this._data,847)},u.prototype.volumeEffectiveDate=function(){return dn(this._data,864)},u.prototype.fileStructureVersion=function(){return this._data[881]},u.prototype.applicationUsed=function(){return this._data.slice(883,1395)},u.prototype.reserved=function(){return this._data.slice(1395,2048)},u.prototype._getString32=function(a){return this._getString(a,32)},u}(So),Yb=function(c){function u(a){if(c.call(this,a),this.type()!==1)throw new y(l.EIO,"Invalid primary volume descriptor.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"ISO9660"},u.prototype._constructRootDirectoryRecord=function(a){return new pm(a,-1)},u.prototype._getString=function(a,h){return this._getString(a,h)},u}(dm),Kb=function(c){function u(a){if(c.call(this,a),this.type()!==2)throw new y(l.EIO,"Invalid supplementary volume descriptor.");var h=this.escapeSequence(),p=h[2];if(h[0]!==37||h[1]!==47||p!==64&&p!==67&&p!==69)throw new y(l.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+h.toString())}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"Joliet"},u.prototype.escapeSequence=function(){return this._data.slice(88,120)},u.prototype._constructRootDirectoryRecord=function(a){return new ym(a,-1)},u.prototype._getString=function(a,h){return Bf(this._data,a,h)},u}(dm),et=function(c,u){this._suEntries=null,this._fileOrDir=null,this._data=c,this._rockRidgeOffset=u};et.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},et.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},et.prototype.rootCheckForRockRidge=function(c){var u=this.getDirectory(c);this._rockRidgeOffset=u.getDotEntry(c)._getRockRidgeOffset(c),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},et.prototype.length=function(){return this._data[0]},et.prototype.extendedAttributeRecordLength=function(){return this._data[1]},et.prototype.lba=function(){return 2048*this._data.readUInt32LE(2)},et.prototype.dataLength=function(){return this._data.readUInt32LE(10)},et.prototype.recordingDate=function(){return Ri(this._data,18)},et.prototype.fileFlags=function(){return this._data[25]},et.prototype.fileUnitSize=function(){return this._data[26]},et.prototype.interleaveGapSize=function(){return this._data[27]},et.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},et.prototype.identifier=function(){return this._getString(33,this._data[32])},et.prototype.fileName=function(c){if(this.hasRockRidge()){var u=this._rockRidgeFilename(c);if(u!==null)return u}var a=this.identifier();if(this.isDirectory(c))return a;var h=a.indexOf(";");return h===-1?a:a[h-1]==="."?a.slice(0,h-1):a.slice(0,h)},et.prototype.isDirectory=function(c){var u=!!(2&this.fileFlags());return!u&&this.hasRockRidge()&&(u=this.getSUEntries(c).filter(function(a){return a instanceof zf}).length>0),u},et.prototype.isSymlink=function(c){return this.hasRockRidge()&&this.getSUEntries(c).filter(function(u){return u instanceof Uf}).length>0},et.prototype.getSymlinkPath=function(c){for(var u="",a=this.getSUEntries(c),h=this._getGetString(),p=0,g=a;p<g.length;p+=1){var w=g[p];if(w instanceof Uf){for(var N=0,C=w.componentRecords();N<C.length;N+=1){var q=C[N],Q=q.flags();2&Q?u+="./":4&Q?u+="../":8&Q?u+="/":(u+=q.content(h),1&Q||(u+="/"))}if(!w.continueFlag())break}}return u.length>1&&u[u.length-1]==="/"?u.slice(0,u.length-1):u},et.prototype.getFile=function(c){if(this.isDirectory(c))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=c.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},et.prototype.getDirectory=function(c){if(!this.isDirectory(c))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(c)),this._fileOrDir},et.prototype.getSUEntries=function(c){return this._suEntries||this._constructSUEntries(c),this._suEntries},et.prototype._rockRidgeFilename=function(c){var u=this.getSUEntries(c).filter(function(N){return N instanceof Em});if(u.length===0||6&u[0].flags())return null;for(var a="",h=this._getGetString(),p=0,g=u;p<g.length;p+=1){var w=g[p];if(a+=w.name(h),!(1&w.flags()))break}return a},et.prototype._constructSUEntries=function(c){var u=33+this._data[32];u%2==1&&u++,u+=this._rockRidgeOffset,this._suEntries=hm(this._data,u,this.length(),c)},et.prototype._getRockRidgeOffset=function(c){this._rockRidgeOffset=0;var u=this.getSUEntries(c);if(u.length>0){var a=u[0];if(a instanceof gm&&a.checkBytesPass())for(var h=1;h<u.length;h++){var p=u[h];if(p instanceof _m||p instanceof wm&&p.extensionIdentifier()==="IEEE_P1282")return a.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var pm=function(c){function u(a,h){c.call(this,a,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._getString=function(a,h){return cr(this._data,a,h)},u.prototype._constructDirectory=function(a){return new r3(this,a)},u.prototype._getGetString=function(){return cr},u}(et),ym=function(c){function u(a,h){c.call(this,a,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._getString=function(a,h){return Bf(this._data,a,h)},u.prototype._constructDirectory=function(a){return new n3(this,a)},u.prototype._getGetString=function(){return Bf},u}(et),xt=function(c){this._data=c};xt.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},xt.prototype.signatureWordString=function(){return cr(this._data,0,2)},xt.prototype.length=function(){return this._data[2]},xt.prototype.suVersion=function(){return this._data[3]};var mm=function(c){function u(a){c.call(this,a),this._entries=null}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},u.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},u.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},u.prototype.getEntries=function(a){if(!this._entries){var h=2048*this.continuationLba()+this.continuationLbaOffset();this._entries=hm(a,h,this.continuationLength(),a)}return this._entries},u}(xt),Zb=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(xt),gm=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},u.prototype.bytesSkipped=function(){return this._data[6]},u}(xt),vm=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(xt),wm=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.identifierLength=function(){return this._data[4]},u.prototype.descriptorLength=function(){return this._data[5]},u.prototype.sourceLength=function(){return this._data[6]},u.prototype.extensionVersion=function(){return this._data[7]},u.prototype.extensionIdentifier=function(){return cr(this._data,8,this.identifierLength())},u.prototype.extensionDescriptor=function(){return cr(this._data,8+this.identifierLength(),this.descriptorLength())},u.prototype.extensionSource=function(){return cr(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},u}(xt),Xb=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.extensionSequence=function(){return this._data[4]},u}(xt),_m=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(xt),Sm=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.mode=function(){return this._data.readUInt32LE(4)},u.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},u.prototype.uid=function(){return this._data.readUInt32LE(20)},u.prototype.gid=function(){return this._data.readUInt32LE(28)},u.prototype.inode=function(){return this._data.readUInt32LE(36)},u}(xt),Qb=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},u.prototype.devTLow=function(){return this._data.readUInt32LE(12)},u}(xt),Uf=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.continueFlag=function(){return 1&this.flags()},u.prototype.componentRecords=function(){for(var a=new Array,h=5;h<this.length();){var p=new Cs(this._data.slice(h));a.push(p),h+=p.length()}return a},u}(xt),Cs=function(c){this._data=c};Cs.prototype.flags=function(){return this._data[0]},Cs.prototype.length=function(){return 2+this.componentLength()},Cs.prototype.componentLength=function(){return this._data[1]},Cs.prototype.content=function(c){return c(this._data,2,this.componentLength())};var Em=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.name=function(a){return a(this._data,5,this.length()-5)},u}(xt),zf=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(xt),e3=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(xt),bm=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(xt),xm=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.creation=function(){return 1&this.flags()?this._longFormDates()?dn(this._data,5):Ri(this._data,5):null},u.prototype.modify=function(){if(2&this.flags()){var a=1&this.flags()?1:0;return this._longFormDates?dn(this._data,5+17*a):Ri(this._data,5+7*a)}return null},u.prototype.access=function(){if(4&this.flags()){var a=1&this.flags()?1:0;return a+=2&this.flags()?1:0,this._longFormDates?dn(this._data,5+17*a):Ri(this._data,5+7*a)}return null},u.prototype.backup=function(){if(16&this.flags()){var a=1&this.flags()?1:0;return a+=2&this.flags()?1:0,a+=4&this.flags()?1:0,this._longFormDates?dn(this._data,5+17*a):Ri(this._data,5+7*a)}return null},u.prototype.expiration=function(){if(32&this.flags()){var a=1&this.flags()?1:0;return a+=2&this.flags()?1:0,a+=4&this.flags()?1:0,a+=16&this.flags()?1:0,this._longFormDates?dn(this._data,5+17*a):Ri(this._data,5+7*a)}return null},u.prototype.effective=function(){if(64&this.flags()){var a=1&this.flags()?1:0;return a+=2&this.flags()?1:0,a+=4&this.flags()?1:0,a+=16&this.flags()?1:0,a+=32&this.flags()?1:0,this._longFormDates?dn(this._data,5+17*a):Ri(this._data,5+7*a)}return null},u.prototype._longFormDates=function(){return!!this.flags()},u}(xt),t3=function(c){function u(a){c.call(this,a)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},u.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},u.prototype.tableDepth=function(){return this._data[20]},u}(xt),Ls=function(c,u){var a=this;this._fileList=[],this._fileMap={},this._record=c;var h=c.lba(),p=h+c.dataLength();for(2&c.fileFlags()||(h=2048*c.getSUEntries(u).filter(function(N){return N instanceof zf})[0].childDirectoryLba(),p=1/0);h<p;)if(u[h]!==0){var g=a._constructDirectoryRecord(u.slice(h)),w=g.fileName(u);w!=="\0"&&w!==""?g.hasRockRidge()&&g.getSUEntries(u).filter(function(N){return N instanceof bm}).length!==0||(a._fileMap[w]=g,a._fileList.push(w)):p===1/0&&(p=h+g.dataLength()),h+=g.length()}else h++};Ls.prototype.getRecord=function(c){return this._fileMap[c]},Ls.prototype.getFileList=function(){return this._fileList},Ls.prototype.getDotEntry=function(c){return this._constructDirectoryRecord(c.slice(this._record.lba()))};var r3=function(c){function u(a,h){c.call(this,a,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(a){return new pm(a,this._record.getRockRidgeOffset())},u}(Ls),n3=function(c){function u(a,h){c.call(this,a,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(a){return new ym(a,this._record.getRockRidgeOffset())},u}(Ls),xl=function(c){function u(a,h,p){var g=this;h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),this._data=a,ye(p,u.Name,{data:"ISO data as a Buffer",name:h});for(var w=!1,N=32768,C=new Array;!w;){var q=a.slice(N);switch(new So(q).type()){case 1:C.push(new Yb(q));break;case 2:C.push(new Kb(q));break;case 255:w=!0}N+=2048}if(C.length===0)throw new y(l.EIO,"Unable to find a suitable volume descriptor.");C.forEach(function(Q){g._pvd&&g._pvd.type()===2||(g._pvd=Q)}),this._root=this._pvd.rootDirectoryEntry(a),this._name=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(a,h){var p,g;try{p=new u(a.data,a.name,!1)}catch(w){w=w}finally{h(void 0,p)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){var a="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(a+="-RockRidge"),a},u.prototype.diskSpace=function(a,h){h(this._data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(a,h){var p=this._getDirectoryRecord(a);if(p===null)throw y.ENOENT(a);return this._getStats(a,p)},u.prototype.openSync=function(a,h,p){if(h.isWriteable())throw new y(l.EPERM,a);var g=this._getDirectoryRecord(a);if(!g)throw y.ENOENT(a);if(g.isSymlink(this._data))return this.openSync(d.resolve(a,g.getSymlinkPath(this._data)),h,p);if(g.isDirectory(this._data))throw y.EISDIR(a);var w=g.getFile(this._data),N=this._getStats(a,g);switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(a);case v.NOP:return new k(this,a,h,N,w);default:throw new y(l.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(a){var h=this._getDirectoryRecord(a);if(h){if(h.isDirectory(this._data))return h.getDirectory(this._data).getFileList().slice(0);throw y.ENOTDIR(a)}throw y.ENOENT(a)},u.prototype.readFileSync=function(a,h,p){var g=this.openSync(a,p,420);try{var w=g.getBuffer();return h===null?se(w):w.toString(h)}finally{g.closeSync()}},u.prototype._getDirectoryRecord=function(a){if(a==="/")return this._root;for(var h=a.split("/").slice(1),p=this._root,g=0,w=h;g<w.length;g+=1){var N=w[g];if(!p.isDirectory(this._data)||!(p=p.getDirectory(this._data).getRecord(N)))return null}return p},u.prototype._getStats=function(a,h){if(h.isSymlink(this._data)){var p=d.resolve(a,h.getSymlinkPath(this._data)),g=this._getDirectoryRecord(p);return g?this._getStats(p,g):null}var w=h.dataLength(),N=365,C=h.recordingDate(),q=C,Q=C,ce=C;if(h.hasRockRidge())for(var de=0,ge=h.getSUEntries(this._data);de<ge.length;de+=1){var ve=ge[de];if(ve instanceof Sm)N=ve.mode();else if(ve instanceof xm){var Te=ve.flags();4&Te&&(q=ve.access()),2&Te&&(Q=ve.modify()),1&Te&&(ce=ve.creation())}}return N&=365,new T(h.isDirectory(this._data)?O.DIRECTORY:O.FILE,w,N,q,Q,ce)},u}(_e);xl.Name="IsoFS",xl.Options={data:{type:"object",description:"The ISO file in a buffer",validator:Ie}},[ee,dl,pl,yo,yl,mo,Ts,xl,Is,go,Ds,Sl,El,Ai].forEach(function(c){var u=c.Create;c.Create=function(a,h){var p=typeof a=="function",g=p?a:h,w=p?{}:a;b(c,w,function(N){N?g(N):u.call(c,w,g)})}});var Om,Ol={AsyncMirror:ee,Dropbox:dl,Emscripten:pl,FolderAdapter:yo,HTML5FS:yl,InMemory:mo,IndexedDB:Ts,IsoFS:xl,LocalStorage:Is,MountableFileSystem:go,OverlayFS:Ds,WorkerFS:Sl,XmlHttpRequest:El,ZipFS:Ai};function km(c){switch(c){case"fs":return re;case"path":return d;case"buffer":return f;case"process":return s;case"bfs_utils":return A;default:return Ol[c]}}function Tm(c){return re.initialize(c)}function Vf(c,u){var a=c.fs;if(!a)return u(new y(l.EPERM,'Missing "fs" property on configuration object.'));var h=c.options,p=0,g=!1;function w(){if(!g){g=!0;var C=Ol[a];C?C.Create(h,u):u(new y(l.EPERM,"File system "+a+" is not available in BrowserFS."))}}if(h!==null&&typeof h=="object"){var N=!1;Object.keys(h).filter(function(C){return C!=="fs"}).forEach(function(C){var q=h[C];q!==null&&typeof q=="object"&&q.fs&&(p++,Vf(q,function(Q,ce){if(p--,Q){if(g)return;g=!0,u(Q)}else h[C]=ce,p===0&&N&&w()}))}),N=!0}p===0&&w()}s.initializeTTYs&&s.initializeTTYs(),"ab".substr(-1)!=="b"&&(String.prototype.substr=(Om=String.prototype.substr,function(c,u){return c<0&&(c=this.length+c),Om.call(this,c,u)})),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(c,u){return c===void 0&&(c=0),u===void 0&&(u=this.length),c<0&&(c=this.length+c)<0&&(c=0),u<0&&(u=this.length+u)<0&&(u=0),u<c&&(u=c),new Uint8Array(this.buffer,this.byteOffset+c,u-c)})),e.install=function(c){c.Buffer=n,c.process=s;var u=c.require?c.require:null;c.require=function(a){var h=km(a);return h||u.apply(null,Array.prototype.slice.call(arguments,0))}},e.registerFileSystem=function(c,u){Ol[c]=u},e.BFSRequire=km,e.initialize=Tm,e.configure=function(c,u){Vf(c,function(a,h){h?(Tm(h),u()):u(a)})},e.getFileSystem=Vf,e.EmscriptenFS=K,e.FileSystem=Ol,e.Errors=S,e.setImmediate=Mf}).call(e,r(1),function(){return this}(),r(5)(t),r(6))},function(t,e,r){t.exports=r(2).Buffer},function(t,e,r){(function(f){var i=r(3),o=r(4);e.Buffer=f,e.SlowBuffer=function(b){return+b!=b&&(b=0),f.alloc(+b)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function l(b){if(b>s)throw new RangeError("Invalid typed array length");var A=new Uint8Array(b);return A.__proto__=f.prototype,A}function f(b,A,j){if(typeof b=="number"){if(typeof A=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(b)}return d(b,A,j)}function d(b,A,j){if(typeof b=="number")throw new TypeError('"value" argument must not be a number');return pe(b)?function($,K,J){if(K<0||$.byteLength<K)throw new RangeError("'offset' is out of bounds");if($.byteLength<K+(J||0))throw new RangeError("'length' is out of bounds");var _e;return(_e=K===void 0&&J===void 0?new Uint8Array($):J===void 0?new Uint8Array($,K):new Uint8Array($,K,J)).__proto__=f.prototype,_e}(b,A,j):typeof b=="string"?function($,K){if(typeof K=="string"&&K!==""||(K="utf8"),!f.isEncoding(K))throw new TypeError('"encoding" must be a valid string encoding');var J=0|O($,K),_e=l(J),F=_e.write($,K);return F!==J&&(_e=_e.slice(0,F)),_e}(b,A):function($){if(f.isBuffer($)){var K=0|S($.length),J=l(K);return J.length===0||$.copy(J,0,0,K),J}if($){if(Ee($)||"length"in $)return typeof $.length!="number"||Ie($.length)?l(0):y($);if($.type==="Buffer"&&Array.isArray($.data))return y($.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(b)}function m(b){if(typeof b!="number")throw new TypeError('"size" argument must be a number');if(b<0)throw new RangeError('"size" argument must not be negative')}function v(b){return m(b),l(b<0?0:0|S(b))}function y(b){for(var A=b.length<0?0:0|S(b.length),j=l(A),$=0;$<A;$+=1)j[$]=255&b[$];return j}function S(b){if(b>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|b}function O(b,A){if(f.isBuffer(b))return b.length;if(Ee(b)||pe(b))return b.byteLength;typeof b!="string"&&(b=""+b);var j=b.length;if(j===0)return 0;for(var $=!1;;)switch(A){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":case void 0:return oe(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return ne(b).length;default:if($)return oe(b).length;A=(""+A).toLowerCase(),$=!0}}function R(b,A,j){var $=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(A>>>=0))return"";for(b||(b="utf8");;)switch(b){case"hex":return ye(this,A,j);case"utf8":case"utf-8":return re(this,A,j);case"ascii":return le(this,A,j);case"latin1":case"binary":return ae(this,A,j);case"base64":return W(this,A,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,A,j);default:if($)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),$=!0}}function T(b,A,j){var $=b[A];b[A]=b[j],b[j]=$}function I(b,A,j,$,K){if(b.length===0)return-1;if(typeof j=="string"?($=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),Ie(j=+j)&&(j=K?0:b.length-1),j<0&&(j=b.length+j),j>=b.length){if(K)return-1;j=b.length-1}else if(j<0){if(!K)return-1;j=0}if(typeof A=="string"&&(A=f.from(A,$)),f.isBuffer(A))return A.length===0?-1:L(b,A,j,$,K);if(typeof A=="number")return A&=255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(b,A,j):Uint8Array.prototype.lastIndexOf.call(b,A,j):L(b,[A],j,$,K);throw new TypeError("val must be string, number or Buffer")}function L(b,A,j,$,K){var J,_e=1,F=b.length,E=A.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(b.length<2||A.length<2)return-1;_e=2,F/=2,E/=2,j/=2}function k(he,Ce){return _e===1?he[Ce]:he.readUInt16BE(Ce*_e)}if(K){var B=-1;for(J=j;J<F;J++)if(k(b,J)===k(A,B===-1?0:J-B)){if(B===-1&&(B=J),J-B+1===E)return B*_e}else B!==-1&&(J-=J-B),B=-1}else for(j+E>F&&(j=F-E),J=j;J>=0;J--){for(var ee=!0,fe=0;fe<E;fe++)if(k(b,J+fe)!==k(A,fe)){ee=!1;break}if(ee)return J}return-1}function Y(b,A,j,$){j=Number(j)||0;var K=b.length-j;$?($=Number($))>K&&($=K):$=K;var J=A.length;if(J%2!=0)throw new TypeError("Invalid hex string");$>J/2&&($=J/2);for(var _e=0;_e<$;++_e){var F=parseInt(A.substr(2*_e,2),16);if(Ie(F))return _e;b[j+_e]=F}return _e}function H(b,A,j,$){return se(oe(A,b.length-j),b,j,$)}function Z(b,A,j,$){return se(function(K){for(var J=[],_e=0;_e<K.length;++_e)J.push(255&K.charCodeAt(_e));return J}(A),b,j,$)}function P(b,A,j,$){return Z(b,A,j,$)}function V(b,A,j,$){return se(ne(A),b,j,$)}function _(b,A,j,$){return se(function(K,J){for(var _e,F,E,k=[],B=0;B<K.length&&!((J-=2)<0);++B)F=(_e=K.charCodeAt(B))>>8,E=_e%256,k.push(E),k.push(F);return k}(A,b.length-j),b,j,$)}function W(b,A,j){return A===0&&j===b.length?i.fromByteArray(b):i.fromByteArray(b.slice(A,j))}function re(b,A,j){j=Math.min(b.length,j);for(var $=[],K=A;K<j;){var J,_e,F,E,k=b[K],B=null,ee=k>239?4:k>223?3:k>191?2:1;if(K+ee<=j)switch(ee){case 1:k<128&&(B=k);break;case 2:(192&(J=b[K+1]))==128&&(E=(31&k)<<6|63&J)>127&&(B=E);break;case 3:J=b[K+1],_e=b[K+2],(192&J)==128&&(192&_e)==128&&(E=(15&k)<<12|(63&J)<<6|63&_e)>2047&&(E<55296||E>57343)&&(B=E);break;case 4:J=b[K+1],_e=b[K+2],F=b[K+3],(192&J)==128&&(192&_e)==128&&(192&F)==128&&(E=(15&k)<<18|(63&J)<<12|(63&_e)<<6|63&F)>65535&&E<1114112&&(B=E)}B===null?(B=65533,ee=1):B>65535&&(B-=65536,$.push(B>>>10&1023|55296),B=56320|1023&B),$.push(B),K+=ee}return function(fe){var he=fe.length;if(he<=X)return String.fromCharCode.apply(String,fe);for(var Ce="",Re=0;Re<he;)Ce+=String.fromCharCode.apply(String,fe.slice(Re,Re+=X));return Ce}($)}e.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=function(){try{var b=new Uint8Array(1);return b.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},b.foo()===42}catch{return!1}}(),f.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(b,A,j){return d(b,A,j)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(b,A,j){return function($,K,J){return m($),$<=0?l($):K!==void 0?typeof J=="string"?l($).fill(K,J):l($).fill(K):l($)}(b,A,j)},f.allocUnsafe=function(b){return v(b)},f.allocUnsafeSlow=function(b){return v(b)},f.isBuffer=function(b){return b!=null&&b._isBuffer===!0},f.compare=function(b,A){if(!f.isBuffer(b)||!f.isBuffer(A))throw new TypeError("Arguments must be Buffers");if(b===A)return 0;for(var j=b.length,$=A.length,K=0,J=Math.min(j,$);K<J;++K)if(b[K]!==A[K]){j=b[K],$=A[K];break}return j<$?-1:$<j?1:0},f.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(b,A){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return f.alloc(0);var j;if(A===void 0)for(A=0,j=0;j<b.length;++j)A+=b[j].length;var $=f.allocUnsafe(A),K=0;for(j=0;j<b.length;++j){var J=b[j];if(!f.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');J.copy($,K),K+=J.length}return $},f.byteLength=O,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var b=this.length;if(b%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<b;A+=2)T(this,A,A+1);return this},f.prototype.swap32=function(){var b=this.length;if(b%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<b;A+=4)T(this,A,A+3),T(this,A+1,A+2);return this},f.prototype.swap64=function(){var b=this.length;if(b%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<b;A+=8)T(this,A,A+7),T(this,A+1,A+6),T(this,A+2,A+5),T(this,A+3,A+4);return this},f.prototype.toString=function(){var b=this.length;return b===0?"":arguments.length===0?re(this,0,b):R.apply(this,arguments)},f.prototype.equals=function(b){if(!f.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||f.compare(this,b)===0},f.prototype.inspect=function(){var b="",A=e.INSPECT_MAX_BYTES;return this.length>0&&(b=this.toString("hex",0,A).match(/.{2}/g).join(" "),this.length>A&&(b+=" ... ")),"<Buffer "+b+">"},f.prototype.compare=function(b,A,j,$,K){if(!f.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(A===void 0&&(A=0),j===void 0&&(j=b?b.length:0),$===void 0&&($=0),K===void 0&&(K=this.length),A<0||j>b.length||$<0||K>this.length)throw new RangeError("out of range index");if($>=K&&A>=j)return 0;if($>=K)return-1;if(A>=j)return 1;if(this===b)return 0;for(var J=(K>>>=0)-($>>>=0),_e=(j>>>=0)-(A>>>=0),F=Math.min(J,_e),E=this.slice($,K),k=b.slice(A,j),B=0;B<F;++B)if(E[B]!==k[B]){J=E[B],_e=k[B];break}return J<_e?-1:_e<J?1:0},f.prototype.includes=function(b,A,j){return this.indexOf(b,A,j)!==-1},f.prototype.indexOf=function(b,A,j){return I(this,b,A,j,!0)},f.prototype.lastIndexOf=function(b,A,j){return I(this,b,A,j,!1)},f.prototype.write=function(b,A,j,$){if(A===void 0)$="utf8",j=this.length,A=0;else if(j===void 0&&typeof A=="string")$=A,j=this.length,A=0;else{if(!isFinite(A))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");A>>>=0,isFinite(j)?(j>>>=0,$===void 0&&($="utf8")):($=j,j=void 0)}var K=this.length-A;if((j===void 0||j>K)&&(j=K),b.length>0&&(j<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var J=!1;;)switch($){case"hex":return Y(this,b,A,j);case"utf8":case"utf-8":return H(this,b,A,j);case"ascii":return Z(this,b,A,j);case"latin1":case"binary":return P(this,b,A,j);case"base64":return V(this,b,A,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,b,A,j);default:if(J)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),J=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function le(b,A,j){var $="";j=Math.min(b.length,j);for(var K=A;K<j;++K)$+=String.fromCharCode(127&b[K]);return $}function ae(b,A,j){var $="";j=Math.min(b.length,j);for(var K=A;K<j;++K)$+=String.fromCharCode(b[K]);return $}function ye(b,A,j){var $,K=b.length;(!A||A<0)&&(A=0),(!j||j<0||j>K)&&(j=K);for(var J="",_e=A;_e<j;++_e)J+=($=b[_e])<16?"0"+$.toString(16):$.toString(16);return J}function M(b,A,j){for(var $=b.slice(A,j),K="",J=0;J<$.length;J+=2)K+=String.fromCharCode($[J]+256*$[J+1]);return K}function D(b,A,j){if(b%1!=0||b<0)throw new RangeError("offset is not uint");if(b+A>j)throw new RangeError("Trying to access beyond buffer length")}function ie(b,A,j,$,K,J){if(!f.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>K||A<J)throw new RangeError('"value" argument is out of bounds');if(j+$>b.length)throw new RangeError("Index out of range")}function U(b,A,j,$,K,J){if(j+$>b.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function z(b,A,j,$,K){return A=+A,j>>>=0,K||U(b,0,j,4),o.write(b,A,j,$,23,4),j+4}function G(b,A,j,$,K){return A=+A,j>>>=0,K||U(b,0,j,8),o.write(b,A,j,$,52,8),j+8}f.prototype.slice=function(b,A){var j=this.length;(b=~~b)<0?(b+=j)<0&&(b=0):b>j&&(b=j),(A=A===void 0?j:~~A)<0?(A+=j)<0&&(A=0):A>j&&(A=j),A<b&&(A=b);var $=this.subarray(b,A);return $.__proto__=f.prototype,$},f.prototype.readUIntLE=function(b,A,j){b>>>=0,A>>>=0,j||D(b,A,this.length);for(var $=this[b],K=1,J=0;++J<A&&(K*=256);)$+=this[b+J]*K;return $},f.prototype.readUIntBE=function(b,A,j){b>>>=0,A>>>=0,j||D(b,A,this.length);for(var $=this[b+--A],K=1;A>0&&(K*=256);)$+=this[b+--A]*K;return $},f.prototype.readUInt8=function(b,A){return b>>>=0,A||D(b,1,this.length),this[b]},f.prototype.readUInt16LE=function(b,A){return b>>>=0,A||D(b,2,this.length),this[b]|this[b+1]<<8},f.prototype.readUInt16BE=function(b,A){return b>>>=0,A||D(b,2,this.length),this[b]<<8|this[b+1]},f.prototype.readUInt32LE=function(b,A){return b>>>=0,A||D(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]},f.prototype.readUInt32BE=function(b,A){return b>>>=0,A||D(b,4,this.length),16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])},f.prototype.readIntLE=function(b,A,j){b>>>=0,A>>>=0,j||D(b,A,this.length);for(var $=this[b],K=1,J=0;++J<A&&(K*=256);)$+=this[b+J]*K;return $>=(K*=128)&&($-=Math.pow(2,8*A)),$},f.prototype.readIntBE=function(b,A,j){b>>>=0,A>>>=0,j||D(b,A,this.length);for(var $=A,K=1,J=this[b+--$];$>0&&(K*=256);)J+=this[b+--$]*K;return J>=(K*=128)&&(J-=Math.pow(2,8*A)),J},f.prototype.readInt8=function(b,A){return b>>>=0,A||D(b,1,this.length),128&this[b]?-1*(255-this[b]+1):this[b]},f.prototype.readInt16LE=function(b,A){b>>>=0,A||D(b,2,this.length);var j=this[b]|this[b+1]<<8;return 32768&j?4294901760|j:j},f.prototype.readInt16BE=function(b,A){b>>>=0,A||D(b,2,this.length);var j=this[b+1]|this[b]<<8;return 32768&j?4294901760|j:j},f.prototype.readInt32LE=function(b,A){return b>>>=0,A||D(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},f.prototype.readInt32BE=function(b,A){return b>>>=0,A||D(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},f.prototype.readFloatLE=function(b,A){return b>>>=0,A||D(b,4,this.length),o.read(this,b,!0,23,4)},f.prototype.readFloatBE=function(b,A){return b>>>=0,A||D(b,4,this.length),o.read(this,b,!1,23,4)},f.prototype.readDoubleLE=function(b,A){return b>>>=0,A||D(b,8,this.length),o.read(this,b,!0,52,8)},f.prototype.readDoubleBE=function(b,A){return b>>>=0,A||D(b,8,this.length),o.read(this,b,!1,52,8)},f.prototype.writeUIntLE=function(b,A,j,$){b=+b,A>>>=0,j>>>=0,$||ie(this,b,A,j,Math.pow(2,8*j)-1,0);var K=1,J=0;for(this[A]=255&b;++J<j&&(K*=256);)this[A+J]=b/K&255;return A+j},f.prototype.writeUIntBE=function(b,A,j,$){b=+b,A>>>=0,j>>>=0,$||ie(this,b,A,j,Math.pow(2,8*j)-1,0);var K=j-1,J=1;for(this[A+K]=255&b;--K>=0&&(J*=256);)this[A+K]=b/J&255;return A+j},f.prototype.writeUInt8=function(b,A,j){return b=+b,A>>>=0,j||ie(this,b,A,1,255,0),this[A]=255&b,A+1},f.prototype.writeUInt16LE=function(b,A,j){return b=+b,A>>>=0,j||ie(this,b,A,2,65535,0),this[A]=255&b,this[A+1]=b>>>8,A+2},f.prototype.writeUInt16BE=function(b,A,j){return b=+b,A>>>=0,j||ie(this,b,A,2,65535,0),this[A]=b>>>8,this[A+1]=255&b,A+2},f.prototype.writeUInt32LE=function(b,A,j){return b=+b,A>>>=0,j||ie(this,b,A,4,4294967295,0),this[A+3]=b>>>24,this[A+2]=b>>>16,this[A+1]=b>>>8,this[A]=255&b,A+4},f.prototype.writeUInt32BE=function(b,A,j){return b=+b,A>>>=0,j||ie(this,b,A,4,4294967295,0),this[A]=b>>>24,this[A+1]=b>>>16,this[A+2]=b>>>8,this[A+3]=255&b,A+4},f.prototype.writeIntLE=function(b,A,j,$){if(b=+b,A>>>=0,!$){var K=Math.pow(2,8*j-1);ie(this,b,A,j,K-1,-K)}var J=0,_e=1,F=0;for(this[A]=255&b;++J<j&&(_e*=256);)b<0&&F===0&&this[A+J-1]!==0&&(F=1),this[A+J]=(b/_e>>0)-F&255;return A+j},f.prototype.writeIntBE=function(b,A,j,$){if(b=+b,A>>>=0,!$){var K=Math.pow(2,8*j-1);ie(this,b,A,j,K-1,-K)}var J=j-1,_e=1,F=0;for(this[A+J]=255&b;--J>=0&&(_e*=256);)b<0&&F===0&&this[A+J+1]!==0&&(F=1),this[A+J]=(b/_e>>0)-F&255;return A+j},f.prototype.writeInt8=function(b,A,j){return b=+b,A>>>=0,j||ie(this,b,A,1,127,-128),b<0&&(b=255+b+1),this[A]=255&b,A+1},f.prototype.writeInt16LE=function(b,A,j){return b=+b,A>>>=0,j||ie(this,b,A,2,32767,-32768),this[A]=255&b,this[A+1]=b>>>8,A+2},f.prototype.writeInt16BE=function(b,A,j){return b=+b,A>>>=0,j||ie(this,b,A,2,32767,-32768),this[A]=b>>>8,this[A+1]=255&b,A+2},f.prototype.writeInt32LE=function(b,A,j){return b=+b,A>>>=0,j||ie(this,b,A,4,2147483647,-2147483648),this[A]=255&b,this[A+1]=b>>>8,this[A+2]=b>>>16,this[A+3]=b>>>24,A+4},f.prototype.writeInt32BE=function(b,A,j){return b=+b,A>>>=0,j||ie(this,b,A,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[A]=b>>>24,this[A+1]=b>>>16,this[A+2]=b>>>8,this[A+3]=255&b,A+4},f.prototype.writeFloatLE=function(b,A,j){return z(this,b,A,!0,j)},f.prototype.writeFloatBE=function(b,A,j){return z(this,b,A,!1,j)},f.prototype.writeDoubleLE=function(b,A,j){return G(this,b,A,!0,j)},f.prototype.writeDoubleBE=function(b,A,j){return G(this,b,A,!1,j)},f.prototype.copy=function(b,A,j,$){if(j||(j=0),$||$===0||($=this.length),A>=b.length&&(A=b.length),A||(A=0),$>0&&$<j&&($=j),$===j||b.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("sourceStart out of bounds");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),b.length-A<$-j&&($=b.length-A+j);var K,J=$-j;if(this===b&&j<A&&A<$)for(K=J-1;K>=0;--K)b[K+A]=this[K+j];else if(J<1e3)for(K=0;K<J;++K)b[K+A]=this[K+j];else Uint8Array.prototype.set.call(b,this.subarray(j,j+J),A);return J},f.prototype.fill=function(b,A,j,$){if(typeof b=="string"){if(typeof A=="string"?($=A,A=0,j=this.length):typeof j=="string"&&($=j,j=this.length),b.length===1){var K=b.charCodeAt(0);K<256&&(b=K)}if($!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!f.isEncoding($))throw new TypeError("Unknown encoding: "+$)}else typeof b=="number"&&(b&=255);if(A<0||this.length<A||this.length<j)throw new RangeError("Out of range index");if(j<=A)return this;var J;if(A>>>=0,j=j===void 0?this.length:j>>>0,b||(b=0),typeof b=="number")for(J=A;J<j;++J)this[J]=b;else{var _e=f.isBuffer(b)?b:new f(b,$),F=_e.length;for(J=0;J<j-A;++J)this[J+A]=_e[J%F]}return this};var ue=/[^+/0-9A-Za-z-_]/g;function oe(b,A){var j;A=A||1/0;for(var $=b.length,K=null,J=[],_e=0;_e<$;++_e){if((j=b.charCodeAt(_e))>55295&&j<57344){if(!K){if(j>56319){(A-=3)>-1&&J.push(239,191,189);continue}if(_e+1===$){(A-=3)>-1&&J.push(239,191,189);continue}K=j;continue}if(j<56320){(A-=3)>-1&&J.push(239,191,189),K=j;continue}j=65536+(K-55296<<10|j-56320)}else K&&(A-=3)>-1&&J.push(239,191,189);if(K=null,j<128){if((A-=1)<0)break;J.push(j)}else if(j<2048){if((A-=2)<0)break;J.push(j>>6|192,63&j|128)}else if(j<65536){if((A-=3)<0)break;J.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;J.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return J}function ne(b){return i.toByteArray(function(A){if((A=A.trim().replace(ue,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}(b))}function se(b,A,j,$){for(var K=0;K<$&&!(K+j>=A.length||K>=b.length);++K)A[K+j]=b[K];return K}function pe(b){return b instanceof ArrayBuffer||b!=null&&b.constructor!=null&&b.constructor.name==="ArrayBuffer"&&typeof b.byteLength=="number"}function Ee(b){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(b)}function Ie(b){return b!=b}}).call(e,r(1))},function(t,e){e.byteLength=function(m){return 3*m.length/4-f(m)},e.toByteArray=function(m){var v,y,S,O,R,T,I=m.length;R=f(m),T=new i(3*I/4-R),S=R>0?I-4:I;var L=0;for(v=0,y=0;v<S;v+=4,y+=3)O=n[m.charCodeAt(v)]<<18|n[m.charCodeAt(v+1)]<<12|n[m.charCodeAt(v+2)]<<6|n[m.charCodeAt(v+3)],T[L++]=O>>16&255,T[L++]=O>>8&255,T[L++]=255&O;return R===2?(O=n[m.charCodeAt(v)]<<2|n[m.charCodeAt(v+1)]>>4,T[L++]=255&O):R===1&&(O=n[m.charCodeAt(v)]<<10|n[m.charCodeAt(v+1)]<<4|n[m.charCodeAt(v+2)]>>2,T[L++]=O>>8&255,T[L++]=255&O),T},e.fromByteArray=function(m){for(var v,y=m.length,S=y%3,O="",R=[],T=16383,I=0,L=y-S;I<L;I+=T)R.push(d(m,I,I+T>L?L:I+T));return S===1?(v=m[y-1],O+=r[v>>2],O+=r[v<<4&63],O+="=="):S===2&&(v=(m[y-2]<<8)+m[y-1],O+=r[v>>10],O+=r[v>>4&63],O+=r[v<<2&63],O+="="),R.push(O),R.join("")};for(var r=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function f(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return m[v-2]==="="?2:m[v-1]==="="?1:0}function d(m,v,y){for(var S,O,R=[],T=v;T<y;T+=3)S=(m[T]<<16)+(m[T+1]<<8)+m[T+2],R.push(r[(O=S)>>18&63]+r[O>>12&63]+r[O>>6&63]+r[63&O]);return R.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){e.read=function(r,n,i,o,s){var l,f,d=8*s-o-1,m=(1<<d)-1,v=m>>1,y=-7,S=i?s-1:0,O=i?-1:1,R=r[n+S];for(S+=O,l=R&(1<<-y)-1,R>>=-y,y+=d;y>0;l=256*l+r[n+S],S+=O,y-=8);for(f=l&(1<<-y)-1,l>>=-y,y+=o;y>0;f=256*f+r[n+S],S+=O,y-=8);if(l===0)l=1-v;else{if(l===m)return f?NaN:1/0*(R?-1:1);f+=Math.pow(2,o),l-=v}return(R?-1:1)*f*Math.pow(2,l-o)},e.write=function(r,n,i,o,s,l){var f,d,m,v=8*l-s-1,y=(1<<v)-1,S=y>>1,O=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=o?0:l-1,T=o?1:-1,I=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(d=isNaN(n)?1:0,f=y):(f=Math.floor(Math.log(n)/Math.LN2),n*(m=Math.pow(2,-f))<1&&(f--,m*=2),(n+=f+S>=1?O/m:O*Math.pow(2,1-S))*m>=2&&(f++,m/=2),f+S>=y?(d=0,f=y):f+S>=1?(d=(n*m-1)*Math.pow(2,s),f+=S):(d=n*Math.pow(2,S-1)*Math.pow(2,s),f=0));s>=8;r[i+R]=255&d,R+=T,d/=256,s-=8);for(f=f<<s|d,v+=s;v>0;r[i+R]=255&f,R+=T,f/=256,v-=8);r[i+R-T]|=128*I}},function(t,e){t.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children=[],r.webpackPolyfill=1),r}},function(t,e,r){var n=new(r(7)),i={};function o(l){i[l]||(typeof n[l]=="function"?i[l]=function(){return n[l].apply(n,arguments)}:i[l]=n[l])}for(var s in n)o(s);i.initializeTTYs=function(){n.stdin===null&&(n.initializeTTYs(),i.stdin=n.stdin,i.stdout=n.stdout,i.stderr=n.stderr)},n.nextTick(function(){i.initializeTTYs()}),t.exports=i},function(t,e,r){(function(n){var i=this&&this.__extends||function(m,v){for(var y in v)v.hasOwnProperty(y)&&(m[y]=v[y]);function S(){this.constructor=m}m.prototype=v===null?Object.create(v):(S.prototype=v.prototype,new S)},o=r(8),s=null,l=function(){function m(v,y){this.fun=v,this.array=y}return m.prototype.run=function(){this.fun.apply(null,this.array)},m}(),f=function(){function m(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return m.prototype.push=function(v){var y=this;this._queue.push(v)!==1||this._draining||setTimeout(function(){return y._drainQueue()},0)},m.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},m.prototype._drainQueue=function(){var v=this;if(!this._draining){var y=setTimeout(function(){return v._cleanUpNextTick()});this._draining=!0;for(var S=this._queue.length;S;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<S;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,S=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(y)}},m}(),d=function(m){function v(){m.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new f,this.execPath=n,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=1e3*Math.random()|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return i(v,m),v.prototype.chdir=function(y){s===null&&(s=r(9)),this._cwd=s.resolve(y)},v.prototype.cwd=function(){return this._cwd},v.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},v.prototype.nextTick=function(y){for(var S=[],O=1;O<arguments.length;O++)S[O-1]=arguments[O];this._queue.push(new l(y,S))},v.prototype.abort=function(){this.emit("abort")},v.prototype.exit=function(y){this.exitCode=y,this.emit("exit",[y])},v.prototype.getgid=function(){return this._gid},v.prototype.setgid=function(y){this._gid=typeof y=="number"?y:1},v.prototype.getuid=function(){return this._uid},v.prototype.setuid=function(y){this._uid=typeof y=="number"?y:1},v.prototype.kill=function(y,S){this.emit("kill",[y,S])},v.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},v.prototype.umask=function(y){y===void 0&&(y=this._mask);var S=this._mask;return this._mask=y,this.emit("umask",[y]),S},v.prototype.hrtime=function(){var y,S=(y=typeof performance<"u"?performance.now():Date.now?Date.now():new Date().getTime())/1e3|0;return[S,y=1e6*(y-=1e3*S)|0]},v.prototype.initializeTTYs=function(){if(this.stdout===null){var y=r(10);this.stdout=new y,this.stderr=new y,this.stdin=new y}},v.prototype.disconnect=function(){},v}(o.EventEmitter);t.exports=d}).call(e,"/")},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(s){return typeof s=="function"}function i(s){return typeof s=="object"&&s!==null}function o(s){return s===void 0}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(s){if(typeof s!="number"||s<0||isNaN(s))throw TypeError("n must be a positive number");return this._maxListeners=s,this},r.prototype.emit=function(s){var l,f,d,m,v,y;if(this._events||(this._events={}),s==="error"&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((l=arguments[1])instanceof Error)throw l;var S=new Error('Uncaught, unspecified "error" event. ('+l+")");throw S.context=l,S}if(o(f=this._events[s]))return!1;if(n(f))switch(arguments.length){case 1:f.call(this);break;case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:m=Array.prototype.slice.call(arguments,1),f.apply(this,m)}else if(i(f))for(m=Array.prototype.slice.call(arguments,1),d=(y=f.slice()).length,v=0;v<d;v++)y[v].apply(this,m);return!0},r.prototype.addListener=function(s,l){var f;if(!n(l))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",s,n(l.listener)?l.listener:l),this._events[s]?i(this._events[s])?this._events[s].push(l):this._events[s]=[this._events[s],l]:this._events[s]=l,i(this._events[s])&&!this._events[s].warned&&(f=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&f>0&&this._events[s].length>f&&(this._events[s].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s].length),typeof console.trace=="function"&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(s,l){if(!n(l))throw TypeError("listener must be a function");var f=!1;function d(){this.removeListener(s,d),f||(f=!0,l.apply(this,arguments))}return d.listener=l,this.on(s,d),this},r.prototype.removeListener=function(s,l){var f,d,m,v;if(!n(l))throw TypeError("listener must be a function");if(!this._events||!this._events[s])return this;if(m=(f=this._events[s]).length,d=-1,f===l||n(f.listener)&&f.listener===l)delete this._events[s],this._events.removeListener&&this.emit("removeListener",s,l);else if(i(f)){for(v=m;v-- >0;)if(f[v]===l||f[v].listener&&f[v].listener===l){d=v;break}if(d<0)return this;f.length===1?(f.length=0,delete this._events[s]):f.splice(d,1),this._events.removeListener&&this.emit("removeListener",s,l)}return this},r.prototype.removeAllListeners=function(s){var l,f;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[s]&&delete this._events[s],this;if(arguments.length===0){for(l in this._events)l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events={},this}if(n(f=this._events[s]))this.removeListener(s,f);else if(f)for(;f.length;)this.removeListener(s,f[f.length-1]);return delete this._events[s],this},r.prototype.listeners=function(s){return this._events&&this._events[s]?n(this._events[s])?[this._events[s]]:this._events[s].slice():[]},r.prototype.listenerCount=function(s){if(this._events){var l=this._events[s];if(n(l))return 1;if(l)return l.length}return 0},r.listenerCount=function(s,l){return s.listenerCount(l)}},function(t,e,r){(function(n){var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(){function s(){}return s.normalize=function(l){l===""&&(l=".");for(var f=l.charAt(0)===s.sep,d=(l=s._removeDuplicateSeps(l)).split(s.sep),m=[],v=0;v<d.length;v++){var y=d[v];y!=="."&&(y===".."&&(f||!f&&m.length>0&&m[0]!=="..")?m.pop():m.push(y))}return!f&&m.length<2&&(m.length===1?m[0]===""&&m.unshift("."):m.push(".")),l=m.join(s.sep),f&&l.charAt(0)!==s.sep&&(l=s.sep+l),l},s.join=function(){for(var l=[],f=0;f<arguments.length;f++)l[f-0]=arguments[f];for(var d=[],m=0;m<l.length;m++){var v=l[m];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&d.push(v)}return s.normalize(d.join(s.sep))},s.resolve=function(){for(var l=[],f=0;f<arguments.length;f++)l[f-0]=arguments[f];for(var d=[],m=0;m<l.length;m++){var v=l[m];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&(v.charAt(0)===s.sep&&(d=[]),d.push(v))}var y=s.normalize(d.join(s.sep));if(y.length>1&&y.charAt(y.length-1)===s.sep)return y.substr(0,y.length-1);if(y.charAt(0)!==s.sep){y.charAt(0)!=="."||y.length!==1&&y.charAt(1)!==s.sep||(y=y.length===1?"":y.substr(2));var S=n.cwd();y=y!==""?this.normalize(S+(S!=="/"?s.sep:"")+y):S}return y},s.relative=function(l,f){var d;l=s.resolve(l),f=s.resolve(f);var m=l.split(s.sep),v=f.split(s.sep);v.shift(),m.shift();var y=0,S=[];for(d=0;d<m.length;d++)if(m[d]!==v[d]){y=m.length-d;break}S=v.slice(d),m.length===1&&m[0]===""&&(y=0),y>m.length&&(y=m.length);var O="";for(d=0;d<y;d++)O+="../";return(O+=S.join(s.sep)).length>1&&O.charAt(O.length-1)===s.sep&&(O=O.substr(0,O.length-1)),O},s.dirname=function(l){var f=(l=s._removeDuplicateSeps(l)).charAt(0)===s.sep,d=l.split(s.sep);return d.pop()===""&&d.length>0&&d.pop(),d.length>1||d.length===1&&!f?d.join(s.sep):f?s.sep:"."},s.basename=function(l,f){if(f===void 0&&(f=""),l==="")return l;var d=(l=s.normalize(l)).split(s.sep),m=d[d.length-1];return m===""&&d.length>1?d[d.length-2]:f.length>0&&m.substr(m.length-f.length)===f?m.substr(0,m.length-f.length):m},s.extname=function(l){var f=(l=s.normalize(l)).split(s.sep);if((l=f.pop())===""&&f.length>0&&(l=f.pop()),l==="..")return"";var d=l.lastIndexOf(".");return d===-1||d===0?"":l.substr(d)},s.isAbsolute=function(l){return l.length>0&&l.charAt(0)===s.sep},s._makeLong=function(l){return l},s.parse=function(l){var f=function(d){var m=i.exec(d);return m.shift(),m}(l);return{root:f[0],dir:f[0]+f[1].slice(0,-1),base:f[2],ext:f[3],name:f[2].slice(0,f[2].length-f[3].length)}},s.format=function(l){if(l===null||typeof l!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof l);if(typeof(l.root||"")!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof l.root);return(l.dir?l.dir+s.sep:"")+(l.base||"")},s._removeDuplicateSeps=function(l){return l=l.replace(this._replaceRegex,this.sep)},s.sep="/",s._replaceRegex=new RegExp("//+","g"),s.delimiter=":",s.posix=s,s.win32=s,s}();t.exports=o}).call(e,r(6))},function(t,e,r){(function(n){var i=this&&this.__extends||function(s,l){for(var f in l)l.hasOwnProperty(f)&&(s[f]=l[f]);function d(){this.constructor=s}s.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)},o=function(s){function l(){s.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return i(l,s),l.prototype.setRawMode=function(f){this.isRaw!==f&&(this.isRaw=f,this.emit("modeChange"))},l.prototype.changeColumns=function(f){f!==this.columns&&(this.columns=f,this.emit("resize"))},l.prototype.changeRows=function(f){f!==this.rows&&(this.rows=f,this.emit("resize"))},l.isatty=function(f){return f&&f instanceof l},l.prototype._write=function(f,d,m){var v;try{var y;y=typeof f=="string"?new n(f,d):f,this._bufferedWrites.push(y),this._waitingForWrites&&this._read(1024)}catch(S){v=S}finally{m(v)}},l.prototype._read=function(f){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),this._waitingForWrites););},l}(r(11).Duplex);t.exports=o}).call(e,r(1))},function(t,e,r){t.exports=i;var n=r(8).EventEmitter;function i(){n.call(this)}r(12)(i,n),i.Readable=r(13),i.Writable=r(27),i.Duplex=r(28),i.Transform=r(29),i.PassThrough=r(30),i.Stream=i,i.prototype.pipe=function(o,s){var l=this;function f(R){o.writable&&o.write(R)===!1&&l.pause&&l.pause()}function d(){l.readable&&l.resume&&l.resume()}l.on("data",f),o.on("drain",d),o._isStdio||s&&s.end===!1||(l.on("end",v),l.on("close",y));var m=!1;function v(){m||(m=!0,o.end())}function y(){m||(m=!0,typeof o.destroy=="function"&&o.destroy())}function S(R){if(O(),n.listenerCount(this,"error")===0)throw R}function O(){l.removeListener("data",f),o.removeListener("drain",d),l.removeListener("end",v),l.removeListener("close",y),l.removeListener("error",S),o.removeListener("error",S),l.removeListener("end",O),l.removeListener("close",O),o.removeListener("close",O)}return l.on("error",S),o.on("error",S),l.on("end",O),l.on("close",O),o.on("close",O),o.emit("pipe",l),o}},function(t,e){typeof Object.create=="function"?t.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},function(t,e,r){(function(n){var i=function(){try{return r(11)}catch{}}();(e=t.exports=r(14)).Stream=i||e,e.Readable=e,e.Writable=r(22),e.Duplex=r(21),e.Transform=r(25),e.PassThrough=r(26),!n.browser&&n.env.READABLE_STREAM==="disable"&&i&&(t.exports=i)}).call(e,r(6))},function(t,e,r){(function(n){t.exports=I;var i,o=r(15),s=r(16);I.ReadableState=T,r(8).EventEmitter;var l,f=function(M,D){return M.listeners(D).length};(function(){try{l=r(11)}catch{}finally{l||(l=r(8).EventEmitter)}})();var d=r(2).Buffer,m=r(17),v=r(18);v.inherits=r(12);var y=r(19),S=void 0;S=y&&y.debuglog?y.debuglog("stream"):function(){};var O,R=r(20);function T(M,D){i=i||r(21),M=M||{},this.objectMode=!!M.objectMode,D instanceof i&&(this.objectMode=this.objectMode||!!M.readableObjectMode);var ie=M.highWaterMark,U=this.objectMode?16:16384;this.highWaterMark=ie||ie===0?ie:U,this.highWaterMark=~~this.highWaterMark,this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(O||(O=r(24).StringDecoder),this.decoder=new O(M.encoding),this.encoding=M.encoding)}function I(M){if(i=i||r(21),!(this instanceof I))return new I(M);this._readableState=new T(M,this),this.readable=!0,M&&typeof M.read=="function"&&(this._read=M.read),l.call(this)}function L(M,D,ie,U,z){var G=function(se,pe){var Ee=null;return d.isBuffer(pe)||typeof pe=="string"||pe==null||se.objectMode||(Ee=new TypeError("Invalid non-string/buffer chunk")),Ee}(D,ie);if(G)M.emit("error",G);else if(ie===null)D.reading=!1,function(se,pe){if(!pe.ended){if(pe.decoder){var Ee=pe.decoder.end();Ee&&Ee.length&&(pe.buffer.push(Ee),pe.length+=pe.objectMode?1:Ee.length)}pe.ended=!0,Z(se)}}(M,D);else if(D.objectMode||ie&&ie.length>0)if(D.ended&&!z){var ue=new Error("stream.push() after EOF");M.emit("error",ue)}else if(D.endEmitted&&z){var oe=new Error("stream.unshift() after end event");M.emit("error",oe)}else{var ne;!D.decoder||z||U||(ie=D.decoder.write(ie),ne=!D.objectMode&&ie.length===0),z||(D.reading=!1),ne||(D.flowing&&D.length===0&&!D.sync?(M.emit("data",ie),M.read(0)):(D.length+=D.objectMode?1:ie.length,z?D.buffer.unshift(ie):D.buffer.push(ie),D.needReadable&&Z(M))),function(se,pe){pe.readingMore||(pe.readingMore=!0,o(V,se,pe))}(M,D)}else z||(D.reading=!1);return function(se){return!se.ended&&(se.needReadable||se.length<se.highWaterMark||se.length===0)}(D)}v.inherits(I,l),I.prototype.push=function(M,D){var ie=this._readableState;return ie.objectMode||typeof M!="string"||(D=D||ie.defaultEncoding)!==ie.encoding&&(M=m.from(M,D),D=""),L(this,ie,M,D,!1)},I.prototype.unshift=function(M){return L(this,this._readableState,M,"",!0)},I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(M){return O||(O=r(24).StringDecoder),this._readableState.decoder=new O(M),this._readableState.encoding=M,this};var Y=8388608;function H(M,D){return M<=0||D.length===0&&D.ended?0:D.objectMode?1:M!=M?D.flowing&&D.length?D.buffer.head.data.length:D.length:(M>D.highWaterMark&&(D.highWaterMark=function(ie){return ie>=Y?ie=Y:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}(M)),M<=D.length?M:D.ended?D.length:(D.needReadable=!0,0))}function Z(M){var D=M._readableState;D.needReadable=!1,D.emittedReadable||(S("emitReadable",D.flowing),D.emittedReadable=!0,D.sync?o(P,M):P(M))}function P(M){S("emit readable"),M.emit("readable"),re(M)}function V(M,D){for(var ie=D.length;!D.reading&&!D.flowing&&!D.ended&&D.length<D.highWaterMark&&(S("maybeReadMore read 0"),M.read(0),ie!==D.length);)ie=D.length;D.readingMore=!1}function _(M){S("readable nexttick read 0"),M.read(0)}function W(M,D){D.reading||(S("resume read 0"),M.read(0)),D.resumeScheduled=!1,D.awaitDrain=0,M.emit("resume"),re(M),D.flowing&&!D.reading&&M.read(0)}function re(M){var D=M._readableState;for(S("flow",D.flowing);D.flowing&&M.read()!==null;);}function X(M,D){return D.length===0?null:(D.objectMode?ie=D.buffer.shift():!M||M>=D.length?(ie=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.head.data:D.buffer.concat(D.length),D.buffer.clear()):ie=function(U,z,G){var ue;return U<z.head.data.length?(ue=z.head.data.slice(0,U),z.head.data=z.head.data.slice(U)):ue=U===z.head.data.length?z.shift():G?function(oe,ne){var se=ne.head,pe=1,Ee=se.data;for(oe-=Ee.length;se=se.next;){var Ie=se.data,b=oe>Ie.length?Ie.length:oe;if(b===Ie.length?Ee+=Ie:Ee+=Ie.slice(0,oe),(oe-=b)==0){b===Ie.length?(++pe,se.next?ne.head=se.next:ne.head=ne.tail=null):(ne.head=se,se.data=Ie.slice(b));break}++pe}return ne.length-=pe,Ee}(U,z):function(oe,ne){var se=m.allocUnsafe(oe),pe=ne.head,Ee=1;for(pe.data.copy(se),oe-=pe.data.length;pe=pe.next;){var Ie=pe.data,b=oe>Ie.length?Ie.length:oe;if(Ie.copy(se,se.length-oe,0,b),(oe-=b)==0){b===Ie.length?(++Ee,pe.next?ne.head=pe.next:ne.head=ne.tail=null):(ne.head=pe,pe.data=Ie.slice(b));break}++Ee}return ne.length-=Ee,se}(U,z),ue}(M,D.buffer,D.decoder),ie);var ie}function le(M){var D=M._readableState;if(D.length>0)throw new Error('"endReadable()" called on non-empty stream');D.endEmitted||(D.ended=!0,o(ae,D,M))}function ae(M,D){M.endEmitted||M.length!==0||(M.endEmitted=!0,D.readable=!1,D.emit("end"))}function ye(M,D){for(var ie=0,U=M.length;ie<U;ie++)if(M[ie]===D)return ie;return-1}I.prototype.read=function(M){S("read",M),M=parseInt(M,10);var D=this._readableState,ie=M;if(M!==0&&(D.emittedReadable=!1),M===0&&D.needReadable&&(D.length>=D.highWaterMark||D.ended))return S("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?le(this):Z(this),null;if((M=H(M,D))===0&&D.ended)return D.length===0&&le(this),null;var U,z=D.needReadable;return S("need readable",z),(D.length===0||D.length-M<D.highWaterMark)&&S("length less than watermark",z=!0),D.ended||D.reading?S("reading or ended",z=!1):z&&(S("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(M=H(ie,D))),(U=M>0?X(M,D):null)===null?(D.needReadable=!0,M=0):D.length-=M,D.length===0&&(D.ended||(D.needReadable=!0),ie!==M&&D.ended&&le(this)),U!==null&&this.emit("data",U),U},I.prototype._read=function(M){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(M,D){var ie=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=M;break;case 1:U.pipes=[U.pipes,M];break;default:U.pipes.push(M)}U.pipesCount+=1,S("pipe count=%d opts=%j",U.pipesCount,D);var z=D&&D.end===!1||M===n.stdout||M===n.stderr?se:ue;function G($){S("onunpipe"),$===ie&&se()}function ue(){S("onend"),M.end()}U.endEmitted?o(z):ie.once("end",z),M.on("unpipe",G);var oe=function($){return function(){var K=$._readableState;S("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&f($,"data")&&(K.flowing=!0,re($))}}(ie);M.on("drain",oe);var ne=!1;function se(){S("cleanup"),M.removeListener("close",b),M.removeListener("finish",A),M.removeListener("drain",oe),M.removeListener("error",Ie),M.removeListener("unpipe",G),ie.removeListener("end",ue),ie.removeListener("end",se),ie.removeListener("data",Ee),ne=!0,!U.awaitDrain||M._writableState&&!M._writableState.needDrain||oe()}var pe=!1;function Ee($){S("ondata"),pe=!1,M.write($)!==!1||pe||((U.pipesCount===1&&U.pipes===M||U.pipesCount>1&&ye(U.pipes,M)!==-1)&&!ne&&(S("false write response, pause",ie._readableState.awaitDrain),ie._readableState.awaitDrain++,pe=!0),ie.pause())}function Ie($){S("onerror",$),j(),M.removeListener("error",Ie),f(M,"error")===0&&M.emit("error",$)}function b(){M.removeListener("finish",A),j()}function A(){S("onfinish"),M.removeListener("close",b),j()}function j(){S("unpipe"),ie.unpipe(M)}return ie.on("data",Ee),function($,K,J){if(typeof $.prependListener=="function")return $.prependListener(K,J);$._events&&$._events[K]?s($._events[K])?$._events[K].unshift(J):$._events[K]=[J,$._events[K]]:$.on(K,J)}(M,"error",Ie),M.once("close",b),M.once("finish",A),M.emit("pipe",ie),U.flowing||(S("pipe resume"),ie.resume()),M},I.prototype.unpipe=function(M){var D=this._readableState;if(D.pipesCount===0)return this;if(D.pipesCount===1)return M&&M!==D.pipes||(M||(M=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,M&&M.emit("unpipe",this)),this;if(!M){var ie=D.pipes,U=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var z=0;z<U;z++)ie[z].emit("unpipe",this);return this}var G=ye(D.pipes,M);return G===-1||(D.pipes.splice(G,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),M.emit("unpipe",this)),this},I.prototype.on=function(M,D){var ie=l.prototype.on.call(this,M,D);if(M==="data")this._readableState.flowing!==!1&&this.resume();else if(M==="readable"){var U=this._readableState;U.endEmitted||U.readableListening||(U.readableListening=U.needReadable=!0,U.emittedReadable=!1,U.reading?U.length&&Z(this):o(_,this))}return ie},I.prototype.addListener=I.prototype.on,I.prototype.resume=function(){var M=this._readableState;return M.flowing||(S("resume"),M.flowing=!0,function(D,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,o(W,D,ie))}(this,M)),this},I.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this},I.prototype.wrap=function(M){var D=this._readableState,ie=!1,U=this;for(var z in M.on("end",function(){if(S("wrapped end"),D.decoder&&!D.ended){var G=D.decoder.end();G&&G.length&&U.push(G)}U.push(null)}),M.on("data",function(G){S("wrapped data"),D.decoder&&(G=D.decoder.write(G)),D.objectMode&&G==null||(D.objectMode||G&&G.length)&&(U.push(G)||(ie=!0,M.pause()))}),M)this[z]===void 0&&typeof M[z]=="function"&&(this[z]=function(G){return function(){return M[G].apply(M,arguments)}}(z));return function(G,ue){for(var oe=0,ne=G.length;oe<ne;oe++)ue(G[oe],oe)}(["error","close","destroy","pause","resume"],function(G){M.on(G,U.emit.bind(U,G))}),U._read=function(G){S("wrapped _read",G),ie&&(ie=!1,M.resume())},U},I._fromList=X}).call(e,r(6))},function(t,e,r){(function(n){!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?t.exports=function(i,o,s,l){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var f,d,m=arguments.length;switch(m){case 0:case 1:return n.nextTick(i);case 2:return n.nextTick(function(){i.call(null,o)});case 3:return n.nextTick(function(){i.call(null,o,s)});case 4:return n.nextTick(function(){i.call(null,o,s,l)});default:for(f=new Array(m-1),d=0;d<f.length;)f[d++]=arguments[d];return n.nextTick(function(){i.apply(null,f)})}}:t.exports=n.nextTick}).call(e,r(6))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(t,e,r){(function(n){var i=r(2),o=i.Buffer,s=i.SlowBuffer,l=i.kMaxLength||2147483647;e.alloc=function(f,d,m){if(typeof o.alloc=="function")return o.alloc(f,d,m);if(typeof m=="number")throw new TypeError("encoding must not be number");if(typeof f!="number")throw new TypeError("size must be a number");if(f>l)throw new RangeError("size is too large");var v=m,y=d;y===void 0&&(v=void 0,y=0);var S=new o(f);if(typeof y=="string")for(var O=new o(y,v),R=O.length,T=-1;++T<f;)S[T]=O[T%R];else S.fill(y);return S},e.allocUnsafe=function(f){if(typeof o.allocUnsafe=="function")return o.allocUnsafe(f);if(typeof f!="number")throw new TypeError("size must be a number");if(f>l)throw new RangeError("size is too large");return new o(f)},e.from=function(f,d,m){if(typeof o.from=="function"&&(!n.Uint8Array||Uint8Array.from!==o.from))return o.from(f,d,m);if(typeof f=="number")throw new TypeError('"value" argument must not be a number');if(typeof f=="string")return new o(f,d);if(typeof ArrayBuffer<"u"&&f instanceof ArrayBuffer){var v=d;if(arguments.length===1)return new o(f);v===void 0&&(v=0);var y=m;if(y===void 0&&(y=f.byteLength-v),v>=f.byteLength)throw new RangeError("'offset' is out of bounds");if(y>f.byteLength-v)throw new RangeError("'length' is out of bounds");return new o(f.slice(v,v+y))}if(o.isBuffer(f)){var S=new o(f.length);return f.copy(S,0,0,f.length),S}if(f){if(Array.isArray(f)||typeof ArrayBuffer<"u"&&f.buffer instanceof ArrayBuffer||"length"in f)return new o(f);if(f.type==="Buffer"&&Array.isArray(f.data))return new o(f.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},e.allocUnsafeSlow=function(f){if(typeof o.allocUnsafeSlow=="function")return o.allocUnsafeSlow(f);if(typeof f!="number")throw new TypeError("size must be a number");if(f>=l)throw new RangeError("size is too large");return new s(f)}}).call(e,function(){return this}())},function(t,e,r){(function(n){function i(o){return Object.prototype.toString.call(o)}e.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},e.isBoolean=function(o){return typeof o=="boolean"},e.isNull=function(o){return o===null},e.isNullOrUndefined=function(o){return o==null},e.isNumber=function(o){return typeof o=="number"},e.isString=function(o){return typeof o=="string"},e.isSymbol=function(o){return typeof o=="symbol"},e.isUndefined=function(o){return o===void 0},e.isRegExp=function(o){return i(o)==="[object RegExp]"},e.isObject=function(o){return typeof o=="object"&&o!==null},e.isDate=function(o){return i(o)==="[object Date]"},e.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},e.isFunction=function(o){return typeof o=="function"},e.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},e.isBuffer=n.isBuffer}).call(e,r(1))},function(t,e){},function(t,e,r){r(2).Buffer;var n=r(17);function i(){this.head=null,this.tail=null,this.length=0}t.exports=i,i.prototype.push=function(o){var s={data:o,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},i.prototype.unshift=function(o){var s={data:o,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},i.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(o){if(this.length===0)return"";for(var s=this.head,l=""+s.data;s=s.next;)l+=o+s.data;return l},i.prototype.concat=function(o){if(this.length===0)return n.alloc(0);if(this.length===1)return this.head.data;for(var s=n.allocUnsafe(o>>>0),l=this.head,f=0;l;)l.data.copy(s,f),f+=l.data.length,l=l.next;return s}},function(t,e,r){var n=Object.keys||function(O){var R=[];for(var T in O)R.push(T);return R};t.exports=v;var i=r(15),o=r(18);o.inherits=r(12);var s=r(14),l=r(22);o.inherits(v,s);for(var f=n(l.prototype),d=0;d<f.length;d++){var m=f[d];v.prototype[m]||(v.prototype[m]=l.prototype[m])}function v(O){if(!(this instanceof v))return new v(O);s.call(this,O),l.call(this,O),O&&O.readable===!1&&(this.readable=!1),O&&O.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,O&&O.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||i(S,this)}function S(O){O.end()}},function(t,e,r){(function(n){t.exports=T;var i,o=r(15),s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:o;T.WritableState=R;var l=r(18);l.inherits=r(12);var f,d={deprecate:r(23)};(function(){try{f=r(11)}catch{}finally{f||(f=r(8).EventEmitter)}})();var m,v=r(2).Buffer,y=r(17);function S(){}function O(_,W,re){this.chunk=_,this.encoding=W,this.callback=re,this.next=null}function R(_,W){i=i||r(21),_=_||{},this.objectMode=!!_.objectMode,W instanceof i&&(this.objectMode=this.objectMode||!!_.writableObjectMode);var re=_.highWaterMark,X=this.objectMode?16:16384;this.highWaterMark=re||re===0?re:X,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var le=_.decodeStrings===!1;this.decodeStrings=!le,this.defaultEncoding=_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ae){(function(ye,M){var D=ye._writableState,ie=D.sync,U=D.writecb;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(D),M)(function(G,ue,oe,ne,se){--ue.pendingcb,oe?o(se,ne):se(ne),G._writableState.errorEmitted=!0,G.emit("error",ne)})(ye,D,ie,M,U);else{var z=H(D);z||D.corked||D.bufferProcessing||!D.bufferedRequest||Y(ye,D),ie?s(L,ye,D,z,U):L(ye,D,z,U)}})(W,ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new V(this)}function T(_){if(i=i||r(21),!(m.call(T,this)||this instanceof i))return new T(_);this._writableState=new R(_,this),this.writable=!0,_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev)),f.call(this)}function I(_,W,re,X,le,ae,ye){W.writelen=X,W.writecb=ye,W.writing=!0,W.sync=!0,re?_._writev(le,W.onwrite):_._write(le,ae,W.onwrite),W.sync=!1}function L(_,W,re,X){re||function(le,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,le.emit("drain"))}(_,W),W.pendingcb--,X(),P(_,W)}function Y(_,W){W.bufferProcessing=!0;var re=W.bufferedRequest;if(_._writev&&re&&re.next){var X=W.bufferedRequestCount,le=new Array(X),ae=W.corkedRequestsFree;ae.entry=re;for(var ye=0;re;)le[ye]=re,re=re.next,ye+=1;I(_,W,!0,W.length,le,"",ae.finish),W.pendingcb++,W.lastBufferedRequest=null,ae.next?(W.corkedRequestsFree=ae.next,ae.next=null):W.corkedRequestsFree=new V(W)}else{for(;re;){var M=re.chunk,D=re.encoding,ie=re.callback;if(I(_,W,!1,W.objectMode?1:M.length,M,D,ie),re=re.next,W.writing)break}re===null&&(W.lastBufferedRequest=null)}W.bufferedRequestCount=0,W.bufferedRequest=re,W.bufferProcessing=!1}function H(_){return _.ending&&_.length===0&&_.bufferedRequest===null&&!_.finished&&!_.writing}function Z(_,W){W.prefinished||(W.prefinished=!0,_.emit("prefinish"))}function P(_,W){var re=H(W);return re&&(W.pendingcb===0?(Z(_,W),W.finished=!0,_.emit("finish")):Z(_,W)),re}function V(_){var W=this;this.next=null,this.entry=null,this.finish=function(re){var X=W.entry;for(W.entry=null;X;){var le=X.callback;_.pendingcb--,le(re),X=X.next}_.corkedRequestsFree?_.corkedRequestsFree.next=W:_.corkedRequestsFree=W}}l.inherits(T,f),R.prototype.getBuffer=function(){for(var _=this.bufferedRequest,W=[];_;)W.push(_),_=_.next;return W},function(){try{Object.defineProperty(R.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(_){return!!m.call(this,_)||_&&_._writableState instanceof R}})):m=function(_){return _ instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(_,W,re){var X=this._writableState,le=!1,ae=v.isBuffer(_);return typeof W=="function"&&(re=W,W=null),ae?W="buffer":W||(W=X.defaultEncoding),typeof re!="function"&&(re=S),X.ended?function(ye,M){var D=new Error("write after end");ye.emit("error",D),o(M,D)}(this,re):(ae||function(ye,M,D,ie){var U=!0,z=!1;return D===null?z=new TypeError("May not write null values to stream"):typeof D=="string"||D===void 0||M.objectMode||(z=new TypeError("Invalid non-string/buffer chunk")),z&&(ye.emit("error",z),o(ie,z),U=!1),U}(this,X,_,re))&&(X.pendingcb++,le=function(ye,M,D,ie,U,z){D||(ie=function(ne,se,pe){return ne.objectMode||ne.decodeStrings===!1||typeof se!="string"||(se=y.from(se,pe)),se}(M,ie,U),v.isBuffer(ie)&&(U="buffer"));var G=M.objectMode?1:ie.length;M.length+=G;var ue=M.length<M.highWaterMark;if(ue||(M.needDrain=!0),M.writing||M.corked){var oe=M.lastBufferedRequest;M.lastBufferedRequest=new O(ie,U,z),oe?oe.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else I(ye,M,!1,G,ie,U,z);return ue}(this,X,ae,_,W,re)),le},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var _=this._writableState;_.corked&&(_.corked--,_.writing||_.corked||_.finished||_.bufferProcessing||!_.bufferedRequest||Y(this,_))},T.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+_);return this._writableState.defaultEncoding=_,this},T.prototype._write=function(_,W,re){re(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(_,W,re){var X=this._writableState;typeof _=="function"?(re=_,_=null,W=null):typeof W=="function"&&(re=W,W=null),_!=null&&this.write(_,W),X.corked&&(X.corked=1,this.uncork()),X.ending||X.finished||function(le,ae,ye){ae.ending=!0,P(le,ae),ye&&(ae.finished?o(ye):le.once("finish",ye)),ae.ended=!0,le.writable=!1}(this,X,re)}}).call(e,r(6))},function(t,e){(function(r){function n(i){try{if(!r.localStorage)return!1}catch{return!1}var o=r.localStorage[i];return o!=null&&String(o).toLowerCase()==="true"}t.exports=function(i,o){if(n("noDeprecation"))return i;var s=!1;return function(){if(!s){if(n("throwDeprecation"))throw new Error(o);n("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return i.apply(this,arguments)}}}).call(e,function(){return this}())},function(t,e,r){var n=r(2).Buffer,i=n.isEncoding||function(d){switch(d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=e.StringDecoder=function(d){switch(this.encoding=(d||"utf8").toLowerCase().replace(/[-_]/,""),function(m){if(m&&!i(m))throw new Error("Unknown encoding: "+m)}(d),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=l;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=f;break;default:return void(this.write=s)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function s(d){return d.toString(this.encoding)}function l(d){this.charReceived=d.length%2,this.charLength=this.charReceived?2:0}function f(d){this.charReceived=d.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(d){for(var m="";this.charLength;){var v=d.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:d.length;if(d.copy(this.charBuffer,this.charReceived,0,v),this.charReceived+=v,this.charReceived<this.charLength)return"";if(d=d.slice(v,d.length),!((y=(m=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(m.length-1))>=55296&&y<=56319)){if(this.charReceived=this.charLength=0,d.length===0)return m;break}this.charLength+=this.surrogateSize,m=""}this.detectIncompleteChar(d);var y,S=d.length;if(this.charLength&&(d.copy(this.charBuffer,0,d.length-this.charReceived,S),S-=this.charReceived),S=(m+=d.toString(this.encoding,0,S)).length-1,(y=m.charCodeAt(S))>=55296&&y<=56319){var O=this.surrogateSize;return this.charLength+=O,this.charReceived+=O,this.charBuffer.copy(this.charBuffer,O,0,O),d.copy(this.charBuffer,0,0,O),m.substring(0,S)}return m},o.prototype.detectIncompleteChar=function(d){for(var m=d.length>=3?3:d.length;m>0;m--){var v=d[d.length-m];if(m==1&&v>>5==6){this.charLength=2;break}if(m<=2&&v>>4==14){this.charLength=3;break}if(m<=3&&v>>3==30){this.charLength=4;break}}this.charReceived=m},o.prototype.end=function(d){var m="";if(d&&d.length&&(m=this.write(d)),this.charReceived){var v=this.charReceived,y=this.charBuffer,S=this.encoding;m+=y.slice(0,v).toString(S)}return m}},function(t,e,r){t.exports=s;var n=r(21),i=r(18);function o(f){this.afterTransform=function(d,m){return function(v,y,S){var O=v._transformState;O.transforming=!1;var R=O.writecb;if(!R)return v.emit("error",new Error("no writecb in Transform class"));O.writechunk=null,O.writecb=null,S!=null&&v.push(S),R(y);var T=v._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&v._read(T.highWaterMark)}(f,d,m)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(f){if(!(this instanceof s))return new s(f);n.call(this,f),this._transformState=new o(this);var d=this;this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(m,v){l(d,m,v)}):l(d)})}function l(f,d,m){if(d)return f.emit("error",d);m!=null&&f.push(m);var v=f._writableState,y=f._transformState;if(v.length)throw new Error("Calling transform done when ws.length != 0");if(y.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}i.inherits=r(12),i.inherits(s,n),s.prototype.push=function(f,d){return this._transformState.needTransform=!1,n.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,m){throw new Error("_transform() is not implemented")},s.prototype._write=function(f,d,m){var v=this._transformState;if(v.writecb=m,v.writechunk=f,v.writeencoding=d,!v.transforming){var y=this._readableState;(v.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0}},function(t,e,r){t.exports=o;var n=r(25),i=r(18);function o(s){if(!(this instanceof o))return new o(s);n.call(this,s)}i.inherits=r(12),i.inherits(o,n),o.prototype._transform=function(s,l,f){f(null,s)}},function(t,e,r){t.exports=r(22)},function(t,e,r){t.exports=r(21)},function(t,e,r){t.exports=r(25)},function(t,e,r){t.exports=r(26)},function(t,e,r){var n=r(32),i=r(33),o=r(38),s=r(39),l=r(40),f=r(41),d=r(42),m=Object.prototype.toString;function v(S){if(!(this instanceof v))return new v(S);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},S||{});var O=this.options;O.raw&&O.windowBits>=0&&O.windowBits<16&&(O.windowBits=-O.windowBits,O.windowBits===0&&(O.windowBits=-15)),!(O.windowBits>=0&&O.windowBits<16)||S&&S.windowBits||(O.windowBits+=32),O.windowBits>15&&O.windowBits<48&&(15&O.windowBits)==0&&(O.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var R=n.inflateInit2(this.strm,O.windowBits);if(R!==s.Z_OK)throw new Error(l[R]);this.header=new d,n.inflateGetHeader(this.strm,this.header)}function y(S,O){var R=new v(O);if(R.push(S,!0),R.err)throw R.msg||l[R.err];return R.result}v.prototype.push=function(S,O){var R,T,I,L,Y,H,Z=this.strm,P=this.options.chunkSize,V=this.options.dictionary,_=!1;if(this.ended)return!1;T=O===~~O?O:O===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof S=="string"?Z.input=o.binstring2buf(S):m.call(S)==="[object ArrayBuffer]"?Z.input=new Uint8Array(S):Z.input=S,Z.next_in=0,Z.avail_in=Z.input.length;do{if(Z.avail_out===0&&(Z.output=new i.Buf8(P),Z.next_out=0,Z.avail_out=P),(R=n.inflate(Z,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&V&&(H=typeof V=="string"?o.string2buf(V):m.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,R=n.inflateSetDictionary(this.strm,H)),R===s.Z_BUF_ERROR&&_===!0&&(R=s.Z_OK,_=!1),R!==s.Z_STREAM_END&&R!==s.Z_OK)return this.onEnd(R),this.ended=!0,!1;Z.next_out&&(Z.avail_out!==0&&R!==s.Z_STREAM_END&&(Z.avail_in!==0||T!==s.Z_FINISH&&T!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=o.utf8border(Z.output,Z.next_out),L=Z.next_out-I,Y=o.buf2string(Z.output,I),Z.next_out=L,Z.avail_out=P-L,L&&i.arraySet(Z.output,Z.output,I,L,0),this.onData(Y)):this.onData(i.shrinkBuf(Z.output,Z.next_out)))),Z.avail_in===0&&Z.avail_out===0&&(_=!0)}while((Z.avail_in>0||Z.avail_out===0)&&R!==s.Z_STREAM_END);return R===s.Z_STREAM_END&&(T=s.Z_FINISH),T===s.Z_FINISH?(R=n.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===s.Z_OK):T!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),Z.avail_out=0,!0)},v.prototype.onData=function(S){this.chunks.push(S)},v.prototype.onEnd=function(S){S===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},e.Inflate=v,e.inflate=y,e.inflateRaw=function(S,O){return(O=O||{}).raw=!0,y(S,O)},e.ungzip=y},function(t,e,r){var n=r(33),i=r(34),o=r(35),s=r(36),l=r(37),f=-2,d=12,m=30;function v(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(P){var V;return P&&P.state?(V=P.state,P.total_in=P.total_out=V.total=0,P.msg="",V.wrap&&(P.adler=1&V.wrap),V.mode=1,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new n.Buf32(852),V.distcode=V.distdyn=new n.Buf32(592),V.sane=1,V.back=-1,0):f}function O(P){var V;return P&&P.state?((V=P.state).wsize=0,V.whave=0,V.wnext=0,S(P)):f}function R(P,V){var _,W;return P&&P.state?(W=P.state,V<0?(_=0,V=-V):(_=1+(V>>4),V<48&&(V&=15)),V&&(V<8||V>15)?f:(W.window!==null&&W.wbits!==V&&(W.window=null),W.wrap=_,W.wbits=V,O(P))):f}function T(P,V){var _,W;return P?(W=new y,P.state=W,W.window=null,(_=R(P,V))!==0&&(P.state=null),_):f}var I,L,Y=!0;function H(P){if(Y){var V;for(I=new n.Buf32(512),L=new n.Buf32(32),V=0;V<144;)P.lens[V++]=8;for(;V<256;)P.lens[V++]=9;for(;V<280;)P.lens[V++]=7;for(;V<288;)P.lens[V++]=8;for(l(1,P.lens,0,288,I,0,P.work,{bits:9}),V=0;V<32;)P.lens[V++]=5;l(2,P.lens,0,32,L,0,P.work,{bits:5}),Y=!1}P.lencode=I,P.lenbits=9,P.distcode=L,P.distbits=5}function Z(P,V,_,W){var re,X=P.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new n.Buf8(X.wsize)),W>=X.wsize?(n.arraySet(X.window,V,_-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):((re=X.wsize-X.wnext)>W&&(re=W),n.arraySet(X.window,V,_-W,re,X.wnext),(W-=re)?(n.arraySet(X.window,V,_-W,W,0),X.wnext=W,X.whave=X.wsize):(X.wnext+=re,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=re))),0}e.inflateReset=O,e.inflateReset2=R,e.inflateResetKeep=S,e.inflateInit=function(P){return T(P,15)},e.inflateInit2=T,e.inflate=function(P,V){var _,W,re,X,le,ae,ye,M,D,ie,U,z,G,ue,oe,ne,se,pe,Ee,Ie,b,A,j,$,K=0,J=new n.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return f;(_=P.state).mode===d&&(_.mode=13),le=P.next_out,re=P.output,ye=P.avail_out,X=P.next_in,W=P.input,ae=P.avail_in,M=_.hold,D=_.bits,ie=ae,U=ye,A=0;e:for(;;)switch(_.mode){case 1:if(_.wrap===0){_.mode=13;break}for(;D<16;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(2&_.wrap&&M===35615){_.check=0,J[0]=255&M,J[1]=M>>>8&255,_.check=o(_.check,J,2,0),M=0,D=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&M)<<8)+(M>>8))%31){P.msg="incorrect header check",_.mode=m;break}if((15&M)!=8){P.msg="unknown compression method",_.mode=m;break}if(D-=4,b=8+(15&(M>>>=4)),_.wbits===0)_.wbits=b;else if(b>_.wbits){P.msg="invalid window size",_.mode=m;break}_.dmax=1<<b,P.adler=_.check=1,_.mode=512&M?10:d,M=0,D=0;break;case 2:for(;D<16;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(_.flags=M,(255&_.flags)!=8){P.msg="unknown compression method",_.mode=m;break}if(57344&_.flags){P.msg="unknown header flags set",_.mode=m;break}_.head&&(_.head.text=M>>8&1),512&_.flags&&(J[0]=255&M,J[1]=M>>>8&255,_.check=o(_.check,J,2,0)),M=0,D=0,_.mode=3;case 3:for(;D<32;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}_.head&&(_.head.time=M),512&_.flags&&(J[0]=255&M,J[1]=M>>>8&255,J[2]=M>>>16&255,J[3]=M>>>24&255,_.check=o(_.check,J,4,0)),M=0,D=0,_.mode=4;case 4:for(;D<16;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}_.head&&(_.head.xflags=255&M,_.head.os=M>>8),512&_.flags&&(J[0]=255&M,J[1]=M>>>8&255,_.check=o(_.check,J,2,0)),M=0,D=0,_.mode=5;case 5:if(1024&_.flags){for(;D<16;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}_.length=M,_.head&&(_.head.extra_len=M),512&_.flags&&(J[0]=255&M,J[1]=M>>>8&255,_.check=o(_.check,J,2,0)),M=0,D=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&((z=_.length)>ae&&(z=ae),z&&(_.head&&(b=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),n.arraySet(_.head.extra,W,X,z,b)),512&_.flags&&(_.check=o(_.check,W,z,X)),ae-=z,X+=z,_.length-=z),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(ae===0)break e;z=0;do b=W[X+z++],_.head&&b&&_.length<65536&&(_.head.name+=String.fromCharCode(b));while(b&&z<ae);if(512&_.flags&&(_.check=o(_.check,W,z,X)),ae-=z,X+=z,b)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(ae===0)break e;z=0;do b=W[X+z++],_.head&&b&&_.length<65536&&(_.head.comment+=String.fromCharCode(b));while(b&&z<ae);if(512&_.flags&&(_.check=o(_.check,W,z,X)),ae-=z,X+=z,b)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;D<16;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(M!==(65535&_.check)){P.msg="header crc mismatch",_.mode=m;break}M=0,D=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),P.adler=_.check=0,_.mode=d;break;case 10:for(;D<32;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}P.adler=_.check=v(M),M=0,D=0,_.mode=11;case 11:if(_.havedict===0)return P.next_out=le,P.avail_out=ye,P.next_in=X,P.avail_in=ae,_.hold=M,_.bits=D,2;P.adler=_.check=1,_.mode=d;case d:if(V===5||V===6)break e;case 13:if(_.last){M>>>=7&D,D-=7&D,_.mode=27;break}for(;D<3;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}switch(_.last=1&M,D-=1,3&(M>>>=1)){case 0:_.mode=14;break;case 1:if(H(_),_.mode=20,V===6){M>>>=2,D-=2;break e}break;case 2:_.mode=17;break;case 3:P.msg="invalid block type",_.mode=m}M>>>=2,D-=2;break;case 14:for(M>>>=7&D,D-=7&D;D<32;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if((65535&M)!=(M>>>16^65535)){P.msg="invalid stored block lengths",_.mode=m;break}if(_.length=65535&M,M=0,D=0,_.mode=15,V===6)break e;case 15:_.mode=16;case 16:if(z=_.length){if(z>ae&&(z=ae),z>ye&&(z=ye),z===0)break e;n.arraySet(re,W,X,z,le),ae-=z,X+=z,ye-=z,le+=z,_.length-=z;break}_.mode=d;break;case 17:for(;D<14;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(_.nlen=257+(31&M),M>>>=5,D-=5,_.ndist=1+(31&M),M>>>=5,D-=5,_.ncode=4+(15&M),M>>>=4,D-=4,_.nlen>286||_.ndist>30){P.msg="too many length or distance symbols",_.mode=m;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;D<3;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}_.lens[_e[_.have++]]=7&M,M>>>=3,D-=3}for(;_.have<19;)_.lens[_e[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,j={bits:_.lenbits},A=l(0,_.lens,0,19,_.lencode,0,_.work,j),_.lenbits=j.bits,A){P.msg="invalid code lengths set",_.mode=m;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;ne=(K=_.lencode[M&(1<<_.lenbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=D);){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(se<16)M>>>=oe,D-=oe,_.lens[_.have++]=se;else{if(se===16){for($=oe+2;D<$;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(M>>>=oe,D-=oe,_.have===0){P.msg="invalid bit length repeat",_.mode=m;break}b=_.lens[_.have-1],z=3+(3&M),M>>>=2,D-=2}else if(se===17){for($=oe+3;D<$;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}D-=oe,b=0,z=3+(7&(M>>>=oe)),M>>>=3,D-=3}else{for($=oe+7;D<$;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}D-=oe,b=0,z=11+(127&(M>>>=oe)),M>>>=7,D-=7}if(_.have+z>_.nlen+_.ndist){P.msg="invalid bit length repeat",_.mode=m;break}for(;z--;)_.lens[_.have++]=b}}if(_.mode===m)break;if(_.lens[256]===0){P.msg="invalid code -- missing end-of-block",_.mode=m;break}if(_.lenbits=9,j={bits:_.lenbits},A=l(1,_.lens,0,_.nlen,_.lencode,0,_.work,j),_.lenbits=j.bits,A){P.msg="invalid literal/lengths set",_.mode=m;break}if(_.distbits=6,_.distcode=_.distdyn,j={bits:_.distbits},A=l(2,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,j),_.distbits=j.bits,A){P.msg="invalid distances set",_.mode=m;break}if(_.mode=20,V===6)break e;case 20:_.mode=21;case 21:if(ae>=6&&ye>=258){P.next_out=le,P.avail_out=ye,P.next_in=X,P.avail_in=ae,_.hold=M,_.bits=D,s(P,U),le=P.next_out,re=P.output,ye=P.avail_out,X=P.next_in,W=P.input,ae=P.avail_in,M=_.hold,D=_.bits,_.mode===d&&(_.back=-1);break}for(_.back=0;ne=(K=_.lencode[M&(1<<_.lenbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=D);){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(ne&&(240&ne)==0){for(pe=oe,Ee=ne,Ie=se;ne=(K=_.lencode[Ie+((M&(1<<pe+Ee)-1)>>pe)])>>>16&255,se=65535&K,!(pe+(oe=K>>>24)<=D);){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}M>>>=pe,D-=pe,_.back+=pe}if(M>>>=oe,D-=oe,_.back+=oe,_.length=se,ne===0){_.mode=26;break}if(32&ne){_.back=-1,_.mode=d;break}if(64&ne){P.msg="invalid literal/length code",_.mode=m;break}_.extra=15&ne,_.mode=22;case 22:if(_.extra){for($=_.extra;D<$;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}_.length+=M&(1<<_.extra)-1,M>>>=_.extra,D-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;ne=(K=_.distcode[M&(1<<_.distbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=D);){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if((240&ne)==0){for(pe=oe,Ee=ne,Ie=se;ne=(K=_.distcode[Ie+((M&(1<<pe+Ee)-1)>>pe)])>>>16&255,se=65535&K,!(pe+(oe=K>>>24)<=D);){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}M>>>=pe,D-=pe,_.back+=pe}if(M>>>=oe,D-=oe,_.back+=oe,64&ne){P.msg="invalid distance code",_.mode=m;break}_.offset=se,_.extra=15&ne,_.mode=24;case 24:if(_.extra){for($=_.extra;D<$;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}_.offset+=M&(1<<_.extra)-1,M>>>=_.extra,D-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){P.msg="invalid distance too far back",_.mode=m;break}_.mode=25;case 25:if(ye===0)break e;if(z=U-ye,_.offset>z){if((z=_.offset-z)>_.whave&&_.sane){P.msg="invalid distance too far back",_.mode=m;break}z>_.wnext?(z-=_.wnext,G=_.wsize-z):G=_.wnext-z,z>_.length&&(z=_.length),ue=_.window}else ue=re,G=le-_.offset,z=_.length;z>ye&&(z=ye),ye-=z,_.length-=z;do re[le++]=ue[G++];while(--z);_.length===0&&(_.mode=21);break;case 26:if(ye===0)break e;re[le++]=_.length,ye--,_.mode=21;break;case 27:if(_.wrap){for(;D<32;){if(ae===0)break e;ae--,M|=W[X++]<<D,D+=8}if(U-=ye,P.total_out+=U,_.total+=U,U&&(P.adler=_.check=_.flags?o(_.check,re,U,le-U):i(_.check,re,U,le-U)),U=ye,(_.flags?M:v(M))!==_.check){P.msg="incorrect data check",_.mode=m;break}M=0,D=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;D<32;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(M!==(4294967295&_.total)){P.msg="incorrect length check",_.mode=m;break}M=0,D=0}_.mode=29;case 29:A=1;break e;case m:A=-3;break e;case 31:return-4;default:return f}return P.next_out=le,P.avail_out=ye,P.next_in=X,P.avail_in=ae,_.hold=M,_.bits=D,(_.wsize||U!==P.avail_out&&_.mode<m&&(_.mode<27||V!==4))&&Z(P,P.output,P.next_out,U-P.avail_out),ie-=P.avail_in,U-=P.avail_out,P.total_in+=ie,P.total_out+=U,_.total+=U,_.wrap&&U&&(P.adler=_.check=_.flags?o(_.check,re,U,P.next_out-U):i(_.check,re,U,P.next_out-U)),P.data_type=_.bits+(_.last?64:0)+(_.mode===d?128:0)+(_.mode===20||_.mode===15?256:0),(ie===0&&U===0||V===4)&&A===0&&(A=-5),A},e.inflateEnd=function(P){if(!P||!P.state)return f;var V=P.state;return V.window&&(V.window=null),P.state=null,0},e.inflateGetHeader=function(P,V){var _;return P&&P.state?(2&(_=P.state).wrap)==0?f:(_.head=V,V.done=!1,0):f},e.inflateSetDictionary=function(P,V){var _,W=V.length;return P&&P.state?(_=P.state).wrap!==0&&_.mode!==11?f:_.mode===11&&i(1,V,W,0)!==_.check?-3:Z(P,V,W,W)?(_.mode=31,-4):(_.havedict=1,0):f},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var l=s.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var f in l)l.hasOwnProperty(f)&&(o[f]=l[f])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var n={arraySet:function(o,s,l,f,d){if(s.subarray&&o.subarray)o.set(s.subarray(l,l+f),d);else for(var m=0;m<f;m++)o[d+m]=s[l+m]},flattenChunks:function(o){var s,l,f,d,m,v;for(f=0,s=0,l=o.length;s<l;s++)f+=o[s].length;for(v=new Uint8Array(f),d=0,s=0,l=o.length;s<l;s++)m=o[s],v.set(m,d),d+=m.length;return v}},i={arraySet:function(o,s,l,f,d){for(var m=0;m<f;m++)o[d+m]=s[l+m]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(r)},function(t,e){t.exports=function(r,n,i,o){for(var s=65535&r|0,l=r>>>16&65535|0,f=0;i!==0;){i-=f=i>2e3?2e3:i;do l=l+(s=s+n[o++]|0)|0;while(--f);s%=65521,l%=65521}return s|l<<16|0}},function(t,e){var r=function(){for(var n,i=[],o=0;o<256;o++){n=o;for(var s=0;s<8;s++)n=1&n?3988292384^n>>>1:n>>>1;i[o]=n}return i}();t.exports=function(n,i,o,s){var l=r,f=s+o;n^=-1;for(var d=s;d<f;d++)n=n>>>8^l[255&(n^i[d])];return-1^n}},function(t,e){t.exports=function(r,n){var i,o,s,l,f,d,m,v,y,S,O,R,T,I,L,Y,H,Z,P,V,_,W,re,X,le;i=r.state,o=r.next_in,X=r.input,s=o+(r.avail_in-5),l=r.next_out,le=r.output,f=l-(n-r.avail_out),d=l+(r.avail_out-257),m=i.dmax,v=i.wsize,y=i.whave,S=i.wnext,O=i.window,R=i.hold,T=i.bits,I=i.lencode,L=i.distcode,Y=(1<<i.lenbits)-1,H=(1<<i.distbits)-1;e:do{T<15&&(R+=X[o++]<<T,T+=8,R+=X[o++]<<T,T+=8),Z=I[R&Y];t:for(;;){if(R>>>=P=Z>>>24,T-=P,(P=Z>>>16&255)==0)le[l++]=65535&Z;else{if(!(16&P)){if((64&P)==0){Z=I[(65535&Z)+(R&(1<<P)-1)];continue t}if(32&P){i.mode=12;break e}r.msg="invalid literal/length code",i.mode=30;break e}V=65535&Z,(P&=15)&&(T<P&&(R+=X[o++]<<T,T+=8),V+=R&(1<<P)-1,R>>>=P,T-=P),T<15&&(R+=X[o++]<<T,T+=8,R+=X[o++]<<T,T+=8),Z=L[R&H];r:for(;;){if(R>>>=P=Z>>>24,T-=P,!(16&(P=Z>>>16&255))){if((64&P)==0){Z=L[(65535&Z)+(R&(1<<P)-1)];continue r}r.msg="invalid distance code",i.mode=30;break e}if(_=65535&Z,T<(P&=15)&&(R+=X[o++]<<T,(T+=8)<P&&(R+=X[o++]<<T,T+=8)),(_+=R&(1<<P)-1)>m){r.msg="invalid distance too far back",i.mode=30;break e}if(R>>>=P,T-=P,_>(P=l-f)){if((P=_-P)>y&&i.sane){r.msg="invalid distance too far back",i.mode=30;break e}if(W=0,re=O,S===0){if(W+=v-P,P<V){V-=P;do le[l++]=O[W++];while(--P);W=l-_,re=le}}else if(S<P){if(W+=v+S-P,(P-=S)<V){V-=P;do le[l++]=O[W++];while(--P);if(W=0,S<V){V-=P=S;do le[l++]=O[W++];while(--P);W=l-_,re=le}}}else if(W+=S-P,P<V){V-=P;do le[l++]=O[W++];while(--P);W=l-_,re=le}for(;V>2;)le[l++]=re[W++],le[l++]=re[W++],le[l++]=re[W++],V-=3;V&&(le[l++]=re[W++],V>1&&(le[l++]=re[W++]))}else{W=l-_;do le[l++]=le[W++],le[l++]=le[W++],le[l++]=le[W++],V-=3;while(V>2);V&&(le[l++]=le[W++],V>1&&(le[l++]=le[W++]))}break}}break}}while(o<s&&l<d);o-=V=T>>3,R&=(1<<(T-=V<<3))-1,r.next_in=o,r.next_out=l,r.avail_in=o<s?s-o+5:5-(o-s),r.avail_out=l<d?d-l+257:257-(l-d),i.hold=R,i.bits=T}},function(t,e,r){var n=r(33),i=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(d,m,v,y,S,O,R,T){var I,L,Y,H,Z,P,V,_,W,re=T.bits,X=0,le=0,ae=0,ye=0,M=0,D=0,ie=0,U=0,z=0,G=0,ue=null,oe=0,ne=new n.Buf16(16),se=new n.Buf16(16),pe=null,Ee=0;for(X=0;X<=i;X++)ne[X]=0;for(le=0;le<y;le++)ne[m[v+le]]++;for(M=re,ye=i;ye>=1&&ne[ye]===0;ye--);if(M>ye&&(M=ye),ye===0)return S[O++]=20971520,S[O++]=20971520,T.bits=1,0;for(ae=1;ae<ye&&ne[ae]===0;ae++);for(M<ae&&(M=ae),U=1,X=1;X<=i;X++)if(U<<=1,(U-=ne[X])<0)return-1;if(U>0&&(d===0||ye!==1))return-1;for(se[1]=0,X=1;X<i;X++)se[X+1]=se[X]+ne[X];for(le=0;le<y;le++)m[v+le]!==0&&(R[se[m[v+le]]++]=le);if(d===0?(ue=pe=R,P=19):d===1?(ue=o,oe-=257,pe=s,Ee-=257,P=256):(ue=l,pe=f,P=-1),G=0,le=0,X=ae,Z=O,D=M,ie=0,Y=-1,H=(z=1<<M)-1,d===1&&z>852||d===2&&z>592)return 1;for(;;){V=X-ie,R[le]<P?(_=0,W=R[le]):R[le]>P?(_=pe[Ee+R[le]],W=ue[oe+R[le]]):(_=96,W=0),I=1<<X-ie,ae=L=1<<D;do S[Z+(G>>ie)+(L-=I)]=V<<24|_<<16|W|0;while(L!==0);for(I=1<<X-1;G&I;)I>>=1;if(I!==0?(G&=I-1,G+=I):G=0,le++,--ne[X]==0){if(X===ye)break;X=m[v+R[le]]}if(X>M&&(G&H)!==Y){for(ie===0&&(ie=M),Z+=ae,U=1<<(D=X-ie);D+ie<ye&&!((U-=ne[D+ie])<=0);)D++,U<<=1;if(z+=1<<D,d===1&&z>852||d===2&&z>592)return 1;S[Y=G&H]=M<<24|D<<16|Z-O|0}}return G!==0&&(S[Z+G]=X-ie<<24|64<<16|0),T.bits=M,0}},function(t,e,r){var n=r(33),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var s=new n.Buf8(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function f(d,m){if(m<65537&&(d.subarray&&o||!d.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(d,m));for(var v="",y=0;y<m;y++)v+=String.fromCharCode(d[y]);return v}s[254]=s[254]=1,e.string2buf=function(d){var m,v,y,S,O,R=d.length,T=0;for(S=0;S<R;S++)(64512&(v=d.charCodeAt(S)))==55296&&S+1<R&&(64512&(y=d.charCodeAt(S+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),S++),T+=v<128?1:v<2048?2:v<65536?3:4;for(m=new n.Buf8(T),O=0,S=0;O<T;S++)(64512&(v=d.charCodeAt(S)))==55296&&S+1<R&&(64512&(y=d.charCodeAt(S+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),S++),v<128?m[O++]=v:v<2048?(m[O++]=192|v>>>6,m[O++]=128|63&v):v<65536?(m[O++]=224|v>>>12,m[O++]=128|v>>>6&63,m[O++]=128|63&v):(m[O++]=240|v>>>18,m[O++]=128|v>>>12&63,m[O++]=128|v>>>6&63,m[O++]=128|63&v);return m},e.buf2binstring=function(d){return f(d,d.length)},e.binstring2buf=function(d){for(var m=new n.Buf8(d.length),v=0,y=m.length;v<y;v++)m[v]=d.charCodeAt(v);return m},e.buf2string=function(d,m){var v,y,S,O,R=m||d.length,T=new Array(2*R);for(y=0,v=0;v<R;)if((S=d[v++])<128)T[y++]=S;else if((O=s[S])>4)T[y++]=65533,v+=O-1;else{for(S&=O===2?31:O===3?15:7;O>1&&v<R;)S=S<<6|63&d[v++],O--;O>1?T[y++]=65533:S<65536?T[y++]=S:(S-=65536,T[y++]=55296|S>>10&1023,T[y++]=56320|1023&S)}return f(T,y)},e.utf8border=function(d,m){var v;for((m=m||d.length)>d.length&&(m=d.length),v=m-1;v>=0&&(192&d[v])==128;)v--;return v<0||v===0?m:v+s[d[v]]>m?v:m}},function(t,e){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}])},Ma.exports=Rw();Yu=!1,Je=Ma.exports.BFSRequire("fs");Ma.exports.BFSRequire("buffer").Buffer;d0=async(t=["data","projects","extensions","settings","plugins"],e=()=>{},r=()=>{})=>!!Yu||new Promise(n=>{Je.getRootFS(),Ma.exports.FileSystem.IndexedDB.Create({},(i,o)=>{if(i)throw i;if(!o)throw r(),new Error("Error creating BrowserFS");Ma.exports.initialize(o);let s=[];t.forEach(async l=>{s.push(y0(Je,l))}),Promise.all(s).then(l=>{e(),Yu=!0,n(!0)})})});p0=async(t,e="data",r=n=>{console.log(n)})=>new Promise(n=>{Je.stat("/"+e+"/"+t,(i,o)=>{if(i)throw i;let s=o.size;r(s),n(s)})}),Fw=async(t="",e="data",r=(n,i)=>{console.log(n,i)})=>new Promise(n=>{Je.open("/"+e+"/"+t,"r",(i,o)=>{if(i)throw i;Je.read(o,65535,0,"utf-8",(s,l,f)=>{if(s)throw s;if(f!==0){let d=l.toString().split(`
`)[0];Je.close(o,()=>{r(d,t),n(d)})}else n(void 0)})})}),Cw=async(t="data",e=n=>{},r)=>new Promise(n=>{Je.readdir("/"+t,(i,o)=>{if(i)throw i;o&&(console.log("files",o),e(o)),n(o)})}),ns={},y0=async(t,e)=>new Promise(r=>{ns[e]==="exists"||ns[e]==="created"?r():t.exists(`/${e}`,n=>{n?(ns[e]="exists",console.log(`/${e} exists!`),r()):ns[e]==="creating"?(console.log(e+" is still being created."),r()):(console.log("creating "+e),ns[e]="creating",t.mkdir(e,i=>{if(i)throw i;ns[e]="created",setTimeout(r,500)}))})}),Yi=Object.freeze({__proto__:null,fs:Je,initFS:d0,exists:async(t="",e="data")=>new Promise(r=>{Je.exists("/"+e+"/"+t,function(n){r(n)})}),readFile:async(t="sessionName",e="data")=>(Yu||await d0(),new Promise(r=>{Je.readFile("/"+e+"/"+t,function(n,i){r(i)})})),readFileChunk:Dw,getFilenames:(t=r=>{},e="/data")=>new Promise(r=>{Je.readdir(e,(n,i)=>{if(n)throw n;i?(console.log("files",i),t(i),r(i)):r(void 0)})}),writeFile:async(t,e,r="data",n=i=>{})=>new Promise(i=>{Je.writeFile("/"+r+"/"+t,e,o=>{if(o)throw o;n(e),i(!0)})}),appendFile:async(t,e,r="data",n=i=>{})=>new Promise(i=>{Je.appendFile("/"+r+"/"+t,e,o=>{if(o)throw o;n(e),i(!0)})}),deleteFile:(t="sessionName",e="data",r=Cw)=>new Promise(n=>{t!=""?Je.unlink("/"+e+"/"+t,i=>{i&&console.error(i),r(),n(!0)}):(console.error("Path name is not defined"),n(!1))}),readFileAsText:async(t="sessionName.csv",e="data",r="end",n=0,i=(o,s)=>{})=>new Promise(async o=>{let s=await p0(t,e);(r==="end"||typeof r=="number"&&r>s)&&(r=s),Je.open("/"+e+"/"+t,"r",(l,f)=>{if(l)throw l;Je.read(f,r,n,"utf-8",(d,m,v)=>{if(d)throw d;if(v!==0){let y=m.toString();Je.close(f,()=>{i(y,t),o(y)})}else o(void 0)})})}),getFileSize:p0,getCSVHeader:Fw,listFiles:Cw,writeToCSVFromDB:async(t="sessionName",e="data",r=10)=>new Promise(n=>{t!=""?Je.stat("/"+e+"/"+t,(i,o)=>{if(i)throw i;let s=o.size;console.log(s),Je.open(e+"/"+t,"r",(l,f)=>{if(l)throw l;let d=1024*r*1024,m=d;s<d&&(m=s,Je.read(f,m,0,"utf-8",(v,y,S)=>{if(v)throw v;S!==0&&Pa.saveCSV(y.toString(),t),Je.close(f),n(!0)}))})}):(console.error("File name is not defined."),n(!1))}),readCSVChunkFromDB:async function(t,e="data",r=0,n="end"){let i=await Fw(t);if(!i)return;i=i.split(",");let o=[],s=[],l={};i.forEach(v=>{v?(s.push(v),o.push(1)):o[o.length-1]++});let f=await p0(t,e);n==="end"?n=f:n>f&&(r=f-(n-r),n=f);let d=await Dw(t,e,r,n),m=0;return d.forEach((v,y)=>{let S=v.split(",");for(;m<S.length-1;){let O=o[0];O===1?(l[s[0]].push(S[m]),m++):(l[s[0]].push(S[m].slice(m,O)),m+=O)}}),l},saveToFS:async(t,e="sessionName",r="data")=>(Yu||await d0(),new Promise(async n=>{await y0(Je,r),Je.writeFile("/"+r+"/"+e,t,i=>{if(i)throw i;n(t)})})),dirExists:y0});nI=Object.freeze({__proto__:null,checkFolder:m0,createDriveFolder:function(t="Brainsatplay_Data"){let e=new Object;e.name=t,e.mimeType="application/vnd.google-apps.folder",window.gapi.client.drive.files.create({resource:e}).then(r=>{console.log(r.result)})},backupToDrive:(t,e="/data")=>{window.gapi.auth2.getAuthInstance().isSignedIn.get()?Je.readFile(e+"/"+t,(r,n)=>{if(r)throw r;let i=new Blob([n.toString()],{type:"text/csv"});m0(o=>{let s={name:t+".csv",mimeType:"application/vnd.google-apps.spreadsheet",parents:[o.files[0].id]},l=window.gapi.auth.getToken().access_token;var f=new FormData;f.append("metadata",new Blob([JSON.stringify(s)],{type:"application/json"})),f.append("file",i);var d=new XMLHttpRequest;d.open("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id"),d.setRequestHeader("Authorization","Bearer "+l),d.responseType="json",d.onload=()=>{console.log("Uploaded file id: ",d.response.id),Lw()},d.send(f)})}):alert("Sign in with Google first!")},listDriveFiles:Lw});g0.regex=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;iI=Object.freeze({__proto__:null,dataURLtoBlob:function(t){if(g0(t)){for(var e=t.split(","),r=e[0].match(/:(.*?);/)[1],n=atob(e[1]),i=n.length,o=new Uint8Array(i);i--;)o[i]=n.charCodeAt(i);return new Blob([o],{type:r})}},blobToDataURL:function(t,e){var r=new FileReader;r.onload=function(n){e(n.target.result)},r.readAsDataURL(t)},dataToBlob:async function(t,e="text/plain",r=256e3){let n={filename,data:new Blob([t],{filetype:e})};if(Object.assign(n,props),n.data.size>r){let i=n.data.size,o=0,s=0,l=[];for(;o<i;){let f,d=o+r;if(d>i&&(d=i),f=e==="text/plain"?await n.data.slice(o,d).text():await n.data.slice(o,d).arrayBuffer(),f){let m={filename,data:new Blob([f],{type:e}),chunk:s,start:o,end:d};Object.assign(m,props),l.push(m)}o+=r,s++}return l}return n}});typeof minimongo<"u"&&(Mw=jw());jw=t=>{try{t=new minimongo.IndexedDb}catch{try{t=new minimongo.LocalStorageDb}catch{try{t=new minimongo.MemoryDb}catch{console.error("No DB created!")}}}return t},Bw=async(t,e)=>{let r=t[e].find(),n=[];return await r.count()>0&&await Promise.all(r.map(async i=>{i.chunk!==void 0?i.chunk===0&&n.push(i.filename):n.push(i.filename)})),n},PO=Bw,Pw=async(t,e,r)=>{let n,i=t[e].find({filename:r});if(await i.count()>0){let o={};await Promise.all(i.map(async l=>{let f=await l.data.text();l.chunk!==void 0?o[l.chunk]=f:o[0]=f}));let s=Object.keys(o).length;for(let l=0;l<s;l++)n+=o[l]}return n},oI=Object.freeze({__proto__:null,get db(){return Mw},localDB:jw,remoteDB:(t,e,r,n,i,o)=>new minimongo.RemoteDb(e,r,n,i,o),connectDB:(t,e,r,n,i,o)=>{let s=new minimongo.RemoteDb(e,r,n,i,o);return t=new minimongo.HybridDb(t,s)},readData:async(t,e="",r={})=>{if(e)return t[e]||t.addCollection(e),await t[e].findOne(r)},writeData:async(t,e,r={},n=o=>{},i=o=>{})=>{if(e)return t[e]||t.addCollection(e),await t[e].upsert(r,n,i)},readFile:async(t,e,r="")=>{if(!t[e])return;let n,i={filename:r},o=t[e].find(i);return await o.count()>0&&(n=[],await Promise.all(o.map(async s=>{n.push(s)}))),n},readFileChunk:async(t,e,r="",n,i,o,s=d=>{},l=d=>{},f)=>{if(!t[e])return;let d={filename:r};return n&&(d.chunk=n),i&&(d.start=i),o&&(d.end=o),n||i&&o?await t[e].findOne(d,f,s,l):void 0},writeFile:async(t,e,r="",n,i=d=>{},o=d=>{},s={},l="text/plain",f=256e3)=>{let d=t[e].find({filename:r});await d.count()>0&&await Promise.all(d.map(async v=>{t[e].remove(v._id)}));let m={filename:r,data:new Blob([n],{filetype:l})};if(Object.assign(m,s),m.data.size>f){let v=m.data.size,y=0,S=0;for(;y<v;){let O,R=y+f;if(R>v&&(R=v),O=l==="text/plain"?await m.data.slice(y,R).text():await m.data.slice(y,R).arrayBuffer(),O){let T={filename:r,data:new Blob([O],{type:l}),chunk:S,start:y,end:R};Object.assign(T,s),t[e].upsert(T,i,o)}y+=f,S++}}else t[e].upsert(m,i,o)},appendFile:async(t,e,r="",n,i=d=>{},o=d=>{},s={},l="text/plain",f=256e3)=>{let d=t[e].find({filename:r}),m=await d.count(),v=0,y={filename:r,data:new Blob([n],{filetype:l})};if(Object.assign(y,s),m>0)if(await Promise.all(d.map(async S=>{v+=S.size})),y.data.size>f){let S=v,O=m;for(;S<y.data.size+v;){let R,T=S+f;if(T>v&&(T=v),R=l==="text/plain"?await y.data.slice(S,T).text():await y.data.slice(S,T).arrayBuffer(),R){let I={filename:r,data:new Blob([R],{type:l}),chunk:O,start:S,end:T,size:T-S};Object.assign(I,s),t[e].upsert(I,i,o)}S+=f,O++}}else y.chunk=m,y.start=v,y.end=v+y.data.size,t[e].upsert(y,i,o);else t[e].upsert(y,i,o)},getFilenames:Bw,listFiles:PO,getFileSize:async(t,e,r)=>{let n=t[e].find({filename:r}),i=await n.count(),o=0;return i>0&&await Promise.all(n.map(async s=>{o+=s.size})),o},deleteFile:async(t,e,r)=>await t[e].remove(r),writeToCSVFromDB:async(t,e,r)=>{let n=await Pw(e,r);Pa.saveCSV(n,r)},getCSVHeader:async(t,e,r)=>{let n,i=t[e].find({filename:r});return await i.count()>0&&await Promise.all(i.map(async o=>{if(o.chunk!==void 0&&o.chunk===0){let s=await o.data.text();n=s.substring(0,s.indexOf(`
`))}})),n},readFileAsText:Pw})});function MO(t="state.json",e=$r){e.subscribe("state",r=>{Yi.writeFile(t,JSON.stringify(r),"data")})}function is(n){return te(this,arguments,function*(t,e="state.json",r=$r){yield Yi.initFS(["data"]),yield Yi.dirExists(Yi.fs,"data");let i=yield new Promise(s=>{Yi.fs.exists("/data/"+e,l=>{s(l)})}),o;if(i){o=yield Yi.readFileAsText("state.json","data");try{let s=JSON.parse(o);typeof s=="object"&&(s.loggedInId&&s.loggedInId===(t==null?void 0:t._id)||!s.loggedInId)&&r.setState(s)}catch(s){console.error(s)}}return MO(e,r),o})}var $r,ja=tt(()=>{h0();Uw();$r=new Ju({route:"/",isLoggedIn:!1,appInitialized:!1,loggedInId:void 0})});function jO(t,e){return e={exports:{}},t(e,e.exports),e.exports}function t_(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function WO(t){var e=t_(t),r=e[0],n=e[1];return(r+n)*3/4-n}function qO(t,e,r){return(e+r)*3/4-r}function $O(t){var e,r=t_(t),n=r[0],i=r[1],o=new VO(qO(t,n,i)),s=0,l=i>0?n-4:n,f;for(f=0;f<l;f+=4)e=Gr[t.charCodeAt(f)]<<18|Gr[t.charCodeAt(f+1)]<<12|Gr[t.charCodeAt(f+2)]<<6|Gr[t.charCodeAt(f+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Gr[t.charCodeAt(f)]<<2|Gr[t.charCodeAt(f+1)]>>4,o[s++]=e&255),i===1&&(e=Gr[t.charCodeAt(f)]<<10|Gr[t.charCodeAt(f+1)]<<4|Gr[t.charCodeAt(f+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function HO(t){return Sn[t>>18&63]+Sn[t>>12&63]+Sn[t>>6&63]+Sn[t&63]}function GO(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(HO(n));return i.join("")}function JO(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,l=r-n;s<l;s+=o)i.push(GO(t,s,s+o>l?l:s+o));return n===1?(e=t[r-1],i.push(Sn[e>>2]+Sn[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Sn[e>>10]+Sn[e>>4&63]+Sn[e<<2&63]+"=")),i.join("")}function k0(t,e){x0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Ku(t){return t&&t.Math==Math&&t}function r_(){return Ku(typeof globalThis=="object"&&globalThis)||Ku(typeof window=="object"&&window)||Ku(typeof self=="object"&&self)||Ku(typeof global=="object"&&global)||Function("return this")()}function ZO(){var t=r_();return typeof t.navigator=="object"&&t.navigator.product==="ReactNative"}function e6(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}function T0(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function t6(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function r6(t){return Va(t)&&Object.prototype.toString.call(t)==="[object Date]"}function Va(t){return typeof t=="object"&&t!==null}function Qu(t,e){var r=!1;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r||(console.warn(e),r=!0),t.apply(this,i)}return n}function Zu(t){if(ArrayBuffer.isView(t))return Ve.from(t.buffer,t.byteOffset,t.byteLength);if(e6(t))return Ve.from(t);throw new vt("Must use either Buffer or TypedArray")}function i6(t){return Va(t)&&t.$id!=null&&typeof t.$ref=="string"&&(t.$db==null||typeof t.$db=="string")}function Zw(t){return!isNaN(parseInt(t,10))}function p6(t){var e=ke.fromNumber(1e9),r=ke.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:r};for(var n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new ke(t.parts[n],0)),t.parts[n]=r.div(e).low,r=r.modulo(e);return{quotient:t,rem:r}}function y6(t,e){if(!t&&!e)return{high:ke.fromNumber(0),low:ke.fromNumber(0)};var r=t.shiftRightUnsigned(32),n=new ke(t.getLowBits(),0),i=e.shiftRightUnsigned(32),o=new ke(e.getLowBits(),0),s=r.multiply(i),l=r.multiply(o),f=n.multiply(i),d=n.multiply(o);return s=s.add(l.shiftRightUnsigned(32)),l=new ke(l.getLowBits(),0).add(f).add(d.shiftRightUnsigned(32)),s=s.add(l.shiftRightUnsigned(32)),d=l.shiftLeft(32).add(new ke(d.getLowBits(),0)),{high:s,low:d}}function m6(t,e){var r=t.high>>>0,n=e.high>>>0;if(r<n)return!0;if(r===n){var i=t.low>>>0,o=e.low>>>0;if(i<o)return!0}return!1}function ss(t,e){throw new vt('"'+t+'" is not a valid Decimal128 string - '+e)}function v6(t){return t.split("").sort().join("")}function _6(t){return Va(t)&&Reflect.has(t,"_bsontype")&&typeof t._bsontype=="string"}function h_(t,e){if(e===void 0&&(e={}),typeof t=="number"){if(e.relaxed||e.legacy)return t;if(Math.floor(t)===t){if(t>=u_&&t<=l_)return new rc(t);if(t>=f_&&t<=c_)return ke.fromNumber(t)}return new tc(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;for(var r=Object.keys(t).filter(function(v){return v.startsWith("$")&&t[v]!=null}),n=0;n<r.length;n++){var i=S6[r[n]];if(i)return i.fromExtendedJSON(t,e)}if(t.$date!=null){var o=t.$date,s=new Date;return e.legacy?typeof o=="number"?s.setTime(o):typeof o=="string"&&s.setTime(Date.parse(o)):typeof o=="string"?s.setTime(Date.parse(o)):ke.isLong(o)?s.setTime(o.toNumber()):typeof o=="number"&&e.relaxed&&s.setTime(o),s}if(t.$code!=null){var l=Object.assign({},t);return t.$scope&&(l.$scope=h_(t.$scope)),ec.fromExtendedJSON(t)}if(i6(t)||t.$dbPointer){var f=t.$ref?t:t.$dbPointer;if(f instanceof Ua)return f;var d=Object.keys(f).filter(function(v){return v.startsWith("$")}),m=!0;if(d.forEach(function(v){["$ref","$id","$db"].indexOf(v)===-1&&(m=!1)}),m)return Ua.fromExtendedJSON(f)}return t}function E6(t,e){return t.map(function(r,n){e.seenObjects.push({propertyName:"index "+n,obj:null});try{return fi(r,e)}finally{e.seenObjects.pop()}})}function Xw(t){var e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function fi(t,e){if((typeof t=="object"||typeof t=="function")&&t!==null){var r=e.seenObjects.findIndex(function(I){return I.obj===t});if(r!==-1){var n=e.seenObjects.map(function(I){return I.propertyName}),i=n.slice(0,r).map(function(I){return I+" -> "}).join(""),o=n[r],s=" -> "+n.slice(r+1,n.length-1).map(function(I){return I+" -> "}).join(""),l=n[n.length-1],f=" ".repeat(i.length+o.length/2),d="-".repeat(s.length+(o.length+l.length)/2-1);throw new vt(`Converting circular structure to EJSON:
`+("    "+i+o+s+l+`
`)+("    "+f+"\\"+d+"/"))}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return E6(t,e);if(t===void 0)return null;if(t instanceof Date||r6(t)){var m=t.getTime(),v=m>-1&&m<2534023188e5;return e.legacy?e.relaxed&&v?{$date:t.getTime()}:{$date:Xw(t)}:e.relaxed&&v?{$date:Xw(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Math.floor(t)===t){var y=t>=u_&&t<=l_,S=t>=f_&&t<=c_;if(y)return{$numberInt:t.toString()};if(S)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp||t6(t)){var O=t.flags;if(O===void 0){var R=t.toString().match(/[gimuy]*$/);R&&(O=R[0])}var T=new za(t.source,O);return T.toExtendedJSON(e)}return t!=null&&typeof t=="object"?x6(t,e):t}function x6(t,e){if(t==null||typeof t!="object")throw new Xi("not an object instance");var r=t._bsontype;if(typeof r>"u"){var n={};for(var i in t){e.seenObjects.push({propertyName:i,obj:null});try{n[i]=fi(t[i],e)}finally{e.seenObjects.pop()}}return n}else if(_6(t)){var o=t;if(typeof o.toExtendedJSON!="function"){var s=b6[t._bsontype];if(!s)throw new vt("Unrecognized or invalid _bsontype: "+t._bsontype);o=s(o)}return r==="Code"&&o.scope?o=new ec(o.code,fi(o.scope,e)):r==="DBRef"&&o.oid&&(o=new Ua(fi(o.collection,e),fi(o.oid,e),fi(o.db,e),fi(o.fields,e))),o.toExtendedJSON(e)}else throw new Xi("_bsontype must be a string, but was: "+typeof r)}var BO,UO,zO,Sn,Gr,VO,v0,Ki,zw,w0,YO,KO,os,Xu,Ve,x0,Xi,vt,XO,QO,n_,n6,i_,O0,Vw,_0,S0,o_,Qi,ec,Ua,Hr,Ww,o6,ls,s_,qw,$w,Hw,ke,s6,a6,l6,Ba,E0,Gw,u6,b0,Jw,Yw,c6,f6,Kw,h6,d6,N0,tc,rc,I0,A0,g6,Zi,as,mr,za,R0,w6,a_,l_,u_,c_,f_,S6,b6,hi,Qw,e_,cI,fI,O6,k6,hI,dI,T6,pI,D0=tt(()=>{BO=WO,UO=$O,zO=JO,Sn=[],Gr=[],VO=typeof Uint8Array<"u"?Uint8Array:Array,v0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Ki=0,zw=v0.length;Ki<zw;++Ki)Sn[Ki]=v0[Ki],Gr[v0.charCodeAt(Ki)]=Ki;Gr["-".charCodeAt(0)]=62;Gr["_".charCodeAt(0)]=63;w0={byteLength:BO,toByteArray:UO,fromByteArray:zO};YO=function(e,r,n,i,o){var s,l,f=o*8-i-1,d=(1<<f)-1,m=d>>1,v=-7,y=n?o-1:0,S=n?-1:1,O=e[r+y];for(y+=S,s=O&(1<<-v)-1,O>>=-v,v+=f;v>0;s=s*256+e[r+y],y+=S,v-=8);for(l=s&(1<<-v)-1,s>>=-v,v+=i;v>0;l=l*256+e[r+y],y+=S,v-=8);if(s===0)s=1-m;else{if(s===d)return l?NaN:(O?-1:1)*(1/0);l=l+Math.pow(2,i),s=s-m}return(O?-1:1)*l*Math.pow(2,s-i)},KO=function(e,r,n,i,o,s){var l,f,d,m=s*8-o-1,v=(1<<m)-1,y=v>>1,S=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=i?0:s-1,R=i?1:-1,T=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,l=v):(l=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+y>=1?r+=S/d:r+=S*Math.pow(2,1-y),r*d>=2&&(l++,d/=2),l+y>=v?(f=0,l=v):l+y>=1?(f=(r*d-1)*Math.pow(2,o),l=l+y):(f=r*Math.pow(2,y-1)*Math.pow(2,o),l=0));o>=8;e[n+O]=f&255,O+=R,f/=256,o-=8);for(l=l<<o|f,m+=o;m>0;e[n+O]=l&255,O+=R,l/=256,m-=8);e[n+O-R]|=T*128},os={read:YO,write:KO},Xu=jO(function(t,e){var r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=I,e.INSPECT_MAX_BYTES=50;var n=2147483647;e.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var F=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(F,E),F.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function o(F){if(F>n)throw new RangeError('The value "'+F+'" is invalid for option "size"');var E=new Uint8Array(F);return Object.setPrototypeOf(E,s.prototype),E}function s(F,E,k){if(typeof F=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(F)}return l(F,E,k)}s.poolSize=8192;function l(F,E,k){if(typeof F=="string")return v(F,E);if(ArrayBuffer.isView(F))return S(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(F));if(K(F,ArrayBuffer)||F&&K(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(K(F,SharedArrayBuffer)||F&&K(F.buffer,SharedArrayBuffer)))return O(F,E,k);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var B=F.valueOf&&F.valueOf();if(B!=null&&B!==F)return s.from(B,E,k);var ee=R(F);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return s.from(F[Symbol.toPrimitive]("string"),E,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(F))}s.from=function(F,E,k){return l(F,E,k)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function f(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function d(F,E,k){return f(F),F<=0?o(F):E!==void 0?typeof k=="string"?o(F).fill(E,k):o(F).fill(E):o(F)}s.alloc=function(F,E,k){return d(F,E,k)};function m(F){return f(F),o(F<0?0:T(F)|0)}s.allocUnsafe=function(F){return m(F)},s.allocUnsafeSlow=function(F){return m(F)};function v(F,E){if((typeof E!="string"||E==="")&&(E="utf8"),!s.isEncoding(E))throw new TypeError("Unknown encoding: "+E);var k=L(F,E)|0,B=o(k),ee=B.write(F,E);return ee!==k&&(B=B.slice(0,ee)),B}function y(F){for(var E=F.length<0?0:T(F.length)|0,k=o(E),B=0;B<E;B+=1)k[B]=F[B]&255;return k}function S(F){if(K(F,Uint8Array)){var E=new Uint8Array(F);return O(E.buffer,E.byteOffset,E.byteLength)}return y(F)}function O(F,E,k){if(E<0||F.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<E+(k||0))throw new RangeError('"length" is outside of buffer bounds');var B;return E===void 0&&k===void 0?B=new Uint8Array(F):k===void 0?B=new Uint8Array(F,E):B=new Uint8Array(F,E,k),Object.setPrototypeOf(B,s.prototype),B}function R(F){if(s.isBuffer(F)){var E=T(F.length)|0,k=o(E);return k.length===0||F.copy(k,0,0,E),k}if(F.length!==void 0)return typeof F.length!="number"||J(F.length)?o(0):y(F);if(F.type==="Buffer"&&Array.isArray(F.data))return y(F.data)}function T(F){if(F>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return F|0}function I(F){return+F!=F&&(F=0),s.alloc(+F)}s.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==s.prototype},s.compare=function(E,k){if(K(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),K(k,Uint8Array)&&(k=s.from(k,k.offset,k.byteLength)),!s.isBuffer(E)||!s.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===k)return 0;for(var B=E.length,ee=k.length,fe=0,he=Math.min(B,ee);fe<he;++fe)if(E[fe]!==k[fe]){B=E[fe],ee=k[fe];break}return B<ee?-1:ee<B?1:0},s.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(E,k){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return s.alloc(0);var B;if(k===void 0)for(k=0,B=0;B<E.length;++B)k+=E[B].length;var ee=s.allocUnsafe(k),fe=0;for(B=0;B<E.length;++B){var he=E[B];if(K(he,Uint8Array))fe+he.length>ee.length?s.from(he).copy(ee,fe):Uint8Array.prototype.set.call(ee,he,fe);else if(s.isBuffer(he))he.copy(ee,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=he.length}return ee};function L(F,E){if(s.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||K(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(F));var k=F.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&k===0)return 0;for(var ee=!1;;)switch(E){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return Ie(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return j(F).length;default:if(ee)return B?-1:Ie(F).length;E=(""+E).toLowerCase(),ee=!0}}s.byteLength=L;function Y(F,E,k){var B=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,E>>>=0,k<=E))return"";for(F||(F="utf8");;)switch(F){case"hex":return U(this,E,k);case"utf8":case"utf-8":return ae(this,E,k);case"ascii":return D(this,E,k);case"latin1":case"binary":return ie(this,E,k);case"base64":return le(this,E,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,E,k);default:if(B)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),B=!0}}s.prototype._isBuffer=!0;function H(F,E,k){var B=F[E];F[E]=F[k],F[k]=B}s.prototype.swap16=function(){var E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<E;k+=2)H(this,k,k+1);return this},s.prototype.swap32=function(){var E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<E;k+=4)H(this,k,k+3),H(this,k+1,k+2);return this},s.prototype.swap64=function(){var E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<E;k+=8)H(this,k,k+7),H(this,k+1,k+6),H(this,k+2,k+5),H(this,k+3,k+4);return this},s.prototype.toString=function(){var E=this.length;return E===0?"":arguments.length===0?ae(this,0,E):Y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(E){if(!s.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:s.compare(this,E)===0},s.prototype.inspect=function(){var E="",k=e.INSPECT_MAX_BYTES;return E=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(E+=" ... "),"<Buffer "+E+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(E,k,B,ee,fe){if(K(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),!s.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(E));if(k===void 0&&(k=0),B===void 0&&(B=E?E.length:0),ee===void 0&&(ee=0),fe===void 0&&(fe=this.length),k<0||B>E.length||ee<0||fe>this.length)throw new RangeError("out of range index");if(ee>=fe&&k>=B)return 0;if(ee>=fe)return-1;if(k>=B)return 1;if(k>>>=0,B>>>=0,ee>>>=0,fe>>>=0,this===E)return 0;for(var he=fe-ee,Ce=B-k,Re=Math.min(he,Ce),Ge=this.slice(ee,fe),At=E.slice(k,B),Xe=0;Xe<Re;++Xe)if(Ge[Xe]!==At[Xe]){he=Ge[Xe],Ce=At[Xe];break}return he<Ce?-1:Ce<he?1:0};function Z(F,E,k,B,ee){if(F.length===0)return-1;if(typeof k=="string"?(B=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,J(k)&&(k=ee?0:F.length-1),k<0&&(k=F.length+k),k>=F.length){if(ee)return-1;k=F.length-1}else if(k<0)if(ee)k=0;else return-1;if(typeof E=="string"&&(E=s.from(E,B)),s.isBuffer(E))return E.length===0?-1:P(F,E,k,B,ee);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(F,E,k):Uint8Array.prototype.lastIndexOf.call(F,E,k):P(F,[E],k,B,ee);throw new TypeError("val must be string, number or Buffer")}function P(F,E,k,B,ee){var fe=1,he=F.length,Ce=E.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(F.length<2||E.length<2)return-1;fe=2,he/=2,Ce/=2,k/=2}function Re(Es,xi){return fe===1?Es[xi]:Es.readUInt16BE(xi*fe)}var Ge;if(ee){var At=-1;for(Ge=k;Ge<he;Ge++)if(Re(F,Ge)===Re(E,At===-1?0:Ge-At)){if(At===-1&&(At=Ge),Ge-At+1===Ce)return At*fe}else At!==-1&&(Ge-=Ge-At),At=-1}else for(k+Ce>he&&(k=he-Ce),Ge=k;Ge>=0;Ge--){for(var Xe=!0,po=0;po<Ce;po++)if(Re(F,Ge+po)!==Re(E,po)){Xe=!1;break}if(Xe)return Ge}return-1}s.prototype.includes=function(E,k,B){return this.indexOf(E,k,B)!==-1},s.prototype.indexOf=function(E,k,B){return Z(this,E,k,B,!0)},s.prototype.lastIndexOf=function(E,k,B){return Z(this,E,k,B,!1)};function V(F,E,k,B){k=Number(k)||0;var ee=F.length-k;B?(B=Number(B),B>ee&&(B=ee)):B=ee;var fe=E.length;B>fe/2&&(B=fe/2);for(var he=0;he<B;++he){var Ce=parseInt(E.substr(he*2,2),16);if(J(Ce))return he;F[k+he]=Ce}return he}function _(F,E,k,B){return $(Ie(E,F.length-k),F,k,B)}function W(F,E,k,B){return $(b(E),F,k,B)}function re(F,E,k,B){return $(j(E),F,k,B)}function X(F,E,k,B){return $(A(E,F.length-k),F,k,B)}s.prototype.write=function(E,k,B,ee){if(k===void 0)ee="utf8",B=this.length,k=0;else if(B===void 0&&typeof k=="string")ee=k,B=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(B)?(B=B>>>0,ee===void 0&&(ee="utf8")):(ee=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var fe=this.length-k;if((B===void 0||B>fe)&&(B=fe),E.length>0&&(B<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var he=!1;;)switch(ee){case"hex":return V(this,E,k,B);case"utf8":case"utf-8":return _(this,E,k,B);case"ascii":case"latin1":case"binary":return W(this,E,k,B);case"base64":return re(this,E,k,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,E,k,B);default:if(he)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),he=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(F,E,k){return E===0&&k===F.length?w0.fromByteArray(F):w0.fromByteArray(F.slice(E,k))}function ae(F,E,k){k=Math.min(F.length,k);for(var B=[],ee=E;ee<k;){var fe=F[ee],he=null,Ce=fe>239?4:fe>223?3:fe>191?2:1;if(ee+Ce<=k){var Re,Ge,At,Xe;switch(Ce){case 1:fe<128&&(he=fe);break;case 2:Re=F[ee+1],(Re&192)===128&&(Xe=(fe&31)<<6|Re&63,Xe>127&&(he=Xe));break;case 3:Re=F[ee+1],Ge=F[ee+2],(Re&192)===128&&(Ge&192)===128&&(Xe=(fe&15)<<12|(Re&63)<<6|Ge&63,Xe>2047&&(Xe<55296||Xe>57343)&&(he=Xe));break;case 4:Re=F[ee+1],Ge=F[ee+2],At=F[ee+3],(Re&192)===128&&(Ge&192)===128&&(At&192)===128&&(Xe=(fe&15)<<18|(Re&63)<<12|(Ge&63)<<6|At&63,Xe>65535&&Xe<1114112&&(he=Xe))}}he===null?(he=65533,Ce=1):he>65535&&(he-=65536,B.push(he>>>10&1023|55296),he=56320|he&1023),B.push(he),ee+=Ce}return M(B)}var ye=4096;function M(F){var E=F.length;if(E<=ye)return String.fromCharCode.apply(String,F);for(var k="",B=0;B<E;)k+=String.fromCharCode.apply(String,F.slice(B,B+=ye));return k}function D(F,E,k){var B="";k=Math.min(F.length,k);for(var ee=E;ee<k;++ee)B+=String.fromCharCode(F[ee]&127);return B}function ie(F,E,k){var B="";k=Math.min(F.length,k);for(var ee=E;ee<k;++ee)B+=String.fromCharCode(F[ee]);return B}function U(F,E,k){var B=F.length;(!E||E<0)&&(E=0),(!k||k<0||k>B)&&(k=B);for(var ee="",fe=E;fe<k;++fe)ee+=_e[F[fe]];return ee}function z(F,E,k){for(var B=F.slice(E,k),ee="",fe=0;fe<B.length-1;fe+=2)ee+=String.fromCharCode(B[fe]+B[fe+1]*256);return ee}s.prototype.slice=function(E,k){var B=this.length;E=~~E,k=k===void 0?B:~~k,E<0?(E+=B,E<0&&(E=0)):E>B&&(E=B),k<0?(k+=B,k<0&&(k=0)):k>B&&(k=B),k<E&&(k=E);var ee=this.subarray(E,k);return Object.setPrototypeOf(ee,s.prototype),ee};function G(F,E,k){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+E>k)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(E,k,B){E=E>>>0,k=k>>>0,B||G(E,k,this.length);for(var ee=this[E],fe=1,he=0;++he<k&&(fe*=256);)ee+=this[E+he]*fe;return ee},s.prototype.readUintBE=s.prototype.readUIntBE=function(E,k,B){E=E>>>0,k=k>>>0,B||G(E,k,this.length);for(var ee=this[E+--k],fe=1;k>0&&(fe*=256);)ee+=this[E+--k]*fe;return ee},s.prototype.readUint8=s.prototype.readUInt8=function(E,k){return E=E>>>0,k||G(E,1,this.length),this[E]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(E,k){return E=E>>>0,k||G(E,2,this.length),this[E]|this[E+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(E,k){return E=E>>>0,k||G(E,2,this.length),this[E]<<8|this[E+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(E,k){return E=E>>>0,k||G(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(E,k){return E=E>>>0,k||G(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},s.prototype.readIntLE=function(E,k,B){E=E>>>0,k=k>>>0,B||G(E,k,this.length);for(var ee=this[E],fe=1,he=0;++he<k&&(fe*=256);)ee+=this[E+he]*fe;return fe*=128,ee>=fe&&(ee-=Math.pow(2,8*k)),ee},s.prototype.readIntBE=function(E,k,B){E=E>>>0,k=k>>>0,B||G(E,k,this.length);for(var ee=k,fe=1,he=this[E+--ee];ee>0&&(fe*=256);)he+=this[E+--ee]*fe;return fe*=128,he>=fe&&(he-=Math.pow(2,8*k)),he},s.prototype.readInt8=function(E,k){return E=E>>>0,k||G(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},s.prototype.readInt16LE=function(E,k){E=E>>>0,k||G(E,2,this.length);var B=this[E]|this[E+1]<<8;return B&32768?B|4294901760:B},s.prototype.readInt16BE=function(E,k){E=E>>>0,k||G(E,2,this.length);var B=this[E+1]|this[E]<<8;return B&32768?B|4294901760:B},s.prototype.readInt32LE=function(E,k){return E=E>>>0,k||G(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},s.prototype.readInt32BE=function(E,k){return E=E>>>0,k||G(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},s.prototype.readFloatLE=function(E,k){return E=E>>>0,k||G(E,4,this.length),os.read(this,E,!0,23,4)},s.prototype.readFloatBE=function(E,k){return E=E>>>0,k||G(E,4,this.length),os.read(this,E,!1,23,4)},s.prototype.readDoubleLE=function(E,k){return E=E>>>0,k||G(E,8,this.length),os.read(this,E,!0,52,8)},s.prototype.readDoubleBE=function(E,k){return E=E>>>0,k||G(E,8,this.length),os.read(this,E,!1,52,8)};function ue(F,E,k,B,ee,fe){if(!s.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>ee||E<fe)throw new RangeError('"value" argument is out of bounds');if(k+B>F.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(E,k,B,ee){if(E=+E,k=k>>>0,B=B>>>0,!ee){var fe=Math.pow(2,8*B)-1;ue(this,E,k,B,fe,0)}var he=1,Ce=0;for(this[k]=E&255;++Ce<B&&(he*=256);)this[k+Ce]=E/he&255;return k+B},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(E,k,B,ee){if(E=+E,k=k>>>0,B=B>>>0,!ee){var fe=Math.pow(2,8*B)-1;ue(this,E,k,B,fe,0)}var he=B-1,Ce=1;for(this[k+he]=E&255;--he>=0&&(Ce*=256);)this[k+he]=E/Ce&255;return k+B},s.prototype.writeUint8=s.prototype.writeUInt8=function(E,k,B){return E=+E,k=k>>>0,B||ue(this,E,k,1,255,0),this[k]=E&255,k+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(E,k,B){return E=+E,k=k>>>0,B||ue(this,E,k,2,65535,0),this[k]=E&255,this[k+1]=E>>>8,k+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(E,k,B){return E=+E,k=k>>>0,B||ue(this,E,k,2,65535,0),this[k]=E>>>8,this[k+1]=E&255,k+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(E,k,B){return E=+E,k=k>>>0,B||ue(this,E,k,4,4294967295,0),this[k+3]=E>>>24,this[k+2]=E>>>16,this[k+1]=E>>>8,this[k]=E&255,k+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(E,k,B){return E=+E,k=k>>>0,B||ue(this,E,k,4,4294967295,0),this[k]=E>>>24,this[k+1]=E>>>16,this[k+2]=E>>>8,this[k+3]=E&255,k+4},s.prototype.writeIntLE=function(E,k,B,ee){if(E=+E,k=k>>>0,!ee){var fe=Math.pow(2,8*B-1);ue(this,E,k,B,fe-1,-fe)}var he=0,Ce=1,Re=0;for(this[k]=E&255;++he<B&&(Ce*=256);)E<0&&Re===0&&this[k+he-1]!==0&&(Re=1),this[k+he]=(E/Ce>>0)-Re&255;return k+B},s.prototype.writeIntBE=function(E,k,B,ee){if(E=+E,k=k>>>0,!ee){var fe=Math.pow(2,8*B-1);ue(this,E,k,B,fe-1,-fe)}var he=B-1,Ce=1,Re=0;for(this[k+he]=E&255;--he>=0&&(Ce*=256);)E<0&&Re===0&&this[k+he+1]!==0&&(Re=1),this[k+he]=(E/Ce>>0)-Re&255;return k+B},s.prototype.writeInt8=function(E,k,B){return E=+E,k=k>>>0,B||ue(this,E,k,1,127,-128),E<0&&(E=255+E+1),this[k]=E&255,k+1},s.prototype.writeInt16LE=function(E,k,B){return E=+E,k=k>>>0,B||ue(this,E,k,2,32767,-32768),this[k]=E&255,this[k+1]=E>>>8,k+2},s.prototype.writeInt16BE=function(E,k,B){return E=+E,k=k>>>0,B||ue(this,E,k,2,32767,-32768),this[k]=E>>>8,this[k+1]=E&255,k+2},s.prototype.writeInt32LE=function(E,k,B){return E=+E,k=k>>>0,B||ue(this,E,k,4,2147483647,-2147483648),this[k]=E&255,this[k+1]=E>>>8,this[k+2]=E>>>16,this[k+3]=E>>>24,k+4},s.prototype.writeInt32BE=function(E,k,B){return E=+E,k=k>>>0,B||ue(this,E,k,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[k]=E>>>24,this[k+1]=E>>>16,this[k+2]=E>>>8,this[k+3]=E&255,k+4};function oe(F,E,k,B,ee,fe){if(k+B>F.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function ne(F,E,k,B,ee){return E=+E,k=k>>>0,ee||oe(F,E,k,4),os.write(F,E,k,B,23,4),k+4}s.prototype.writeFloatLE=function(E,k,B){return ne(this,E,k,!0,B)},s.prototype.writeFloatBE=function(E,k,B){return ne(this,E,k,!1,B)};function se(F,E,k,B,ee){return E=+E,k=k>>>0,ee||oe(F,E,k,8),os.write(F,E,k,B,52,8),k+8}s.prototype.writeDoubleLE=function(E,k,B){return se(this,E,k,!0,B)},s.prototype.writeDoubleBE=function(E,k,B){return se(this,E,k,!1,B)},s.prototype.copy=function(E,k,B,ee){if(!s.isBuffer(E))throw new TypeError("argument should be a Buffer");if(B||(B=0),!ee&&ee!==0&&(ee=this.length),k>=E.length&&(k=E.length),k||(k=0),ee>0&&ee<B&&(ee=B),ee===B||E.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),E.length-k<ee-B&&(ee=E.length-k+B);var fe=ee-B;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,B,ee):Uint8Array.prototype.set.call(E,this.subarray(B,ee),k),fe},s.prototype.fill=function(E,k,B,ee){if(typeof E=="string"){if(typeof k=="string"?(ee=k,k=0,B=this.length):typeof B=="string"&&(ee=B,B=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!s.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(E.length===1){var fe=E.charCodeAt(0);(ee==="utf8"&&fe<128||ee==="latin1")&&(E=fe)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(k<0||this.length<k||this.length<B)throw new RangeError("Out of range index");if(B<=k)return this;k=k>>>0,B=B===void 0?this.length:B>>>0,E||(E=0);var he;if(typeof E=="number")for(he=k;he<B;++he)this[he]=E;else{var Ce=s.isBuffer(E)?E:s.from(E,ee),Re=Ce.length;if(Re===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(he=0;he<B-k;++he)this[he+k]=Ce[he%Re]}return this};var pe=/[^+/0-9A-Za-z-_]/g;function Ee(F){if(F=F.split("=")[0],F=F.trim().replace(pe,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function Ie(F,E){E=E||1/0;for(var k,B=F.length,ee=null,fe=[],he=0;he<B;++he){if(k=F.charCodeAt(he),k>55295&&k<57344){if(!ee){if(k>56319){(E-=3)>-1&&fe.push(239,191,189);continue}else if(he+1===B){(E-=3)>-1&&fe.push(239,191,189);continue}ee=k;continue}if(k<56320){(E-=3)>-1&&fe.push(239,191,189),ee=k;continue}k=(ee-55296<<10|k-56320)+65536}else ee&&(E-=3)>-1&&fe.push(239,191,189);if(ee=null,k<128){if((E-=1)<0)break;fe.push(k)}else if(k<2048){if((E-=2)<0)break;fe.push(k>>6|192,k&63|128)}else if(k<65536){if((E-=3)<0)break;fe.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((E-=4)<0)break;fe.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return fe}function b(F){for(var E=[],k=0;k<F.length;++k)E.push(F.charCodeAt(k)&255);return E}function A(F,E){for(var k,B,ee,fe=[],he=0;he<F.length&&!((E-=2)<0);++he)k=F.charCodeAt(he),B=k>>8,ee=k%256,fe.push(ee),fe.push(B);return fe}function j(F){return w0.toByteArray(Ee(F))}function $(F,E,k,B){for(var ee=0;ee<B&&!(ee+k>=E.length||ee>=F.length);++ee)E[ee+k]=F[ee];return ee}function K(F,E){return F instanceof E||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===E.name}function J(F){return F!==F}var _e=function(){for(var F="0123456789abcdef",E=new Array(256),k=0;k<16;++k)for(var B=k*16,ee=0;ee<16;++ee)E[B+ee]=F[k]+F[ee];return E}()}),Ve=Xu.Buffer;Xu.SlowBuffer;Xu.INSPECT_MAX_BYTES;Xu.kMaxLength;x0=function(e,r){return x0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},x0(e,r)};Xi=function(t){k0(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),e}(Error),vt=function(t){k0(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),e}(TypeError);XO=function(e){var r=ZO()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(r);for(var n=Ve.alloc(e),i=0;i<e;++i)n[i]=Math.floor(Math.random()*256);return n},QO=function(){if(typeof window<"u"){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return function(r){return t.getRandomValues(Ve.alloc(r))}}if(typeof global<"u"&&global.crypto&&global.crypto.getRandomValues)return function(r){return global.crypto.getRandomValues(Ve.alloc(r))};var e;try{e=f3("crypto").randomBytes}catch{}return e||XO},n_=QO();n6=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,i_=function(t){return typeof t=="string"&&n6.test(t)},O0=function(t){if(!i_(t))throw new vt('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var e=t.replace(/-/g,"");return Ve.from(e,"hex")},Vw=function(t,e){return e===void 0&&(e=!0),e?t.toString("hex",0,4)+"-"+t.toString("hex",4,6)+"-"+t.toString("hex",6,8)+"-"+t.toString("hex",8,10)+"-"+t.toString("hex",10,16):t.toString("hex")},_0=16,S0=Symbol("id"),o_=function(){function t(e){if(typeof e>"u")this.id=t.generate();else if(e instanceof t)this[S0]=Ve.from(e.id),this.__id=e.__id;else if(ArrayBuffer.isView(e)&&e.byteLength===_0)this.id=Zu(e);else if(typeof e=="string")this.id=O0(e);else throw new vt("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).")}return Object.defineProperty(t.prototype,"id",{get:function(){return this[S0]},set:function(e){this[S0]=e,t.cacheHexString&&(this.__id=Vw(e))},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(e){if(e===void 0&&(e=!0),t.cacheHexString&&this.__id)return this.__id;var r=Vw(this.id,e);return t.cacheHexString&&(this.__id=r),r},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){if(!e)return!1;if(e instanceof t)return e.id.equals(this.id);try{return new t(e).id.equals(this.id)}catch{return!1}},t.prototype.toBinary=function(){return new Qi(this.id,Qi.SUBTYPE_UUID)},t.generate=function(){var e=n_(_0);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Ve.from(e)},t.isValid=function(e){if(!e)return!1;if(e instanceof t)return!0;if(typeof e=="string")return i_(e);if(T0(e)){if(e.length!==_0)return!1;try{return parseInt(e[6].toString(16)[0],10)===Qi.SUBTYPE_UUID}catch{return!1}}return!1},t.createFromHexString=function(e){var r=O0(e);return new t(r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new UUID("'+this.toHexString()+'")'},t}();Object.defineProperty(o_.prototype,"_bsontype",{value:"UUID"});Qi=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(e!=null&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new vt("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??t.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=Ve.alloc(t.BUFFER_SIZE),this.position=0):(typeof e=="string"?this.buffer=Ve.from(e,"binary"):Array.isArray(e)?this.buffer=Ve.from(e):this.buffer=Zu(e),this.position=this.buffer.byteLength)}return t.prototype.put=function(e){if(typeof e=="string"&&e.length!==1)throw new vt("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new vt("only accepts single character Uint8Array or Array");var r;if(typeof e=="string"?r=e.charCodeAt(0):typeof e=="number"?r=e:r=e[0],r<0||r>255)throw new vt("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var n=Ve.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}},t.prototype.write=function(e,r){if(r=typeof r=="number"?r:this.position,this.buffer.length<r+e.length){var n=Ve.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(Zu(e),r),this.position=r+e.byteLength>this.position?r+e.length:this.position):typeof e=="string"&&(this.buffer.write(e,r,e.length,"binary"),this.position=r+e.length>this.position?r+e.length:this.position)},t.prototype.read=function(e,r){return r=r&&r>0?r:this.position,this.buffer.slice(e,e+r)},t.prototype.value=function(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},t.prototype.length=function(){return this.position},t.prototype.toJSON=function(){return this.buffer.toString("base64")},t.prototype.toString=function(e){return this.buffer.toString(e)},t.prototype.toExtendedJSON=function(e){e=e||{};var r=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}},t.prototype.toUUID=function(){if(this.sub_type===t.SUBTYPE_UUID)return new o_(this.buffer.slice(0,this.position));throw new Xi('Binary sub_type "'+this.sub_type+'" is not supported for converting to UUID. Only "'+t.SUBTYPE_UUID+'" is currently supported.')},t.fromExtendedJSON=function(e,r){r=r||{};var n,i;if("$binary"in e?r.legacy&&typeof e.$binary=="string"&&"$type"in e?(i=e.$type?parseInt(e.$type,16):0,n=Ve.from(e.$binary,"base64")):typeof e.$binary!="string"&&(i=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=Ve.from(e.$binary.base64,"base64")):"$uuid"in e&&(i=4,n=O0(e.$uuid)),!n)throw new vt("Unexpected Binary Extended JSON format "+JSON.stringify(e));return new t(n,i)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'+e.toString("hex")+'", "hex"), '+this.sub_type+")"},t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BUFFER_SIZE=256,t.SUBTYPE_DEFAULT=0,t.SUBTYPE_FUNCTION=1,t.SUBTYPE_BYTE_ARRAY=2,t.SUBTYPE_UUID_OLD=3,t.SUBTYPE_UUID=4,t.SUBTYPE_MD5=5,t.SUBTYPE_ENCRYPTED=6,t.SUBTYPE_COLUMN=7,t.SUBTYPE_USER_DEFINED=128,t}();Object.defineProperty(Qi.prototype,"_bsontype",{value:"Binary"});ec=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);this.code=e,this.scope=r}return t.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},t.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},t.fromExtendedJSON=function(e){return new t(e.$code,e.$scope)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},t}();Object.defineProperty(ec.prototype,"_bsontype",{value:"Code"});Ua=function(){function t(e,r,n,i){if(!(this instanceof t))return new t(e,r,n,i);var o=e.split(".");o.length===2&&(n=o.shift(),e=o.shift()),this.collection=e,this.oid=r,this.db=n,this.fields=i||{}}return Object.defineProperty(t.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e},t.prototype.toExtendedJSON=function(e){e=e||{};var r={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r},t.fromExtendedJSON=function(e){var r=Object.assign({},e);return delete r.$ref,delete r.$id,delete r.$db,new t(e.$ref,e.$id,e.$db,r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},t}();Object.defineProperty(Ua.prototype,"_bsontype",{value:"DBRef"});Hr=void 0;try{Hr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}Ww=1<<16,o6=1<<24,ls=Ww*Ww,s_=ls*ls,qw=s_/2,$w={},Hw={},ke=function(){function t(e,r,n){if(e===void 0&&(e=0),!(this instanceof t))return new t(e,r,n);typeof e=="bigint"?Object.assign(this,t.fromBigInt(e,!!r)):typeof e=="string"?Object.assign(this,t.fromString(e,!!r)):(this.low=e|0,this.high=r|0,this.unsigned=!!n),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return t.fromBits=function(e,r,n){return new t(e,r,n)},t.fromInt=function(e,r){var n,i,o;return r?(e>>>=0,(o=0<=e&&e<256)&&(i=Hw[e],i)?i:(n=t.fromBits(e,(e|0)<0?-1:0,!0),o&&(Hw[e]=n),n)):(e|=0,(o=-128<=e&&e<128)&&(i=$w[e],i)?i:(n=t.fromBits(e,e<0?-1:0,!1),o&&($w[e]=n),n))},t.fromNumber=function(e,r){if(isNaN(e))return r?t.UZERO:t.ZERO;if(r){if(e<0)return t.UZERO;if(e>=s_)return t.MAX_UNSIGNED_VALUE}else{if(e<=-qw)return t.MIN_VALUE;if(e+1>=qw)return t.MAX_VALUE}return e<0?t.fromNumber(-e,r).neg():t.fromBits(e%ls|0,e/ls|0,r)},t.fromBigInt=function(e,r){return t.fromString(e.toString(),r)},t.fromString=function(e,r,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t.ZERO;if(typeof r=="number"?(n=r,r=!1):r=!!r,n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return t.fromString(e.substring(1),r,n).neg();for(var o=t.fromNumber(Math.pow(n,8)),s=t.ZERO,l=0;l<e.length;l+=8){var f=Math.min(8,e.length-l),d=parseInt(e.substring(l,l+f),n);if(f<8){var m=t.fromNumber(Math.pow(n,f));s=s.mul(m).add(t.fromNumber(d))}else s=s.mul(o),s=s.add(t.fromNumber(d))}return s.unsigned=r,s},t.fromBytes=function(e,r,n){return n?t.fromBytesLE(e,r):t.fromBytesBE(e,r)},t.fromBytesLE=function(e,r){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)},t.fromBytesBE=function(e,r){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)},t.isLong=function(e){return Va(e)&&e.__isLong__===!0},t.fromValue=function(e,r){return typeof e=="number"?t.fromNumber(e,r):typeof e=="string"?t.fromString(e,r):t.fromBits(e.low,e.high,typeof r=="boolean"?r:e.unsigned)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var r=this.high>>>16,n=this.high&65535,i=this.low>>>16,o=this.low&65535,s=e.high>>>16,l=e.high&65535,f=e.low>>>16,d=e.low&65535,m=0,v=0,y=0,S=0;return S+=o+d,y+=S>>>16,S&=65535,y+=i+f,v+=y>>>16,y&=65535,v+=n+l,m+=v>>>16,v&=65535,m+=r+s,m&=65535,t.fromBits(y<<16|S,m<<16|v,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.compare=function(e){if(t.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.comp=function(e){return this.compare(e)},t.prototype.divide=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(Hr){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?Hr.div_u:Hr.div_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Hr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;o=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var s=this.shr(1);return n=s.div(e).shl(1),n.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(i=this.sub(e.mul(n)),o=n.add(i.div(e)),o)}else if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=t.ZERO}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var l=Math.ceil(Math.log(n)/Math.LN2),f=l<=48?1:Math.pow(2,l-48),d=t.fromNumber(n),m=d.mul(e);m.isNegative()||m.gt(i);)n-=f,d=t.fromNumber(n,this.unsigned),m=d.mul(e);d.isZero()&&(d=t.ONE),o=o.add(d),i=i.sub(m)}return o},t.prototype.div=function(e){return this.divide(e)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.eq=function(e){return this.equals(e)},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();var e=this.high!==0?this.high:this.low,r;for(r=31;r>0&&(e&1<<r)===0;r--);return this.high!==0?r+33:r+1},t.prototype.greaterThan=function(e){return this.comp(e)>0},t.prototype.gt=function(e){return this.greaterThan(e)},t.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},t.prototype.gte=function(e){return this.greaterThanOrEqual(e)},t.prototype.ge=function(e){return this.greaterThanOrEqual(e)},t.prototype.isEven=function(){return(this.low&1)===0},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isOdd=function(){return(this.low&1)===1},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isZero=function(){return this.high===0&&this.low===0},t.prototype.lessThan=function(e){return this.comp(e)<0},t.prototype.lt=function(e){return this.lessThan(e)},t.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},t.prototype.lte=function(e){return this.lessThanOrEqual(e)},t.prototype.modulo=function(e){if(t.isLong(e)||(e=t.fromValue(e)),Hr){var r=(this.unsigned?Hr.rem_u:Hr.rem_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Hr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},t.prototype.mod=function(e){return this.modulo(e)},t.prototype.rem=function(e){return this.modulo(e)},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),Hr){var r=Hr.mul(this.low,this.high,e.low,e.high);return t.fromBits(r,Hr.get_high(),this.unsigned)}if(e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,o=this.low>>>16,s=this.low&65535,l=e.high>>>16,f=e.high&65535,d=e.low>>>16,m=e.low&65535,v=0,y=0,S=0,O=0;return O+=s*m,S+=O>>>16,O&=65535,S+=o*m,y+=S>>>16,S&=65535,S+=s*d,y+=S>>>16,S&=65535,y+=i*m,v+=y>>>16,y&=65535,y+=o*d,v+=y>>>16,y&=65535,y+=s*f,v+=y>>>16,y&=65535,v+=n*m+i*d+o*f+s*l,v&=65535,t.fromBits(S<<16|O,v<<16|y,this.unsigned)},t.prototype.mul=function(e){return this.multiply(e)},t.prototype.negate=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.neg=function(){return this.negate()},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.notEquals=function(e){return!this.equals(e)},t.prototype.neq=function(e){return this.notEquals(e)},t.prototype.ne=function(e){return this.notEquals(e)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shl=function(e){return this.shiftLeft(e)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shr=function(e){return this.shiftRight(e)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return t.fromBits(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?t.fromBits(r,0,this.unsigned):t.fromBits(r>>>e-32,0,this.unsigned)},t.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},t.prototype.shru=function(e){return this.shiftRightUnsigned(e)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())},t.prototype.sub=function(e){return this.subtract(e)},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*ls+(this.low>>>0):this.high*ls+(this.low>>>0)},t.prototype.toBigInt=function(){return BigInt(this.toString())},t.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},t.prototype.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},t.prototype.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(t.MIN_VALUE)){var r=t.fromNumber(e),n=this.div(r),i=n.mul(r).sub(this);return n.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=t.fromNumber(Math.pow(e,6),this.unsigned),s=this,l="";;){var f=s.div(o),d=s.sub(f.mul(o)).toInt()>>>0,m=d.toString(e);if(s=f,s.isZero())return m+l;for(;m.length<6;)m="0"+m;l=""+m+l}},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.eqz=function(){return this.isZero()},t.prototype.le=function(e){return this.lessThanOrEqual(e)},t.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},t.fromExtendedJSON=function(e,r){var n=t.fromString(e.$numberLong);return r&&r.relaxed?n.toNumber():n},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Long("'+this.toString()+'"'+(this.unsigned?", true":"")+")"},t.TWO_PWR_24=t.fromInt(o6),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t}();Object.defineProperty(ke.prototype,"__isLong__",{value:!0});Object.defineProperty(ke.prototype,"_bsontype",{value:"Long"});s6=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,a6=/^(\+|-)?(Infinity|inf)$/i,l6=/^(\+|-)?NaN$/i,Ba=6111,E0=-6176,Gw=6176,u6=34,b0=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Jw=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Yw=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),c6=/^([-+])?(\d+)?$/,f6=31,Kw=16383,h6=30,d6=31;N0=function(){function t(e){if(!(this instanceof t))return new t(e);if(typeof e=="string")this.bytes=t.fromString(e).bytes;else if(T0(e)){if(e.byteLength!==16)throw new vt("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new vt("Decimal128 must take a Buffer or string")}return t.fromString=function(e){var r=!1,n=!1,i=!1,o=0,s=0,l=0,f=0,d=0,m=[0],v=0,y=0,S=0,O=0,R=0,T=0,I=new ke(0,0),L=new ke(0,0),Y=0,H=0;if(e.length>=7e3)throw new vt(""+e+" not a valid Decimal128 string");var Z=e.match(s6),P=e.match(a6),V=e.match(l6);if(!Z&&!P&&!V||e.length===0)throw new vt(""+e+" not a valid Decimal128 string");if(Z){var _=Z[2],W=Z[4],re=Z[5],X=Z[6];W&&X===void 0&&ss(e,"missing exponent power"),W&&_===void 0&&ss(e,"missing exponent base"),W===void 0&&(re||X)&&ss(e,"missing e before exponent")}if((e[H]==="+"||e[H]==="-")&&(r=e[H++]==="-"),!Zw(e[H])&&e[H]!=="."){if(e[H]==="i"||e[H]==="I")return new t(Ve.from(r?Jw:Yw));if(e[H]==="N")return new t(Ve.from(b0))}for(;Zw(e[H])||e[H]===".";){if(e[H]==="."){n&&ss(e,"contains multiple periods"),n=!0,H=H+1;continue}v<34&&(e[H]!=="0"||i)&&(i||(d=s),i=!0,m[y++]=parseInt(e[H],10),v=v+1),i&&(l=l+1),n&&(f=f+1),s=s+1,H=H+1}if(n&&!s)throw new vt(""+e+" not a valid Decimal128 string");if(e[H]==="e"||e[H]==="E"){var le=e.substr(++H).match(c6);if(!le||!le[2])return new t(Ve.from(b0));R=parseInt(le[0],10),H=H+le[0].length}if(e[H])return new t(Ve.from(b0));if(S=0,!v)S=0,O=0,m[0]=0,l=1,v=1,o=0;else if(O=v-1,o=l,o!==1)for(;m[d+o-1]===0;)o=o-1;for(R<=f&&f-R>1<<14?R=E0:R=R-f;R>Ba;){if(O=O+1,O-S>u6){var ae=m.join("");if(ae.match(/^0+$/)){R=Ba;break}ss(e,"overflow")}R=R-1}for(;R<E0||v<l;){if(O===0&&o<v){R=E0,o=0;break}if(v<l?l=l-1:O=O-1,R<Ba)R=R+1;else{var ae=m.join("");if(ae.match(/^0+$/)){R=Ba;break}ss(e,"overflow")}}if(O-S+1<o){var ye=s;n&&(d=d+1,ye=ye+1),r&&(d=d+1,ye=ye+1);var M=parseInt(e[d+O+1],10),D=0;if(M>=5&&(D=1,M===5)){for(D=m[O]%2===1?1:0,T=d+O+2;T<ye;T++)if(parseInt(e[T],10)){D=1;break}}if(D){for(var ie=O;ie>=0;ie--)if(++m[ie]>9&&(m[ie]=0,ie===0))if(R<Ba)R=R+1,m[ie]=1;else return new t(Ve.from(r?Jw:Yw))}}if(I=ke.fromNumber(0),L=ke.fromNumber(0),o===0)I=ke.fromNumber(0),L=ke.fromNumber(0);else if(O-S<17){var ie=S;for(L=ke.fromNumber(m[ie++]),I=new ke(0,0);ie<=O;ie++)L=L.multiply(ke.fromNumber(10)),L=L.add(ke.fromNumber(m[ie]))}else{var ie=S;for(I=ke.fromNumber(m[ie++]);ie<=O-17;ie++)I=I.multiply(ke.fromNumber(10)),I=I.add(ke.fromNumber(m[ie]));for(L=ke.fromNumber(m[ie++]);ie<=O;ie++)L=L.multiply(ke.fromNumber(10)),L=L.add(ke.fromNumber(m[ie]))}var U=y6(I,ke.fromString("100000000000000000"));U.low=U.low.add(L),m6(U.low,L)&&(U.high=U.high.add(ke.fromNumber(1))),Y=R+Gw;var z={low:ke.fromNumber(0),high:ke.fromNumber(0)};U.high.shiftRightUnsigned(49).and(ke.fromNumber(1)).equals(ke.fromNumber(1))?(z.high=z.high.or(ke.fromNumber(3).shiftLeft(61)),z.high=z.high.or(ke.fromNumber(Y).and(ke.fromNumber(16383).shiftLeft(47))),z.high=z.high.or(U.high.and(ke.fromNumber(140737488355327)))):(z.high=z.high.or(ke.fromNumber(Y&16383).shiftLeft(49)),z.high=z.high.or(U.high.and(ke.fromNumber(562949953421311)))),z.low=U.low,r&&(z.high=z.high.or(ke.fromString("9223372036854775808")));var G=Ve.alloc(16);return H=0,G[H++]=z.low.low&255,G[H++]=z.low.low>>8&255,G[H++]=z.low.low>>16&255,G[H++]=z.low.low>>24&255,G[H++]=z.low.high&255,G[H++]=z.low.high>>8&255,G[H++]=z.low.high>>16&255,G[H++]=z.low.high>>24&255,G[H++]=z.high.low&255,G[H++]=z.high.low>>8&255,G[H++]=z.high.low>>16&255,G[H++]=z.high.low>>24&255,G[H++]=z.high.high&255,G[H++]=z.high.high>>8&255,G[H++]=z.high.high>>16&255,G[H++]=z.high.high>>24&255,new t(G)},t.prototype.toString=function(){for(var e,r=0,n=new Array(36),i=0;i<n.length;i++)n[i]=0;var o=0,s=!1,l,f={parts:[0,0,0,0]},d,m,v=[];o=0;var y=this.bytes,S=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,O=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,R=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,T=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24;o=0;var I={low:new ke(S,O),high:new ke(R,T)};I.high.lessThan(ke.ZERO)&&v.push("-");var L=T>>26&f6;if(L>>3===3){if(L===h6)return v.join("")+"Infinity";if(L===d6)return"NaN";e=T>>15&Kw,l=8+(T>>14&1)}else l=T>>14&7,e=T>>17&Kw;var Y=e-Gw;if(f.parts[0]=(T&16383)+((l&15)<<14),f.parts[1]=R,f.parts[2]=O,f.parts[3]=S,f.parts[0]===0&&f.parts[1]===0&&f.parts[2]===0&&f.parts[3]===0)s=!0;else for(m=3;m>=0;m--){var H=0,Z=p6(f);if(f=Z.quotient,H=Z.rem.low,!!H)for(d=8;d>=0;d--)n[m*9+d]=H%10,H=Math.floor(H/10)}if(s)r=1,n[o]=0;else for(r=36;!n[o];)r=r-1,o=o+1;var P=r-1+Y;if(P>=34||P<=-7||Y>0){if(r>34)return v.push(""+0),Y>0?v.push("E+"+Y):Y<0&&v.push("E"+Y),v.join("");v.push(""+n[o++]),r=r-1,r&&v.push(".");for(var i=0;i<r;i++)v.push(""+n[o++]);v.push("E"),P>0?v.push("+"+P):v.push(""+P)}else if(Y>=0)for(var i=0;i<r;i++)v.push(""+n[o++]);else{var V=r+Y;if(V>0)for(var i=0;i<V;i++)v.push(""+n[o++]);else v.push("0");for(v.push(".");V++<0;)v.push("0");for(var i=0;i<r-Math.max(V-1,0);i++)v.push(""+n[o++])}return v.join("")},t.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},t.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},t.fromExtendedJSON=function(e){return t.fromString(e.$numberDecimal)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Decimal128("'+this.toString()+'")'},t}();Object.defineProperty(N0.prototype,"_bsontype",{value:"Decimal128"});tc=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e}return t.prototype.valueOf=function(){return this.value},t.prototype.toJSON=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toExtendedJSON=function(e){if(e&&(e.legacy||e.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-"+this.value.toFixed(1)};var r;return Number.isInteger(this.value)?(r=this.value.toFixed(1),r.length>=13&&(r=this.value.toExponential(13).toUpperCase())):r=this.value.toString(),{$numberDouble:r}},t.fromExtendedJSON=function(e,r){var n=parseFloat(e.$numberDouble);return r&&r.relaxed?n:new t(n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double("+e.$numberDouble+")"},t}();Object.defineProperty(tc.prototype,"_bsontype",{value:"Double"});rc=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e|0}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},t.fromExtendedJSON=function(e,r){return r&&r.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},t}();Object.defineProperty(rc.prototype,"_bsontype",{value:"Int32"});I0=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$maxKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MaxKey()"},t}();Object.defineProperty(I0.prototype,"_bsontype",{value:"MaxKey"});A0=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$minKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MinKey()"},t}();Object.defineProperty(A0.prototype,"_bsontype",{value:"MinKey"});g6=new RegExp("^[0-9a-fA-F]{24}$"),Zi=null,as=Symbol("id"),mr=function(){function t(e){if(!(this instanceof t))return new t(e);var r;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new vt("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?r=Ve.from(e.toHexString(),"hex"):r=e.id}else r=e;if(r==null||typeof r=="number")this[as]=t.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[as]=Zu(r);else if(typeof r=="string")if(r.length===12){var n=Ve.from(r);if(n.byteLength===12)this[as]=n;else throw new vt("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&g6.test(r))this[as]=Ve.from(r,"hex");else throw new vt("Argument passed in must be a string of 12 bytes or a string of 24 hex characters");else throw new vt("Argument passed in does not match the accepted types");t.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(t.prototype,"id",{get:function(){return this[as]},set:function(e){this[as]=e,t.cacheHexString&&(this.__id=e.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(){if(t.cacheHexString&&this.__id)return this.__id;var e=this.id.toString("hex");return t.cacheHexString&&!this.__id&&(this.__id=e),e},t.getInc=function(){return t.index=(t.index+1)%16777215},t.generate=function(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));var r=t.getInc(),n=Ve.alloc(12);return n.writeUInt32BE(e,0),Zi===null&&(Zi=n_(5)),n[4]=Zi[0],n[5]=Zi[1],n[6]=Zi[2],n[7]=Zi[3],n[8]=Zi[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){return e==null?!1:e instanceof t?this.toString()===e.toString():typeof e=="string"&&t.isValid(e)&&e.length===12&&T0(this.id)?e===Ve.prototype.toString.call(this.id,"latin1"):typeof e=="string"&&t.isValid(e)&&e.length===24?e.toLowerCase()===this.toHexString():typeof e=="string"&&t.isValid(e)&&e.length===12?Ve.from(e).equals(this.id):typeof e=="object"&&"toHexString"in e&&typeof e.toHexString=="function"?e.toHexString()===this.toHexString():!1},t.prototype.getTimestamp=function(){var e=new Date,r=this.id.readUInt32BE(0);return e.setTime(Math.floor(r)*1e3),e},t.createPk=function(){return new t},t.createFromTime=function(e){var r=Ve.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(e,0),new t(r)},t.createFromHexString=function(e){if(typeof e>"u"||e!=null&&e.length!==24)throw new vt("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new t(Ve.from(e,"hex"))},t.isValid=function(e){if(e==null)return!1;try{return new t(e),!0}catch{return!1}},t.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},t.fromExtendedJSON=function(e){return new t(e.$oid)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},t.index=Math.floor(Math.random()*16777215),t}();Object.defineProperty(mr.prototype,"generate",{value:Qu(function(t){return mr.generate(t)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(mr.prototype,"getInc",{value:Qu(function(){return mr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(mr.prototype,"get_inc",{value:Qu(function(){return mr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(mr,"get_inc",{value:Qu(function(){return mr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(mr.prototype,"_bsontype",{value:"ObjectID"});za=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this.pattern=e,this.options=v6(r??""),this.pattern.indexOf("\0")!==-1)throw new Xi("BSON Regex patterns cannot contain null bytes, found: "+JSON.stringify(this.pattern));if(this.options.indexOf("\0")!==-1)throw new Xi("BSON Regex options cannot contain null bytes, found: "+JSON.stringify(this.options));for(var n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new Xi("The regular expression option ["+this.options[n]+"] is not supported")}return t.parseOptions=function(e){return e?e.split("").sort().join(""):""},t.prototype.toExtendedJSON=function(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},t.fromExtendedJSON=function(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new t(e.$regex,t.parseOptions(e.$options));if("$regularExpression"in e)return new t(e.$regularExpression.pattern,t.parseOptions(e.$regularExpression.options));throw new vt("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(e))},t}();Object.defineProperty(za.prototype,"_bsontype",{value:"BSONRegExp"});R0=function(){function t(e){if(!(this instanceof t))return new t(e);this.value=e}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(){return{$symbol:this.value}},t.fromExtendedJSON=function(e){return new t(e.$symbol)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t}();Object.defineProperty(R0.prototype,"_bsontype",{value:"Symbol"});w6=ke,a_=function(t){k0(e,t);function e(r,n){var i=this;return i instanceof e?(ke.isLong(r)?i=t.call(this,r.low,r.high,!0)||this:Va(r)&&typeof r.t<"u"&&typeof r.i<"u"?i=t.call(this,r.i,r.t,!0)||this:i=t.call(this,r,n,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new e(r,n)}return e.prototype.toJSON=function(){return{$timestamp:this.toString()}},e.fromInt=function(r){return new e(ke.fromInt(r,!0))},e.fromNumber=function(r){return new e(ke.fromNumber(r,!0))},e.fromBits=function(r,n){return new e(r,n)},e.fromString=function(r,n){return new e(ke.fromString(r,!0,n))},e.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},e.fromExtendedJSON=function(r){return new e(r.$timestamp)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Timestamp({ t: "+this.getHighBits()+", i: "+this.getLowBits()+" })"},e.MAX_VALUE=ke.MAX_UNSIGNED_VALUE,e}(w6);l_=2147483647,u_=-2147483648,c_=9223372036854776e3,f_=-9223372036854776e3,S6={$oid:mr,$binary:Qi,$uuid:Qi,$symbol:R0,$numberInt:rc,$numberDecimal:N0,$numberDouble:tc,$numberLong:ke,$minKey:A0,$maxKey:I0,$regex:za,$regularExpression:za,$timestamp:a_};b6={Binary:function(t){return new Qi(t.value(),t.sub_type)},Code:function(t){return new ec(t.code,t.scope)},DBRef:function(t){return new Ua(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new N0(t.bytes)},Double:function(t){return new tc(t.value)},Int32:function(t){return new rc(t.value)},Long:function(t){return ke.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_)},MaxKey:function(){return new I0},MinKey:function(){return new A0},ObjectID:function(t){return new mr(t)},ObjectId:function(t){return new mr(t)},BSONRegExp:function(t){return new za(t.pattern,t.options)},Symbol:function(t){return new R0(t.value)},Timestamp:function(t){return a_.fromBits(t.low,t.high)}};(function(t){function e(o,s){var l=Object.assign({},{relaxed:!0,legacy:!1},s);return typeof l.relaxed=="boolean"&&(l.strict=!l.relaxed),typeof l.strict=="boolean"&&(l.relaxed=!l.strict),JSON.parse(o,function(f,d){if(f.indexOf("\0")!==-1)throw new Xi("BSON Document field names cannot contain null bytes, found: "+JSON.stringify(f));return h_(d,l)})}t.parse=e;function r(o,s,l,f){l!=null&&typeof l=="object"&&(f=l,l=0),s!=null&&typeof s=="object"&&!Array.isArray(s)&&(f=s,s=void 0,l=0);var d=Object.assign({relaxed:!0,legacy:!1},f,{seenObjects:[{propertyName:"(root)",obj:null}]}),m=fi(o,d);return JSON.stringify(m,s,l)}t.stringify=r;function n(o,s){return s=s||{},JSON.parse(r(o,s))}t.serialize=n;function i(o,s){return s=s||{},e(JSON.stringify(o),s)}t.deserialize=i})(hi||(hi={}));e_=r_();e_.Map?Qw=e_.Map:Qw=function(){function t(e){e===void 0&&(e=[]),this._keys=[],this._values={};for(var r=0;r<e.length;r++)if(e[r]!=null){var n=e[r],i=n[0],o=n[1];this._keys.push(i),this._values[i]={v:o,i:this._keys.length-1}}}return t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var r=this._values[e];return r==null?!1:(delete this._values[e],this._keys.splice(r.i,1),!0)},t.prototype.entries=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?[n,e._values[n].v]:void 0,done:n===void 0}}}},t.prototype.forEach=function(e,r){r=r||this;for(var n=0;n<this._keys.length;n++){var i=this._keys[n];e.call(r,this._values[i].v,i,r)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return this._values[e]!=null},t.prototype.keys=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?n:void 0,done:n===void 0}}}},t.prototype.set=function(e,r){return this._values[e]?(this._values[e].v=r,this):(this._keys.push(e),this._values[e]={v:r,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?e._values[n].v:void 0,done:n===void 0}}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),t}();cI=Math.pow(2,63)-1,fI=-Math.pow(2,63),O6=Math.pow(2,53),k6=-Math.pow(2,53),hI=ke.fromNumber(O6),dI=ke.fromNumber(k6),T6=1024*1024*17,pI=Ve.alloc(T6)});function M6(t){return t?m_(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new F6:typeof navigator<"u"?m_(navigator.userAgent):U6()}function j6(t){return t!==""&&P6.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]},!1)}function m_(t){var e=j6(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new D6;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<p_&&(i=d_(d_([],i,!0),z6(p_-i.length),!0)):i=[];var o=i.join("."),s=B6(t),l=L6.exec(t);return l&&l[1]?new R6(r,o,s,l[1]):new I6(r,o,s)}function B6(t){for(var e=0,r=y_.length;e<r;e++){var n=y_[e],i=n[0],o=n[1],s=o.exec(t);if(s)return i}return null}function U6(){var t=typeof process<"u"&&process.version;return t?new A6(process.version.slice(1)):null}function z6(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}function z_(t){return hi.serialize(t,e5)}function V_(t){return Array.isArray(t)?t.map(e=>hi.deserialize(e)):hi.deserialize(t)}function U0(t){return Object.fromEntries(Object.entries(t).filter(e=>typeof e[1]<"u"))}function t5(t,e){let r="";for(let n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}function $_(t,e=!0){let r=U0(t);return(e&&Object.keys(r).length>0?"?":"")+Object.entries(r).map(([i,o])=>`${i}=${encodeURIComponent(o)}`).join("&")}function r5(t){let e=t[0]==="?"?t.substr(1):t;return Object.fromEntries(e.split("&").filter(r=>r.length>0).map(r=>r.split("=")).map(([r,n])=>[r,decodeURIComponent(n)]))}function i5(t){for(let e of t)if(typeof e=="object"&&e)for(let[r,n]of Object.entries(e))n===void 0&&delete e[r];return t}function o5(t){return i5(t).map(r=>typeof r=="object"?z_(r):r)}function l5(){return{path:"/api/client/v2.0",app(t){return{path:this.path+`/app/${t}`,location(){return{path:this.path+"/location"}},authProvider(e){return{path:this.path+`/auth/providers/${e}`,login(){return{path:this.path+"/login"}}}},emailPasswordAuth(e){return{...this.authProvider(e),register(){return{path:this.path+"/register"}},confirm(){return{path:this.path+"/confirm"}},confirmSend(){return{path:this.path+"/confirm/send"}},confirmCall(){return{path:this.path+"/confirm/call"}},reset(){return{path:this.path+"/reset"}},resetSend(){return{path:this.path+"/reset/send"}},resetCall(){return{path:this.path+"/reset/call"}}}},functionsCall(){return{path:this.path+"/functions/call"}}}},auth(){return{path:this.path+"/auth",apiKeys(){return{path:this.path+"/api_keys",key(t){return{path:this.path+`/${t}`,enable(){return{path:this.path+"/enable"}},disable(){return{path:this.path+"/disable"}}}}}},profile(){return{path:this.path+"/profile"}},session(){return{path:this.path+"/session"}},delete(){return{path:this.path+"/delete"}}}}}}function u5(t){z0=t}function qa(){if(z0)return z0;throw new Error("Cannot get environment before it's set")}function c5(t,e,r,n){return new K_(t,e,r,n)}function f5(t,e,r){return{collection:c5.bind(null,t,e,r)}}function h5(t,e="mongo-db"){return{db:f5.bind(null,t,e)}}function g5(t){if(typeof t!="object"||t===null)throw new Error("Expected a non-null object");if(Symbol.asyncIterator in t)return t;if("getReader"in t){let e=t;return{[Symbol.asyncIterator](){let r=e.getReader();return{next(){return r.read()},async return(){return await r.cancel(),{done:!0,value:null}}}}}}else throw new Error("Expected an AsyncIterable or a ReadableStream")}function S5(t){return typeof globalThis.open=="function"?globalThis.open(t):(console.log(`Please open ${t}`),null)}function r2(t=globalThis.location,e=t2.defaultStorage){try{let r=t.hash.substr(1);di.handleRedirect(r,e)}catch(r){console.warn(r)}}var d_,I6,A6,R6,D6,F6,C6,L6,p_,P6,y_,nn,N_,V6,W6,q6,hs,g_,v_,$6,Wa,nc,H6,Jt,w_,I_,A_,R_,W0,M0,ic,G6,J6,D_,__,cs,S_,Y6,K6,F_,C_,q0,L_,P_,Z6,M_,j0,X6,j_,B_,U_,Q6,sc,e5,B0,rn,E_,$0,Yr,W_,F0,C0,L0,P0,q_,n5,Ha,H_,s5,a5,eo,G_,Jr,J_,z0,oc,ir,Y_,K_,d5,to,b_,V0,Gt,x_,O_,Z_,p5,y5,m5,di,k_,X_,$a,ro,v5,T_,Q_,w5,En,e2,us,_5,t2,n2=tt(()=>{D0();D0();d_=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},I6=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),A6=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),R6=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),D6=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),F6=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),C6=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,L6=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,p_=3,P6=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",C6]],y_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];nn=class{constructor(){if(!nn.fetch)throw new Error("DefaultNetworkTransport.fetch must be set before it's used");if(!nn.AbortController)throw new Error("DefaultNetworkTransport.AbortController must be set before it's used")}fetchWithCallbacks(e,r){this.fetch(e).then(async n=>{let i=await n.text(),o={};return n.headers.forEach((s,l)=>{o[l]=s}),{statusCode:n.status,headers:o,body:i}}).then(n=>r.onSuccess(n)).catch(n=>r.onError(n))}async fetch(e){let{timeoutMs:r,url:n,...i}=e,{signal:o,cancelTimeout:s}=this.createTimeoutSignal(r);try{return await nn.fetch(n,{...nn.extraFetchOptions,signal:o,...i})}finally{s()}}createTimeoutSignal(e){if(typeof e=="number"){let r=new nn.AbortController,n=setTimeout(()=>{r.abort()},e);return{signal:r.signal,cancelTimeout:()=>{clearTimeout(n)}}}else return{signal:void 0,cancelTimeout:()=>{}}}};nn.DEFAULT_HEADERS={"Content-Type":"application/json"};nn.fetch=globalThis.fetch.bind(globalThis);nn.AbortController=globalThis.AbortController;N_="3.7.2",V6=N_,W6=typeof atob=="function",q6=typeof btoa=="function",hs=typeof Buffer=="function",g_=typeof TextDecoder=="function"?new TextDecoder:void 0,v_=typeof TextEncoder=="function"?new TextEncoder:void 0,$6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Wa=Array.prototype.slice.call($6),nc=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(Wa),H6=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Jt=String.fromCharCode.bind(String),w_=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=r=>r)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),I_=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),A_=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),R_=t=>{let e,r,n,i,o="",s=t.length%3;for(let l=0;l<t.length;){if((r=t.charCodeAt(l++))>255||(n=t.charCodeAt(l++))>255||(i=t.charCodeAt(l++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|i,o+=Wa[e>>18&63]+Wa[e>>12&63]+Wa[e>>6&63]+Wa[e&63]}return s?o.slice(0,s-3)+"===".substring(s):o},W0=q6?t=>btoa(t):hs?t=>Buffer.from(t,"binary").toString("base64"):R_,M0=hs?t=>Buffer.from(t).toString("base64"):t=>{let r=[];for(let n=0,i=t.length;n<i;n+=4096)r.push(Jt.apply(null,t.subarray(n,n+4096)));return W0(r.join(""))},ic=(t,e=!1)=>e?I_(M0(t)):M0(t),G6=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Jt(192|e>>>6)+Jt(128|e&63):Jt(224|e>>>12&15)+Jt(128|e>>>6&63)+Jt(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Jt(240|e>>>18&7)+Jt(128|e>>>12&63)+Jt(128|e>>>6&63)+Jt(128|e&63)}},J6=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,D_=t=>t.replace(J6,G6),__=hs?t=>Buffer.from(t,"utf8").toString("base64"):v_?t=>M0(v_.encode(t)):t=>W0(D_(t)),cs=(t,e=!1)=>e?I_(__(t)):__(t),S_=t=>cs(t,!0),Y6=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,K6=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return Jt((r>>>10)+55296)+Jt((r&1023)+56320);case 3:return Jt((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Jt((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},F_=t=>t.replace(Y6,K6),C_=t=>{if(t=t.replace(/\s+/g,""),!H6.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,i;for(let o=0;o<t.length;)e=nc[t.charAt(o++)]<<18|nc[t.charAt(o++)]<<12|(n=nc[t.charAt(o++)])<<6|(i=nc[t.charAt(o++)]),r+=n===64?Jt(e>>16&255):i===64?Jt(e>>16&255,e>>8&255):Jt(e>>16&255,e>>8&255,e&255);return r},q0=W6?t=>atob(A_(t)):hs?t=>Buffer.from(t,"base64").toString("binary"):C_,L_=hs?t=>w_(Buffer.from(t,"base64")):t=>w_(q0(t),e=>e.charCodeAt(0)),P_=t=>L_(M_(t)),Z6=hs?t=>Buffer.from(t,"base64").toString("utf8"):g_?t=>g_.decode(L_(t)):t=>F_(q0(t)),M_=t=>A_(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),j0=t=>Z6(M_(t)),X6=t=>{if(typeof t!="string")return!1;let e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},j_=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),B_=function(){let t=(e,r)=>Object.defineProperty(String.prototype,e,j_(r));t("fromBase64",function(){return j0(this)}),t("toBase64",function(e){return cs(this,e)}),t("toBase64URI",function(){return cs(this,!0)}),t("toBase64URL",function(){return cs(this,!0)}),t("toUint8Array",function(){return P_(this)})},U_=function(){let t=(e,r)=>Object.defineProperty(Uint8Array.prototype,e,j_(r));t("toBase64",function(e){return ic(this,e)}),t("toBase64URI",function(){return ic(this,!0)}),t("toBase64URL",function(){return ic(this,!0)})},Q6=()=>{B_(),U_()},sc={version:N_,VERSION:V6,atob:q0,atobPolyfill:C_,btoa:W0,btoaPolyfill:R_,fromBase64:j0,toBase64:cs,encode:cs,encodeURI:S_,encodeURL:S_,utob:D_,btou:F_,decode:j0,isValid:X6,fromUint8Array:ic,toUint8Array:P_,extendString:B_,extendUint8Array:U_,extendBuiltins:Q6},e5={relaxed:!1};(function(t){t.Normal="normal",t.Server="server"})(B0||(B0={}));(function(t){t.NAME="name",t.EMAIL="email",t.PICTURE="picture",t.FIRST_NAME="first_name",t.LAST_NAME="last_name",t.GENDER="gender",t.BIRTHDAY="birthday",t.MIN_AGE="min_age",t.MAX_AGE="max_age"})(rn||(rn={}));E_={[rn.NAME]:"name",[rn.EMAIL]:"email",[rn.PICTURE]:"pictureUrl",[rn.FIRST_NAME]:"firstName",[rn.LAST_NAME]:"lastName",[rn.GENDER]:"gender",[rn.BIRTHDAY]:"birthday",[rn.MIN_AGE]:"minAge",[rn.MAX_AGE]:"maxAge"},$0=class{constructor(e){if(this.type=B0.Normal,this.identities=[],typeof e=="object"&&e!==null){let{type:r,identities:n,data:i}=e;if(typeof r=="string")this.type=r;else throw new Error("Expected 'type' in the response body");if(Array.isArray(n))this.identities=n.map(o=>{let{id:s,provider_type:l}=o;return{id:s,providerType:l}});else throw new Error("Expected 'identities' in the response body");if(typeof i=="object"&&i!==null){let o=Object.fromEntries(Object.entries(i).map(([s,l])=>s in E_?[E_[s],l]:[s,l]));this.data=V_(o)}else throw new Error("Expected 'data' in the response body")}else this.data={}}},Yr=class{constructor(e,r){this.storage=e,this.keyPart=r}get(e){return this.storage.get(this.keyPart+Yr.PART_SEPARATOR+e)}set(e,r){return this.storage.set(this.keyPart+Yr.PART_SEPARATOR+e,r)}remove(e){return this.storage.remove(this.keyPart+Yr.PART_SEPARATOR+e)}prefix(e){return new Yr(this,e)}clear(e=""){return this.storage.clear(this.keyPart+Yr.PART_SEPARATOR+e)}addListener(e){return this.storage.addListener(e)}removeListener(e){return this.storage.addListener(e)}};Yr.PART_SEPARATOR=":";W_=class{constructor(){this.storage={},this.listeners=new Set}get(e){return e in this.storage?this.storage[e]:null}set(e,r){this.storage[e]=r,this.fireListeners()}remove(e){delete this.storage[e],this.fireListeners()}prefix(e){return new Yr(this,e)}clear(e){for(let r of Object.keys(this.storage))(!e||r.startsWith(e))&&delete this.storage[r];this.fireListeners()}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}fireListeners(){this.listeners.forEach(e=>e())}},F0="accessToken",C0="refreshToken",L0="profile",P0="providerType",q_=class extends Yr{constructor(e,r){super(e,`user(${r})`)}get accessToken(){return this.get(F0)}set accessToken(e){e===null?this.remove(F0):this.set(F0,e)}get refreshToken(){return this.get(C0)}set refreshToken(e){e===null?this.remove(C0):this.set(C0,e)}get profile(){let e=this.get(L0);if(e){let r=new $0;return Object.assign(r,JSON.parse(e)),r}}set profile(e){e?this.set(L0,JSON.stringify(e)):this.remove(L0)}get providerType(){let e=this.get(P0);if(e)return e}set providerType(e){e?this.set(P0,e):this.remove(P0)}};n5=["inspect","callFunction","callFunctionStreaming",...Object.getOwnPropertyNames(Object.prototype)];Ha=class{constructor(e,r={}){this.fetcher=e,this.serviceName=r.serviceName,this.argsTransformation=r.argsTransformation||o5}static create(e,r={}){let n=new Ha(e,r);return new Proxy(n,{get(i,o,s){if(typeof o=="string"&&n5.indexOf(o)===-1)return i.callFunction.bind(i,o);{let l=Reflect.get(i,o,s);return typeof l=="function"?l.bind(i):l}}})}async callFunction(e,...r){let n={name:e,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute;return this.fetcher.fetchJSON({method:"POST",path:i.functionsCall().path,body:n})}callFunctionStreaming(e,...r){let n={name:e,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute,o=$_({baas_request:sc.encode(JSON.stringify(n))});return this.fetcher.fetchStream({method:"GET",path:i.functionsCall().path+o})}},H_=!1,s5=t=>{H_=t},a5=(t,e)=>{!H_||console.warn(`Deprecation warning from Realm: ${t} is deprecated and will be removed in a future major release. Consider switching to ${e}.`)},eo=(t,e,r,n)=>{if(typeof t[0]!="object"){let i=n?", ...args":"";a5(`${e}(${r.join(", ")}${i})`,`${e}({ ${r.join(", ")} }${i})`);let o=r.reduce((l,f,d)=>({...l,[f]:t[d]}),{}),s=n?t.slice(r.length):void 0;return{argsObject:o,restArgs:s}}return{argsObject:t[0],restArgs:n?t.slice(1):void 0}};s5(typeof __DEV__<"u"&&__DEV__);G_=class{constructor(e,r="local-userpass"){this.fetcher=e,this.providerName=r}async registerUser(...e){let{argsObject:r}=eo(e,"registerUser",["email","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).register().path,body:r})}async confirmUser(...e){let{argsObject:r}=eo(e,"confirmUser",["token","tokenId"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirm().path,body:r})}async resendConfirmationEmail(...e){let{argsObject:r}=eo(e,"resendConfirmationEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmSend().path,body:r})}async retryCustomConfirmation(...e){let{argsObject:r}=eo(e,"retryCustomConfirmation",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmCall().path,body:r})}async resetPassword(...e){let{argsObject:r}=eo(e,"resetPassword",["token","tokenId","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).reset().path,body:r})}async sendResetPasswordEmail(...e){let{argsObject:r}=eo(e,"sendResetPasswordEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).resetSend().path,body:r})}async callResetPasswordFunction(...e){let{argsObject:r,restArgs:n}=eo(e,"callResetPasswordFunction",["email","password"],!0),i=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:i.emailPasswordAuth(this.providerName).resetCall().path,body:{...r,arguments:n}})}};Jr={api:l5},J_=class{constructor(e){this.fetcher=e}create(e){return this.fetcher.fetchJSON({method:"POST",body:{name:e},path:Jr.api().auth().apiKeys().path,tokenType:"refresh"})}fetch(e){return this.fetcher.fetchJSON({method:"GET",path:Jr.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}fetchAll(){return this.fetcher.fetchJSON({method:"GET",tokenType:"refresh",path:Jr.api().auth().apiKeys().path})}async delete(e){await this.fetcher.fetchJSON({method:"DELETE",path:Jr.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}async enable(e){await this.fetcher.fetchJSON({method:"PUT",path:Jr.api().auth().apiKeys().key(e).enable().path,tokenType:"refresh"})}async disable(e){await this.fetcher.fetchJSON({method:"PUT",path:Jr.api().auth().apiKeys().key(e).disable().path,tokenType:"refresh"})}},z0=null;oc=class extends Error{constructor({message:e,code:r}){super(e);this.name="WatchError",this.code=r}};(function(t){t.NEED_DATA="NEED_DATA",t.HAVE_EVENT="HAVE_EVENT",t.HAVE_ERROR="HAVE_ERROR"})(ir||(ir={}));Y_=class{constructor(){this._state=ir.NEED_DATA,this._error=null,this._textDecoder=new(qa()).TextDecoder,this._buffer="",this._bufferOffset=0,this._eventType="",this._dataBuffer=""}feedBuffer(e){this.assertState(ir.NEED_DATA),this._buffer+=this._textDecoder.decode(e,{stream:!0}),this.advanceBufferState()}feedLine(e){if(this.assertState(ir.NEED_DATA),e.endsWith(`
`)&&(e=e.substr(0,e.length-1)),e.endsWith("\r")&&(e=e.substr(0,e.length-1)),e.length===0){if(this._dataBuffer.length===0){this._eventType="";return}this._dataBuffer.endsWith(`
`)&&(this._dataBuffer=this._dataBuffer.substr(0,this._dataBuffer.length-1)),this.feedSse({data:this._dataBuffer,eventType:this._eventType}),this._dataBuffer="",this._eventType=""}if(e[0]===":")return;let r=e.indexOf(":"),n=e.substr(0,r),i=r===-1?"":e.substr(r+1);i.startsWith(" ")&&(i=i.substr(1)),n==="event"?this._eventType=i:n==="data"&&(this._dataBuffer+=i,this._dataBuffer+=`
`)}feedSse(e){this.assertState(ir.NEED_DATA);let r=e.data.indexOf("%");if(r!==-1){let n="",i=0;for(let o=r;o!==-1;o=e.data.indexOf("%",i)){n+=e.data.substr(i,o-i);let s=e.data.substr(o,3);s==="%25"?n+="%":s==="%0A"?n+=`
`:s==="%0D"?n+="\r":n+=s,i=o+s.length}n+=e.data.substr(i),e.data=n}if(!e.eventType||e.eventType==="message"){try{let n=hi.parse(e.data);if(typeof n=="object"){this._nextEvent=n,this._state=ir.HAVE_EVENT;return}}catch{}this._state=ir.HAVE_ERROR,this._error=new oc({message:"server returned malformed event: "+e.data,code:"bad bson parse"})}else if(e.eventType==="error"){this._state=ir.HAVE_ERROR,this._error=new oc({message:e.data,code:"unknown"});try{let{error_code:n,error:i}=hi.parse(e.data);if(typeof n!="string"||typeof i!="string")return;this._error=new oc({message:i,code:n})}catch{return}}}get state(){return this._state}nextEvent(){this.assertState(ir.HAVE_EVENT);let e=this._nextEvent;return this._state=ir.NEED_DATA,this.advanceBufferState(),e}get error(){return this._error}advanceBufferState(){for(this.assertState(ir.NEED_DATA);this.state===ir.NEED_DATA;){if(this._bufferOffset===this._buffer.length){this._buffer="",this._bufferOffset=0;return}let e=this._buffer.indexOf(`
`,this._bufferOffset);if(e===-1){this._bufferOffset!==0&&(this._buffer=this._buffer.substr(this._bufferOffset,this._buffer.length-this._bufferOffset),this._bufferOffset=0);return}this.feedLine(this._buffer.substr(this._bufferOffset,e-this._bufferOffset)),this._bufferOffset=e+1}}assertState(e){if(this._state!==e)throw Error(`Expected WatchStream to be in state ${e}, but in state ${this._state}`)}},K_=class{constructor(e,r,n,i){this.functions=Ha.create(e,{serviceName:r}),this.databaseName=n,this.collectionName=i,this.serviceName=r,this.fetcher=e}find(e={},r={}){return this.functions.find({database:this.databaseName,collection:this.collectionName,query:e,project:r.projection,sort:r.sort,limit:r.limit})}findOne(e={},r={}){return this.functions.findOne({database:this.databaseName,collection:this.collectionName,query:e,project:r.projection,sort:r.sort})}findOneAndUpdate(e={},r,n={}){return this.functions.findOneAndUpdate({database:this.databaseName,collection:this.collectionName,filter:e,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndReplace(e={},r,n={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndDelete(e={},r={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,sort:r.sort,projection:r.projection})}aggregate(e){return this.functions.aggregate({database:this.databaseName,collection:this.collectionName,pipeline:e})}count(e={},r={}){return this.functions.count({database:this.databaseName,collection:this.collectionName,query:e,limit:r.limit})}insertOne(e){return this.functions.insertOne({database:this.databaseName,collection:this.collectionName,document:e})}insertMany(e){return this.functions.insertMany({database:this.databaseName,collection:this.collectionName,documents:e})}deleteOne(e={}){return this.functions.deleteOne({database:this.databaseName,collection:this.collectionName,query:e})}deleteMany(e={}){return this.functions.deleteMany({database:this.databaseName,collection:this.collectionName,query:e})}updateOne(e,r,n={}){return this.functions.updateOne({database:this.databaseName,collection:this.collectionName,query:e,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}updateMany(e,r,n={}){return this.functions.updateMany({database:this.databaseName,collection:this.collectionName,query:e,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}async*watch({ids:e,filter:r}={}){let n=await this.functions.callFunctionStreaming("watch",{database:this.databaseName,collection:this.collectionName,ids:e,filter:r}),i=new Y_;for await(let o of n)if(!!o){for(i.feedBuffer(o);i.state==ir.HAVE_EVENT;)yield i.nextEvent();if(i.state==ir.HAVE_ERROR)throw i.error}}};d5="000000000000000000000000";(function(t){t.Active="active",t.LoggedOut="logged-out",t.Removed="removed"})(to||(to={}));(function(t){t.Normal="normal",t.Server="server"})(b_||(b_={}));V0=class{constructor(e){if(this.app=e.app,this.id=e.id,this.storage=new q_(this.app.storage,this.id),"accessToken"in e&&"refreshToken"in e&&"providerType"in e)this._accessToken=e.accessToken,this._refreshToken=e.refreshToken,this.providerType=e.providerType,this.storage.accessToken=e.accessToken,this.storage.refreshToken=e.refreshToken,this.storage.providerType=e.providerType;else{this._accessToken=this.storage.accessToken,this._refreshToken=this.storage.refreshToken;let r=this.storage.providerType;if(this._profile=this.storage.profile,r)this.providerType=r;else throw new Error("Storage is missing a provider type")}this.fetcher=this.app.fetcher.clone({userContext:{currentUser:this}}),this.apiKeys=new J_(this.fetcher),this.functions=Ha.create(this.fetcher)}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,this.storage.accessToken=e}get refreshToken(){return this._refreshToken}set refreshToken(e){this._refreshToken=e,this.storage.refreshToken=e}get state(){return this.id in this.app.allUsers?this.refreshToken===null?to.LoggedOut:to.Active:to.Removed}get isLoggedIn(){return this.state===to.Active}get customData(){if(this.accessToken)return this.decodeAccessToken().userData;throw new Error("Cannot read custom data without an access token")}get profile(){if(this._profile)return this._profile.data;throw new Error("A profile was never fetched for this user")}get identities(){if(this._profile)return this._profile.identities;throw new Error("A profile was never fetched for this user")}get deviceId(){if(this.accessToken){let e=this.accessToken.split(".")[1];if(e){let n=JSON.parse(sc.decode(e)).baas_device_id;if(typeof n=="string"&&n!==d5)return n}}return null}async refreshProfile(){let e=await this.fetcher.fetchJSON({method:"GET",path:Jr.api().auth().profile().path});this._profile=new $0(e),this.storage.profile=this._profile}async logOut(){try{this._refreshToken!==null&&await this.fetcher.fetchJSON({method:"DELETE",path:Jr.api().auth().session().path,tokenType:"refresh"})}catch(e){if(!(e instanceof Error)||!e.message.includes("failed to find refresh token"))throw e}finally{this.accessToken=null,this.refreshToken=null}}async linkCredentials(e){let r=await this.app.authenticator.authenticate(e,this);if(this.id!==r.userId){let n=`got user id ${r.userId} expected ${this.id}`;throw new Error(`Link response ment for another user (${n})`)}this.accessToken=r.accessToken,await this.refreshProfile()}async refreshAccessToken(){let e=await this.fetcher.fetchJSON({method:"POST",path:Jr.api().auth().session().path,tokenType:"refresh"}),{access_token:r}=e;if(typeof r=="string")this.accessToken=r;else throw new Error("Expected an 'access_token' in the response")}async refreshCustomData(){return await this.refreshAccessToken(),this.customData}callFunction(e,...r){return this.functions.callFunction(e,...r)}toJSON(){return{id:this.id,accessToken:this.accessToken,refreshToken:this.refreshToken,profile:this._profile,state:this.state,customData:this.customData}}push(){throw new Error("Not yet implemented")}mongoClient(e){return h5(this.fetcher,e)}decodeAccessToken(){if(this.accessToken){let e=this.accessToken.split(".");if(e.length!==3)throw new Error("Expected an access token with three parts");let r=e[1],n=sc.decode(r),i=JSON.parse(n),{exp:o,iat:s,sub:l,user_data:f={}}=i;if(typeof o!="number")throw new Error("Failed to decode access token 'exp'");if(typeof s!="number")throw new Error("Failed to decode access token 'iat'");return{expires:o,issuedAt:s,subject:l,userData:f}}else throw new Error("Missing an access token")}},Gt=class{constructor(e,r,n){this.providerName=e,this.providerType=r,this.payload=n}static anonymous(){return new Gt("anon-user","anon-user",{})}static userApiKey(e){return new Gt("api-key","api-key",{key:e})}static serverApiKey(e){return new Gt("api-key","api-key",{key:e})}static apiKey(e){return new Gt("api-key","api-key",{key:e})}static emailPassword(e,r){return new Gt("local-userpass","local-userpass",{username:e,password:r})}static function(e){return new Gt("custom-function","custom-function",e)}static jwt(e){return new Gt("custom-token","custom-token",{token:e})}static google(e){return new Gt("oauth2-google","oauth2-google",Gt.derivePayload(e))}static derivePayload(e){if(typeof e=="string"){if(e.includes("://"))return this.derivePayload({redirectUrl:e});if(e.startsWith("4/"))return this.derivePayload({authCode:e});if(e.startsWith("ey"))return this.derivePayload({idToken:e});throw new Error(`Unexpected payload: ${e}`)}else if(Object.keys(e).length===1){if("authCode"in e||"redirectUrl"in e)return e;if("idToken"in e)return{id_token:e.idToken};throw new Error("Unexpected payload: "+JSON.stringify(e))}else throw new Error("Expected only one property in payload, got "+JSON.stringify(e))}static facebook(e){return new Gt("oauth2-facebook","oauth2-facebook",e.includes("://")?{redirectUrl:e}:{accessToken:e})}static apple(e){return new Gt("oauth2-apple","oauth2-apple",e.includes("://")?{redirectUrl:e}:{id_token:e})}},x_="userIds",O_="deviceId",Z_=class extends Yr{constructor(e,r){super(e,`app(${r})`)}getUserIds(){let e=this.get(x_),r=e?JSON.parse(e):[];if(Array.isArray(r))return[...new Set(r)];throw new Error("Expected the user ids to be an array")}setUserIds(e,r){if(r){let n=this.getUserIds();for(let i of n)e.indexOf(i)===-1&&e.push(i)}this.set(x_,JSON.stringify(e))}removeUserId(e){let n=this.getUserIds().filter(i=>i!==e);this.setUserIds(n,!1)}getDeviceId(){return this.get(O_)}setDeviceId(e){this.set(O_,e)}},p5="abcdefghijklmnopqrstuvwxyz",y5=100,m5={_stitch_client_app_id:"appId",_baas_client_app_id:"appId",_stitch_ua:"userAuth",_baas_ua:"userAuth",_stitch_link:"link",_baas_link:"link",_stitch_error:"error",_baas_error:"error",_stitch_state:"state",_baas_state:"state"},di=class{constructor(e,r=qa().openWindow){this.storage=e.prefix("oauth2"),this.openWindow=r}static parseRedirectLocation(e){let r=r5(e),n={};for(let[i,o]of Object.entries(m5)){let s=r[i];s&&(n[o]=s)}return n}static handleRedirect(e,r=qa().defaultStorage){let n=di.parseRedirectLocation(e),{state:i,error:o}=n;if(typeof i=="string"){let s=r.prefix("oauth2");di.getStateStorage(s,i).set("result",JSON.stringify(n))}else throw o?new Error(`Failed to handle OAuth 2.0 redirect: ${o}`):new Error("Failed to handle OAuth 2.0 redirect.")}static decodeAuthInfo(e){let r=(e||"").split("$");if(r.length===4){let[n,i,o,s]=r;return{accessToken:n,refreshToken:i,userId:o,deviceId:s}}else throw new Error("Failed to decode 'authInfo' into ids and tokens")}static getStateStorage(e,r){return e.prefix(`state(${r})`)}openWindowAndWaitForRedirect(e,r){let n=di.getStateStorage(this.storage,r);return new Promise((i,o)=>{let s=null,l,f=()=>{let d=n.get("result");if(d){let m=JSON.parse(d);n.removeListener(f),n.clear();try{s&&(clearInterval(l),s.close())}catch(v){console.warn(`Failed closing redirect window: ${v}`)}finally{i(m)}}};n.addListener(f),s=this.openWindow(e),l=setInterval(()=>{if(!s)clearInterval(l);else if(s.closed){clearInterval(l),n.removeListener(f);let d=new Error("Window closed");o(d)}},y5)})}generateState(){return t5(12,p5)}},k_="x-baas-location",X_=class{constructor(e,r,n){this.fetcher=e,this.oauth2=new di(r),this.getDeviceInformation=n}async authenticate(e,r){let n=this.getDeviceInformation(),i=typeof r=="object";if(e.providerType.startsWith("oauth2")&&typeof e.payload.redirectUrl=="string"){let o=this.oauth2.generateState(),s=await this.getLogInUrl(e,i,{state:o,redirect:e.payload.redirectUrl,providerRedirectHeader:i?!0:void 0,device:i?void 0:n.encode()});if(i){let f=(await this.fetcher.fetch({method:"GET",url:s,tokenType:i?"access":"none",user:r,mode:"cors",credentials:"include"})).headers.get(k_);if(f)return this.openWindowAndWaitForAuthResponse(f,o);throw new Error(`Missing ${k_} header`)}else return this.openWindowAndWaitForAuthResponse(s,o)}else{let o=await this.getLogInUrl(e,i),s=await this.fetcher.fetchJSON({method:"POST",url:o,body:{...e.payload,options:{device:n.toJSON()}},tokenType:i?"access":"none",user:r}),{user_id:l,access_token:f,refresh_token:d=null,device_id:m}=s;if(typeof l!="string")throw new Error("Expected a user id in the response");if(typeof f!="string")throw new Error("Expected an access token in the response");if(typeof d!="string"&&d!==null)throw new Error("Expected refresh token to be a string or null");if(typeof m!="string")throw new Error("Expected device id to be a string");return{userId:l,accessToken:f,refreshToken:d,deviceId:m}}}async getLogInUrl(e,r=!1,n={}){let o=this.fetcher.appRoute.authProvider(e.providerName).login(),s=$_({link:r?"true":void 0,...n});return await this.fetcher.locationUrl+o.path+s}async openWindowAndWaitForAuthResponse(e,r){let n=await this.oauth2.openWindowAndWaitForRedirect(e,r);return di.decodeAuthInfo(n.userAuth)}},$a=class extends Error{constructor(e,r,n,i,o,s,l){let f=i?`status ${n} ${i}`:`status ${n}`;typeof o=="string"?super(`Request failed (${e} ${r}): ${o} (${f})`):super(`Request failed (${e} ${r}): (${f})`),this.method=e,this.url=r,this.statusText=i,this.statusCode=n,this.error=o,this.errorCode=s,this.link=l}static async fromRequestAndResponse(e,r){var n;let{url:i,method:o}=e,{status:s,statusText:l}=r;if((n=r.headers.get("content-type"))===null||n===void 0?void 0:n.startsWith("application/json")){let f=await r.json();if(typeof f=="object"&&f){let{error:d,error_code:m,link:v}=f;return new $a(o,i,s,l,typeof d=="string"?d:void 0,typeof m=="string"?m:void 0,typeof v=="string"?v:void 0)}}return new $a(o,i,s,l)}};ro=class{constructor({appId:e,transport:r,userContext:n,locationUrlContext:i}){this.appId=e,this.transport=r,this.userContext=n,this.locationUrlContext=i}static buildAuthorizationHeader(e,r){if(!e||r==="none")return{};if(r==="access")return{Authorization:`Bearer ${e.accessToken}`};if(r==="refresh")return{Authorization:`Bearer ${e.refreshToken}`};throw new Error(`Unexpected token type (${r})`)}static buildBody(e){if(e){if(typeof e=="object"&&e!==null)return JSON.stringify(z_(e));if(typeof e=="string")return e;throw console.log("body is",e),new Error("Unexpected type of body")}else return}static buildJsonHeader(e){return e&&e.length>0?{"Content-Type":"application/json"}:{}}clone(e){return new ro({appId:this.appId,transport:this.transport,userContext:this.userContext,locationUrlContext:this.locationUrlContext,...e})}async fetch(e){let{path:r,url:n,tokenType:i="access",user:o=this.userContext.currentUser,...s}=e;if(typeof r=="string"&&typeof n=="string")throw new Error("Use of 'url' and 'path' mutually exclusive");if(typeof r=="string"){let l=await this.locationUrlContext.locationUrl+r;return this.fetch({...e,path:void 0,url:l})}else if(typeof n=="string"){let l=await this.transport.fetch({...s,url:n,headers:{...ro.buildAuthorizationHeader(o,i),...e.headers}});if(l.ok)return l;if(o&&l.status===401&&i==="access")return await o.refreshAccessToken(),this.fetch({...e,user:o});throw o&&l.status===401&&i==="refresh"&&(o.accessToken=null,o.refreshToken=null),await $a.fromRequestAndResponse(e,l)}else throw new Error("Expected either 'url' or 'path'")}async fetchJSON(e){let{body:r}=e,n=ro.buildBody(r),i=ro.buildJsonHeader(n),o=await this.fetch({...e,body:n,headers:{Accept:"application/json",...i,...e.headers}}),s=o.headers.get("content-type");if(s==null?void 0:s.startsWith("application/json")){let l=await o.json();return V_(l)}else{if(s===null)return null;throw new Error(`Expected JSON response, got "${s}"`)}}async fetchStream(e){let{body:r}=await this.fetch({...e,headers:{Accept:"text/event-stream",...e.headers}});return g5(r)}get appRoute(){return Jr.api().app(this.appId)}get locationUrl(){return this.locationUrlContext.locationUrl}},v5="deviceId";(function(t){t.DEVICE_ID="deviceId",t.APP_ID="appId",t.APP_VERSION="appVersion",t.PLATFORM="platform",t.PLATFORM_VERSION="platformVersion",t.SDK_VERSION="sdkVersion"})(T_||(T_={}));Q_=class{constructor({appId:e,appVersion:r,deviceId:n}){this.sdkVersion="1.7.0";let i=qa();this.platform=i.platform,this.platformVersion=i.platformVersion,this.appId=e,this.appVersion=r,this.deviceId=n}encode(){let e=U0(this);return sc.encode(JSON.stringify(e))}toJSON(){return U0(this)}},w5="https://realm.mongodb.com",En=class{constructor(e){this.users=[],this._locationUrl=null;let r=typeof e=="string"?{id:e}:e;if(typeof r=="object"&&typeof r.id=="string")this.id=r.id;else throw new Error("Missing a MongoDB Realm app-id");this.baseUrl=r.baseUrl||w5,r.skipLocationRequest&&(this._locationUrl=Promise.resolve(this.baseUrl)),this.localApp=r.app;let{storage:n,transport:i=new nn}=r;this.fetcher=new ro({appId:this.id,userContext:this,locationUrlContext:this,transport:i}),this.emailPasswordAuth=new G_(this.fetcher);let o=n||qa().defaultStorage;this.storage=new Z_(o,this.id),this.authenticator=new X_(this.fetcher,o,()=>this.deviceInformation);try{this.hydrate()}catch(s){this.storage.clear(),console.warn("Realm app hydration failed:",s instanceof Error?s.message:s)}}static getApp(e){if(e in En.appCache)return En.appCache[e];{let r=new En(e);return En.appCache[e]=r,r}}switchUser(e){let r=this.users.findIndex(i=>i===e);if(r===-1)throw new Error("The user was never logged into this app");let[n]=this.users.splice(r,1);this.users.unshift(n)}async logIn(e,r=!0){let n=await this.authenticator.authenticate(e),i=this.createOrUpdateUser(n,e.providerType);this.switchUser(i),r&&await i.refreshProfile(),this.storage.setUserIds(this.users.map(s=>s.id),!0);let o=n.deviceId;return o&&o!=="000000000000000000000000"&&this.storage.set(v5,o),i}async removeUser(e){let r=this.users.findIndex(n=>n===e);if(r===-1)throw new Error("The user was never logged into this app");this.users.splice(r,1),await e.logOut(),this.storage.remove(`user(${e.id}):profile`),this.storage.removeUserId(e.id)}async deleteUser(e){await this.fetcher.fetchJSON({method:"DELETE",path:Jr.api().auth().delete().path}),await this.removeUser(e)}get currentUser(){let e=this.users.filter(r=>r.state===to.Active);return e.length===0?null:e[0]}get allUsers(){return Object.fromEntries(this.users.map(e=>[e.id,e]))}get locationUrl(){if(!this._locationUrl){let e=Jr.api().app(this.id).location().path;this._locationUrl=this.fetcher.fetchJSON({method:"GET",url:this.baseUrl+e,tokenType:"none"}).then(r=>{if(typeof r!="object")throw new Error("Expected response body be an object");return r}).then(({hostname:r})=>{if(typeof r!="string")throw new Error("Expected response to contain a 'hostname'");return r}).catch(r=>{throw this._locationUrl=null,r})}return this._locationUrl}get deviceInformation(){let e=this.storage.getDeviceId(),r=typeof e=="string"&&e!=="000000000000000000000000"?new mr(e):void 0;return new Q_({appId:this.localApp?this.localApp.name:void 0,appVersion:this.localApp?this.localApp.version:void 0,deviceId:r})}createOrUpdateUser(e,r){let n=this.users.find(i=>i.id===e.userId);if(n)return n.accessToken=e.accessToken,n.refreshToken=e.refreshToken,n;{if(!e.refreshToken)throw new Error("No refresh token in response from server");let i=new V0({app:this,id:e.userId,accessToken:e.accessToken,refreshToken:e.refreshToken,providerType:r});return this.users.unshift(i),i}}hydrate(){let e=this.storage.getUserIds();this.users=e.map(r=>new V0({app:this,id:r}))}};En.appCache={};En.Credentials=Gt;e2=class{constructor(){if(typeof globalThis.localStorage=="object")this.global=globalThis;else throw new Error("Cannot use LocalStorage without a global localStorage object")}get(e){return this.global.localStorage.getItem(e)}set(e,r){return this.global.localStorage.setItem(e,r)}remove(e){return this.global.localStorage.removeItem(e)}prefix(e){return new Yr(this,e)}clear(e){let r=[];for(let n=0;n<this.global.localStorage.length;n++){let i=this.global.localStorage.key(n);i&&(!e||i.startsWith(e))&&r.push(i)}for(let n of r)this.global.localStorage.removeItem(n)}addListener(e){return this.global.addEventListener("storage",e)}removeListener(e){return this.global.removeEventListener("storage",e)}},us=M6(),_5="localStorage"in globalThis?e2:W_;t2={defaultStorage:new _5().prefix("realm-web"),openWindow:S5,platform:(us==null?void 0:us.name)||"web",platformVersion:(us==null?void 0:us.version)||"0.0.0",TextDecoder};u5(t2)});function Pt(t="struct",e={},r={_id:""},n={structType:"struct",_id:""}){let i={_id:function(o=""){return`${o+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}(t+"defaultId"),structType:t,ownerId:r?._id,timestamp:Date.now(),parent:{structType:n?.structType,_id:n?._id}};return i.ownerId||delete i.ownerId,i?.parent?._id||delete i.parent,Object.keys(e).length>0&&Object.assign(i,e),i}function ac(t,e={}){if(!no[t.tag]&&t.position&&(no[t.tag]=[t.position.x,t.position.y,t.position.z]),no[t.tag]){let r={channel:"",position:{x:no[t.tag][0],y:no[t.tag][1],z:no[t.tag][2]}};return Object.assign(e,r)}return Object.assign(e,t)}function lc(t=[],e={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return t.forEach(n=>r[n]=[]),Object.assign(e,r)}function pi(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=lc(),o={tag:t,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Pt("eeg",o,r,n);return t&&ac(o,s),Object.assign(s,e)}function G0(t={0:pi("FP1"),1:pi("FP2")},e={},r={_id:""},n={structType:"struct",_id:""}){let i=lc(),o=Pt("coherence",{tag:t[0]?.tag+"::"+t[1]?.tag,x0:t[0]?.position?.x,y0:t[0]?.position?.y,z0:t[0]?.position?.z,x1:t[1]?.position?.x,y1:t[1]?.position?.y,z1:t[1]?.position?.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},r,n);return Object.assign(o,e)}function H0(t={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},e={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,l=0;l<t.channelDicts.length*(t.channelDicts.length+1)/2-t.channelDicts.length;l++){if(t.taggedOnly===!1||t.taggedOnly===!0&&t.channelDicts[s].tag!==null&&t.channelDicts[s+o].tag!==null&&t.channelDicts[s].tag!=="other"&&t.channelDicts[s+o].tag!=="other"&&t.channelDicts[s].analyze===!0&&t.channelDicts[s+o].analyze===!0){var f=pi(t.channelDicts[s].tag),d=pi(t.channelDicts[s+o].tag);i.push(G0({0:f,1:d},{},r,n))}++o+s===t.channelDicts.length&&(s++,o=1)}return i}function J0(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=Pt("fnirs",i,r,n);return t&&ac(i,o),Object.assign(o,e)}function i2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=Pt("imu",i,r,n);return t&&ac(i,o),Object.assign(o,e)}function o2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("eyetracker",{tag:t,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},r,n);return Object.assign(i,e)}function Y0(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("ecg",{tag:t,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},r,n);return Object.assign(i,e)}function s2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){}function a2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=J0(t,r,n,e);return i.structType="ppg",i}function l2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Y0(t,r,n,e);return i.structType="hrv",i}function u2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=pi(t,r,n,e);return i.structType="emg",i}function c2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("profile",{tag:t,name:"",username:"",firstName:"",lastName:"",email:"",sex:"",birthday:"",type:"",userRoles:[],id:""},r,n);return Object.assign(i,e)}function f2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("authorization",{tag:t,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:new Array,structs:new Array,excluded:new Array,groups:new Array,status:"PENDING",expires:!1,associatedAuthId:""},r,n);return Object.assign(i,e)}function h2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("group",{tag:t,name:"",details:"",admins:new Array,peers:new Array,clients:new Array,users:new Array},r,n);return Object.assign(i,e)}function d2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("dataInstance",{tag:t,title:"",author:"",expires:!1,type:"",data:new Array},r,n);return Object.assign(i,e)}function p2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("event",{tag:t,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:new Array},r,n);return Object.assign(i,e)}function y2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("chatroom",{tag:t,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:new Array,audioChatActive:!1,videoChatActive:!1},r,n);return Object.assign(i,e)}function m2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("comment",{tag:t,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:new Array,attachments:new Array},r,n);return Object.assign(i,e)}function g2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("notification",{tag:t,note:"",parentUserId:""},r,n);return Object.assign(i,e)}function v2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("schedule",{tag:t,title:"",author:"",attachments:new Array,dates:new Array},r,n);return Object.assign(i,e)}function w2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Pt("date",{tag:t,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},r,n);return Object.assign(i,e)}function We(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var no,E5,yi,Fe,gI,K0,_2=tt(()=>{no={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};E5={Struct:Pt,EEGStruct:pi,FNIRSStruct:J0,CoherenceStruct:G0,CoherenceMap:H0,FrequencyBandsStruct:lc,IMUStruct:i2,EyeTrackerStruct:o2,ECGStruct:Y0,EDAStruct:s2,PPGStruct:a2,HRVStruct:l2,EMGStruct:u2,ProfileStruct:c2,AuthorizationStruct:f2,GroupStruct:h2,DataStruct:d2,EventStruct:p2,ChatroomStruct:y2,CommentStruct:m2,NotificationStruct:g2,ScheduleStruct:v2,DateStruct:w2},yi=Object.freeze({__proto__:null,Struct:Pt,eegCoordinates:no,setCoordinate:ac,EEGCoordinates:function(t=[],e=!0){let r=[];for(let n of t){let i=pi(n);r.push(i)}return e&&r.push(...H0({channelDicts:t})),r},FrequencyBandsStruct:lc,EEGStruct:pi,CoherenceStruct:G0,CoherenceMap:H0,FNIRSStruct:J0,IMUStruct:i2,EyeTrackerStruct:o2,ECGStruct:Y0,EDAStruct:s2,PPGStruct:a2,HRVStruct:l2,EMGStruct:u2,ProfileStruct:c2,AuthorizationStruct:f2,GroupStruct:h2,DataStruct:d2,EventStruct:p2,ChatroomStruct:y2,CommentStruct:m2,NotificationStruct:g2,ScheduleStruct:v2,DateStruct:w2,structRegistry:E5});Fe=class{constructor(){}static genSineWave(e=20,r=1,n=1,i=512,o=0,s=1){for(var l=[],f=[],d=1/i,m=0;m<n;m+=d){var v=Math.sin(2*Math.PI*e*m)*r;v+=Math.sin(2*Math.PI*o*m)*s,l.push(v),f.push(m)}return[f,l]}static getSineAmplitude(e=20,r=1,n=0,i=0){return Math.sin(this.TWO_PI*e*n+i)*r}static mean(e){return e.reduce((r,n)=>n+r)/e.length}static mode(e){return e.sort((r,n)=>e.filter(i=>i===r).length-e.filter(i=>i===n).length).pop()}static std(e,r){let n=r;r||(n=this.mean(e));let i=0;for(let o=0;o<e.length;o++){let s=e[o]-n;i+=s*s}return Math.sqrt(i/e.length)}static relError(e=[],r=[],n=!0){if(e.length!==r.length)throw new Error("Input arrays of same length!");let i=e.length,o=[];for(let s=0;s<i;s++){let l=(e[s]-r[s])/e[s];n&&(l=Math.abs(l)),o.push(l)}return o}static informationEntropy(e=[]){let r=[],n=e.length;for(let i=0;i<n;i++){let o=e[i]*Math.log(e[i]);isNaN(o)&&(o=0),r.push(o)}return r}static zscore(e){let r=this.mean(e),n=this.std(e,r),i=[];for(let o=0;o<e.length;o++)i.push((e[o]-r)/n);return i}static variance(e){var r=this.mean(e);return e.reduce((n,i)=>n+(i-r)**2,0)/e.length}static dot(e,r){for(var n=0,i=0;i<e.length;i++)n+=e[i]*r[i];return n}static cross3D(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}static magnitude(e){var r=0;return e.forEach(n=>{r+=n*n}),Math.sqrt(r)}static distance(e,r){var n=0;return e.forEach((i,o)=>{n+=(r[o]-i)*(r[o]-i)}),Math.sqrt(n)}static normalize(e){var r;r=this.magnitude(e);var n=[];return e.forEach((i,o)=>{n.push(i*r)}),n}static quadraticFormula(e,r,n){let i=Math.sqrt(r*r-4*e*n);if(!isNaN(i))return["complex","complex"];let o=1/(2*e);if(i===0)return[r*o];let s=-r;return[(s+i)*o,(s-i)*o]}static newtonsMethod(e=s=>Math.pow(s,5)+s*s-s-.2,r=0,n=1,i=.01,o=10){let s=[];for(let l=0;l<o;l++){let f,d=Math.random()*(n-r),m=e(d),v=e(d+i),y=(v-m)/i,S=d+i;for(;Math.abs(y)>i;){let R=S+-m/T;m=v,v=e(R);let T=(v-m)/(R-S)}let O=s.find((R,T)=>{if(Math.abs(xn1-R)<i)return f=T,!0});O?s[f]=.5*(xn1+O):s.push(xn1)}return s}static makeVec(e,r){var n=[];return e.forEach((i,o)=>{n.push(r[o]-i)}),n}static transpose(e){return e[0].map((r,n)=>e.map(i=>i[n]))}static matmul(e,r){var n=e.length,i=e[0].length;r.length;for(var o=r[0].length,s=new Array(n),l=0;l<n;++l){s[l]=new Array(o);for(var f=0;f<o;++f){s[l][f]=0;for(var d=0;d<i;++d)s[l][f]+=e[l][d]*r[d][f]}}return s}static matscale(e,r){let n=[];for(var i=0;i<e.length;i++){n[i]=[];for(let o=0;o<e[0].length;o++)n[i][o]=e[i][o]*r}return n}static matadd(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]+r[o][i]}return n}static matsub(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]-r[o][i]}return n}static histogram(e=[],r=1,n){let i=[...e];i.sort(function(d,m){return d-m});let o=Math.min(...i);if(typeof n=="number"){let d=Math.max(...i);r=Math.abs((d-o)/(n-1))}let s=o,l=[],f=[];for(let d=0;d<i.length;d++){let m=r*s;if(i[d]>o+m){s++,m+=r;let v=o+m+.5*m;l.push(v),f.push(0)}f[f.length-1]++}return[l,f]}static normalDistribution(e=[],r=!0,n=1e-4){let i=this.mean(e),o=this.variance(e),s=e.length,l=[],f=1/(this.TWO_PI*o),d=1/o,m=0;for(let v=0;v<s;v++){let y=Math.exp(-.5*Math.pow((e[v]-i)*d,2))*f;y<n&&(y=0),l.push(y),m+=y}if(r){let v=1/m;l=l.map(y=>y*v)}return l}static expectedValue(e=[],r=this.normalDistribution(e)){return e.reduce((n,i,o)=>n+i*r[o])}static originMoment(e=[],r=this.normalDistribution(e),n=1){return e.reduce((i,o,s)=>i+Math.pow(o,n)*r[s])}static centralMoment(e=[],r=this.normalDistribution(e),n=1){let i=this.mean(e);return e.reduce((o,s,l)=>o+Math.pow(s-i,n)*r[l]/e.length)}static linearDiscriminantAnalysis(e=[],r=[]){let n=this.mean(e),i=this.mean(r),o=this.cov1d(e,r),s=this.normalDistribution(e),l=[];for(let f=0;f<e.length;f++)l.push(x[f]*o*i-.5*n*o*i+Math.log10(s[f]));return l}static conv1D(e=[],r=[1/3,1/3,1/3],n=Math.floor(.5*r.length)){let i=[],o=1/r.length;if(n>0){let f=new Array(n).fill(0);e=[...f,...e,...f]}let s=Math.floor(.5*r.length),l=e.length-r.length+s;for(let f=s;f<l;f++){let d=0;for(let m=0;m<r.length;m++)d+=e[f-s]*r[m];i.push(d*o)}return i}static conv2D(e=[[],[],[]],r=[[],[],[]],n=0){let i,o=new Array(e.length-Math.ceil(.5*r.length)).fill([]),s=Fe.transpose(s);if(n>0){let T=new Array(n).fill(0);i=Fe.transpose(e);for(let I=0;I<i.length;I++)i[I]=[...T,...i[I],...T];e=Fe.transpose(i);for(let I=0;I<e.length;I++)e[I]=[...T,...e[I],...T]}let l,f=Math.floor(.5*r[0].length),d=Math.floor(.5*s[0].length),m=e[0].length-r[0].length+f,v=i[0].length-s[0].length+d,y=1/(r[0].length*s[0].length),S=m*v,O=f,R=d;for(;O<S;){let T=0;l=O%e[0].length,l===0&&R++;for(let I=0;I<r[0].length;I++){for(let L=0;L<s[0].length;I++)T+=e[R-d+L][l-f+I]*r[L][I];o[R].push(T*y)}O++}return o}static cov2d(e){var r=this.transpose(e),n=[],i=[],o=[];e.forEach((O,R)=>{i.push(this.mean(O))}),r.forEach((O,R)=>{o.push(this.mean(O))}),e.forEach((O,R)=>{n.push([]);for(var T=0;T<O.length;T++)n[R].push((e[R][T]-i[R])*(e[R][T]-o[T])/(O.length-1))});var s=this.transpose(n),l=n.length,f=n[0].length;s.length;for(var d=s[0].length,m=new Array(l),v=0;v<l;++v){m[v]=new Array(d);for(var y=0;y<d;++y){m[v][y]=0;for(var S=0;S<f;++S)m[v][y]+=n[v][S]*s[S][y]/(e[0].length-1)}}return m}static cov1d(e=[],r=[]){return this.cov2d([e,r])}static cov3d(e=[],r=[],n=[]){return[[this.cov1d(e,e),this.cov1d(e,r),this.cov1d(e,n)],[this.cov1d(r,e),this.cov1d(r,r),this.cov1d(r,n)],[this.cov1d(n,e),this.cov1d(n,r),this.cov1d(n,n)]]}static covNd(e=[]){let r=[];e.forEach((n,i)=>{r.push([]),e.forEach((o,s)=>{r[i].push(this.cov1d(n,o))})})}static eigens2x2(e=[[1,2],[3,4]]){let r=e[0][0]*e[1][1]-e[0][1]*e[1][0],n=.5*(e[0][0]+e[1][1]),i=Math.sqrt(n*n-r);return[n+i,n-i]}static eigenvectors2x2(e=[[1,2],[3,4]],r=[1,2]){let n=[-e[0][1],e[0][0]-r[0]];n[0]===0&&n[1]===0&&(n[0]=e[1][1]-r[0],n[1]=-e[1][0]);let i=[-e[0][1],e[0][0]-r[1]];return i[0]===0&&i[1]===0&&(i[0]=e[1][1]-r[1],i[1]=-e[1][0]),[n,i]}static fastpca2d(e,r){let n=this.cov1d(e,r),i=this.eigens2x2(n);i[1]>i[0]&&i.reverse();let o=this.eigenvectors2x2(n,i);return console.log(i,o),[i,o]}static crosscorrelation(e,r){var n=[...r,...Array(r.length).fill(0)],i=this.mean(e),o=this.mean(r),s=e.reduce((y,S)=>y+Math.pow(S-i,2));s=Math.sqrt(s);for(var l=r.reduce((y,S)=>y+Math.pow(S-i,2)),f=1/(s*(l=Math.sqrt(l))),d=new Array(e.length).fill(0),m=0;m<e.length;m++){var v=e.reduce((y,S,O)=>y+(S-i)*(n[m+O]-o));d[m]=v*f}return d}static autocorrelation(e){for(var r=[...e,...Array(e.length).fill(0)],n=this.mean(e),i=e.reduce((d,m)=>d+Math.pow(m-n,2)),o=1/((i=Math.sqrt(i))*i),s=new Array(e.length).fill(0),l=0;l<e.length;l++){var f=e.reduce((d,m,v)=>d+(m-n)*(r[l+v]-n));s[l]=f*o}return s}static correlograms(e=[[],[]]){var r=[];return e.forEach((n,i)=>{e.forEach((o,s)=>{s>=i&&r.push(Fe.crosscorrelation(n,o))})}),r}static sma(e=[],r){for(var n=[],i=0;i<e.length;i++)if(i==0)n.push(e[0]);else if(i<r){var o=e.slice(0,i+1);n.push(o.reduce((s,l)=>l+s)/(i+1))}else o=e.slice(i-r,i),n.push(o.reduce((s,l)=>l+s)/r);return n}static sum(e=[]){return e.length>0?e.reduce((r,n)=>n+r):0}static reduceArrByFactor(e,r=2){return e.filter((n,i)=>i%r==0)}static makeArr(e,r,n){for(var i=[],o=(r-e)/(n-1),s=0;s<n;s++)i.push(e+o*s);return i}static interpolateArray(e,r,n=1){var i=function(y,S,O){return(y+(S-y)*O)*n},o=new Array,s=new Number((e.length-1)/(r-1));o[0]=e[0];for(var l=1;l<r-1;l++){var f=l*s,d=new Number(Math.floor(f)).toFixed(),m=new Number(Math.ceil(f)).toFixed(),v=f-d;o[l]=i(e[d],e[m],v)}return o[r-1]=e[e.length-1],o}static isExtrema(e,r="peak"){let n=[...e];if(n.length%2==0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<Math.floor(.5*n.length)&&s>=n[Math.floor(.5*n.length)]){i=!1;break}if(o>Math.floor(.5*n.length)&&s>=n[Math.floor(.5*n.length)]){i=!1;break}}else if(r==="valley"){if(o<Math.floor(.5*n.length)&&s<=n[Math.floor(.5*n.length)]){i=!1;break}if(o>Math.floor(.5*n.length)&&s<=n[Math.floor(.5*n.length)]){i=!1;break}}else{if(o<Math.floor(.5*n.length)&&s<=n[Math.floor(.5*n.length)]){i=!1;break}if(o>Math.floor(.5*n.length)&&s<=n[Math.floor(.5*n.length)]){i=!1;break}}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<Math.floor(.5*n.length)&&s>=n[Math.floor(.5*n.length)]){i=!1;break}if(o>Math.floor(.5*n.length)&&s>=n[Math.floor(.5*n.length)]){i=!1;break}}}return i}}static isCriticalPoint(e,r="peak"){let n=[...e];if(n.length%2==0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<.5*n.length&&s<=0){i=!1;break}if(o>.5*n.length&&s>0){i=!1;break}}else if(r==="valley"){if(o<.5*n.length&&s>=0){i=!1;break}if(o>.5*n.length&&s<0){i=!1;break}}else{if(o<.5*n.length&&s>=0){i=!1;break}if(o>.5*n.length&&s<0){i=!1;break}}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<.5*n.length&&s<=0){i=!1;break}if(o>.5*n.length&&s>0){i=!1;break}}}return i}}static getPeakThreshold(e,r,n){let i,o=e.filter((s,l)=>{if(r.indexOf(l)>-1)return!0});return i=n===0?this.mean(o):.5*(n+this.mean(o)),i}static column(e,r){let n=new Array(e.length).fill(0).map(()=>new Array(1).fill(0));for(let i=0;i<e.length;i++)n[i][0]=e[i][r];return n}static flatten_vector(e){let r=[];for(let n=0;n<e.length;n++)r[n]=e[n][0];return r}static squared_difference(e,r){let n=0;for(let i=0;i<e.length;i++)n+=Math.pow(e[i]-r[i],2);return n}static shift_deflate(e,r,n){let i=Math.sqrt(this.matmul(this.transpose(n),n)),o=this.matscale(n,1/i),s=this.matscale(this.matmul(o,this.transpose(o)),r);return this.matsub(e,s)}static eigenvalue_of_vector(e,r){return ev=this.matmul(this.matmul(this.transpose(r),e),r),ev}static power_iteration(e,r=1e-5,n=1e3){let i=e.length,o=new Array(i).fill(0).map(()=>new Array(1).fill(Math.sqrt(i))),s=this.eigenvalue_of_vector(e,o),l=1,f=0;for(;l>r&&f<n;){let d=JSON.parse(JSON.stringify(s)),m=this.matmul(e,o);o=this.normalize(m),s=this.eigenvalue_of_vector(e,o),l=Math.abs(s-d),f++}return[s,o]}static eigens(e,r=1e-4,n=1e3){let i=[],o=[];for(let s=0;s<e.length;s++){let l=this.power_iteration(e,r,n),f=l[0],d=l[1];i[s]=f,o[s]=this.flatten_vector(d),e=this.shift_deflate(e,f,d)}return[i,o]}static pca(e,r=1e-5){let n=e.length,i=new Array(n),o=new Array(n),s=this.transpose(e);for(i[0]=this.column(e,0);espilon>r;){o[0]=this.matmul(s,i[0]);let l=this.matmul(this.transpose(i[0]),i[0]);o[0]=this.matscale(o[0],1/l);let f=Math.sqrt(this.matmul(this.transpose(o[0]),o[0]));o[0]=this.matscale(o[0],1/f);let d=this.matmul(e,o[0]),m=this.matmul(this.transpose(o[0]),o[0]);d=this.matscale(d,1/m),this.squared_difference(i[0],d),i[0]=JSON.parse(JSON.stringify(d))}return this.matmul(this.transpose(i[0]),i[0])}static p300(e=[],r=[],n=[],i=256){let o=Math.floor(i/10),s=this.sma(r,o),l=this.peakDetect(s,"peak",o),f=this.mean(s),d=this.std(s,f),m=0,v=[];return l.length>0&&e.forEach((y,S)=>{for(;n[l[m]]<y+200&&(m++,l[m]););let O=0,R=[];for(;n[l[m+O]]<y+600&&(R.push(m+O),O++,l[m+O]););if(R.length>1){let T=[];R.forEach(Y=>{T.push(s[l[Y]])});let I=Math.max(...T),L=R[T.indexOf(I)];v.push({event_timestamp:y,event_index:S,peak_timestamp:n[[l[L]]],signal_index:[l[L]],signal_amplitude:r[[l[L]]],zscore:(s[l[L]]-f)/d})}else R.length===1&&v.push({event_timestamp:y,event_index:S,peak_timestamp:n[l[R[0]]],signal_index:l[R[0]],signal_amplitude:r[[l[R[0]]]],zscore:(s[l[R[0]]]-f)/d})}),v}};We(Fe,"TWO_PI",2*Math.PI),We(Fe,"C",299792458),We(Fe,"G",66743e-15),We(Fe,"h",662607015e-42),We(Fe,"R",8314.32),We(Fe,"Ra",287),We(Fe,"H",69.3),We(Fe,"kbar",1054571817e-43),We(Fe,"kB",1380649e-29),We(Fe,"ke",89875517923e-1),We(Fe,"me",91093837015e-41),We(Fe,"mp",167262192369e-38),We(Fe,"mn",167492749804e-38),We(Fe,"P0",101325),We(Fe,"T0",288.15),We(Fe,"p0",1.225),We(Fe,"Na",60220978e16),We(Fe,"y",1.405),We(Fe,"M0",28.96643),We(Fe,"g0",9.80665),We(Fe,"Re",6378100),We(Fe,"B",1458e-9),We(Fe,"S",110.4),We(Fe,"Sigma",365e-12),We(Fe,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),We(Fe,"integral",(t=n=>n,e=[],r=.01)=>{let n=0;for(let i=e[0];i<e[1];i+=r)n+=t(i)*r;return n}),We(Fe,"dintegral",(t=(i,o)=>i+o,e=[[],[]],r=.01,n=r)=>{let i=0;for(let o=e[0][0]+r;o<e[0][1];o+=r)for(let s=e[1][0]+n;s<e[1][1];s+=n)i+=t(o,s)*r*n;return i}),We(Fe,"tintegral",(t=(o,s,l)=>o+s+l,e=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=e[0][0]+r;s<e[0][1];s+=r)for(let l=e[1][0]+n;l<e[1][1];l+=n)for(let f=e[2][0]+i;f<e[2][1];f+=i)o+=t(s,l,f)*r*n*i;return o}),We(Fe,"pintegral",(t=n=>n,e=[],r=.01)=>{let n,i,o=0;for(let s=e[0];s<e[1];s+=r)n=i,i=t(s),n&&(o+=Fe.distance([0,n],[r,i]));return o}),We(Fe,"peakDetect",(t,e="peak",r=49)=>{let n=Math.floor(.5*r),i=[];for(let o=0;o<t.length-r;o++)Fe.isExtrema(t.slice(o,o+r),e)&&i.push(o+n-1);return i});gI=Object.freeze({__proto__:null,getCoherenceScore:(t,e="alpha1")=>{let r=[];return Array.isArray(t)||(t=[t]),t.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[e].slice(i-o);r.push(Fe.mean(s))}}),Fe.mean(r)},getAlphaRatio:t=>t.fftCount>0?t.means.alpha2[t.fftCount-1]/t.means.alpha1[t.fftCount-1]:0,getThetaBetaRatio:t=>t.fftCount>0?t.means.theta[t.fftCount-1]/t.means.beta[t.fftCount-1]:0,getAlphaBetaRatio:t=>t.fftCount>0?.5*(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])/t.means.beta[t.fftCount-1]:0,getAlphaThetaRatio:t=>t.fftCount>0?.5*(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])/t.means.theta[t.fftCount-1]:0,get40HzGamma:(t,e)=>{if(t.fftCount>0&&Array.isArray(e)){let r=t.slices.lowgamma[t.fftCount-1],n=[];return r.forEach((i,o)=>{e.lowgamma[0][o]>38&&e.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}return 0},getLowGammaScore:t=>{if(t.fftCount>0){let e=t.fftCount,r=20;e<r&&(r=e);let n=t.means.lowgamma.slice(e-r);return t.means.lowgamma[e-1]-Fe.mean(n)}return 0},getHEGRatioScore:t=>{if(t.count>0){let e=t.count,r=40;e<r&&(r=e);let n=t.ratio.slice(e-r);return t.ratio[e-1]-Fe.mean(n)}return 0},splitFrequencyBands:function(t=[],e={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return t.forEach((n,i)=>{for(let o in e)r[o]||(r[o]=[[],[]]),n>=e[o][0]&&n<=e[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r},mapFFTData:(t,e,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(e),n.ffts.push(t);for(let o in r){let s=t.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((l,f)=>l+f)/s.length),i+=r[o][1].length}},mapCoherenceData:(t,e,r,n)=>{t.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(e),n[o].ffts.push(data);let s=0;for(let l in r){let f=fft.slice(s,s+r[l][1].length);coord.slices[l].push(f),coord.means[l].push(f.reduce((d,m)=>d+m)/f.length),s+=r[l][1].length}})},bandpassWindow:function(t,e,r){let n=(e-t)/r,i=[],o=0;for(;o<e;)i.push(o),o+=n;return i}}),K0=class{constructor(e={},r=!1,n){this.DS=yi,this.collections=new Map,this.data={byTime:{},notes:{},events:{},sleep:{},food:{},hr:{},ppg:{},hrv:{},ecg:{},emg:{},eeg:{},fnirs:{}},this.rolloverLimit=5e4,this.dataSorts=new Map,this.watches={},this.onCollectionSet=(i,o)=>{},this.ontrigger=i=>{},this.threaded=r,n?this.workers=n:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&(this.threaded=!0),Object.assign(this.data,e),this.dataSorts=new Map,this.watches={},this.setSort("event",i=>(this.data.events[i.timestamp]?this.data.events[i.timestamp].push(i):this.data.events[i.timestamp]=[i],i.event==="sleep"&&(this.data.sleep[i.timestamp]?this.data.sleep[i.timestamp].push(i):this.data.sleep[i.timestamp]=[i]),i)),this.setSort(["notes","note","link"],i=>(this.data.notes[i.timestamp]?this.data.notes[i.timestamp].push(i):this.data.notes[i.timestamp]=[i],this.data.byTime[i.timestamp]?this.data.byTime[i.timestamp].push(i):this.data.byTime[i.timestamp]=[i],i)),this.id=this.randomId("dataTablet")}randomId(e=""){return`${e+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}setLocalData(e){let r=n=>{let i=n.structType,o=this.collections.get(i);o||(o=new Map,this.collections.set(i,o)),o.set(n._id,n),this.onCollectionSet(i,o)};Array.isArray(e)?e.forEach(n=>{r(n)}):r(e)}getLocalData(e,r){let n="",i="",o="";if(typeof r=="object"?(n=r.ownerId,i=Object.keys(r).filter(f=>f!="ownerId")[0],o=r[i]):o=r,!(e||n||i||o))return[];let s=[];if(!e&&(n||i))return this.collections.forEach(l=>{if(i!=="_id"&&i!=="id"||!o)l.forEach(f=>{i&&o?f[i]===o&&f.ownerId===n&&s.push(f):f.ownerId===n&&s.push(f)});else{let f=l.get(o);f&&s.push(f)}}),s;{let l=this.collections.get(e);if(!l)return s;if(!i&&!n)return l.forEach(f=>{s.push(f)}),s;if((i==="_id"||i==="id")&&o)return l.get(o);l.forEach((f,d)=>{i&&o&&!n?f[i]===o&&s.push(f):n&&!i?f.ownerId===n&&s.push(f):n&&i&&o&&f.ownerId===n&&f[i]&&f[i]===o&&s.push(f)})}return s}runSort(e,r={},n=[],i=this){let o;if(this.threaded===!1){let s=this.getSort(e);if(!s)return!1;o=s(r,n,i)}else if(this.threaded===!0)return this.workers.runWorkerFunction("runSort",[e,r,n],this.workerId,this.id);return o}setSort(e,r=(n,i=[],o=this)=>{}){if(this.threaded===!1)Array.isArray(e)?e.forEach(n=>{this.dataSorts.set(n,r)}):this.dataSorts.set(e,r);else if(this.threaded===!0)return this.workers.runWorkerFunction("setSort",[e,r.toString()],this.workerId,this.id)}getSort(e){return this.threaded===!1?this.dataSorts.get(e):this.threaded===!0?this.workers.runWorkerFunction("getSort",[e],this.workerId,this.id):void 0}checkWatches(e={}){for(let r in this.watches)this.watches[r].ondata(e,this.watches[r].accum,this.watches[r]),this.watches[r].triggered&&(this.ontrigger(this.watches[r].accum),this.watches[r].triggered=!1)}setWatch(e,r=(i,o,s)=>{},n=i=>{}){this.watches[e]={triggered:!1,accum:this.DS.Struct("alert"),ondata:r,ontrigger:n}}getWatch(e){return this.watches[e]}async sortStructsIntoTable(e=[]){e.sort(function(n,i){return n.timestamp-i.timestamp});let r=[];for(let n=0;n<e.length;n++){let i=e[n];if(!i.timestamp)continue;let o=i.timestamp;if(this.data.byTime[o]?this.data.byTime[o].push(i):this.data.byTime[o]=[i],i.structType==="dataInstance"&&i.data)i.data.forEach(async s=>{if(typeof s=="object"&&!Array.isArray(s)){let l=s.dataType;if(s.ownerId=i.ownerId,s.timestamp||(s.timestamp=o),l){let f=this.runSort(l,s,r,this);f?f.constructor?.name!=="Promise"&&(this.checkWatches(f),this.onUpdate(o,f),r.push(f)):(this.data[l]||(this.data[l]={}),s.timestamp=o,this.data[l][o]?this.data[l][o].push(s):this.data[l][o]=[s],this.data.byTime[o]?this.data.byTime[o].push(s):this.data.byTime[o]=[s],this.checkWatches(s),this.onUpdate(o,s),r.push(s))}}});else{let s=this.runSort(i.structType,i,r,this);if(s)this.checkWatches(s),this.onUpdate(o,s),r.push(s);else{let l=i.structType;this.data[l]||(this.data[l]={}),this.data[l][o]?this.data[l][o].push(i):this.data[l][o]=[i],this.checkWatches(i),this.onUpdate(o,i),r.push(i)}}}for(let n in this.data)this.data[n]=this.sortObjectByPropName(this.data[n]);this.onSorted(r)}onUpdate(e,r,n=this.data){}onSorted(e=[]){}getDataByTimestamp(e,r){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimestamp",[e,r],this.workerId,this.id);let n=this.data.byTime[e];return r&&n&&(n=n.filter(i=>!r||r===i.ownerId)),n}getDataByTimeRange(e,r,n,i){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimeRange",[e,r,n,i],this.workerId,this.id);let o={};if(n){for(let s in this.data[n]){let l=parseInt(s);l>e&&l<r&&(o[s]=[...this.data[n][s]])}n==="sleep"&&(o=this.filterSleepResults(o))}else for(let s in this.data.byTime){let l=parseInt(s);l>e&&l<r&&(o[s]=[...this.data.byTime[s]])}if(i&&o)for(let s in o){let l=[];o[s]=o[s],o[s].forEach((f,d)=>{f.ownerId!==i&&l.push(d)}),l.reverse().forEach(f=>{o[s].splice(f,1)}),o[s].length===0&&delete o[s]}return o}getDataByType(e,r,n){if(!this.data[e])return;let i={...this.data[e]};if(r&&(i=[...i[r]]),n&&i)for(let o in i){let s=[];i[o]=[...i[o]],i[o].forEach((l,f)=>{l.ownerId!==n&&s.push(f)}),s.reverse().forEach(l=>{i[o].splice(l,1)}),i[o].length===0&&delete i[o]}return e==="sleep"&&(i=this.filterSleepResults(i)),i}filterSleepResults(e={}){let r=[];for(let n in e)e[n]=[...e[n]],r.push(...e[n].filter(i=>i.structType==="event"));return r.forEach(n=>{let i;for(let o in e)e[o].forEach((s,l)=>!(s.structType!=="fitbitsleep"||!n.startTime||!n.endTime)&&Math.abs(s.startTime-n.startTime)<432e5&&Math.abs(s.endTime-n.endTime)<432e5&&n.endTime-n.startTime>72e5&&(i=l,!0)),i&&e[o].splice(i,1)}),e}sortObjectByPropName(e){return Object.keys(e).sort().reduce((r,n)=>(r[n]=e[n],r),{})}checkRollover(e,r=this.rolloverLimit){if(!e)return!1;let n=this.collections.get(e);return!!n&&(n.forEach(i=>{for(let o in i)Array.isArray(i[o])?i[o].length>r&&(i[o].slice(i[o].length-r),o==="ffts"?i.fftCount=i[o].length:o==="times"&&(i.count=i[o].length)):typeof i[o]=="object"&&this.checkRollover(i[o])}),!0)}}});function uc(t,e){let r=e instanceof URL?e:new URL(e);return t=r.pathname==="/"?t:r.pathname+t,new URL(t,r.href).href}function Ga(t,e=!0){t=t.replace(/\/\*\*?/,"");let r=t.split("/");e&&(r=r.slice(0,r.length-1));let n=[t];return n.push(t+"/*"),n.push(t+"/**"),r.forEach((i,o)=>{let s=r.slice(0,o+1).join("/");s!=t&&(o===r.length-1&&n.push(s+"/*"),n.push(s+"/**"))}),n}var Ja=tt(()=>{});var on,Z0,cc,ds=tt(()=>{on=t=>(t?`${t}_`:"")+Math.floor(1e5*Math.random()),Z0=(t=Math,e=Date,r=16,n=i=>t.floor(i).toString(r))=>n(e.now()/1e3)+" ".repeat(r).replace(/./g,()=>n(t.random()*r)),cc=(t={})=>(t._id||(t._id=Z0()),t={_id:t._id,id:t.id||t._id},t)});function S2(t){if(t instanceof Function){var e=t.toString().replace(x5,""),r=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(O5);return r===null&&(r=[]),r}else return}function SI(method=""){let getFunctionBody=t=>t.replace(/^\W*(function[^{]+\{([\s\S]*)\}|[^=]+=>[^{]*\{([\s\S]*)\}|[^=]+=>(.+))/i,"$2$3$4"),getFunctionHead=t=>{let e=t.indexOf(")");return t.slice(0,t.indexOf("{",e)+1)},newFuncHead=getFunctionHead(method),newFuncBody=getFunctionBody(method),newFunc;if(newFuncHead.includes("function ")){let t=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(t,newFuncBody)}else if(newFuncHead.substring(0,6)===newFuncBody.substring(0,6)){let t=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(t,newFuncBody.substring(newFuncBody.indexOf("{")+1,newFuncBody.length-1))}else newFunc=eval(newFuncHead+newFuncBody+"}");return newFunc}var b5,Ya,x5,O5,fc=tt(()=>{b5=input=>{if(typeof input=="string"&&(input=JSON.parse(input)),typeof input=="object"){for(let key in input){let value=input[key],regex=new RegExp("(|[a-zA-Z]w*|([a-zA-Z]w*(,s*[a-zA-Z]w*)*))s*=>"),func=typeof value=="string"?value.substring(0,8)=="function":!1,arrow=typeof value=="string"?regex.test(value):!1;try{input[key]=func||arrow?eval("("+value+")"):value}catch(t){console.error(t,value),input[key]=value}typeof input[key]=="object"&&b5(input[key])}return input}else return{}},Ya=(t,e=!0)=>{t instanceof Object&&(t=Array.isArray(t)?[...t]:Object.assign({},t));for(let r in t)t[r]instanceof Function&&(t[r]=t[r].toString()),t[r]instanceof Object&&(t[r]=Ya(t[r],!1));return e?JSON.stringify(t):t},x5=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,O5=/([^\s,]+)/g});var E2,b2=tt(()=>{E2=`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>404 Not Found</pre>
</body>
</html>`});var O2=xe((ps,x2)=>{"use strict";var k5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Pn<"u")return Pn;throw new Error("unable to locate global object")},Pn=k5();x2.exports=ps=Pn.fetch;Pn.fetch&&(ps.default=Pn.fetch.bind(Pn));ps.Headers=Pn.Headers;ps.Request=Pn.Request;ps.Response=Pn.Response});var X0,k2=tt(()=>{fc();Ja();ds();try{if(typeof process=="object"){let t=O2();typeof globalThis.fetch!="function"&&(globalThis.fetch=t)}}catch(t){}X0=class{constructor(e="https://localhost",r,n){this.id=null;this.target=null;this.type=null;this.link=null;this.credentials={};this.connection=null;this.services={available:{},connecting:{},queue:{}};this.router=null;this.clients={};this.user=Z0();this.status=!1;this.responses={};this.setCredentials=e=>{this.credentials=cc(e),console.log("Using Credentials:",this.credentials)};this.check=()=>te(this,null,function*(){var i,o,s,l,f,d;this.type==="webrtc"&&(this.clients.webrtc?yield this._subscribe({protocol:"webrtc",force:!0}).then(m=>{this.status=!0}).catch(m=>console.log("Link doesn't have WebRTC enabled.",m)):console.error("WebRTC client not added..."));let e=()=>te(this,null,function*(){if(this.clients.websocket)return yield this._subscribe({protocol:"websocket",force:!0}).then(m=>(this.status=!0,m)),yield this.send("services");console.error("Websocket client not added...")}),r=()=>te(this,null,function*(){return yield this.send("services")}),n;if(console.log("endpoint type",this.type),this.type==="websocket"){console.log("connecting ws");let m=yield e().then(v=>(this.status=!0,v)).catch(v=>te(this,null,function*(){if(this.type==="websocket")return console.log("Falling back to http"),yield r()}));console.log("endpoint res",m)}else n=yield r().then(m=>(this.status=!0,m)).catch(m=>te(this,null,function*(){return console.log("Falling back to websockets"),yield e()}));if(n){console.log("Connection successful!");let m=n.message[0],v=[];for(let y in m){let O=m[y].replace(/Backend|Service/,"").toLowerCase();this.services.available[O]=y,v.push(O),((s=(o=(i=this.router)==null?void 0:i.SERVICES)==null?void 0:o[O])==null?void 0:s.status)instanceof Function&&this.router.SERVICES[O].status(y),((l=this.clients[O])==null?void 0:l.serviceType)==="subscription"&&((f=this.services.queue[O])==null||f.forEach(R=>R()),this.services.queue[O]=[])}(d=this.services.queue.undefined)==null||d.forEach(y=>y()),this.services.queue.undefined=[]}else console.log("Connection failed!");return n==null?void 0:n.message});this.send=(i,...o)=>te(this,[i,...o],function*(e,r={},n=()=>{}){var f,d,m,v,y,S,O,R;if(typeof e=="string")r.route=e;else{let T=this.services[e.service];r.route=T?`${T}/${e.route}`:e.route}r.suppress=!!this.connection;let s,l={suppress:r.suppress,id:(f=this.link.connection)==null?void 0:f.id};if(((d=this.connection)==null?void 0:d.protocol)==="websocket")r.id=(m=this.link.credentials)==null?void 0:m.id,s=yield this.link.connection.service.send(r,l);else if(((v=this==null?void 0:this.connection)==null?void 0:v.protocol)==="webrtc")r.id=((y=this.credentials)==null?void 0:y.id)||((S=this.link.credentials)==null?void 0:S.id),s=yield this.connection.service.send(r,l);else{r.id=(O=this.link.credentials)==null?void 0:O.id,r.method||(r.method=((R=r.message)==null?void 0:R.length)>0?"POST":"GET");let T={method:r.method.toUpperCase(),mode:"cors",headers:{"Content-Type":"application/json"}};T.method!="GET"&&(T.body=Ya(r)),s=yield fetch(uc(r.route,this.link.target),T).then(I=>te(this,null,function*(){let L=I.body.getReader(),Y=I.headers.get("Content-Length"),H=0;if(globalThis.ReadableStream){let Z=new ReadableStream({start(P){let V=()=>te(this,null,function*(){L.read().then(({value:_,done:W})=>{if(W){P.close();return}H+=_.length,n(H/Y,Y),P.enqueue(_),V()})});V()}});return new Response(Z,{headers:I.headers})}else return I})),s=s&&(yield s.json().then(I=>{if(s.ok)return I;throw I.message}).catch(I=>te(this,null,function*(){throw"Invalid JSON"})))}return s&&!(s==null?void 0:s.route)&&(s.route=r.route,s.block=!0),s});this._subscribe=(...r)=>te(this,[...r],function*(e={}){let n=()=>new Promise(i=>te(this,null,function*(){var l;let o=(l=e.protocol)!=null?l:this.type;(o?[this.clients[o]]:Object.values(this.clients)).forEach(f=>te(this,null,function*(){var d;if(f&&e.force||(f==null?void 0:f.status)===!0&&(f==null?void 0:f.serviceType)==="subscription"){let m=`${(d=this.link.services.available[f==null?void 0:f.service])!=null?d:f.name.toLowerCase()}/subscribe`;if(f.setEndpoint(this.link),!this.connection){let y=this.type==="http"||this.type==="websocket"?new URL(m,this.target):this.target;console.log(y,this.target,m);let S=yield f.add(this.credentials,y.href);this.router&&f.addResponse("router",O=>{let R=typeof O=="string"?JSON.parse(O):O;Object.values(this.responses).forEach(T=>{T(R)}),this.router&&this.router.handleLocalRoute(R)}),this.connection={service:f,id:S,protocol:f.name}}this.type==="webrtc"&&(e.routes=[this.target]);let v=yield this.link.send(m,Object.assign({route:e.route,message:e.message,protocol:e.protocol},{message:[e.routes,this.credentials.id]}));i(this.connection);return}})),this.services.queue[o]||(this.services.queue[o]=[]),this.services.queue[o].push(()=>te(this,null,function*(){let f=yield n();i(f)}))}));return yield n()});this.subscribe=e=>{if(e){let r=on("response");return this.responses[r]=e,r}};this.unsubscribe=e=>{e?delete this.responses[e]:this.responses={}};let i,o;typeof e=="object"?e instanceof URL?i=e:(i=e.target,o=e.type,this.link=e.link,this.setCredentials(e.credentials)):i=e,o||(o="http"),this.link||(this.link=this),o==="http"||o==="websocket"?(i=i instanceof URL?i:new URL(i),this.id=i.origin):this.id=i,this.target=i,this.type=o,this.router=n,r&&(this.clients=r)}}});var T5,Q0,T2=tt(()=>{h0();Ja();ds();fc();b2();k2();T5="DONOTSEND",Q0=class{constructor(e={debug:!1}){this.id=on();this.USERS={};this.CONNECTIONS=new Map;this.SUBSCRIPTIONS=[];this.ENDPOINTS={};this.SERVICES={};this.ROUTES={};this.INTERVAL=10;this.DEFAULTROUTES=[{route:"ping",post:()=>"pong"},{route:"services/**",get:{object:this.SERVICES,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{let s=e[o];(s==null?void 0:s.serviceType)==="default"&&(n[o]=s.name)}),r.forEach((o,s)=>n=n[o]),n}}},{route:"/",aliases:["routes/**"],get:{object:this.ROUTES,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{o&&(n[o]={route:e[o].route.split("/").filter(s=>!s.match(/\*\*?/)).join("/"),args:e[o].args,wildcard:o.includes("*")})}),r.forEach((o,s)=>n=n[o]),n}}},{route:"sendMessage",aliases:["message","sendMsg"],post:(e,r)=>e.sendMsg(r[0],r[1],r[2])},{route:"setUserServerDetails",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;r[0]&&(i.username=r[0]),r[1]&&(i.password=r[1]),r[2]&&(i.props=r[2]),r[3]&&(i._id=r[3],i.id=r[3])}},{route:"setProps",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(typeof r=="object"&&!Array.isArray(r))return Object.assign(i.props,r),!0;if(Array.isArray(r)&&typeof r[1]=="object"){let o=e.USERS[r[0]];return o&&Object.assign(o.props,r[1]),!0}return!1}},{route:"getProps",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(r[0]){let o=e.USERS[r[0]];if(o)return o.props}else return i.props}},{route:"blockUser",post:(e,r,n)=>{let i=e.USERS[n];return i?this.blockUser(i,r[0]):!1}},{route:"users/**",get:{object:this.USERS,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{let s=e[o];n[o]={_id:s._id,username:s.username,origin:s.origin,props:s.props,updatedPropNames:s.updatedPropNames,lastUpdate:s.lastUpdate,lastTransmit:s.lastTransmit,latency:s.latency}}),r.forEach((o,s)=>n=n[o]),n}}},{route:"getUser",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(r[0]){let o=this.USERS[r[0]];if(o)return{_id:o._id,username:o.username,origin:o.origin,props:o.props,updatedPropNames:o.updatedPropNames,lastUpdate:o.lastUpdate,lastTransmit:o.lastTransmit,latency:o.latency}}else return{_id:i._id,username:i.username,origin:i.origin,props:i.props,updatedPropNames:i.updatedPropNames,lastUpdate:i.lastUpdate,lastTransmit:i.lastTransmit,latency:i.latency}}},{route:"login",aliases:["addUser","startSession"],post:(e,r,n)=>te(this,null,function*(){console.log("logging in",r);let i=yield e.addUser(r[0]);return{message:i,id:i.origin}})},{route:"logout",aliases:["removeUser","endSession"],post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;r[0]?e.removeUser(...r):e.removeUser(i)}}];this.protocols={};this.connect=(e,r)=>{let n=new X0(e,this.SERVICES,this);return this.ENDPOINTS[n.id]=n,n.check().then(i=>{i&&(r&&r(n),this.login(n,n.credentials))}),n};this.disconnect=e=>te(this,null,function*(){this.logout(this.ENDPOINTS[e]),delete this.ENDPOINTS[e]});this._loadBackend=(e,r=e.name)=>{var n;this.SERVICES[r]=e,this.SERVICES[r].status=!0,(n=e.routes)==null||n.forEach(i=>this.addRoute(Object.assign({service:r},i))),e.subscribe&&e.subscribe((i,o,s)=>te(this,null,function*(){let l=yield this.handleMessage(i,o);if(s==null?void 0:s.includes("worker"))if(l!==null&&e[s])e[s].postMessage({route:"worker/workerPost",message:l,origin:e.id,callbackId:i.callbackId});else return l;return l})),(e==null?void 0:e.serviceType)==="subscription"&&this.SUBSCRIPTIONS.push(e.updateSubscribers)};this._loadService=(n,...i)=>te(this,[n,...i],function*(e,r=e==null?void 0:e.name){return this._loadBackend(e,r),yield this._loadClient(e,r,!0)});this._loadClient=(e,r,n=!1)=>new Promise(i=>{let o=e.name;if(e.subscribe&&e.subscribe((s,l)=>te(this,null,function*(){var v;let f=this.SERVICES[o],d=f.status===!0,m;return l==="local"?m=yield this.handleLocalRoute(s):d&&(m=yield this.send({route:`${f.route}/${s.route}`,endpoint:e==null?void 0:e.endpoint},...(v=s.message)!=null?v:[])),m})),n)i(e);else{this.SERVICES[o]=e;let s=l=>{this.SERVICES[o].status=!0,e.setEndpointRoute instanceof Function&&e.setEndpointRoute(l),e.routes.forEach(f=>{this.ROUTES[`${l}/${f.route}`]=f}),i(e)};this.SERVICES[o].status===!0?s(this.SERVICES[o]):this.SERVICES[o].status=s}});this.get=(e,...r)=>this._send(e,"GET",...r);this.delete=(e,...r)=>this._send(e,"DELETE",...r);this.post=(e,...r)=>this._send(e,"POST",...r);this.send=this.post;this._send=(e,r,...n)=>te(this,null,function*(){let i;if(typeof e=="string"||(e==null?void 0:e.endpoint)==null?i=Object.values(this.ENDPOINTS)[0]:i=e.endpoint,!i)return;let o;return o=yield i.send(e,{message:n,method:r}),o&&this.handleLocalRoute(o,i),o==null?void 0:o.message});this.handleLocalRoute=(e,r,n)=>te(this,null,function*(){var i,o,s;if(r&&n&&!e.suppress&&r.connection&&((s=(o=(i=r.connection)==null?void 0:i.service)==null?void 0:o.responses)==null||s.forEach(l=>l(Object.assign({route:n},e)))),!e.block){let l=this.ROUTES[e==null?void 0:e.route];if((l==null?void 0:l.post)instanceof Function)return l.post(this,e.message,e.id)}});this.subscribe=(n,...i)=>te(this,[n,...i],function*(e,r={}){if(Object.keys(this.ENDPOINTS).length>0||(r==null?void 0:r.endpoint))return r.endpoint||(r.endpoint=Object.values(this.ENDPOINTS)[0]),yield r.endpoint._subscribe(r).then(s=>r.endpoint.subscribe(e));throw"Remote is not specified"});this.handleMessage=(e,r)=>te(this,null,function*(){var i;let n={};if(Array.isArray(e))n.route=e[0],n.message=e.slice(1),n.callbackId=void 0;else if(typeof e=="string"){let o=e.split(" ");n.route=o[0],n.message=o.slice(1),n.callbackId=void 0}else typeof e=="object"&&Object.assign(n,e);if(typeof n=="object"&&!Array.isArray(n)&&n.route!=null){console.log("runRoute",n.route);let o=yield this.runRoute(n.route,n.method,n.message,(i=n._id)!=null?i:n.id,n.callbackId);return o&&n.suppress&&(o.suppress=n.suppress),o}return null});e.interval&&(this.INTERVAL=e.interval),this.STATE=new Aw({},this.INTERVAL,void 0),this.DEBUG=e==null?void 0:e.debug,"onbeforeunload"in globalThis&&(globalThis.onbeforeunload=()=>{Object.values(this.ENDPOINTS).forEach(r=>{r.type!="webrtc"&&this.logout(r)})}),this.load({routes:this.DEFAULTROUTES}),this.DEBUG&&this.runCallback("routes",[!0]),(e==null?void 0:e.endpoints)&&e.endpoints.forEach(r=>this.connect(r))}login(e,r){return te(this,null,function*(){console.log("logging out"),yield this.logout(e),console.log("logging in");let n=Object.values(e?{endpoint:e}:this.ENDPOINTS),i=yield Promise.all(n.map(o=>te(this,null,function*(){let s=yield this.send({route:"login",endpoint:o},r);return console.log("logging in res",s),console.log("Resolved from server",s[0]),o.setCredentials(s[0]),s})));return console.log("Res",i),i?i[0]:i.reduce((o,s)=>o*s[0],!0)===1})}logout(e){return te(this,null,function*(){let r=yield Promise.all(Object.values(e?{endpoint:e}:this.ENDPOINTS).map(n=>te(this,null,function*(){return yield this.send({route:"logout",endpoint:n},n.credentials)})));return console.log("Res",r),r?r.reduce((n,i)=>n*(i==null?void 0:i[0]),!0)===1:!1})}load(n){return te(this,arguments,function*(e,r=e.name){let i=e.constructor.type==="client",o=!e.constructor.type||e.constructor.type==="service",s=e.constructor.type==="backend";return o&&(yield this._loadService(e,r)),s&&(yield this._loadBackend(e,r)),i&&(yield this._loadClient(e)),e})}format(e,r={}){return e!==void 0&&((!e||typeof e!="object"||!("message"in e)&&!("route"in e))&&(e={message:e}),Array.isArray(e.message)||(e.message=[e.message]),r.service&&(e==null?void 0:e.route)&&(e.route=`${r.service}/${e.route}`),r.headers&&(e.headers=r.headers)),(e==null?void 0:e.route)&&(e.route=e.route.replace(/\/\*\*?/,"")),e}runRoute(s,l){return te(this,arguments,function*(e,r,n=[],i,o){try{return e==null?void 0:(!r&&Array.isArray(n)&&(r=n.length>0?"POST":"GET"),this.DEBUG&&console.log("route",e),yield this.runCallback(e,n,i,r).then(f=>{if(this.DEBUG&&console.log("Result:",f),f!==void 0)return f=this.format(f),f.callbackId=o,this.ROUTES[f.route]&&(f.block=!0),f.message===T5?void 0:f}).catch(console.error))}catch(f){return new Error("Route failed...")}})}addUser(e={},r=cc(e)){var n,i,o;if(console.log("Trying to add",e),e){let s=this.USERS[r._id],l=s!=null?s:{id:(n=e.id)!=null?n:r.id,_id:(i=e._id)!=null?i:r._id,username:(o=e.id)!=null?o:r.id,origin:r._id,props:{},updatedPropNames:[],sessions:[],blocked:[],lastUpdate:Date.now(),lastTransmit:0,latency:0,routes:new Map};Object.assign(l,e),this.DEBUG&&console.log("Adding User, Id:",e._id,"Credentials:",r),this.USERS[r._id]=l;for(let f in this.SERVICES){let d=this.SERVICES[f];if(d.status===!0){let m=d.name+"/users";Ga(m).forEach(y=>{this.ROUTES[y]&&this.runRoute(y,"POST",[l],r._id)})}}return console.log("ADDED USER",l),l}else return!1}removeUser(e){let r=typeof e=="string"?this.USERS[e]:e;return r?(Object.values(this.SERVICES).forEach(n=>{if(n.status===!0){let i=n.name+"/users";this.ROUTES[i]&&this.runRoute(i,"DELETE",[r],r.id)}}),delete r.id,!0):!1}blockUser(e,r=""){return this.USERS[r]&&!e.blocked.includes(r)&&e.id!==r?(e.blocked.push(r),!0):!1}sendMsg(e="",r="",n=void 0){var o;let i=n?Object.assign(n,{message:r}):{message:r};if(typeof e=="string"){let s=this.USERS[e];if(s.send)return s.send(i),!0;console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${e} does not have anything to receive your message...`)}else if(typeof e=="object"){if(e.send)return e.send(i),!0;console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${(o=e.username)!=null?o:e.id} does not have anything to receive your message...`)}return!1}addRoute(e){e=Object.assign({},e);let r=[e.route,...e.aliases?e.aliases:[]];return delete e.aliases,r.forEach(n=>{var i,o;if(!n||!e.post&&!e.get)return!1;n=e.route=`${e.service?`${e.service}/`:""}`+n,this.removeRoute(n),n[0]==="/"&&(n=n.slice(1)),e.args=S2(e.post),this.ROUTES[n]=Object.assign(e,{route:n}),e.get&&(this.STATE.setState({[n]:(o=(i=e.get)==null?void 0:i.object)!=null?o:e.get}),this.STATE.subscribe(n,s=>{var f;let l=((f=e.get)==null?void 0:f.transform)?e.get.transform(s):s;this.SUBSCRIPTIONS.forEach(d=>d(this,{route:n,message:l}))}))}),!0}removeRoute(e){return delete this.ROUTES[e]}runCallback(e,r=[],n,i=r.length>0?"POST":"GET"){return new Promise(o=>te(this,null,function*(){let s=Ga(e),l={route:e,block:!0,message:{html:E2},headers:{"Content-Type":"text/html"}};Promise.all(s.map(f=>te(this,null,function*(){var m;let d=this.ROUTES[f];if(d){this.DEBUG&&console.log("routeInfo",d);try{let v;if((d==null?void 0:d.delete)&&i.toUpperCase()==="DELETE")v=yield d.delete(this,r,n);else if(i.toUpperCase()==="GET"||!(d==null?void 0:d.post)){let y=this.STATE.data[d.route];if(y){let S=e.replace(d.route.split("/").filter(O=>O!="*"&&O!="**").join("/"),"").split("/").filter(O=>!!O);v={message:((m=d.get)==null?void 0:m.transform)?yield d.get.transform(y,...S):y}}else v=l}else(d==null?void 0:d.post)?v=yield d==null?void 0:d.post(this,r,n):v=l;o(this.format(v,d))}catch(v){console.log("Callback Failed: ",v)}}}))).then(f=>o(l))}))}checkRoutes(e){return te(this,null,function*(){var n,i;if(!e.data)return;let r=(i=(n=this.ROUTES[e.data.foo])!=null?n:this.ROUTES[e.data.route])!=null?i:this.ROUTES[e.data.functionName];return r||(r=this.ROUTES[e.data.foo]),r?e.data.message?yield r.post(this,e.data.message,e.data.origin):void 0:!1})}}});var F2=xe((PI,D2)=>{var ep=Math.floor(Math.random()*16777215),N2=Ye.index=parseInt(Math.random()*16777215,10),I2=(typeof process>"u"||typeof process.pid!="number"?Math.floor(Math.random()*1e5):process.pid)%65535,hc=function(t){return!!(t!=null&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))},R2=[];for(gr=0;gr<256;gr++)R2[gr]=(gr<=15?"0":"")+gr.toString(16);var gr,A2=new RegExp("^[0-9a-fA-F]{24}$"),Ka=[];gr=0;for(;gr<10;)Ka[48+gr]=gr++;for(;gr<16;)Ka[65-10+gr]=Ka[97-10+gr]=gr++;function Ye(t){if(!(this instanceof Ye))return new Ye(t);if(t&&(t instanceof Ye||t._bsontype==="ObjectID"))return t;if(this._bsontype="ObjectID",t==null||typeof t=="number"){this.id=this.generate(t);return}var e=Ye.isValid(t);if(!e&&t!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(e&&typeof t=="string"&&t.length===24)return Ye.createFromHexString(t);if(t!=null&&t.length===12)this.id=t;else{if(t!=null&&typeof t.toHexString=="function")return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}D2.exports=Ye;Ye.default=Ye;Ye.createFromTime=function(t){return t=parseInt(t,10)%4294967295,new Ye(I5(8,t)+"0000000000000000")};Ye.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var e="",r=0;r<24;)e+=String.fromCharCode(Ka[t.charCodeAt(r++)]<<4|Ka[t.charCodeAt(r++)]);return new Ye(e)};Ye.isValid=function(t){return t==null?!1:typeof t=="number"?!0:typeof t=="string"?t.length===12||t.length===24&&A2.test(t):t instanceof Ye||hc(t)?!0:typeof t.toHexString=="function"&&(t.id instanceof _Buffer||typeof t.id=="string")?t.id.length===12||t.id.length===24&&A2.test(t.id):!1};Ye.prototype={constructor:Ye,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(hc(this.id))return this.id.toString("hex");for(var t="",e=0;e<this.id.length;e++)t+=R2[this.id.charCodeAt(e)];return t},equals:function(t){return t instanceof Ye?this.toString()===t.toString():typeof t=="string"&&Ye.isValid(t)&&t.length===12&&hc(this.id)?t===this.id.toString("binary"):typeof t=="string"&&Ye.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&Ye.isValid(t)&&t.length===12?t===this.id:t!=null&&(t instanceof Ye||t.toHexString)?t.toHexString()===this.toHexString():!1},getTimestamp:function(){var t=new Date,e;return hc(this.id)?e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:e=this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(Math.floor(e)*1e3),t},generate:function(t){typeof t!="number"&&(t=~~(Date.now()/1e3)),t=parseInt(t,10)%4294967295;var e=N5();return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255,ep>>16&255,ep>>8&255,ep&255,I2>>8&255,I2&255,e>>16&255,e>>8&255,e&255)}};function N5(){return N2=(N2+1)%16777215}function I5(t,e){return e=e.toString(16),e.length===t?e:"00000000".substring(e.length,t)+e}var A5=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";Ye.prototype[A5]=function(){return"ObjectID("+this+")"};Ye.prototype.toJSON=Ye.prototype.toHexString;Ye.prototype.toString=Ye.prototype.toHexString});var C2,Za,tp=tt(()=>{ds();Za=class{constructor(e){this.id=on("service");this.name="service";this.callbacks=new Map;this.status=!1;this.serviceType="default";this.routes=[];this.delegate=(C2=globalThis==null?void 0:globalThis.document)==null?void 0:C2.createDocumentFragment();this.protocols={};this.services={};this.setEndpointRoute=e=>{this.route=e};this.notify=(e,r,n)=>te(this,null,function*(){let i=[];return yield Promise.all(Array.from(this.callbacks).map((o,s)=>te(this,null,function*(){let l=yield o[1](e,r,n);l&&!(l instanceof Error)&&i.push(l)}))),i==null?void 0:i[0]});this.setEndpoint=e=>{this.endpoint=e};this.subscribe=e=>{if(e instanceof Function){let r=on();return this.callbacks.set(r,e),r}else return};this.unsubscribe=e=>this.callbacks.delete(e);this.router=e}addEventListener(...e){var r;(r=this.delegate)==null||r.addEventListener.apply(this.delegate,e)}dispatchEvent(...e){var r;return(r=this.delegate)==null?void 0:r.dispatchEvent.apply(this.delegate,e)}removeEventListener(...e){var r;return(r=this.delegate)==null?void 0:r.removeEventListener.apply(this.delegate,e)}}});var L2,Mt,R5,P2,M2,j2=tt(()=>{L2=Rt(F2());tp();ds();Mt=t=>typeof t=="string"&&t.length===24?(0,L2.default)(t):t,R5=["user","group","authorization","discussion","chatroom","comment","dataInstance","event","notification","schedule","date"],P2=class extends Za{constructor(e,r={},n=!1){super(e);this.name="structs";this.collections={};this.debug=!1;this.wipeDB=()=>te(this,null,function*(){return yield Promise.all(Object.values(this.collections).map(e=>e.instance.deleteMany({}))),!0});this.db=r==null?void 0:r.db,this.debug=n,this.mode=this.db&&r.mode?r.mode:"local",r.collections||(r.collections={}),R5.forEach(i=>{r.collections[i]||(r.collections[i]=this.db?{instance:this.db.collection(i)}:{},r.collections[i].reference={})}),this.collections=r.collections,this.routes=[{route:"getUser",post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(this.debug&&console.log("getUser origin",s,o,"user found:",l),!l)return!1;let f;if(this.mode==="mongo")f=yield this.getMongoUser(l,o[0]);else{let d=this.getLocalData("user",{_id:o[0]});if(!d)f={user:{}};else if(yield this.checkAuthorization(l,d)){let v=this.getLocalData("group",{ownerId:o[0]}),y=this.getLocalData("authorization",{ownerId:o[0]});f={user:d,groups:v,authorizations:y}}else f={user:{}}}return this.debug&&console.log("getUser:",l,o[0],f),f})},{route:"setUser",aliases:["addUser"],post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode==="mongo")f=yield this.setMongoUser(l,o[0]);else return(yield this.checkAuthorization(l,o[0],"WRITE"))&&this.setLocalData(o[0]),!0;return this.debug&&console.log("setUser",l,o[0],f),f})},{route:"getUsersByIds",post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode==="mongo")f=yield this.getMongoUsersByIds(l,o[0]);else if(f=[],Array.isArray(o[0])){let d=this.getLocalData("user",{_id:o[0]});d&&f.push(d)}return this.debug&&console.log("getUserByIds:",l,o[0],f),f})},{route:"getUsersByRoles",post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoUsersByRoles(l,o[0]);else{let d=this.getLocalData("user");f=[],d.forEach(m=>{var v;((v=m.userRoles)==null?void 0:v.includes(o[0]))&&f.push(m)})}return this.debug&&console.log("getUserByRoles",l,o[0],f),f})},{route:"deleteUser",aliases:["removeUser"],post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode==="mongo")f=yield this.deleteMongoUser(l,o[0]);else{f=!1;let d=this.getLocalData(o[0]);d&&this.checkAuthorization(l,d,"WRITE")&&(f=this.deleteLocalData(d))}return this.debug&&console.log("deleteUser:",l,o[0],f),f})},{route:"setData",aliases:["setMongoData"],post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode.includes("mongo"))f=yield this.setMongoData(l,o);else{let d=[];return f=[],yield Promise.all(o.map(m=>te(this,null,function*(){let v=this.getLocalData(m);(yield this.checkAuthorization(l,v,"WRITE"))&&(this.setLocalData(v),f.push(v),v.structType!=="notification"&&d.push(v))}))),d.length>0&&this.checkToNotify(l,d,this.mode),this.debug&&console.log("setData:",l,o,f),!0}return this.debug&&console.log("setData:",l,o,f),f})},{route:"getData",aliases:["getMongoData","getUserData"],post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoData(l,o[0],o[1],o[2],o[4],o[5]);else{f=[];let d;o[0]&&(d=this.getLocalData(o[0])),d&&o[1]&&(d=d.filter(m=>{if(m.ownerId===o[1])return!0})),d&&(yield Promise.all(d.map(m=>te(this,null,function*(){let v=this.getLocalData(m._id);(yield this.checkAuthorization(l,v))&&f.push(v)}))))}return this.debug&&console.log("getData:",l,o,f),f})},{route:"getDataByIds",aliases:["getMongoDataByIds","getUserDataByIds"],post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoDataByIds(l,o[0],o[1],o[2]);else{f=[];let d;o[2]&&(d=this.getLocalData(o[2])),d&&o[1]&&(d=d.filter(m=>{if(m.ownerId===o[1])return!0})),d&&(yield Promise.all(d.map(m=>te(this,null,function*(){let v=this.getLocalData(m._id);(yield this.checkAuthorization(l,v))&&f.push(v)}))))}return this.debug&&console.log("getDataByIds:",l,o,f),f})},{route:"getAllData",post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getAllUserMongoData(l,o[0],o[1]);else{let d=this.getLocalData(void 0,{ownerId:o[0]});f=[],yield Promise.all(d.map(m=>te(this,null,function*(){o[1]?o[1].indexOf(m.structType)<0&&(yield this.checkAuthorization(l,m))&&f.push(m):(yield this.checkAuthorization(l,m))&&f.push(m)})))}return this.debug&&console.log("getAllData:",l,o,f),f})},{route:"deleteData",post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;return this.mode.includes("mongo")?f=yield this.deleteMongoData(l,o):(f=!1,yield Promise.all(o.map(d=>te(this,null,function*(){let m=this.getLocalData(d);(yield this.checkAuthorization(l,m,"WRITE"))&&this.deleteLocalData(m),f=!0})))),this.debug&&console.log("deleteData:",l,o,f),f})},{route:"getGroup",aliases:["getGroups"],post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoGroups(l,o[0],o[1]);else if(typeof o[1]=="string")f=this.getLocalData("group",{_id:o[1]});else{f=[];let d=this.getLocalData("group");o[0]?d.forEach(m=>{m.users.includes(o[0])&&f.push(m)}):d.forEach(m=>{m.users.includes(l._id)&&f.push(m)})}return this.debug&&console.log("getGroups:",l,o,f),f})},{route:"setGroup",post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f=yield this.setGroup(l,o[0],this.mode);this.debug&&console.log("setGroup:",l,o,f)})},{route:"deleteGroup",post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode.includes("mongo"))f=yield this.deleteMongoGroup(l,o[0]);else{let d=this.getLocalData("group",o[0]),m=!1;d&&(m=yield this.checkAuthorization(l,d,"WRITE")),m&&(f=!0)}return this.debug&&console.log("deleteGroup:",l,o,f),f})},{route:"setAuth",post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f=yield this.setAuthorization(l,o[0],this.mode);return this.debug&&console.log("deleteGroup:",l,o,f),f})},{route:"getAuths",post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoAuthorizations(l,o[0],o[1]);else if(o[1]){let d=this.getLocalData("authorization",{_id:o[1]});d&&(f=[d])}else f=this.getLocalData("authorization",{ownerId:o[0]});return this.debug&&console.log("deleteGroup:",l,o,f),f})},{route:"deleteAuth",post:(i,o,s)=>te(this,null,function*(){let l=i.USERS[s];if(!l)return!1;let f;if(this.mode.includes("mongo"))f=yield this.deleteMongoAuthorization(l,o[0]);else{f=!0;let d=this.getLocalData("authorization",{_id:o[0]});d&&this.checkAuthorization(l,d,"WRITE")&&(f=this.deleteLocalData(d))}return this.debug&&console.log("deleteGroup:",l,o,f),f})}]}notificationStruct(e={}){let r="notification";return{structType:r,timestamp:Date.now(),id:on(r),note:"",ownerId:"",parentUserId:"",parent:{structType:e==null?void 0:e.structType,_id:e==null?void 0:e._id}}}checkToNotify(i){return te(this,arguments,function*(e,r=[],n=this.mode){if(typeof e=="string")for(let l in this.router.USERS){let f=this.router.USERS[l];f._id===e&&(e=f)}if(typeof e=="string"||e==null)return!1;let o={},s=[];if(r.forEach(l=>te(this,null,function*(){if((e==null?void 0:e._id)!==l.ownerId){let f=this.notificationStruct(l);f.id="notification_"+l._id,f.ownerId=l.ownerId,f.note=l.structType,f.parentUserId=l.ownerId,s.push(f),o[l.ownerId]=l.ownerId}if(l.users)l.users.forEach(f=>{if(f!==e._id){let d=this.notificationStruct(l);d.id="notification_"+l._id,d.ownerId=f,d.note=l.structType,d.parentUserId=l.ownerId,s.push(d),o[f]=f}});else{let f=[];if(n==="mongo"){let d=this.collections.authorizations.instance.find({$or:[{authorizedId:e._id},{authorizerId:e._id}]});(yield d.count())>0&&(yield d.forEach(m=>f.push(m)))}else f=this.getLocalData("authorization",{authorizedId:e._id}),f.push(...this.getLocalData("authorization",{authorizerId:e._id}));f.length>0&&f.forEach(d=>{if(l.authorizerId===l.ownerId&&!o[l.authorizedId]&&d.status==="OKAY"&&d.authorizations.indexOf("peer")>-1){let m=this.notificationStruct(l);m.ownerId=d.authorizedId,m.id="notification_"+l._id,m.note=l.structType,m.parentUserId=l.ownerId,s.push(m),o[m.ownerId]=m.ownerId}})}})),s.length>0){n==="mongo"?yield this.setMongoData(e,s):this.setLocalData(s);for(let l in o)this.router.sendMsg(l,"notifications",!0);return!0}else return!1})}setMongoData(n){return te(this,arguments,function*(e,r=[]){let i=!1;if(r.length>0){let o=!0,s="";if(yield Promise.all(r.map(l=>te(this,null,function*(){if(((e==null?void 0:e._id)!==l.ownerId||e._id===l.ownerId&&e.userRoles.includes("admin_control"))&&s!==l.ownerId&&(o=yield this.checkAuthorization(e,l,"WRITE"),s=l.ownerId),o){let f=JSON.parse(JSON.stringify(l));f._id&&delete f._id,l.id?l.id.includes("defaultId")?(yield this.db.collection(l.structType).insertOne(f),i=!0):yield this.db.collection(l.structType).updateOne({id:l.id},{$set:f},{upsert:!0}):l._id&&(l._id.includes("defaultId")?(yield this.db.collection(l.structType).insertOne(f),i=!0):yield this.db.collection(l.structType).updateOne({_id:Mt(l._id)},{$set:f},{upsert:!1}))}}))),i===!0){let l=[];return yield Promise.all(r.map((f,d)=>te(this,null,function*(){let m=JSON.parse(JSON.stringify(f));if(m._id&&delete m._id,f.structType!=="comment"){let v;f.structType!=="notification"&&(v=yield this.db.collection(m.structType).findOne(m)),v&&(v._id=v._id.toString(),l.push(v))}else if(f.structType==="comment"){let v=f,y=JSON.parse(JSON.stringify(v));y._id&&delete y._id;let S=yield this.db.collection("comment").findOne(y),O=v.replyTo,R=r.find(T=>{if(T._id===O)return!0});if(R){let T=JSON.parse(JSON.stringify(R));T._id&&delete T._id;let I;if(yield Promise.all(["discussion","chatroom","comment"].map(L=>te(this,null,function*(){let Y=yield this.db.collection(L).findOne({_id:Mt(O)});Y&&(I=Y)}))),I){let L=v.parent._id,Y,H;if(L!==O?(Y=r.find(P=>{if(P._id===L)return!0}),Y&&(delete Y._id,yield Promise.all(["discussion","chatroom"].map(P=>te(this,null,function*(){let V=yield this.db.collection(P).findOne(Y);V&&(H=V)}))))):H=I,I){let P=I.replies.indexOf(v._id);P>-1&&(I.replies[P]=S._id.toString(),S.replyTo=I._id.toString())}if(H){let P=H.comments.indexOf(v._id);P>-1&&(H.comments[P]=S._id.toString(),S.parent._id=H._id.toString())}let Z=[S,I];H._id.toString()!==I._id.toString()&&Z.push(H),yield Promise.all(Z.map(P=>te(this,null,function*(){let V=JSON.parse(JSON.stringify(P));delete V._id,yield this.db.collection(P.structType).updateOne({_id:Mt(P._id)},{$set:V},{upsert:!1})}))),[...l].reverse().forEach((P,V)=>{Z.find(_=>{if(P._id.toString()===_._id.toString())return!0})&&l.splice(l.length-V-1,1)}),l.push(...Z)}}else S&&l.push(S)}}))),this.checkToNotify(e,l),l}else{let l=[];return r.forEach(f=>{f.structType!=="notification"&&l.push(f)}),this.checkToNotify(e,l),!0}}else return!1})}setMongoUser(e,r){return te(this,null,function*(){if(r._id){if((e._id!==r.ownerId||e._id===r.ownerId&&e.userRoles.includes("admin_control"))&&!(yield this.checkAuthorization(e,r,"WRITE")))return!1;let n=JSON.parse(JSON.stringify(r));n._id&&delete n._id,this.router.DEBUG&&console.log("RETURNS PROFILE",r);let i=Mt(r._id),o=i!==r._id?{_id:i}:{id:r.id};return yield this.collections.users.instance.updateOne(o,{$set:n},{upsert:!0}),e=yield this.collections.users.instance.findOne(o),this.checkToNotify(e,[r]),e}else return!1})}setGroup(i){return te(this,arguments,function*(e,r={},n=this.mode){if(r._id){let o;if(n==="mongo"?o=yield this.collections.groups.instance.findOne({name:r.name}):o=this.getLocalData("group",{_id:r._id}),o&&(o.ownerId!==r.ownerId||r.admins.indexOf(e._id)<0)||e._id!==r.ownerId&&!(yield this.checkAuthorization(e,r,"WRITE")))return!1;let s=[];r.users.forEach(S=>{s.push({email:S},{id:S},{username:S})});let l=[],f=[];if(n==="mongo"){let S=this.collections.users.instance.find({$or:s});(yield S.count())>0&&(yield S.forEach(O=>{l.push(O),f.push(O._id)}))}else s.forEach(S=>{let O=this.getLocalData("user",S);O.length>0&&(l.push(O[0]),f.push(O[0]._id))});r.users=f;let d=[],m=[],v=[];l.forEach(S=>{r.admins.find((O,R)=>{if(O===S._id||O===S.email||O===S.username||S._id===r.ownerId)return d.indexOf(S._id<0)&&d.push(S._id),!0}),r.peers.find((O,R)=>{if(O===S._id||O===S.email||O===S.username)return m.indexOf(S._id<0)&&m.push(S._id),!0}),r.clients.find((O,R)=>{if(O===S._id||O===S.email||O===S.username)return v.indexOf(S._id<0)&&v.push(S._id),!0})}),r.admins=d,r.peers=m,r.clients=v;let y=JSON.parse(JSON.stringify(r));return y._id&&delete y._id,n==="mongo"?r._id.includes("defaultId")?yield this.db.collection(r.structType).insertOne(y):yield this.collections.groups.instance.updateOne({_id:Mt(r._id)},{$set:y},{upsert:!0}):this.setLocalData(r),this.checkToNotify(e,[r],this.mode),r}else return!1})}getMongoUser(e,r="",n=!1){return te(this,null,function*(){return new Promise(i=>te(this,null,function*(){let o=[{email:r},{id:r},{username:r}];try{o.push({_id:Mt(r)})}catch(l){}let s=yield this.collections.users.instance.findOne({$or:o});if(!s||s==null)i({});else if(!s._id&&s._id?s._id=s._id.toString():!s._id&&s._id&&(s._id=s._id),s.ownerId||(s.ownerId=s._id),s&&n===!1){(e._id!==s._id||e._id===s._id&&e.userRoles.includes("admin_control"))&&((yield this.checkAuthorization(e,s))||i(void 0));let l=[],f=this.collections.authorizations.instance.find({ownerId:s._id});(yield f.count())>0&&(yield f.forEach(v=>l.push(v)));let d=this.collections.groups.instance.find({users:{$all:[s._id]}}),m=[];(yield d.count())>0&&(yield d.forEach(v=>m.push(v))),s.authorizations=l,s.groups=m,i(s)}else i(s)}))})}getMongoUsersByIds(){return te(this,arguments,function*(e={},r=[]){let n=[];r.forEach(o=>{try{n.push({_id:Mt(o)})}catch(s){}});let i=[];if(n.length>0){let o=this.collections.users.instance.find({$or:n});(yield o.count())>0&&(yield o.forEach(s=>{i.push(s)}))}return i})}getMongoUsersByRoles(){return te(this,arguments,function*(e={},r=[]){let n=this.collections.users.instance.find({userRoles:{$all:r}}),i=[];return(yield n.count())>0&&(yield n.forEach(o=>{i.push(o)})),i})}getMongoDataByIds(e,r,n,i){return te(this,null,function*(){if(r.length>0){let o=[];r.forEach(l=>{let f={_id:l};n&&(f.ownerId=n),o.push(f)});let s=[];if(!i)yield Promise.all(Object.keys(this.collections).map(l=>te(this,null,function*(){let f=yield this.db.collection(l).find({$or:o});if((yield f.count())>0){let d=!0,m="";yield f.forEach(v=>te(this,null,function*(){(e._id!==v.ownerId||e._id===v.ownerId&&e.userRoles.includes("admincontrol"))&&m!==v.ownerId&&(d=yield this.checkAuthorization(e,v),m=v.ownerId),d&&s.push(v)}))}})));else{let l=yield this.db.collection(i).find({$or:o});if((yield l.count())>0){let f=!0,d="";yield l.forEach(m=>te(this,null,function*(){(e._id!==m.ownerId||e._id===m.ownerId&&e.userRoles.includes("admincontrol"))&&d!==m.ownerId&&(f=yield this.checkAuthorization(e,m),d=m.ownerId),f&&s.push(m)}))}}return s}})}getMongoData(l,f,d){return te(this,arguments,function*(e,r,n,i={},o=0,s=0){n||(n=i==null?void 0:i.ownerId),i._id&&(i._id=Mt(i._id));let m=[],v=!0,y="";if(!r&&!n&&!i)return[];if(!r&&n&&Object.keys(i).length===0)return yield this.getAllUserMongoData(e,n);if(!i&&n){let S=this.db.collection(r).find({ownerId:n}).sort({$natural:-1}).skip(s);o>0&&S.limit(o),(yield S.count())>0&&(yield S.forEach(O=>te(this,null,function*(){(e._id!==O.ownerId||e._id===O.ownerId&&e.userRoles.includes("admincontrol"))&&y!==O.ownerId&&(v=yield this.checkAuthorization(e,O),y=O.ownerId),v===!0&&m.push(O)})))}else if(Object.keys(i).length>0&&n){let S=yield this.db.collection(r).findOne(Dm({ownerId:n},i));S&&m.push(S)}else Object.keys(i).length>0&&!n&&(yield Promise.all(Object.keys(this.collections).map(S=>te(this,null,function*(){let O=yield this.db.collection(S).findOne(i);if(O){(e._id!==O.ownerId||e._id===O.ownerId&&e.userRoles.includes("admincontrol"))&&y!==O.ownerId&&(v=yield this.checkAuthorization(e,O),y=O.ownerId),m.push(O);return}}))));return v?m:[]})}getAllUserMongoData(i,o){return te(this,arguments,function*(e,r,n=[]){let s=[],l=!0,f="";return yield Promise.all(Object.keys(this.collections).map((d,m)=>te(this,null,function*(){if(l&&n.indexOf(d)<0){let v=this.db.collection(d).find({ownerId:r}),y=yield v.count();for(let S=0;S<y;S++){let O=yield v.next();(e._id!==r||e._id===r&&e.userRoles.includes("admincontrol"))&&f!==r&&(l=yield this.checkAuthorization(e,O),f=r),l&&s.push(O)}}}))),l?s:[]})}getMongoDataByRefs(n){return te(this,arguments,function*(e,r=[]){let i=[];if(i.length>0){let o="";r.forEach(s=>te(this,null,function*(){if(s.structType&&s._id){let l=yield this.db.collection(s.structType).findOne({_id:Mt(s._id)});if(l){let f=!0;if((e._id!==l.ownerId||e._id===l.ownerId&&e.userRoles.includes("admincontrol"))&&o!==l.ownerId){let d=yield this.checkAuthorization(e,l);o=l.ownerId}f===!0&&i.push(l)}}}))}return i})}getMongoAuthorizations(i){return te(this,arguments,function*(e,r=e._id,n=""){let o=[];if(n.length===0){let s=this.collections.authorizations.instance.find({ownerId:r});(yield s.count)>0&&(yield s.forEach(l=>{o.push(l)}))}else o.push(yield this.collections.authorizations.instance.findOne({_id:Mt(n),ownerId:r}));if(!(e._id!==o[0].ownerId&&!(yield this.checkAuthorization(e,o[0]))))return o})}getMongoGroups(i){return te(this,arguments,function*(e,r=e._id,n=""){let o=[];if(n.length===0){let s=this.collections.groups.instance.find({users:{$all:[r]}});(yield s.count)>0&&(yield s.forEach(l=>{o.push(l)}))}else try{o.push(yield this.collections.groups.instance.findOne({_id:Mt(n),users:{$all:[r]}}))}catch(s){}return o})}deleteMongoData(n){return te(this,arguments,function*(e,r=[]){let i=[];yield Promise.all(r.map(s=>te(this,null,function*(){try{let l=Mt(s._id),f=yield this.db.collection(s.structType).findOne({_id:l});if(f){i.push(f);let d=yield this.collections.notifications.instance.find({parent:{structType:s.structType,id:s._id}}),m=yield d.count();for(let v=0;v<m;v++){let y=yield d.next();y&&i.push(y)}}}catch(l){}})));let o="";return yield Promise.all(i.map((s,l)=>te(this,null,function*(){var d;let f=!0;(s.ownerId!==e._id||e._id===s.ownerId&&((d=e.userRoles)==null?void 0:d.includes("admincontrol")))&&s.ownerId!==o&&(o=s.ownerId,f=yield this.checkAuthorization(e,s,"WRITE")),f&&(yield this.db.collection(s.structType).deleteOne({_id:Mt(s._id)}),s.users&&s.users.forEach(m=>{m!==e._id&&m!==s.ownerId&&this.router.sendMsg(m,"deleted",s._id)}),s.ownerId!==e._id&&this.router.sendMsg(s.ownerId,"deleted",s._id))}))),!0})}deleteMongoUser(e,r){return te(this,null,function*(){if(e._id!==r||e._id===r&&e.userRoles.includes("admincontrol")){let n=yield this.collections.users.instance.findOne({id:r});if(!(yield this.checkAuthorization(e,n,"WRITE")))return!1}return yield this.collections.users.instance.deleteOne({id:r}),e._id!==r&&this.router.sendMsg(r,"deleted",r),!0})}deleteMongoGroup(e,r){return te(this,null,function*(){let n=yield this.collections.groups.instance.findOne({_id:Mt(r)});return n?(e._id!==n.ownerId||e._id===n.ownerId&&e.userRoles.includes("admincontrol"))&&!(yield this.checkAuthorization(e,n,"WRITE"))?!1:(n.users&&n.users.forEach(i=>{this.router.sendMsg(n.authorizerId,"deleted",n._id)}),yield this.collections.groups.instance.deleteOne({_id:Mt(r)}),!0):!1})}deleteMongoAuthorization(e,r){return te(this,null,function*(){let n=yield this.collections.authorizations.instance.findOne({_id:Mt(r)});return n?(e._id!==n.ownerId||e._id===n.ownerId&&e.userRoles.includes("admincontrol"))&&!(yield this.checkAuthorization(e,n,"WRITE"))?!1:(n.associatedAuthId&&(this.router.DEBUG&&console.log(n),yield this.collections.authorizations.instance.deleteOne({_id:Mt(n.associatedAuthId)}),n.authorizerId!==e._id?this.router.sendMsg(n.authorizerId,"deleted",n._id):n.authorizedId!==e._id&&this.router.sendMsg(n.authorizedId,"deleted",n._id)),yield this.collections.authorizations.instance.deleteOne({_id:Mt(r)}),!0):!1})}setAuthorization(i,o){return te(this,arguments,function*(e,r,n=this.mode){let s,l;if(n==="mongo"?(s=yield this.getMongoUser(e,r.authorizedId,!0),l=yield this.getMongoUser(e,r.authorizerId,!0)):(s=this.getLocalData("user",{_id:r.authorizedId}),l=this.getLocalData("user",{_id:r.authorizedId})),!s||!l||(r.authorizedId!==s._id&&(r.authorizedId=s._id),r.authorizerId!==l._id&&(r.authorizerId=l._id),r.authorizedName||(s.username?r.authorizedName=s.username:s.email&&(r.authorizedName=s.email)),r.authorizerName||(s.username?r.authorizerName=s.username:s.email&&(r.authorizerName=s.email)),(e._id!==r.ownerId||e._id===r.ownerId&&e.userRoles.includes("admincontrol"))&&e._id!==r.authorizedId&&e._id!==r.authorizerId&&!(yield this.checkAuthorization(e,r,"WRITE"))))return!1;let f=[];if(n==="mongo"){let v=this.collections.authorizations.instance.find({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId}]});(yield v.count())>0&&(yield v.forEach(y=>f.push(y)))}else{let v=this.getLocalData("authorization",{authorizedId:r.authorizedId});Array.isArray(v)&&v.forEach(y=>{y.authorizerId===r.authorizerId&&f.push(y)})}let d;Array.isArray(f)&&f.forEach(v=>te(this,null,function*(){if(v.ownerId!==e._id){r.authorizerId===e._id?(v.authorizations=r.authorizations,v.structIds=r.structIds,v.excluded=r.excluded,v.expires=r.expires,v.status="OKAY",r.status="OKAY"):(r.authorizations=v.authorizations,r.structIds=v.structIds,r.excluded=v.excluded,r.expires=v.expires,v.status="OKAY",r.status="OKAY"),r.associatedAuthId=v._id.toString(),v.associatedAuthId=r._id.toString(),d=v;let y=JSON.parse(JSON.stringify(v));this.mode.includes("mongo")?(delete y._id,yield this.collections.authorizations.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:v.ownerId}]},{$set:y},{upsert:!0})):this.setLocalData(y)}}));let m=JSON.parse(JSON.stringify(r));if(n==="mongo"?(delete m._id,yield this.collections.authorizations.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:r.ownerId}]},{$set:m},{upsert:!0})):this.setLocalData(m),r._id.includes("defaultId")&&n==="mongo"){let v=yield this.collections.authorizations.instance.findOne(m);if(v&&(r._id=v._id.toString(),d)){let y=yield this.collections.authorizations.instance.findOne({$and:[{authorizedId:d.authorizedId},{authorizerId:d.authorizerId},{ownerId:d.ownerId}]});y&&(y.associatedAuthId=r._id,delete y._id,yield this.collections.authorizations.instance.updateOne({$and:[{authorizedId:y.authorizedId},{authorizerId:y.authorizerId},{ownerId:y.ownerId}]},{$set:y},{upsert:!0}),this.checkToNotify(e,[y]))}}return r})}checkAuthorization(o,s){return te(this,arguments,function*(e,r,n="READ",i=this.mode){var m,v,y;if(!e||!r)return!1;if(typeof e=="object"){if(r.ownerId===e._id&&!((m=e.userRoles)==null?void 0:m.includes("admin_control")))return!0}else if(typeof e=="string"){if(r.ownerId===e)return!0;e={_id:e}}let l,f;if(i==="mongo"?(l=yield this.collections.authorizations.instance.findOne({$or:[{authorizedId:e._id,authorizerId:r.ownerId,ownerId:e._id},{authorizedId:r.ownerId,authorizerId:e._id,ownerId:e._id}]}),f=yield this.collections.authorizations.instance.findOne({$or:[{authorizedId:e._id,authorizerId:r.ownerId,ownerId:r.ownerId},{authorizedId:r.ownerId,authorizerId:e._id,ownerId:r.ownerId}]})):(l=this.getLocalData("authorization",{ownerId:e._id}).find(S=>{if(S.authorizedId===e._id&&S.authorizerId===r.ownerId)return!0}),f=this.getLocalData("authorization",{ownerId:r.ownerId}).find(S=>{if(S.authorizedId===e._id&&S.authorizerId===r.ownerId)return!0})),!l||!f)return!1;let d=!1;return l.status==="OKAY"&&f.status==="OKAY"&&(r.structType==="group"?l.authorizations.indexOf(r.name+"_admin")>-1&&f.authorizations.indexOf(r.name+"_admin")>-1?d=!0:d=!1:l.authorizations.indexOf("provider")>-1&&f.authorizations.indexOf("provider")>-1||l.authorizations.indexOf("peer")>-1&&f.authorizations.indexOf("peer")>-1||l.authorizations.indexOf("control")>-1&&f.authorizations.indexOf("control")>-1||((v=l.structIds)==null?void 0:v.indexOf(r._id))>-1&&((y=f.structIds)==null?void 0:y.indexOf(r._id))>-1?d=!0:l.excluded.indexOf(r.structType)>-1&&r.ownerId===e._id&&n==="WRITE"&&(d=!1)),d})}overwriteLocalData(e){if(Array.isArray(e))e.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:r._id});!n||(n==null?void 0:n.length)===0?this.setLocalData(r):Object.assign(n,r)});else{let r=this.getLocalData(e.structType,{ownerId:e.ownerId,_id:e._id});!r||(r==null?void 0:r.length)===0?this.setLocalData(e):Object.assign(r,e)}}setLocalData(e){let r=n=>{var s;let i=n.structType,o=(s=this.collections[i])==null?void 0:s.reference;o||(o={},this.collections[i]||(this.collections[i]={}),this.collections[i].reference=o),o[n._id]=n};Array.isArray(e)?e.forEach(n=>{r(n)}):r(e)}getLocalData(e,r){let n,i,o;if(typeof r=="object"?(n=r.ownerId,i=Object.keys(r).filter(f=>f!="ownerId")[0],o=r[i]):o=r,!e&&!n&&!i&&!o)return[];let s=[];if(!e&&(n||i))return Object.values(this.collections).forEach(l=>{if(l=l.reference,(i==="_id"||i==="id")&&o){let f=l[o];f&&s.push(f)}else Object.values(l).forEach(f=>{i&&o?f[i]===o&&f.ownerId===n&&s.push(f):f.ownerId===n&&s.push(f)})}),s;{let l=this.collections[e].reference;if(!l)return s;if(!i&&!n)return Object.values(l).forEach(f=>{s.push(f)}),s;if((i==="_id"||i==="id")&&o)return l[o];Object.keys(l).forEach(f=>{let d=l[f];i&&o&&!n?d[i]===o&&s.push(d):n&&!i?d.ownerId===n&&s.push(d):n&&i&&o&&d.ownerId===n&&d[i]&&d[i]===o&&s.push(d)})}return s}deleteLocalData(e){if(!e)throw new Error("Struct not supplied");return!e.structType||!e._id?!1:(this.collections[e.structType]&&delete this.collections[e.structType].reference[e._id],!0)}},M2=P2});var B2,dc,rp=tt(()=>{_2();T2();ds();j2();B2=class extends Q0{constructor(e={},r){super(r);this.tablet=new K0;this.collections=this.tablet.collections;this.id=on();this.baseServerCallback=e=>{let r=e;if(typeof e=="object"&&(e==null?void 0:e.structType)&&(r=[e]),Array.isArray(e)){let n=r.filter(i=>{if(i.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(n),r.forEach(i=>{var o;(!i.structType||i.structType==="USER")&&(i.email?i.structType="user":i.structType="uncategorized"),i.structType==="user"||i.structType==="authorization"||i.structType==="group"?(i.structType==="user"&&(i._id=i.id),this.setLocalData(i)):i.structType==="notification"?(this.getLocalData("notification",{ownerId:i.ownerId,_id:i.parent._id})?this.setLocalData(i):this.getLocalData(i.structType,{_id:i.parent._id})||this.overwriteLocalData(i),i.ownerId===((o=this.currentUser)==null?void 0:o._id)&&(i.parent.structType==="user"||i.parent.structType==="dataInstance"||i.parent.structType==="schedule"||i.parent.structType==="authorization")&&this.resolveNotifications([i],!0)):this.overwriteLocalData(i)})}(e==null?void 0:e.message)==="notifications"&&this.checkForNotifications(),(e==null?void 0:e.message)==="deleted"&&this.deleteLocalData(e.id),this.onResult(e)};this.resolveNotifications=(...i)=>te(this,[...i],function*(e=[],r=!0,n=this.currentUser){if(!n||e.length===0)return;let o=[],s=[],l=[],f=!1;return e.length===0&&(e=this.getLocalData("notification",{ownerId:n._id})),e.forEach(d=>{d.parent.structType==="user"&&(f=!0),l.push(d.parent.structType),o.push(d.parent._id),s.push(d._id),this.deleteLocalData(d)}),this.deleteData(s),r&&(l.reverse().forEach((d,m)=>{d==="user"&&(this.getUser(s[m]),o.splice(o.length-m-1,1))}),o.length>0)?yield this.getDataByIds(o,n._id,"notification"):!0});this.getLocalUserPeerIds=(e=this.currentUser)=>{if(!e)return[];let r=[];return this.getLocalData("authorization",e._id).forEach(i=>{i.authorizations.indexOf("peer")>-1&&i.authorizerId===e._id&&r.push(i.authorizedId)}),r};this.authorizeUser=(v,...y)=>te(this,[v,...y],function*(e,r="",n="",i="",o="",s=[],l=[],f=[],d=[],m=!1){if(!e)return;let S=this.createStruct("authorization",void 0,e,void 0);return S.authorizedId=i,S.authorizedName=o,S.authorizerId=r,S.authorizerName=n,S.authorizations=s,S.structs=l,S.excluded=f,S.groups=d,S.expires=m,S.status="PENDING",S.associatedAuthId="",S.ownerId=e._id,S=yield this.setAuthorization(S),S});this.addGroup=(f,...d)=>te(this,[f,...d],function*(e,r="",n="",i=[],o=[],s=[],l=!0){if(!e)return;let m=this.createStruct("group",void 0,e);return m.name=r,m.details=n,m.admins=i,m.peers=o,m.clients=s,m.users=[...i,...o,...s],m.ownerId=e._id,l&&(m=yield this.setGroup(m)),m});this.addData=(f,...d)=>te(this,[f,...d],function*(e,r="",n="",i="",o=[],s=!1,l=!0){if(!e)return;let m=this.createStruct("dataInstance",void 0,e);return m.author=r,m.title=n,m.type=i,m.data=o,m.expires=s,m.ownerId=e._id,l&&(m=yield this.updateServerData([m])[0]),m});this.addEvent=(v,...y)=>te(this,[v,...y],function*(e,r="",n="",i="",o=0,s=0,l=0,f=[],d=[],m=!0){if(!e)return;d.length===0&&(d=this.getLocalUserPeerIds(e));let S=this.createStruct("event",void 0,e);return S.author=r,S.event=n,S.notes=i,S.startTime=o,S.endTime=s,S.grade=l,S.attachments=f,S.users=d,S.ownerId=e._id,m&&(S=yield this.updateServerData([S])[0]),S});this.addDiscussion=(d,...m)=>te(this,[d,...m],function*(e,r="",n="",i="",o="",s=[],l=[],f=!0){if(!e)return;l.length===0&&(l=this.getLocalUserPeerIds(e));let v=this.createStruct("discussion",void 0,e);v.topic=n,v.category=i,v.message=o,v.attachments=s,v.authorId=r,v.users=l,v.comments=[],v.replies=[],v.ownerId=e._id;let y=[v];return f&&(v=yield this.updateServerData(y)[0]),v});this.addChatroom=(l,...f)=>te(this,[l,...f],function*(e,r="",n="",i=[],o=[],s=!0){if(!e)return;o.length===0&&(o=this.getLocalUserPeerIds(e));let d=this.createStruct("chatroom",void 0,e);d.message=n,d.attachments=i,d.authorId=r,d.users=o,d.replies=[],d.comments=[],d.ownerId=e._id;let m=[d];return s&&(d=yield this.updateServerData(m)[0]),d});this.addComment=(f,d,m,...v)=>te(this,[f,d,m,...v],function*(e,r,n,i="",o="",s=[],l=!0){if(console.log("replyTo",n),n||(n=Object.assign({replies:[],roomStruct:r})),console.log("replyTo",n),!e)return;let y=this.createStruct("comment",void 0,e,r);y.authorId=i,y.replyTo=n==null?void 0:n._id,y.message=o,y.attachments=s,y.users=r==null?void 0:r.users,y.replies=[],y.ownerId=e._id,l?n==null||n.replies.push(y._id):n==null||n.replies.push(y),l?r==null||r.comments.push(y._id):r==null||r.comments.push(y);let S=[y,r];return n._id!==r._id&&S.push(n),l&&(y=yield this.updateServerData(S)[0]),y});e instanceof Object&&Object.keys(e).length>0&&this.setupUser(e),this.load(new M2(this))}setupUser(e,r=n=>{}){return te(this,null,function*(){if(!e){console.error('must provide an info object! e.g. {_id:"abc123"}'),r(void 0);return}let n=!1;e.id&&(e._id=e.id);let i=yield this.getUser(e._id);console.log("user gotten",i);let o,s=!1;if(i==null?void 0:i._id){o=i.user;for(let l in e){let f=this.userStruct();if(o[l]&&l!=="_id")if(Array.isArray(e[l])){for(let d=0;d<o[l].length;d++)if(e[l].indexOf(o[l][d])<0){o[l]=e[l],n=!0;break}if(!n){for(let d=0;d<e[l].length;d++)if(o[l].indexOf(e[l][d])<0){o[l]=e[l],n=!0;break}}}else o[l]!==e[l]&&(o[l]=e[l],n=!0);else o[l]!==e[l]&&typeof f[l]=="string"&&l!=="_id"&&(o[l]=e[l],n=!0)}(i==null?void 0:i.authorizations)&&Array.isArray(i.authorizations)&&this.setLocalData(i.authorizations),(i==null?void 0:i.groups)&&Array.isArray(i.groups)&&this.setLocalData(i.groups)}else{o=this.userStruct(e,!0),s=!0;let l=yield this.setUser(o),f=this.getLocalData(void 0,{ownerId:o._id});(f==null?void 0:f.length)>0&&this.updateServerData(f,d=>{console.log("setData",d)}),this.setAuthorizationsByGroup(o)}if(s)this.currentUser=o,this.setLocalData(o);else{let l=yield this.getAllUserData(o._id,void 0);if(console.log("getServerData",l),!(!l||l.length===0)){this.setLocalData(l);let f=l.filter(y=>{if(y.structType==="notification"&&(this.getLocalData("authorization",y.parent._id)||y.parent.structType==="user"||y.parent.structType==="authorization"||!this.getLocalData(y.parent.structType,y.parent._id)))return!0}),d=l.filter(y=>{if(y.structType==="comment")return!0}),m=[];d.forEach(y=>{this.getLocalData("comment",{_id:y._id})||m.push(y._id)}),m.length>0&&this.deleteData(m),f.length>0&&(this.resolveNotifications(f,!1,void 0),n=!0);let v=l.filter(y=>{if(y.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(v)}this.setLocalData(o),console.log("currentUser",o),this.currentUser=o,console.log("collections",this.tablet.collections)}return o?(r(this.currentUser),this.currentUser):(r(o),o)})}onResult(e){}randomId(e=""){return`${e+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}addStruct(){return te(this,arguments,function*(e="struct",r={},n=void 0,i=void 0,o=!0){let s=yi.Struct(e,r,n,i);return o&&(s=yield this.updateServerData([s])[0]),s})}ping(e=r=>{console.log(r)}){return te(this,null,function*(){var n;let r=(n=yield this.send("ping"))==null?void 0:n[0];return e(r),r})}sendMessage(e="",r="",n=void 0,i=o=>{console.log(o)}){return te(this,null,function*(){var l;let o=[e,r];n&&(o[2]=n);let s=(l=yield this.send("sendMessage",...o))==null?void 0:l[0];return i(s),s})}getUser(){return te(this,arguments,function*(e="",r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/getUser",e))==null?void 0:i[0];return r(n),n})}getUsers(){return te(this,arguments,function*(e=[],r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/getUsers",...e))==null?void 0:i[0];return r(n),n})}getUsersByRoles(){return te(this,arguments,function*(e=[],r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/getUsersByRoles",e))==null?void 0:i[0];return r(n),n})}getAllUserData(i){return te(this,arguments,function*(e,r=[],n=this.baseServerCallback){var s;let o=(s=yield this.send("structs/getAllData",e,r))==null?void 0:s[0];return n(o),o})}getData(l,f,d){return te(this,arguments,function*(e,r,n,i=0,o=0,s=this.baseServerCallback){var v;let m=(v=yield this.send("structs/getData",e,r,n,i,o))==null?void 0:v[0];return s(m),m})}getDataByIds(){return te(this,arguments,function*(e=[],r,n,i=this.baseServerCallback){var s;let o=(s=yield this.send("structs/getDataByIdss",e,r,n))==null?void 0:s[0];return i(o),o})}getStructParentData(n){return te(this,arguments,function*(e,r=this.baseServerCallback){var s,l,f;if(!e.parent)return;let i=[(s=e.parent)==null?void 0:s.structType,"_id",(l=e.parent)==null?void 0:l._id],o=(f=yield this.send("structs/getData",...i))==null?void 0:f[0];return r(o),o})}setUser(){return te(this,arguments,function*(e={},r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/setUser",this.stripStruct(e)))==null?void 0:i[0];return r(n),n})}checkUserToken(i){return te(this,arguments,function*(e,r=this.currentUser,n=this.baseServerCallback){if(!e)return!1;let o=!1;for(let s in e){let l=this.userStruct();if(r[s]&&s!=="_id")if(Array.isArray(e[s])){for(let f=0;f<r[s].length;f++)if(e[s].indexOf(r[s][f])<0){r[s]=e[s],o=!0;break}if(!o){for(let f=0;f<e[s].length;f++)if(r[s].indexOf(e[s][f])<0){r[s]=e[s],o=!0;break}}}else r[s]!==e[s]&&(r[s]=e[s],o=!0);else!r[s]&&l[s]&&(r[s]=e[s],o=!0)}return o&&(yield this.setUser(r,n))})}updateServerData(){return te(this,arguments,function*(e=[],r=this.baseServerCallback){var o;let n=new Array;e.forEach(s=>{n.push(this.stripStruct(s))});let i=(o=yield this.send("structs/setData",...n))==null?void 0:o[0];return r(i),i})}deleteData(){return te(this,arguments,function*(e=[],r=this.baseServerCallback){var o;let n=[];e.forEach(s=>{(s==null?void 0:s.structType)&&(s==null?void 0:s._id)&&(n.push({structType:s.structType,_id:s._id}),this.deleteLocalData(s))}),console.log("deleting",n);let i=(o=yield this.send("structs/deleteData",...n))==null?void 0:o[0];return r(i),i})}deleteUser(n){return te(this,arguments,function*(e,r=this.baseServerCallback){var o;if(!e)return;let i=(o=yield this.send("structs/deleteUser",e))==null?void 0:o[0];return r(i),i})}setGroup(){return te(this,arguments,function*(e={},r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/setGroup",this.stripStruct(e)))==null?void 0:i[0];return r(n),n})}getGroups(){return te(this,arguments,function*(e=this.currentUser._id,r="",n=this.baseServerCallback){var o;let i=(o=yield this.send("structs/getGroups",e,r))==null?void 0:o[0];return n(i),i})}deleteGroup(n){return te(this,arguments,function*(e,r=this.baseServerCallback){var o;if(!e)return;this.deleteLocalData(e);let i=(o=yield this.send("structs/deleteGroup",e))==null?void 0:o[0];return r(i),i})}setAuthorization(){return te(this,arguments,function*(e={},r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/setAuth",this.stripStruct(e)))==null?void 0:i[0];return r(n),n})}getAuthorizations(){return te(this,arguments,function*(e=(i=>(i=this.currentUser)==null?void 0:i._id)(),r="",n=this.baseServerCallback){var s;if(e===void 0)return;let o=(s=yield this.send("structs/getAuths",e,r))==null?void 0:s[0];return n(o),o})}deleteAuthorization(n){return te(this,arguments,function*(e,r=this.baseServerCallback){var o;if(!e)return;this.deleteLocalData(e);let i=(o=yield this.send("structs/deleteAuth",e))==null?void 0:o[0];return r(i),i})}checkForNotifications(){return te(this,arguments,function*(e=(r=>(r=this.currentUser)==null?void 0:r._id)()){return yield this.getData("notification",e)})}setAuthorizationsByGroup(){return te(this,arguments,function*(e=this.currentUser){let r=this.getLocalData("authorization",{ownerId:e._id});e.userRoles.forEach(n=>{let o=n.split("_")[0],s;n.includes("client")?s=o+"_peer":n.includes("peer")?s=o+"_client":n.includes("admin")&&(s=o+"_owner"),s&&this.getUsersByRoles([s],l=>{l==null||l.forEach(f=>{let d=f.username;d||(d=f.email),d||(d=f.id);let m=e.username;m||(m=e.email),m||(m=e.id),d!==m&&(n.includes("client")?r.find(y=>{if(y.authorizerId===f.id&&y.authorizedId===e.id)return!0})||this.authorizeUser(yi.ProfileStruct("user",e,e),f.id,d,e.id,m,["peer"],void 0,[n]):n.includes("peer")&&(r.find(y=>{if(y.authorizedId===f.id&&y.authorizerId===e.id)return!0})||this.authorizeUser(yi.ProfileStruct("user",e,e),e.id,m,f.id,d,["peer"],void 0,[n])))})})})})}deleteRoom(e){return te(this,null,function*(){var n;if(!e)return!1;let r=[e];return(n=e.comments)==null||n.forEach(i=>{let o=this.getLocalData("comment",{_id:i});r.push(o)}),e?yield this.deleteData(r):!1})}deleteComment(e){return te(this,null,function*(){var l,f,d;let r=[e],n=(m=e)=>{(m==null?void 0:m.replies)&&m.replies.forEach(v=>{let y=this.getLocalData("comment",{_id:v});y&&(y.replies.length>0&&y.replies.forEach(S=>{n(S)}),r.push(y))})};n(e);let i=this.getLocalData((l=e.parent)==null?void 0:l.structType,{_id:(f=e.parent)==null?void 0:f._id}),o=[];i&&(o=[i],r.forEach(m=>{var S,O;let v=(S=i.replies)==null?void 0:S.indexOf(m._id);v>-1&&i.replies.splice(v,1);let y=(O=i.comments)==null?void 0:O.indexOf(m._id);y>-1&&i.comments.splice(y,1)}));let s=this.getLocalData("comment",{_id:e.replyTo});if((s==null?void 0:s._id)!==(i==null?void 0:i._id)){let m=(d=s.replies)==null?void 0:d.indexOf(i._id);m>-1&&s.replies.splice(m,1),o.push(s)}return o.length>0&&(yield this.updateServerData(o)),yield this.deleteData(r)})}getUserDataByAuthorization(l,f,d){return te(this,arguments,function*(e,r,n,i=0,o=0,s=this.baseServerCallback){let m=e.authorizerId;if(m)return new Promise(v=>te(this,null,function*(){this.getUser(m,y=>te(this,null,function*(){r?yield this.getData(r,m,n,i,o,s):yield this.getAllUserData(m,["notification"],s),v(y),s(y)}))}))})}getUserDataByAuthorizationGroup(){return te(this,arguments,function*(e="",r,n,i=0,o=0,s=this.baseServerCallback){let l=this.getLocalData("authorization"),f=[];return yield Promise.all(l.map(d=>te(this,null,function*(){var m;if((m=d.groups)==null?void 0:m.includes(e)){let v=d.authorizerId;if(v){let y,S=yield this.getUser(v,s);S&&f.push(S),r?y=yield this.getData(r,v,n,i,o,s):y=yield this.getAllUserData(v,["notification"],s),y&&f.push(y)}return!0}}))),f})}overwriteLocalData(e){if(Array.isArray(e))e.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:r._id});!n||(n==null?void 0:n.length)===0?this.setLocalData(r):Object.assign(n,r)});else{let r=this.getLocalData(e.structType,{ownerId:e.ownerId,_id:e._id});!r||(r==null?void 0:r.length)===0?this.setLocalData(e):Object.assign(r,e)}}setLocalData(e){this.tablet.setLocalData(e)}getLocalData(e,r){return this.tablet.getLocalData(e,r)}getLocalReplies(e){let r=[];if(e.replies){if(e.replies.reduce((n,i)=>n*(typeof i=="object"?1:0),1))return e.replies}else return r;return r=this.getLocalData("comment",{replyTo:e._id}),r}hasLocalAuthorization(e,r=this.currentUser._id){let i=this.getLocalData("authorization",{ownerId:r}).find(o=>{if(o.authorizedId===r&&o.authorizerId===e||o.authorizerId===r&&o.authorizedId===e)return!0});return i||!1}deleteLocalData(e){return Array.isArray(e)?e.forEach(r=>this.deleteStruct(r)):this.deleteStruct(e),!0}deleteStruct(e){if(typeof e=="string"&&(e=this.getLocalData(e)),!e)throw new Error("Struct not supplied");return!e.structType||!e._id?!1:(this.tablet.collections.get(e.structType).delete(e._id),!0)}stripStruct(e={}){let r=Object.assign({},e);for(let n in r)(r[n]===void 0||r[n].constructor.name==="Map")&&delete r[n];return r}createStruct(e,r,n=this.currentUser,i){return yi.Struct(e,r,n,i)}userStruct(e={},r=!1){let n=yi.ProfileStruct(void 0,e,e);e._id?n.id=e._id:e.id?n.id=e.id:n.id="user"+Math.floor(Math.random()*1e10),n._id=n.id,n.ownerId=n.id;for(let i in e)Object.keys(yi.ProfileStruct()).indexOf(i)<0&&delete n[i];return r&&(this.currentUser=n),n}dataObject(e=void 0,r="any",n=Date.now()){return{type:r,data:e,timestamp:n}}},dc=B2});var Xa,np=tt(()=>{tp();Ja();Xa=class extends Za{constructor(e){super(e);this.responses=new Map;this.serviceType="subscription";this.subscribers=new Map;this.updateSubscribers=(e,r)=>{this.subscribers.forEach(n=>{Ga(r.route,!1).forEach(o=>{n.routes[o]&&(n==null?void 0:n.send)&&n.send(e.format(r))})})};this.add=(e,r)=>{throw"Add not implemented"};this.addResponse=(e,r)=>{this.responses.set(e,r)};this.removeResponse=e=>{e?this.responses.delete(e):this.responses=new Map};this.send=(e,r)=>te(this,null,function*(){throw"Send not implemented"})}}});var ip,pc,op=tt(()=>{np();Ja();ip=class extends Xa{constructor(e){super(e);this.name="http";this.service="http";this.add=(e,r)=>new Promise(n=>{this.connection=new EventSource(uc("",r)),this.connection.onopen=()=>{this.connection.onmessage=i=>{let o=JSON.parse(i.data);o.route==="events/subscribe"&&n(o.message[0]),this.responses.forEach(s=>s(o))}}})}};ip.type="client";pc=ip});var yc,U2=tt(()=>{yc={protocol:"http",hosturl:"localhost",port:"80",port2:"81",docusaurus:"3000"}});var sp,mc,ap=tt(()=>{np();fc();U2();sp=class extends Xa{constructor(e,r={},n){super(e);this.name="websocket";this.service="websocket";this.connected=!1;this.sendQueue={};this.sockets=new Map;this.queue={};this.origin=`client${Math.floor(Math.random()*1e13)}`;this.encodeForSubprotocol=e=>{let r=[];return e._id&&(e.id=e._id,delete e._id),Object.keys(e).forEach(i=>r.push(`brainsatplay.com/${i}/${e[i]}?arr=`+Array.isArray(e[i]))),encodeURIComponent(r.join(";"))||void 0};this.add=(e,r)=>te(this,null,function*(){return this.addSocket(r,e)});this.send=(e,r={})=>new Promise(n=>{let i=d=>{r.callback&&r.callback(d),n(d)},o=""+Math.random();typeof e=="object"&&(Array.isArray(e)?e.splice(1,0,o):e.callbackId=o),this.queue[o]={resolve:n,suppress:e.suppress};let s,l=new URL(r.id);if(s=this.getSocket(l),!s)return;let f=()=>s.send(Ya(e),i);s.readyState===s.OPEN?f():(this.sendQueue[l.origin]||(this.sendQueue[l.origin]=[]),this.sendQueue[l.origin].push(f))});this.post=this.send;this.onmessage=e=>{let r;try{r=JSON.parse(e.data)}catch(o){r=e}console.log("WS Message",r);let n=()=>{this.responses.forEach((o,s)=>{o(r)})},i=r.callbackId;if(i){delete r.callbackId;let o=this.queue[i];(o==null?void 0:o.resolve)&&o.resolve(r),(o==null?void 0:o.suppress)||n(),delete this.queue[i]}else n(),this.defaultCallback(r)};this.defaultCallback=e=>{};this.isOpen=e=>{let r=this.getSocket(e);return r?r.readyState===1:!1};this.close=e=>{let r=this.getSocket(e);return r?r.close():!1};this.terminate=this.close;this.subprotocols=r,n&&this.addSocket(n,r)}addSocket(e=new URL(`${yc.protocol}://${yc.host}:${yc.port}`),r=this.subprotocols){let n;e instanceof URL||(e=new URL(e));let i=e.origin;try{if(e.protocol==="http:")n=new WebSocket("ws://"+e.host,this.encodeForSubprotocol(r));else if(e.protocol==="https:")n=new WebSocket("wss://"+e.host,this.encodeForSubprotocol(r));else{console.log("invalid protocol");return}return n.onmessage=this.onmessage,this.sockets.set(i,n),i}catch(o){console.error("Error with socket creation!",o);return}}getSocket(e){return typeof e=="string"&&(e=new URL(e)),e?this.sockets.get(e.origin):this.sockets.values().next().value}addCallback(e="",r=n=>{}){if(e.length>0&&!this.responses.has(e))this.responses.set(e,r);else return!1}removeCallback(e=""){this.responses.delete(e)}};sp.type="client";mc=sp});var qe,D5,F5,Qa=tt(()=>{rp();op();ap();qe=new dc,D5=new pc(qe),F5=new mc(qe);qe.load(D5,"http");qe.load(F5,"websockets")});var V2,W2,z2,el,tl,lp=tt(()=>{V2=Rt(ui());ja();n2();Qa();W2=Rt(La()),z2=new En(W2.settings.realmapp),el=(t,e)=>te(void 0,null,function*(){let{currentUser:r}=z2,n="LOG_IN";if(r)try{yield r.refreshAccessToken(),n="REFRESH"}catch(i){return{type:"FAIL",data:{err:i,type:"REFRESH"}}}else{let i;try{t==="google"?(yield(0,V2.wait)(0),i=Gt.google({redirectUrl:window.location.origin})):t&&(i=Gt.emailPassword(t,e))}catch(o){console.error(o)}if(i)try{let o=yield z2.logIn(i);o&&(yield o.refreshAccessToken(),r=o)}catch(o){return{type:"FAIL",data:{err:o,type:"LOGIN"}}}}return r?{type:n,data:r.toJSON()}:{type:"FAIL",data:{err:void 0,type:"UNCAUGHT"}}}),tl=t=>te(void 0,null,function*(){var n,i;let e=!1,r;if((t==null?void 0:t.type)!=="FAIL"&&((t==null?void 0:t.data).id||(t==null?void 0:t.data)._id?r=qe.setupUser(t.data):((i=(n=t==null?void 0:t.data)==null?void 0:n.profile)==null?void 0:i.data)._id&&(r=qe.setupUser(t.data.profile.data))),r){let o=yield r;if(o)return e=!0,$r.setState({isLoggedIn:!0,loggedInId:o._id}),console.log("Logged in: ",o),o}e||(console.log("User not created with info:",t.data),$r.get("isLoggedIn")&&$r.setState({isLoggedIn:!1}))});window.location.href.includes("_baas_client_app_id")&&r2()});function jt(t="struct",e={},r={_id:""},n={structType:"struct",_id:""}){function i(s=""){return`${s+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}let o={_id:i(t+"defaultId"),structType:t,ownerId:r?._id,timestamp:Date.now(),parent:{structType:n?.structType,_id:n?._id}};return o.ownerId||delete o.ownerId,o?.parent?._id||delete o.parent,Object.keys(e).length>0&&Object.assign(o,e),o}function gc(t,e={}){if(!io[t.tag]&&t.position&&(io[t.tag]=[t.position.x,t.position.y,t.position.z]),io[t.tag]){let r={channel:"",position:{x:io[t.tag][0],y:io[t.tag][1],z:io[t.tag][2]}};return Object.assign(e,r)}else return Object.assign(e,t)}function L5(t=[],e=!0){let r=[];for(let n of t){let i=mi(n);r.push(i)}return e&&r.push(...cp({channelDicts:t})),r}function vc(t=[],e={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return t.forEach(n=>r[n]=[]),Object.assign(e,r)}function mi(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=vc(),o={tag:t,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=jt("eeg",o,r,n);return t&&gc(o,s),Object.assign(s,e)}function up(t={0:mi("FP1"),1:mi("FP2")},e={},r={_id:""},n={structType:"struct",_id:""}){let i=vc(),o={tag:t[0]?.tag+"::"+t[1]?.tag,x0:t[0]?.position?.x,y0:t[0]?.position?.y,z0:t[0]?.position?.z,x1:t[1]?.position?.x,y1:t[1]?.position?.y,z1:t[1]?.position?.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=jt("coherence",o,r,n);return Object.assign(s,e)}function cp(t={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},e={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,l=0;l<t.channelDicts.length*(t.channelDicts.length+1)/2-t.channelDicts.length;l++){if(t.taggedOnly===!1||t.taggedOnly===!0&&t.channelDicts[s].tag!==null&&t.channelDicts[s+o].tag!==null&&t.channelDicts[s].tag!=="other"&&t.channelDicts[s+o].tag!=="other"&&t.channelDicts[s].analyze===!0&&t.channelDicts[s+o].analyze===!0){var f=mi(t.channelDicts[s].tag),d=mi(t.channelDicts[s+o].tag);i.push(up({0:f,1:d},{},r,n))}o++,o+s===t.channelDicts.length&&(s++,o=1)}return i}function fp(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=jt("fnirs",i,r,n);return t&&gc(i,o),Object.assign(o,e)}function H2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=jt("imu",i,r,n);return t&&gc(i,o),Object.assign(o,e)}function G2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},o=jt("eyetracker",i,r,n);return Object.assign(o,e)}function hp(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},o=jt("ecg",i,r,n);return Object.assign(o,e)}function J2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){}function Y2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=fp(t,r,n,e);return i.structType="ppg",i}function K2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=hp(t,r,n,e);return i.structType="hrv",i}function Z2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=mi(t,r,n,e);return i.structType="emg",i}function X2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("profile",{tag:t,name:"",username:"",firstName:"",lastName:"",email:"",sex:"",birthday:"",type:"",userRoles:[],id:""},r,n);return Object.assign(i,e)}function Q2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:new Array,structs:new Array,excluded:new Array,groups:new Array,status:"PENDING",expires:!1,associatedAuthId:""},o=jt("authorization",i,r,n);return Object.assign(o,e)}function eS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,name:"",details:"",admins:new Array,peers:new Array,clients:new Array,users:new Array},o=jt("group",i,r,n);return Object.assign(o,e)}function tS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",expires:!1,type:"",data:new Array},o=jt("dataInstance",i,r,n);return Object.assign(o,e)}function rS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:new Array},o=jt("event",i,r,n);return Object.assign(o,e)}function nS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:new Array,audioChatActive:!1,videoChatActive:!1},o=jt("chatroom",i,r,n);return Object.assign(o,e)}function iS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:new Array,attachments:new Array},o=jt("comment",i,r,n);return Object.assign(o,e)}function oS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("notification",{tag:t,note:"",parentUserId:""},r,n);return Object.assign(i,e)}function sS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",attachments:new Array,dates:new Array},o=jt("schedule",i,r,n);return Object.assign(o,e)}function aS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},o=jt("date",i,r,n);return Object.assign(o,e)}function H5(t=[],e={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return t.forEach((n,i)=>{for(let o in e)r[o]||(r[o]=[[],[]]),n>=e[o][0]&&n<=e[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r}function Y5(t,e,r){let n=(e-t)/r,i=[],o=0;for(;o<e;)i.push(o),o+=n;return i}var q2,C5,$2,$e,rl,io,P5,M5,oo,Pe,j5,B5,U5,z5,V5,W5,q5,$5,G5,J5,lS=tt(()=>{q2=Object.defineProperty,C5=(t,e,r)=>e in t?q2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$2=(t,e)=>{for(var r in e)q2(t,r,{get:e[r],enumerable:!0})},$e=(t,e,r)=>(C5(t,typeof e!="symbol"?e+"":e,r),r),rl={};$2(rl,{AuthorizationStruct:()=>Q2,ChatroomStruct:()=>nS,CoherenceMap:()=>cp,CoherenceStruct:()=>up,CommentStruct:()=>iS,DataStruct:()=>tS,DateStruct:()=>aS,ECGStruct:()=>hp,EDAStruct:()=>J2,EEGCoordinates:()=>L5,EEGStruct:()=>mi,EMGStruct:()=>Z2,EventStruct:()=>rS,EyeTrackerStruct:()=>G2,FNIRSStruct:()=>fp,FrequencyBandsStruct:()=>vc,GroupStruct:()=>eS,HRVStruct:()=>K2,IMUStruct:()=>H2,NotificationStruct:()=>oS,PPGStruct:()=>Y2,ProfileStruct:()=>X2,ScheduleStruct:()=>sS,Struct:()=>jt,eegCoordinates:()=>io,setCoordinate:()=>gc,structRegistry:()=>P5});io={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};P5={Struct:jt,EEGStruct:mi,FNIRSStruct:fp,CoherenceStruct:up,CoherenceMap:cp,FrequencyBandsStruct:vc,IMUStruct:H2,EyeTrackerStruct:G2,ECGStruct:hp,EDAStruct:J2,PPGStruct:Y2,HRVStruct:K2,EMGStruct:Z2,ProfileStruct:X2,AuthorizationStruct:Q2,GroupStruct:eS,DataStruct:tS,EventStruct:rS,ChatroomStruct:nS,CommentStruct:iS,NotificationStruct:oS,ScheduleStruct:sS,DateStruct:aS},M5={};$2(M5,{bandpassWindow:()=>Y5,get40HzGamma:()=>W5,getAlphaBetaRatio:()=>z5,getAlphaRatio:()=>B5,getAlphaThetaRatio:()=>V5,getCoherenceScore:()=>j5,getHEGRatioScore:()=>$5,getLowGammaScore:()=>q5,getThetaBetaRatio:()=>U5,mapCoherenceData:()=>J5,mapFFTData:()=>G5,splitFrequencyBands:()=>H5});oo=class{constructor(){}static genSineWave(t=20,e=1,r=1,n=512,i=0,o=1){for(var s=[],l=[],f=1/n,d=0;d<r;d+=f){var m=Math.sin(2*Math.PI*t*d)*e;m+=Math.sin(2*Math.PI*i*d)*o,s.push(m),l.push(d)}return[l,s]}static getSineAmplitude(t=20,e=1,r=0,n=0){return Math.sin(this.TWO_PI*t*r+n)*e}static mean(t){var e=t.reduce((r,n)=>n+=r);return e/t.length}static mode(t){return t.sort((e,r)=>t.filter(n=>n===e).length-t.filter(n=>n===r).length).pop()}static std(t,e=void 0){let r=e;e||(r=this.mean(t));let n=0;for(let i=0;i<t.length;i++){let o=t[i]-r;n+=o*o}return Math.sqrt(n/t.length)}static relError(t=[],e=[],r=!0){if(t.length!==e.length)throw new Error("Input arrays of same length!");let n=t.length,i=[];for(let o=0;o<n;o++){let s=(t[o]-e[o])/t[o];r&&(s=Math.abs(s)),i.push(s)}return i}static informationEntropy(t=[]){let e=[],r=t.length;for(let n=0;n<r;n++){let i=t[n]*Math.log(t[n]);isNaN(i)&&(i=0),e.push(i)}return e}static zscore(t){let e=this.mean(t),r=this.std(t,e),n=[];for(let i=0;i<t.length;i++)n.push((t[i]-e)/r);return n}static variance(t){var e=this.mean(t);return t.reduce((r,n)=>r+(n-e)**2,0)/t.length}static dot(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}static cross3D(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}static magnitude(t){var e=0;return t.forEach(r=>{e+=r*r}),Math.sqrt(e)}static distance(t,e){var r=0;return t.forEach((n,i)=>{r+=(e[i]-n)*(e[i]-n)}),Math.sqrt(r)}static normalize(t){var e=0;e=this.magnitude(t);var r=[];return t.forEach((n,i)=>{r.push(n*e)}),r}static quadraticFormula(t,e,r){let n=Math.sqrt(e*e-4*t*r);if(!isNaN(n))return["complex","complex"];let i=1/(2*t);if(n===0)return[e*i];let o=-e;return[(o+n)*i,(o-n)*i]}static newtonsMethod(t=o=>Math.pow(o,5)+o*o-o-.2,e=0,r=1,n=.01,i=10){let o=[];for(let s=0;s<i;s++){let l=Math.random()*(r-e),f=t(l),d=t(l+n),m=(d-f)/n,v=l+n;for(;Math.abs(m)>n;){let O=-f/T,R=v+O;f=d,d=t(R);let T=(d-f)/(R-v)}let y,S=o.find((O,R)=>{if(Math.abs(xn1-O)<n)return y=R,!0});S?o[y]=(xn1+S)*.5:o.push(xn1)}return o}static makeVec(t,e){var r=[];return t.forEach((n,i)=>{r.push(e[i]-n)}),r}static transpose(t){return t[0].map((e,r)=>t.map(n=>n[r]))}static matmul(t,e){for(var r=t.length,n=t[0].length,i=e.length,o=e[0].length,s=new Array(r),l=0;l<r;++l){s[l]=new Array(o);for(var f=0;f<o;++f){s[l][f]=0;for(var d=0;d<n;++d)s[l][f]+=t[l][d]*e[d][f]}}return s}static matscale(t,e){let r=[];for(var n=0;n<t.length;n++){r[n]=[];for(let i=0;i<t[0].length;i++)r[n][i]=t[n][i]*e}return r}static matadd(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]+e[i][n]}return r}static matsub(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]-e[i][n]}return r}static histogram(t=[],e=1,r=void 0){let n=[...t];n.sort(function(f,d){return f-d});let i=Math.min(...n);if(typeof r=="number"){let f=Math.max(...n);e=Math.abs((f-i)/(r-1))}let o=i,s=[],l=[];for(let f=0;f<n.length;f++){let d=e*o;if(n[f]>i+d){o++,d+=e;let m=i+d+d*.5;s.push(m),l.push(0)}l[l.length-1]++}return[s,l]}static normalDistribution(t=[],e=!0,r=1e-4){let n=this.mean(t),i=this.variance(t),o=t.length,s=[],l=1/(this.TWO_PI*i),f=1/i,d=0;for(let m=0;m<o;m++){let v=Math.exp(-.5*Math.pow((t[m]-n)*f,2))*l;v<r&&(v=0),s.push(v),d+=v}if(e){let m=1/d;s=s.map(v=>v*m)}return s}static expectedValue(t=[],e=this.normalDistribution(t)){return t.reduce((r,n,i)=>r+n*e[i])}static originMoment(t=[],e=this.normalDistribution(t),r=1){return t.reduce((n,i,o)=>n+Math.pow(i,r)*e[o])}static centralMoment(t=[],e=this.normalDistribution(t),r=1){let n=this.mean(t);return t.reduce((i,o,s)=>i+Math.pow(o-n,r)*e[s]/t.length)}static linearDiscriminantAnalysis(t=[],e=[]){let r=this.mean(t),n=this.mean(e),i=this.cov1d(t,e),o=this.normalDistribution(t),s=[];for(let l=0;l<t.length;l++)s.push(x[l]*i*n-.5*r*i*n+Math.log10(o[l]));return s}static conv1D(t=[],e=[1/3,1/3,1/3],r=Math.floor(e.length*.5)){let n=[],i=1/e.length;if(r>0){let l=new Array(r).fill(0);t=[...l,...t,...l]}let o=Math.floor(e.length*.5),s=t.length-e.length+o;for(let l=o;l<s;l++){let f=0;for(let d=0;d<e.length;d++)f+=t[l-o]*e[d];n.push(f*i)}return n}static conv2D(t=[[],[],[]],e=[[],[],[]],r=0){let n=new Array(t.length-Math.ceil(e.length*.5)).fill([]),i,o=oo.transpose(o);if(r>0){let R=new Array(r).fill(0);i=oo.transpose(t);for(let T=0;T<i.length;T++)i[T]=[...R,...i[T],...R];t=oo.transpose(i);for(let T=0;T<t.length;T++)t[T]=[...R,...t[T],...R]}let s=Math.floor(e[0].length*.5),l=Math.floor(o[0].length*.5),f=t[0].length-e[0].length+s,d=i[0].length-o[0].length+l,m=1/(e[0].length*o[0].length),v=f*d,y=s,S,O=l;for(;y<v;){let R=0;S=y%t[0].length,S===0&&O++;for(let T=0;T<e[0].length;T++){for(let I=0;I<o[0].length;T++)R+=t[O-l+I][S-s+T]*e[I][T];n[O].push(R*m)}y++}return n}static cov2d(t){var e=this.transpose(t),r=[],n=[],i=[];t.forEach((O,R)=>{n.push(this.mean(O))}),e.forEach((O,R)=>{i.push(this.mean(O))}),t.forEach((O,R)=>{r.push([]);for(var T=0;T<O.length;T++)r[R].push((t[R][T]-n[R])*(t[R][T]-i[T])/(O.length-1))});for(var o=this.transpose(r),s=r.length,l=r[0].length,f=o.length,d=o[0].length,m=new Array(s),v=0;v<s;++v){m[v]=new Array(d);for(var y=0;y<d;++y){m[v][y]=0;for(var S=0;S<l;++S)m[v][y]+=r[v][S]*o[S][y]/(t[0].length-1)}}return m}static cov1d(t=[],e=[]){return this.cov2d([t,e])}static cov3d(t=[],e=[],r=[]){return[[this.cov1d(t,t),this.cov1d(t,e),this.cov1d(t,r)],[this.cov1d(e,t),this.cov1d(e,e),this.cov1d(e,r)],[this.cov1d(r,t),this.cov1d(r,e),this.cov1d(r,r)]]}static covNd(t=[]){let e=[];t.forEach((r,n)=>{e.push([]),t.forEach((i,o)=>{e[n].push(this.cov1d(r,i))})})}static eigens2x2(t=[[1,2],[3,4]]){let e=t[0][0]*t[1][1]-t[0][1]*t[1][0],r=(t[0][0]+t[1][1])*.5,n=Math.sqrt(r*r-e),i=r+n,o=r-n;return[i,o]}static eigenvectors2x2(t=[[1,2],[3,4]],e=[1,2]){let r=[-t[0][1],t[0][0]-e[0]];r[0]===0&&r[1]===0&&(r[0]=t[1][1]-e[0],r[1]=-t[1][0]);let n=[-t[0][1],t[0][0]-e[1]];return n[0]===0&&n[1]===0&&(n[0]=t[1][1]-e[1],n[1]=-t[1][0]),[r,n]}static fastpca2d(t,e){let r=this.cov1d(t,e),n=this.eigens2x2(r);n[1]>n[0]&&n.reverse();let i=this.eigenvectors2x2(r,n);return console.log(n,i),[n,i]}static crosscorrelation(t,e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(t),i=this.mean(e),o=t.reduce((v,y)=>v+=Math.pow(y-n,2));o=Math.sqrt(o);var s=e.reduce((v,y)=>v+=Math.pow(y-n,2));s=Math.sqrt(s);for(var l=1/(o*s),f=new Array(t.length).fill(0),d=0;d<t.length;d++){var m=t.reduce((v,y,S)=>v+=(y-n)*(r[d+S]-i));f[d]=m*l}return f}static autocorrelation(t){var e=[...t,...Array(t.length).fill(0)],r=this.mean(t),n=t.reduce((f,d)=>f+=Math.pow(d-r,2));n=Math.sqrt(n);for(var i=1/(n*n),o=new Array(t.length).fill(0),s=0;s<t.length;s++){var l=t.reduce((f,d,m)=>f+=(d-r)*(e[s+m]-r));o[s]=l*i}return o}static correlograms(t=[[],[]]){var e=[];return t.forEach((r,n)=>{t.forEach((i,o)=>{o>=n&&e.push(oo.crosscorrelation(r,i))})}),e}static sma(t=[],e){for(var r=[],n=0;n<t.length;n++)if(n==0)r.push(t[0]);else if(n<e){var i=t.slice(0,n+1);r.push(i.reduce((o,s)=>s+=o)/(n+1))}else{var i=t.slice(n-e,n);r.push(i.reduce((s,l)=>l+=s)/e)}return r}static sum(t=[]){if(t.length>0){var e=t.reduce((r,n)=>n+=r);return e}else return 0}static reduceArrByFactor(t,e=2){return t.filter((r,n)=>n%e===0)}static makeArr(t,e,r){for(var n=[],i=(e-t)/(r-1),o=0;o<r;o++)n.push(t+i*o);return n}static interpolateArray(t,e,r=1){var n=function(v,y,S){return(v+(y-v)*S)*r},i=new Array,o=new Number((t.length-1)/(e-1));i[0]=t[0];for(var s=1;s<e-1;s++){var l=s*o,f=new Number(Math.floor(l)).toFixed(),d=new Number(Math.ceil(l)).toFixed(),m=l-f;i[s]=n(t[f],t[d],m)}return i[e-1]=t[t.length-1],i}static isExtrema(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}else if(e==="valley"){if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}else if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}}return n}else return}static isCriticalPoint(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}else if(e==="valley"){if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}else if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}}return n}else return}static getPeakThreshold(t,e,r){let n,i=t.filter((o,s)=>{if(e.indexOf(s)>-1)return!0});return r===0?n=this.mean(i):n=(r+this.mean(i))*.5,n}static column(t,e){let r=new Array(t.length).fill(0).map(()=>new Array(1).fill(0));for(let n=0;n<t.length;n++)r[n][0]=t[n][e];return r}static flatten_vector(t){let e=[];for(let r=0;r<t.length;r++)e[r]=t[r][0];return e}static squared_difference(t,e){let r=0;for(let n=0;n<t.length;n++)r=r+Math.pow(t[n]-e[n],2);return r}static shift_deflate(t,e,r){let n=Math.sqrt(this.matmul(this.transpose(r),r)),i=this.matscale(r,1/n),o=this.matscale(this.matmul(i,this.transpose(i)),e);return this.matsub(t,o)}static eigenvalue_of_vector(t,e){return ev=this.matmul(this.matmul(this.transpose(e),t),e),ev}static power_iteration(t,e=1e-5,r=1e3){let n=t.length,i=new Array(n).fill(0).map(()=>new Array(1).fill(Math.sqrt(n))),o=this.eigenvalue_of_vector(t,i),s=1,l=0;for(;s>e&&l<r;){let f=JSON.parse(JSON.stringify(o)),d=this.matmul(t,i);i=this.normalize(d),o=this.eigenvalue_of_vector(t,i),s=Math.abs(o-f),l++}return[o,i]}static eigens(t,e=1e-4,r=1e3){let n=[],i=[];for(let o=0;o<t.length;o++){let s=this.power_iteration(t,e,r),l=s[0],f=s[1];n[o]=l,i[o]=this.flatten_vector(f),t=this.shift_deflate(t,l,f)}return[n,i]}static pca(t,e=1e-5){let r=t.length,n=new Array(r),i=new Array(r),o=this.transpose(t);n[0]=this.column(t,0);let s=1,l=0;for(;espilon>e;){l++,i[0]=this.matmul(o,n[0]);let f=this.matmul(this.transpose(n[0]),n[0]);i[0]=this.matscale(i[0],1/f);let d=Math.sqrt(this.matmul(this.transpose(i[0]),i[0]));i[0]=this.matscale(i[0],1/d);let m=this.matmul(t,i[0]),v=this.matmul(this.transpose(i[0]),i[0]);m=this.matscale(m,1/v),s=this.squared_difference(n[0],m),n[0]=JSON.parse(JSON.stringify(m))}return this.matmul(this.transpose(n[0]),n[0])}static p300(t=[],e=[],r=[],n=256){let i=Math.floor(n/10),o=this.sma(e,i),s=this.peakDetect(o,"peak",i),l=this.mean(o),f=this.std(o,l),d=0,m=[];return s.length>0&&t.forEach((v,y)=>{for(;r[s[d]]<v+200&&(d++,!!s[d]););let S=0,O=[];for(;r[s[d+S]]<v+600&&(O.push(d+S),S++,!!s[d+S]););if(O.length>1){let R=[];O.forEach(L=>{R.push(o[s[L]])});let T=Math.max(...R),I=O[R.indexOf(T)];m.push({event_timestamp:v,event_index:y,peak_timestamp:r[[s[I]]],signal_index:[s[I]],signal_amplitude:e[[s[I]]],zscore:(o[s[I]]-l)/f})}else O.length===1&&m.push({event_timestamp:v,event_index:y,peak_timestamp:r[s[O[0]]],signal_index:s[O[0]],signal_amplitude:e[[s[O[0]]]],zscore:(o[s[O[0]]]-l)/f})}),m}},Pe=oo;$e(Pe,"TWO_PI",Math.PI*2),$e(Pe,"C",299792458),$e(Pe,"G",66743e-15),$e(Pe,"h",662607015e-42),$e(Pe,"R",8314.32),$e(Pe,"Ra",287),$e(Pe,"H",69.3),$e(Pe,"kbar",1054571817e-43),$e(Pe,"kB",1380649e-29),$e(Pe,"ke",89875517923e-1),$e(Pe,"me",91093837015e-41),$e(Pe,"mp",167262192369e-38),$e(Pe,"mn",167492749804e-38),$e(Pe,"P0",101325),$e(Pe,"T0",288.15),$e(Pe,"p0",1.225),$e(Pe,"Na",60220978e16),$e(Pe,"y",1.405),$e(Pe,"M0",28.96643),$e(Pe,"g0",9.80665),$e(Pe,"Re",6378100),$e(Pe,"B",1458e-9),$e(Pe,"S",110.4),$e(Pe,"Sigma",365e-12),$e(Pe,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),$e(Pe,"integral",(t=n=>n,e=[],r=.01)=>{let n=0;for(let i=e[0];i<e[1];i+=r)n+=t(i)*r;return n}),$e(Pe,"dintegral",(t=(i,o)=>i+o,e=[[],[]],r=.01,n=r)=>{let i=0;for(let o=e[0][0]+r;o<e[0][1];o+=r)for(let s=e[1][0]+n;s<e[1][1];s+=n)i+=t(o,s)*r*n;return i}),$e(Pe,"tintegral",(t=(o,s,l)=>o+s+l,e=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=e[0][0]+r;s<e[0][1];s+=r)for(let l=e[1][0]+n;l<e[1][1];l+=n)for(let f=e[2][0]+i;f<e[2][1];f+=i)o+=t(s,l,f)*r*n*i;return o}),$e(Pe,"pintegral",(t=n=>n,e=[],r=.01)=>{let n=0,i,o;for(let s=e[0];s<e[1];s+=r)i=o,o=t(s),i&&(n+=oo.distance([0,i],[r,o]));return n}),$e(Pe,"peakDetect",(t,e="peak",r=49)=>{let n=Math.floor(r*.5),i=[];for(let o=0;o<t.length-r;o++)oo.isExtrema(t.slice(o,o+r),e)&&i.push(o+n-1);return i});j5=(t,e="alpha1")=>{let r=[];return Array.isArray(t)||(t=[t]),t.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[e].slice(i-o);r.push(Pe.mean(s))}}),Pe.mean(r)},B5=t=>t.fftCount>0?t.means.alpha2[t.fftCount-1]/t.means.alpha1[t.fftCount-1]:0,U5=t=>t.fftCount>0?t.means.theta[t.fftCount-1]/t.means.beta[t.fftCount-1]:0,z5=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.beta[t.fftCount-1]:0,V5=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.theta[t.fftCount-1]:0,W5=(t,e)=>{if(t.fftCount>0&&Array.isArray(e)){let r=t.slices.lowgamma[t.fftCount-1],n=[];return r.forEach((i,o)=>{e.lowgamma[0][o]>38&&e.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}else return 0},q5=t=>{if(t.fftCount>0){let e=t.fftCount,r=20;e<r&&(r=e);let n=t.means.lowgamma.slice(e-r);return t.means.lowgamma[e-1]-Pe.mean(n)}else return 0},$5=t=>{if(t.count>0){let e=t.count,r=40;e<r&&(r=e);let n=t.ratio.slice(e-r);return t.ratio[e-1]-Pe.mean(n)}else return 0};G5=(t,e,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(e),n.ffts.push(t);for(let o in r){let s=t.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((l,f)=>l+f)/s.length),i+=r[o][1].length}},J5=(t,e,r,n)=>{t.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(e),n[o].ffts.push(data);let s=0;for(let l in r){let f=fft.slice(s,s+r[l][1].length);coord.slices[l].push(f),coord.means[l].push(f.reduce((d,m)=>d+m)/f.length),s+=r[l][1].length}})}});function wc(){return te(this,null,function*(){let t=qe.connect({target:dp.settings.dataserver,credentials:so,type:"websocket"});t.subscribe(r=>{console.log("Indirect message from socket",r)}),console.log(t),console.log("Sending /routes from Client 1"),yield qe.send("routes").then(r=>console.log("Routes (Client 1)",r)).catch(console.error),console.log("setting up client");let e=yield qe.login(t,so);return console.log("loggedin (Client 1)",e),qe.setupUser(so)})}function uS(){return te(this,null,function*(){let t=or.connect({target:dp.settings.dataserver,credentials:gi,type:"websocket"});t.subscribe(r=>{console.log("Indirect message from socket",r)}),console.log("Sending /routes from Client 2"),or.send("routes").then(r=>console.log("Routes (Client 2)",r)).catch(console.error),console.log("setting up client");let e=yield or.login(t,gi);return console.log("loggedin (Client 2)",e),or.setupUser(gi)})}var dp,or,K5,Z5,so,gi,_c=tt(()=>{Qa();lS();dp=Rt(La());rp();op();ap();or=new dc,K5=new pc(or),Z5=new mc(or);or.load(K5,"http");or.load(Z5,"websockets");console.log(rl);so=rl.ProfileStruct("test",{_id:"test375914777899895",email:"test@myalyce.com",username:"testuser",firstName:"Howard",lastName:"Dent",sex:"m",birthday:"09/10/1993"});gi=rl.ProfileStruct("test",{_id:"test375914777899896",email:"testpeer@myalyce.com",username:"testpeer",firstName:"The",lastName:"Batman",sex:"m",birthday:"01/19/1483"})});var fS=xe(pp=>{uw();var cS=Rt(La());lp();ja();_c();console.log("using data server URL: ",cS.settings.dataserver);$r.subscribe("route",t=>{history.replaceState(void 0,t,location.origin+t)});var X5=!0;X5?wc().then(t=>te(pp,null,function*(){console.log(t),yield is(t)})):el().then(t=>te(pp,null,function*(){let e=yield tl(t);yield is(e)}))});var at=xe((NA,bc)=>{var hS,dS,pS,yS,mS,gS,vS,wS,_S,Sc,yp,SS,ES,bS,ys,xS,OS,kS,TS,NS,IS,AS,RS,Ec;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof bc=="object"&&typeof bc.exports=="object"?t(r(e,r(bc.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,s){return n[o]=i?i(o,s):s}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};hS=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},dS=Object.assign||function(n){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},pS=function(n,i){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)i.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(o[s[l]]=n[s[l]]);return o},yS=function(n,i,o,s){var l=arguments.length,f=l<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,o):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(n,i,o,s);else for(var m=n.length-1;m>=0;m--)(d=n[m])&&(f=(l<3?d(f):l>3?d(i,o,f):d(i,o))||f);return l>3&&f&&Object.defineProperty(i,o,f),f},mS=function(n,i){return function(o,s){i(o,s,n)}},gS=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},vS=function(n,i,o,s){function l(f){return f instanceof o?f:new o(function(d){d(f)})}return new(o||(o=Promise))(function(f,d){function m(S){try{y(s.next(S))}catch(O){d(O)}}function v(S){try{y(s.throw(S))}catch(O){d(O)}}function y(S){S.done?f(S.value):l(S.value).then(m,v)}y((s=s.apply(n,i||[])).next())})},wS=function(n,i){var o={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,l,f,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(y){return function(S){return v([y,S])}}function v(y){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,l&&(f=y[0]&2?l.return:y[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,y[1])).done)return f;switch(l=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,l=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(f=o.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){o.label=y[1];break}if(y[0]===6&&o.label<f[1]){o.label=f[1],f=y;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(y);break}f[2]&&o.ops.pop(),o.trys.pop();continue}y=i.call(n,o)}catch(S){y=[6,S],l=0}finally{s=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},_S=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Ec(i,n,o)},Ec=Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]},Sc=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},yp=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),l,f=[],d;try{for(;(i===void 0||i-- >0)&&!(l=s.next()).done;)f.push(l.value)}catch(m){d={error:m}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(d)throw d.error}}return f},SS=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(yp(arguments[i]));return n},ES=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var s=Array(n),l=0,i=0;i<o;i++)for(var f=arguments[i],d=0,m=f.length;d<m;d++,l++)s[l]=f[d];return s},bS=function(n,i,o){if(o||arguments.length===2)for(var s=0,l=i.length,f;s<l;s++)(f||!(s in i))&&(f||(f=Array.prototype.slice.call(i,0,s)),f[s]=i[s]);return n.concat(f||Array.prototype.slice.call(i))},ys=function(n){return this instanceof ys?(this.v=n,this):new ys(n)},xS=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,i||[]),l,f=[];return l={},d("next"),d("throw"),d("return"),l[Symbol.asyncIterator]=function(){return this},l;function d(R){s[R]&&(l[R]=function(T){return new Promise(function(I,L){f.push([R,T,I,L])>1||m(R,T)})})}function m(R,T){try{v(s[R](T))}catch(I){O(f[0][3],I)}}function v(R){R.value instanceof ys?Promise.resolve(R.value.v).then(y,S):O(f[0][2],R)}function y(R){m("next",R)}function S(R){m("throw",R)}function O(R,T){R(T),f.shift(),f.length&&m(f[0][0],f[0][1])}},OS=function(n){var i,o;return i={},s("next"),s("throw",function(l){throw l}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(l,f){i[l]=n[l]?function(d){return(o=!o)?{value:ys(n[l](d)),done:l==="return"}:f?f(d):d}:f}},kS=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof Sc=="function"?Sc(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=n[f]&&function(d){return new Promise(function(m,v){d=n[f](d),l(m,v,d.done,d.value)})}}function l(f,d,m,v){Promise.resolve(v).then(function(y){f({value:y,done:m})},d)}},TS=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};NS=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&Ec(i,n,o);return r(i,n),i},IS=function(n){return n&&n.__esModule?n:{default:n}},AS=function(n,i,o,s){if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?s:o==="a"?s.call(n):s?s.value:i.get(n)},RS=function(n,i,o,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!l:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(n,o):l?l.value=o:i.set(n,o),o},t("__extends",hS),t("__assign",dS),t("__rest",pS),t("__decorate",yS),t("__param",mS),t("__metadata",gS),t("__awaiter",vS),t("__generator",wS),t("__exportStar",_S),t("__createBinding",Ec),t("__values",Sc),t("__read",yp),t("__spread",SS),t("__spreadArrays",ES),t("__spreadArray",bS),t("__await",ys),t("__asyncGenerator",xS),t("__asyncDelegator",OS),t("__asyncValues",kS),t("__makeTemplateObject",TS),t("__importStar",NS),t("__importDefault",IS),t("__classPrivateFieldGet",AS),t("__classPrivateFieldSet",RS)})});var FS=xe(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0})});var LS=xe(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0})});var mp=xe(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.arrHas=He.arrLast=He.arrToBoolDict=He.arrToIdxDict=He.arrToDict=He.arrRemoveValues=He.arrReplace=He.arrDeepFlatten=He.arrFlatten=He.arrDivide=He.arrGetByIds=He.arrRemoveById=He.arrGen=void 0;var vi=tr(),Q5=(t,e=void 0)=>t<1?[]:Array(t).fill(e);He.arrGen=Q5;function ek(t,e,r="id"){let n=PS(t,r),i=vi.objRemoveKeys(n,e);return vi.objVals(i)}He.arrRemoveById=ek;function tk(t,e,r="id"){let n=MS(e);return t.filter(i=>n[i[r]])}He.arrGetByIds=tk;function rk(t,e){let r=Math.ceil(t.length/e)||0,n=He.arrGen(r).map(()=>[]);return t.forEach((i,o)=>n[Math.floor(o/e)].push(i)),n}He.arrDivide=rk;function nk(t){return[].concat.apply([],t)}He.arrFlatten=nk;var ik=t=>t.reduce((e,r)=>e.concat(vi.isType(r,"array")?He.arrDeepFlatten(r):r),[]);He.arrDeepFlatten=ik;function ok(t){let e=[...t];return{all:r=>{let n=[];return t.forEach((i,o)=>vi.equal(r,i)?n[o]=o:null),{with:i=>n.length?(n.forEach(o=>e[o]=i),e):t}},first:r=>{let n=t.findIndex(i=>vi.equal(r,i));return{with:i=>vi.nonValue(n)?t:(e[n]=i,e)}}}}He.arrReplace=ok;function sk(t,e){let r=[...t];return e.forEach(n=>r=r.filter(i=>!vi.equal(i,n))),r}He.arrRemoveValues=sk;function PS(t,e){let r={};return t.forEach(n=>r[n[e]]=n),r}He.arrToDict=PS;function ak(t){let e={};return t.forEach((r,n)=>e[r]=n+""),e}He.arrToIdxDict=ak;function MS(t){let e={};return t.forEach(r=>e[r]=!0),e}He.arrToBoolDict=MS;var lk=t=>t[t.length-1];He.arrLast=lk;function uk(t,e,r=!1){let n=r?i=>vi.equal(i,e):i=>i===e;return t.findIndex(n)!==-1}He.arrHas=uk});var jS=xe(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.clone=void 0;function gp(t){let e,r,n,i,o,s,l;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t);if(r=Object.keys(t),n=r.length,Array.isArray(t)){for(s=new Array(n),i=0;i<n;i++)o=r[i],e=t[o],typeof e!="object"||e===null?s[o]=e:e instanceof Date?s[o]=new Date(e):s[o]=gp(e);return s}for(l={},i=0;i<n;i++)o=r[i],e=t[o],Object.hasOwnProperty.call(t,o)!==!1&&(typeof e!="object"||e===null?l[o]=e:e instanceof Date?l[o]=new Date(e):l[o]=gp(e));return l}xc.clone=gp});var BS=xe(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.equal=void 0;function Oc(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Oc(t[n],e[n]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;for(n of t.entries())if(!Oc(n[1],e.get(n[0])))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!Oc(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}kc.equal=Oc});var zS=xe(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.promiseOut=wt.debounceTimeOut=wt.randomColorHex=wt.uuid=wt.assertType=wt.type=wt.cloneLog=wt.unsubAll=wt.wait=wt.interval=void 0;var Mn=tr(),ck=(t,e,r)=>{if(Mn.isType(r,"number")&&r<1)throw Error(`argument "times" can't be less than 1`);let n=0,i=()=>clearInterval(o),o=setInterval(()=>{t(n,i),n++,r&&n>=r&&i()},e);return{stop:i}};wt.interval=ck;var fk=t=>new Promise(e=>setTimeout(()=>e(),t));wt.wait=fk;var US=(t,e="unsubscribe")=>Mn.isType(t,"object")&&Mn.hasKey(t,e)?t[e]():null;function hk(t,e="unsubscribe"){if(Mn.isType(t,"array"))t.forEach(r=>US(r,e));else if(Mn.isType(t,"object"))Mn.objMap(t,({val:r})=>US(r,e));else throw Error('argument "objOrArr" must be of type "object" or "array"')}wt.unsubAll=hk;var dk=t=>console.log(Mn.clone(t));wt.cloneLog=dk;function pk(t){return typeof t=="object"?Array.isArray(t)?"array":t===null?"null":"object":t!==t?"NaN":typeof t}wt.type=pk;function yk(t,e){Mn.isType(e,"array")||(e=[e]);for(let r of e)if(Mn.isType(t,r))return;throw Error(`value needs to be of type ${e.join(" || ")}`)}wt.assertType=yk;var mk=()=>{let t=new Date().getTime(),e=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=Math.random()*16;return t>0?(i=(t+i)%16|0,t=Math.floor(t/16)):(i=(e+i)%16|0,e=Math.floor(e/16)),(n==="x"?i:i&3|8).toString(16)})};wt.uuid=mk;var gk=()=>"#"+((1<<24)*Math.random()|0).toString(16);wt.randomColorHex=gk;function vk(){let t=null;return(e,r)=>{t&&clearTimeout(t),e!=="cancel"&&(t=setTimeout(e,r||0))}}wt.debounceTimeOut=vk;function wk(){let t,e=new Promise(r=>t=r);return{resolve:t,promise:e}}wt.promiseOut=wk});var VS=xe(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.iterate=void 0;var vp=mp();function _k(t,e,r){let n=(i,o=!1)=>{let s=[];for(let l=0;l<t;l++)if(!e)s.push(i({x:l}));else for(let f=0;f<e;f++)if(!r)s.push(i({x:l,y:f}));else for(let d=0;d<r;d++)s.push(i({x:l,y:f,z:d}));return o?r&&e?vp.arrDivide(s,e*r).map(f=>vp.arrDivide(f,r)):e?vp.arrDivide(s,e):s:s};return{for:i=>{n(i)},map:i=>n(i),nestedMap:i=>n(i,!0)}}Tc.iterate=_k});var qS=xe(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.newNumFromRange=Ar.numberWithCommas=Ar.decPlace=Ar.average=Ar.rand=void 0;var WS=tr(),Sk=(t,e)=>Math.floor(Math.random()*(e+1-t))+t;Ar.rand=Sk;var Ek=t=>t.reduce((e=0,r=0)=>e+r,0)/t.length;Ar.average=Ek;var bk=(t,e)=>parseFloat(t.toFixed(e));Ar.decPlace=bk;var xk=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Ar.numberWithCommas=xk;function Ok(t,e,r){let n,i=0,o=WS.isType(t,"array")?WS.arrToBoolDict(t):{[t]:!0};do if(n=Ar.rand(e,r),i++,i>1e6)throw console.error("Check for infinite loops"),new Error("Looped 1 million times");while(o[n]);return n}Ar.newNumFromRange=Ok});var $S=xe(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.objPromiseAll=ct.objSortKeys=ct.objResolve=ct.objExtract=ct.objKeyVals=ct.objVals=ct.objKeys=ct.objRemoveKeys=ct.objFilter=ct.objMap=void 0;function kk(t,e){let r={};for(let n in t)r[n]=e({key:n,val:t[n]});return r}ct.objMap=kk;function Tk(t,e){let r=Object.assign({},t);for(let n in t)e({key:n,val:t[n]})||delete r[n];return r}ct.objFilter=Tk;function Nk(t,e){let r=Object.assign({},t);return e.forEach(n=>delete r[n]),r}ct.objRemoveKeys=Nk;function Nc(t){if(Object.keys)return Object.keys(t);let e=[];for(let r in t)e.push(r);return e}ct.objKeys=Nc;var Ik=t=>Object.values?Object.values(t):Nc(t).map(e=>t[e]);ct.objVals=Ik;var Ak=t=>Nc(t).map(e=>({key:e,val:t[e]}));ct.objKeyVals=Ak;function Rk(t,e){let r={};return e.forEach(n=>r[n]=t[n]),r}ct.objExtract=Rk;var Dk=(t,e)=>e.split(".").reduce((r,n)=>r[n],t);ct.objResolve=Dk;var Fk=(t,e)=>{let r={};return Nc(t).sort(e).map(i=>r[i]=t[i]),r};ct.objSortKeys=Fk;function Ck(t){let e=ct.objKeyVals(t),r=e.length,n={},i=0;return new Promise(o=>e.forEach(({key:s,val:l})=>l.then(f=>{n[s]=f,i++,r===i&&o(n)})))}ct.objPromiseAll=Ck});var HS=xe(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.minAppend=wi.strRemove=wi.strIncludes=void 0;var Lk=(t,e)=>t.indexOf(e)!==-1;wi.strIncludes=Lk;var Pk=(t,e)=>t.replace(new RegExp(e,"g"),"");wi.strRemove=Pk;var Mk=(t,e,r="0")=>(r.repeat(e-1)+t).slice(-e);wi.minAppend=Mk});var JS=xe(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.isValidEmail=_t.nonValue=_t.nullOrEmpty=_t.isType=_t.hasKeys=_t.hasKey=_t.equalAny=void 0;var jk=tr(),GS=tr(),Bk=(t,e)=>!!e.find(r=>jk.equal(t,r));_t.equalAny=Bk;var Uk=(t,e)=>_t.isType(t,"object")&&t.hasOwnProperty(e);_t.hasKey=Uk;function zk(t,e){if(!_t.isType(t,"object"))return!1;for(let r of e)if(!t.hasOwnProperty(r))return!1;return!0}_t.hasKeys=zk;var Vk=(t,e)=>GS.type(t)===e;_t.isType=Vk;function Wk(t){return _t.nonValue(t)?!0:_t.isType(t,"string")||_t.isType(t,"array")?!t.length:_t.isType(t,"object")?!GS.objVals(t).length:!1}_t.nullOrEmpty=Wk;var qk=t=>t==null;_t.nonValue=qk;var $k=t=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t);_t.isValidEmail=$k});var YS=xe(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.yearStartEnd=we.monthStartEnd=we.weekStartEnd=we.getDayStartEnd=we.wks=we.weeks=we.dys=we.days=we.hrs=we.hours=we.min=we.minutes=we.sec=we.seconds=we.msTimeObj=we.msToTime=we.msToWks=we.msToDys=we.msToHrs=we.msToMin=we.msToSec=we.dateTimeToString=we.weekTuple=we.msTime=void 0;var Ic=tr();we.msTime={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};we.weekTuple=["sun","mon","tue","wed","thu","fri","sat"];function Hk(t=new Date){let e=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2),n=("0"+t.getSeconds()).slice(-2),i=("00"+t.getMilliseconds()).slice(-3);return`${e}:${r}:${n}:${i}`}we.dateTimeToString=Hk;var Gk=t=>t/we.msTime.s;we.msToSec=Gk;var Jk=t=>t/we.msTime.m;we.msToMin=Jk;var Yk=t=>t/we.msTime.h;we.msToHrs=Yk;var Kk=t=>t/we.msTime.d;we.msToDys=Kk;var Zk=t=>t/we.msTime.w;we.msToWks=Zk;function Xk(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);o=o%24;let l=("00"+s).slice(-3),f=("0"+o).slice(-2),d=("0"+i).slice(-2),m=("0"+n).slice(-2),v=("00"+r).slice(-3);return e?{d:s,h:o,m:i,s:n,ms:r}:`${s?l+":":""}${f}:${d}:${m}:${v}`}we.msToTime=Xk;function Qk(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);return o=o%24,e?{d:s,h:o,m:i,s:n,ms:r}:{d:("00"+s).slice(-3),h:("0"+o).slice(-2),m:("0"+i).slice(-2),s:("0"+n).slice(-2),ms:("00"+r).slice(-3)}}we.msTimeObj=Qk;var eT=t=>t*we.msTime.s;we.seconds=eT;we.sec=we.seconds;var tT=t=>t*we.msTime.m;we.minutes=tT;we.min=we.minutes;var rT=t=>t*we.msTime.h;we.hours=rT;we.hrs=we.hours;var nT=t=>t*we.msTime.d;we.days=nT;we.dys=we.days;var iT=t=>t*we.msTime.w;we.weeks=iT;we.wks=we.weeks;function oT(t,e="local"){Ic.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),o=new Date(r,n,i),s=new Date(r,n,i,23,59,59,999);if(e==="unix"){let l=we.min(o.getTimezoneOffset());o=new Date(o.getTime()+l),s=new Date(s.getTime()+l)}return{start:o,end:s}}we.getDayStartEnd=oT;function sT(t,e="sun",r="local"){Ic.isType(t,"number")&&(t=new Date(t));let i=t.getDay()*-1+(e==="mon"?1:0),o=6+i,s=new Date(t.getTime()+we.days(i)),l=new Date(t.getTime()+we.days(o)),f=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(l.getFullYear(),l.getMonth(),l.getDate(),23,59,59,999);if(r==="unix"){let m=we.min(f.getTimezoneOffset());f=new Date(f.getTime()+m),d=new Date(d.getTime()+m)}return{start:f,end:d}}we.weekStartEnd=sT;function aT(t,e="local"){Ic.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=new Date(r,n,1),o=new Date(r,n,0,23,59,59,999);if(e==="unix"){let s=we.min(i.getTimezoneOffset());i=new Date(i.getTime()+s),o=new Date(o.getTime()+s)}return{start:i,end:o}}we.monthStartEnd=aT;function lT(t,e="local"){Ic.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=new Date(r,0,1),i=new Date(r,12,0,23,59,59,999);if(e==="unix"){let o=we.min(n.getTimezoneOffset());n=new Date(n.getTime()+o),i=new Date(i.getTime()+o)}return{start:n,end:i}}we.yearStartEnd=lT});var tr=xe(Yt=>{"use strict";var uT=Yt&&Yt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sn=Yt&&Yt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uT(e,t,r)};Object.defineProperty(Yt,"__esModule",{value:!0});sn(LS(),Yt);sn(mp(),Yt);sn(jS(),Yt);sn(BS(),Yt);sn(zS(),Yt);sn(VS(),Yt);sn(qS(),Yt);sn($S(),Yt);sn(HS(),Yt);sn(JS(),Yt);sn(YS(),Yt)});var Bt=xe((VA,Ac)=>{(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(!!i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var s=e.apply(null,i);s&&r.push(s)}}else if(o==="object")if(i.toString===Object.prototype.toString)for(var l in i)t.call(i,l)&&i[l]&&r.push(l);else r.push(i.toString())}}return r.join(" ")}typeof Ac<"u"&&Ac.exports?(e.default=e,Ac.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var KS=xe(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.chevronIcons=void 0;var cT=at(),St=(0,cT.__importDefault)(Le());Rc.chevronIcons={1:{viewBox:"0 0 16 16",path:St.default.createElement("path",{"fill-rule":"evenodd",d:"M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z"})},2:{viewBox:"0 0 16 16",path:St.default.createElement("path",{"fill-rule":"evenodd",d:"M3.646 4.146a.5.5 0 0 1 .708 0L8 7.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zM1 11.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"})},3:{viewBox:"0 0 16 16",path:St.default.createElement(St.default.Fragment,null,St.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 6.646a.5.5 0 0 1 .708 0L8 12.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}),St.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 2.646a.5.5 0 0 1 .708 0L8 8.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}))},4:{viewBox:"0 0 16 16",path:St.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})},5:{viewBox:"0 0 24 24",path:St.default.createElement(St.default.Fragment,null,St.default.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),St.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},6:{viewBox:"0 0 24 24",path:St.default.createElement(St.default.Fragment,null,St.default.createElement("path",{d:"M5 21h14c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM5 5h14l.001 14H5V5z"}),St.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},7:{viewBox:"0 0 24 24",path:St.default.createElement("path",{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"})},8:{viewBox:"0 0 24 24",path:St.default.createElement(St.default.Fragment,null,St.default.createElement("path",{d:"m12 15.586-4.293-4.293-1.414 1.414L12 18.414l5.707-5.707-1.414-1.414z"}),St.default.createElement("path",{d:"m17.707 7.707-1.414-1.414L12 10.586 7.707 6.293 6.293 7.707 12 13.414z"}))},9:{viewBox:"0 0 512 512",path:St.default.createElement("path",{d:"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM273 369.9l135.5-135.5c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L256 285.1 154.4 183.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L239 369.9c9.4 9.4 24.6 9.4 34 0z"})},10:{viewBox:"0 0 24 24",path:St.default.createElement("path",{d:"M21.886 5.536A1.002 1.002 0 0 0 21 5H3a1.002 1.002 0 0 0-.822 1.569l9 13a.998.998 0 0 0 1.644 0l9-13a.998.998 0 0 0 .064-1.033zM12 17.243 4.908 7h14.184L12 17.243z"})}}});var wp=xe(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.Chevron=void 0;var XS=at(),fT=(0,XS.__importDefault)(Le()),hT=(0,XS.__importDefault)(Bt()),ZS=KS(),dT={down:"rotate-0",up:"rotate-180",left:"rotate-90",right:"-rotate-90"},pT={xs:"h-3 w-3",sm:"h-6 w-6",md:"h-12 w-12",lg:"h-24 w-24",xl:"h-48 w-48",auto:"h-full w-full"},yT=function(t){var e=t.direction,r=t.icon,n=t.size,i=n===void 0?"auto":n,o=t.className,s=t.style;return fT.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",className:(0,hT.default)("transform transition-transform duration-500 svg-fix",pT[i],dT[e],o),viewBox:ZS.chevronIcons[r].viewBox,style:s},ZS.chevronIcons[r].path)};Dc.Chevron=yT});var _i=xe(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.customScrollBar=vr.loremIpsum=vr.TextInputBorderMap=vr.regexpUtil=vr.useRefDimensions=vr.clickOutListener=void 0;var _p=Le();function mT(t,e){(0,_p.useEffect)(function(){return document.addEventListener("click",function(r){return t.current&&!t.current.contains(r.target)&&e()})},[t])}vr.clickOutListener=mT;var gT=function(t){var e,r,n=(0,_p.useState)({width:0,height:0}),i=n[0],o=n[1];return(0,_p.useEffect)(function(){if(t.current){var s=t.current.getBoundingClientRect(),l=s.width,f=s.height;o({width:l,height:f})}},[(e=t.current)===null||e===void 0?void 0:e.offsetHeight,(r=t.current)===null||r===void 0?void 0:r.offsetWidth]),i};vr.useRefDimensions=gT;vr.regexpUtil={name:/^[a-z ,.'-]+$/i,email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/};vr.TextInputBorderMap={default:"border-secondary-300 placeholder-secondary-300 focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-200",success:"border-success-400 placeholder-success-300 focus:border-success-500 focus:outline-none focus:ring-1 focus:ring-success-200",warning:"border-warning-400 placeholder-warning-300 focus:border-warning-500 focus:outline-none focus:ring-1 focus:ring-warning-200",danger:"border-danger-400 placeholder-danger-300 focus:border-danger-500 focus:outline-none focus:ring-1 focus:ring-danger-200"};vr.loremIpsum="Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.";vr.customScrollBar="scrollbar-thin scrollbar-track-secondary-200 scrollbar-thumb-secondary-400 scrollbar"});var eE=xe(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.Accordion=void 0;var ms=at(),Fc=tr(),Cc=Le(),an=(0,ms.__importDefault)(Le()),QS=(0,ms.__importDefault)(Bt()),vT=wp(),wT=_i(),_T={xs:"max-w-xs",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",auto:"w-full"},ST={danger:"text-danger-700",info:"text-info-700",primary:"text-primary-700",secondary:"text-secondary-700",success:"text-success-700",warning:"text-warning-700"},ET={danger:"border-danger-600",info:"border-info-600",primary:"border-primary-600",secondary:"border-secondary-600",success:"border-success-600",warning:"border-warning-600"};function bT(t){var e=t.title,r=t.collapseOthers,n=r===void 0?!1:r,i=t.items,o=t.size,s=o===void 0?"auto":o,l=t.type,f=l===void 0?"secondary":l,d=t.className,m=t.style,v=t.contentMaxHeigh,y=(0,Cc.useState)(Date.now()),S=y[0],O=y[1],R=function(T){return O(T)};return an.default.createElement("main",{className:(0,QS.default)(_T[s],d),style:m},an.default.createElement("div",{className:"w-full my-1"},e&&an.default.createElement("h2",{className:"text-xl font-semibold mb-2"},e),an.default.createElement("ul",{className:"flex flex-col"},i.map(function(T,I){return an.default.createElement(xT,(0,ms.__assign)({},(0,ms.__assign)((0,ms.__assign)({},T),{collapseOthers:n,onOpen:R,openId:S,type:f,contentMaxHeigh:v}),{key:I}))}))))}Lc.Accordion=bT;var xT=function(t){var e=t.title,r=t.content,n=t.onOpen,i=t.openId,o=t.collapseOthers,s=t.type,l=t.onClick,f=(0,ms.__rest)(t,["title","content","onOpen","openId","collapseOthers","type","onClick"]),d=(0,Cc.useState)(i),m=d[0],v=d[1],y=(0,Cc.useState)(!1),S=y[0],O=y[1];(0,Cc.useEffect)(function(){i!==m&&(v(i),O(!1))},[i]);var R=function(I){if(!S){var L=Date.now();v(L),o&&n(L)}O(!S),l==null||l(I)},T=(0,Fc.isType)(f.isOpen,"boolean")?f.isOpen:S;return an.default.createElement("li",{className:"bg-white my-2 shadow-lg"},an.default.createElement("h2",{onClick:R,className:`\r
                flex flex-row justify-between items-center\r
                font-semibold p-3 cursor-pointer\r
            `},(0,Fc.isType)(r,"string")?an.default.createElement("span",null,e):e,an.default.createElement(vT.Chevron,{direction:T?"up":"down",icon:8,size:"sm",className:ST[s]})),an.default.createElement("div",{className:(0,QS.default)("border-l-2 overflow-hidden max-h-0 duration-700 transition-all",wT.customScrollBar,ET[s],T&&"max-h-96"),style:{maxHeight:!(0,Fc.nonValue)(f.contentMaxHeigh)&&T?f.contentMaxHeigh:void 0}},(0,Fc.isType)(r,"string")?an.default.createElement("p",{className:"p-3 text-gray-900"},r):r))}});var tE=xe(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.AlertIcon=void 0;var OT=at(),ao=(0,OT.__importDefault)(Le()),kT={primary:ao.default.createElement("path",{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),danger:ao.default.createElement("path",{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zM8 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),info:ao.default.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}),secondary:ao.default.createElement("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}),success:ao.default.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}),warning:ao.default.createElement("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})},TT=function(t){return ao.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-6 h-6"},kT[t.type])};Pc.AlertIcon=TT});var rE=xe(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.Alert=void 0;var Ep=at(),Sp=tr(),NT=(0,Ep.__importDefault)(Bt()),Rr=(0,Ep.__importStar)(Le()),IT=tE(),AT={primary:"text-primary-600",secondary:"text-secondary-600",info:"text-info-600",warning:"text-warning-600",danger:"text-danger-600",success:"text-success-600"},RT={primary:"text-primary-900",secondary:"text-secondary-900",info:"text-info-900",warning:"text-warning-900",danger:"text-danger-900",success:"text-success-900"},DT=function(t){(0,Ep.__extends)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={botW:100,isClosing:!1,isClosed:!1,isHover:!1,transitionDuration:void 0},r.closingDebounce=(0,Sp.debounceTimeOut)(),r.handleMouseHover=function(n){var i=r.props.timeoutMs,o=!(0,Sp.nonValue)(i);o&&!n?r.closingDebounce(r.startClosing,i):n&&r.closingDebounce("cancel"),r.setState(n?{isClosing:!1,botW:100,isHover:n}:{isHover:n,botW:o?0:100})},r.startClosing=function(){r.setState({isClosing:!0}),r.closingDebounce(r.close,700)},r.close=function(){r.props.onClose&&r.props.onClose(),r.setState({isClosed:!0})},r.componentWillUnmount=function(){return r.closingDebounce("cancel")},r.render=function(){var n=r.props,i=n.title,o=n.text,s=n.type,l=n.className,f=n.style,d=r.state,m=d.isHover,v=d.isClosing,y=d.botW,S=d.transitionDuration,O=d.isClosed,R=m?void 0:S,T=(0,NT.default)("bg-white border border-current border-b-0 rounded-lg flex flex-col overflow-hidden transition-opacity duration-700",{"opacity-0":v},AT[s],l);return O?null:Rr.default.createElement("div",{className:T,style:f,onMouseEnter:function(){return r.handleMouseHover(!0)},onMouseLeave:function(){return r.handleMouseHover(!1)}},Rr.default.createElement("div",{className:"p-1 flex w-full overflow-hidden mx-auto"},Rr.default.createElement("div",{className:"pt-2 ml-3"},Rr.default.createElement(IT.AlertIcon,{type:s})),Rr.default.createElement("div",{className:"w-full flex justify-between items-start px-0 py-2"},Rr.default.createElement("div",{className:"ml-3"},Rr.default.createElement("p",{className:"font-bold"},i),o&&Rr.default.createElement("p",{className:"mt-1 text-sm ".concat(RT[s])},o)),Rr.default.createElement("a",{className:"mr-1 cursor-pointer",onClick:r.close},Rr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Rr.default.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),Rr.default.createElement("span",{className:"border-b-4 border-current transition-all ease-linear",style:{width:"".concat(y,"%"),transitionDuration:R}}))},r}return e.prototype.componentDidMount=function(){var r=this,n=this.props.timeoutMs;(0,Sp.nonValue)(n)||(this.setState({transitionDuration:"".concat(n,"ms")}),setTimeout(function(){return r.setState({botW:0})},0),this.closingDebounce(this.startClosing,n))},e}(Rr.Component);Mc.Alert=DT});var Bc=xe(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.Badge=void 0;var iE=at(),FT=tr(),CT=(0,iE.__importDefault)(Bt()),nE=(0,iE.__importDefault)(Le()),LT={xs:"h-2 min-w-2",sm:"h-3 min-w-3",md:"h-4 min-w-4",lg:"h-6 min-w-6",xl:"h-12 min-w-12"},PT={md:"text-xs",lg:"text-base",xl:"text-2xl"},MT=function(t){var e=t.size,r=t.badge,n=t.className;return r?nE.default.createElement("div",{className:(0,CT.default)("bg-info-600 rounded-full absolute top-0 right-0 pl-1 pr-1 flex justify-center text-gray-100",LT[e],n)},(0,FT.isType)(r,"number")&&e!=="sm"&&e!=="xs"&&nE.default.createElement("span",{className:"m-auto ".concat(PT[e])},r>999?"+999":r)):null};jc.Badge=MT});var oE=xe(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.spinnersSvg=void 0;Uc.spinnersSvg=['<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 6h-6l2.243-2.243c-1.133-1.133-2.64-1.757-4.243-1.757s-3.109 0.624-4.243 1.757c-1.133 1.133-1.757 2.64-1.757 4.243s0.624 3.109 1.757 4.243c1.133 1.133 2.64 1.757 4.243 1.757s3.109-0.624 4.243-1.757c0.095-0.095 0.185-0.192 0.273-0.292l1.505 1.317c-1.466 1.674-3.62 2.732-6.020 2.732-4.418 0-8-3.582-8-8s3.582-8 8-8c2.209 0 4.209 0.896 5.656 2.344l2.343-2.344v6z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0.001 8.025l-0 0c0 0 0 0.001 0 0.003 0.002 0.061 0.009 0.12 0.021 0.177 0.003 0.027 0.007 0.057 0.011 0.090 0.003 0.029 0.007 0.061 0.011 0.095 0.006 0.040 0.012 0.083 0.019 0.128 0.013 0.090 0.028 0.189 0.045 0.296 0.021 0.101 0.044 0.21 0.068 0.326 0.011 0.058 0.028 0.117 0.044 0.178s0.032 0.123 0.049 0.188c0.009 0.032 0.016 0.065 0.027 0.097s0.021 0.065 0.031 0.098 0.043 0.134 0.065 0.203c0.006 0.017 0.011 0.035 0.017 0.052s0.013 0.034 0.019 0.052 0.026 0.070 0.039 0.105c0.027 0.070 0.053 0.142 0.081 0.215 0.031 0.071 0.062 0.144 0.094 0.218 0.016 0.037 0.032 0.074 0.048 0.111s0.035 0.073 0.053 0.111 0.073 0.148 0.11 0.224c0.039 0.075 0.081 0.149 0.123 0.224 0.021 0.037 0.042 0.075 0.063 0.113s0.045 0.074 0.068 0.112 0.093 0.149 0.14 0.224c0.198 0.295 0.417 0.587 0.66 0.864 0.245 0.275 0.511 0.535 0.792 0.775 0.284 0.236 0.582 0.452 0.886 0.642 0.306 0.188 0.619 0.349 0.928 0.487 0.078 0.032 0.156 0.063 0.232 0.095 0.038 0.015 0.076 0.032 0.115 0.046s0.077 0.027 0.115 0.041 0.151 0.054 0.226 0.078c0.075 0.022 0.15 0.044 0.224 0.066 0.037 0.011 0.073 0.022 0.109 0.031s0.073 0.018 0.109 0.027 0.143 0.035 0.213 0.052c0.070 0.014 0.139 0.027 0.207 0.040 0.034 0.006 0.067 0.013 0.101 0.019 0.017 0.003 0.033 0.006 0.049 0.009s0.033 0.005 0.049 0.007c0.066 0.009 0.13 0.018 0.192 0.027 0.031 0.004 0.062 0.009 0.093 0.013s0.061 0.006 0.091 0.009 0.118 0.010 0.174 0.015c0.056 0.005 0.111 0.011 0.164 0.012 0.004 0 0.007 0 0.011 0 0.010 0.544 0.453 0.982 1 0.982 0.008 0 0.017-0 0.025-0.001v0c0 0 0.001-0 0.004-0 0.061-0.002 0.12-0.009 0.177-0.021 0.027-0.003 0.057-0.007 0.090-0.011 0.029-0.003 0.061-0.007 0.095-0.011 0.040-0.006 0.083-0.012 0.128-0.019 0.090-0.013 0.189-0.028 0.296-0.045 0.101-0.021 0.21-0.044 0.326-0.068 0.058-0.011 0.117-0.028 0.178-0.044s0.123-0.033 0.188-0.049c0.032-0.009 0.065-0.016 0.097-0.027s0.065-0.021 0.098-0.031 0.134-0.043 0.203-0.065c0.017-0.006 0.035-0.011 0.052-0.017s0.034-0.013 0.052-0.019 0.070-0.026 0.105-0.039c0.070-0.027 0.142-0.053 0.215-0.081 0.071-0.031 0.144-0.062 0.218-0.094 0.037-0.016 0.074-0.032 0.111-0.048s0.073-0.035 0.111-0.053 0.148-0.073 0.224-0.11c0.075-0.039 0.149-0.081 0.224-0.123 0.037-0.021 0.075-0.042 0.113-0.063s0.074-0.045 0.112-0.068 0.149-0.093 0.224-0.14c0.295-0.197 0.587-0.417 0.864-0.66 0.275-0.245 0.535-0.511 0.775-0.792 0.236-0.284 0.452-0.582 0.642-0.886 0.188-0.306 0.349-0.619 0.487-0.928 0.032-0.078 0.063-0.156 0.095-0.232 0.015-0.038 0.032-0.076 0.046-0.115s0.027-0.077 0.040-0.115 0.054-0.151 0.078-0.226c0.022-0.075 0.044-0.15 0.066-0.224 0.011-0.037 0.022-0.073 0.031-0.109s0.018-0.073 0.027-0.109 0.035-0.143 0.052-0.213c0.014-0.070 0.027-0.139 0.040-0.207 0.006-0.034 0.013-0.067 0.019-0.101 0.003-0.017 0.006-0.033 0.009-0.049s0.005-0.033 0.007-0.050c0.009-0.065 0.018-0.13 0.027-0.192 0.004-0.031 0.009-0.062 0.013-0.093s0.006-0.061 0.009-0.091 0.010-0.118 0.015-0.174c0.005-0.056 0.011-0.111 0.012-0.165 0-0.008 0.001-0.016 0.001-0.025 0.55-0.002 0.996-0.449 0.996-1 0-0.008-0-0.017-0.001-0.025h0c0 0-0-0.001-0-0.003-0.002-0.061-0.009-0.12-0.021-0.177-0.003-0.027-0.007-0.057-0.011-0.090-0.003-0.029-0.007-0.061-0.011-0.095-0.006-0.040-0.012-0.083-0.019-0.128-0.013-0.090-0.028-0.189-0.045-0.296-0.021-0.101-0.044-0.21-0.068-0.326-0.011-0.058-0.028-0.117-0.044-0.178s-0.032-0.123-0.049-0.188c-0.009-0.032-0.016-0.065-0.027-0.097s-0.021-0.065-0.031-0.098-0.043-0.134-0.065-0.203c-0.005-0.017-0.011-0.035-0.017-0.052s-0.013-0.034-0.019-0.052-0.026-0.070-0.039-0.105c-0.027-0.070-0.053-0.142-0.081-0.215-0.031-0.071-0.062-0.144-0.094-0.218-0.016-0.037-0.032-0.074-0.048-0.111s-0.035-0.073-0.053-0.111-0.073-0.148-0.11-0.224c-0.039-0.075-0.081-0.149-0.123-0.224-0.021-0.037-0.042-0.075-0.063-0.113s-0.045-0.074-0.068-0.112-0.093-0.149-0.14-0.224c-0.197-0.295-0.417-0.587-0.66-0.864-0.245-0.275-0.511-0.535-0.792-0.775-0.284-0.236-0.582-0.452-0.886-0.642-0.306-0.188-0.619-0.349-0.928-0.487-0.078-0.032-0.156-0.063-0.232-0.095-0.038-0.015-0.076-0.032-0.115-0.046s-0.077-0.027-0.115-0.040-0.151-0.054-0.226-0.078c-0.075-0.022-0.15-0.044-0.224-0.066-0.037-0.010-0.073-0.022-0.109-0.031s-0.073-0.018-0.109-0.027-0.143-0.035-0.213-0.052c-0.070-0.014-0.139-0.027-0.207-0.040-0.034-0.006-0.067-0.013-0.101-0.019-0.017-0.003-0.033-0.006-0.049-0.009s-0.033-0.005-0.049-0.007c-0.066-0.009-0.13-0.018-0.192-0.027-0.031-0.004-0.062-0.009-0.093-0.013s-0.061-0.006-0.091-0.009-0.118-0.010-0.174-0.015c-0.056-0.005-0.111-0.011-0.164-0.012-0.013-0-0.026-0.001-0.039-0.001-0.010-0.543-0.454-0.981-0.999-0.981-0.008 0-0.017 0-0.025 0.001l-0-0c0 0-0.001 0-0.003 0-0.061 0.002-0.12 0.009-0.177 0.021-0.027 0.003-0.057 0.007-0.090 0.011-0.029 0.003-0.061 0.007-0.095 0.011-0.040 0.006-0.083 0.012-0.128 0.019-0.090 0.013-0.189 0.028-0.296 0.045-0.101 0.021-0.21 0.044-0.326 0.068-0.058 0.011-0.117 0.028-0.178 0.044s-0.123 0.033-0.188 0.049c-0.032 0.009-0.065 0.016-0.097 0.027s-0.065 0.021-0.098 0.031-0.134 0.043-0.203 0.065c-0.017 0.006-0.035 0.011-0.052 0.017s-0.034 0.013-0.052 0.019-0.070 0.026-0.105 0.039c-0.070 0.027-0.142 0.053-0.215 0.081-0.071 0.031-0.144 0.062-0.218 0.094-0.037 0.016-0.074 0.032-0.111 0.048s-0.073 0.035-0.111 0.053-0.148 0.073-0.224 0.11c-0.075 0.039-0.149 0.081-0.224 0.123-0.037 0.021-0.075 0.042-0.113 0.063s-0.074 0.045-0.112 0.068-0.149 0.093-0.224 0.14c-0.295 0.198-0.587 0.417-0.864 0.66-0.275 0.245-0.535 0.511-0.775 0.792-0.236 0.284-0.452 0.582-0.642 0.886-0.188 0.306-0.349 0.619-0.487 0.928-0.032 0.078-0.063 0.156-0.095 0.232-0.015 0.038-0.032 0.076-0.046 0.115s-0.027 0.077-0.040 0.115-0.054 0.151-0.078 0.226c-0.022 0.075-0.044 0.15-0.066 0.224-0.011 0.037-0.022 0.073-0.032 0.109s-0.018 0.073-0.027 0.109-0.035 0.143-0.052 0.213c-0.014 0.070-0.027 0.139-0.040 0.207-0.006 0.034-0.013 0.067-0.019 0.101-0.003 0.017-0.006 0.033-0.009 0.049s-0.005 0.033-0.007 0.050c-0.009 0.065-0.018 0.13-0.027 0.192-0.004 0.031-0.009 0.062-0.013 0.093s-0.006 0.061-0.009 0.091-0.010 0.118-0.015 0.174c-0.005 0.056-0.011 0.111-0.012 0.165-0 0.009-0.001 0.017-0.001 0.025-0.537 0.017-0.967 0.458-0.967 0.999 0 0.008 0 0.017 0.001 0.025zM1.149 7.011c0.001-0.003 0.001-0.006 0.002-0.009 0.010-0.051 0.026-0.102 0.040-0.155s0.030-0.107 0.045-0.163c0.008-0.028 0.015-0.056 0.024-0.084s0.019-0.057 0.028-0.086 0.038-0.116 0.058-0.176c0.005-0.015 0.010-0.030 0.015-0.045s0.012-0.030 0.017-0.045 0.023-0.060 0.035-0.091 0.048-0.123 0.073-0.186c0.028-0.062 0.056-0.125 0.084-0.189 0.014-0.032 0.028-0.064 0.043-0.096s0.032-0.064 0.048-0.096 0.065-0.128 0.098-0.194c0.034-0.065 0.073-0.128 0.109-0.194 0.018-0.032 0.037-0.065 0.056-0.098s0.040-0.064 0.061-0.096c0.041-0.064 0.082-0.129 0.124-0.194 0.176-0.255 0.369-0.506 0.583-0.744 0.217-0.236 0.451-0.459 0.697-0.665 0.25-0.202 0.511-0.385 0.776-0.547 0.268-0.159 0.541-0.294 0.808-0.41 0.068-0.027 0.135-0.053 0.202-0.079 0.033-0.013 0.066-0.027 0.099-0.038s0.067-0.022 0.1-0.033 0.131-0.045 0.196-0.065c0.065-0.018 0.13-0.036 0.194-0.054 0.032-0.009 0.063-0.019 0.095-0.026s0.063-0.014 0.094-0.021 0.123-0.028 0.184-0.042c0.061-0.011 0.12-0.021 0.179-0.032 0.029-0.005 0.058-0.010 0.087-0.015 0.014-0.003 0.029-0.005 0.043-0.008s0.029-0.003 0.043-0.005c0.056-0.007 0.112-0.014 0.166-0.020 0.027-0.003 0.053-0.007 0.080-0.010s0.053-0.004 0.078-0.006 0.102-0.007 0.15-0.011c0.049-0.003 0.095-0.008 0.142-0.008 0.091-0.002 0.177-0.004 0.256-0.006 0.073 0.003 0.14 0.005 0.2 0.007 0.030 0.001 0.058 0.002 0.085 0.002 0.033 0.002 0.064 0.004 0.093 0.006 0.033 0.002 0.063 0.004 0.091 0.006 0.051 0.008 0.103 0.012 0.156 0.012 0.007 0 0.015-0 0.022-0.001 0.002 0 0.004 0 0.004 0v-0c0.487-0.012 0.887-0.372 0.962-0.84 0.008 0.002 0.017 0.004 0.025 0.006 0.051 0.010 0.102 0.026 0.155 0.040s0.107 0.030 0.163 0.045c0.028 0.008 0.056 0.015 0.084 0.024s0.057 0.019 0.086 0.028 0.116 0.038 0.176 0.058c0.015 0.005 0.030 0.010 0.045 0.015s0.030 0.012 0.045 0.017 0.060 0.023 0.091 0.035 0.123 0.048 0.186 0.073c0.062 0.028 0.125 0.056 0.189 0.084 0.032 0.014 0.064 0.028 0.096 0.043s0.064 0.032 0.096 0.048 0.128 0.065 0.194 0.098c0.065 0.034 0.129 0.073 0.194 0.109 0.032 0.018 0.065 0.037 0.098 0.056s0.064 0.040 0.096 0.061 0.129 0.082 0.194 0.124c0.255 0.176 0.506 0.369 0.744 0.583 0.236 0.217 0.459 0.451 0.665 0.697 0.202 0.25 0.385 0.511 0.547 0.776 0.159 0.268 0.294 0.541 0.41 0.808 0.027 0.068 0.053 0.135 0.079 0.202 0.013 0.033 0.027 0.066 0.038 0.099s0.022 0.067 0.033 0.1 0.045 0.131 0.065 0.196c0.018 0.065 0.036 0.13 0.054 0.194 0.009 0.032 0.019 0.063 0.026 0.095s0.014 0.063 0.021 0.094 0.028 0.123 0.042 0.184c0.011 0.061 0.021 0.12 0.032 0.179 0.005 0.029 0.010 0.058 0.015 0.087 0.003 0.014 0.005 0.029 0.008 0.043s0.003 0.029 0.005 0.043c0.007 0.056 0.014 0.112 0.020 0.166 0.003 0.027 0.007 0.053 0.010 0.080s0.004 0.053 0.006 0.078 0.007 0.102 0.011 0.15c0.003 0.049 0.008 0.095 0.008 0.142 0.002 0.091 0.004 0.177 0.006 0.256-0.003 0.073-0.005 0.14-0.007 0.2-0.001 0.030-0.002 0.058-0.002 0.085-0.002 0.033-0.004 0.064-0.006 0.093-0.002 0.033-0.004 0.063-0.006 0.091-0.008 0.051-0.012 0.103-0.012 0.156 0 0.007 0 0.015 0.001 0.022-0 0.002-0 0.004-0 0.004h0c0.012 0.481 0.363 0.877 0.823 0.959-0.001 0.005-0.002 0.009-0.003 0.014-0.010 0.051-0.025 0.102-0.040 0.155s-0.030 0.107-0.045 0.163c-0.008 0.028-0.015 0.056-0.024 0.084s-0.019 0.057-0.028 0.086-0.039 0.116-0.058 0.176c-0.005 0.015-0.010 0.030-0.015 0.045s-0.012 0.030-0.017 0.045-0.023 0.060-0.035 0.091-0.048 0.123-0.073 0.186c-0.028 0.062-0.056 0.125-0.084 0.189-0.014 0.032-0.028 0.064-0.043 0.096s-0.032 0.064-0.048 0.096-0.065 0.128-0.098 0.194c-0.034 0.065-0.073 0.129-0.109 0.194-0.018 0.032-0.037 0.065-0.056 0.098s-0.040 0.064-0.061 0.096-0.082 0.129-0.124 0.194c-0.176 0.255-0.369 0.506-0.583 0.744-0.217 0.236-0.451 0.459-0.697 0.665-0.25 0.202-0.511 0.385-0.776 0.547-0.268 0.159-0.541 0.294-0.808 0.41-0.068 0.027-0.135 0.053-0.202 0.079-0.033 0.013-0.066 0.027-0.099 0.038s-0.067 0.022-0.1 0.033-0.131 0.045-0.196 0.065c-0.065 0.018-0.13 0.036-0.194 0.054-0.032 0.009-0.063 0.019-0.095 0.026s-0.063 0.014-0.094 0.021-0.123 0.028-0.184 0.042c-0.061 0.011-0.12 0.021-0.179 0.032-0.029 0.005-0.058 0.010-0.087 0.015-0.014 0.003-0.028 0.005-0.043 0.008s-0.029 0.003-0.043 0.005c-0.056 0.007-0.112 0.014-0.166 0.020-0.027 0.003-0.053 0.007-0.080 0.010s-0.053 0.004-0.078 0.006-0.102 0.007-0.15 0.011c-0.049 0.003-0.095 0.008-0.142 0.008-0.091 0.002-0.177 0.004-0.256 0.006-0.073-0.003-0.14-0.005-0.2-0.007-0.030-0.001-0.058-0.002-0.085-0.002-0.033-0.002-0.064-0.004-0.093-0.006-0.033-0.002-0.063-0.004-0.091-0.006-0.051-0.008-0.103-0.012-0.156-0.012-0.007 0-0.015 0-0.022 0.001-0.002-0-0.003-0-0.003-0v0c-0.484 0.012-0.883 0.369-0.961 0.834-0.050-0.010-0.101-0.025-0.153-0.039s-0.107-0.030-0.163-0.045c-0.028-0.008-0.056-0.015-0.084-0.024s-0.057-0.019-0.086-0.028-0.116-0.039-0.176-0.058c-0.015-0.005-0.030-0.010-0.045-0.015s-0.030-0.012-0.045-0.017-0.060-0.023-0.091-0.035-0.123-0.048-0.186-0.073c-0.062-0.028-0.125-0.056-0.189-0.084-0.032-0.014-0.064-0.028-0.096-0.043s-0.064-0.032-0.096-0.048-0.128-0.065-0.194-0.098c-0.065-0.034-0.129-0.073-0.194-0.109-0.032-0.018-0.065-0.037-0.098-0.056s-0.064-0.040-0.096-0.061c-0.064-0.041-0.129-0.082-0.194-0.124-0.255-0.175-0.506-0.369-0.744-0.583-0.236-0.217-0.459-0.451-0.665-0.697-0.202-0.25-0.385-0.511-0.547-0.776-0.159-0.268-0.294-0.541-0.41-0.808-0.027-0.068-0.053-0.135-0.079-0.202-0.013-0.033-0.027-0.066-0.038-0.099s-0.022-0.067-0.033-0.1-0.045-0.131-0.065-0.196c-0.018-0.065-0.036-0.13-0.054-0.194-0.009-0.032-0.019-0.063-0.026-0.095s-0.014-0.063-0.021-0.094-0.028-0.123-0.042-0.184c-0.011-0.061-0.021-0.12-0.032-0.179-0.005-0.029-0.010-0.058-0.015-0.087-0.003-0.014-0.005-0.028-0.008-0.043s-0.003-0.029-0.005-0.043c-0.007-0.056-0.014-0.112-0.020-0.166-0.003-0.027-0.007-0.053-0.010-0.080s-0.004-0.053-0.006-0.078-0.007-0.101-0.011-0.15c-0.003-0.049-0.008-0.095-0.008-0.142-0.002-0.091-0.004-0.177-0.006-0.256 0.003-0.073 0.005-0.14 0.007-0.2 0.001-0.030 0.002-0.058 0.002-0.085 0.002-0.033 0.004-0.064 0.006-0.093 0.002-0.033 0.004-0.063 0.006-0.091 0.008-0.051 0.012-0.103 0.012-0.156 0-0.007-0-0.015-0.001-0.022 0-0.002 0-0.003 0-0.003h-0c-0.012-0.49-0.377-0.893-0.851-0.964z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.355 0-7.898 3.481-7.998 7.812 0.092-3.779 2.966-6.812 6.498-6.812 3.59 0 6.5 3.134 6.5 7 0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-4.418-3.582-8-8-8zM8 16c4.355 0 7.898-3.481 7.998-7.812-0.092 3.779-2.966 6.812-6.498 6.812-3.59 0-6.5-3.134-6.5-7 0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5c0 4.418 3.582 8 8 8z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zM12.773 12.773c-1.275 1.275-2.97 1.977-4.773 1.977s-3.498-0.702-4.773-1.977-1.977-2.97-1.977-4.773c0-1.803 0.702-3.498 1.977-4.773l1.061 1.061c0 0 0 0 0 0-2.047 2.047-2.047 5.378 0 7.425 0.992 0.992 2.31 1.538 3.712 1.538s2.721-0.546 3.712-1.538c2.047-2.047 2.047-5.378 0-7.425l1.061-1.061c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 8c0-0.19 0.011-0.378 0.032-0.563l-2.89-0.939c-0.092 0.487-0.141 0.989-0.141 1.502 0 2.3 0.971 4.374 2.526 5.833l1.786-2.458c-0.814-0.889-1.312-2.074-1.312-3.375zM13 8c0 1.301-0.497 2.486-1.312 3.375l1.786 2.458c1.555-1.459 2.526-3.533 2.526-5.833 0-0.513-0.049-1.015-0.141-1.502l-2.89 0.939c0.021 0.185 0.032 0.373 0.032 0.563zM9 3.1c1.436 0.292 2.649 1.199 3.351 2.435l2.89-0.939c-1.144-2.428-3.473-4.188-6.241-4.534v3.038zM3.649 5.535c0.702-1.236 1.914-2.143 3.351-2.435v-3.038c-2.769 0.345-5.097 2.105-6.241 4.534l2.89 0.939zM10.071 12.552c-0.631 0.288-1.332 0.448-2.071 0.448s-1.44-0.16-2.071-0.448l-1.786 2.458c1.144 0.631 2.458 0.99 3.857 0.99s2.713-0.359 3.857-0.99l-1.786-2.458z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c-2.137 0-4.146-0.832-5.657-2.343s-2.343-3.52-2.343-5.657c0-1.513 0.425-2.986 1.228-4.261 0.781-1.239 1.885-2.24 3.193-2.895l0.672 1.341c-1.063 0.533-1.961 1.347-2.596 2.354-0.652 1.034-0.997 2.231-0.997 3.461 0 3.584 2.916 6.5 6.5 6.5s6.5-2.916 6.5-6.5c0-1.23-0.345-2.426-0.997-3.461-0.635-1.008-1.533-1.822-2.596-2.354l0.672-1.341c1.308 0.655 2.412 1.656 3.193 2.895 0.803 1.274 1.228 2.748 1.228 4.261 0 2.137-0.832 4.146-2.343 5.657s-3.52 2.343-5.657 2.343z"/></svg>']});var zc=xe(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.Spinner=lo.spinnerSizeMap=void 0;var sE=at(),jT=(0,sE.__importDefault)(Bt()),bp=(0,sE.__importDefault)(Le()),BT=oE();lo.spinnerSizeMap={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"};var UT=function(t){var e=t.type,r=e===void 0?1:e,n=t.size,i=n===void 0?"auto":n,o=t.className;return bp.default.createElement("div",{className:(0,jT.default)("overflow-hidden",o,lo.spinnerSizeMap[i])},r==="pulse"?bp.default.createElement("div",{className:"bg-secondary-300 h-full w-full animate-pulse"}):bp.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(BT.spinnersSvg[r-1]),className:"animate-spin h-full w-full"}))};lo.Spinner=UT});var Vc=xe(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.AvatarInner=uo.Avatar=void 0;var xp=at(),aE=tr(),wr=(0,xp.__importStar)(Le()),zT=Bc(),VT=(0,xp.__importDefault)(Bt()),WT={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},qT=zc(),$T=function(t){var e=t.dataState,r=t.imgSrc,n=t.backgroundColor,i=t.status,o=t.badge,s=t.size,l=t.onClick,f=t.className,d=function(){if(e==="loading"||e==="error")return e==="error"?"Couldn't Load User":e==="loading"?"Loading...":"";if((0,aE.isType)(t.name,"string")||!t.name)return t.name||"";var m=t.name,v=m.first,y=m.last;return"".concat(v," ").concat(y)}();return wr.default.createElement("div",{onClick:l,className:(0,VT.default)(`
            flex relative justify-center items-center
            m-1 mr-2 rounded-full text-white`,WT[s],!(n||e==="loading")&&"bg-secondary-500",e==="loading"&&" overflow-hidden",l&&"cursor-pointer",f),title:e==="error"?"Couldn't Load User":e==="loading"?"Loading...":d,style:{backgroundColor:n}},wr.default.createElement(uo.AvatarInner,(0,xp.__assign)({},{dataState:e,imgSrc:r,badge:o,size:s,status:i,name:d})))};uo.Avatar=$T;var HT={xs:"text-sm",sm:"text-xl",md:"text-4xl",lg:"text-7xl",xl:"text-9xl"},GT=function(t){if(t.dataState==="loading")return wr.default.createElement(qT.Spinner,{size:"auto",type:"pulse"});if(t.dataState==="error")return wr.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(ZT),className:"rounded-full h-full w-full"});var e=t.imgSrc,r=t.status,n=t.badge,i=t.size,o=t.name,s=o===void 0?"":o,l=(0,wr.useState)(e?"loading":"error"),f=l[0],d=l[1],m=(0,aE.isType)(s,"string")?s.substring(0,2):"".concat(s.first[0].toUpperCase()).concat(s.last[0].toUpperCase());return wr.default.createElement(wr.default.Fragment,null,wr.default.createElement(zT.Badge,{size:i,badge:n}),f==="error"?wr.default.createElement("span",{className:HT[i]},m):wr.default.createElement("img",{className:"rounded-full h-full w-full",src:e,onLoad:function(){return d("success")},onError:function(){return d("error")}}),r&&wr.default.createElement(KT,{size:i,status:r}))};uo.AvatarInner=GT;var JT={xs:"h-2 w-2",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-12 w-12"},YT={online:"bg-success-500",offline:"bg-danger-500",busy:"bg-warning-500",away:"bg-secondary-500"},KT=function(t){return wr.default.createElement("span",{className:"flex absolute bottom-0 right-0"},t.status==="online"&&wr.default.createElement("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success-400 opacity-75"}),wr.default.createElement("span",{className:"relative inline-flex rounded-full ".concat(YT[t.status]," ").concat(JT[t.size])}))},ZT='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"/><path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/></svg>'});var cE=xe(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.AvatarGroup=void 0;var kp=at(),Op=(0,kp.__importDefault)(Bt()),nl=(0,kp.__importDefault)(Le()),lE=Vc(),uE={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},XT=function(t){var e=t.maxShow,r=e===void 0?5:e,n=t.avatars,i=t.size,o=t.onClick;if(r<1)return console.error(`Property "maxShow" can't be less than 1`),null;var s=n.slice(0,r),l=n.length-s.length;return nl.default.createElement("div",{className:(0,Op.default)("flex flex-row-reverse justify-center mt-10",o&&"cursor-pointer",t.className),onClick:o},l>0&&nl.default.createElement("div",{className:(0,Op.default)(`
                flex flex-shrink-0 relative
                bg-secondary-500
                justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 text-xl text-white`,uE[i])},nl.default.createElement(lE.AvatarInner,{size:i,dataState:"done",name:"+".concat(l)})),s.map(function(f,d){var m=f.dataState,v=f.backgroundColor,y=f.imgSrc,S=f.name,O=f.status,R={dataState:m,name:S,imgSrc:y,status:O,size:i};return nl.default.createElement("div",{className:(0,Op.default)("flex flex-shrink-0 relative justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 border-white",!(f.backgroundColor||f.dataState==="loading")&&"bg-secondary-500",uE[i]),style:{backgroundColor:v},key:d},nl.default.createElement(lE.AvatarInner,(0,kp.__assign)({},R)))}))};Wc.AvatarGroup=XT});var $c=xe(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.Backdrop=void 0;var Np=at(),QT=(0,Np.__importDefault)(Bt()),Tp=(0,Np.__importStar)(Le()),eN=function(t){var e=t.zIndex,r=t.onBackdropClick,n=t.maxOpacity,i=n===void 0?40:n,o=t.transition,s=o===void 0?!0:o,l=t.style,f=t.className,d=(0,Tp.useState)(!s),m=d[0],v=d[1];return(0,Tp.useEffect)(function(){return!m&&setTimeout(function(){return v(!0)},0)},[m]),Tp.default.createElement("div",{className:(0,QT.default)("fixed top-0 left-0 right-0 w-screen h-screen bg-black",s&&"transition-opacity duration-200",f),style:(0,Np.__assign)({zIndex:e,opacity:m?Number((i/100).toFixed(2)):0},l),onClick:r})};qc.Backdrop=eN});var il=xe(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.Button=void 0;var Hc=at(),tN=(0,Hc.__importDefault)(Bt()),Ip=(0,Hc.__importStar)(Le()),rN=Bc(),nN={xs:"text-xs p-0.5 px-1",sm:"text-sm p-1 px-2",md:"text-base p-1.5 px-3",lg:"text-lg p-2 px-4",xl:"text-xl p-2.5 px-5",auto:"p-1.5 text-base h-full w-full"},iN={primary:"bg-primary-500",secondary:"bg-secondary-500",success:"bg-success-500",info:"bg-info-500",danger:"bg-danger-500",warning:"bg-warning-500"},oN={primary:"hover:bg-primary-600",secondary:"hover:bg-secondary-600",success:"hover:bg-success-600",info:"hover:bg-info-600",danger:"hover:bg-danger-700",warning:"hover:bg-warning-600"},sN={primary:"border-primary-500 text-primary-500",secondary:"border-secondary-500 text-secondary-500",success:"border-success-500 text-success-500",info:"border-info-500 text-info-500",danger:"border-danger-500 text-danger-500",warning:"border-warning-500 text-warning-500"},aN={xs:"xs",sm:"sm",md:"md",lg:"md",xl:"lg",auto:"md"},lN=function(t){var e=t.size,r=e===void 0?"md":e,n=t.type,i=n===void 0?"secondary":n,o=t.shape,s=o===void 0?"round":o,l=t.outline,f=l===void 0?!1:l,d=t.badge,m=t.className,v=t.disabled,y=t.children,S=t.htmlType,O=S===void 0?"button":S,R=(0,Hc.__rest)(t,["size","type","shape","outline","badge","className","disabled","children","htmlType"]),T=(0,Ip.useState)(!1),I=T[0],L=T[1];return Ip.default.createElement("button",(0,Hc.__assign)({type:O,className:(0,tN.default)("relative text-gray-100 font-normal border-2 transition-all",nN[r],f&&!I?sN[i]:iN[i]+" border-transparent",s==="flat"?"rounded-none":"rounded-lg",v&&"opacity-60",!v&&oN[i],m),onMouseEnter:function(){return L(!v)},onMouseLeave:function(){return L(!1)},disabled:v},R),d&&Ip.default.createElement(rN.Badge,{size:aN[r],badge:d,className:r==="xs"||r==="sm"?"-top-1.5 -right-1.5":"-top-2 -right-3"}),y)};Gc.Button=lN});var fE=xe(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.Dropdown=void 0;var Jc=at(),uN=tr(),ol=(0,Jc.__importDefault)(Bt()),_r=(0,Jc.__importStar)(Le()),cN=_i(),fN={xs:"w-30",sm:"w-44",md:"w-60",lg:"w-80",xl:"w-96",auto:"w-full"};function hN(t){var e=t.header,r=t.items,n=t.show,i=t.children,o=t.itemBorders,s=t.size,l=s===void 0?"md":s,f=t.className,d=t.align,m=d===void 0?"left":d,v=t.containerClassName,y=(0,_r.useState)(n||!1),S=y[0],O=y[1],R=function(){return setTimeout(function(){return O(!1)},0)},T=(0,_r.useRef)(null);(0,cN.clickOutListener)(T,R);var I=o?r.filter(function(Y){return Y.type!=="break"}):r,L={onClick:function(){return O(!S)},onBlur:R};return _r.default.createElement("div",(0,Jc.__assign)({className:(0,ol.default)("relative",v)},n??L,{ref:T}),i,_r.default.createElement("div",{className:(0,ol.default)("animate-slide-down absolute bg-white text-sm list-none divide-gray-100 rounded-sm shadow-md border",!(n??S)&&"hidden",m==="right"&&"right-0 left-auto",fN[l],f)},e&&_r.default.createElement("div",{className:(0,ol.default)("cursor-default",o&&"border-b border-secondary-200")},(0,uN.isType)(e,"string")?_r.default.createElement("span",{className:"py-1.5 block text-center text-gray-500 text-base"},e):e),_r.default.createElement("ul",null,I.map(function(Y,H,Z){var P=Z.length;return _r.default.createElement(dN,(0,Jc.__assign)({},Y,{border:o,isLast:H===P-1,key:H}))}))))}Yc.Dropdown=hN;var dN=function(t){var e=(0,ol.default)(!t.isLast&&t.border&&"border-b border-secondary-200");switch(t.type){case"action":return _r.default.createElement("li",{className:e},_r.default.createElement("a",{className:"hover:bg-gray-100 text-gray-700 cursor-pointer block px-4 py-1.5",onClick:t.onClick},t.title));case"break":return _r.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return _r.default.createElement("li",{className:(0,ol.default)("text-gray-600 text-center block py-1 cursor-default",e)},_r.default.createElement("span",{className:"text-xs"},t.title));case"jsx":return _r.default.createElement("li",{className:e},t.element);default:throw console.error(t),new Error("This type of MenuItem is not implemented.")}}});var Gp=xe(Dr=>{"use strict";function pN(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}Object.defineProperty(Dr,"__esModule",{value:!0});var De=pN(Le()),al=t=>t.type==="checkbox",vs=t=>t instanceof Date,Sr=t=>t==null,OE=t=>typeof t=="object",Ut=t=>!Sr(t)&&!Array.isArray(t)&&OE(t)&&!vs(t),kE=t=>Ut(t)&&t.target?al(t.target)?t.target.checked:t.target.value:t,TE=(t,e)=>[...t].some(r=>(n=>n.substring(0,n.search(/.\d/))||n)(e)===r),ll=t=>t.filter(Boolean),it=t=>t===void 0,be=(t,e,r)=>{if(!e||!Ut(t))return r;let n=ll(e.split(/[,[\].]+?/)).reduce((i,o)=>Sr(i)?i:i[o],t);return it(n)||n===t?it(t[e])?r:t[e]:n},NE="blur",yN="focusout",mN="change",gN="onBlur",IE="onChange",AE="onSubmit",vN="onTouched",ul="all",wN="max",_N="min",SN="maxLength",EN="minLength",hE="pattern",dE="required",bN="validate",rf=(t,e)=>{let r=Object.assign({},t);return delete r[e],r},RE=De.default.createContext(null),cl=()=>De.default.useContext(RE),DE=(t,e,r,n=!0)=>{let i={};for(let o in t)Object.defineProperty(i,o,{get:()=>{let s=o;return e[s]!==ul&&(e[s]=!n||ul),r&&(r[s]=!0),t[s]}});return i},Fr=t=>Ut(t)&&!Object.keys(t).length,FE=(t,e,r)=>{let n=rf(t,"name");return Fr(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(i=>e[i]===(!r||ul))},Cr=t=>Array.isArray(t)?t:[t],CE=(t,e,r)=>r&&e?t===e:!t||!e||t===e||Cr(t).some(n=>n&&(n.startsWith(e)||e.startsWith(n)));function Xc(t){let e=De.default.useRef(t);e.current=t,De.default.useEffect(()=>{let r=!t.disabled&&e.current.subject.subscribe({next:e.current.callback});return()=>(n=>{n&&n.unsubscribe()})(r)},[t.disabled])}function LE(t){let e=cl(),{control:r=e.control,disabled:n,name:i,exact:o}=t||{},[s,l]=De.default.useState(r._formState),f=De.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=De.default.useRef(i),m=De.default.useRef(!0);return d.current=i,Xc({disabled:n,callback:De.default.useCallback(v=>m.current&&CE(d.current,v.name,o)&&FE(v,f.current)&&l(Object.assign(Object.assign({},r._formState),v)),[r,o]),subject:r._subjects.state}),De.default.useEffect(()=>()=>{m.current=!1},[]),DE(s,r._proxyFormState,f.current,!1)}var xn=t=>typeof t=="string",PE=(t,e,r,n)=>{let i=Array.isArray(t);return xn(t)?(n&&e.watch.add(t),be(r,t)):i?t.map(o=>(n&&e.watch.add(o),be(r,o))):(n&&(e.watchAll=!0),r)},nf=t=>typeof t=="function",Wp=t=>{for(let e in t)if(nf(t[e]))return!0;return!1};function ME(t){let e=cl(),{control:r=e.control,name:n,defaultValue:i,disabled:o,exact:s}=t||{},l=De.default.useRef(n);l.current=n;let f=De.default.useCallback(v=>{if(CE(l.current,v.name,s)){let y=PE(l.current,r._names,v.values||r._formValues);m(it(l.current)||Ut(y)&&!Wp(y)?Object.assign({},y):Array.isArray(y)?[...y]:it(y)?i:y)}},[r,s,i]);Xc({disabled:o,subject:r._subjects.watch,callback:f});let[d,m]=De.default.useState(it(i)?r._getWatch(n):i);return De.default.useEffect(()=>{r._removeUnmounted()}),d}function pE(t){let e=cl(),{name:r,control:n=e.control,shouldUnregister:i}=t,o=TE(n._names.array,r),s=ME({control:n,name:r,defaultValue:be(n._formValues,r,be(n._defaultValues,r,t.defaultValue)),exact:!0}),l=LE({control:n,name:r}),f=De.default.useRef(n.register(r,Object.assign(Object.assign({},t.rules),{value:s})));return De.default.useEffect(()=>{let d=(m,v)=>{let y=be(n._fields,m);y&&(y._f.mount=v)};return d(r,!0),()=>{let m=n._options.shouldUnregister||i;(o?m&&!n._stateFlags.action:m)?n.unregister(r):d(r,!1)}},[r,n,o,i]),{field:{name:r,value:s,onChange:De.default.useCallback(d=>{f.current.onChange({target:{value:kE(d),name:r},type:mN})},[r]),onBlur:De.default.useCallback(()=>{f.current.onBlur({target:{value:be(n._formValues,r),name:r},type:NE})},[r,n]),ref:De.default.useCallback(d=>{let m=be(n._fields,r);d&&m&&d.focus&&(m._f.ref={focus:()=>d.focus(),setCustomValidity:v=>d.setCustomValidity(v),reportValidity:()=>d.reportValidity()})},[r,n._fields])},formState:l,fieldState:n.getFieldState(r,l)}}var jE=(t,e,r,n,i)=>e?Object.assign(Object.assign({},r[t]),{types:Object.assign(Object.assign({},r[t]&&r[t].types?r[t].types:{}),{[n]:i||!0})}):{},qp=t=>/^\w*$/.test(t),BE=t=>ll(t.replace(/["|']|\]/g,"").split(/\.|\[/));function ft(t,e,r){let n=-1,i=qp(e)?[e]:BE(e),o=i.length,s=o-1;for(;++n<o;){let l=i[n],f=r;if(n!==s){let d=t[l];f=Ut(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}t[l]=f,t=t[l]}return t}var Qc=(t,e,r)=>{for(let n of r||Object.keys(t)){let i=be(t,n);if(i){let o=i._f,s=rf(i,"_f");if(o&&e(o.name)){if(o.ref.focus&&it(o.ref.focus()))break;if(o.refs){o.refs[0].focus();break}}else Ut(s)&&Qc(s,e)}}},Si=()=>{let t=typeof performance>"u"?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let r=(16*Math.random()+t)%16|0;return(e=="x"?r:3&r|8).toString(16)})},Ap=(t,e,r={})=>r.shouldFocus||it(r.shouldFocus)?r.focusName||`${t}.${it(r.focusIndex)?e:r.focusIndex}.`:"",zp=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));function Rp(t,e){return[...t,...Cr(e)]}function bn(t){let e,r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else{if(!r&&!Ut(t))return t;e=r?[]:{};for(let n in t){if(nf(t[n])){e=t;break}e[n]=bn(t[n])}}return e}var Dp=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Fp(t,e,r){return[...t.slice(0,e),...Cr(r),...t.slice(e)]}var Cp=(t,e,r)=>Array.isArray(t)?(it(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[];function Lp(t,e){return[...Cr(e),...Cr(t)]}var Pp=(t,e)=>it(e)?[]:function(r,n){let i=0,o=[...r];for(let s of n)o.splice(s-i,1),i++;return ll(o).length?o:[]}(t,Cr(e).sort((r,n)=>r-n)),Mp=(t,e,r)=>{t[e]=[t[r],t[r]=t[e]][0]},yE=(t,e,r)=>(t[e]=r,t);function jp(){let t=[];return{get observers(){return t},next:e=>{for(let r of t)r.next(e)},subscribe:e=>(t.push(e),{unsubscribe:()=>{t=t.filter(r=>r!==e)}}),unsubscribe:()=>{t=[]}}}var ef=t=>Sr(t)||!OE(t);function ws(t,e){if(ef(t)||ef(e))return t===e;if(vs(t)&&vs(e))return t.getTime()===e.getTime();let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i of r){let o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){let s=e[i];if(vs(o)&&vs(s)||Ut(o)&&Ut(s)||Array.isArray(o)&&Array.isArray(s)?!ws(o,s):o!==s)return!1}}return!0}var mE=t=>({isOnSubmit:!t||t===AE,isOnBlur:t===gN,isOnChange:t===IE,isOnAll:t===ul,isOnTouch:t===vN}),fl=t=>typeof t=="boolean",$p=t=>t.type==="file",Vp=t=>t instanceof HTMLElement,UE=t=>t.type==="select-multiple",Hp=t=>t.type==="radio",gE=typeof window<"u"&&window.HTMLElement!==void 0&&typeof document<"u",Bp=t=>Vp(t)&&t.isConnected;function sr(t,e){let r=qp(e)?[e]:BE(e),n=r.length==1?t:function(s,l){let f=l.slice(0,-1).length,d=0;for(;d<f;)s=it(s)?d++:s[l[d++]];return s}(t,r),i=r[r.length-1],o;n&&delete n[i];for(let s=0;s<r.slice(0,-1).length;s++){let l,f=-1,d=r.slice(0,-(s+1)),m=d.length-1;for(s>0&&(o=t);++f<d.length;){let v=d[f];l=l?l[v]:t[v],m===f&&(Ut(l)&&Fr(l)||Array.isArray(l)&&!l.filter(y=>Ut(y)&&!Fr(y)||fl(y)||Array.isArray(y)&&y.length).length)&&(o?delete o[v]:delete t[v]),o=l}}return t}function Kc(t,e={}){let r=Array.isArray(t);if(Ut(t)||r)for(let n in t)Array.isArray(t[n])||Ut(t[n])&&!Wp(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Kc(t[n],e[n])):Sr(t[n])||(e[n]=!0);return e}var vE=(t,e)=>function r(n,i,o){let s=Array.isArray(n);if(Ut(n)||s)for(let l in n)Array.isArray(n[l])||Ut(n[l])&&!Wp(n[l])?it(i)||ef(o[l])?o[l]=Array.isArray(n[l])?Kc(n[l],[]):Object.assign({},Kc(n[l])):r(n[l],Sr(i)?{}:i[l],o[l]):o[l]=!ws(n[l],i[l]);return o}(t,e,Kc(e)),wE={value:!1,isValid:!1},_E={value:!0,isValid:!0},zE=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!it(t[0].attributes.value)?it(t[0].value)||t[0].value===""?_E:{value:t[0].value,isValid:!0}:_E:wE}return wE},VE=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>it(t)?t:e?t===""?NaN:+t:r&&xn(t)?new Date(t):n?n(t):t,SE={isValid:!1,value:null},WE=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,SE):SE;function Up(t){let e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return $p(e)?e.files:Hp(e)?WE(t.refs).value:UE(e)?[...e.selectedOptions].map(({value:r})=>r):al(e)?zE(t.refs).value:VE(it(e.value)?t.ref.value:e.value,t)}var tf=t=>t instanceof RegExp,sl=t=>it(t)?void 0:tf(t)?t.source:Ut(t)?tf(t.value)?t.value.source:t.value:t;function EE(t,e,r){let n=be(t,r);if(n||qp(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),s=be(e,o),l=be(t,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(l&&l.type)return{name:o,error:l};i.pop()}return{name:r}}var Zc=t=>xn(t)||De.default.isValidElement(t);function bE(t,e,r="validate"){if(Zc(t)||Array.isArray(t)&&t.every(Zc)||fl(t)&&!t)return{type:r,message:Zc(t)?t:"",ref:e}}var gs=t=>Ut(t)&&!tf(t)?t:{value:t,message:""},xE=async(t,e,r,n)=>{let{ref:i,refs:o,required:s,maxLength:l,minLength:f,min:d,max:m,pattern:v,validate:y,name:S,valueAsNumber:O,mount:R,disabled:T}=t._f;if(!R||T)return{};let I=o?o[0]:i,L=re=>{n&&I.reportValidity&&(I.setCustomValidity(fl(re)?"":re||" "),I.reportValidity())},Y={},H=Hp(i),Z=al(i),P=H||Z,V=(O||$p(i))&&!i.value||e===""||Array.isArray(e)&&!e.length,_=jE.bind(null,S,r,Y),W=(re,X,le,ae=SN,ye=EN)=>{let M=re?X:le;Y[S]=Object.assign({type:re?ae:ye,message:M,ref:i},_(re?ae:ye,M))};if(s&&(!P&&(V||Sr(e))||fl(e)&&!e||Z&&!zE(o).isValid||H&&!WE(o).isValid)){let{value:re,message:X}=Zc(s)?{value:!!s,message:s}:gs(s);if(re&&(Y[S]=Object.assign({type:dE,message:X,ref:I},_(dE,X)),!r))return L(X),Y}if(!(V||Sr(d)&&Sr(m))){let re,X,le=gs(m),ae=gs(d);if(isNaN(e)){let ye=i.valueAsDate||new Date(e);xn(le.value)&&(re=ye>new Date(le.value)),xn(ae.value)&&(X=ye<new Date(ae.value))}else{let ye=i.valueAsNumber||+e;Sr(le.value)||(re=ye>le.value),Sr(ae.value)||(X=ye<ae.value)}if((re||X)&&(W(!!re,le.message,ae.message,wN,_N),!r))return L(Y[S].message),Y}if((l||f)&&!V&&xn(e)){let re=gs(l),X=gs(f),le=!Sr(re.value)&&e.length>re.value,ae=!Sr(X.value)&&e.length<X.value;if((le||ae)&&(W(le,re.message,X.message),!r))return L(Y[S].message),Y}if(v&&!V&&xn(e)){let{value:re,message:X}=gs(v);if(tf(re)&&!e.match(re)&&(Y[S]=Object.assign({type:hE,message:X,ref:i},_(hE,X)),!r))return L(X),Y}if(y){if(nf(y)){let re=bE(await y(e),I);if(re&&(Y[S]=Object.assign(Object.assign({},re),_(bN,re.message)),!r))return L(re.message),Y}else if(Ut(y)){let re={};for(let X in y){if(!Fr(re)&&!r)break;let le=bE(await y[X](e),I,X);le&&(re=Object.assign(Object.assign({},le),_(X,le.message)),L(le.message),r&&(Y[S]=re))}if(!Fr(re)&&(Y[S]=Object.assign({ref:I},re),!r))return Y}}return L(!0),Y},xN={mode:AE,reValidateMode:IE,shouldFocusError:!0};function ON(t={}){let e,r=Object.assign(Object.assign({},xN),t),n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},o=r.defaultValues||{},s=r.shouldUnregister?{}:bn(o),l={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d=0,m={},v={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:jp(),array:jp(),state:jp()},S=mE(r.mode),O=mE(r.reValidateMode),R=r.criteriaMode===ul,T=async U=>{let z=!1;return v.isValid&&(z=r.resolver?Fr((await Z()).errors):await P(i,!0),U||z===n.isValid||(n.isValid=z,y.state.next({isValid:z}))),z},I=(U,z)=>(ft(n.errors,U,z),y.state.next({errors:n.errors})),L=(U,z,G,ue)=>{let oe=be(i,U);if(oe){let ne=be(s,U,it(G)?be(o,U):G);it(ne)||ue&&ue.defaultChecked||z?ft(s,U,z?ne:Up(oe._f)):W(U,ne),l.mount&&T()}},Y=(U,z,G,ue,oe)=>{let ne=!1,se={name:U},pe=be(n.touchedFields,U);if(v.isDirty){let Ee=n.isDirty;n.isDirty=se.isDirty=V(),ne=Ee!==se.isDirty}if(v.dirtyFields&&(!G||ue)){let Ee=be(n.dirtyFields,U);ws(be(o,U),z)?sr(n.dirtyFields,U):ft(n.dirtyFields,U,!0),se.dirtyFields=n.dirtyFields,ne=ne||Ee!==be(n.dirtyFields,U)}return G&&!pe&&(ft(n.touchedFields,U,G),se.touchedFields=n.touchedFields,ne=ne||v.touchedFields&&pe!==G),ne&&oe&&y.state.next(se),ne?se:{}},H=async(U,z,G,ue,oe)=>{let ne=be(n.errors,z),se=v.isValid&&n.isValid!==G;var pe,Ee;if(t.delayError&&ue?(e=e||(pe=I,Ee=t.delayError,(...Ie)=>{clearTimeout(d),d=window.setTimeout(()=>pe(...Ie),Ee)}),e(z,ue)):(clearTimeout(d),ue?ft(n.errors,z,ue):sr(n.errors,z)),((ue?!ws(ne,ue):ne)||!Fr(oe)||se)&&!U){let Ie=Object.assign(Object.assign(Object.assign({},oe),se?{isValid:G}:{}),{errors:n.errors,name:z});n=Object.assign(Object.assign({},n),Ie),y.state.next(Ie)}m[z]--,v.isValidating&&!Object.values(m).some(Ie=>Ie)&&(y.state.next({isValidating:!1}),m={})},Z=async U=>r.resolver?await r.resolver(Object.assign({},s),r.context,((z,G,ue,oe)=>{let ne={};for(let se of z){let pe=be(G,se);pe&&ft(ne,se,pe._f)}return{criteriaMode:ue,names:[...z],fields:ne,shouldUseNativeValidation:oe}})(U||f.mount,i,r.criteriaMode,r.shouldUseNativeValidation)):{},P=async(U,z,G={valid:!0})=>{for(let ue in U){let oe=U[ue];if(oe){let ne=oe._f,se=rf(oe,"_f");if(ne){let pe=await xE(oe,be(s,ne.name),R,r.shouldUseNativeValidation);if(pe[ne.name]&&(G.valid=!1,z))break;z||(pe[ne.name]?ft(n.errors,ne.name,pe[ne.name]):sr(n.errors,ne.name))}se&&await P(se,z,G)}}return G.valid},V=(U,z)=>(U&&z&&ft(s,U,z),!ws(ye(),o)),_=(U,z,G)=>{let ue=Object.assign({},l.mount?s:it(z)?o:xn(U)?{[U]:z}:z);return PE(U,f,ue,G)},W=(U,z,G={})=>{let ue=be(i,U),oe=z;if(ue){let ne=ue._f;ne&&(!ne.disabled&&ft(s,U,VE(z,ne)),oe=gE&&Vp(ne.ref)&&Sr(z)?"":z,UE(ne.ref)?[...ne.ref.options].forEach(se=>se.selected=oe.includes(se.value)):ne.refs?al(ne.ref)?ne.refs.length>1?ne.refs.forEach(se=>se.checked=Array.isArray(oe)?!!oe.find(pe=>pe===se.value):oe===se.value):ne.refs[0]&&(ne.refs[0].checked=!!oe):ne.refs.forEach(se=>se.checked=se.value===oe):$p(ne.ref)?ne.ref.value="":(ne.ref.value=oe,ne.ref.type||y.watch.next({name:U})))}(G.shouldDirty||G.shouldTouch)&&Y(U,oe,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&ae(U)},re=(U,z,G)=>{for(let ue in z){let oe=z[ue],ne=`${U}.${ue}`,se=be(i,ne);!f.array.has(U)&&ef(oe)&&(!se||se._f)||vs(oe)?W(ne,oe,G):re(ne,oe,G)}},X=(U,z,G={})=>{let ue=be(i,U),oe=f.array.has(U),ne=bn(z);ft(s,U,ne),oe?(y.array.next({name:U,values:s}),(v.isDirty||v.dirtyFields)&&G.shouldDirty&&(n.dirtyFields=vE(o,s),y.state.next({name:U,dirtyFields:n.dirtyFields,isDirty:V(U,ne)}))):!ue||ue._f||Sr(ne)?W(U,ne,G):re(U,ne,G),zp(U,f)&&y.state.next({}),y.watch.next({name:U})},le=async U=>{let z=U.target,G=z.name,ue=be(i,G);if(ue){let ne,se,pe=z.type?Up(ue._f):kE(U),Ee=U.type===NE||U.type===yN,Ie=!((oe=ue._f).mount&&(oe.required||oe.min||oe.max||oe.maxLength||oe.minLength||oe.pattern||oe.validate)||r.resolver||be(n.errors,G)||ue._f.deps)||(($,K,J,_e,F)=>!F.isOnAll&&(!J&&F.isOnTouch?!(K||$):(J?_e.isOnBlur:F.isOnBlur)?!$:!(J?_e.isOnChange:F.isOnChange)||$))(Ee,be(n.touchedFields,G),n.isSubmitted,O,S),b=zp(G,f,Ee);ft(s,G,pe),Ee?ue._f.onBlur&&ue._f.onBlur(U):ue._f.onChange&&ue._f.onChange(U);let A=Y(G,pe,Ee,!1),j=!Fr(A)||b;if(!Ee&&y.watch.next({name:G,type:U.type}),Ie)return j&&y.state.next(Object.assign({name:G},b?{}:A));if(!Ee&&b&&y.state.next({}),m[G]=(m[G],1),y.state.next({isValidating:!0}),r.resolver){let{errors:$}=await Z([G]),K=EE(n.errors,i,G),J=EE($,i,K.name||G);ne=J.error,G=J.name,se=Fr($)}else ne=(await xE(ue,be(s,G),R,r.shouldUseNativeValidation))[G],se=await T(!0);ue._f.deps&&ae(ue._f.deps),H(!1,G,se,ne,A)}var oe},ae=async(U,z={})=>{let G,ue,oe=Cr(U);if(y.state.next({isValidating:!0}),r.resolver){let ne=await(async se=>{let{errors:pe}=await Z();if(se)for(let Ee of se){let Ie=be(pe,Ee);Ie?ft(n.errors,Ee,Ie):sr(n.errors,Ee)}else n.errors=pe;return pe})(it(U)?U:oe);G=Fr(ne),ue=U?!oe.some(se=>be(ne,se)):G}else U?(ue=(await Promise.all(oe.map(async ne=>{let se=be(i,ne);return await P(se&&se._f?{[ne]:se}:se)}))).every(Boolean),(ue||n.isValid)&&T()):ue=G=await P(i);return y.state.next(Object.assign(Object.assign(Object.assign({},!xn(U)||v.isValid&&G!==n.isValid?{}:{name:U}),r.resolver?{isValid:G}:{}),{errors:n.errors,isValidating:!1})),z.shouldFocus&&!ue&&Qc(i,ne=>be(n.errors,ne),U?oe:f.mount),ue},ye=U=>{let z=Object.assign(Object.assign({},o),l.mount?s:{});return it(U)?z:xn(U)?be(z,U):U.map(G=>be(z,G))},M=(U,z)=>({invalid:!!be((z||n).errors,U),isDirty:!!be((z||n).dirtyFields,U),isTouched:!!be((z||n).touchedFields,U),error:be((z||n).errors,U)}),D=(U,z={})=>{for(let G of U?Cr(U):f.mount)f.mount.delete(G),f.array.delete(G),be(i,G)&&(z.keepValue||(sr(i,G),sr(s,G)),!z.keepError&&sr(n.errors,G),!z.keepDirty&&sr(n.dirtyFields,G),!z.keepTouched&&sr(n.touchedFields,G),!r.shouldUnregister&&!z.keepDefaultValue&&sr(o,G));y.watch.next({}),y.state.next(Object.assign(Object.assign({},n),z.keepDirty?{isDirty:V()}:{})),!z.keepIsValid&&T()},ie=(U,z={})=>{let G=be(i,U),ue=fl(z.disabled);return ft(i,U,{_f:Object.assign(Object.assign(Object.assign({},G&&G._f?G._f:{ref:{name:U}}),{name:U,mount:!0}),z)}),f.mount.add(U),G?ue&&ft(s,U,z.disabled?void 0:be(s,U,Up(G._f))):L(U,!0,z.value),Object.assign(Object.assign(Object.assign({},ue?{disabled:z.disabled}:{}),r.shouldUseNativeValidation?{required:!!z.required,min:sl(z.min),max:sl(z.max),minLength:sl(z.minLength),maxLength:sl(z.maxLength),pattern:sl(z.pattern)}:{}),{name:U,onChange:le,onBlur:le,ref:oe=>{if(oe){ie(U,z),G=be(i,U);let ne=it(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,se=(Ee=>Hp(Ee)||al(Ee))(ne),pe=G._f.refs||[];if(se?pe.find(Ee=>Ee===ne):ne===G._f.ref)return;ft(i,U,{_f:Object.assign(Object.assign({},G._f),se?{refs:pe.concat(ne).filter(Bp),ref:{type:ne.type,name:U}}:{ref:ne})}),L(U,!1,void 0,ne)}else G=be(i,U,{}),G._f&&(G._f.mount=!1),(r.shouldUnregister||z.shouldUnregister)&&(!TE(f.array,U)||!l.action)&&f.unMount.add(U)}})};return{control:{register:ie,unregister:D,getFieldState:M,_executeSchema:Z,_getWatch:_,_getDirty:V,_updateValid:T,_removeUnmounted:()=>{for(let U of f.unMount){let z=be(i,U);z&&(z._f.refs?z._f.refs.every(G=>!Bp(G)):!Bp(z._f.ref))&&D(U)}f.unMount=new Set},_updateFieldArray:(U,z=[],G,ue,oe=!0,ne=!0)=>{if(ue&&G){if(l.action=!0,ne&&Array.isArray(be(i,U))){let se=G(be(i,U),ue.argA,ue.argB);oe&&ft(i,U,se)}if(v.errors&&ne&&Array.isArray(be(n.errors,U))){let se=G(be(n.errors,U),ue.argA,ue.argB);oe&&ft(n.errors,U,se),((pe,Ee)=>{!ll(be(pe,Ee)).length&&sr(pe,Ee)})(n.errors,U)}if(v.touchedFields&&Array.isArray(be(n.touchedFields,U))){let se=G(be(n.touchedFields,U),ue.argA,ue.argB);oe&&ft(n.touchedFields,U,se)}v.dirtyFields&&(n.dirtyFields=vE(o,s)),y.state.next({isDirty:V(U,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ft(s,U,z)},_getFieldArray:U=>ll(be(l.mount?s:o,U,t.shouldUnregister?be(o,U,[]):[])),_subjects:y,_proxyFormState:v,get _fields(){return i},get _formValues(){return s},get _stateFlags(){return l},set _stateFlags(U){l=U},get _defaultValues(){return o},get _names(){return f},set _names(U){f=U},get _formState(){return n},set _formState(U){n=U},get _options(){return r},set _options(U){r=Object.assign(Object.assign({},r),U)}},trigger:ae,register:ie,handleSubmit:(U,z)=>async G=>{G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let ue=!0,oe=bn(s);y.state.next({isSubmitting:!0});try{if(r.resolver){let{errors:ne,values:se}=await Z();n.errors=ne,oe=se}else await P(i);Fr(n.errors)&&Object.keys(n.errors).every(ne=>be(oe,ne))?(y.state.next({errors:{},isSubmitting:!0}),await U(oe,G)):(z&&await z(Object.assign({},n.errors),G),r.shouldFocusError&&Qc(i,ne=>be(n.errors,ne),f.mount))}catch(ne){throw ue=!1,ne}finally{n.isSubmitted=!0,y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fr(n.errors)&&ue,submitCount:n.submitCount+1,errors:n.errors})}},watch:(U,z)=>nf(U)?y.watch.subscribe({next:G=>U(_(void 0,z),G)}):_(U,z,!0),setValue:X,getValues:ye,reset:(U,z={})=>{let G=U||o,ue=bn(G),oe=U&&!Fr(U)?ue:o;if(z.keepDefaultValues||(o=G),!z.keepValues){if(gE&&it(U))for(let ne of f.mount){let se=be(i,ne);if(se&&se._f){let pe=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;try{Vp(pe)&&pe.closest("form").reset();break}catch{}}}s=t.shouldUnregister?z.keepDefaultValues?bn(o):{}:ue,i={},y.array.next({values:oe}),y.watch.next({values:oe})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!v.isValid||!!z.keepIsValid,l.watch=!!t.shouldUnregister,y.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:z.keepDirty?n.isDirty:!!z.keepDefaultValues&&!ws(U,o),isSubmitted:!!z.keepIsSubmitted&&n.isSubmitted,dirtyFields:z.keepDirty?n.dirtyFields:z.keepDefaultValues&&U?Object.entries(U).reduce((ne,[se,pe])=>Object.assign(Object.assign({},ne),{[se]:pe!==be(o,se)}),{}):{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(U,z={})=>{be(i,U)&&(it(z.defaultValue)?X(U,be(o,U)):(X(U,z.defaultValue),ft(o,U,z.defaultValue)),z.keepTouched||sr(n.touchedFields,U),z.keepDirty||(sr(n.dirtyFields,U),n.isDirty=z.defaultValue?V(U,be(o,U)):V()),z.keepError||(sr(n.errors,U),v.isValid&&T()),y.state.next(Object.assign({},n)))},clearErrors:U=>{U?Cr(U).forEach(z=>sr(n.errors,z)):n.errors={},y.state.next({errors:n.errors})},unregister:D,setError:(U,z,G)=>{let ue=(be(i,U,{_f:{}})._f||{}).ref;ft(n.errors,U,Object.assign(Object.assign({},z),{ref:ue})),y.state.next({name:U,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&ue&&ue.focus&&ue.focus()},setFocus:(U,z={})=>{let G=be(i,U)._f,ue=G.refs?G.refs[0]:G.ref;z.shouldSelect?ue.select():ue.focus()},getFieldState:M}}Dr.Controller=t=>t.render(pE(t)),Dr.FormProvider=t=>De.default.createElement(RE.Provider,{value:rf(t,"children")},t.children),Dr.appendErrors=jE,Dr.get=be,Dr.set=ft,Dr.useController=pE,Dr.useFieldArray=function(t){let e=cl(),{control:r=e.control,name:n,keyName:i="id",shouldUnregister:o}=t,[s,l]=De.default.useState(r._getFieldArray(n)),f=De.default.useRef(r._getFieldArray(n).map(Si)),d=De.default.useRef(s),m=De.default.useRef(n),v=De.default.useRef(!1);m.current=n,d.current=s,r._names.array.add(n),Xc({callback:De.default.useCallback(({values:S,name:O})=>{if(O===m.current||!O){let R=be(S,m.current,[]);l(R),f.current=R.map(Si)}},[]),subject:r._subjects.array});let y=De.default.useCallback(S=>{v.current=!0,r._updateFieldArray(n,S)},[r,n]);return De.default.useEffect(()=>{r._stateFlags.action=!1,zp(n,r._names)&&r._subjects.state.next({}),v.current&&r._executeSchema([n]).then(S=>{let O=be(S.errors,n);O&&O.type&&!be(r._formState.errors,n)&&(ft(r._formState.errors,n,O),r._subjects.state.next({errors:r._formState.errors}))}),r._subjects.watch.next({name:n,values:r._formValues}),r._names.focus&&Qc(r._fields,S=>S.startsWith(r._names.focus)),r._names.focus="",r._proxyFormState.isValid&&r._updateValid()},[s,n,r]),De.default.useEffect(()=>(!be(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||o)&&r.unregister(n)}),[n,r,i,o]),{swap:De.default.useCallback((S,O)=>{let R=r._getFieldArray(n);Mp(R,S,O),Mp(f.current,S,O),y(R),l(R),r._updateFieldArray(n,R,Mp,{argA:S,argB:O},!1)},[y,n,r]),move:De.default.useCallback((S,O)=>{let R=r._getFieldArray(n);Cp(R,S,O),Cp(f.current,S,O),y(R),l(R),r._updateFieldArray(n,R,Cp,{argA:S,argB:O},!1)},[y,n,r]),prepend:De.default.useCallback((S,O)=>{let R=Cr(bn(S)),T=Lp(r._getFieldArray(n),R);r._names.focus=Ap(n,0,O),f.current=Lp(f.current,R.map(Si)),y(T),l(T),r._updateFieldArray(n,T,Lp,{argA:Dp(S)})},[y,n,r]),append:De.default.useCallback((S,O)=>{let R=Cr(bn(S)),T=Rp(r._getFieldArray(n),R);r._names.focus=Ap(n,T.length-1,O),f.current=Rp(f.current,R.map(Si)),y(T),l(T),r._updateFieldArray(n,T,Rp,{argA:Dp(S)})},[y,n,r]),remove:De.default.useCallback(S=>{let O=Pp(r._getFieldArray(n),S);f.current=Pp(f.current,S),y(O),l(O),r._updateFieldArray(n,O,Pp,{argA:S})},[y,n,r]),insert:De.default.useCallback((S,O,R)=>{let T=Cr(bn(O)),I=Fp(r._getFieldArray(n),S,T);r._names.focus=Ap(n,S,R),f.current=Fp(f.current,S,T.map(Si)),y(I),l(I),r._updateFieldArray(n,I,Fp,{argA:S,argB:Dp(O)})},[y,n,r]),update:De.default.useCallback((S,O)=>{let R=yE(r._getFieldArray(n),S,O);f.current=[...R].map((T,I)=>T&&I!==S?f.current[I]:Si()),y(R),l([...R]),r._updateFieldArray(n,R,yE,{argA:S,argB:O},!0,!1)},[y,n,r]),replace:De.default.useCallback(S=>{let O=Cr(bn(S));f.current=O.map(Si),y([...O]),l([...O]),r._updateFieldArray(n,[...O],R=>R,{},!0,!1)},[y,n,r]),fields:De.default.useMemo(()=>s.map((S,O)=>Object.assign(Object.assign({},S),{[i]:f.current[O]||Si()})),[s,i])}},Dr.useForm=function(t={}){let e=De.default.useRef(),[r,n]=De.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});e.current?e.current.control._options=t:e.current=Object.assign(Object.assign({},ON(t)),{formState:r});let i=e.current.control,o=De.default.useCallback(s=>{FE(s,i._proxyFormState,!0)&&(i._formState=Object.assign(Object.assign({},i._formState),s),n(Object.assign({},i._formState)))},[i]);return Xc({subject:i._subjects.state,callback:o}),De.default.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),e.current.formState=DE(r,i._proxyFormState),e.current},Dr.useFormContext=cl,Dr.useFormState=LE,Dr.useWatch=ME});var af=xe(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.TextInput=void 0;var hl=at(),_s=(0,hl.__importDefault)(Le()),of=(0,hl.__importDefault)(Bt()),kN=il(),TN=_i(),NN=function(t){var e=t.validation,r=e===void 0?"default":e,n=t.className,i=t.label,o=t.labelType,s=o===void 0?"default":o,l=t.inputClassName,f=t.button,d=t.register,m=(0,hl.__rest)(t,["validation","className","label","labelType","inputClassName","button","register"]),v=i&&s,y=_s.default.createElement("input",(0,hl.__assign)({alt:i},m,{className:(0,of.default)("px-3 py-1.5 outline-0 border w-full",TN.TextInputBorderMap[r],m.disabled&&"bg-secondary-200",v!=="addon"&&"rounded-l-sm",!f&&"rounded-r",i||f?l:n)},d));return i||f?_s.default.createElement("div",{className:(0,of.default)("flex",v==="default"?"flex-col":"flex-row",n)},i&&_s.default.createElement("div",{className:(0,of.default)("flex",v==="default"&&"pb-2",v==="row:1/3"&&"w-1/3",v==="row:1/4"&&"w-1/4",v==="row:2/5"&&"w-2/5",v==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},_s.default.createElement("span",{className:(0,of.default)(v!=="default"&&"m-auto")},i)),f?_s.default.createElement("div",{className:"flex flex-row w-full"},y,_s.default.createElement(kN.Button,(0,hl.__assign)({shape:"flat",className:"rounded-r-sm"},f),f.label)):y):y};sf.TextInput=NN});var GE=xe(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.Login=void 0;var Jp=at(),qE=(0,Jp.__importDefault)(Bt()),Tt=(0,Jp.__importDefault)(Le()),IN=Gp(),$E=af(),AN=_i(),HE=il(),RN=zc();function DN(t){var e=t.onLoginClick,r=t.companyName,n=t.onSignUpClick,i=t.isLoading,o=t.useRegularLogin,s=t.thirdPartyLogins,l=t.className,f=t.style,d=(0,IN.useForm)(),m=d.register,v=d.handleSubmit,y=d.formState,S=d.reset,O=d.setValue,R=y.errors,T=y.submitCount,I=function(P){S(),O("email",P.email),O("password",P.password),e==null||e(P)},L="rounded-md text-sm font-medium",Y="py-2.5 pl-3 text-base font-semibold "+(i?"bg-gray-200":"bg-gray-50"),H=T>0&&R.email,Z=T>0&&R.password;return Tt.default.createElement("form",{className:(0,qE.default)("bg-white rounded max-w-lg w-full p-10",l),style:f,onSubmit:v(I)},Tt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",r||"your account"),n&&Tt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",Tt.default.createElement("a",{onClick:i?void 0:n,className:(0,qE.default)(`
                    hover:text-gray-500 focus:text-gray-500 focus:outline-none
                    focus:underline hover:underline text-sm font-medium leading-none
                    text-gray-800`,i?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),Tt.default.createElement("div",{className:"mt-4"}),s==null?void 0:s.map(function(P,V){return Tt.default.createElement(FN,(0,Jp.__assign)({},P,{disabled:i,key:V}))}),s&&o&&Tt.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},Tt.default.createElement("hr",{className:"w-full bg-gray-400"}),Tt.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),Tt.default.createElement("hr",{className:"w-full bg-gray-400"})),o&&Tt.default.createElement(Tt.default.Fragment,null,Tt.default.createElement($E.TextInput,{label:"Email",className:L,inputClassName:Y,disabled:i,validation:H?"danger":"default",register:m("email",{required:!0,pattern:AN.regexpUtil.email})}),Tt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",H?"Please enter a valid email":""),Tt.default.createElement($E.TextInput,{label:"Password",type:"password",className:L,inputClassName:Y,disabled:i,validation:H?"danger":"default",register:m("password",{required:!0})}),Tt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",Z?"Please enter your password":""),Tt.default.createElement("div",{className:"mt-6"},Tt.default.createElement(HE.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:i,htmlType:"submit"},i?Tt.default.createElement(RN.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))}lf.Login=DN;var FN=function(t){var e=t.disabled,r=t.name,n=t.logo,i=t.onClick;return Tt.default.createElement(HE.Button,{size:"auto",outline:!0,type:"secondary",disabled:e,onClick:i,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,Tt.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var JE=xe(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.Modal=void 0;var uf=at(),CN=tr(),LN=(0,uf.__importDefault)(Bt()),ln=(0,uf.__importDefault)(Le()),PN=$c();function MN(t){var e=t.zIndex,r=e===void 0?1004:e,n=t.className,i=t.style,o=t.header,s=t.onClose,l=t.onBackdropClick,f=t.children;return ln.default.createElement(ln.default.Fragment,null,ln.default.createElement(PN.Backdrop,(0,uf.__assign)({},{zIndex:r-1,onBackdropClick:l,transition:!1})),ln.default.createElement("div",{className:(0,LN.default)("fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2","border border-secondary-300 shadow-lg bg-white w-11/12 md:max-w-md mx-auto rounded overflow-y-auto",n),style:(0,uf.__assign)({zIndex:r},i)},ln.default.createElement("div",{className:"relative"},ln.default.createElement("div",{className:"cursor-pointer absolute top-3.5 right-3.5",onClick:s},ln.default.createElement("svg",{className:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 18 18"},ln.default.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}))),ln.default.createElement("div",{className:"py-4 px-6"},o&&ln.default.createElement("div",{className:"pb-3"},(0,CN.isType)(o,"string")?ln.default.createElement("p",{className:"text-2xl font-bold"},o):o),f))))}cf.Modal=MN});var YE=xe(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.SquareGrid=void 0;var Yp=at(),un=(0,Yp.__importStar)(Le()),jN=tr(),BN=function(t){(0,Yp.__extends)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={sizeBy:"vw"},r.componentDidMount=function(){var n=function(){var i=window.innerHeight>window.innerWidth?"vw":"vh";i!==r.state.sizeBy&&r.setState({sizeBy:i})};n(),r.resizeRef=VN(n)},r.componentWillUnmount=function(){var n;return(n=r.resizeRef)===null||n===void 0?void 0:n.stop()},r.render=function(){var n=r.props,i=r.state,o="85"+i.sizeBy;return un.default.createElement("div",{className:"border flex flex-col",style:{height:o,width:o}},un.default.createElement(UN,{items:n.items}))},r}return e}(un.Component);ff.SquareGrid=BN;function UN(t){var e=(0,un.useState)("0"),r=e[0],n=e[1],i=(0,un.useState)([]),o=i[0],s=i[1];return(0,un.useEffect)(function(){var l=t.items.length,f=Math.ceil(Math.sqrt(l)),d=(0,jN.arrDivide)(t.items,l/f);s(d),n((100/d.length).toFixed(5)+"%")},[t.items]),un.default.createElement(un.default.Fragment,null,o.map(function(l,f){return un.default.createElement("div",{className:"flex flex-row",style:{height:r},key:f},l.map(function(d,m){return un.default.createElement(zN,(0,Yp.__assign)({},{children:d,size:r},{key:m}))}))}))}function zN(t){var e=t.children,r=t.size;return un.default.createElement("div",{style:{width:r},className:"h-full m-auto"},e)}function VN(t){return addEventListener("resize",t),{stop:function(){return removeEventListener("resize",t)}}}});var KE=xe(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.Radio=void 0;var Zp=at(),Kp=(0,Zp.__importDefault)(Le()),WN=function(t){var e=t.label,r=t.disabled,n=(0,Zp.__rest)(t,["label","disabled"]);return Kp.default.createElement("label",{className:"inline-flex items-center"},Kp.default.createElement("input",(0,Zp.__assign)({type:"radio",name:"vehicle",className:"h-5 w-5 text-red-600",disabled:r},n)),e&&Kp.default.createElement("span",{className:"ml-2 text-gray-700"},e))};hf.Radio=WN});var ZE=xe(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.TextArea=void 0;var yf=at(),df=(0,yf.__importDefault)(Le()),qN=_i(),pf=(0,yf.__importDefault)(Bt());function $N(t){var e=t.validation,r=e===void 0?"default":e,n=t.className,i=t.label,o=t.labelType,s=o===void 0?"default":o,l=t.inputClassName,f=t.register,d=(0,yf.__rest)(t,["validation","className","label","labelType","inputClassName","register"]),m=i&&s,v=df.default.createElement("textarea",(0,yf.__assign)({alt:i},d,{className:(0,pf.default)("px-3 py-1.5 outline-0 border w-full rounded-r-sm",qN.TextInputBorderMap[r],d.disabled&&"bg-secondary-200",m!=="addon"&&"rounded-l-sm",i?l:n)}));return i?df.default.createElement("div",{className:(0,pf.default)("flex",m==="default"?"flex-col":"flex-row",n)},i&&df.default.createElement("div",{className:(0,pf.default)("flex",m==="default"&&"pb-2",m==="row:1/3"&&"w-1/3",m==="row:1/4"&&"w-1/4",m==="row:2/5"&&"w-2/5",m==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},df.default.createElement("span",{className:(0,pf.default)(m!=="default"&&"m-auto")},i)),v):v}mf.TextArea=$N});var XE=xe(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.Toggle=void 0;var Xp=at(),Ei=(0,Xp.__importStar)(Le()),HN=function(t){var e=t.onChange,r=t.label,n=(0,Xp.__rest)(t,["onChange","label"]),i=(0,Ei.useState)(!1),o=i[0],s=i[1];return Ei.default.createElement("div",{className:"flex flex-col"},Ei.default.createElement("label",{className:"mt-3 inline-flex items-center cursor-pointer"},Ei.default.createElement("span",{className:"relative"},Ei.default.createElement("span",{className:"block w-10 h-6 rounded-full shadow-inner ".concat(o?"bg-primary-300":"bg-secondary-200")}),Ei.default.createElement("span",{className:"absolute block w-4 h-4 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-300 ease-in-out ".concat(o?"transform translate-x-full bg-secondary-300":"bg-secondary-400")},Ei.default.createElement("input",(0,Xp.__assign)({},n,{type:"checkbox",className:"absolute opacity-0 w-0 h-0",onChange:function(l){s(l.target.checked),e(l.target.checked)}})))),r&&Ei.default.createElement("span",{className:"ml-3 text-sm"},r)))};gf.Toggle=HN});var rb=xe(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.NavDrawer=void 0;var cn=at(),Ke=(0,cn.__importStar)(Le()),co=(0,cn.__importDefault)(Bt()),eb=tr(),GN=Vc(),JN=$c(),YN=_i(),KN=function(t){var e=t.brand,r=t.fixed,n=r===void 0?!1:r,i=t.zIndex,o=i===void 0?1002:i,s=t.user,l=t.onBrandClick,f=t.onAvatarClick,d=t.onBackdropClick,m=t.menuItems,v=t.isOpen,y=t.className,S=t.style;return Ke.default.createElement(Ke.default.Fragment,null,n&&v&&Ke.default.createElement(JN.Backdrop,(0,cn.__assign)({},{onBackdropClick:d,zIndex:o-1})),Ke.default.createElement("div",{className:(0,co.default)(`
        flex flex-col bg-white
        dark:bg-gray-800 dark:border-gray-600
        shadow text-secondary-600 w-64
        transition-all duration-500`,n&&"h-screen fixed top-0 "+(n==="left"?"left-0":"right-0"),n&&[!v&&n==="left"&&"-translate-x-full",!v&&n==="right"&&"translate-x-full"],YN.customScrollBar,y),style:(0,cn.__assign)({zIndex:o},S)},e&&Ke.default.createElement("div",{className:(0,co.default)("border-b border-secondary-200 px-2 py-1.5",l&&"cursor-pointer"),onClick:l},(0,eb.isType)(e,"string")?Ke.default.createElement("h2",{className:(0,co.default)("text-3xl font-semibold text-gray-800 dark:text-white")},e):e),s&&Ke.default.createElement("div",{className:(0,co.default)("flex items-center border-b border-secondary-200 pl-1.5 py-2",f&&"cursor-pointer"),onClick:f},Ke.default.createElement(GN.Avatar,(0,cn.__assign)({dataState:"done",size:"sm"},s)),Ke.default.createElement("h4",{className:"ml-1 font-medium text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},s.name)),Ke.default.createElement("div",{className:"flex flex-col justify-between flex-1"},Ke.default.createElement("nav",{className:"px-1.5"},m.map(function(O,R){return Ke.default.createElement(tb,(0,cn.__assign)({},O,{key:R}))})))))};vf.NavDrawer=KN;var QE=function(t){var e=t.children,r=t.isActive,n=t.getHeight,i=(0,cn.__rest)(t,["children","isActive","getHeight"]);return Ke.default.createElement("div",(0,cn.__assign)({className:(0,co.default)(`
        flex items-center
        my-1 px-4 py-2 rounded-md
        text-gray-600 dark:text-gray-400
    `,i.onClick&&"cursor-pointer",r?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200":"hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200")},i),e)},tb=function(t){switch(t.type){case"action":{var e=t.isActive,r=t.icon,n=t.title,i=t.onClick;return(0,eb.isType)(n,"string")?Ke.default.createElement(QE,(0,cn.__assign)({},{isActive:e,onClick:i}),r&&r,Ke.default.createElement("span",{className:"mx-4 font-medium"},n)):n}case"break":return Ke.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return Ke.default.createElement("div",{className:`\r
                overflow-hidden my-1 py-2\r
                text-gray-600 dark:text-gray-400\r
            `},Ke.default.createElement("span",{className:"px-3 font-medium"},t.title));case"sub-menu":{var r=t.icon,n=t.title,o=t.subMenu,s=(0,Ke.useState)(!1),l=s[0],f=s[1];return Ke.default.createElement(Ke.default.Fragment,null,Ke.default.createElement(QE,(0,cn.__assign)({},{isActive:l,onClick:function(){return f(!l)}}),r&&r,Ke.default.createElement("span",{className:"mx-4 font-medium"},n),Ke.default.createElement("svg",{className:(0,co.default)("svg-fix transition-transform ml-auto mr-1.5",l&&"-rotate-90"),stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},Ke.default.createElement("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}))),Ke.default.createElement("div",{className:(0,co.default)("overflow-hidden transition-all duration-700",l?"max-h-screen":"max-h-0")},o.map(function(v,y){return Ke.default.createElement(tb,(0,cn.__assign)({},v,{key:y}))})))}default:throw console.error(t),new Error("This type of MenuItem is not implemented.")}}});var ib=xe(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.TopBar=void 0;var wf=at(),ZN=tr(),XN=(0,wf.__importDefault)(Bt()),zt=(0,wf.__importStar)(Le()),QN=zt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}),e8=zt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"});function t8(t){var e=t.fixed,r=t.onMenuExpand,n=t.leftNavItems,i=t.centerContent,o=t.rightNavItems,s=t.zIndex,l=s===void 0?1e3:s,f=t.className,d=t.style,m=t.addSpacer,v=m===void 0?!1:m,y=t.menuIsExpanded,S=(0,zt.useState)(0),O=S[0],R=S[1],T=(0,zt.useRef)(null),I=(0,zt.useRef)(new ResizeObserver(function(V){return R(V[0].borderBoxSize[0].blockSize)}));(0,zt.useEffect)(function(){return T.current&&I.current.observe(T.current),function(){return I.current.disconnect()}},[T,I]);var L=(0,zt.useState)(!1),Y=L[0],H=L[1],Z=function(V){return V&&V.map(function(_,W){var re=_.children,X=_.onClick;return zt.default.createElement(nb,(0,wf.__assign)({},{children:re,onClick:X},{key:W}))})},P=(0,ZN.isType)(y,"boolean")?!y:!Y;return zt.default.createElement(zt.default.Fragment,null,v&&e&&zt.default.createElement("div",{style:{height:O},className:"w-full"}),zt.default.createElement("nav",{ref:T,className:(0,XN.default)("bg-white shadow dark:bg-gray-800 flex justify-between p-2 border",e&&"fixed top-0 left-0 right-0",f),style:(0,wf.__assign)({zIndex:l},d)},zt.default.createElement("ul",{className:"flex flex-row"},r&&zt.default.createElement(nb,{onClick:function(){H(!P),r(!P)}},zt.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"svg-fix"},P?e8:QN)),Z(n)),i,zt.default.createElement("ul",{className:"flex flex-row"},Z(o))))}_f.TopBar=t8;var nb=function(t){return zt.default.createElement("li",{className:"p-4 text-neutral-500 hover:text-neutral-800 min-w-2"},zt.default.createElement("span",{className:"cursor-pointer",onClick:t.onClick},t.children))}});var ob=xe(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.grTo=bi.grFrom=bi.gradients=void 0;bi.gradients={1:"bg-gradient-to-t",2:"bg-gradient-to-tr",3:"bg-gradient-to-r",4:"bg-gradient-to-br",5:"bg-gradient-to-b",6:"bg-gradient-to-bl",7:"bg-gradient-to-l",8:"bg-gradient-to-tl"};bi.grFrom={slate:"from-slate-400",gray:"from-gray-400",red:"from-red-400",pink:"from-pink-400",purple:"from-purple-400",indigo:"from-indigo-400",blue:"from-blue-400",cyan:"from-cyan-400",teal:"from-teal-400",green:"from-green-400",lime:"from-lime-400",yellow:"from-yellow-400",amber:"from-amber-400",orange:"from-orange-400",brown:"from-brown-400",grey:"from-grey-400",emerald:"from-emerald-400",rose:"from-rose-400"};bi.grTo={slate:"to-slate-900",gray:"to-gray-900",red:"to-red-900",pink:"to-pink-900",purple:"to-purple-900",indigo:"to-indigo-900",blue:"to-blue-900",cyan:"to-cyan-900",teal:"to-teal-900",green:"to-green-900",lime:"to-lime-900",yellow:"to-yellow-900",amber:"to-amber-900",orange:"to-orange-900",brown:"to-brown-900",grey:"to-grey-900",emerald:"to-emerald-900",rose:"to-rose-900"}});var ub=xe(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.LoginPage=void 0;var ey=at(),sb=(0,ey.__importDefault)(Bt()),ht=(0,ey.__importDefault)(Le()),r8=Gp(),n8=Ef(),lb=il(),ab=af(),i8=_i(),Qp=ob();function o8(t){var e=t.thirdPartyLogins,r=t.useRegularLogin,n=t.brand,i=t.companyName,o=t.bgGradientFrom,s=t.bgGradientTo,l=t.onLoginClick,f=t.isLoading,d=t.gradient,m=t.onSignUpClick,v=t.className,y=t.style,S=(0,r8.useForm)(),O=S.register,R=S.handleSubmit,T=S.formState,I=S.reset,L=S.setValue,Y=T.errors,H=T.submitCount,Z=function(X){I(),L("email",X.email),L("password",X.password),l==null||l(X)},P="rounded-md text-sm font-medium",V="py-2.5 pl-3 text-base font-semibold "+(f?"bg-gray-200":"bg-gray-50"),_=o&&s&&d,W=H>0&&Y.email,re=H>0&&Y.password;return ht.default.createElement("div",{className:(0,sb.default)("h-full w-full py-14 px-4",_&&Qp.gradients[d],_&&Qp.grFrom[o],_&&Qp.grTo[s],v),style:y},ht.default.createElement("div",{className:"flex flex-col items-center justify-center"},n,ht.default.createElement("form",{className:"bg-white shadow-lg rounded lg:w-2/3 md:w-3/4 max-w-lg w-full p-10 border border-secondary-200",onSubmit:R(Z)},ht.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",i||"your account"),m&&ht.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",ht.default.createElement("a",{onClick:f?void 0:m,className:(0,sb.default)(`
                            hover:text-gray-500 focus:text-gray-500 focus:outline-none
                            focus:underline hover:underline text-sm font-medium leading-none
                            text-gray-800`,f?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),ht.default.createElement("div",{className:"mt-4"}),e==null?void 0:e.map(function(X,le){return ht.default.createElement(s8,(0,ey.__assign)({},X,{disabled:f,key:le}))}),e&&r&&ht.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},ht.default.createElement("hr",{className:"w-full bg-gray-400"}),ht.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),ht.default.createElement("hr",{className:"w-full bg-gray-400"})),r&&ht.default.createElement(ht.default.Fragment,null,ht.default.createElement(ab.TextInput,{label:"Email",className:P,inputClassName:V,disabled:f,validation:W?"danger":"default",register:O("email",{required:!0,pattern:i8.regexpUtil.email})}),ht.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",W?"Please enter a valid email":""),ht.default.createElement(ab.TextInput,{label:"Password",type:"password",className:P,inputClassName:V,disabled:f,validation:W?"danger":"default",register:O("password",{required:!0})}),ht.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",re?"Please enter your password":""),ht.default.createElement("div",{className:"mt-6"},ht.default.createElement(lb.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:f,htmlType:"submit"},f?ht.default.createElement(n8.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))))}Sf.LoginPage=o8;var s8=function(t){var e=t.disabled,r=t.name,n=t.logo;return ht.default.createElement(lb.Button,{size:"auto",outline:!0,type:"secondary",disabled:e,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,ht.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var Ef=xe(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});var Nt=at();(0,Nt.__exportStar)(FS(),dt);(0,Nt.__exportStar)(eE(),dt);(0,Nt.__exportStar)(rE(),dt);(0,Nt.__exportStar)(Vc(),dt);(0,Nt.__exportStar)(cE(),dt);(0,Nt.__exportStar)($c(),dt);(0,Nt.__exportStar)(Bc(),dt);(0,Nt.__exportStar)(il(),dt);(0,Nt.__exportStar)(wp(),dt);(0,Nt.__exportStar)(fE(),dt);(0,Nt.__exportStar)(GE(),dt);(0,Nt.__exportStar)(JE(),dt);(0,Nt.__exportStar)(zc(),dt);(0,Nt.__exportStar)(YE(),dt);(0,Nt.__exportStar)(KE(),dt);(0,Nt.__exportStar)(ZE(),dt);(0,Nt.__exportStar)(af(),dt);(0,Nt.__exportStar)(XE(),dt);(0,Nt.__exportStar)(rb(),dt);(0,Nt.__exportStar)(ib(),dt);(0,Nt.__exportStar)(ub(),dt)});var ay=Rt(Le()),yb=Rt(Yv());var en=Rt(Le());function rs(){return rs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rs.apply(this,arguments)}var ai;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ai||(ai={}));var Kv=function(t){return t};var Zv="beforeunload";var vx="popstate";function ew(t){t===void 0&&(t={});var e=t,r=e.window,n=r===void 0?document.defaultView:r,i=n.history;function o(){var V=n.location,_=V.pathname,W=V.search,re=V.hash,X=i.state||{};return[X.idx,Kv({pathname:_,search:W,hash:re,state:X.usr||null,key:X.key||"default"})]}var s=null;function l(){if(s)S.call(s),s=null;else{var V=ai.Pop,_=o(),W=_[0],re=_[1];if(S.length){if(W!=null){var X=m-W;X&&(s={action:V,location:re,retry:function(){Z(X*-1)}},Z(X))}}else L(V)}}n.addEventListener(vx,l);var f=ai.Pop,d=o(),m=d[0],v=d[1],y=Qv(),S=Qv();m==null&&(m=0,i.replaceState(rs({},i.state,{idx:m}),""));function O(V){return typeof V=="string"?V:tw(V)}function R(V,_){return _===void 0&&(_=null),Kv(rs({pathname:v.pathname,hash:"",search:""},typeof V=="string"?l0(V):V,{state:_,key:wx()}))}function T(V,_){return[{usr:V.state,key:V.key,idx:_},O(V)]}function I(V,_,W){return!S.length||(S.call({action:V,location:_,retry:W}),!1)}function L(V){f=V;var _=o();m=_[0],v=_[1],y.call({action:f,location:v})}function Y(V,_){var W=ai.Push,re=R(V,_);function X(){Y(V,_)}if(I(W,re,X)){var le=T(re,m+1),ae=le[0],ye=le[1];try{i.pushState(ae,"",ye)}catch{n.location.assign(ye)}L(W)}}function H(V,_){var W=ai.Replace,re=R(V,_);function X(){H(V,_)}if(I(W,re,X)){var le=T(re,m),ae=le[0],ye=le[1];i.replaceState(ae,"",ye),L(W)}}function Z(V){i.go(V)}var P={get action(){return f},get location(){return v},createHref:O,push:Y,replace:H,go:Z,back:function(){Z(-1)},forward:function(){Z(1)},listen:function(_){return y.push(_)},block:function(_){var W=S.push(_);return S.length===1&&n.addEventListener(Zv,Xv),function(){W(),S.length||n.removeEventListener(Zv,Xv)}}};return P}function Xv(t){t.preventDefault(),t.returnValue=""}function Qv(){var t=[];return{get length(){return t.length},push:function(r){return t.push(r),function(){t=t.filter(function(n){return n!==r})}},call:function(r){t.forEach(function(n){return n&&n(r)})}}}function wx(){return Math.random().toString(36).substr(2,8)}function tw(t){var e=t.pathname,r=e===void 0?"/":e,n=t.search,i=n===void 0?"":n,o=t.hash,s=o===void 0?"":o;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function l0(t){var e={};if(t){var r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));var n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}var Ct=Rt(Le());function _x(t,e){if(!t)throw new Error(e)}var Sx=(0,Ct.createContext)(null),rw=(0,Ct.createContext)(null);function nw(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ai.Pop,navigator:o,static:s=!1}=t;Ex()&&_x(!1);let l=xx(e),f=(0,Ct.useMemo)(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof n=="string"&&(n=l0(n));let{pathname:d="/",search:m="",hash:v="",state:y=null,key:S="default"}=n,O=(0,Ct.useMemo)(()=>{let R=bx(d,l);return R==null?null:{pathname:R,search:m,hash:v,state:y,key:S}},[l,d,m,v,y,S]);return O==null?null:(0,Ct.createElement)(Sx.Provider,{value:f},(0,Ct.createElement)(rw.Provider,{children:r,value:{location:O,navigationType:i}}))}function Ex(){return(0,Ct.useContext)(rw)!=null}function bx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=t.charAt(e.length);return r&&r!=="/"?null:t.slice(e.length)||"/"}var xx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function iw(t){let{basename:e,children:r,window:n}=t,i=(0,en.useRef)();i.current==null&&(i.current=ew({window:n}));let o=i.current,[s,l]=(0,en.useState)({action:o.action,location:o.location});return(0,en.useLayoutEffect)(()=>o.listen(l),[o]),(0,en.createElement)(nw,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o})}var zR=Rt(fS());var ar=Rt(Le()),bf=Rt(Ef());var cb=Rt(Le());ja();var fo=class extends cb.Component{constructor(e={state:$r}){super(e);this.statemgr=$r;this.UPDATED=[];e.state&&(this.statemgr=e.state);let r=this.setState.bind(this);this.setState=n=>{this.UPDATED=Object.keys(n),r(n),typeof n=="object"&&$r.setState(n)},setTimeout(()=>{let n={};for(let i in this.state)this.statemgr.subscribeTrigger(i,o=>{if(typeof this=="undefined")this.statemgr.unsubscribeTrigger(i);else{let l=this.UPDATED.indexOf(i);l>-1?this.UPDATED.splice(l,1):r({[i]:o})}});Object.keys(n).length>0&&r(n)},.001)}};var ho=Rt(Le()),ty=class extends ho.Component{render(){return ho.default.createElement("div",null,ho.default.createElement("div",{style:{height:200,border:"1px solid black",borderRadius:5}},"User Card + Summary"),ho.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Timeline"),ho.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Scrollview of selected details/summaries"))}};var Et=Rt(Le());function fb(t=""){return`${t+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}Qa();var ry=class extends fo{constructor(){super(...arguments);this.id=fb("permissions");this.onclicked=()=>{let e=document.getElementById(this.id+"userid").value,r=document.getElementById(this.id+"name").value,n=document.getElementById(this.id+"perms"),i=n.options[n.selectedIndex].value,o=document.getElementById(this.id+"peers"),s=o.options[o.selectedIndex].value;s==="granting"?qe.authorizeUser(qe.currentUser,qe.currentUser._id,"me",e,r,[n]):s==="asking"&&qe.authorizeUser(qe.currentUser,e,r,qe.currentUser._id,"me",[i])}}componentDidMount(){return te(this,null,function*(){let e=yield qe.getAuthorizations(),r=document.getElementById(this.id+"auths");e&&e.forEach(n=>{r==null||r.insertAdjacentHTML("beforeend",`
                    <tr>
                        <td>Permissions: ${n.authorizations.join(",")}</td>
                        <td>Authorized: ${n.authorizedName}</td>
                        <td>Authorizer: ${n.authorizerName}</td>
                        <td>Status: ${n.status}</td>
                    </tr>`)})})}render(){return Et.default.createElement("div",null,Et.default.createElement("div",{style:{height:400,border:"1px solid black",borderRadius:5}},"Groups and Authorizations",Et.default.createElement("br",null),"User Id or Email",Et.default.createElement("br",null),Et.default.createElement("input",{id:this.id+"userid",type:"text",placeholder:"example@example.com"}),"Name",Et.default.createElement("br",null),Et.default.createElement("input",{id:this.id+"name",type:"text",placeholder:"example@example.com"}),Et.default.createElement("br",null),"Permssions:",Et.default.createElement("br",null),Et.default.createElement("select",{id:this.id+"perms"},Et.default.createElement("option",{value:"peer",selected:!0},"Peer (read/write/chat)"),Et.default.createElement("option",{value:"control"},"Admin (hand over control)")),Et.default.createElement("br",null),"Asking or Granting?",Et.default.createElement("br",null),Et.default.createElement("select",{id:this.id+"peers"},Et.default.createElement("option",{value:"asking",selected:!0},"Asking (get access)"),Et.default.createElement("option",{value:"granting"},"Granting (give access)")),Et.default.createElement("br",null),Et.default.createElement("button",{id:this.id+"submit"},"Submit")),Et.default.createElement("div",{onClick:this.onclicked,style:{height:600,border:"1px solid black",borderRadius:5}},"Summaries of Connected Peers",Et.default.createElement("table",{id:this.id+"auths"})))}};var Ss=Rt(Le()),ny=class extends Ss.Component{render(){return Ss.default.createElement("div",null,Ss.default.createElement("div",null,"Profile Deets + Editing"),Ss.default.createElement("div",null,"More fine grained permissions and opt-in stuff"))}};var pb=Rt(Ef());lp();ja();var iy=Rt(Le());_c();Qa();_c();function hb(){return te(this,null,function*(){let t=yield a8(),e=yield l8(t.user,t.peer),r=yield u8(t.user,t.peer),n=yield c8(),i=yield f8(t.peer,r.chatroom,r.comment),o=yield h8(),s=yield d8(e.userauth),l=yield p8(t.user,t.peer),f=yield y8(),d={users:t,auths:e,chatroomres:r,pnotes:n,replied:i,unotes:o,rejected:s,group:l,gauths:f};return console.log("results",d),d})}function a8(){return te(this,null,function*(){let t=yield wc(),e=yield uS();return console.log("user",t,"peer",e),{user:t,peer:e}})}function l8(){return te(this,arguments,function*(t=so,e=gi){let r=yield qe.authorizeUser(t,t._id,void 0,e._id,void 0,["peer"]),n=yield or.authorizeUser(e,t._id,void 0,e._id,void 0,["peer"]);return console.log("user-owned auth:",r,`
peer-owned auth:`,n),console.log("auths",r,n),{userauth:r,peerauth:n}})}function u8(){return te(this,arguments,function*(t=so,e=gi){let r=qe.getLocalData("chatroom"),n;r&&(r.length>0?n=r[0]:n=yield qe.addChatroom(t,t._id,"this is the first comment",void 0,[e._id],!0));let i=yield qe.addComment(t,n,n,t._id,"don't go there girlfrienddd"),o=yield qe.addComment(t,n,i,t._id,"update: you did");return console.log("chatroom and comments",n,i,i),{chatroom:n,comment:i,comment2:o}})}function c8(){return te(this,null,function*(){if(yield or.checkForNotifications())return yield or.resolveNotifications()})}function f8(){return te(this,arguments,function*(t=gi,e,r){let n=yield qe.addComment(t,e,r,t._id,"oh I went there");return console.log("new comment",n),n})}function h8(){return te(this,null,function*(){if(yield qe.checkForNotifications())return yield or.resolveNotifications()})}function d8(t){return te(this,null,function*(){if(t)return yield qe.deleteAuthorization(t._id)})}function p8(){return te(this,arguments,function*(t=so,e=gi){let r=yield or.addGroup(e,"testgroup"+Math.floor(Math.random()*1e8),"this is a test",[e._id],[e._id],[t],!0);return console.log("new group",r),r})}function y8(){return te(this,null,function*(){yield qe.setAuthorizationsByGroup(),yield or.setAuthorizationsByGroup()})}var oy=class extends fo{componentDidMount(){return te(this,null,function*(){let e=yield hb();console.log(e)})}render(){return iy.default.createElement("div",null,iy.default.createElement("div",null,"DEV TEST (see console -- Press F12)"))}};var m8=()=>ar.default.createElement("img",{src:"src/assets/myalyce.png",width:"100px",alt:"MyAlyce"}),db=!0,sy=class extends fo{constructor(){super(...arguments);this.state={isLoggedIn:!1,navOpen:!1,route:"/"}}onLoginClick(e){el(e.email,e.password).then(r=>te(this,null,function*(){let n=yield tl(r);n&&(yield is(n))}))}onGoogleLoginClick(){el("google").then(e=>te(this,null,function*(){let r=yield tl(e);r&&(yield is(r))}))}setNavOpen(e){this.setState({navOpen:e})}render(){return console.log(this.state.route),ar.default.createElement("div",null,!this.state.isLoggedIn&&!db&&ar.default.createElement(pb.Login,{useRegularLogin:!0,onLoginClick:this.onLoginClick,thirdPartyLogins:[{name:"google",logo:ar.default.createElement("img",{src:"src/assets/google.png",width:"50px"}),onClick:this.onGoogleLoginClick}]}),(this.state.isLoggedIn||db)&&ar.default.createElement("div",null,ar.default.createElement(bf.NavDrawer,{fixed:"left",zIndex:102,isOpen:this.state.navOpen,brand:m8(),onBackdropClick:()=>this.setState({navOpen:!1}),menuItems:[{type:"action",icon:"D",onClick:()=>this.setState({route:"/dashboard",navOpen:!1}),title:"Dashboard"},{type:"action",icon:"P",onClick:()=>this.setState({route:"/peers",navOpen:!1}),title:"Peers & Groups"},{type:"action",icon:"S",onClick:()=>this.setState({route:"/settings",navOpen:!1}),title:"Profile Settings"},{type:"action",icon:"D",onClick:()=>this.setState({route:"/dev",navOpen:!1}),title:"DEV MODE"}]}),ar.default.createElement("div",{id:"view"},ar.default.createElement(bf.TopBar,{zIndex:0,onMenuExpand:()=>{let e=!this.state.navOpen;this.setState({navOpen:e})}}),ar.default.createElement("div",{id:"viewcontent"},ar.default.createElement("div",{id:"route"},(this.state.route.includes("dashboard")||this.state.route==="/"||this.state.route==="")&&ar.default.createElement(ty,null),this.state.route.includes("peers")&&ar.default.createElement(ry,null),this.state.route.includes("settings")&&ar.default.createElement(ny,null),this.state.route.includes("dev")&&ar.default.createElement(oy,null))))))}};var g8=!0;g8&&document.head.insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="dist/app.css" type="text/css" />');yb.default.render(ay.default.createElement(iw,null,ay.default.createElement(sy,null)),document.getElementById("react"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * React Router DOM v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=app.js.map
