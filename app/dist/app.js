(()=>{var m3=Object.create;var Rl=Object.defineProperty;var g3=Object.getOwnPropertyDescriptor;var v3=Object.getOwnPropertyNames,Um=Object.getOwnPropertySymbols,w3=Object.getPrototypeOf,zm=Object.prototype.hasOwnProperty,_3=Object.prototype.propertyIsEnumerable;var Vm=Math.pow,Xf=(t,e,r)=>e in t?Rl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wm=(t,e)=>{for(var r in e||(e={}))zm.call(e,r)&&Xf(t,r,e[r]);if(Um)for(var r of Um(e))_3.call(e,r)&&Xf(t,r,e[r]);return t};var S3=t=>Rl(t,"__esModule",{value:!0});var E3=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var rt=(t,e)=>()=>(t&&(e=t(t=0)),e);var xe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var b3=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of v3(e))!zm.call(t,i)&&(r||i!=="default")&&Rl(t,i,{get:()=>e[i],enumerable:!(n=g3(e,i))||n.enumerable});return t},Ft=(t,e)=>b3(S3(Rl(t!=null?m3(w3(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var ze=(t,e,r)=>(Xf(t,typeof e!="symbol"?e+"":e,r),r);var re=(t,e,r)=>new Promise((n,i)=>{var o=f=>{try{a(r.next(f))}catch(d){i(d)}},s=f=>{try{a(r.throw(f))}catch(d){i(d)}},a=f=>f.done?n(f.value):Promise.resolve(f.value).then(o,s);a((r=r.apply(t,e)).next())});var Qf=xe((k8,$m)=>{"use strict";var qm=Object.getOwnPropertySymbols,x3=Object.prototype.hasOwnProperty,O3=Object.prototype.propertyIsEnumerable;function k3(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function T3(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}$m.exports=T3()?Object.assign:function(t,e){for(var r,n=k3(t),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)x3.call(r,s)&&(n[s]=r[s]);if(qm){i=qm(r);for(var a=0;a<i.length;a++)O3.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}});var ag=xe(Be=>{"use strict";var th=Qf(),Oo=60103,Jm=60106;Be.Fragment=60107;Be.StrictMode=60108;Be.Profiler=60114;var Ym=60109,Km=60110,Zm=60112;Be.Suspense=60113;var Xm=60115,Qm=60116;typeof Symbol=="function"&&Symbol.for&&(jr=Symbol.for,Oo=jr("react.element"),Jm=jr("react.portal"),Be.Fragment=jr("react.fragment"),Be.StrictMode=jr("react.strict_mode"),Be.Profiler=jr("react.profiler"),Ym=jr("react.provider"),Km=jr("react.context"),Zm=jr("react.forward_ref"),Be.Suspense=jr("react.suspense"),Xm=jr("react.memo"),Qm=jr("react.lazy"));var jr,Hm=typeof Symbol=="function"&&Symbol.iterator;function N3(t){return t===null||typeof t!="object"?null:(t=Hm&&t[Hm]||t["@@iterator"],typeof t=="function"?t:null)}function zs(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tg={};function ko(t,e,r){this.props=t,this.context=e,this.refs=tg,this.updater=r||eg}ko.prototype.isReactComponent={};ko.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(zs(85));this.updater.enqueueSetState(this,t,e,"setState")};ko.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rg(){}rg.prototype=ko.prototype;function rh(t,e,r){this.props=t,this.context=e,this.refs=tg,this.updater=r||eg}var nh=rh.prototype=new rg;nh.constructor=rh;th(nh,ko.prototype);nh.isPureReactComponent=!0;var ih={current:null},ng=Object.prototype.hasOwnProperty,ig={key:!0,ref:!0,__self:!0,__source:!0};function og(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)ng.call(e,n)&&!ig.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var f=Array(a),d=0;d<a;d++)f[d]=arguments[d+2];i.children=f}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Oo,type:t,key:o,ref:s,props:i,_owner:ih.current}}function I3(t,e){return{$$typeof:Oo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Oo}function A3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Gm=/\/+/g;function eh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?A3(""+t.key):e.toString(36)}function Fl(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Oo:case Jm:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+eh(s,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(Gm,"$&/")+"/"),Fl(i,e,r,"",function(d){return d})):i!=null&&(oh(i)&&(i=I3(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Gm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Array.isArray(t))for(var a=0;a<t.length;a++){o=t[a];var f=n+eh(o,a);s+=Fl(o,e,r,f,i)}else if(f=N3(t),typeof f=="function")for(t=f.call(t),a=0;!(o=t.next()).done;)o=o.value,f=n+eh(o,a++),s+=Fl(o,e,r,f,i);else if(o==="object")throw e=""+t,Error(zs(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function Dl(t,e,r){if(t==null)return t;var n=[],i=0;return Fl(t,n,"","",function(o){return e.call(r,o,i++)}),n}function R3(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var sg={current:null};function In(){var t=sg.current;if(t===null)throw Error(zs(321));return t}var D3={ReactCurrentDispatcher:sg,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ih,IsSomeRendererActing:{current:!1},assign:th};Be.Children={map:Dl,forEach:function(t,e,r){Dl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Dl(t,function(){e++}),e},toArray:function(t){return Dl(t,function(e){return e})||[]},only:function(t){if(!oh(t))throw Error(zs(143));return t}};Be.Component=ko;Be.PureComponent=rh;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D3;Be.cloneElement=function(t,e,r){if(t==null)throw Error(zs(267,t));var n=th({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ih.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(f in e)ng.call(e,f)&&!ig.hasOwnProperty(f)&&(n[f]=e[f]===void 0&&a!==void 0?a[f]:e[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){a=Array(f);for(var d=0;d<f;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:Oo,type:t.type,key:i,ref:o,props:n,_owner:s}};Be.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Km,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Ym,_context:t},t.Consumer=t};Be.createElement=og;Be.createFactory=function(t){var e=og.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:Zm,render:t}};Be.isValidElement=oh;Be.lazy=function(t){return{$$typeof:Qm,_payload:{_status:-1,_result:t},_init:R3}};Be.memo=function(t,e){return{$$typeof:Xm,type:t,compare:e===void 0?null:e}};Be.useCallback=function(t,e){return In().useCallback(t,e)};Be.useContext=function(t,e){return In().useContext(t,e)};Be.useDebugValue=function(){};Be.useEffect=function(t,e){return In().useEffect(t,e)};Be.useImperativeHandle=function(t,e,r){return In().useImperativeHandle(t,e,r)};Be.useLayoutEffect=function(t,e){return In().useLayoutEffect(t,e)};Be.useMemo=function(t,e){return In().useMemo(t,e)};Be.useReducer=function(t,e,r){return In().useReducer(t,e,r)};Be.useRef=function(t){return In().useRef(t)};Be.useState=function(t){return In().useState(t)};Be.version="17.0.2"});var Le=xe((N8,lg)=>{"use strict";lg.exports=ag()});var pg=xe(Ve=>{"use strict";var No,qs,Ml,hh;typeof performance=="object"&&typeof performance.now=="function"?(ug=performance,Ve.unstable_now=function(){return ug.now()}):(sh=Date,cg=sh.now(),Ve.unstable_now=function(){return sh.now()-cg});var ug,sh,cg;typeof window>"u"||typeof MessageChannel!="function"?(To=null,ah=null,lh=function(){if(To!==null)try{var t=Ve.unstable_now();To(!0,t),To=null}catch(e){throw setTimeout(lh,0),e}},No=function(t){To!==null?setTimeout(No,0,t):(To=t,setTimeout(lh,0))},qs=function(t,e){ah=setTimeout(t,e)},Ml=function(){clearTimeout(ah)},Ve.unstable_shouldYield=function(){return!1},hh=Ve.unstable_forceFrameRate=function(){}):(fg=window.setTimeout,hg=window.clearTimeout,typeof console<"u"&&(dg=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof dg!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Vs=!1,Ws=null,Cl=-1,uh=5,ch=0,Ve.unstable_shouldYield=function(){return Ve.unstable_now()>=ch},hh=function(){},Ve.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):uh=0<t?Math.floor(1e3/t):5},fh=new MessageChannel,Pl=fh.port2,fh.port1.onmessage=function(){if(Ws!==null){var t=Ve.unstable_now();ch=t+uh;try{Ws(!0,t)?Pl.postMessage(null):(Vs=!1,Ws=null)}catch(e){throw Pl.postMessage(null),e}}else Vs=!1},No=function(t){Ws=t,Vs||(Vs=!0,Pl.postMessage(null))},qs=function(t,e){Cl=fg(function(){t(Ve.unstable_now())},e)},Ml=function(){hg(Cl),Cl=-1});var To,ah,lh,fg,hg,dg,Vs,Ws,Cl,uh,ch,fh,Pl;function dh(t,e){var r=t.length;t.push(e);e:for(;;){var n=r-1>>>1,i=t[n];if(i!==void 0&&0<Ll(i,e))t[n]=e,t[r]=i,r=n;else break e}}function Xr(t){return t=t[0],t===void 0?null:t}function jl(t){var e=t[0];if(e!==void 0){var r=t.pop();if(r!==e){t[0]=r;e:for(var n=0,i=t.length;n<i;){var o=2*(n+1)-1,s=t[o],a=o+1,f=t[a];if(s!==void 0&&0>Ll(s,r))f!==void 0&&0>Ll(f,s)?(t[n]=f,t[a]=r,n=a):(t[n]=s,t[o]=r,n=o);else if(f!==void 0&&0>Ll(f,r))t[n]=f,t[a]=r,n=a;else break e}}return e}return null}function Ll(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}var yn=[],qn=[],F3=1,Br=null,Qt=3,Bl=!1,ji=!1,$s=!1;function ph(t){for(var e=Xr(qn);e!==null;){if(e.callback===null)jl(qn);else if(e.startTime<=t)jl(qn),e.sortIndex=e.expirationTime,dh(yn,e);else break;e=Xr(qn)}}function yh(t){if($s=!1,ph(t),!ji)if(Xr(yn)!==null)ji=!0,No(mh);else{var e=Xr(qn);e!==null&&qs(yh,e.startTime-t)}}function mh(t,e){ji=!1,$s&&($s=!1,Ml()),Bl=!0;var r=Qt;try{for(ph(e),Br=Xr(yn);Br!==null&&(!(Br.expirationTime>e)||t&&!Ve.unstable_shouldYield());){var n=Br.callback;if(typeof n=="function"){Br.callback=null,Qt=Br.priorityLevel;var i=n(Br.expirationTime<=e);e=Ve.unstable_now(),typeof i=="function"?Br.callback=i:Br===Xr(yn)&&jl(yn),ph(e)}else jl(yn);Br=Xr(yn)}if(Br!==null)var o=!0;else{var s=Xr(qn);s!==null&&qs(yh,s.startTime-e),o=!1}return o}finally{Br=null,Qt=r,Bl=!1}}var C3=hh;Ve.unstable_IdlePriority=5;Ve.unstable_ImmediatePriority=1;Ve.unstable_LowPriority=4;Ve.unstable_NormalPriority=3;Ve.unstable_Profiling=null;Ve.unstable_UserBlockingPriority=2;Ve.unstable_cancelCallback=function(t){t.callback=null};Ve.unstable_continueExecution=function(){ji||Bl||(ji=!0,No(mh))};Ve.unstable_getCurrentPriorityLevel=function(){return Qt};Ve.unstable_getFirstCallbackNode=function(){return Xr(yn)};Ve.unstable_next=function(t){switch(Qt){case 1:case 2:case 3:var e=3;break;default:e=Qt}var r=Qt;Qt=e;try{return t()}finally{Qt=r}};Ve.unstable_pauseExecution=function(){};Ve.unstable_requestPaint=C3;Ve.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=Qt;Qt=t;try{return e()}finally{Qt=r}};Ve.unstable_scheduleCallback=function(t,e,r){var n=Ve.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,t={id:F3++,callback:e,priorityLevel:t,startTime:r,expirationTime:i,sortIndex:-1},r>n?(t.sortIndex=r,dh(qn,t),Xr(yn)===null&&t===Xr(qn)&&($s?Ml():$s=!0,qs(yh,r-n))):(t.sortIndex=i,dh(yn,t),ji||Bl||(ji=!0,No(mh))),t};Ve.unstable_wrapCallback=function(t){var e=Qt;return function(){var r=Qt;Qt=e;try{return t.apply(this,arguments)}finally{Qt=r}}}});var mg=xe((A8,yg)=>{"use strict";yg.exports=pg()});var nw=xe($r=>{"use strict";var Du=Le(),at=Qf(),Mt=mg();function me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Du)throw Error(me(227));var I1=new Set,Sa={};function Yi(t,e){Yo(t,e),Yo(t+"Capture",e)}function Yo(t,e){for(Sa[t]=e,t=0;t<e.length;t++)I1.add(e[t])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gg=Object.prototype.hasOwnProperty,vg={},wg={};function L3(t){return gg.call(wg,t)?!0:gg.call(vg,t)?!1:P3.test(t)?wg[t]=!0:(vg[t]=!0,!1)}function M3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j3(t,e,r,n){if(e===null||typeof e>"u"||M3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var O0=/[\-:]([a-z])/g;function k0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(O0,k0);Gt[e]=new sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(O0,k0);Gt[e]=new sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(O0,k0);Gt[e]=new sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new sr(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function T0(t,e,r,n){var i=Gt.hasOwnProperty(e)?Gt[e]:null,o=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(j3(e,r,i,n)&&(r=null),n||i===null?L3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ki=Du.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ia=60103,Ui=60106,Hn=60107,N0=60108,ua=60114,I0=60109,A0=60110,Fu=60112,ca=60113,uu=60120,Cu=60115,R0=60116,D0=60121,F0=60128,A1=60129,C0=60130,Bh=60131;typeof Symbol=="function"&&Symbol.for&&(Ct=Symbol.for,ia=Ct("react.element"),Ui=Ct("react.portal"),Hn=Ct("react.fragment"),N0=Ct("react.strict_mode"),ua=Ct("react.profiler"),I0=Ct("react.provider"),A0=Ct("react.context"),Fu=Ct("react.forward_ref"),ca=Ct("react.suspense"),uu=Ct("react.suspense_list"),Cu=Ct("react.memo"),R0=Ct("react.lazy"),D0=Ct("react.block"),Ct("react.scope"),F0=Ct("react.opaque.id"),A1=Ct("react.debug_trace_mode"),C0=Ct("react.offscreen"),Bh=Ct("react.legacy_hidden"));var Ct,_g=typeof Symbol=="function"&&Symbol.iterator;function Hs(t){return t===null||typeof t!="object"?null:(t=_g&&t[_g]||t["@@iterator"],typeof t=="function"?t:null)}var gh;function oa(t){if(gh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);gh=e&&e[1]||""}return`
`+gh+t}var vh=!1;function Ul(t,e){if(!t||vh)return"";vh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var n=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){n=f}t.call(e.prototype)}else{try{throw Error()}catch(f){n=f}t()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{vh=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?oa(t):""}function B3(t){switch(t.tag){case 5:return oa(t.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return t=Ul(t.type,!1),t;case 11:return t=Ul(t.type.render,!1),t;case 22:return t=Ul(t.type._render,!1),t;case 1:return t=Ul(t.type,!0),t;default:return""}}function Bo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hn:return"Fragment";case Ui:return"Portal";case ua:return"Profiler";case N0:return"StrictMode";case ca:return"Suspense";case uu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A0:return(t.displayName||"Context")+".Consumer";case I0:return(t._context.displayName||"Context")+".Provider";case Fu:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Cu:return Bo(t.type);case D0:return Bo(t._render);case R0:e=t._payload,t=t._init;try{return Bo(t(e))}catch{}}return null}function ii(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function R1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U3(t){var e=R1(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zl(t){t._valueTracker||(t._valueTracker=U3(t))}function D1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=R1(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function cu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uh(t,e){var r=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Sg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ii(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F1(t,e){e=e.checked,e!=null&&T0(t,"checked",e,!1)}function zh(t,e){F1(t,e);var r=ii(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vh(t,e.type,r):e.hasOwnProperty("defaultValue")&&Vh(t,e.type,ii(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Eg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Vh(t,e,r){(e!=="number"||cu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function z3(t){var e="";return Du.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function Wh(t,e){return t=at({children:void 0},e),(e=z3(e.children))&&(t.children=e),t}function Uo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ii(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(me(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(me(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ii(r)}}function C1(t,e){var r=ii(e.value),n=ii(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function xg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var $h={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function P1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?P1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vl,L1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==$h.svg||"innerHTML"in t)t.innerHTML=e;else{for(Vl=Vl||document.createElement("div"),Vl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ea(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var fa={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V3=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(t){V3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fa[e]=fa[t]})});function M1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fa.hasOwnProperty(t)&&fa[t]?(""+e).trim():e+"px"}function j1(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=M1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var W3=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gh(t,e){if(e){if(W3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function Jh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function P0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yh=null,zo=null,Vo=null;function Og(t){if(t=La(t)){if(typeof Yh!="function")throw Error(me(280));var e=t.stateNode;e&&(e=Uu(e),Yh(t.stateNode,t.type,e))}}function B1(t){zo?Vo?Vo.push(t):Vo=[t]:zo=t}function U1(){if(zo){var t=zo,e=Vo;if(Vo=zo=null,Og(t),e)for(t=0;t<e.length;t++)Og(e[t])}}function L0(t,e){return t(e)}function z1(t,e,r,n,i){return t(e,r,n,i)}function M0(){}var V1=L0,zi=!1,wh=!1;function j0(){(zo!==null||Vo!==null)&&(M0(),U1())}function q3(t,e,r){if(wh)return t(e,r);wh=!0;try{return V1(t,e,r)}finally{wh=!1,j0()}}function ba(t,e){var r=t.stateNode;if(r===null)return null;var n=Uu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(me(231,e,typeof r));return r}var Kh=!1;if(Pn)try{Io={},Object.defineProperty(Io,"passive",{get:function(){Kh=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Kh=!1}var Io;function $3(t,e,r,n,i,o,s,a,f){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(m){this.onError(m)}}var ha=!1,fu=null,hu=!1,Zh=null,H3={onError:function(t){ha=!0,fu=t}};function G3(t,e,r,n,i,o,s,a,f){ha=!1,fu=null,$3.apply(H3,arguments)}function J3(t,e,r,n,i,o,s,a,f){if(G3.apply(this,arguments),ha){if(ha){var d=fu;ha=!1,fu=null}else throw Error(me(198));hu||(hu=!0,Zh=d)}}function Zi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function W1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kg(t){if(Zi(t)!==t)throw Error(me(188))}function Y3(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(me(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return kg(i),t;if(o===n)return kg(i),e;o=o.sibling}throw Error(me(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?t:e}function q1(t){if(t=Y3(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Tg(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var $1,B0,H1,G1,Xh=!1,mn=[],Kn=null,Zn=null,Xn=null,xa=new Map,Oa=new Map,Gs=[],Ng="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qh(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function Ig(t,e){switch(t){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":xa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(e.pointerId)}}function Js(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t=Qh(e,r,n,i,o),e!==null&&(e=La(e),e!==null&&B0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function K3(t,e,r,n,i){switch(e){case"focusin":return Kn=Js(Kn,t,e,r,n,i),!0;case"dragenter":return Zn=Js(Zn,t,e,r,n,i),!0;case"mouseover":return Xn=Js(Xn,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return xa.set(o,Js(xa.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Oa.set(o,Js(Oa.get(o)||null,t,e,r,n,i)),!0}return!1}function Z3(t){var e=Vi(t.target);if(e!==null){var r=Zi(e);if(r!==null){if(e=r.tag,e===13){if(e=W1(r),e!==null){t.blockedOn=e,G1(t.lanePriority,function(){Mt.unstable_runWithPriority(t.priority,function(){H1(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ql(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=W0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=La(r),e!==null&&B0(e),t.blockedOn=r,!1;e.shift()}return!0}function Ag(t,e,r){Ql(t)&&r.delete(e)}function X3(){for(Xh=!1;0<mn.length;){var t=mn[0];if(t.blockedOn!==null){t=La(t.blockedOn),t!==null&&$1(t);break}for(var e=t.targetContainers;0<e.length;){var r=W0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&mn.shift()}Kn!==null&&Ql(Kn)&&(Kn=null),Zn!==null&&Ql(Zn)&&(Zn=null),Xn!==null&&Ql(Xn)&&(Xn=null),xa.forEach(Ag),Oa.forEach(Ag)}function Ys(t,e){t.blockedOn===e&&(t.blockedOn=null,Xh||(Xh=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,X3)))}function J1(t){function e(i){return Ys(i,t)}if(0<mn.length){Ys(mn[0],t);for(var r=1;r<mn.length;r++){var n=mn[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Kn!==null&&Ys(Kn,t),Zn!==null&&Ys(Zn,t),Xn!==null&&Ys(Xn,t),xa.forEach(e),Oa.forEach(e),r=0;r<Gs.length;r++)n=Gs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Gs.length&&(r=Gs[0],r.blockedOn===null);)Z3(r),r.blockedOn===null&&Gs.shift()}function Wl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Fo={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},_h={},Y1={};Pn&&(Y1=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Pu(t){if(_h[t])return _h[t];if(!Fo[t])return t;var e=Fo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Y1)return _h[t]=e[r];return t}var K1=Pu("animationend"),Z1=Pu("animationiteration"),X1=Pu("animationstart"),Q1=Pu("transitionend"),tv=new Map,U0=new Map,Q3=["abort","abort",K1,"animationEnd",Z1,"animationIteration",X1,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Q1,"transitionEnd","waiting","waiting"];function z0(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),U0.set(n,e),tv.set(n,i),Yi(i,[n])}}var e4=Mt.unstable_now;e4();var Xe=8;function Ro(t){if((1&t)!==0)return Xe=15,1;if((2&t)!==0)return Xe=14,2;if((4&t)!==0)return Xe=13,4;var e=24&t;return e!==0?(Xe=12,e):(t&32)!==0?(Xe=11,32):(e=192&t,e!==0?(Xe=10,e):(t&256)!==0?(Xe=9,256):(e=3584&t,e!==0?(Xe=8,e):(t&4096)!==0?(Xe=7,4096):(e=4186112&t,e!==0?(Xe=6,e):(e=62914560&t,e!==0?(Xe=5,e):t&67108864?(Xe=4,67108864):(t&134217728)!==0?(Xe=3,134217728):(e=805306368&t,e!==0?(Xe=2,e):(1073741824&t)!==0?(Xe=1,1073741824):(Xe=8,t))))))}function t4(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function r4(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(me(358,t))}}function ka(t,e){var r=t.pendingLanes;if(r===0)return Xe=0;var n=0,i=0,o=t.expiredLanes,s=t.suspendedLanes,a=t.pingedLanes;if(o!==0)n=o,i=Xe=15;else if(o=r&134217727,o!==0){var f=o&~s;f!==0?(n=Ro(f),i=Xe):(a&=o,a!==0&&(n=Ro(a),i=Xe))}else o=r&~s,o!==0?(n=Ro(o),i=Xe):a!==0&&(n=Ro(a),i=Xe);if(n===0)return 0;if(n=31-oi(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&(e&s)===0){if(Ro(e),i<=Xe)return e;Xe=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-oi(e),i=1<<r,n|=t[r],e&=~i;return n}function rv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function du(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Do(24&~e),t===0?du(10,e):t;case 10:return t=Do(192&~e),t===0?du(8,e):t;case 8:return t=Do(3584&~e),t===0&&(t=Do(4186112&~e),t===0&&(t=512)),t;case 2:return e=Do(805306368&~e),e===0&&(e=268435456),e}throw Error(me(358,t))}function Do(t){return t&-t}function Sh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Lu(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-oi(e),t[e]=r}var oi=Math.clz32?Math.clz32:o4,n4=Math.log,i4=Math.LN2;function o4(t){return t===0?32:31-(n4(t)/i4|0)|0}var s4=Mt.unstable_UserBlockingPriority,a4=Mt.unstable_runWithPriority,eu=!0;function l4(t,e,r,n){zi||M0();var i=V0,o=zi;zi=!0;try{z1(i,t,e,r,n)}finally{(zi=o)||j0()}}function u4(t,e,r,n){a4(s4,V0.bind(null,t,e,r,n))}function V0(t,e,r,n){if(eu){var i;if((i=(e&4)===0)&&0<mn.length&&-1<Ng.indexOf(t))t=Qh(null,t,e,r,n),mn.push(t);else{var o=W0(t,e,r,n);if(o===null)i&&Ig(t,n);else{if(i){if(-1<Ng.indexOf(t)){t=Qh(o,t,e,r,n),mn.push(t);return}if(K3(o,t,e,r,n))return;Ig(t,n)}yv(t,e,n,null,r)}}}}function W0(t,e,r,n){var i=P0(n);if(i=Vi(i),i!==null){var o=Zi(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=W1(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return yv(t,e,n,i,r),null}var Gn=null,q0=null,tu=null;function nv(){if(tu)return tu;var t,e=q0,r=e.length,n,i="value"in Gn?Gn.value:Gn.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return tu=i.slice(t,1<n?1-n:void 0)}function ru(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ql(){return!0}function Rg(){return!1}function Ir(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ql:Rg,this.isPropagationStopped=Rg,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),e}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$0=Ir(Qo),Pa=at({},Qo,{view:0,detail:0}),c4=Ir(Pa),Eh,bh,Ks,Mu=at({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ks&&(Ks&&t.type==="mousemove"?(Eh=t.screenX-Ks.screenX,bh=t.screenY-Ks.screenY):bh=Eh=0,Ks=t),Eh)},movementY:function(t){return"movementY"in t?t.movementY:bh}}),Dg=Ir(Mu),f4=at({},Mu,{dataTransfer:0}),h4=Ir(f4),d4=at({},Pa,{relatedTarget:0}),xh=Ir(d4),p4=at({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),y4=Ir(p4),m4=at({},Qo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g4=Ir(m4),v4=at({},Qo,{data:0}),Fg=Ir(v4),w4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=S4[t])?!!e[t]:!1}function H0(){return E4}var b4=at({},Pa,{key:function(t){if(t.key){var e=w4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ru(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H0,charCode:function(t){return t.type==="keypress"?ru(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ru(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x4=Ir(b4),O4=at({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cg=Ir(O4),k4=at({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H0}),T4=Ir(k4),N4=at({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),I4=Ir(N4),A4=at({},Mu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R4=Ir(A4),D4=[9,13,27,32],G0=Pn&&"CompositionEvent"in window,da=null;Pn&&"documentMode"in document&&(da=document.documentMode);var F4=Pn&&"TextEvent"in window&&!da,iv=Pn&&(!G0||da&&8<da&&11>=da),Pg=String.fromCharCode(32),Lg=!1;function ov(t,e){switch(t){case"keyup":return D4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Co=!1;function C4(t,e){switch(t){case"compositionend":return sv(e);case"keypress":return e.which!==32?null:(Lg=!0,Pg);case"textInput":return t=e.data,t===Pg&&Lg?null:t;default:return null}}function P4(t,e){if(Co)return t==="compositionend"||!G0&&ov(t,e)?(t=nv(),tu=q0=Gn=null,Co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iv&&e.locale!=="ko"?null:e.data;default:return null}}var L4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L4[t.type]:e==="textarea"}function av(t,e,r,n){B1(n),e=pu(e,"onChange"),0<e.length&&(r=new $0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pa=null,Ta=null;function M4(t){hv(t,0)}function ju(t){var e=Lo(t);if(D1(e))return t}function j4(t,e){if(t==="change")return e}var lv=!1;Pn&&(Pn?(Hl="oninput"in document,Hl||(Oh=document.createElement("div"),Oh.setAttribute("oninput","return;"),Hl=typeof Oh.oninput=="function"),$l=Hl):$l=!1,lv=$l&&(!document.documentMode||9<document.documentMode));var $l,Hl,Oh;function jg(){pa&&(pa.detachEvent("onpropertychange",uv),Ta=pa=null)}function uv(t){if(t.propertyName==="value"&&ju(Ta)){var e=[];if(av(e,Ta,t,P0(t)),t=M4,zi)t(e);else{zi=!0;try{L0(t,e)}finally{zi=!1,j0()}}}}function B4(t,e,r){t==="focusin"?(jg(),pa=e,Ta=r,pa.attachEvent("onpropertychange",uv)):t==="focusout"&&jg()}function U4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Ta)}function z4(t,e){if(t==="click")return ju(e)}function V4(t,e){if(t==="input"||t==="change")return ju(e)}function W4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:W4,q4=Object.prototype.hasOwnProperty;function Na(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!q4.call(e,r[n])||!Ur(t[r[n]],e[r[n]]))return!1;return!0}function Bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,e){var r=Bg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bg(r)}}function cv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zg(){for(var t=window,e=cu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=cu(t.document)}return e}function e0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var $4=Pn&&"documentMode"in document&&11>=document.documentMode,Po=null,t0=null,ya=null,r0=!1;function Vg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;r0||Po==null||Po!==cu(n)||(n=Po,"selectionStart"in n&&e0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ya&&Na(ya,n)||(ya=n,n=pu(t0,"onSelect"),0<n.length&&(e=new $0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Po)))}z0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);z0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);z0(Q3,2);for(kh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Gl=0;Gl<kh.length;Gl++)U0.set(kh[Gl],0);var kh,Gl;Yo("onMouseEnter",["mouseout","mouseover"]);Yo("onMouseLeave",["mouseout","mouseover"]);Yo("onPointerEnter",["pointerout","pointerover"]);Yo("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fv=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function Wg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,J3(n,e,void 0,t),t.currentTarget=null}function hv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],f=a.instance,d=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;Wg(i,a,d),o=f}else for(s=0;s<n.length;s++){if(a=n[s],f=a.instance,d=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;Wg(i,a,d),o=f}}}if(hu)throw t=Zh,hu=!1,Zh=null,t}function nt(t,e){var r=gv(e),n=t+"__bubble";r.has(n)||(pv(e,t,2,!1),r.add(n))}var qg="_reactListening"+Math.random().toString(36).slice(2);function dv(t){t[qg]||(t[qg]=!0,I1.forEach(function(e){fv.has(e)||$g(e,!1,t,null),$g(e,!0,t,null)}))}function $g(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(t==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!e&&fv.has(t)){if(t!=="scroll")return;i|=2,o=n}var s=gv(o),a=t+"__"+(e?"capture":"bubble");s.has(a)||(e&&(i|=4),pv(o,t,i,e),s.add(a))}function pv(t,e,r,n){var i=U0.get(e);switch(i===void 0?2:i){case 0:i=l4;break;case 1:i=u4;break;default:i=V0}r=i.bind(null,e,r,t),i=void 0,!Kh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function yv(t,e,r,n,i){var o=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Vi(a),s===null)return;if(f=s.tag,f===5||f===6){n=o=s;continue e}a=a.parentNode}}n=n.return}q3(function(){var d=o,m=P0(r),v=[];e:{var y=tv.get(t);if(y!==void 0){var w=$0,b=t;switch(t){case"keypress":if(ru(r)===0)break e;case"keydown":case"keyup":w=x4;break;case"focusin":b="focus",w=xh;break;case"focusout":b="blur",w=xh;break;case"beforeblur":case"afterblur":w=xh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=h4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=T4;break;case K1:case Z1:case X1:w=y4;break;case Q1:w=I4;break;case"scroll":w=c4;break;case"wheel":w=R4;break;case"copy":case"cut":case"paste":w=g4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Cg}var A=(e&4)!==0,k=!A&&t==="scroll",N=A?y!==null?y+"Capture":null:y;A=[];for(var F=d,Y;F!==null;){Y=F;var H=Y.stateNode;if(Y.tag===5&&H!==null&&(Y=H,N!==null&&(H=ba(F,N),H!=null&&A.push(Ia(F,H,Y)))),k)break;F=F.return}0<A.length&&(y=new w(y,b,null,r,m),v.push({event:y,listeners:A}))}}if((e&7)===0){e:{if(y=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",y&&(e&16)===0&&(b=r.relatedTarget||r.fromElement)&&(Vi(b)||b[es]))break e;if((w||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,w?(b=r.relatedTarget||r.toElement,w=d,b=b?Vi(b):null,b!==null&&(k=Zi(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=d),w!==b)){if(A=Dg,H="onMouseLeave",N="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(A=Cg,H="onPointerLeave",N="onPointerEnter",F="pointer"),k=w==null?y:Lo(w),Y=b==null?y:Lo(b),y=new A(H,F+"leave",w,r,m),y.target=k,y.relatedTarget=Y,H=null,Vi(m)===d&&(A=new A(N,F+"enter",b,r,m),A.target=Y,A.relatedTarget=k,H=A),k=H,w&&b)t:{for(A=w,N=b,F=0,Y=A;Y;Y=Ao(Y))F++;for(Y=0,H=N;H;H=Ao(H))Y++;for(;0<F-Y;)A=Ao(A),F--;for(;0<Y-F;)N=Ao(N),Y--;for(;F--;){if(A===N||N!==null&&A===N.alternate)break t;A=Ao(A),N=Ao(N)}A=null}else A=null;w!==null&&Hg(v,y,w,A,!1),b!==null&&k!==null&&Hg(v,k,b,A,!0)}}e:{if(y=d?Lo(d):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var Z=j4;else if(Mg(y))if(lv)Z=V4;else{Z=U4;var L=B4}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(Z=z4);if(Z&&(Z=Z(t,d))){av(v,Z,r,m);break e}L&&L(t,y,d),t==="focusout"&&(L=y._wrapperState)&&L.controlled&&y.type==="number"&&Vh(y,"number",y.value)}switch(L=d?Lo(d):window,t){case"focusin":(Mg(L)||L.contentEditable==="true")&&(Po=L,t0=d,ya=null);break;case"focusout":ya=t0=Po=null;break;case"mousedown":r0=!0;break;case"contextmenu":case"mouseup":case"dragend":r0=!1,Vg(v,r,m);break;case"selectionchange":if($4)break;case"keydown":case"keyup":Vg(v,r,m)}var V;if(G0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Co?ov(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(iv&&r.locale!=="ko"&&(Co||S!=="onCompositionStart"?S==="onCompositionEnd"&&Co&&(V=nv()):(Gn=m,q0="value"in Gn?Gn.value:Gn.textContent,Co=!0)),L=pu(d,S),0<L.length&&(S=new Fg(S,t,null,r,m),v.push({event:S,listeners:L}),V?S.data=V:(V=sv(r),V!==null&&(S.data=V)))),(V=F4?C4(t,r):P4(t,r))&&(d=pu(d,"onBeforeInput"),0<d.length&&(m=new Fg("onBeforeInput","beforeinput",null,r,m),v.push({event:m,listeners:d}),m.data=V))}hv(v,e)})}function Ia(t,e,r){return{instance:t,listener:e,currentTarget:r}}function pu(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ba(t,r),o!=null&&n.unshift(Ia(t,o,i)),o=ba(t,e),o!=null&&n.push(Ia(t,o,i))),t=t.return}return n}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hg(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,f=a.alternate,d=a.stateNode;if(f!==null&&f===n)break;a.tag===5&&d!==null&&(a=d,i?(f=ba(r,o),f!=null&&s.unshift(Ia(r,f,a))):i||(f=ba(r,o),f!=null&&s.push(Ia(r,f,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}function yu(){}var Th=null,Nh=null;function mv(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function n0(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gg=typeof setTimeout=="function"?setTimeout:void 0,H4=typeof clearTimeout=="function"?clearTimeout:void 0;function J0(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Jg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ih=0;function G4(t){return{$$typeof:F0,toString:t,valueOf:t}}var Bu=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Bu,mu="__reactProps$"+Bu,es="__reactContainer$"+Bu,Yg="__reactEvents$"+Bu;function Vi(t){var e=t[Jn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[es]||r[Jn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Jg(t);t!==null;){if(r=t[Jn])return r;t=Jg(t)}return e}t=r,r=t.parentNode}return null}function La(t){return t=t[Jn]||t[es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(me(33))}function Uu(t){return t[mu]||null}function gv(t){var e=t[Yg];return e===void 0&&(e=t[Yg]=new Set),e}var i0=[],Mo=-1;function ui(t){return{current:t}}function it(t){0>Mo||(t.current=i0[Mo],i0[Mo]=null,Mo--)}function gt(t,e){Mo++,i0[Mo]=t.current,t.current=e}var si={},nr=ui(si),yr=ui(!1),Hi=si;function Ko(t,e){var r=t.type.contextTypes;if(!r)return si;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mr(t){return t=t.childContextTypes,t!=null}function gu(){it(yr),it(nr)}function Kg(t,e,r){if(nr.current!==si)throw Error(me(168));gt(nr,e),gt(yr,r)}function vv(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(me(108,Bo(e)||"Unknown",i));return at({},r,n)}function nu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||si,Hi=nr.current,gt(nr,t),gt(yr,yr.current),!0}function Zg(t,e,r){var n=t.stateNode;if(!n)throw Error(me(169));r?(t=vv(t,e,Hi),n.__reactInternalMemoizedMergedChildContext=t,it(yr),it(nr),gt(nr,t)):it(yr),gt(yr,r)}var Y0=null,$i=null,J4=Mt.unstable_runWithPriority,K0=Mt.unstable_scheduleCallback,o0=Mt.unstable_cancelCallback,Y4=Mt.unstable_shouldYield,Xg=Mt.unstable_requestPaint,s0=Mt.unstable_now,K4=Mt.unstable_getCurrentPriorityLevel,zu=Mt.unstable_ImmediatePriority,wv=Mt.unstable_UserBlockingPriority,_v=Mt.unstable_NormalPriority,Sv=Mt.unstable_LowPriority,Ev=Mt.unstable_IdlePriority,Ah={},Z4=Xg!==void 0?Xg:function(){},An=null,iu=null,Rh=!1,Qg=s0(),tr=1e4>Qg?s0:function(){return s0()-Qg};function Zo(){switch(K4()){case zu:return 99;case wv:return 98;case _v:return 97;case Sv:return 96;case Ev:return 95;default:throw Error(me(332))}}function bv(t){switch(t){case 99:return zu;case 98:return wv;case 97:return _v;case 96:return Sv;case 95:return Ev;default:throw Error(me(332))}}function Gi(t,e){return t=bv(t),J4(t,e)}function Aa(t,e,r){return t=bv(t),K0(t,e,r)}function Sn(){if(iu!==null){var t=iu;iu=null,o0(t)}xv()}function xv(){if(!Rh&&An!==null){Rh=!0;var t=0;try{var e=An;Gi(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),An=null}catch(r){throw An!==null&&(An=An.slice(t+1)),K0(zu,Sn),r}finally{Rh=!1}}}var X4=Ki.ReactCurrentBatchConfig;function Qr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var vu=ui(null),wu=null,jo=null,_u=null;function Z0(){_u=jo=wu=null}function X0(t){var e=vu.current;it(vu),t.type._context._currentValue=e}function Ov(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function qo(t,e){wu=t,_u=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(en=!0),t.firstContext=null)}function Wr(t,e){if(_u!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(_u=t,e=1073741823),e={context:t,observedBits:e,next:null},jo===null){if(wu===null)throw Error(me(308));jo=e,wu.dependencies={lanes:0,firstContext:e,responders:null}}else jo=jo.next=e;return t._currentValue}var $n=!1;function Q0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function kv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function e1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ra(t,e,r,n){var i=t.updateQueue;$n=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,d=f.next;f.next=null,s===null?o=d:s.next=d,s=f;var m=t.alternate;if(m!==null){m=m.updateQueue;var v=m.lastBaseUpdate;v!==s&&(v===null?m.firstBaseUpdate=d:v.next=d,m.lastBaseUpdate=f)}}if(o!==null){v=i.baseState,s=0,m=d=f=null;do{a=o.lane;var y=o.eventTime;if((n&a)===a){m!==null&&(m=m.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,b=o;switch(a=e,y=r,b.tag){case 1:if(w=b.payload,typeof w=="function"){v=w.call(y,v,a);break e}v=w;break e;case 3:w.flags=w.flags&-4097|64;case 0:if(w=b.payload,a=typeof w=="function"?w.call(y,v,a):w,a==null)break e;v=at({},v,a);break e;case 2:$n=!0}}o.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else y={eventTime:y,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=y,f=v):m=m.next=y,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);m===null&&(f=v),i.baseState=f,i.firstBaseUpdate=d,i.lastBaseUpdate=m,ja|=s,t.lanes=s,t.memoizedState=v}}function t1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(me(191,i));i.call(n)}}}var Tv=new Du.Component().refs;function Su(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:at({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vu={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Nr(),i=ti(t),o=Qn(n,i);o.payload=e,r!=null&&(o.callback=r),ei(t,o),ri(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Nr(),i=ti(t),o=Qn(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),ei(t,o),ri(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Nr(),n=ti(t),i=Qn(r,n);i.tag=2,e!=null&&(i.callback=e),ei(t,i),ri(t,n,r)}};function r1(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!Na(r,n)||!Na(i,o):!0}function Nv(t,e,r){var n=!1,i=si,o=e.contextType;return typeof o=="object"&&o!==null?o=Wr(o):(i=mr(e)?Hi:nr.current,n=e.contextTypes,o=(n=n!=null)?Ko(t,i):si),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function n1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Vu.enqueueReplaceState(e,e.state,null)}function a0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Tv,Q0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Wr(o):(o=mr(e)?Hi:nr.current,i.context=Ko(t,o)),Ra(t,r,i,n),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Su(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vu.enqueueReplaceState(i,i.state,null),Ra(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Jl=Array.isArray;function Zs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=n.refs;s===Tv&&(s=n.refs={}),o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,t))}return t}function Yl(t,e){if(t.type!=="textarea")throw Error(me(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Iv(t){function e(k,N){if(t){var F=k.lastEffect;F!==null?(F.nextEffect=N,k.lastEffect=N):k.firstEffect=k.lastEffect=N,N.nextEffect=null,N.flags=8}}function r(k,N){if(!t)return null;for(;N!==null;)e(k,N),N=N.sibling;return null}function n(k,N){for(k=new Map;N!==null;)N.key!==null?k.set(N.key,N):k.set(N.index,N),N=N.sibling;return k}function i(k,N){return k=li(k,N),k.index=0,k.sibling=null,k}function o(k,N,F){return k.index=F,t?(F=k.alternate,F!==null?(F=F.index,F<N?(k.flags=2,N):F):(k.flags=2,N)):N}function s(k){return t&&k.alternate===null&&(k.flags=2),k}function a(k,N,F,Y){return N===null||N.tag!==6?(N=Lh(F,k.mode,Y),N.return=k,N):(N=i(N,F),N.return=k,N)}function f(k,N,F,Y){return N!==null&&N.elementType===F.type?(Y=i(N,F.props),Y.ref=Zs(k,N,F),Y.return=k,Y):(Y=lu(F.type,F.key,F.props,null,k.mode,Y),Y.ref=Zs(k,N,F),Y.return=k,Y)}function d(k,N,F,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==F.containerInfo||N.stateNode.implementation!==F.implementation?(N=Mh(F,k.mode,Y),N.return=k,N):(N=i(N,F.children||[]),N.return=k,N)}function m(k,N,F,Y,H){return N===null||N.tag!==7?(N=Jo(F,k.mode,Y,H),N.return=k,N):(N=i(N,F),N.return=k,N)}function v(k,N,F){if(typeof N=="string"||typeof N=="number")return N=Lh(""+N,k.mode,F),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ia:return F=lu(N.type,N.key,N.props,null,k.mode,F),F.ref=Zs(k,null,N),F.return=k,F;case Ui:return N=Mh(N,k.mode,F),N.return=k,N}if(Jl(N)||Hs(N))return N=Jo(N,k.mode,F,null),N.return=k,N;Yl(k,N)}return null}function y(k,N,F,Y){var H=N!==null?N.key:null;if(typeof F=="string"||typeof F=="number")return H!==null?null:a(k,N,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ia:return F.key===H?F.type===Hn?m(k,N,F.props.children,Y,H):f(k,N,F,Y):null;case Ui:return F.key===H?d(k,N,F,Y):null}if(Jl(F)||Hs(F))return H!==null?null:m(k,N,F,Y,null);Yl(k,F)}return null}function w(k,N,F,Y,H){if(typeof Y=="string"||typeof Y=="number")return k=k.get(F)||null,a(N,k,""+Y,H);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case ia:return k=k.get(Y.key===null?F:Y.key)||null,Y.type===Hn?m(N,k,Y.props.children,H,Y.key):f(N,k,Y,H);case Ui:return k=k.get(Y.key===null?F:Y.key)||null,d(N,k,Y,H)}if(Jl(Y)||Hs(Y))return k=k.get(F)||null,m(N,k,Y,H,null);Yl(N,Y)}return null}function b(k,N,F,Y){for(var H=null,Z=null,L=N,V=N=0,S=null;L!==null&&V<F.length;V++){L.index>V?(S=L,L=null):S=L.sibling;var W=y(k,L,F[V],Y);if(W===null){L===null&&(L=S);break}t&&L&&W.alternate===null&&e(k,L),N=o(W,N,V),Z===null?H=W:Z.sibling=W,Z=W,L=S}if(V===F.length)return r(k,L),H;if(L===null){for(;V<F.length;V++)L=v(k,F[V],Y),L!==null&&(N=o(L,N,V),Z===null?H=L:Z.sibling=L,Z=L);return H}for(L=n(k,L);V<F.length;V++)S=w(L,k,V,F[V],Y),S!==null&&(t&&S.alternate!==null&&L.delete(S.key===null?V:S.key),N=o(S,N,V),Z===null?H=S:Z.sibling=S,Z=S);return t&&L.forEach(function(te){return e(k,te)}),H}function A(k,N,F,Y){var H=Hs(F);if(typeof H!="function")throw Error(me(150));if(F=H.call(F),F==null)throw Error(me(151));for(var Z=H=null,L=N,V=N=0,S=null,W=F.next();L!==null&&!W.done;V++,W=F.next()){L.index>V?(S=L,L=null):S=L.sibling;var te=y(k,L,W.value,Y);if(te===null){L===null&&(L=S);break}t&&L&&te.alternate===null&&e(k,L),N=o(te,N,V),Z===null?H=te:Z.sibling=te,Z=te,L=S}if(W.done)return r(k,L),H;if(L===null){for(;!W.done;V++,W=F.next())W=v(k,W.value,Y),W!==null&&(N=o(W,N,V),Z===null?H=W:Z.sibling=W,Z=W);return H}for(L=n(k,L);!W.done;V++,W=F.next())W=w(L,k,V,W.value,Y),W!==null&&(t&&W.alternate!==null&&L.delete(W.key===null?V:W.key),N=o(W,N,V),Z===null?H=W:Z.sibling=W,Z=W);return t&&L.forEach(function(X){return e(k,X)}),H}return function(k,N,F,Y){var H=typeof F=="object"&&F!==null&&F.type===Hn&&F.key===null;H&&(F=F.props.children);var Z=typeof F=="object"&&F!==null;if(Z)switch(F.$$typeof){case ia:e:{for(Z=F.key,H=N;H!==null;){if(H.key===Z){switch(H.tag){case 7:if(F.type===Hn){r(k,H.sibling),N=i(H,F.props.children),N.return=k,k=N;break e}break;default:if(H.elementType===F.type){r(k,H.sibling),N=i(H,F.props),N.ref=Zs(k,H,F),N.return=k,k=N;break e}}r(k,H);break}else e(k,H);H=H.sibling}F.type===Hn?(N=Jo(F.props.children,k.mode,Y,F.key),N.return=k,k=N):(Y=lu(F.type,F.key,F.props,null,k.mode,Y),Y.ref=Zs(k,N,F),Y.return=k,k=Y)}return s(k);case Ui:e:{for(H=F.key;N!==null;){if(N.key===H)if(N.tag===4&&N.stateNode.containerInfo===F.containerInfo&&N.stateNode.implementation===F.implementation){r(k,N.sibling),N=i(N,F.children||[]),N.return=k,k=N;break e}else{r(k,N);break}else e(k,N);N=N.sibling}N=Mh(F,k.mode,Y),N.return=k,k=N}return s(k)}if(typeof F=="string"||typeof F=="number")return F=""+F,N!==null&&N.tag===6?(r(k,N.sibling),N=i(N,F),N.return=k,k=N):(r(k,N),N=Lh(F,k.mode,Y),N.return=k,k=N),s(k);if(Jl(F))return b(k,N,F,Y);if(Hs(F))return A(k,N,F,Y);if(Z&&Yl(k,F),typeof F>"u"&&!H)switch(k.tag){case 1:case 22:case 0:case 11:case 15:throw Error(me(152,Bo(k.type)||"Component"))}return r(k,N)}}var Eu=Iv(!0),Av=Iv(!1),Ma={},wn=ui(Ma),Da=ui(Ma),Fa=ui(Ma);function Wi(t){if(t===Ma)throw Error(me(174));return t}function l0(t,e){switch(gt(Fa,e),gt(Da,t),gt(wn,Ma),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hh(e,t)}it(wn),gt(wn,e)}function Xo(){it(wn),it(Da),it(Fa)}function i1(t){Wi(Fa.current);var e=Wi(wn.current),r=Hh(e,t.type);e!==r&&(gt(Da,t),gt(wn,r))}function ed(t){Da.current===t&&(it(wn),it(Da))}var mt=ui(0);function bu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dn=null,Yn=null,_n=!1;function Rv(t,e){var r=zr(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function o1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function u0(t){if(_n){var e=Yn;if(e){var r=e;if(!o1(t,e)){if(e=Wo(r.nextSibling),!e||!o1(t,e)){t.flags=t.flags&-1025|2,_n=!1,Dn=t;return}Rv(Dn,r)}Dn=t,Yn=Wo(e.firstChild)}else t.flags=t.flags&-1025|2,_n=!1,Dn=t}}function s1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function Kl(t){if(t!==Dn)return!1;if(!_n)return s1(t),_n=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!n0(e,t.memoizedProps))for(e=Yn;e;)Rv(t,e),e=Wo(e.nextSibling);if(s1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Yn=Wo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Yn=null}}else Yn=Dn?Wo(t.stateNode.nextSibling):null;return!0}function Dh(){Yn=Dn=null,_n=!1}var $o=[];function td(){for(var t=0;t<$o.length;t++)$o[t]._workInProgressVersionPrimary=null;$o.length=0}var ma=Ki.ReactCurrentDispatcher,Vr=Ki.ReactCurrentBatchConfig,Ca=0,Nt=null,er=null,$t=null,xu=!1,ga=!1;function dr(){throw Error(me(321))}function rd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ur(t[r],e[r]))return!1;return!0}function nd(t,e,r,n,i,o){if(Ca=o,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ma.current=t===null||t.memoizedState===null?ex:tx,t=r(n,i),ga){o=0;do{if(ga=!1,!(25>o))throw Error(me(301));o+=1,$t=er=null,e.updateQueue=null,ma.current=rx,t=r(n,i)}while(ga)}if(ma.current=Nu,e=er!==null&&er.next!==null,Ca=0,$t=er=Nt=null,xu=!1,e)throw Error(me(300));return t}function qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Nt.memoizedState=$t=t:$t=$t.next=t,$t}function Xi(){if(er===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=er.next;var e=$t===null?Nt.memoizedState:$t.next;if(e!==null)$t=e,er=t;else{if(t===null)throw Error(me(310));er=t,t={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},$t===null?Nt.memoizedState=$t=t:$t=$t.next=t}return $t}function gn(t,e){return typeof e=="function"?e(t):e}function Xs(t){var e=Xi(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=er,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var a=s=o=null,f=i;do{var d=f.lane;if((Ca&d)===d)a!==null&&(a=a.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),n=f.eagerReducer===t?f.eagerState:t(n,f.action);else{var m={lane:d,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};a===null?(s=a=m,o=n):a=a.next=m,Nt.lanes|=d,ja|=d}f=f.next}while(f!==null&&f!==i);a===null?o=n:a.next=s,Ur(n,e.memoizedState)||(en=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function Qs(t){var e=Xi(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ur(o,e.memoizedState)||(en=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function a1(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Ca&t)===t)&&(e._workInProgressVersionPrimary=n,$o.push(e))),t)return r(e._source);throw $o.push(e),Error(me(350))}function Dv(t,e,r,n){var i=or;if(i===null)throw Error(me(349));var o=e._getVersion,s=o(e._source),a=ma.current,f=a.useState(function(){return a1(i,e,r)}),d=f[1],m=f[0];f=$t;var v=t.memoizedState,y=v.refs,w=y.getSnapshot,b=v.source;v=v.subscribe;var A=Nt;return t.memoizedState={refs:y,source:e,subscribe:n},a.useEffect(function(){y.getSnapshot=r,y.setSnapshot=d;var k=o(e._source);if(!Ur(s,k)){k=r(e._source),Ur(m,k)||(d(k),k=ti(A),i.mutableReadLanes|=k&i.pendingLanes),k=i.mutableReadLanes,i.entangledLanes|=k;for(var N=i.entanglements,F=k;0<F;){var Y=31-oi(F),H=1<<Y;N[Y]|=k,F&=~H}}},[r,e,n]),a.useEffect(function(){return n(e._source,function(){var k=y.getSnapshot,N=y.setSnapshot;try{N(k(e._source));var F=ti(A);i.mutableReadLanes|=F&i.pendingLanes}catch(Y){N(function(){throw Y})}})},[e,n]),Ur(w,r)&&Ur(b,e)&&Ur(v,n)||(t={pending:null,dispatch:null,lastRenderedReducer:gn,lastRenderedState:m},t.dispatch=d=sd.bind(null,Nt,t),f.queue=t,f.baseQueue=null,m=a1(i,e,r),f.memoizedState=f.baseState=m),m}function Fv(t,e,r){var n=Xi();return Dv(n,t,e,r)}function ea(t){var e=qi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:gn,lastRenderedState:t},t=t.dispatch=sd.bind(null,Nt,t),[e.memoizedState,t]}function Ou(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Nt.updateQueue,e===null?(e={lastEffect:null},Nt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function l1(t){var e=qi();return t={current:t},e.memoizedState=t}function ku(){return Xi().memoizedState}function c0(t,e,r,n){var i=qi();Nt.flags|=t,i.memoizedState=Ou(1|e,r,void 0,n===void 0?null:n)}function id(t,e,r,n){var i=Xi();n=n===void 0?null:n;var o=void 0;if(er!==null){var s=er.memoizedState;if(o=s.destroy,n!==null&&rd(n,s.deps)){Ou(e,r,o,n);return}}Nt.flags|=t,i.memoizedState=Ou(1|e,r,o,n)}function u1(t,e){return c0(516,4,t,e)}function Tu(t,e){return id(516,4,t,e)}function Cv(t,e){return id(4,2,t,e)}function Pv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lv(t,e,r){return r=r!=null?r.concat([t]):null,id(4,2,Pv.bind(null,e,t),r)}function od(){}function Mv(t,e){var r=Xi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&rd(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function jv(t,e){var r=Xi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&rd(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Q4(t,e){var r=Zo();Gi(98>r?98:r,function(){t(!0)}),Gi(97<r?97:r,function(){var n=Vr.transition;Vr.transition=1;try{t(!1),e()}finally{Vr.transition=n}})}function sd(t,e,r){var n=Nr(),i=ti(t),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),e.pending=o,s=t.alternate,t===Nt||s!==null&&s===Nt)ga=xu=!0;else{if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,f=s(a,r);if(o.eagerReducer=s,o.eagerState=f,Ur(f,a))return}catch{}finally{}ri(t,i,n)}}var Nu={readContext:Wr,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useOpaqueIdentifier:dr,unstable_isNewReconciler:!1},ex={readContext:Wr,useCallback:function(t,e){return qi().memoizedState=[t,e===void 0?null:e],t},useContext:Wr,useEffect:u1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,c0(4,2,Pv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return c0(4,2,t,e)},useMemo:function(t,e){var r=qi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=qi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=sd.bind(null,Nt,t),[n.memoizedState,t]},useRef:l1,useState:ea,useDebugValue:od,useDeferredValue:function(t){var e=ea(t),r=e[0],n=e[1];return u1(function(){var i=Vr.transition;Vr.transition=1;try{n(t)}finally{Vr.transition=i}},[t]),r},useTransition:function(){var t=ea(!1),e=t[0];return t=Q4.bind(null,t[1]),l1(t),[t,e]},useMutableSource:function(t,e,r){var n=qi();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},Dv(n,t,e,r)},useOpaqueIdentifier:function(){if(_n){var t=!1,e=G4(function(){throw t||(t=!0,r("r:"+(Ih++).toString(36))),Error(me(355))}),r=ea(e)[1];return(Nt.mode&2)===0&&(Nt.flags|=516,Ou(5,function(){r("r:"+(Ih++).toString(36))},void 0,null)),e}return e="r:"+(Ih++).toString(36),ea(e),e},unstable_isNewReconciler:!1},tx={readContext:Wr,useCallback:Mv,useContext:Wr,useEffect:Tu,useImperativeHandle:Lv,useLayoutEffect:Cv,useMemo:jv,useReducer:Xs,useRef:ku,useState:function(){return Xs(gn)},useDebugValue:od,useDeferredValue:function(t){var e=Xs(gn),r=e[0],n=e[1];return Tu(function(){var i=Vr.transition;Vr.transition=1;try{n(t)}finally{Vr.transition=i}},[t]),r},useTransition:function(){var t=Xs(gn)[0];return[ku().current,t]},useMutableSource:Fv,useOpaqueIdentifier:function(){return Xs(gn)[0]},unstable_isNewReconciler:!1},rx={readContext:Wr,useCallback:Mv,useContext:Wr,useEffect:Tu,useImperativeHandle:Lv,useLayoutEffect:Cv,useMemo:jv,useReducer:Qs,useRef:ku,useState:function(){return Qs(gn)},useDebugValue:od,useDeferredValue:function(t){var e=Qs(gn),r=e[0],n=e[1];return Tu(function(){var i=Vr.transition;Vr.transition=1;try{n(t)}finally{Vr.transition=i}},[t]),r},useTransition:function(){var t=Qs(gn)[0];return[ku().current,t]},useMutableSource:Fv,useOpaqueIdentifier:function(){return Qs(gn)[0]},unstable_isNewReconciler:!1},nx=Ki.ReactCurrentOwner,en=!1;function pr(t,e,r,n){e.child=t===null?Av(e,null,r,n):Eu(e,t.child,r,n)}function c1(t,e,r,n,i){r=r.render;var o=e.ref;return qo(e,i),n=nd(t,e,r,n,o,i),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Fn(t,e,i)):(e.flags|=1,pr(t,e,n,i),e.child)}function f1(t,e,r,n,i,o){if(t===null){var s=r.type;return typeof s=="function"&&!hd(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Bv(t,e,s,n,i,o)):(t=lu(r.type,null,n,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return s=t.child,(i&o)===0&&(i=s.memoizedProps,r=r.compare,r=r!==null?r:Na,r(i,n)&&t.ref===e.ref)?Fn(t,e,o):(e.flags|=1,t=li(s,n),t.ref=e.ref,t.return=e,e.child=t)}function Bv(t,e,r,n,i,o){if(t!==null&&Na(t.memoizedProps,n)&&t.ref===e.ref)if(en=!1,(o&i)!==0)(t.flags&16384)!==0&&(en=!0);else return e.lanes=t.lanes,Fn(t,e,o);return f0(t,e,r,n,o)}function Fh(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Xl(e,r);else if((r&1073741824)!==0)e.memoizedState={baseLanes:0},Xl(e,o!==null?o.baseLanes:r);else return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Xl(e,t),null;else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Xl(e,n);return pr(t,e,i,r),e.child}function Uv(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function f0(t,e,r,n,i){var o=mr(r)?Hi:nr.current;return o=Ko(e,o),qo(e,i),r=nd(t,e,r,n,o,i),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Fn(t,e,i)):(e.flags|=1,pr(t,e,r,i),e.child)}function h1(t,e,r,n,i){if(mr(r)){var o=!0;nu(e)}else o=!1;if(qo(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Nv(e,r,n),a0(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var f=s.context,d=r.contextType;typeof d=="object"&&d!==null?d=Wr(d):(d=mr(r)?Hi:nr.current,d=Ko(e,d));var m=r.getDerivedStateFromProps,v=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||f!==d)&&n1(e,s,n,d),$n=!1;var y=e.memoizedState;s.state=y,Ra(e,n,s,i),f=e.memoizedState,a!==n||y!==f||yr.current||$n?(typeof m=="function"&&(Su(e,r,m,n),f=e.memoizedState),(a=$n||r1(e,r,a,n,y,f,d))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=f),s.props=n,s.state=f,s.context=d,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{s=e.stateNode,kv(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Qr(e.type,a),s.props=d,v=e.pendingProps,y=s.context,f=r.contextType,typeof f=="object"&&f!==null?f=Wr(f):(f=mr(r)?Hi:nr.current,f=Ko(e,f));var w=r.getDerivedStateFromProps;(m=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==v||y!==f)&&n1(e,s,n,f),$n=!1,y=e.memoizedState,s.state=y,Ra(e,n,s,i);var b=e.memoizedState;a!==v||y!==b||yr.current||$n?(typeof w=="function"&&(Su(e,r,w,n),b=e.memoizedState),(d=$n||r1(e,r,d,n,y,b,f))?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,b,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,b,f)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=b),s.props=n,s.state=b,s.context=f,n=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),n=!1)}return h0(t,e,r,n,o,i)}function h0(t,e,r,n,i,o){Uv(t,e);var s=(e.flags&64)!==0;if(!n&&!s)return i&&Zg(e,r,!1),Fn(t,e,o);n=e.stateNode,nx.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Eu(e,t.child,null,o),e.child=Eu(e,null,a,o)):pr(t,e,a,o),e.memoizedState=n.state,i&&Zg(e,r,!0),e.child}function d1(t){var e=t.stateNode;e.pendingContext?Kg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kg(t,e.context,!1),l0(t,e.containerInfo)}var Zl={dehydrated:null,retryLane:0};function p1(t,e,r){var n=e.pendingProps,i=mt.current,o=!1,s;return(s=(e.flags&64)!==0)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),gt(mt,i&1),t===null?(n.fallback!==void 0&&u0(e),t=n.children,i=n.fallback,o?(t=y1(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Zl,t):typeof n.unstable_expectedLoadTime=="number"?(t=y1(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Zl,e.lanes=33554432,t):(r=dd({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?o?(n=g1(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=Zl,n):(r=m1(t,e,n.children,r),e.memoizedState=null,r):o?(n=g1(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=Zl,n):(r=m1(t,e,n.children,r),e.memoizedState=null,r)}function y1(t,e,r,n){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=e):o=dd(e,i,0,null),r=Jo(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r}function m1(t,e,r,n){var i=t.child;return t=i.sibling,r=li(i,{mode:"visible",children:r}),(e.mode&2)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function g1(t,e,r,n,i){var o=e.mode,s=t.child;t=s.sibling;var a={mode:"hidden",children:r};return(o&2)===0&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,s=r.lastEffect,s!==null?(e.firstEffect=r.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):r=li(s,a),t!==null?n=li(t,n):(n=Jo(n,o,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function v1(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ov(t.return,e)}function Ch(t,e,r,n,i,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.lastEffect=o)}function w1(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(pr(t,e,n.children,r),n=mt.current,(n&2)!==0)n=n&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v1(t,r);else if(t.tag===19)v1(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(gt(mt,n),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&bu(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ch(e,!1,i,r,o,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bu(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ch(e,!0,r,null,o,e.lastEffect);break;case"together":Ch(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Fn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ja|=e.lanes,(r&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,r=li(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=li(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var zv,d0,Vv,Wv;zv=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};d0=function(){};Vv=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Wi(wn.current);var o=null;switch(r){case"input":i=Uh(t,i),n=Uh(t,n),o=[];break;case"option":i=Wh(t,i),n=Wh(t,n),o=[];break;case"select":i=at({},i,{value:void 0}),n=at({},n,{value:void 0}),o=[];break;case"textarea":i=qh(t,i),n=qh(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=yu)}Gh(r,n);var s;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Sa.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var f=n[d];if(a=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&f!==a&&(f!=null||a!=null))if(d==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(r||(r={}),r[s]=f[s])}else r||(o||(o=[]),o.push(d,r)),r=f;else d==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(d,f)):d==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(d,""+f):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Sa.hasOwnProperty(d)?(f!=null&&d==="onScroll"&&nt("scroll",t),o||a===f||(o=[])):typeof f=="object"&&f!==null&&f.$$typeof===F0?f.toString():(o=o||[]).push(d,f))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};Wv=function(t,e,r,n){r!==n&&(e.flags|=4)};function ta(t,e){if(!_n)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ix(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mr(e.type)&&gu(),null;case 3:return Xo(),it(yr),it(nr),td(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Kl(e)?e.flags|=4:n.hydrate||(e.flags|=256)),d0(e),null;case 5:ed(e);var i=Wi(Fa.current);if(r=e.type,t!==null&&e.stateNode!=null)Vv(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(me(166));return null}if(t=Wi(wn.current),Kl(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Jn]=e,n[mu]=o,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(t=0;t<sa.length;t++)nt(sa[t],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":Sg(n,o),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},nt("invalid",n);break;case"textarea":bg(n,o),nt("invalid",n)}Gh(r,o),t=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Sa.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&nt("scroll",n));switch(r){case"input":zl(n),Eg(n,o,!0);break;case"textarea":zl(n),xg(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=yu)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,t===$h.html&&(t=P1(r)),t===$h.html?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Jn]=e,t[mu]=n,zv(t,e,!1,!1),e.stateNode=t,s=Jh(r,n),r){case"dialog":nt("cancel",t),nt("close",t),i=n;break;case"iframe":case"object":case"embed":nt("load",t),i=n;break;case"video":case"audio":for(i=0;i<sa.length;i++)nt(sa[i],t);i=n;break;case"source":nt("error",t),i=n;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=n;break;case"details":nt("toggle",t),i=n;break;case"input":Sg(t,n),i=Uh(t,n),nt("invalid",t);break;case"option":i=Wh(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=at({},n,{value:void 0}),nt("invalid",t);break;case"textarea":bg(t,n),i=qh(t,n),nt("invalid",t);break;default:i=n}Gh(r,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?j1(t,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&L1(t,f)):o==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&Ea(t,f):typeof f=="number"&&Ea(t,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Sa.hasOwnProperty(o)?f!=null&&o==="onScroll"&&nt("scroll",t):f!=null&&T0(t,o,f,s))}switch(r){case"input":zl(t),Eg(t,n,!1);break;case"textarea":zl(t),xg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ii(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Uo(t,!!n.multiple,o,!1):n.defaultValue!=null&&Uo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yu)}mv(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Wv(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(me(166));r=Wi(Fa.current),Wi(wn.current),Kl(e)?(n=e.stateNode,r=e.memoizedProps,n[Jn]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jn]=e,e.stateNode=n)}return null;case 13:return it(mt),n=e.memoizedState,(e.flags&64)!==0?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Kl(e):r=t.memoizedState!==null,n&&!r&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(mt.current&1)!==0?Ht===0&&(Ht=3):((Ht===0||Ht===3)&&(Ht=4),or===null||(ja&134217727)===0&&(rs&134217727)===0||Ho(or,rr))),(n||r)&&(e.flags|=4),null);case 4:return Xo(),d0(e),t===null&&dv(e.stateNode.containerInfo),null;case 10:return X0(e),null;case 17:return mr(e.type)&&gu(),null;case 19:if(it(mt),n=e.memoizedState,n===null)return null;if(o=(e.flags&64)!==0,s=n.rendering,s===null)if(o)ta(n,!1);else{if(Ht!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(s=bu(t),s!==null){for(e.flags|=64,ta(n,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return gt(mt,mt.current&1|2),e.child}t=t.sibling}n.tail!==null&&tr()>w0&&(e.flags|=64,o=!0,ta(n,!1),e.lanes=33554432)}else{if(!o)if(t=bu(s),t!==null){if(e.flags|=64,o=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ta(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!_n)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*tr()-n.renderingStartTime>w0&&r!==1073741824&&(e.flags|=64,o=!0,ta(n,!1),e.lanes=33554432);n.isBackwards?(s.sibling=e.child,e.child=s):(r=n.last,r!==null?r.sibling=s:e.child=s,n.last=s)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=tr(),r.sibling=null,e=mt.current,gt(mt,o?e&1|2:e&1),r):null;case 23:case 24:return fd(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(me(156,e.tag))}function ox(t){switch(t.tag){case 1:mr(t.type)&&gu();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Xo(),it(yr),it(nr),td(),e=t.flags,(e&64)!==0)throw Error(me(285));return t.flags=e&-4097|64,t;case 5:return ed(t),null;case 13:return it(mt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return it(mt),null;case 4:return Xo(),null;case 10:return X0(t),null;case 23:case 24:return fd(),null;default:return null}}function ad(t,e){try{var r="",n=e;do r+=B3(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function p0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var sx=typeof WeakMap=="function"?WeakMap:Map;function qv(t,e,r){r=Qn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Au||(Au=!0,_0=n),p0(t,e)},r}function $v(t,e,r){r=Qn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return p0(t,e),n(i)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(vn===null?vn=new Set([this]):vn.add(this),p0(t,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}var ax=typeof WeakSet=="function"?WeakSet:Set;function _1(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){ni(t,r)}else e.current=null}function lx(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:Qr(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&J0(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(me(163))}function ux(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(ew(r,t),gx(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:Qr(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&t1(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}t1(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&mv(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&J1(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(me(163))}function S1(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=M1("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function E1(t,e){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(Y0,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)ew(e,r);else{n=e;try{i()}catch(o){ni(n,o)}}r=r.next}while(r!==t)}break;case 1:if(_1(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){ni(e,o)}break;case 5:_1(e);break;case 4:Hv(t,e)}}function b1(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function x1(t){return t.tag===5||t.tag===3||t.tag===4}function O1(t){e:{for(var e=t.return;e!==null;){if(x1(e))break e;e=e.return}throw Error(me(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(me(161))}r.flags&16&&(Ea(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||x1(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?y0(t,r,e):m0(t,r,e)}function y0(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=yu));else if(n!==4&&(t=t.child,t!==null))for(y0(t,e,r),t=t.sibling;t!==null;)y0(t,e,r),t=t.sibling}function m0(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(m0(t,e,r),t=t.sibling;t!==null;)m0(t,e,r),t=t.sibling}function Hv(t,e){for(var r=e,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(me(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var s=t,a=r,f=a;;)if(E1(s,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(s=i,a=r.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(E1(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Ph(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(r[mu]=n,t==="input"&&n.type==="radio"&&n.name!=null&&F1(r,n),Jh(t,i),e=Jh(t,n),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?j1(r,a):s==="dangerouslySetInnerHTML"?L1(r,a):s==="children"?Ea(r,a):T0(r,s,a,e)}switch(t){case"input":zh(r,n);break;case"textarea":C1(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Uo(r,!!n.multiple,o,!1):t!==!!n.multiple&&(n.defaultValue!=null?Uo(r,!!n.multiple,n.defaultValue,!0):Uo(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(me(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,J1(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(cd=tr(),S1(e.child,!0)),k1(e);return;case 19:k1(e);return;case 17:return;case 23:case 24:S1(e,e.memoizedState!==null);return}throw Error(me(163))}function k1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ax),e.forEach(function(n){var i=_x.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function cx(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var fx=Math.ceil,Iu=Ki.ReactCurrentDispatcher,ld=Ki.ReactCurrentOwner,Ae=0,or=null,Pt=null,rr=0,Ji=0,g0=ui(0),Ht=0,Wu=null,ts=0,ja=0,rs=0,ud=0,v0=null,cd=0,w0=1/0;function ns(){w0=tr()+500}var Oe=null,Au=!1,_0=null,vn=null,ai=!1,va=null,aa=90,S0=[],E0=[],Cn=null,wa=0,b0=null,ou=-1,Rn=0,su=0,_a=null,au=!1;function Nr(){return(Ae&48)!==0?tr():ou!==-1?ou:ou=tr()}function ti(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Zo()===99?1:2;if(Rn===0&&(Rn=ts),X4.transition!==0){su!==0&&(su=v0!==null?v0.pendingLanes:0),t=Rn;var e=4186112&~su;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Zo(),(Ae&4)!==0&&t===98?t=du(12,Rn):(t=t4(t),t=du(t,Rn)),t}function ri(t,e,r){if(50<wa)throw wa=0,b0=null,Error(me(185));if(t=qu(t,e),t===null)return null;Lu(t,e,r),t===or&&(rs|=e,Ht===4&&Ho(t,rr));var n=Zo();e===1?(Ae&8)!==0&&(Ae&48)===0?x0(t):(qr(t,r),Ae===0&&(ns(),Sn())):((Ae&4)===0||n!==98&&n!==99||(Cn===null?Cn=new Set([t]):Cn.add(t)),qr(t,r)),v0=t}function qu(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function qr(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-oi(s),f=1<<a,d=o[a];if(d===-1){if((f&n)===0||(f&i)!==0){d=e,Ro(f);var m=Xe;o[a]=10<=m?d+250:6<=m?d+5e3:-1}}else d<=e&&(t.expiredLanes|=f);s&=~f}if(n=ka(t,t===or?rr:0),e=Xe,n===0)r!==null&&(r!==Ah&&o0(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==Ah&&o0(r)}e===15?(r=x0.bind(null,t),An===null?(An=[r],iu=K0(zu,xv)):An.push(r),r=Ah):e===14?r=Aa(99,x0.bind(null,t)):(r=r4(e),r=Aa(r,Gv.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function Gv(t){if(ou=-1,su=Rn=0,(Ae&48)!==0)throw Error(me(327));var e=t.callbackNode;if(ci()&&t.callbackNode!==e)return null;var r=ka(t,t===or?rr:0);if(r===0)return null;var n=r,i=Ae;Ae|=16;var o=Zv();(or!==t||rr!==n)&&(ns(),Go(t,n));do try{px();break}catch(a){Kv(t,a)}while(1);if(Z0(),Iu.current=o,Ae=i,Pt!==null?n=0:(or=null,rr=0,n=Ht),(ts&rs)!==0)Go(t,0);else if(n!==0){if(n===2&&(Ae|=64,t.hydrate&&(t.hydrate=!1,J0(t.containerInfo)),r=rv(t),r!==0&&(n=la(t,r))),n===1)throw e=Wu,Go(t,0),Ho(t,r),qr(t,tr()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(me(345));case 2:Bi(t);break;case 3:if(Ho(t,r),(r&62914560)===r&&(n=cd+500-tr(),10<n)){if(ka(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gg(Bi.bind(null,t),n);break}Bi(t);break;case 4:if(Ho(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var s=31-oi(r);o=1<<s,s=n[s],s>i&&(i=s),r&=~o}if(r=i,r=tr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fx(r/1960))-r,10<r){t.timeoutHandle=Gg(Bi.bind(null,t),r);break}Bi(t);break;case 5:Bi(t);break;default:throw Error(me(329))}}return qr(t,tr()),t.callbackNode===e?Gv.bind(null,t):null}function Ho(t,e){for(e&=~ud,e&=~rs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-oi(e),n=1<<r;t[r]=-1,e&=~n}}function x0(t){if((Ae&48)!==0)throw Error(me(327));if(ci(),t===or&&(t.expiredLanes&rr)!==0){var e=rr,r=la(t,e);(ts&rs)!==0&&(e=ka(t,e),r=la(t,e))}else e=ka(t,0),r=la(t,e);if(t.tag!==0&&r===2&&(Ae|=64,t.hydrate&&(t.hydrate=!1,J0(t.containerInfo)),e=rv(t),e!==0&&(r=la(t,e))),r===1)throw r=Wu,Go(t,0),Ho(t,e),qr(t,tr()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bi(t),qr(t,tr()),null}function hx(){if(Cn!==null){var t=Cn;Cn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,qr(e,tr())})}Sn()}function Jv(t,e){var r=Ae;Ae|=1;try{return t(e)}finally{Ae=r,Ae===0&&(ns(),Sn())}}function Yv(t,e){var r=Ae;Ae&=-2,Ae|=8;try{return t(e)}finally{Ae=r,Ae===0&&(ns(),Sn())}}function Xl(t,e){gt(g0,Ji),Ji|=e,ts|=e}function fd(){Ji=g0.current,it(g0)}function Go(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,H4(r)),Pt!==null)for(r=Pt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&gu();break;case 3:Xo(),it(yr),it(nr),td();break;case 5:ed(n);break;case 4:Xo();break;case 13:it(mt);break;case 19:it(mt);break;case 10:X0(n);break;case 23:case 24:fd()}r=r.return}or=t,Pt=li(t.current,null),rr=Ji=ts=e,Ht=0,Wu=null,ud=rs=ja=0}function Kv(t,e){do{var r=Pt;try{if(Z0(),ma.current=Nu,xu){for(var n=Nt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}xu=!1}if(Ca=0,$t=er=Nt=null,ga=!1,ld.current=null,r===null||r.return===null){Ht=1,Wu=e,Pt=null;break}e:{var o=t,s=r.return,a=r,f=e;if(e=rr,a.flags|=2048,a.firstEffect=a.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var d=f;if((a.mode&2)===0){var m=a.alternate;m?(a.updateQueue=m.updateQueue,a.memoizedState=m.memoizedState,a.lanes=m.lanes):(a.updateQueue=null,a.memoizedState=null)}var v=(mt.current&1)!==0,y=s;do{var w;if(w=y.tag===13){var b=y.memoizedState;if(b!==null)w=b.dehydrated!==null;else{var A=y.memoizedProps;w=A.fallback===void 0?!1:A.unstable_avoidThisFallback!==!0?!0:!v}}if(w){var k=y.updateQueue;if(k===null){var N=new Set;N.add(d),y.updateQueue=N}else k.add(d);if((y.mode&2)===0){if(y.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var F=Qn(-1,1);F.tag=2,ei(a,F)}a.lanes|=1;break e}f=void 0,a=e;var Y=o.pingCache;if(Y===null?(Y=o.pingCache=new sx,f=new Set,Y.set(d,f)):(f=Y.get(d),f===void 0&&(f=new Set,Y.set(d,f))),!f.has(a)){f.add(a);var H=wx.bind(null,o,d,a);d.then(H,H)}y.flags|=4096,y.lanes=e;break e}y=y.return}while(y!==null);f=Error((Bo(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ht!==5&&(Ht=2),f=ad(f,a),y=s;do{switch(y.tag){case 3:o=f,y.flags|=4096,e&=-e,y.lanes|=e;var Z=qv(y,o,e);e1(y,Z);break e;case 1:o=f;var L=y.type,V=y.stateNode;if((y.flags&64)===0&&(typeof L.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(vn===null||!vn.has(V)))){y.flags|=4096,e&=-e,y.lanes|=e;var S=$v(y,o,e);e1(y,S);break e}}y=y.return}while(y!==null)}Qv(r)}catch(W){e=W,Pt===r&&r!==null&&(Pt=r=r.return);continue}break}while(1)}function Zv(){var t=Iu.current;return Iu.current=Nu,t===null?Nu:t}function la(t,e){var r=Ae;Ae|=16;var n=Zv();or===t&&rr===e||Go(t,e);do try{dx();break}catch(i){Kv(t,i)}while(1);if(Z0(),Ae=r,Iu.current=n,Pt!==null)throw Error(me(261));return or=null,rr=0,Ht}function dx(){for(;Pt!==null;)Xv(Pt)}function px(){for(;Pt!==null&&!Y4();)Xv(Pt)}function Xv(t){var e=tw(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,e===null?Qv(t):Pt=e,ld.current=null}function Qv(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&2048)===0){if(r=ix(r,e,Ji),r!==null){Pt=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Ji&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(r=ox(e),r!==null){r.flags&=2047,Pt=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Ht===0&&(Ht=5)}function Bi(t){var e=Zo();return Gi(99,yx.bind(null,t,e)),null}function yx(t,e){do ci();while(va!==null);if((Ae&48)!==0)throw Error(me(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(me(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,a=t.expirationTimes;0<o;){var f=31-oi(o),d=1<<f;i[f]=0,s[f]=-1,a[f]=-1,o&=~d}if(Cn!==null&&(n&24)===0&&Cn.has(t)&&Cn.delete(t),t===or&&(Pt=or=null,rr=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Ae,Ae|=32,ld.current=null,Th=eu,s=zg(),e0(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(d=a.getSelection&&a.getSelection())&&d.rangeCount!==0){a=d.anchorNode,o=d.anchorOffset,f=d.focusNode,d=d.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var m=0,v=-1,y=-1,w=0,b=0,A=s,k=null;t:for(;;){for(var N;A!==a||o!==0&&A.nodeType!==3||(v=m+o),A!==f||d!==0&&A.nodeType!==3||(y=m+d),A.nodeType===3&&(m+=A.nodeValue.length),(N=A.firstChild)!==null;)k=A,A=N;for(;;){if(A===s)break t;if(k===a&&++w===o&&(v=m),k===f&&++b===d&&(y=m),(N=A.nextSibling)!==null)break;A=k,k=A.parentNode}A=N}a=v===-1||y===-1?null:{start:v,end:y}}else a=null;a=a||{start:0,end:0}}else a=null;Nh={focusedElem:s,selectionRange:a},eu=!1,_a=null,au=!1,Oe=n;do try{mx()}catch(W){if(Oe===null)throw Error(me(330));ni(Oe,W),Oe=Oe.nextEffect}while(Oe!==null);_a=null,Oe=n;do try{for(s=t;Oe!==null;){var F=Oe.flags;if(F&16&&Ea(Oe.stateNode,""),F&128){var Y=Oe.alternate;if(Y!==null){var H=Y.ref;H!==null&&(typeof H=="function"?H(null):H.current=null)}}switch(F&1038){case 2:O1(Oe),Oe.flags&=-3;break;case 6:O1(Oe),Oe.flags&=-3,Ph(Oe.alternate,Oe);break;case 1024:Oe.flags&=-1025;break;case 1028:Oe.flags&=-1025,Ph(Oe.alternate,Oe);break;case 4:Ph(Oe.alternate,Oe);break;case 8:a=Oe,Hv(s,a);var Z=a.alternate;b1(a),Z!==null&&b1(Z)}Oe=Oe.nextEffect}}catch(W){if(Oe===null)throw Error(me(330));ni(Oe,W),Oe=Oe.nextEffect}while(Oe!==null);if(H=Nh,Y=zg(),F=H.focusedElem,s=H.selectionRange,Y!==F&&F&&F.ownerDocument&&cv(F.ownerDocument.documentElement,F)){for(s!==null&&e0(F)&&(Y=s.start,H=s.end,H===void 0&&(H=Y),"selectionStart"in F?(F.selectionStart=Y,F.selectionEnd=Math.min(H,F.value.length)):(H=(Y=F.ownerDocument||document)&&Y.defaultView||window,H.getSelection&&(H=H.getSelection(),a=F.textContent.length,Z=Math.min(s.start,a),s=s.end===void 0?Z:Math.min(s.end,a),!H.extend&&Z>s&&(a=s,s=Z,Z=a),a=Ug(F,Z),o=Ug(F,s),a&&o&&(H.rangeCount!==1||H.anchorNode!==a.node||H.anchorOffset!==a.offset||H.focusNode!==o.node||H.focusOffset!==o.offset)&&(Y=Y.createRange(),Y.setStart(a.node,a.offset),H.removeAllRanges(),Z>s?(H.addRange(Y),H.extend(o.node,o.offset)):(Y.setEnd(o.node,o.offset),H.addRange(Y)))))),Y=[],H=F;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Y.length;F++)H=Y[F],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}eu=!!Th,Nh=Th=null,t.current=r,Oe=n;do try{for(F=t;Oe!==null;){var L=Oe.flags;if(L&36&&ux(F,Oe.alternate,Oe),L&128){Y=void 0;var V=Oe.ref;if(V!==null){var S=Oe.stateNode;switch(Oe.tag){case 5:Y=S;break;default:Y=S}typeof V=="function"?V(Y):V.current=Y}}Oe=Oe.nextEffect}}catch(W){if(Oe===null)throw Error(me(330));ni(Oe,W),Oe=Oe.nextEffect}while(Oe!==null);Oe=null,Z4(),Ae=i}else t.current=r;if(ai)ai=!1,va=t,aa=e;else for(Oe=n;Oe!==null;)e=Oe.nextEffect,Oe.nextEffect=null,Oe.flags&8&&(L=Oe,L.sibling=null,L.stateNode=null),Oe=e;if(n=t.pendingLanes,n===0&&(vn=null),n===1?t===b0?wa++:(wa=0,b0=t):wa=0,r=r.stateNode,$i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(Y0,r,void 0,(r.current.flags&64)===64)}catch{}if(qr(t,tr()),Au)throw Au=!1,t=_0,_0=null,t;return(Ae&8)!==0||Sn(),null}function mx(){for(;Oe!==null;){var t=Oe.alternate;au||_a===null||((Oe.flags&8)!==0?Tg(Oe,_a)&&(au=!0):Oe.tag===13&&cx(t,Oe)&&Tg(Oe,_a)&&(au=!0));var e=Oe.flags;(e&256)!==0&&lx(t,Oe),(e&512)===0||ai||(ai=!0,Aa(97,function(){return ci(),null})),Oe=Oe.nextEffect}}function ci(){if(aa!==90){var t=97<aa?97:aa;return aa=90,Gi(t,vx)}return!1}function gx(t,e){S0.push(e,t),ai||(ai=!0,Aa(97,function(){return ci(),null}))}function ew(t,e){E0.push(e,t),ai||(ai=!0,Aa(97,function(){return ci(),null}))}function vx(){if(va===null)return!1;var t=va;if(va=null,(Ae&48)!==0)throw Error(me(331));var e=Ae;Ae|=32;var r=E0;E0=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(f){if(o===null)throw Error(me(330));ni(o,f)}}for(r=S0,S0=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var a=i.create;i.destroy=a()}catch(f){if(o===null)throw Error(me(330));ni(o,f)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return Ae=e,Sn(),!0}function T1(t,e,r){e=ad(r,e),e=qv(t,e,1),ei(t,e),e=Nr(),t=qu(t,1),t!==null&&(Lu(t,1,e),qr(t,e))}function ni(t,e){if(t.tag===3)T1(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){T1(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vn===null||!vn.has(n))){t=ad(e,t);var i=$v(r,t,1);if(ei(r,i),i=Nr(),r=qu(r,1),r!==null)Lu(r,1,i),qr(r,i);else if(typeof n.componentDidCatch=="function"&&(vn===null||!vn.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function wx(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Nr(),t.pingedLanes|=t.suspendedLanes&r,or===t&&(rr&r)===r&&(Ht===4||Ht===3&&(rr&62914560)===rr&&500>tr()-cd?Go(t,0):ud|=r),qr(t,e)}function _x(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Zo()===99?1:2:(Rn===0&&(Rn=ts),e=Do(62914560&~Rn),e===0&&(e=4194304))),r=Nr(),t=qu(t,e),t!==null&&(Lu(t,e,r),qr(t,r))}var tw;tw=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||yr.current)en=!0;else if((r&n)!==0)en=(t.flags&16384)!==0;else{switch(en=!1,e.tag){case 3:d1(e),Dh();break;case 5:i1(e);break;case 1:mr(e.type)&&nu(e);break;case 4:l0(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;gt(vu,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return(r&e.child.childLanes)!==0?p1(t,e,r):(gt(mt,mt.current&1),e=Fn(t,e,r),e!==null?e.sibling:null);gt(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,(t.flags&64)!==0){if(n)return w1(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt(mt,mt.current),n)break;return null;case 23:case 24:return e.lanes=0,Fh(t,e,r)}return Fn(t,e,r)}else en=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Ko(e,nr.current),qo(e,r),i=nd(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(n)){var o=!0;nu(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Q0(e);var s=n.getDerivedStateFromProps;typeof s=="function"&&Su(e,n,s,t),i.updater=Vu,e.stateNode=i,i._reactInternals=e,a0(e,n,t,r),e=h0(null,e,n,!0,o,r)}else e.tag=0,pr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=Ex(i),t=Qr(i,t),o){case 0:e=f0(null,e,i,t,r);break e;case 1:e=h1(null,e,i,t,r);break e;case 11:e=c1(null,e,i,t,r);break e;case 14:e=f1(null,e,i,Qr(i.type,t),n,r);break e}throw Error(me(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qr(n,i),f0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qr(n,i),h1(t,e,n,i,r);case 3:if(d1(e),n=e.updateQueue,t===null||n===null)throw Error(me(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,kv(t,e),Ra(e,n,null,r),n=e.memoizedState.element,n===i)Dh(),e=Fn(t,e,r);else{if(i=e.stateNode,(o=i.hydrate)&&(Yn=Wo(e.stateNode.containerInfo.firstChild),Dn=e,o=_n=!0),o){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)o=t[i],o._workInProgressVersionPrimary=t[i+1],$o.push(o);for(r=Av(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else pr(t,e,n,r),Dh();e=e.child}return e;case 5:return i1(e),t===null&&u0(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,n0(n,i)?s=null:o!==null&&n0(n,o)&&(e.flags|=16),Uv(t,e),pr(t,e,s,r),e.child;case 6:return t===null&&u0(e),null;case 13:return p1(t,e,r);case 4:return l0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Eu(e,null,n,r):pr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qr(n,i),c1(t,e,n,i,r);case 7:return pr(t,e,e.pendingProps,r),e.child;case 8:return pr(t,e,e.pendingProps.children,r),e.child;case 12:return pr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var a=e.type._context;if(gt(vu,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=Ur(a,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!yr.current){e=Fn(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var f=a.dependencies;if(f!==null){s=a.child;for(var d=f.firstContext;d!==null;){if(d.context===n&&(d.observedBits&o)!==0){a.tag===1&&(d=Qn(-1,r&-r),d.tag=2,ei(a,d)),a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),Ov(a.return,r),f.lanes|=r;break}d=d.next}}else s=a.tag===10&&a.type===e.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}pr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,n=o.children,qo(e,r),i=Wr(i,o.unstable_observedBits),n=n(i),e.flags|=1,pr(t,e,n,r),e.child;case 14:return i=e.type,o=Qr(i,e.pendingProps),o=Qr(i.type,o),f1(t,e,i,o,n,r);case 15:return Bv(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qr(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,mr(n)?(t=!0,nu(e)):t=!1,qo(e,r),Nv(e,n,i),a0(e,n,i,r),h0(null,e,n,!0,t,r);case 19:return w1(t,e,r);case 23:return Fh(t,e,r);case 24:return Fh(t,e,r)}throw Error(me(156,e.tag))};function Sx(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(t,e,r,n){return new Sx(t,e,r,n)}function hd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ex(t){if(typeof t=="function")return hd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fu)return 11;if(t===Cu)return 14}return 2}function li(t,e){var r=t.alternate;return r===null?(r=zr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function lu(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")hd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Hn:return Jo(r.children,i,o,e);case A1:s=8,i|=16;break;case N0:s=8,i|=1;break;case ua:return t=zr(12,r,e,i|8),t.elementType=ua,t.type=ua,t.lanes=o,t;case ca:return t=zr(13,r,e,i),t.type=ca,t.elementType=ca,t.lanes=o,t;case uu:return t=zr(19,r,e,i),t.elementType=uu,t.lanes=o,t;case C0:return dd(r,i,o,e);case Bh:return t=zr(24,r,e,i),t.elementType=Bh,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I0:s=10;break e;case A0:s=9;break e;case Fu:s=11;break e;case Cu:s=14;break e;case R0:s=16,n=null;break e;case D0:s=22;break e}throw Error(me(130,t==null?t:typeof t,""))}return e=zr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Jo(t,e,r,n){return t=zr(7,t,n,e),t.lanes=r,t}function dd(t,e,r,n){return t=zr(23,t,n,e),t.elementType=C0,t.lanes=r,t}function Lh(t,e,r){return t=zr(6,t,null,e),t.lanes=r,t}function Mh(t,e,r){return e=zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bx(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Sh(0),this.expirationTimes=Sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sh(0),this.mutableSourceEagerHydrationData=null}function xx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ru(t,e,r,n){var i=e.current,o=Nr(),s=ti(i);e:if(r){r=r._reactInternals;t:{if(Zi(r)!==r||r.tag!==1)throw Error(me(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(mr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(me(171))}if(r.tag===1){var f=r.type;if(mr(f)){r=vv(r,f,a);break e}}r=a}else r=si;return e.context===null?e.context=r:e.pendingContext=r,e=Qn(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),ei(i,e),ri(i,s,o),s}function jh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function N1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function pd(t,e){N1(t,e),(t=t.alternate)&&N1(t,e)}function Ox(){return null}function yd(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new bx(t,e,r!=null&&r.hydrate===!0),e=zr(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,Q0(e),t[es]=r.current,dv(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}yd.prototype.render=function(t){Ru(t,this._internalRoot,null,null)};yd.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ru(null,t,null,function(){e[es]=null})};function Ba(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kx(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new yd(t,0,e?{hydrate:!0}:void 0)}function $u(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var d=jh(s);a.call(d)}}Ru(e,s,t,i)}else{if(o=r._reactRootContainer=kx(r,n),s=o._internalRoot,typeof i=="function"){var f=i;i=function(){var d=jh(s);f.call(d)}}Yv(function(){Ru(e,s,t,i)})}return jh(s)}$1=function(t){if(t.tag===13){var e=Nr();ri(t,4,e),pd(t,4)}};B0=function(t){if(t.tag===13){var e=Nr();ri(t,67108864,e),pd(t,67108864)}};H1=function(t){if(t.tag===13){var e=Nr(),r=ti(t);ri(t,r,e),pd(t,r)}};G1=function(t,e){return e()};Yh=function(t,e,r){switch(e){case"input":if(zh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Uu(n);if(!i)throw Error(me(90));D1(n),zh(n,i)}}}break;case"textarea":C1(t,r);break;case"select":e=r.value,e!=null&&Uo(t,!!r.multiple,e,!1)}};L0=Jv;z1=function(t,e,r,n,i){var o=Ae;Ae|=4;try{return Gi(98,t.bind(null,e,r,n,i))}finally{Ae=o,Ae===0&&(ns(),Sn())}};M0=function(){(Ae&49)===0&&(hx(),ci())};V1=function(t,e){var r=Ae;Ae|=2;try{return t(e)}finally{Ae=r,Ae===0&&(ns(),Sn())}};function rw(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ba(e))throw Error(me(200));return xx(t,e,null,r)}var Tx={Events:[La,Lo,Uu,B1,U1,ci,{current:!1}]},ra={findFiberByHostInstance:Vi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Nx={bundleType:ra.bundleType,version:ra.version,rendererPackageName:ra.rendererPackageName,rendererConfig:ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q1(t),t===null?null:t.stateNode},findFiberByHostInstance:ra.findFiberByHostInstance||Ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(na=__REACT_DEVTOOLS_GLOBAL_HOOK__,!na.isDisabled&&na.supportsFiber))try{Y0=na.inject(Nx),$i=na}catch{}var na;$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tx;$r.createPortal=rw;$r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):Error(me(268,Object.keys(t)));return t=q1(e),t=t===null?null:t.stateNode,t};$r.flushSync=function(t,e){var r=Ae;if((r&48)!==0)return t(e);Ae|=1;try{if(t)return Gi(99,t.bind(null,e))}finally{Ae=r,Sn()}};$r.hydrate=function(t,e,r){if(!Ba(e))throw Error(me(200));return $u(null,t,e,!0,r)};$r.render=function(t,e,r){if(!Ba(e))throw Error(me(200));return $u(null,t,e,!1,r)};$r.unmountComponentAtNode=function(t){if(!Ba(t))throw Error(me(40));return t._reactRootContainer?(Yv(function(){$u(null,null,t,!1,function(){t._reactRootContainer=null,t[es]=null})}),!0):!1};$r.unstable_batchedUpdates=Jv;$r.unstable_createPortal=function(t,e){return rw(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};$r.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ba(r))throw Error(me(200));if(t==null||t._reactInternals===void 0)throw Error(me(38));return $u(t,e,r,!1,n)};$r.version="17.0.2"});var sw=xe((D8,ow)=>{"use strict";function iw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iw)}catch(t){console.error(t)}}iw(),ow.exports=nw()});var Ua=xe(mw=>{var Lx={debug:!1,protocol:"http",host:"localhost",port:8080,socket_protocol:"ws",hotreload:5e3,python:void 0,python_node:7001,startpage:"src/index.html",errpage:"src/other/404.html",certpath:"node_server/ssl/cert.pem",keypath:"node_server/ssl/key.pem",dataserver:"http://localhost:4000",realmapp:"buckleup-ilscy",googleclientid:"406817559914-boi30d05dk9jtj55frgi1dg8gkp6rrj9.apps.googleusercontent.com"};mw.settings=Lx});var vw,ww,gw,_w=rt(()=>{vw=Ft(Ua()),gw={log:console.log,gAuth:new Promise(t=>ww=t)};Object.keys(gw).forEach(t=>{window[t]=gw[t]});(function(){if(location.hostname==="localhost"&&location.port!=="4000")return;function e(){gapi.load("auth2",()=>{gapi.auth2.init({client_id:vw.settings.googleclientid,scope:"https://www.googleapis.com/auth/drive"}).then(i=>{ww(()=>i)},i=>{console.log("UNHANDLED"),console.error(i)})})}let r=document.createElement("script");r.type="text/javascript",r.src="https://apis.google.com/js/platform.js",r.onload=e,document.head.appendChild(r)})()});var Ew=xe(Sw=>{"use strict";Object.defineProperty(Sw,"__esModule",{value:!0})});var gd=xe(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.arrHas=We.arrLast=We.arrToBoolDict=We.arrToIdxDict=We.arrToDict=We.arrRemoveValues=We.arrReplace=We.arrDeepFlatten=We.arrFlatten=We.arrDivide=We.arrGetByIds=We.arrRemoveById=We.arrGen=void 0;var hi=di(),Mx=t=>Array(t).fill(null);We.arrGen=Mx;function jx(t,e,r="id"){let n=bw(t,r),i=hi.objRemoveKeys(n,e);return hi.objVals(i)}We.arrRemoveById=jx;function Bx(t,e,r="id"){let n=xw(e);return t.filter(i=>n[i[r]])}We.arrGetByIds=Bx;function Ux(t,e){let r=Math.ceil(t.length/e),n=We.arrGen(r).map(()=>[]);return t.forEach((i,o)=>n[Math.floor(o/e)].push(i)),n}We.arrDivide=Ux;function zx(t){return[].concat.apply([],t)}We.arrFlatten=zx;var Vx=t=>t.reduce((e,r)=>e.concat(hi.isType(r,"array")?We.arrDeepFlatten(r):r),[]);We.arrDeepFlatten=Vx;function Wx(t){let e=[...t];return{all:r=>{let n=[];return t.forEach((i,o)=>hi.equal(r,i)?n[o]=o:null),{with:i=>n.length?(n.forEach(o=>e[o]=i),e):t}},first:r=>{let n=t.findIndex(i=>hi.equal(r,i));return{with:i=>hi.nonValue(n)?t:(e[n]=i,e)}}}}We.arrReplace=Wx;function qx(t,e){let r=[...t];return e.forEach(n=>r=r.filter(i=>!hi.equal(i,n))),r}We.arrRemoveValues=qx;function bw(t,e){let r={};return t.forEach(n=>r[n[e]]=n),r}We.arrToDict=bw;function $x(t){let e={};return t.forEach((r,n)=>e[r]=n+""),e}We.arrToIdxDict=$x;function xw(t){let e={};return t.forEach(r=>e[r]=!0),e}We.arrToBoolDict=xw;var Hx=t=>t[t.length-1];We.arrLast=Hx;function Gx(t,e,r=!1){let n=r?i=>hi.equal(i,e):i=>i===e;return t.findIndex(n)!==-1}We.arrHas=Gx});var Ow=xe(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.clone=void 0;function vd(t){let e,r,n,i,o,s,a;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t);if(r=Object.keys(t),n=r.length,Array.isArray(t)){for(s=new Array(n),i=0;i<n;i++)o=r[i],e=t[o],typeof e!="object"||e===null?s[o]=e:e instanceof Date?s[o]=new Date(e):s[o]=vd(e);return s}for(a={},i=0;i<n;i++)o=r[i],e=t[o],Object.hasOwnProperty.call(t,o)!==!1&&(typeof e!="object"||e===null?a[o]=e:e instanceof Date?a[o]=new Date(e):a[o]=vd(e));return a}Hu.clone=vd});var kw=xe(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.equal=void 0;function Gu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Gu(t[n],e[n]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;for(n of t.entries())if(!Gu(n[1],e.get(n[0])))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!Gu(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}Ju.equal=Gu});var Nw=xe(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.promiseOut=vt.debounceTimeOut=vt.randomColorHex=vt.uiid=vt.assertType=vt.type=vt.cloneLog=vt.unsubAll=vt.wait=vt.interval=void 0;var Ln=di(),Jx=(t,e,r)=>{if(Ln.isType(r,"number")&&r<1)throw Error(`argument "times" can't be less than 1`);let n=0,i=setInterval(()=>{t(n),n++,r&&n>=r&&clearInterval(i)},e);return{stop:()=>clearInterval(i)}};vt.interval=Jx;var Yx=t=>new Promise(e=>setTimeout(()=>e(),t));vt.wait=Yx;var Tw=(t,e="unsubscribe")=>Ln.isType(t,"object")&&Ln.hasKey(t,e)?t[e]():null;function Kx(t,e="unsubscribe"){if(Ln.isType(t,"array"))t.forEach(r=>Tw(r,e));else if(Ln.isType(t,"object"))Ln.objMap(t,({val:r})=>Tw(r,e));else throw Error('argument "objOrArr" must be of type "object" or "array"')}vt.unsubAll=Kx;var Zx=t=>console.log(Ln.clone(t));vt.cloneLog=Zx;function Xx(t){return typeof t=="object"?Array.isArray(t)?"array":t===null?"null":"object":t!==t?"NaN":typeof t}vt.type=Xx;function Qx(t,e){Ln.isType(e,"array")||(e=[e]);for(let r of e)if(Ln.isType(t,r))return;throw Error(`value needs to be of type ${e.join(" || ")}`)}vt.assertType=Qx;var eO=()=>{let t=new Date().getTime(),e=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=Math.random()*16;return t>0?(i=(t+i)%16|0,t=Math.floor(t/16)):(i=(e+i)%16|0,e=Math.floor(e/16)),(n==="x"?i:i&3|8).toString(16)})};vt.uiid=eO;var tO=()=>"#"+((1<<24)*Math.random()|0).toString(16);vt.randomColorHex=tO;function rO(){let t=null;return(e,r)=>{t&&clearTimeout(t),t=setTimeout(e,r)}}vt.debounceTimeOut=rO;function nO(){let t,e=new Promise(r=>t=r);return{resolve:t,promise:e}}vt.promiseOut=nO});var Iw=xe(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.iterate=void 0;var wd=gd();function iO(t,e,r){let n=(i,o=!1)=>{let s=[];for(let a=0;a<t;a++)if(!e)s.push(i({x:a}));else for(let f=0;f<e;f++)if(!r)s.push(i({x:a,y:f}));else for(let d=0;d<r;d++)s.push(i({x:a,y:f,z:d}));return o?r&&e?wd.arrDivide(s,e*r).map(f=>wd.arrDivide(f,r)):e?wd.arrDivide(s,e):s:s};return{for:i=>{n(i)},map:i=>n(i),nestedMap:i=>n(i,!0)}}Yu.iterate=iO});var Rw=xe(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.newNumFromRange=Ar.numberWithCommas=Ar.decPlace=Ar.average=Ar.rand=void 0;var Aw=di(),oO=(t,e)=>Math.floor(Math.random()*(e+1-t))+t;Ar.rand=oO;var sO=t=>t.reduce((e=0,r=0)=>e+r,0)/t.length;Ar.average=sO;var aO=(t,e)=>parseFloat(t.toFixed(e));Ar.decPlace=aO;var lO=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Ar.numberWithCommas=lO;function uO(t,e,r){let n,i=0,o=Aw.isType(t,"array")?Aw.arrToBoolDict(t):{[t]:!0};do if(n=Ar.rand(e,r),i++,i>1e6)throw console.error("Check for infinite loops"),new Error("Looped 1 million times");while(o[n]);return n}Ar.newNumFromRange=uO});var Dw=xe(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.objPromiseAll=ft.objSortKeys=ft.objResolve=ft.objExtract=ft.objKeyVals=ft.objVals=ft.objKeys=ft.objRemoveKeys=ft.objFilter=ft.objMap=void 0;function cO(t,e){let r={};for(let n in t)r[n]=e({key:n,val:t[n]});return r}ft.objMap=cO;function fO(t,e){let r=Object.assign({},t);for(let n in t)e({key:n,val:t[n]})||delete r[n];return r}ft.objFilter=fO;function hO(t,e){let r=Object.assign({},t);return e.forEach(n=>delete r[n]),r}ft.objRemoveKeys=hO;function Ku(t){if(Object.keys)return Object.keys(t);let e=[];for(let r in t)e.push(r);return e}ft.objKeys=Ku;var dO=t=>Object.values?Object.values(t):Ku(t).map(e=>t[e]);ft.objVals=dO;var pO=t=>Ku(t).map(e=>({key:e,val:t[e]}));ft.objKeyVals=pO;function yO(t,e){let r={};return e.forEach(n=>r[n]=t[n]),r}ft.objExtract=yO;var mO=(t,e)=>e.split(".").reduce((r,n)=>r[n],t);ft.objResolve=mO;var gO=(t,e)=>{let r={};return Ku(t).sort(e).map(i=>r[i]=t[i]),r};ft.objSortKeys=gO;function vO(t){let e=ft.objKeyVals(t),r=e.length,n={},i=0;return new Promise(o=>e.forEach(({key:s,val:a})=>a.then(f=>{n[s]=f,i++,r===i&&o(n)})))}ft.objPromiseAll=vO});var Fw=xe(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.minAppend=pi.strRemove=pi.strIncludes=void 0;var wO=(t,e)=>t.indexOf(e)!==-1;pi.strIncludes=wO;var _O=(t,e)=>t.replace(new RegExp(e,"g"),"");pi.strRemove=_O;var SO=(t,e,r="0")=>{if(t=t+"",e<1)throw Error("length can not be less than 1");if(t.length>e)throw Error("item can not exceed length");return(r.repeat(e-1)+t).slice(-e)};pi.minAppend=SO});var Pw=xe(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.isValidEmail=wt.nonValue=wt.nullOrEmpty=wt.isType=wt.hasKeys=wt.hasKey=wt.equalAny=void 0;var EO=di(),Cw=di(),bO=(t,e)=>!!e.find(r=>EO.equal(t,r));wt.equalAny=bO;var xO=(t,e)=>wt.isType(t,"object")&&t.hasOwnProperty(e);wt.hasKey=xO;function OO(t,e){if(!wt.isType(t,"object"))return!1;for(let r of e)if(!t.hasOwnProperty(r))return!1;return!0}wt.hasKeys=OO;var kO=(t,e)=>Cw.type(t)===e;wt.isType=kO;function TO(t){return wt.nonValue(t)?!0:wt.isType(t,"string")||wt.isType(t,"array")?!t.length:wt.isType(t,"object")?!Cw.objVals(t).length:!1}wt.nullOrEmpty=TO;var NO=t=>t==null;wt.nonValue=NO;var IO=t=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t);wt.isValidEmail=IO});var Lw=xe(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.yearStartEnd=Se.monthStartEnd=Se.weekStartEnd=Se.getDayStartEnd=Se.wks=Se.weeks=Se.dys=Se.days=Se.hrs=Se.hours=Se.min=Se.minutes=Se.sec=Se.seconds=Se.msToTime=Se.msToWks=Se.msToDys=Se.msToHrs=Se.msToMin=Se.msToSec=Se.dateTimeToString=Se.weekTuple=Se.msTime=void 0;var Zu=di();Se.msTime={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};Se.weekTuple=["sun","mon","tue","wed","thu","fri","sat"];function AO(t=new Date){let e=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2),n=("0"+t.getSeconds()).slice(-2),i=("00"+t.getMilliseconds()).slice(-3);return`${e}:${r}:${n}:${i}`}Se.dateTimeToString=AO;var RO=t=>t/Se.msTime.s;Se.msToSec=RO;var DO=t=>t/Se.msTime.m;Se.msToMin=DO;var FO=t=>t/Se.msTime.h;Se.msToHrs=FO;var CO=t=>t/Se.msTime.d;Se.msToDys=CO;var PO=t=>t/Se.msTime.w;Se.msToWks=PO;function LO(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);o=o%24;let a=("00"+s).slice(-3),f=("0"+o).slice(-2),d=("0"+i).slice(-2),m=("0"+n).slice(-2),v=("00"+r).slice(-3);return e?{d:s,h:o,m:i,s:n,ms:r}:`${s?a+":":""}${f}:${d}:${m}:${v}`}Se.msToTime=LO;var MO=t=>t*Se.msTime.s;Se.seconds=MO;Se.sec=Se.seconds;var jO=t=>t*Se.msTime.m;Se.minutes=jO;Se.min=Se.minutes;var BO=t=>t*Se.msTime.h;Se.hours=BO;Se.hrs=Se.hours;var UO=t=>t*Se.msTime.d;Se.days=UO;Se.dys=Se.days;var zO=t=>t*Se.msTime.w;Se.weeks=zO;Se.wks=Se.weeks;function VO(t,e="local"){Zu.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),o=new Date(r,n,i),s=new Date(r,n,i,23,59,59,999);if(e==="unix"){let a=Se.min(o.getTimezoneOffset());o=new Date(o.getTime()+a),s=new Date(s.getTime()+a)}return{start:o,end:s}}Se.getDayStartEnd=VO;function WO(t,e="sun",r="local"){Zu.isType(t,"number")&&(t=new Date(t));let i=t.getDay()*-1+(e==="mon"?1:0),o=6+i,s=new Date(t.getTime()+Se.days(i)),a=new Date(t.getTime()+Se.days(o)),f=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999);if(r==="unix"){let m=Se.min(f.getTimezoneOffset());f=new Date(f.getTime()+m),d=new Date(d.getTime()+m)}return{start:f,end:d}}Se.weekStartEnd=WO;function qO(t,e="local"){Zu.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=new Date(r,n,1),o=new Date(r,n,0,23,59,59,999);if(e==="unix"){let s=Se.min(i.getTimezoneOffset());i=new Date(i.getTime()+s),o=new Date(o.getTime()+s)}return{start:i,end:o}}Se.monthStartEnd=qO;function $O(t,e="local"){Zu.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=new Date(r,0,1),i=new Date(r,12,0,23,59,59,999);if(e==="unix"){let o=Se.min(n.getTimezoneOffset());n=new Date(n.getTime()+o),i=new Date(i.getTime()+o)}return{start:n,end:i}}Se.yearStartEnd=$O});var di=xe(Jt=>{"use strict";var HO=Jt&&Jt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rn=Jt&&Jt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HO(e,t,r)};Object.defineProperty(Jt,"__esModule",{value:!0});rn(Ew(),Jt);rn(gd(),Jt);rn(Ow(),Jt);rn(kw(),Jt);rn(Nw(),Jt);rn(Iw(),Jt);rn(Rw(),Jt);rn(Dw(),Jt);rn(Fw(),Jt);rn(Pw(),Jt);rn(Lw(),Jt)});var Mw,jw,Bw,Uw=rt(()=>{Mw=class{constructor(e=!1,r=!1){this.debug=e,this.listeners=[],this.synchronous=r,this.syncInterval="FRAMERATE",this.syncAnim=void 0,r===!0&&this.startSync()}addListener(e=null,r,n=void 0,i=void 0,o=void 0,s=this.debug,a=!0){if(r===void 0){console.error("You must assign an object");return}var f=e;f==null&&(f=Math.floor(Math.random()*1e5)),this.synchronous===!0&&(a=!1);var d={key:f,listener:new jw(r,n,i,o,s,a)};this.listeners.push(d)}getListener(e){return this.listeners.find((n,i)=>{if(n.key===e)return!0})}hasKey(e){var r=!1;return this.listeners.forEach((n,i)=>{if(n.key===e)return r=!0,!0}),r}getKeyIndices(e){var r=[];return this.listeners.find((n,i)=>{n.key===e&&r.push(i)}),r}onchange(e=null,r=null){if(e==null)this.listeners.forEach((i,o)=>{i.listener.onchange=r});else var n=this.listeners.find((i,o)=>{i.name===e&&(i.listener.onchange=r)})}addFunc=(e=null,r=null,n=!0)=>{var i=null;if(r!==null)if(e==null)this.listeners.forEach((s,a)=>{i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start()});else var o=this.listeners.find((s,a)=>{s.key===e&&(i=s.listener.addFunc(r),s.listener.running==!1&&n==!0&&s.listener.start())});return i};getFuncs=(e=void 0)=>{if(e){var r=this.listeners.find((n,i)=>{if(n.key===e)return!0});return r.onchangeFuncs}else return};removeFuncs=(e=null,r=null,n=!1)=>{if(e==null)this.listeners.forEach((o,s)=>{o.listener.removeFuncs(r)});else var i=this.listeners.find((o,s)=>{o.key===e&&(o.listener.removeFuncs(r),(o.listener.onchangeFuncs.length===0||n===!0)&&o.listener.stop())})};stop(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.stop()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.stop()})}start(e=null){if(this.synchronous&&this.stopSync(),e==null)this.listeners.forEach((n,i)=>{n.listener.start()});else var r=this.listeners.find((n,i)=>{n.name===e&&n.listener.start()})}startSync(){if(this.synchronous===!1){this.synchronous=!0,this.stop();let e=()=>{this.synchronous===!0&&(this.listeners.forEach(r=>{r.listener.check()}),this.syncInterval==="FRAMERATE"?this.syncAnim=requestAnimationFrame(e):typeof this.syncInterval=="number"&&setTimeout(e,this.syncInterval))};e()}}stopSync(){this.synchronous=!1,this.syncAnim&&cancelAnimationFrame(this.syncAnim)}remove(e=null){if(e==null)this.listeners.forEach(i=>{i.listener.stop()}),this.listeners.splice(0,this.listeners.length);else{var r=[],n=this.listeners.forEach((i,o)=>{i.key===e&&r.push(o)});r.reverse().forEach(i=>{this.listeners[i].listener.stop(),this.listeners.splice(i,1)})}}},jw=class{constructor(e,r="__ANY__",n=this.onchange,i="FRAMERATE",o=!1,s=!0){this.debug=o,this.onchange=n,this.onchangeFuncs=[],this.object=e,this.propName=r,this.propOld=void 0,this.setListenerRef(r),this.running=s,this.funcs=0,this.interval,i<10?(this.interval=10,console.log("Min recommended interval set: 10ms")):this.interval=i,s===!0&&(typeof window>"u"?setTimeout(()=>{this.check()},60):this.checker=requestAnimationFrame(this.check))}onchange=e=>{console.log(this.propName," changed from: ",this.propOld," to: ",this.object[this.propName])};addFunc=(e=null)=>{let r=0;return e!==null&&(this.onchangeFuncs.push({idx:this.funcs,onchange:e}),r=this.funcs,this.funcs++),r};removeFuncs(e=null){let r=0;e===null?this.onchangeFuncs=[]:this.onchangeFuncs.find((n,i)=>{if(n.idx===e)return r=i,!0})!==void 0&&this.onchangeFuncs.splice(r,1)}onchangeMulti=e=>{[...this.onchangeFuncs].forEach((n,i)=>{this.debug===!0&&console.log(n.onchange),n.onchange(e)})};setListenerRef=e=>{e==="__ANY__"||e===null||e===void 0?this.propOld=JSON.stringifyFast(this.object):Array.isArray(this.object[e])?this.propOld=JSON.stringifyFast(this.object[e].slice(this.object[e].length-20)):typeof this.object[e]=="object"?this.propOld=JSON.stringifyFast(this.object[e]):typeof this.object[e]=="function"?this.propOld=this.object[e].toString():this.propOld=this.object[e],this.debug===!0&&console.log("propname",e,", new assignment: ",this.propOld)};check=()=>{let e=!1;if(this.propName==="__ANY__"||this.propName===null||this.propName===void 0)this.propOld!==JSON.stringifyFast(this.object)&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object),this.setListenerRef(this.propName),e=!0);else if(Array.isArray(this.object[this.propName]))this.propOld!==JSON.stringifyFast(this.object[this.propName].slice(this.object[this.propName].length-20))&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);else if(typeof this.object[this.propName]=="object"){let r=JSON.stringifyFast(this.object[this.propName]);this.propOld!==r&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0)}else typeof this.object[this.propName]=="function"?this.propOld!==this.object[this.propName].toString()&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName].toString()),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName].toString()),this.setListenerRef(this.propName),e=!0):this.object[this.propName]!==this.propOld&&(this.debug===!0&&console.log("onchange: ",this.onchange),this.onchange(this.object[this.propName]),this.onchangeFuncs.length>0&&this.onchangeMulti(this.object[this.propName]),this.setListenerRef(this.propName),e=!0);return this.running===!0&&(this.debug===!0&&console.log("checking",this.object,this.propName),this.interval==="FRAMERATE"?typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check):setTimeout(()=>{this.check()},this.interval)),e};start(){this.running=!0,typeof window>"u"?setTimeout(()=>{this.check()},16):this.checker=requestAnimationFrame(this.check)}stop(){this.running=!1,cancelAnimationFrame(this.checker)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var f=e.length-1;if(e[f]){var d=e[f];if(typeof d=="object")if(d[s]===a||f===0)r.push(s),e.push(a.pushed);else for(;f-->=0;){if(d=e[f],typeof d=="object"&&d[s]===a){f+=2,e.length=f,r.length=f,--f,e[f]=a,r[f]=s;break}f--}}}function o(s,a){let f;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let m=t.get(a);if(m)return"[Circular Reference]"+m;if(t.set(a,r.join(".")),d==="Array")a.length>20?f=a.slice(a.length-20):f=a;else if(d.includes("Set"))f=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")f="instanceof_"+d;else if(d==="Object"){let v={};for(let y in a)if(a[y]==null)v[y]=a[y];else if(Array.isArray(a[y]))a[y].length>20?v[y]=a[y].slice(a[y].length-20):v[y]=a[y];else if(a[y].constructor.name==="Object"){v[y]={};for(let w in a[y])if(Array.isArray(a[y][w]))a[y][w].length>20?v[y][w]=a[y][w].slice(a[y][w].length-20):v[y][w]=a[y][w];else if(a[y][w]!=null){let b=a[y][w].constructor.name;b.includes("Set")?v[y][w]=Array.from(a[y][w]):b!=="Number"&&b!=="String"&&b!=="Boolean"?v[y][w]="instanceof_"+b:v[y][w]=a[y][w]}else v[y][w]=a[y][w]}else{let w=a[y].constructor.name;w.includes("Set")?v[y]=Array.from(a[y]):w!=="Number"&&w!=="String"&&w!=="Boolean"?v[y]="instanceof_"+w:v[y]=a[y]}f=v}else f=a}else f=a;return f}return function(a,f){e.push(a);let d=JSON.stringify(a,o,f);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var f=e.length-1,d=e[f];if(d[s]===a||f===0)r.push(s),e.push(a);else for(;f-->=0;)if(d=e[f],d[s]===a){f+=2,e.length=f,r.length=f,--f,e[f]=a,r[f]=s;break}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let f=t.get(a);if(f)return"[Circular Reference]"+f;t.set(a,r.join("."))}return a}return function(a,f){try{return e.push(a),JSON.stringify(a,o,f)}finally{n()}}}());Bw=Mw});var Xu,zw,_d=rt(()=>{Uw();Xu=class{constructor(e={},r="FRAMERATE",n=!0){this.data=e,this.interval=r,this.pushToState={},this.pushRecord={pushed:[]},this.pushCallbacks={},this.triggers={},this.prev={},this.listener=new Bw,this.defaultStartListenerEventLoop=n}subscribe(e,r,n=this.defaultStartListenerEventLoop){if(e&&e!=="state")if(this.data[e]===void 0)this.addToState(e,null,r,n);else return this.addSecondaryKeyResponse(e,r,void 0,n);else return this.addSecondaryKeyResponse(e,r,void 0,n)}subscribeOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribe(e,n)};n=this.subscribe(e,i)}unsubscribe(e,r=null){r!==null?this.removeSecondaryKeyResponse(e,r,!0):console.error("Specify a subcription function index")}unsubscribeAll(e){this.unsubscribeAllSequential(e),this.unsubscribeAllTriggers(e),this.clearAllKeyResponses(e),this.data[e]&&delete this.data[e],this.listener.hasKey("pushToState")&&this.setSequentialState({stateRemoved:e})}setInterval(e="FRAMERATE"){this.interval=e,this.listener.listeners.forEach((r,n)=>{r.interval=this.interval})}updateState(e,r){this.data[e]==null?this.addToState(e,r):this.data[e]=r}setupSynchronousUpdates=()=>{if(!this.listener.hasKey("pushToState")){let e=()=>{if(Object.keys(this.pushToState).length>0){Object.assign(this.data,this.pushToState);for(let r of Object.getOwnPropertyNames(this.pushToState))delete this.pushToState[r]}};this.listener.addListener("pushToState",this.pushToState,"__ANY__",e,this.interval),this.addToState("pushRecord",this.pushRecord,r=>{let n=r.pushed.length;for(let i=0;i<n;i++){let o=r.pushed[i];this.pushCallbacks.state&&this.pushCallbacks.state.forEach(s=>{s.onchange(o)});for(let s in o)this.pushCallbacks[s]&&this.pushCallbacks[s].forEach(a=>{typeof a=="object"&&a.onchange(o[s])})}this.pushRecord.pushed.splice(0,n)})}};addToState(e,r,n=null,i=this.defaultStartListenerEventLoop,o=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&this.setupSynchronousUpdates(),this.data[e]=r,this.setSequentialState({stateAdded:e}),n!==null)return this.addSecondaryKeyResponse(e,n,o,i)}get(e){return this.data[e]}getState(){return JSON.parse(JSON.stringifyFast(this.data))}setState(e={},r=!1){if(!this.listener.hasKey("pushToState")&&this.defaultStartListenerEventLoop&&(this.setupSynchronousUpdates(),this.pushRecord.pushed.push(JSON.parse(JSON.stringifyWithCircularRefs(e)))),e.stateUpdateTimeStamp=Date.now(),r){for(let n in e)if(n in this.pushToState){if(Array.isArray(this.pushToState[n])&&Array.isArray(e[n]))e[n]=this.pushToState[n].push(...e[n]);else if(typeof this.pushToState[n]=="object"&&typeof e[n]=="object"){for(let i in e[n])if(this.pushToState[n][i]){if(Array.isArray(this.pushToState[n][i])&&Array.isArray(e[n][i]))e[n][i]=this.pushToState[n][i].push(...e[n][i]);else if(typeof this.pushToState[n][i]=="object"&&typeof e[n][i]=="object"){for(let o in e[n][i])if(this.pushToState[n][i][o])Array.isArray(this.pushToState[n][i][o])&&Array.isArray(e[n][i][o])&&(e[n][i][o]=this.pushToState[n][i][o].push(...e[n][i][o]));else if(typeof this.pushToState[n][i][o]=="object"&&typeof e[n][i][o]=="object")for(let s in e[n][i][o])this.pushToState[n][i][o][s]&&Array.isArray(this.pushToState[n][i][o][s])&&Array.isArray(e[n][i][o][s])&&(e[n][i][o][s]=this.pushToState[n][i][o][s].push(...e[n][i][o][s]))}}}}}if(Object.assign(this.pushToState,e),Object.keys(this.triggers).length>0){this.triggers.state&&this.triggers.state.forEach(n=>{n.onchange(this.data)});for(let n of Object.getOwnPropertyNames(this.triggers))n in this.pushToState&&(this.data[n]=this.pushToState[n],delete this.pushToState[n],this.triggers[n].forEach(i=>{i.onchange(this.data[n])}))}return this.pushToState}subscribeTrigger(e=void 0,r=n=>{}){if(e){this.triggers[e]||(this.triggers[e]=[]);let n=this.triggers[e].length;return this.triggers[e].push({idx:n,onchange:r}),this.triggers[e].length-1}else return}subscribeTriggerOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeTrigger(e,n)};n=this.subscribeTrigger(e,i)}unsubscribeTrigger(e=void 0,r=0){let n,i=this.triggers[e];i&&i.find(s=>{if(s.idx===r)return!0})&&i.splice(n,1)}unsubscribeAllTriggers(e){e&&this.triggers[e]&&delete this.triggers[e]}setSequentialState(e={}){this.listener.hasKey("pushToState")||this.setupSynchronousUpdates(),e.stateUpdateTimeStamp=Date.now(),this.pushRecord.pushed.push(JSON.parse(JSON.stringify(e)))}subscribeSequential(e=void 0,r=void 0){if(e)if(this.data[e]===void 0&&e!=="state"&&this.addToState(e,null,void 0),this.pushCallbacks[e]||(this.pushCallbacks[e]=[]),r){let n=this.pushCallbacks[e].length;return this.pushCallbacks[e].push({idx:n,onchange:r}),this.pushCallbacks[e].length-1}else return;else return}subscribeSequentialOnce(e=void 0,r=n=>{}){let n,i=o=>{r(o),this.unsubscribeSequential(e,n)};n=this.subscribeSequential(e,i)}unsubscribeSequential(e=void 0,r=0){e&&this.pushCallbacks[e]&&this.pushCallbacks[e].find((n,i)=>{if(n.idx===r)return this.pushCallbacks[e].splice(i,1),!0})}unsubscribeAllSequential(e){e&&this.pushCallbacks[e]&&this.pushCallbacks[e]&&delete this.pushCallbacks[e]}setPrimaryKeyResponse(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop){if(r!==null)if(this.listener.hasKey(e))this.listener.onchange(e,r);else if(e!=null&&e!=="state")this.listener.addListener(e,this.data,e,r,this.data.stateUpdateInterval,n,i);else{if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}}addSecondaryKeyResponse=(e=null,r=null,n=!1,i=this.defaultStartListenerEventLoop)=>{if(r!=null){if(this.listener.hasKey(e))return this.listener.addFunc(e,r);if(e!=null&&e!=="state")return this.listener.addListener(e,this.data,e,()=>{},this.data.stateUpdateInterval,n,i),this.listener.addFunc(e,r);if(!this.listener.hasKey("state")){let o=()=>{this.prev=Object.assign({},this.data)};this.listener.addListener("state",this.data,"__ANY__",o,this.interval)}return this.listener.addFunc("state",r)}};removeSecondaryKeyResponse(e=null,r=null,n=!0){e!==null?this.listener.hasKey(e)?this.listener.removeFuncs(e,r,n):console.error("key does not exist"):console.error("provide key")}clearAllKeyResponses(e=null){e===null?this.listener.remove(null):this.listener.hasKey(e)&&this.listener.remove(e)}getKeySubCallbacks(e){return this.listener.getFuncs(e)}removeState=this.unsubscribeAll;runSynchronousListeners(){this.defaultStartListenerEventLoop=!1,this.listener.startSync()}stop(e=null){this.listener.stop(e)}};JSON.stringifyFast===void 0&&(JSON.stringifyFast=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var f=e.length-1;if(e[f]){var d=e[f];if(typeof d=="object")if(d[s]===a||f===0)r.push(s),e.push(a.pushed);else for(;f-->=0;){if(d=e[f],typeof d=="object"&&d[s]===a){f+=2,e.length=f,r.length=f,--f,e[f]=a,r[f]=s;break}f++}}}function o(s,a){let f;if(a!=null)if(typeof a=="object"){let d=a.constructor.name;s&&d==="Object"&&i(s,a);let m=t.get(a);if(m)return"[Circular Reference]"+m;if(t.set(a,r.join(".")),d==="Array")a.length>20?f=a.slice(a.length-20):f=a;else if(d.includes("Set"))f=Array.from(a);else if(d!=="Object"&&d!=="Number"&&d!=="String"&&d!=="Boolean")f="instanceof_"+d;else if(d==="Object"){let v={};for(let y in a)if(a[y]==null)v[y]=a[y];else if(Array.isArray(a[y]))a[y].length>20?v[y]=a[y].slice(a[y].length-20):v[y]=a[y];else if(a[y].constructor.name==="Object"){v[y]={};for(let w in a[y])if(Array.isArray(a[y][w]))a[y][w].length>20?v[y][w]=a[y][w].slice(a[y][w].length-20):v[y][w]=a[y][w];else if(a[y][w]!=null){let b=a[y][w].constructor.name;b.includes("Set")?v[y][w]=Array.from(a[y][w]):b!=="Number"&&b!=="String"&&b!=="Boolean"?v[y][w]="instanceof_"+b:v[y][w]=a[y][w]}else v[y][w]=a[y][w]}else{let w=a[y].constructor.name;w.includes("Set")?v[y]=Array.from(a[y]):w!=="Number"&&w!=="String"&&w!=="Boolean"?v[y]="instanceof_"+w:v[y]=a[y]}f=v}else f=a}else f=a;return f}return function(a,f){e.push(a);let d=JSON.stringify(a,o,f);return n(),d}}());JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=function(){let t=new Map,e=[],r=["this"];function n(){t.clear(),e.length=0,r.length=1}function i(s,a){var f=e.length-1,d=e[f];if(typeof d=="object")if(d[s]===a||f===0)r.push(s),e.push(a.pushed);else for(;f-->=0;){if(d=e[f],typeof d=="object"&&d[s]===a){f+=2,e.length=f,r.length=f,--f,e[f]=a,r[f]=s;break}f--}}function o(s,a){if(a!=null&&typeof a=="object"){s&&i(s,a);let f=t.get(a);if(f)return"[Circular Reference]"+f;t.set(a,r.join("."))}return a}return function(a,f){try{return e.push(a),JSON.stringify(a,o,f)}finally{n()}}}());zw=Xu});async function Ww(t="sessionName",e="data",r=0,n=5120,i=o=>{}){return t!=""?new Promise(async o=>{Ye.open("/"+e+"/"+t,"r",(s,a)=>{if(s)throw s;Ye.read(a,n,r,"utf-8",(f,d,m)=>{if(f)throw f;if(m!==0){let v=d.toString();Ye.close(a,()=>{i(v,t),o(v)})}else o(void 0)})})}):void console.error("Path name is not defined")}function xd(t=e=>{}){window.gapi.client.drive.files.list({q:"name='Brainsatplay_Data' and mimeType='application/vnd.google-apps.folder'"}).then(e=>{e.result.files.length===0&&this.createDriveFolder(),t&&t(e.result)})}function Hw(t=e=>{}){xd(e=>{window.gapi.client.drive.files.list({q:`'${e.files[0].id}' in parents`,pageSize:10,fields:"nextPageToken, files(id, name)"}).then(r=>{var n=r.result.files;n&&n.length>0&&t(n)})})}function Od(t){return!!t.match(Od.regex)}var za,Vw,uI,Va,Qu,Ye,Sd,Ed,qw,$w,os,bd,Qi,cI,fI,Jw,Yw,Kw,GO,Gw,hI,Zw=rt(()=>{za=class{constructor(e=this.onOpen,r=null,n=null){this.onOpen=e,this.notes=[{idx:0,text:"comment"}],r!==null&&document.getElementById(r).addEventListener("click",this.saveCSV),n!==null&&document.getElementById(n).addEventListener("click",this.openCSV)}processArraysForCSV(e=["1|2|3","3|2|1"],r="|",n="a,b,c",i=!1){let o=n+`
`,s=0;return e.forEach((a,f)=>{e[f]==="string"&&r!==","?o+=a.split(r).join(","):csvData+=a.join(","),i===!0&&this.notes[s].idx===f&&(a+=this.notes[s].text,s++),a.indexOf(`
`)<0&&(o+=`
`)}),o}static saveCSV(e=`a,b,c
1,2,3
3,2,1
`,r=new Date().toISOString()){var n=document.createElement("a");n.href="data:text/csv;charset=utf-8,"+encodeURI(e),n.target="_blank",n.download=r!==""?r+".csv":Date().toISOString()+".csv",n.click()}static openCSV(e=",",r=(n,i,o)=>o){var n=document.createElement("input");n.accept=".csv",n.type="file",n.onchange=i=>{var o=i.target.files[0],s=new FileReader;s.onload=a=>{var f=a.target.result.split(`
`);let d=[];var m=[];f.pop(),f.forEach((v,y)=>{if(y==0)d=v.split(e);else{var w=v.split(e);m.push(w)}}),r(m,d,n.value),n.value=""},s.readAsText(o)},n.click()}static openCSVRaw(e=(r,n)=>n){var r=document.createElement("input");r.accept=".csv",r.type="file",r.onchange=n=>{var i=n.target.files[0],o=new FileReader;o.onload=s=>{var a=s.target.result;e(a,r.value),r.value=""},o.readAsText(i)},r.click()}onOpen(e=[],r=[]){console.log("CSV Opened!",r,e)}},uI=Object.freeze({__proto__:null,CSV:za,parseCSVData:(t,e,r,n=!0,i=(o,s,a)=>{let f={filename:a,head:s},d=s;typeof s=="string"&&(d=s.split(","));for(let m=0;m<o.length;m++){let v=o[m].split(",");for(let y=0;y<v.length;y++)f[d[y]]||f[d[y]],f[d[y]]=v[y]}return f})=>{let o=t.split(`
`);return o.shift(),n===!1&&o.pop(),i(o,e,r)},processDataForCSV:(t={})=>{let e="";typeof t.data[0]!="object"||Array.isArray(t.data[0])||(t.data[0].x?e="x,":t.data[0].timestamp&&(e="timestamp,localtime,"));let r=0,n={};t.data.forEach((s,a)=>{if(Array.isArray(s))for(let f=0;f<s.length;f++)n[f]||(n[f]=""),Array.isArray(s[f])?(f===0&&(e[r]+=t.header[r]+new Array(s[f].length-1).fill("").join(",")),n[f]+=s[f].join(",")+",",r+=s[f].length):(f===0&&(e[r]+=t.header[r]+","),n[f]+=s[f]+",",r++);else if(typeof s=="object"){let f;s.x?f=s.x:s.timestamp&&(f=s.timestamp);for(let d=0;d<f.length;d++){n[f[d]]||(n[f[d]]=f[d]+","),s.timestamp&&(n[f[d]]+=toISOLocal(s.timestamp[d])+",");for(let m in s)m!=="x"&&(n[f[d]]||(n[f[d]]=""),Array.isArray(s[m][d])?(d===0&&(e[r]+=t.header[r]+Array(s[m][d].length-1).fill("").join(",")),n[f[d]]+=s[m][d].join(",")+",",r+=s[m][d].length):(d===0&&(e[r]+=t.header[r]+","),n[f[d]]+=s[m][d]+",",r++))}}}),e.splice(e.length-1,1),e+=`
`;let i="";for(let s in n)n[s].splice(n[s].length-1,1),i+=n[s]+`
`;let o={filename:t.filename,header:e,body:i};return t.save&&za.saveCSV(e+i,t.filename),t.write&&fs.exists(t.filename,s=>{s?appendFile(t.filename,i,t.dir):appendFile(t.filename,e+i,t.dir)}),o}}),Va=(typeof globalThis<"u"||typeof window<"u"||(typeof global<"u"?global:typeof self<"u"),{exports:{}});Vw=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=t,r.c=e,r.p="",r(0)}([function(t,e,r){(function(n,i,o,s){Object.defineProperty(e,"__esModule",{value:!0});var a,f=r(2),d=r(9);(function(c){c[c.EPERM=1]="EPERM",c[c.ENOENT=2]="ENOENT",c[c.EIO=5]="EIO",c[c.EBADF=9]="EBADF",c[c.EACCES=13]="EACCES",c[c.EBUSY=16]="EBUSY",c[c.EEXIST=17]="EEXIST",c[c.ENOTDIR=20]="ENOTDIR",c[c.EISDIR=21]="EISDIR",c[c.EINVAL=22]="EINVAL",c[c.EFBIG=27]="EFBIG",c[c.ENOSPC=28]="ENOSPC",c[c.EROFS=30]="EROFS",c[c.ENOTEMPTY=39]="ENOTEMPTY",c[c.ENOTSUP=95]="ENOTSUP"})(a||(a={}));var m={};m[a.EPERM]="Operation not permitted.",m[a.ENOENT]="No such file or directory.",m[a.EIO]="Input/output error.",m[a.EBADF]="Bad file descriptor.",m[a.EACCES]="Permission denied.",m[a.EBUSY]="Resource busy or locked.",m[a.EEXIST]="File exists.",m[a.ENOTDIR]="File is not a directory.",m[a.EISDIR]="File is a directory.",m[a.EINVAL]="Invalid argument.",m[a.EFBIG]="File is too big.",m[a.ENOSPC]="No space left on disk.",m[a.EROFS]="Cannot modify a read-only file system.",m[a.ENOTEMPTY]="Directory is not empty.",m[a.ENOTSUP]="Operation is not supported.";var v,y=function(c){function u(l,h,p){h===void 0&&(h=m[l]),c.call(this,h),this.syscall="",this.errno=l,this.code=a[l],this.path=p,this.stack=new c().stack,this.message="Error: "+this.code+": "+h+(this.path?", '"+this.path+"'":"")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.fromJSON=function(l){var h=new u(0);return h.errno=l.errno,h.code=l.code,h.path=l.path,h.stack=l.stack,h.message=l.message,h},u.fromBuffer=function(l,h){return h===void 0&&(h=0),u.fromJSON(JSON.parse(l.toString("utf8",h+4,h+4+l.readUInt32LE(h))))},u.FileError=function(l,h){return new u(l,m[l],h)},u.ENOENT=function(l){return this.FileError(a.ENOENT,l)},u.EEXIST=function(l){return this.FileError(a.EEXIST,l)},u.EISDIR=function(l){return this.FileError(a.EISDIR,l)},u.ENOTDIR=function(l){return this.FileError(a.ENOTDIR,l)},u.EPERM=function(l){return this.FileError(a.EPERM,l)},u.ENOTEMPTY=function(l){return this.FileError(a.ENOTEMPTY,l)},u.prototype.toString=function(){return this.message},u.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},u.prototype.writeToBuffer=function(l,h){l===void 0&&(l=n.alloc(this.bufferSize())),h===void 0&&(h=0);var p=l.write(JSON.stringify(this.toJSON()),h+4);return l.writeUInt32LE(p,h),l},u.prototype.bufferSize=function(){return 4+n.byteLength(JSON.stringify(this.toJSON()))},u}(Error),w=Object.freeze({get ErrorCode(){return a},ErrorStrings:m,ApiError:y});(function(c){c[c.NOP=0]="NOP",c[c.THROW_EXCEPTION=1]="THROW_EXCEPTION",c[c.TRUNCATE_FILE=2]="TRUNCATE_FILE",c[c.CREATE_FILE=3]="CREATE_FILE"})(v||(v={}));var b,A=function c(u){if(this.flagStr=u,c.validFlagStrs.indexOf(u)<0)throw new y(a.EINVAL,"Invalid flag: "+u)};A.getFileFlag=function(c){return A.flagCache.hasOwnProperty(c)?A.flagCache[c]:A.flagCache[c]=new A(c)},A.prototype.getFlagString=function(){return this.flagStr},A.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},A.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},A.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},A.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},A.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},A.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},A.prototype.pathExistsAction=function(){return this.isExclusive()?v.THROW_EXCEPTION:this.isTruncating()?v.TRUNCATE_FILE:v.NOP},A.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?v.CREATE_FILE:v.THROW_EXCEPTION},A.flagCache={},A.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"],function(c){c[c.FILE=32768]="FILE",c[c.DIRECTORY=16384]="DIRECTORY",c[c.SYMLINK=40960]="SYMLINK"}(b||(b={}));var k=function(c,u,l,h,p,g){if(h===void 0&&(h=new Date),p===void 0&&(p=new Date),g===void 0&&(g=new Date),this.size=u,this.atime=h,this.mtime=p,this.ctime=g,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,l)this.mode=l;else switch(c){case b.FILE:this.mode=420;break;case b.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(u/512),this.mode<4096&&(this.mode|=c)};k.fromBuffer=function(c){var u=c.readUInt32LE(0),l=c.readUInt32LE(4),h=c.readDoubleLE(8),p=c.readDoubleLE(16),g=c.readDoubleLE(24);return new k(61440&l,u,4095&l,new Date(h),new Date(p),new Date(g))},k.prototype.toBuffer=function(){var c=n.alloc(32);return c.writeUInt32LE(this.size,0),c.writeUInt32LE(this.mode,4),c.writeDoubleLE(this.atime.getTime(),8),c.writeDoubleLE(this.mtime.getTime(),16),c.writeDoubleLE(this.ctime.getTime(),24),c},k.prototype.clone=function(){return new k(61440&this.mode,this.size,4095&this.mode,this.atime,this.mtime,this.ctime)},k.prototype.isFile=function(){return(61440&this.mode)===b.FILE},k.prototype.isDirectory=function(){return(61440&this.mode)===b.DIRECTORY},k.prototype.isSymbolicLink=function(){return(61440&this.mode)===b.SYMLINK},k.prototype.chmod=function(c){this.mode=61440&this.mode|c},k.prototype.isSocket=function(){return!1},k.prototype.isBlockDevice=function(){return!1},k.prototype.isCharacterDevice=function(){return!1},k.prototype.isFIFO=function(){return!1};var N=function(c,u){return c};function F(c){if(c)return c;throw new y(a.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Y(c,u){switch(typeof c){case"number":return c;case"string":var l=parseInt(c,8);return isNaN(l)?u:l;default:return u}}function H(c){if(c instanceof Date)return c;if(typeof c=="number")return new Date(1e3*c);throw new y(a.EINVAL,"Invalid time.")}function Z(c){if(c.indexOf("\0")>=0)throw new y(a.EINVAL,"Path must be a string without null bytes.");if(c==="")throw new y(a.EINVAL,"Path must not be empty.");return d.resolve(c)}function L(c,u,l,h){switch(typeof c){case"object":return{encoding:c.encoding!==void 0?c.encoding:u,flag:c.flag!==void 0?c.flag:l,mode:Y(c.mode,h)};case"string":return{encoding:c,flag:l,mode:h};default:return{encoding:u,flag:l,mode:h}}}function V(){}var S=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};S.prototype.initialize=function(c){if(!c.constructor.isAvailable())throw new y(a.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=c},S.prototype._toUnixTimestamp=function(c){if(typeof c=="number")return c;if(c instanceof Date)return c.getTime()/1e3;throw new Error("Cannot parse time: "+c)},S.prototype.getRootFS=function(){return this.root?this.root:null},S.prototype.rename=function(c,u,l){l===void 0&&(l=V);var h=N(l,1);try{F(this.root).rename(Z(c),Z(u),h)}catch(p){h(p)}},S.prototype.renameSync=function(c,u){F(this.root).renameSync(Z(c),Z(u))},S.prototype.exists=function(c,u){u===void 0&&(u=V);var l=N(u,1);try{return F(this.root).exists(Z(c),l)}catch{return l(!1)}},S.prototype.existsSync=function(c){try{return F(this.root).existsSync(Z(c))}catch{return!1}},S.prototype.stat=function(c,u){u===void 0&&(u=V);var l=N(u,2);try{return F(this.root).stat(Z(c),!1,l)}catch(h){return l(h)}},S.prototype.statSync=function(c){return F(this.root).statSync(Z(c),!1)},S.prototype.lstat=function(c,u){u===void 0&&(u=V);var l=N(u,2);try{return F(this.root).stat(Z(c),!0,l)}catch(h){return l(h)}},S.prototype.lstatSync=function(c){return F(this.root).statSync(Z(c),!0)},S.prototype.truncate=function(c,u,l){u===void 0&&(u=0),l===void 0&&(l=V);var h=0;typeof u=="function"?l=u:typeof u=="number"&&(h=u);var p=N(l,1);try{if(h<0)throw new y(a.EINVAL);return F(this.root).truncate(Z(c),h,p)}catch(g){return p(g)}},S.prototype.truncateSync=function(c,u){if(u===void 0&&(u=0),u<0)throw new y(a.EINVAL);return F(this.root).truncateSync(Z(c),u)},S.prototype.unlink=function(c,u){u===void 0&&(u=V);var l=N(u,1);try{return F(this.root).unlink(Z(c),l)}catch(h){return l(h)}},S.prototype.unlinkSync=function(c){return F(this.root).unlinkSync(Z(c))},S.prototype.open=function(c,u,l,h){var p=this;h===void 0&&(h=V);var g=Y(l,420),_=N(h=typeof l=="function"?l:h,2);try{F(this.root).open(Z(c),A.getFileFlag(u),g,function(I,P){P?_(I,p.getFdForFile(P)):_(I)})}catch(I){_(I)}},S.prototype.openSync=function(c,u,l){return l===void 0&&(l=420),this.getFdForFile(F(this.root).openSync(Z(c),A.getFileFlag(u),Y(l,420)))},S.prototype.readFile=function(c,u,l){u===void 0&&(u={}),l===void 0&&(l=V);var h=L(u,null,"r",null),p=N(l=typeof u=="function"?u:l,2);try{var g=A.getFileFlag(h.flag);return g.isReadable()?F(this.root).readFile(Z(c),h.encoding,g,p):p(new y(a.EINVAL,"Flag passed to readFile must allow for reading."))}catch(_){return p(_)}},S.prototype.readFileSync=function(c,u){u===void 0&&(u={});var l=L(u,null,"r",null),h=A.getFileFlag(l.flag);if(!h.isReadable())throw new y(a.EINVAL,"Flag passed to readFile must allow for reading.");return F(this.root).readFileSync(Z(c),l.encoding,h)},S.prototype.writeFile=function(c,u,l,h){l===void 0&&(l={}),h===void 0&&(h=V);var p=L(l,"utf8","w",420),g=N(h=typeof l=="function"?l:h,1);try{var _=A.getFileFlag(p.flag);return _.isWriteable()?F(this.root).writeFile(Z(c),u,p.encoding,_,p.mode,g):g(new y(a.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(I){return g(I)}},S.prototype.writeFileSync=function(c,u,l){var h=L(l,"utf8","w",420),p=A.getFileFlag(h.flag);if(!p.isWriteable())throw new y(a.EINVAL,"Flag passed to writeFile must allow for writing.");return F(this.root).writeFileSync(Z(c),u,h.encoding,p,h.mode)},S.prototype.appendFile=function(c,u,l,h){h===void 0&&(h=V);var p=L(l,"utf8","a",420),g=N(h=typeof l=="function"?l:h,1);try{var _=A.getFileFlag(p.flag);if(!_.isAppendable())return g(new y(a.EINVAL,"Flag passed to appendFile must allow for appending."));F(this.root).appendFile(Z(c),u,p.encoding,_,p.mode,g)}catch(I){g(I)}},S.prototype.appendFileSync=function(c,u,l){var h=L(l,"utf8","a",420),p=A.getFileFlag(h.flag);if(!p.isAppendable())throw new y(a.EINVAL,"Flag passed to appendFile must allow for appending.");return F(this.root).appendFileSync(Z(c),u,h.encoding,p,h.mode)},S.prototype.fstat=function(c,u){u===void 0&&(u=V);var l=N(u,2);try{this.fd2file(c).stat(l)}catch(h){l(h)}},S.prototype.fstatSync=function(c){return this.fd2file(c).statSync()},S.prototype.close=function(c,u){var l=this;u===void 0&&(u=V);var h=N(u,1);try{this.fd2file(c).close(function(p){p||l.closeFd(c),h(p)})}catch(p){h(p)}},S.prototype.closeSync=function(c){this.fd2file(c).closeSync(),this.closeFd(c)},S.prototype.ftruncate=function(c,u,l){l===void 0&&(l=V);var h=typeof u=="number"?u:0,p=N(l=typeof u=="function"?u:l,1);try{var g=this.fd2file(c);if(h<0)throw new y(a.EINVAL);g.truncate(h,p)}catch(_){p(_)}},S.prototype.ftruncateSync=function(c,u){u===void 0&&(u=0);var l=this.fd2file(c);if(u<0)throw new y(a.EINVAL);l.truncateSync(u)},S.prototype.fsync=function(c,u){u===void 0&&(u=V);var l=N(u,1);try{this.fd2file(c).sync(l)}catch(h){l(h)}},S.prototype.fsyncSync=function(c){this.fd2file(c).syncSync()},S.prototype.fdatasync=function(c,u){u===void 0&&(u=V);var l=N(u,1);try{this.fd2file(c).datasync(l)}catch(h){l(h)}},S.prototype.fdatasyncSync=function(c){this.fd2file(c).datasyncSync()},S.prototype.write=function(c,u,l,h,p,g){g===void 0&&(g=V);var _,I,P,q=null;if(typeof u=="string"){var Q="utf8";switch(typeof l){case"function":g=l;break;case"number":q=l,Q=typeof h=="string"?h:"utf8",g=typeof p=="function"?p:g;break;default:return(g=typeof h=="function"?h:typeof p=="function"?p:g)(new y(a.EINVAL,"Invalid arguments."))}I=0,P=(_=n.from(u,Q)).length}else _=u,I=l,P=h,q=typeof p=="number"?p:null,g=typeof p=="function"?p:g;var ce=N(g,3);try{var de=this.fd2file(c);q==null&&(q=de.getPos()),de.write(_,I,P,q,ce)}catch(ge){ce(ge)}},S.prototype.writeSync=function(c,u,l,h,p){var g,_,I,P=0;if(typeof u=="string"){I=typeof l=="number"?l:null;var q=typeof h=="string"?h:"utf8";P=0,_=(g=n.from(u,q)).length}else g=u,P=l,_=h,I=typeof p=="number"?p:null;var Q=this.fd2file(c);return I==null&&(I=Q.getPos()),Q.writeSync(g,P,_,I)},S.prototype.read=function(c,u,l,h,p,g){var _,I,P,q,Q;if(g===void 0&&(g=V),typeof u=="number"){P=u,_=l;var ce=h;g=typeof p=="function"?p:g,I=0,q=n.alloc(P),Q=N(function(ge,ve,Te){if(ge)return g(ge);g(ge,Te.toString(ce),ve)},3)}else q=u,I=l,P=h,_=p,Q=N(g,3);try{var de=this.fd2file(c);_==null&&(_=de.getPos()),de.read(q,I,P,_,Q)}catch(ge){Q(ge)}},S.prototype.readSync=function(c,u,l,h,p){var g,_,I,P,q=!1,Q="utf8";typeof u=="number"?(I=u,P=l,Q=h,_=0,g=n.alloc(I),q=!0):(g=u,_=l,I=h,P=p);var ce=this.fd2file(c);P==null&&(P=ce.getPos());var de=ce.readSync(g,_,I,P);return q?[g.toString(Q),de]:de},S.prototype.fchown=function(c,u,l,h){h===void 0&&(h=V);var p=N(h,1);try{this.fd2file(c).chown(u,l,p)}catch(g){p(g)}},S.prototype.fchownSync=function(c,u,l){this.fd2file(c).chownSync(u,l)},S.prototype.fchmod=function(c,u,l){var h=N(l,1);try{var p=typeof u=="string"?parseInt(u,8):u;this.fd2file(c).chmod(p,h)}catch(g){h(g)}},S.prototype.fchmodSync=function(c,u){var l=typeof u=="string"?parseInt(u,8):u;this.fd2file(c).chmodSync(l)},S.prototype.futimes=function(c,u,l,h){h===void 0&&(h=V);var p=N(h,1);try{var g=this.fd2file(c);typeof u=="number"&&(u=new Date(1e3*u)),typeof l=="number"&&(l=new Date(1e3*l)),g.utimes(u,l,p)}catch(_){p(_)}},S.prototype.futimesSync=function(c,u,l){this.fd2file(c).utimesSync(H(u),H(l))},S.prototype.rmdir=function(c,u){u===void 0&&(u=V);var l=N(u,1);try{c=Z(c),F(this.root).rmdir(c,l)}catch(h){l(h)}},S.prototype.rmdirSync=function(c){return c=Z(c),F(this.root).rmdirSync(c)},S.prototype.mkdir=function(c,u,l){l===void 0&&(l=V),typeof u=="function"&&(l=u,u=511);var h=N(l,1);try{c=Z(c),F(this.root).mkdir(c,u,h)}catch(p){h(p)}},S.prototype.mkdirSync=function(c,u){F(this.root).mkdirSync(Z(c),Y(u,511))},S.prototype.readdir=function(c,u){u===void 0&&(u=V);var l=N(u,2);try{c=Z(c),F(this.root).readdir(c,l)}catch(h){l(h)}},S.prototype.readdirSync=function(c){return c=Z(c),F(this.root).readdirSync(c)},S.prototype.link=function(c,u,l){l===void 0&&(l=V);var h=N(l,1);try{c=Z(c),u=Z(u),F(this.root).link(c,u,h)}catch(p){h(p)}},S.prototype.linkSync=function(c,u){return c=Z(c),u=Z(u),F(this.root).linkSync(c,u)},S.prototype.symlink=function(c,u,l,h){h===void 0&&(h=V);var p=typeof l=="string"?l:"file",g=N(h=typeof l=="function"?l:h,1);try{if(p!=="file"&&p!=="dir")return g(new y(a.EINVAL,"Invalid type: "+p));c=Z(c),u=Z(u),F(this.root).symlink(c,u,p,g)}catch(_){g(_)}},S.prototype.symlinkSync=function(c,u,l){if(l){if(l!=="file"&&l!=="dir")throw new y(a.EINVAL,"Invalid type: "+l)}else l="file";return c=Z(c),u=Z(u),F(this.root).symlinkSync(c,u,l)},S.prototype.readlink=function(c,u){u===void 0&&(u=V);var l=N(u,2);try{c=Z(c),F(this.root).readlink(c,l)}catch(h){l(h)}},S.prototype.readlinkSync=function(c){return c=Z(c),F(this.root).readlinkSync(c)},S.prototype.chown=function(c,u,l,h){h===void 0&&(h=V);var p=N(h,1);try{c=Z(c),F(this.root).chown(c,!1,u,l,p)}catch(g){p(g)}},S.prototype.chownSync=function(c,u,l){c=Z(c),F(this.root).chownSync(c,!1,u,l)},S.prototype.lchown=function(c,u,l,h){h===void 0&&(h=V);var p=N(h,1);try{c=Z(c),F(this.root).chown(c,!0,u,l,p)}catch(g){p(g)}},S.prototype.lchownSync=function(c,u,l){c=Z(c),F(this.root).chownSync(c,!0,u,l)},S.prototype.chmod=function(c,u,l){l===void 0&&(l=V);var h=N(l,1);try{var p=Y(u,-1);if(p<0)throw new y(a.EINVAL,"Invalid mode.");F(this.root).chmod(Z(c),!1,p,h)}catch(g){h(g)}},S.prototype.chmodSync=function(c,u){var l=Y(u,-1);if(l<0)throw new y(a.EINVAL,"Invalid mode.");c=Z(c),F(this.root).chmodSync(c,!1,l)},S.prototype.lchmod=function(c,u,l){l===void 0&&(l=V);var h=N(l,1);try{var p=Y(u,-1);if(p<0)throw new y(a.EINVAL,"Invalid mode.");F(this.root).chmod(Z(c),!0,p,h)}catch(g){h(g)}},S.prototype.lchmodSync=function(c,u){var l=Y(u,-1);if(l<1)throw new y(a.EINVAL,"Invalid mode.");F(this.root).chmodSync(Z(c),!0,l)},S.prototype.utimes=function(c,u,l,h){h===void 0&&(h=V);var p=N(h,1);try{F(this.root).utimes(Z(c),H(u),H(l),p)}catch(g){p(g)}},S.prototype.utimesSync=function(c,u,l){F(this.root).utimesSync(Z(c),H(u),H(l))},S.prototype.realpath=function(c,u,l){l===void 0&&(l=V);var h=typeof u=="object"?u:{},p=N(l=typeof u=="function"?u:V,2);try{c=Z(c),F(this.root).realpath(c,h,p)}catch(g){p(g)}},S.prototype.realpathSync=function(c,u){return u===void 0&&(u={}),c=Z(c),F(this.root).realpathSync(c,u)},S.prototype.watchFile=function(c,u,l){throw new y(a.ENOTSUP)},S.prototype.unwatchFile=function(c,u){throw new y(a.ENOTSUP)},S.prototype.watch=function(c,u,l){throw new y(a.ENOTSUP)},S.prototype.access=function(c,u,l){throw new y(a.ENOTSUP)},S.prototype.accessSync=function(c,u){throw new y(a.ENOTSUP)},S.prototype.createReadStream=function(c,u){throw new y(a.ENOTSUP)},S.prototype.createWriteStream=function(c,u){throw new y(a.ENOTSUP)},S.prototype.wrapCallbacks=function(c){N=c},S.prototype.getFdForFile=function(c){var u=this.nextFd++;return this.fdMap[u]=c,u},S.prototype.fd2file=function(c){var u=this.fdMap[c];if(u)return u;throw new y(a.EBADF,"Invalid file descriptor.")},S.prototype.closeFd=function(c){delete this.fdMap[c]},S.Stats=k;var W=new S,te={},X=S.prototype;function le(c,u,l,h,p){return c<u||l<u?c>l?l+1:c+1:h===p?u:u+1}function ae(c,u){if(c===u)return 0;if(c.length>u.length){var l=c;c=u,u=l}for(var h=c.length,p=u.length;h>0&&c.charCodeAt(h-1)===u.charCodeAt(p-1);)h--,p--;for(var g=0;g<h&&c.charCodeAt(g)===u.charCodeAt(g);)g++;if(p-=g,(h-=g)==0||p===1)return p;for(var _,I,P,q,Q,ce=new Array(h<<1),de=0;de<h;)ce[h+de]=c.charCodeAt(g+de),ce[de]=++de;for(_=0;_+3<p;)for(var ge=u.charCodeAt(g+(I=_)),ve=u.charCodeAt(g+(P=_+1)),Te=u.charCodeAt(g+(q=_+2)),Ue=u.charCodeAt(g+(Q=_+3)),Tt=_+=4,Zr=0;Zr<h;){var Tr=ce[h+Zr],xo=ce[Zr];I=le(xo,I,P,ge,Tr),P=le(I,P,q,ve,Tr),q=le(P,q,Q,Te,Tr),Tt=le(q,Q,Tt,Ue,Tr),ce[Zr++]=Tt,Q=q,q=P,P=I,I=xo}for(var hr=0;_<p;){var Kf=u.charCodeAt(g+(I=_));hr=++_;for(var Li=0;Li<h;Li++){var Mi=ce[Li];ce[Li]=hr=Mi<I||hr<I?Mi>hr?hr+1:Mi+1:Kf===ce[h+Li]?I:I+1,I=Mi}}return hr}function ye(c,u,l){c&&console.warn("["+u+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+u+".Create("+JSON.stringify(l)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}Object.keys(X).forEach(function(c){typeof W[c]=="function"?te[c]=function(){return W[c].apply(W,arguments)}:te[c]=W[c]}),te.changeFSModule=function(c){W=c},te.getFSModule=function(){return W},te.FS=S;var M=typeof navigator<"u"&&!(!/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&navigator.userAgent.indexOf("Trident")===-1),D=typeof window>"u";function ie(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function U(c,u,l){l.existsSync(c)||(U(d.dirname(c),u,l),l.mkdirSync(c,u))}function z(c){var u=G(c),l=u.byteOffset,h=u.byteLength;return l===0&&h===u.buffer.byteLength?u.buffer:u.buffer.slice(l,l+h)}function G(c){return c instanceof Uint8Array?c:new Uint8Array(c)}function ue(c){return c instanceof n?c:c instanceof Uint8Array?oe(c):n.from(c)}function oe(c){return c instanceof n?c:c.byteOffset===0&&c.byteLength===c.buffer.byteLength?ne(c.buffer):n.from(c.buffer,c.byteOffset,c.byteLength)}function ne(c){return n.from(c)}function se(c,u,l){if(u===void 0&&(u=0),l===void 0&&(l=c.length),u<0||l<0||l>c.length||u>l)throw new TypeError("Invalid slice bounds on buffer of length "+c.length+": ["+u+", "+l+"]");if(c.length===0)return Ee();var h=G(c),p=c[0],g=(p+1)%255;return c[0]=g,h[0]===g?(h[0]=p,oe(h.slice(u,l))):(c[0]=p,oe(h.subarray(u,l)))}var pe=null;function Ee(){return pe||(pe=n.alloc(0))}function Ie(c,u){n.isBuffer(c)?u():u(new y(a.EINVAL,"option must be a Buffer."))}function O(c,u,l){var h=c.Options,p=c.Name,g=0,_=!1,I=!1;function P(de){_||(de&&(_=!0,l(de)),--g==0&&I&&l())}var q=function(de){if(h.hasOwnProperty(de)){var ge=h[de],ve=u[de];if(ve==null){if(!ge.optional){var Te=Object.keys(u).filter(function(Ue){return!(Ue in h)}).map(function(Ue){return{str:Ue,distance:ae(de,Ue)}}).filter(function(Ue){return Ue.distance<5}).sort(function(Ue,Tt){return Ue.distance-Tt.distance});return _?{}:(_=!0,{v:l(new y(a.EINVAL,"["+p+"] Required option '"+de+"' not provided."+(Te.length>0?" You provided unrecognized option '"+Te[0].str+"'; perhaps you meant to type '"+de+"'.":"")+`
Option description: `+ge.description))})}}else{if(!(Array.isArray(ge.type)?ge.type.indexOf(typeof ve)!==-1:typeof ve===ge.type))return _?{}:(_=!0,{v:l(new y(a.EINVAL,"["+p+"] Value provided for option "+de+" is not the proper type. Expected "+(Array.isArray(ge.type)?"one of {"+ge.type.join(", ")+"}":ge.type)+", but received "+typeof ve+`
Option description: `+ge.description))});ge.validator&&(g++,ge.validator(ve,P))}}};for(var Q in h){var ce=q(Q);if(ce)return ce.v}I=!0,g!==0||_||l()}var R=Object.freeze({deprecationMessage:ye,isIE:M,isWebWorker:D,fail:ie,mkdirpSync:U,buffer2ArrayBuffer:z,buffer2Uint8array:G,arrayish2Buffer:ue,uint8Array2Buffer:oe,arrayBuffer2Buffer:ne,copyingSlice:se,emptyBuffer:Ee,bufferValidator:Ie,checkOptions:O}),j=function(c){this.fs=c,this.nodefs=c.getNodeFS(),this.FS=c.getFS(),this.PATH=c.getPATH(),this.ERRNO_CODES=c.getERRNO_CODES()};j.prototype.open=function(c){var u=this.fs.realPath(c.node),l=this.FS;try{l.isFile(c.node.mode)&&(c.nfd=this.nodefs.openSync(u,this.fs.flagsToPermissionString(c.flags)))}catch(h){throw h.code?new l.ErrnoError(this.ERRNO_CODES[h.code]):h}},j.prototype.close=function(c){var u=this.FS;try{u.isFile(c.node.mode)&&c.nfd&&this.nodefs.closeSync(c.nfd)}catch(l){throw l.code?new u.ErrnoError(this.ERRNO_CODES[l.code]):l}},j.prototype.read=function(c,u,l,h,p){try{return this.nodefs.readSync(c.nfd,oe(u),l,h,p)}catch(g){throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code])}},j.prototype.write=function(c,u,l,h,p){try{return this.nodefs.writeSync(c.nfd,oe(u),l,h,p)}catch(g){throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code])}},j.prototype.llseek=function(c,u,l){var h=u;if(l===1)h+=c.position;else if(l===2&&this.FS.isFile(c.node.mode))try{h+=this.nodefs.fstatSync(c.nfd).size}catch(p){throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(h<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return c.position=h,h};var $=function(c){this.fs=c,this.nodefs=c.getNodeFS(),this.FS=c.getFS(),this.PATH=c.getPATH(),this.ERRNO_CODES=c.getERRNO_CODES()};$.prototype.getattr=function(c){var u,l=this.fs.realPath(c);try{u=this.nodefs.lstatSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}return{dev:u.dev,ino:u.ino,mode:u.mode,nlink:u.nlink,uid:u.uid,gid:u.gid,rdev:u.rdev,size:u.size,atime:u.atime,mtime:u.mtime,ctime:u.ctime,blksize:u.blksize,blocks:u.blocks}},$.prototype.setattr=function(c,u){var l=this.fs.realPath(c);try{if(u.mode!==void 0&&(this.nodefs.chmodSync(l,u.mode),c.mode=u.mode),u.timestamp!==void 0){var h=new Date(u.timestamp);this.nodefs.utimesSync(l,h,h)}}catch(p){if(!p.code)throw p;if(p.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[p.code])}if(u.size!==void 0)try{this.nodefs.truncateSync(l,u.size)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},$.prototype.lookup=function(c,u){var l=this.PATH.join2(this.fs.realPath(c),u),h=this.fs.getMode(l);return this.fs.createNode(c,u,h)},$.prototype.mknod=function(c,u,l,h){var p=this.fs.createNode(c,u,l,h),g=this.fs.realPath(p);try{this.FS.isDir(p.mode)?this.nodefs.mkdirSync(g,p.mode):this.nodefs.writeFileSync(g,"",{mode:p.mode})}catch(_){throw _.code?new this.FS.ErrnoError(this.ERRNO_CODES[_.code]):_}return p},$.prototype.rename=function(c,u,l){var h=this.fs.realPath(c),p=this.PATH.join2(this.fs.realPath(u),l);try{this.nodefs.renameSync(h,p),c.name=l,c.parent=u}catch(g){throw g.code?new this.FS.ErrnoError(this.ERRNO_CODES[g.code]):g}},$.prototype.unlink=function(c,u){var l=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.unlinkSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.rmdir=function(c,u){var l=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.rmdirSync(l)}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.readdir=function(c){var u=this.fs.realPath(c);try{var l=this.nodefs.readdirSync(u);return l.push(".",".."),l}catch(h){throw h.code?new this.FS.ErrnoError(this.ERRNO_CODES[h.code]):h}},$.prototype.symlink=function(c,u,l){var h=this.PATH.join2(this.fs.realPath(c),u);try{this.nodefs.symlinkSync(l,h)}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}},$.prototype.readlink=function(c){var u=this.fs.realPath(c);try{return this.nodefs.readlinkSync(u)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}};var K=function(c,u,l,h){c===void 0&&(c=self.FS),u===void 0&&(u=self.PATH),l===void 0&&(l=self.ERRNO_CODES),h===void 0&&(h=te),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=h,this.FS=c,this.PATH=u,this.ERRNO_CODES=l,this.node_ops=new $(this),this.stream_ops=new j(this)};K.prototype.mount=function(c){return this.createNode(null,"/",this.getMode(c.opts.root),0)},K.prototype.createNode=function(c,u,l,h){var p=this.FS;if(!p.isDir(l)&&!p.isFile(l)&&!p.isLink(l))throw new p.ErrnoError(this.ERRNO_CODES.EINVAL);var g=p.createNode(c,u,l);return g.node_ops=this.node_ops,g.stream_ops=this.stream_ops,g},K.prototype.getMode=function(c){var u;try{u=this.nodefs.lstatSync(c)}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}return u.mode},K.prototype.realPath=function(c){for(var u=[];c.parent!==c;)u.push(c.name),c=c.parent;return u.push(c.mount.opts.root),u.reverse(),this.PATH.join.apply(null,u)},K.prototype.flagsToPermissionString=function(c){var u=typeof c=="string"?parseInt(c,10):c;return(u&=8191)in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[u]:c},K.prototype.getNodeFS=function(){return this.nodefs},K.prototype.getFS=function(){return this.FS},K.prototype.getPATH=function(){return this.PATH},K.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var J=function(){};J.prototype.supportsLinks=function(){return!1},J.prototype.diskSpace=function(c,u){u(0,0)},J.prototype.openFile=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.createFile=function(c,u,l,h){throw new y(a.ENOTSUP)},J.prototype.open=function(c,u,l,h){var p=this;this.stat(c,!1,function(g,_){if(g)switch(u.pathNotExistsAction()){case v.CREATE_FILE:return p.stat(d.dirname(c),!1,function(I,P){I?h(I):P&&!P.isDirectory()?h(y.ENOTDIR(d.dirname(c))):p.createFile(c,u,l,h)});case v.THROW_EXCEPTION:return h(y.ENOENT(c));default:return h(new y(a.EINVAL,"Invalid FileFlag object."))}else{if(_&&_.isDirectory())return h(y.EISDIR(c));switch(u.pathExistsAction()){case v.THROW_EXCEPTION:return h(y.EEXIST(c));case v.TRUNCATE_FILE:return p.openFile(c,u,function(I,P){I?h(I):P?P.truncate(0,function(){P.sync(function(){h(null,P)})}):ie()});case v.NOP:return p.openFile(c,u,h);default:return h(new y(a.EINVAL,"Invalid FileFlag object."))}}})},J.prototype.rename=function(c,u,l){l(new y(a.ENOTSUP))},J.prototype.renameSync=function(c,u){throw new y(a.ENOTSUP)},J.prototype.stat=function(c,u,l){l(new y(a.ENOTSUP))},J.prototype.statSync=function(c,u){throw new y(a.ENOTSUP)},J.prototype.openFileSync=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.createFileSync=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.openSync=function(c,u,l){var h;try{h=this.statSync(c,!1)}catch{switch(u.pathNotExistsAction()){case v.CREATE_FILE:if(!this.statSync(d.dirname(c),!1).isDirectory())throw y.ENOTDIR(d.dirname(c));return this.createFileSync(c,u,l);case v.THROW_EXCEPTION:throw y.ENOENT(c);default:throw new y(a.EINVAL,"Invalid FileFlag object.")}}if(h.isDirectory())throw y.EISDIR(c);switch(u.pathExistsAction()){case v.THROW_EXCEPTION:throw y.EEXIST(c);case v.TRUNCATE_FILE:return this.unlinkSync(c),this.createFileSync(c,u,h.mode);case v.NOP:return this.openFileSync(c,u,l);default:throw new y(a.EINVAL,"Invalid FileFlag object.")}},J.prototype.unlink=function(c,u){u(new y(a.ENOTSUP))},J.prototype.unlinkSync=function(c){throw new y(a.ENOTSUP)},J.prototype.rmdir=function(c,u){u(new y(a.ENOTSUP))},J.prototype.rmdirSync=function(c){throw new y(a.ENOTSUP)},J.prototype.mkdir=function(c,u,l){l(new y(a.ENOTSUP))},J.prototype.mkdirSync=function(c,u){throw new y(a.ENOTSUP)},J.prototype.readdir=function(c,u){u(new y(a.ENOTSUP))},J.prototype.readdirSync=function(c){throw new y(a.ENOTSUP)},J.prototype.exists=function(c,u){this.stat(c,null,function(l){u(!l)})},J.prototype.existsSync=function(c){try{return this.statSync(c,!0),!0}catch{return!1}},J.prototype.realpath=function(c,u,l){if(this.supportsLinks())for(var h=c.split(d.sep),p=0;p<h.length;p++){var g=h.slice(0,p+1);h[p]=d.join.apply(null,g)}else this.exists(c,function(_){_?l(null,c):l(y.ENOENT(c))})},J.prototype.realpathSync=function(c,u){if(this.supportsLinks()){for(var l=c.split(d.sep),h=0;h<l.length;h++){var p=l.slice(0,h+1);l[h]=d.join.apply(d,p)}return l.join(d.sep)}if(this.existsSync(c))return c;throw y.ENOENT(c)},J.prototype.truncate=function(c,u,l){this.open(c,A.getFileFlag("r+"),420,function(h,p){if(h)return l(h);p.truncate(u,function(g){p.close(function(_){l(g||_)})})})},J.prototype.truncateSync=function(c,u){var l=this.openSync(c,A.getFileFlag("r+"),420);try{l.truncateSync(u)}catch(h){throw h}finally{l.closeSync()}},J.prototype.readFile=function(c,u,l,h){var p=h;this.open(c,l,420,function(g,_){if(g)return h(g);h=function(I,P){_.close(function(q){return I||(I=q),p(I,P)})},_.stat(function(I,P){if(I)return h(I);var q=n.alloc(P.size);_.read(q,0,P.size,0,function(Q){if(Q)return h(Q);if(u===null)return h(Q,q);try{h(null,q.toString(u))}catch(ce){h(ce)}})})})},J.prototype.readFileSync=function(c,u,l){var h=this.openSync(c,l,420);try{var p=h.statSync(),g=n.alloc(p.size);return h.readSync(g,0,p.size,0),h.closeSync(),u===null?g:g.toString(u)}finally{h.closeSync()}},J.prototype.writeFile=function(c,u,l,h,p,g){var _=g;this.open(c,h,420,function(I,P){if(I)return g(I);g=function(q){P.close(function(Q){_(q||Q)})};try{typeof u=="string"&&(u=n.from(u,l))}catch(q){return g(q)}P.write(u,0,u.length,0,g)})},J.prototype.writeFileSync=function(c,u,l,h,p){var g=this.openSync(c,h,p);try{typeof u=="string"&&(u=n.from(u,l)),g.writeSync(u,0,u.length,0)}finally{g.closeSync()}},J.prototype.appendFile=function(c,u,l,h,p,g){var _=g;this.open(c,h,p,function(I,P){if(I)return g(I);g=function(q){P.close(function(Q){_(q||Q)})},typeof u=="string"&&(u=n.from(u,l)),P.write(u,0,u.length,null,g)})},J.prototype.appendFileSync=function(c,u,l,h,p){var g=this.openSync(c,h,p);try{typeof u=="string"&&(u=n.from(u,l)),g.writeSync(u,0,u.length,null)}finally{g.closeSync()}},J.prototype.chmod=function(c,u,l,h){h(new y(a.ENOTSUP))},J.prototype.chmodSync=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.chown=function(c,u,l,h,p){p(new y(a.ENOTSUP))},J.prototype.chownSync=function(c,u,l,h){throw new y(a.ENOTSUP)},J.prototype.utimes=function(c,u,l,h){h(new y(a.ENOTSUP))},J.prototype.utimesSync=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.link=function(c,u,l){l(new y(a.ENOTSUP))},J.prototype.linkSync=function(c,u){throw new y(a.ENOTSUP)},J.prototype.symlink=function(c,u,l,h){h(new y(a.ENOTSUP))},J.prototype.symlinkSync=function(c,u,l){throw new y(a.ENOTSUP)},J.prototype.readlink=function(c,u){u(new y(a.ENOTSUP))},J.prototype.readlinkSync=function(c){throw new y(a.ENOTSUP)};var _e=function(c){function u(){c.apply(this,arguments)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.supportsSynch=function(){return!0},u.prototype.rename=function(l,h,p){try{this.renameSync(l,h),p()}catch(g){p(g)}},u.prototype.stat=function(l,h,p){try{p(null,this.statSync(l,h))}catch(g){p(g)}},u.prototype.open=function(l,h,p,g){try{g(null,this.openSync(l,h,p))}catch(_){g(_)}},u.prototype.unlink=function(l,h){try{this.unlinkSync(l),h()}catch(p){h(p)}},u.prototype.rmdir=function(l,h){try{this.rmdirSync(l),h()}catch(p){h(p)}},u.prototype.mkdir=function(l,h,p){try{this.mkdirSync(l,h),p()}catch(g){p(g)}},u.prototype.readdir=function(l,h){try{h(null,this.readdirSync(l))}catch(p){h(p)}},u.prototype.chmod=function(l,h,p,g){try{this.chmodSync(l,h,p),g()}catch(_){g(_)}},u.prototype.chown=function(l,h,p,g,_){try{this.chownSync(l,h,p,g),_()}catch(I){_(I)}},u.prototype.utimes=function(l,h,p,g){try{this.utimesSync(l,h,p),g()}catch(_){g(_)}},u.prototype.link=function(l,h,p){try{this.linkSync(l,h),p()}catch(g){p(g)}},u.prototype.symlink=function(l,h,p,g){try{this.symlinkSync(l,h,p),g()}catch(_){g(_)}},u.prototype.readlink=function(l,h){try{h(null,this.readlinkSync(l))}catch(p){h(p)}},u}(J),C=function(){};C.prototype.sync=function(c){c(new y(a.ENOTSUP))},C.prototype.syncSync=function(){throw new y(a.ENOTSUP)},C.prototype.datasync=function(c){this.sync(c)},C.prototype.datasyncSync=function(){return this.syncSync()},C.prototype.chown=function(c,u,l){l(new y(a.ENOTSUP))},C.prototype.chownSync=function(c,u){throw new y(a.ENOTSUP)},C.prototype.chmod=function(c,u){u(new y(a.ENOTSUP))},C.prototype.chmodSync=function(c){throw new y(a.ENOTSUP)},C.prototype.utimes=function(c,u,l){l(new y(a.ENOTSUP))},C.prototype.utimesSync=function(c,u){throw new y(a.ENOTSUP)};var E=function(c){function u(l,h,p,g,_){if(c.call(this),this._pos=0,this._dirty=!1,this._fs=l,this._path=h,this._flag=p,this._stat=g,this._buffer=_||Ee(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getBuffer=function(){return this._buffer},u.prototype.getStats=function(){return this._stat},u.prototype.getFlag=function(){return this._flag},u.prototype.getPath=function(){return this._path},u.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},u.prototype.advancePos=function(l){return this._pos+=l},u.prototype.setPos=function(l){return this._pos=l},u.prototype.sync=function(l){try{this.syncSync(),l()}catch(h){l(h)}},u.prototype.syncSync=function(){throw new y(a.ENOTSUP)},u.prototype.close=function(l){try{this.closeSync(),l()}catch(h){l(h)}},u.prototype.closeSync=function(){throw new y(a.ENOTSUP)},u.prototype.stat=function(l){try{l(null,this._stat.clone())}catch(h){l(h)}},u.prototype.statSync=function(){return this._stat.clone()},u.prototype.truncate=function(l,h){try{this.truncateSync(l),this._flag.isSynchronous()&&!te.getRootFS().supportsSynch()&&this.sync(h),h()}catch(p){return h(p)}},u.prototype.truncateSync=function(l){if(this._dirty=!0,!this._flag.isWriteable())throw new y(a.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,l>this._buffer.length){var h=n.alloc(l-this._buffer.length,0);return this.writeSync(h,0,h.length,this._buffer.length),void(this._flag.isSynchronous()&&te.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=l;var p=n.alloc(l);this._buffer.copy(p,0,0,l),this._buffer=p,this._flag.isSynchronous()&&te.getRootFS().supportsSynch()&&this.syncSync()},u.prototype.write=function(l,h,p,g,_){try{_(null,this.writeSync(l,h,p,g),l)}catch(I){_(I)}},u.prototype.writeSync=function(l,h,p,g){if(this._dirty=!0,g==null&&(g=this.getPos()),!this._flag.isWriteable())throw new y(a.EPERM,"File not opened with a writeable mode.");var _=g+p;if(_>this._stat.size&&(this._stat.size=_,_>this._buffer.length)){var I=n.alloc(_);this._buffer.copy(I),this._buffer=I}var P=l.copy(this._buffer,g,h,h+p);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),P):(this.setPos(g+P),P)},u.prototype.read=function(l,h,p,g,_){try{_(null,this.readSync(l,h,p,g),l)}catch(I){_(I)}},u.prototype.readSync=function(l,h,p,g){if(!this._flag.isReadable())throw new y(a.EPERM,"File not opened with a readable mode.");g==null&&(g=this.getPos()),g+p>this._stat.size&&(p=this._stat.size-g);var _=this._buffer.copy(l,h,g,g+p);return this._stat.atime=new Date,this._pos=g+p,_},u.prototype.chmod=function(l,h){try{this.chmodSync(l),h()}catch(p){h(p)}},u.prototype.chmodSync=function(l){if(!this._fs.supportsProps())throw new y(a.ENOTSUP);this._dirty=!0,this._stat.chmod(l),this.syncSync()},u.prototype.isDirty=function(){return this._dirty},u.prototype.resetDirty=function(){this._dirty=!1},u}(C),T=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){l()},u.prototype.syncSync=function(){},u.prototype.close=function(l){l()},u.prototype.closeSync=function(){},u}(E),B=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(E),ee=function(c){function u(l,h,p){if(p===void 0&&(p=!0),c.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=l,this._async=h,!l.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");ye(p,u.Name,{sync:"sync file system instance",async:"async file system instance"})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{var p=new u(l.sync,l.async,!1);p.initialize(function(g){g?h(g):h(null,p)},!1)}catch(g){h(g)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){return u.Name},u.prototype._syncSync=function(l){this._sync.writeFileSync(l.getPath(),l.getBuffer(),null,A.getFileFlag("w"),l.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[l.getPath(),l.getBuffer(),null,l.getFlag(),l.getStats().mode]})},u.prototype.initialize=function(l,h){var p=this;h===void 0&&(h=!0),h&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var g=this._initializeCallbacks;if(this._isInitialized)l();else if(g.push(l)===1){var _=function(P,q,Q){P!=="/"&&p._sync.mkdirSync(P,q),p._async.readdir(P,function(ce,de){var ge=0;ce?Q(ce):function ve(Te){Te?Q(Te):ge<de.length?(I(d.join(P,de[ge]),ve),ge++):Q()}()})},I=function(P,q){p._async.stat(P,!1,function(Q,ce){Q?q(Q):ce.isDirectory()?_(P,ce.mode,q):function(de,ge,ve){p._async.readFile(de,null,A.getFileFlag("r"),function(Te,Ue){if(Te)ve(Te);else try{p._sync.writeFileSync(de,Ue,null,A.getFileFlag("w"),ge)}catch(Tt){Te=Tt}finally{ve(Te)}})}(P,ce.mode,q)})};_("/",0,function(P){p._isInitialized=!P,p._initializeCallbacks=[],g.forEach(function(q){return q(P)})})}},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},u.prototype.renameSync=function(l,h){this.checkInitialized(),this._sync.renameSync(l,h),this.enqueueOp({apiMethod:"rename",arguments:[l,h]})},u.prototype.statSync=function(l,h){return this.checkInitialized(),this._sync.statSync(l,h)},u.prototype.openSync=function(l,h,p){return this.checkInitialized(),this._sync.openSync(l,h,p).closeSync(),new B(this,l,h,this._sync.statSync(l,!1),this._sync.readFileSync(l,null,A.getFileFlag("r")))},u.prototype.unlinkSync=function(l){this.checkInitialized(),this._sync.unlinkSync(l),this.enqueueOp({apiMethod:"unlink",arguments:[l]})},u.prototype.rmdirSync=function(l){this.checkInitialized(),this._sync.rmdirSync(l),this.enqueueOp({apiMethod:"rmdir",arguments:[l]})},u.prototype.mkdirSync=function(l,h){this.checkInitialized(),this._sync.mkdirSync(l,h),this.enqueueOp({apiMethod:"mkdir",arguments:[l,h]})},u.prototype.readdirSync=function(l){return this.checkInitialized(),this._sync.readdirSync(l)},u.prototype.existsSync=function(l){return this.checkInitialized(),this._sync.existsSync(l)},u.prototype.chmodSync=function(l,h,p){this.checkInitialized(),this._sync.chmodSync(l,h,p),this.enqueueOp({apiMethod:"chmod",arguments:[l,h,p]})},u.prototype.chownSync=function(l,h,p,g){this.checkInitialized(),this._sync.chownSync(l,h,p,g),this.enqueueOp({apiMethod:"chown",arguments:[l,h,p,g]})},u.prototype.utimesSync=function(l,h,p){this.checkInitialized(),this._sync.utimesSync(l,h,p),this.enqueueOp({apiMethod:"utimes",arguments:[l,h,p]})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new y(a.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},u.prototype.enqueueOp=function(l){var h=this;if(this._queue.push(l),!this._queueRunning){this._queueRunning=!0;var p=function(g){if(g&&console.error("WARNING: File system has desynchronized. Received following error: "+g+`
$`),h._queue.length>0){var _=h._queue.shift(),I=_.arguments;I.push(p),h._async[_.apiMethod].apply(h._async,I)}else h._queueRunning=!1};p()}},u}(_e);function fe(c,u,l){switch(l.length){case 0:return c.call(u);case 1:return c.call(u,l[0]);case 2:return c.call(u,l[0],l[1]);case 3:return c.call(u,l[0],l[1],l[2])}return c.apply(u,l)}ee.Name="AsyncMirror",ee.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};var he=Math.max;function Ce(c){return c}function Re(c,u){return function(l,h,p){return h=he(h===void 0?l.length-1:h,0),function(){for(var g=arguments,_=-1,I=he(g.length-h,0),P=Array(I);++_<I;)P[_]=g[h+_];_=-1;for(var q=Array(h+1);++_<h;)q[_]=g[_];return q[h]=p(P),fe(l,this,q)}}(c,u,Ce)}var Je=function(c){return Re(function(u){var l=u.pop();c.call(this,u,l)})};function Dt(c){return Re(function(u,l){var h=Je(function(p,g){var _=this;return c(u,function(I,P){I.apply(_,p.concat(P))},g)});return l.length?h.apply(this,l):h})}var Qe=typeof i=="object"&&i&&i.Object===Object&&i,mo=typeof self=="object"&&self&&self.Object===Object&&self,Ts=Qe||mo||Function("return this")(),Ni=Ts.Symbol,wy=Object.prototype,Tb=wy.hasOwnProperty,Nb=wy.toString,Ns=Ni?Ni.toStringTag:void 0,Ib=Object.prototype.toString,_y=Ni?Ni.toStringTag:void 0;function Rf(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":_y&&_y in Object(c)?function(u){var l=Tb.call(u,Ns),h=u[Ns];try{u[Ns]=void 0;var p=!0}catch{}var g=Nb.call(u);return p&&(l?u[Ns]=h:delete u[Ns]),g}(c):function(u){return Ib.call(u)}(c)}function Sy(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}function Df(c){return c!=null&&Sy(c.length)&&!function(u){if(!function(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}(u))return!1;var l=Rf(u);return l=="[object Function]"||l=="[object GeneratorFunction]"||l=="[object AsyncFunction]"||l=="[object Proxy]"}(c)}var Ey={};function Is(){}function Ff(c){return function(){if(c!==null){var u=c;c=null,u.apply(this,arguments)}}}var Cf=typeof Symbol=="function"&&Symbol.iterator;function Pf(c){return c!=null&&typeof c=="object"}function by(c){return Pf(c)&&Rf(c)=="[object Arguments]"}var xy=Object.prototype,Ab=xy.hasOwnProperty,Rb=xy.propertyIsEnumerable,Db=by(function(){return arguments}())?by:function(c){return Pf(c)&&Ab.call(c,"callee")&&!Rb.call(c,"callee")},Fb=Array.isArray,Oy=typeof e=="object"&&e&&!e.nodeType&&e,ky=Oy&&typeof o=="object"&&o&&!o.nodeType&&o,Ty=ky&&ky.exports===Oy?Ts.Buffer:void 0,Cb=(Ty?Ty.isBuffer:void 0)||function(){return!1},Pb=/^(?:0|[1-9]\d*)$/;function Lb(c,u){return!!(u=u??9007199254740991)&&(typeof c=="number"||Pb.test(c))&&c>-1&&c%1==0&&c<u}var et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var Ny,Iy=typeof e=="object"&&e&&!e.nodeType&&e,Ay=Iy&&typeof o=="object"&&o&&!o.nodeType&&o,Lf=Ay&&Ay.exports===Iy&&Qe.process,Ry=function(){try{return Lf&&Lf.binding&&Lf.binding("util")}catch{}}(),Dy=Ry&&Ry.isTypedArray,Mb=Dy?(Ny=Dy,function(c){return Ny(c)}):function(c){return Pf(c)&&Sy(c.length)&&!!et[Rf(c)]},jb=Object.prototype.hasOwnProperty;function Bb(c,u){var l=Fb(c),h=!l&&Db(c),p=!l&&!h&&Cb(c),g=!l&&!h&&!p&&Mb(c),_=l||h||p||g,I=_?function(Q,ce){for(var de=-1,ge=Array(Q);++de<Q;)ge[de]=ce(de);return ge}(c.length,String):[],P=I.length;for(var q in c)!u&&!jb.call(c,q)||_&&(q=="length"||p&&(q=="offset"||q=="parent")||g&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||Lb(q,P))||I.push(q);return I}var Ub=Object.prototype,zb=function(c,u){return function(l){return c(u(l))}}(Object.keys,Object),Vb=Object.prototype.hasOwnProperty;function Wb(c){if(l=(u=c)&&u.constructor,u!==(typeof l=="function"&&l.prototype||Ub))return zb(c);var u,l,h=[];for(var p in Object(c))Vb.call(c,p)&&p!="constructor"&&h.push(p);return h}function qb(c){var u,l=Df(u=c)?Bb(u):Wb(u),h=-1,p=l.length;return function(){var g=l[++h];return h<p?{value:c[g],key:g}:null}}function $b(c){if(Df(c))return function(l){var h=-1,p=l.length;return function(){return++h<p?{value:l[h],key:h}:null}}(c);var u=function(l){return Cf&&l[Cf]&&l[Cf]()}(c);return u?function(l){var h=-1;return function(){var p=l.next();return p.done?null:(h++,{value:p.value,key:h})}}(u):qb(c)}function Fy(c){return function(){if(c===null)throw new Error("Callback was already called.");var u=c;c=null,u.apply(this,arguments)}}function Cy(c){return function(u,l,h){if(h=Ff(h||Is),c<=0||!u)return h(null);var p=$b(u),g=!1,_=0;function I(q,Q){if(_-=1,q)g=!0,h(q);else{if(Q===Ey||g&&_<=0)return g=!0,h(null);P()}}function P(){for(;_<c&&!g;){var q=p();if(q===null)return g=!0,void(_<=0&&h(null));_+=1,l(q.value,q.key,Fy(I))}}P()}}function Py(c,u,l,h){Cy(u)(c,l,h)}function Mf(c,u){return function(l,h,p){return c(l,u,h,p)}}function Hb(c,u,l){l=Ff(l||Is);var h=0,p=0,g=c.length;function _(I,P){I?l(I):++p!==g&&P!==Ey||l(null)}for(g===0&&l(null);h<g;h++)u(c[h],h,Fy(_))}var Ly,Gb=Mf(Py,1/0),My=function(c,u,l){(Df(c)?Hb:Gb)(c,u,l)};function jy(c,u,l,h){h=h||Is;var p=[],g=0;c(u=u||[],function(_,I,P){var q=g++;l(_,function(Q,ce){p[q]=ce,P(Q)})},function(_){h(_,p)})}Dt((Ly=jy,function(c,u,l){return Ly(My,c,u,l)}));var Jb=function(c){return function(u,l,h,p){return c(Cy(l),u,h,p)}}(jy);Dt(Mf(Jb,1)),Re(function(c,u){return Re(function(l){return c.apply(null,u.concat(l))})});var By=typeof setImmediate=="function"&&setImmediate,Uy=typeof s=="object"&&typeof s.nextTick=="function";function zy(c){setTimeout(c,0)}function Vy(c){return Re(function(u,l){c(function(){u.apply(null,l)})})}Vy(By?setImmediate:Uy?s.nextTick:zy);var br,Yb=Mf(Py,1),Kb=Re(function(c){return Re(function(u){var l,h,p,g,_=this,I=u[u.length-1];typeof I=="function"?u.pop():I=Is,l=c,h=u,p=function(P,q,Q){q.apply(_,P.concat(Re(function(ce,de){Q(ce,de)})))},g=Ff((g=function(P,q){I.apply(_,[P].concat(q))})||Is),Yb(l,function(P,q,Q){p(h,P,function(ce,de){h=de,Q(ce)})},function(P){g(P,h)})})});function Wy(c){return Re(function(u,l){u.apply(null,l.concat(Re(function(h,p){typeof console=="object"&&(h?console.error&&console.error(h):console[c]&&function(g,_){for(var I=-1,P=g==null?0:g.length;++I<P&&_(g[I],I,g)!==!1;);}(p,function(g){console[c](g)}))})))})}function qy(c,u,l){My(c,function(h){return function(p,g,_){return h(p,_)}}(u),l)}Re(function(c){return Kb.apply(null,c.reverse())}),Re(function(c){var u=[null].concat(c);return Je(function(l,h){return h.apply(this,u)})}),Wy("dir"),Wy("log"),Vy(Uy?s.nextTick:By?setImmediate:zy);var qt=function(c){this._cache={},this._client=c};qt.prototype.readdir=function(c,u){var l=this,h=this.getCachedDirInfo(c);this._wrap(function(p){h!==null&&h.contents?l._client.readdir(c,{contentHash:h.stat.contentHash},p):l._client.readdir(c,p)},function(p,g,_,I){p?p.status===Dropbox.ApiError.NO_CONTENT&&h!==null?u(null,h.contents.slice(0)):u(p):(l.updateCachedDirInfo(c,_,g.slice(0)),I.forEach(function(P){l.updateCachedInfo(d.join(c,P.name),P)}),u(null,g))})},qt.prototype.remove=function(c,u){var l=this;this._wrap(function(h){l._client.remove(c,h)},function(h,p){h||l.updateCachedInfo(c,p),u(h)})},qt.prototype.move=function(c,u,l){var h=this;this._wrap(function(p){h._client.move(c,u,p)},function(p,g){p||(h.deleteCachedInfo(c),h.updateCachedInfo(u,g)),l(p)})},qt.prototype.stat=function(c,u){var l=this;this._wrap(function(h){l._client.stat(c,h)},function(h,p){h||l.updateCachedInfo(c,p),u(h,p)})},qt.prototype.readFile=function(c,u){var l=this,h=this.getCachedFileInfo(c);h!==null&&h.contents!==null?this.stat(c,function(p,g){p?u(p):g.contentHash===h.stat.contentHash?u(p,h.contents.slice(0),h.stat):l.readFile(c,u)}):this._wrap(function(p){l._client.readFile(c,{arrayBuffer:!0},p)},function(p,g,_){p||l.updateCachedInfo(c,_,g.slice(0)),u(p,g,_)})},qt.prototype.writeFile=function(c,u,l){var h=this;this._wrap(function(p){h._client.writeFile(c,u,p)},function(p,g){p||h.updateCachedInfo(c,g,u.slice(0)),l(p,g)})},qt.prototype.mkdir=function(c,u){var l=this;this._wrap(function(h){l._client.mkdir(c,h)},function(h,p){h||l.updateCachedInfo(c,p,[]),u(h)})},qt.prototype._wrap=function(c,u){var l=0,h=function(p){var g=2;if(p&&3>++l)switch(p.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){c(h)},1e3*g);break;default:u.apply(null,arguments)}else u.apply(null,arguments)};c(h)},qt.prototype.getCachedInfo=function(c){return this._cache[c.toLowerCase()]},qt.prototype.putCachedInfo=function(c,u){this._cache[c.toLowerCase()]=u},qt.prototype.deleteCachedInfo=function(c){delete this._cache[c.toLowerCase()]},qt.prototype.getCachedDirInfo=function(c){var u,l=this.getCachedInfo(c);return(u=l)&&u.stat.isFolder?l:null},qt.prototype.getCachedFileInfo=function(c){var u,l=this.getCachedInfo(c);return(u=l)&&u.stat.isFile?l:null},qt.prototype.updateCachedDirInfo=function(c,u,l){l===void 0&&(l=null);var h=this.getCachedInfo(c);u.contentHash===null||h!==void 0&&h.stat.contentHash===u.contentHash||this.putCachedInfo(c,{stat:u,contents:l})},qt.prototype.updateCachedFileInfo=function(c,u,l){l===void 0&&(l=null);var h=this.getCachedInfo(c);u.versionTag===null||h!==void 0&&h.stat.versionTag===u.versionTag||this.putCachedInfo(c,{stat:u,contents:l})},qt.prototype.updateCachedInfo=function(c,u,l){var h;l===void 0&&(l=null),u.isFile&&((h=l)==null||typeof h=="object"&&typeof h.byteLength=="number")?this.updateCachedFileInfo(c,u,l):u.isFolder&&Array.isArray(l)&&this.updateCachedDirInfo(c,u,l)};var Zb=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;if(this.isDirty()){var p=z(this.getBuffer());this._fs._writeFileStrict(this.getPath(),p,function(g){g||h.resetDirty(),l(g)})}else l()},u.prototype.close=function(l){this.sync(l)},u}(E),gl=function(c){function u(l,h){h===void 0&&(h=!0),c.call(this),this._client=new qt(l),ye(h,u.Name,{client:"authenticated dropbox client instance"}),br||((br={})[Dropbox.ApiError.NETWORK_ERROR]=a.EIO,br[Dropbox.ApiError.INVALID_PARAM]=a.EINVAL,br[Dropbox.ApiError.INVALID_TOKEN]=a.EPERM,br[Dropbox.ApiError.OAUTH_ERROR]=a.EPERM,br[Dropbox.ApiError.NOT_FOUND]=a.ENOENT,br[Dropbox.ApiError.INVALID_METHOD]=a.EINVAL,br[Dropbox.ApiError.NOT_ACCEPTABLE]=a.EINVAL,br[Dropbox.ApiError.CONFLICT]=a.EINVAL,br[Dropbox.ApiError.RATE_LIMITED]=a.EBUSY,br[Dropbox.ApiError.SERVER_ERROR]=a.EBUSY,br[Dropbox.ApiError.OVER_QUOTA]=a.ENOSPC)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.client,!1))},u.isAvailable=function(){return typeof Dropbox<"u"},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(l){var h=this;this._client.readdir("/",function(p,g){p?l(h.convert(p,"/")):qy(g,function(_,I){var P=d.join("/",_);h._client.remove(P,function(q){I(q?h.convert(q,P):null)})},function(_){_?l(_):l()})})},u.prototype.rename=function(l,h,p){var g=this;this._client.move(l,h,function(_){_?g._client.stat(h,function(I,P){if(I||P.isFolder){var q=_.response.error.indexOf(l)>-1?l:h;p(g.convert(_,q))}else g._client.remove(h,function(Q){Q?p(g.convert(Q,h)):g.rename(l,h,p)})}):p()})},u.prototype.stat=function(l,h,p){var g=this;this._client.stat(l,function(_,I){if(_)p(g.convert(_,l));else{if(!I||!I.isRemoved){var P=new k(g._statType(I),I.size);return p(null,P)}p(y.FileError(a.ENOENT,l))}})},u.prototype.open=function(l,h,p,g){var _=this;this._client.readFile(l,function(I,P,q){if(!I){var Q;Q=P===null?Ee():ne(P);var ce=_._makeFile(l,h,q,Q);return g(null,ce)}if(!h.isReadable()){if(I.status===Dropbox.ApiError.NOT_FOUND){var de=new ArrayBuffer(0);return _._writeFileStrict(l,de,function(ge,ve){if(ge)g(ge);else{var Te=_._makeFile(l,h,ve,ne(de));g(null,Te)}})}return g(_.convert(I,l))}g(_.convert(I,l))})},u.prototype._writeFileStrict=function(l,h,p){var g=this,_=d.dirname(l);this.stat(_,!1,function(I,P){I?p(y.FileError(a.ENOENT,_)):g._client.writeFile(l,h,function(q,Q){q?p(g.convert(q,l)):p(null,Q)})})},u.prototype._statType=function(l){return l.isFile?b.FILE:b.DIRECTORY},u.prototype._makeFile=function(l,h,p,g){var _=this._statType(p),I=new k(_,p.size);return new Zb(this,l,h,I,g)},u.prototype._remove=function(l,h,p){var g=this;this._client.stat(l,function(_,I){_?h(g.convert(_,l)):I.isFile&&!p?h(y.FileError(a.ENOTDIR,l)):!I.isFile&&p?h(y.FileError(a.EISDIR,l)):g._client.remove(l,function(P){h(P?g.convert(P,l):null)})})},u.prototype.unlink=function(l,h){this._remove(l,h,!0)},u.prototype.rmdir=function(l,h){this._remove(l,h,!1)},u.prototype.mkdir=function(l,h,p){var g=this,_=d.dirname(l);this._client.stat(_,function(I,P){I?p(g.convert(I,_)):g._client.mkdir(l,function(q){p(q?y.FileError(a.EEXIST,l):null)})})},u.prototype.readdir=function(l,h){var p=this;this._client.readdir(l,function(g,_){return g?h(p.convert(g)):h(null,_)})},u.prototype.convert=function(l,h){h===void 0&&(h=null);var p=br[l.status];return p===void 0&&(p=a.EIO),h?y.FileError(p,h):new y(p)},u}(J);function ct(c,u){u===void 0&&(u="");for(var l=c.errno,h=c.node,p=[];h&&(p.unshift(h.name),h!==h.parent);)h=h.parent;return new y(l,m[l],p.length>0?"/"+p.join("/"):u)}gl.Name="Dropbox",gl.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(c,u){c.isAuthenticated&&c.isAuthenticated()?u():u(new y(a.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};var Xb=function(c){function u(l,h,p,g){c.call(this),this._fs=l,this._FS=h,this._path=p,this._stream=g}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getPos=function(){},u.prototype.close=function(l){var h=null;try{this.closeSync()}catch(p){h=p}finally{l(h)}},u.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(l){throw ct(l,this._path)}},u.prototype.stat=function(l){try{l(null,this.statSync())}catch(h){l(h)}},u.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(l){throw ct(l,this._path)}},u.prototype.truncate=function(l,h){var p=null;try{this.truncateSync(l)}catch(g){p=g}finally{h(p)}},u.prototype.truncateSync=function(l){try{this._FS.ftruncate(this._stream.fd,l)}catch(h){throw ct(h,this._path)}},u.prototype.write=function(l,h,p,g,_){try{_(null,this.writeSync(l,h,p,g),l)}catch(I){_(I)}},u.prototype.writeSync=function(l,h,p,g){try{var _=G(l),I=g===null?void 0:g;return this._FS.write(this._stream,_,h,p,I)}catch(P){throw ct(P,this._path)}},u.prototype.read=function(l,h,p,g,_){try{_(null,this.readSync(l,h,p,g),l)}catch(I){_(I)}},u.prototype.readSync=function(l,h,p,g){try{var _=G(l),I=g===null?void 0:g;return this._FS.read(this._stream,_,h,p,I)}catch(P){throw ct(P,this._path)}},u.prototype.sync=function(l){l()},u.prototype.syncSync=function(){},u.prototype.chown=function(l,h,p){var g=null;try{this.chownSync(l,h)}catch(_){g=_}finally{p(g)}},u.prototype.chownSync=function(l,h){try{this._FS.fchown(this._stream.fd,l,h)}catch(p){throw ct(p,this._path)}},u.prototype.chmod=function(l,h){var p=null;try{this.chmodSync(l)}catch(g){p=g}finally{h(p)}},u.prototype.chmodSync=function(l){try{this._FS.fchmod(this._stream.fd,l)}catch(h){throw ct(h,this._path)}},u.prototype.utimes=function(l,h,p){var g=null;try{this.utimesSync(l,h)}catch(_){g=_}finally{p(g)}},u.prototype.utimesSync=function(l,h){this._fs.utimesSync(this._path,l,h)},u}(C),vl=function(c){function u(l){c.call(this),this._FS=l}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.FS))},u.isAvailable=function(){return!0},u.prototype.getName=function(){return this._FS.DB_NAME()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!0},u.prototype.supportsProps=function(){return!0},u.prototype.supportsSynch=function(){return!0},u.prototype.renameSync=function(l,h){try{this._FS.rename(l,h)}catch(p){throw p.errno===a.ENOENT?ct(p,this.existsSync(l)?h:l):ct(p)}},u.prototype.statSync=function(l,h){try{var p=h?this._FS.lstat(l):this._FS.stat(l),g=this.modeToFileType(p.mode);return new k(g,p.size,p.mode,p.atime,p.mtime,p.ctime)}catch(_){throw ct(_,l)}},u.prototype.openSync=function(l,h,p){try{var g=this._FS.open(l,h.getFlagString(),p);if(this._FS.isDir(g.node.mode))throw this._FS.close(g),y.EISDIR(l);return new Xb(this,this._FS,l,g)}catch(_){throw ct(_,l)}},u.prototype.unlinkSync=function(l){try{this._FS.unlink(l)}catch(h){throw ct(h,l)}},u.prototype.rmdirSync=function(l){try{this._FS.rmdir(l)}catch(h){throw ct(h,l)}},u.prototype.mkdirSync=function(l,h){try{this._FS.mkdir(l,h)}catch(p){throw ct(p,l)}},u.prototype.readdirSync=function(l){try{return this._FS.readdir(l).filter(function(h){return h!=="."&&h!==".."})}catch(h){throw ct(h,l)}},u.prototype.truncateSync=function(l,h){try{this._FS.truncate(l,h)}catch(p){throw ct(p,l)}},u.prototype.readFileSync=function(l,h,p){try{var g=oe(this._FS.readFile(l,{flags:p.getFlagString()}));return h?g.toString(h):g}catch(_){throw ct(_,l)}},u.prototype.writeFileSync=function(l,h,p,g,_){try{p&&(h=n.from(h,p));var I=G(h);this._FS.writeFile(l,I,{flags:g.getFlagString(),encoding:"binary"}),this._FS.chmod(l,_)}catch(P){throw ct(P,l)}},u.prototype.chmodSync=function(l,h,p){try{h?this._FS.lchmod(l,p):this._FS.chmod(l,p)}catch(g){throw ct(g,l)}},u.prototype.chownSync=function(l,h,p,g){try{h?this._FS.lchown(l,p,g):this._FS.chown(l,p,g)}catch(_){throw ct(_,l)}},u.prototype.symlinkSync=function(l,h,p){try{this._FS.symlink(l,h)}catch(g){throw ct(g)}},u.prototype.readlinkSync=function(l){try{return this._FS.readlink(l)}catch(h){throw ct(h,l)}},u.prototype.utimesSync=function(l,h,p){try{this._FS.utime(l,h.getTime(),p.getTime())}catch(g){throw ct(g,l)}},u.prototype.modeToFileType=function(l){if(this._FS.isDir(l))return b.DIRECTORY;if(this._FS.isFile(l))return b.FILE;if(this._FS.isLink(l))return b.SYMLINK;throw y.EPERM("Invalid mode: "+l)},u}(_e);vl.Name="EmscriptenFileSystem",vl.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var go=function(c){function u(l,h){c.call(this),this._folder=l,this._wrapped=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u(l.folder,l.wrapped))},u.isAvailable=function(){return!0},u.prototype.initialize=function(l){var h=this;this._wrapped.exists(this._folder,function(p){p?l():h._wrapped.isReadOnly()?l(y.ENOENT(h._folder)):h._wrapped.mkdir(h._folder,511,l)})},u.prototype.getName=function(){return this._wrapped.getName()},u.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},u.prototype.supportsProps=function(){return this._wrapped.supportsProps()},u.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u}(J);function $y(c,u){if(u!==null&&typeof u=="object"){var l=u,h=l.path;h&&(h="/"+d.relative(c,h),l.message=l.message.replace(l.path,h),l.path=h)}return u}function Qb(c,u){return typeof u=="function"?function(l){arguments.length>0&&(arguments[0]=$y(c,l)),u.apply(null,arguments)}:u}function Hy(c,u,l){return c.slice(c.length-4)!=="Sync"?function(){return arguments.length>0&&(u&&(arguments[0]=d.join(this._folder,arguments[0])),l&&(arguments[1]=d.join(this._folder,arguments[1])),arguments[arguments.length-1]=Qb(this._folder,arguments[arguments.length-1])),this._wrapped[c].apply(this._wrapped,arguments)}:function(){try{return u&&(arguments[0]=d.join(this._folder,arguments[0])),l&&(arguments[1]=d.join(this._folder,arguments[1])),this._wrapped[c].apply(this._wrapped,arguments)}catch(h){throw $y(this._folder,h)}}}go.Name="FolderAdapter",go.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}},["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(c){go.prototype[c]=Hy(c,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(c){go.prototype[c]=Hy(c,!0,!0)});var Ot=typeof window<"u"?window:typeof self<"u"?self:i,jf=Ot.webkitRequestFileSystem||Ot.requestFileSystem||null;function hn(c,u,l){switch(c.name){case"PathExistsError":return y.EEXIST(u);case"QuotaExceededError":return y.FileError(a.ENOSPC,u);case"NotFoundError":return y.ENOENT(u);case"SecurityError":return y.FileError(a.EACCES,u);case"InvalidModificationError":return y.FileError(a.EPERM,u);case"TypeMismatchError":return y.FileError(l?a.ENOTDIR:a.EISDIR,u);default:return y.FileError(a.EINVAL,u)}}var e3=function(c){function u(l,h,p,g,_,I){c.call(this,l,p,g,_,I),this._entry=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;if(!this.isDirty())return l();this._entry.createWriter(function(p){var g=h.getBuffer(),_=new Blob([z(g)]),I=_.size;p.onwriteend=function(P){p.onwriteend=null,p.onerror=null,p.truncate(I),h.resetDirty(),l()},p.onerror=function(P){l(hn(P,h.getPath(),!1))},p.write(_)})},u.prototype.close=function(l){this.sync(l)},u}(E),wl=function(c){function u(l,h,p){l===void 0&&(l=5),h===void 0&&(h=Ot.PERSISTENT),p===void 0&&(p=!0),c.call(this),this.size=1048576*l,this.type=h,ye(p,u.Name,{size:l,type:h})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u(l.size,l.type,!1);p.allocate(function(g){return g?h(g):h(null,p)},!1)},u.isAvailable=function(){return!!jf},u.prototype.getName=function(){return u.Name},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.allocate=function(l,h){var p=this;l===void 0&&(l=function(){}),h===void 0&&(h=!0),h&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var g=function(I){p.fs=I,l()},_=function(I){l(hn(I,"/",!0))};this.type===Ot.PERSISTENT?function(I,P,q,Q){if(navigator.webkitPersistentStorage!==void 0)switch(I){case Ot.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(P,q,Q);break;case Ot.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(P,q,Q);break;default:Q(new TypeError("Invalid storage type: "+I))}else Ot.webkitStorageInfo.requestQuota(I,P,q,Q)}(this.type,this.size,function(I){jf(p.type,I,g,_)},_):jf(this.type,this.size,g,_)},u.prototype.empty=function(l){this._readdir("/",function(h,p){h?(console.error("Failed to empty FS"),l(h)):qy(p,function(g,_){var I=function(){_()},P=function(q){_(hn(q,g.fullPath,!g.isDirectory))};(function(q){return q.isDirectory})(g)?g.removeRecursively(I,P):g.remove(I,P)},function(g){h?(console.error("Failed to empty FS"),l(h)):l()})})},u.prototype.rename=function(l,h,p){var g=this,_=2,I=0,P=this.fs.root,q=l,Q=function(de){--_<=0&&p(hn(de,q,!1))},ce=function(de){return++I==2?p(new y(a.EINVAL,"Something was identified as both a file and a directory. This should never happen.")):l===h?p():(q=d.dirname(h),void P.getDirectory(q,{},function(ge){q=d.basename(h),de.moveTo(ge,q,function(ve){p()},function(ve){de.isDirectory?(q=h,g.unlink(h,function(Te){Te?Q(ve):g.rename(l,h,p)})):Q(ve)})},Q))};P.getFile(l,{},ce,Q),P.getDirectory(l,{},ce,Q)},u.prototype.stat=function(l,h,p){var g=this,_={create:!1},I=function(q){var Q=new k(b.DIRECTORY,4096);p(null,Q)},P=function(q){p(hn(q,l,!1))};this.fs.root.getFile(l,_,function(q){q.file(function(Q){var ce=new k(b.FILE,Q.size);p(null,ce)},P)},function(){g.fs.root.getDirectory(l,_,I,P)})},u.prototype.open=function(l,h,p,g){var _=this,I=function(P){P.name==="InvalidModificationError"&&h.isExclusive()?g(y.EEXIST(l)):g(hn(P,l,!1))};this.fs.root.getFile(l,{create:h.pathNotExistsAction()===v.CREATE_FILE,exclusive:h.isExclusive()},function(P){P.file(function(q){var Q=new FileReader;Q.onloadend=function(ce){var de=_._makeFile(l,P,h,q,Q.result);g(null,de)},Q.onerror=function(ce){I(Q.error)},Q.readAsArrayBuffer(q)},I)},I)},u.prototype.unlink=function(l,h){this._remove(l,h,!0)},u.prototype.rmdir=function(l,h){var p=this;this.readdir(l,function(g,_){g?h(g):_.length>0?h(y.ENOTEMPTY(l)):p._remove(l,h,!1)})},u.prototype.mkdir=function(l,h,p){this.fs.root.getDirectory(l,{create:!0,exclusive:!0},function(g){p()},function(g){p(hn(g,l,!0))})},u.prototype.readdir=function(l,h){this._readdir(l,function(p,g){if(!g)return h(p);for(var _=[],I=0,P=g;I<P.length;I+=1){var q=P[I];_.push(q.name)}h(null,_)})},u.prototype._makeFile=function(l,h,p,g,_){_===void 0&&(_=new ArrayBuffer(0));var I=new k(b.FILE,g.size),P=ne(_);return new e3(this,h,l,p,I,P)},u.prototype._readdir=function(l,h){var p=function(g){h(hn(g,l,!0))};this.fs.root.getDirectory(l,{create:!1},function(g){var _=g.createReader(),I=[],P=function(){_.readEntries(function(q){q.length?(I=I.concat(function(Q){return Array.prototype.slice.call(Q||[],0)}(q)),P()):h(null,I)},p)};P()},p)},u.prototype._remove=function(l,h,p){var g=function(P){P.remove(function(){h()},function(q){h(hn(q,l,!p))})},_=function(P){h(hn(P,l,!p))},I={create:!1};p?this.fs.root.getFile(l,I,g,_):this.fs.root.getDirectory(l,I,g,_)},u}(J);wl.Name="HTML5FS",wl.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var ur=function(c,u,l,h,p,g){this.id=c,this.size=u,this.mode=l,this.atime=h,this.mtime=p,this.ctime=g};ur.fromBuffer=function(c){if(c===void 0)throw new Error("NO");return new ur(c.toString("ascii",30),c.readUInt32LE(0),c.readUInt16LE(4),c.readDoubleLE(6),c.readDoubleLE(14),c.readDoubleLE(22))},ur.prototype.toStats=function(){return new k((61440&this.mode)===b.DIRECTORY?b.DIRECTORY:b.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},ur.prototype.getSize=function(){return 30+this.id.length},ur.prototype.toBuffer=function(c){return c===void 0&&(c=n.alloc(this.getSize())),c.writeUInt32LE(this.size,0),c.writeUInt16LE(this.mode,4),c.writeDoubleLE(this.atime,6),c.writeDoubleLE(this.mtime,14),c.writeDoubleLE(this.ctime,22),c.write(this.id,30,this.id.length,"ascii"),c},ur.prototype.update=function(c){var u=!1;this.size!==c.size&&(this.size=c.size,u=!0),this.mode!==c.mode&&(this.mode=c.mode,u=!0);var l=c.atime.getTime();this.atime!==l&&(this.atime=l,u=!0);var h=c.mtime.getTime();this.mtime!==h&&(this.mtime=h,u=!0);var p=c.ctime.getTime();return this.ctime!==p&&(this.ctime=p,u=!0),u},ur.prototype.isFile=function(){return(61440&this.mode)===b.FILE},ur.prototype.isDirectory=function(){return(61440&this.mode)===b.DIRECTORY};var Vn="/",Gy=null;function Jy(){return Gy||(Gy=n.from("{}"))}function _l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var u=16*Math.random()|0;return(c==="x"?u:3&u|8).toString(16)})}function xr(c,u){return!c||(u(c),!1)}function Rt(c,u,l){return!c||(u.abort(function(){l(c)}),!1)}var kn=function(c){this.store=c,this.originalData={},this.modifiedKeys=[]};kn.prototype.get=function(c){var u=this.store.get(c);return this.stashOldValue(c,u),u},kn.prototype.put=function(c,u,l){return this.markModified(c),this.store.put(c,u,l)},kn.prototype.del=function(c){this.markModified(c),this.store.del(c)},kn.prototype.commit=function(){},kn.prototype.abort=function(){for(var c=this,u=0,l=c.modifiedKeys;u<l.length;u+=1){var h=l[u],p=c.originalData[h];p?c.store.put(h,p,!0):c.store.del(h)}},kn.prototype.stashOldValue=function(c,u){this.originalData.hasOwnProperty(c)||(this.originalData[c]=u)},kn.prototype.markModified=function(c){this.modifiedKeys.indexOf(c)===-1&&(this.modifiedKeys.push(c),this.originalData.hasOwnProperty(c)||(this.originalData[c]=this.store.get(c)))};var Yy=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},u.prototype.closeSync=function(){this.syncSync()},u}(E),Ky=function(c){function u(l){c.call(this),this.store=l.store,this.makeRootDirectory()}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},u.prototype.renameSync=function(l,h){var p=this.store.beginTransaction("readwrite"),g=d.dirname(l),_=d.basename(l),I=d.dirname(h),P=d.basename(h),q=this.findINode(p,g),Q=this.getDirListing(p,g,q);if(!Q[_])throw y.ENOENT(l);var ce,de,ge=Q[_];if(delete Q[_],(I+"/").indexOf(l+"/")===0)throw new y(a.EBUSY,g);if(I===g?(ce=q,de=Q):(ce=this.findINode(p,I),de=this.getDirListing(p,I,ce)),de[P]){var ve=this.getINode(p,h,de[P]);if(!ve.isFile())throw y.EPERM(h);try{p.del(ve.id),p.del(de[P])}catch(Te){throw p.abort(),Te}}de[P]=ge;try{p.put(q.id,n.from(JSON.stringify(Q)),!0),p.put(ce.id,n.from(JSON.stringify(de)),!0)}catch(Te){throw p.abort(),Te}p.commit()},u.prototype.statSync=function(l,h){return this.findINode(this.store.beginTransaction("readonly"),l).toStats()},u.prototype.createFileSync=function(l,h,p){var g=this.store.beginTransaction("readwrite"),_=Ee(),I=this.commitNewFile(g,l,b.FILE,p,_);return new Yy(this,l,h,I.toStats(),_)},u.prototype.openFileSync=function(l,h){var p=this.store.beginTransaction("readonly"),g=this.findINode(p,l),_=p.get(g.id);if(_===void 0)throw y.ENOENT(l);return new Yy(this,l,h,g.toStats(),_)},u.prototype.unlinkSync=function(l){this.removeEntry(l,!1)},u.prototype.rmdirSync=function(l){if(this.readdirSync(l).length>0)throw y.ENOTEMPTY(l);this.removeEntry(l,!0)},u.prototype.mkdirSync=function(l,h){var p=this.store.beginTransaction("readwrite"),g=n.from("{}");this.commitNewFile(p,l,b.DIRECTORY,h,g)},u.prototype.readdirSync=function(l){var h=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(h,l,this.findINode(h,l)))},u.prototype._syncSync=function(l,h,p){var g=this.store.beginTransaction("readwrite"),_=this._findINode(g,d.dirname(l),d.basename(l)),I=this.getINode(g,l,_),P=I.update(p);try{g.put(I.id,h,!0),P&&g.put(_,I.toBuffer(),!0)}catch(q){throw g.abort(),q}g.commit()},u.prototype.makeRootDirectory=function(){var l=this.store.beginTransaction("readwrite");if(l.get(Vn)===void 0){var h=new Date().getTime(),p=new ur(_l(),4096,511|b.DIRECTORY,h,h,h);l.put(p.id,Jy(),!1),l.put(Vn,p.toBuffer(),!1),l.commit()}},u.prototype._findINode=function(l,h,p){var g=this,_=function(I){var P=g.getDirListing(l,h,I);if(P[p])return P[p];throw y.ENOENT(d.resolve(h,p))};return h==="/"?p===""?Vn:_(this.getINode(l,h,Vn)):_(this.getINode(l,h+d.sep+p,this._findINode(l,d.dirname(h),d.basename(h))))},u.prototype.findINode=function(l,h){return this.getINode(l,h,this._findINode(l,d.dirname(h),d.basename(h)))},u.prototype.getINode=function(l,h,p){var g=l.get(p);if(g===void 0)throw y.ENOENT(h);return ur.fromBuffer(g)},u.prototype.getDirListing=function(l,h,p){if(!p.isDirectory())throw y.ENOTDIR(h);var g=l.get(p.id);if(g===void 0)throw y.ENOENT(h);return JSON.parse(g.toString())},u.prototype.addNewNode=function(l,h){for(var p;;)try{return p=_l(),l.put(p,h,!1),p}catch{}throw new y(a.EIO,"Unable to commit data to key-value store.")},u.prototype.commitNewFile=function(l,h,p,g,_){var I,P=d.dirname(h),q=d.basename(h),Q=this.findINode(l,P),ce=this.getDirListing(l,P,Q),de=new Date().getTime();if(h==="/"||ce[q])throw y.EEXIST(h);try{var ge=this.addNewNode(l,_);I=new ur(ge,_.length,g|p,de,de,de);var ve=this.addNewNode(l,I.toBuffer());ce[q]=ve,l.put(Q.id,n.from(JSON.stringify(ce)),!0)}catch(Te){throw l.abort(),Te}return l.commit(),I},u.prototype.removeEntry=function(l,h){var p=this.store.beginTransaction("readwrite"),g=d.dirname(l),_=this.findINode(p,g),I=this.getDirListing(p,g,_),P=d.basename(l);if(!I[P])throw y.ENOENT(l);var q=I[P];delete I[P];var Q=this.getINode(p,l,q);if(!h&&Q.isDirectory())throw y.EISDIR(l);if(h&&!Q.isDirectory())throw y.ENOTDIR(l);try{p.del(Q.id),p.del(q),p.put(_.id,n.from(JSON.stringify(I)),!0)}catch(ce){throw p.abort(),ce}p.commit()},u}(_e),Zy=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(p){p||h.resetDirty(),l(p)}):l()},u.prototype.close=function(l){this.sync(l)},u}(E),t3=function(c){function u(){c.apply(this,arguments)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.init=function(l,h){this.store=l,this.makeRootDirectory(h)},u.prototype.getName=function(){return this.store.name()},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSymlinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!1},u.prototype.empty=function(l){var h=this;this.store.clear(function(p){xr(p,l)&&h.makeRootDirectory(l)})},u.prototype.rename=function(l,h,p){var g=this,_=this.store.beginTransaction("readwrite"),I=d.dirname(l),P=d.basename(l),q=d.dirname(h),Q=d.basename(h),ce={},de={},ge=!1;if((q+"/").indexOf(l+"/")===0)return p(new y(a.EBUSY,I));var ve=function(Te){g.findINodeAndDirListing(_,Te,function(Ue,Tt,Zr){Ue?ge||(ge=!0,_.abort(function(){p(Ue)})):(ce[Te]=Tt,de[Te]=Zr,function(){if(!ge&&de.hasOwnProperty(I)&&de.hasOwnProperty(q)){var Tr=de[I],xo=ce[I],hr=de[q],Kf=ce[q];if(Tr[P]){var Li=Tr[P];delete Tr[P];var Mi=function(){hr[Q]=Li,_.put(xo.id,n.from(JSON.stringify(Tr)),!0,function(Zf){Rt(Zf,_,p)&&(I===q?_.commit(p):_.put(Kf.id,n.from(JSON.stringify(hr)),!0,function(Al){Rt(Al,_,p)&&_.commit(p)}))})};hr[Q]?g.getINode(_,h,hr[Q],function(Zf,Al){Rt(Zf,_,p)&&(Al.isFile()?_.del(Al.id,function(Bm){Rt(Bm,_,p)&&_.del(hr[Q],function(y3){Rt(y3,_,p)&&Mi()})}):_.abort(function(Bm){p(y.EPERM(h))}))}):Mi()}else p(y.ENOENT(l))}}())})};ve(I),I!==q&&ve(q)},u.prototype.stat=function(l,h,p){var g=this.store.beginTransaction("readonly");this.findINode(g,l,function(_,I){xr(_,p)&&p(null,I.toStats())})},u.prototype.createFile=function(l,h,p,g){var _=this,I=this.store.beginTransaction("readwrite"),P=Ee();this.commitNewFile(I,l,b.FILE,p,P,function(q,Q){xr(q,g)&&g(null,new Zy(_,l,h,Q.toStats(),P))})},u.prototype.openFile=function(l,h,p){var g=this,_=this.store.beginTransaction("readonly");this.findINode(_,l,function(I,P){xr(I,p)&&_.get(P.id,function(q,Q){xr(q,p)&&(Q===void 0?p(y.ENOENT(l)):p(null,new Zy(g,l,h,P.toStats(),Q)))})})},u.prototype.unlink=function(l,h){this.removeEntry(l,!1,h)},u.prototype.rmdir=function(l,h){var p=this;this.readdir(l,function(g,_){g?h(g):_.length>0?h(y.ENOTEMPTY(l)):p.removeEntry(l,!0,h)})},u.prototype.mkdir=function(l,h,p){var g=this.store.beginTransaction("readwrite"),_=n.from("{}");this.commitNewFile(g,l,b.DIRECTORY,h,_,p)},u.prototype.readdir=function(l,h){var p=this,g=this.store.beginTransaction("readonly");this.findINode(g,l,function(_,I){xr(_,h)&&p.getDirListing(g,l,I,function(P,q){xr(P,h)&&h(null,Object.keys(q))})})},u.prototype._sync=function(l,h,p,g){var _=this,I=this.store.beginTransaction("readwrite");this._findINode(I,d.dirname(l),d.basename(l),function(P,q){Rt(P,I,g)&&_.getINode(I,l,q,function(Q,ce){if(Rt(Q,I,g)){var de=ce.update(p);I.put(ce.id,h,!0,function(ge){Rt(ge,I,g)&&(de?I.put(q,ce.toBuffer(),!0,function(ve){Rt(ve,I,g)&&I.commit(g)}):I.commit(g))})}})})},u.prototype.makeRootDirectory=function(l){var h=this.store.beginTransaction("readwrite");h.get(Vn,function(p,g){if(p||g===void 0){var _=new Date().getTime(),I=new ur(_l(),4096,511|b.DIRECTORY,_,_,_);h.put(I.id,Jy(),!1,function(P){Rt(P,h,l)&&h.put(Vn,I.toBuffer(),!1,function(q){q?h.abort(function(){l(q)}):h.commit(l)})})}else h.commit(l)})},u.prototype._findINode=function(l,h,p,g){var _=this,I=function(P,q,Q){P?g(P):Q[p]?g(null,Q[p]):g(y.ENOENT(d.resolve(h,p)))};h==="/"?p===""?g(null,Vn):this.getINode(l,h,Vn,function(P,q){xr(P,g)&&_.getDirListing(l,h,q,function(Q,ce){I(Q,0,ce)})}):this.findINodeAndDirListing(l,h,I)},u.prototype.findINode=function(l,h,p){var g=this;this._findINode(l,d.dirname(h),d.basename(h),function(_,I){xr(_,p)&&g.getINode(l,h,I,p)})},u.prototype.getINode=function(l,h,p,g){l.get(p,function(_,I){xr(_,g)&&(I===void 0?g(y.ENOENT(h)):g(null,ur.fromBuffer(I)))})},u.prototype.getDirListing=function(l,h,p,g){p.isDirectory()?l.get(p.id,function(_,I){if(xr(_,g))try{g(null,JSON.parse(I.toString()))}catch{g(y.ENOENT(h))}}):g(y.ENOTDIR(h))},u.prototype.findINodeAndDirListing=function(l,h,p){var g=this;this.findINode(l,h,function(_,I){xr(_,p)&&g.getDirListing(l,h,I,function(P,q){xr(P,p)&&p(null,I,q)})})},u.prototype.addNewNode=function(l,h,p){var g,_=0,I=function(){++_==5?p(new y(a.EIO,"Unable to commit data to key-value store.")):(g=_l(),l.put(g,h,!1,function(P,q){P||!q?I():p(null,g)}))};I()},u.prototype.commitNewFile=function(l,h,p,g,_,I){var P=this,q=d.dirname(h),Q=d.basename(h),ce=new Date().getTime();if(h==="/")return I(y.EEXIST(h));this.findINodeAndDirListing(l,q,function(de,ge,ve){Rt(de,l,I)&&(ve[Q]?l.abort(function(){I(y.EEXIST(h))}):P.addNewNode(l,_,function(Te,Ue){if(Rt(Te,l,I)){var Tt=new ur(Ue,_.length,g|p,ce,ce,ce);P.addNewNode(l,Tt.toBuffer(),function(Zr,Tr){Rt(Zr,l,I)&&(ve[Q]=Tr,l.put(ge.id,n.from(JSON.stringify(ve)),!0,function(xo){Rt(xo,l,I)&&l.commit(function(hr){Rt(hr,l,I)&&I(null,Tt)})}))})}}))})},u.prototype.removeEntry=function(l,h,p){var g=this,_=this.store.beginTransaction("readwrite"),I=d.dirname(l),P=d.basename(l);this.findINodeAndDirListing(_,I,function(q,Q,ce){if(Rt(q,_,p))if(ce[P]){var de=ce[P];delete ce[P],g.getINode(_,l,de,function(ge,ve){Rt(ge,_,p)&&(!h&&ve.isDirectory()?_.abort(function(){p(y.EISDIR(l))}):h&&!ve.isDirectory()?_.abort(function(){p(y.ENOTDIR(l))}):_.del(ve.id,function(Te){Rt(Te,_,p)&&_.del(de,function(Ue){Rt(Ue,_,p)&&_.put(Q.id,n.from(JSON.stringify(ce)),!0,function(Tt){Rt(Tt,_,p)&&_.commit(p)})})}))})}else _.abort(function(){p(y.ENOENT(l))})})},u}(J),Ii=function(){this.store={}};Ii.prototype.name=function(){return vo.Name},Ii.prototype.clear=function(){this.store={}},Ii.prototype.beginTransaction=function(c){return new kn(this)},Ii.prototype.get=function(c){return this.store[c]},Ii.prototype.put=function(c,u,l){return!(!l&&this.store.hasOwnProperty(c)||(this.store[c]=u,0))},Ii.prototype.del=function(c){delete this.store[c]};var vo=function(c){function u(){c.call(this,{store:new Ii})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u)},u}(Ky);vo.Name="InMemory",vo.Options={};var Bf=Ot.indexedDB||Ot.mozIndexedDB||Ot.webkitIndexedDB||Ot.msIndexedDB;function As(c,u){switch(u===void 0&&(u=c.toString()),c.name){case"NotFoundError":return new y(a.ENOENT,u);case"QuotaExceededError":return new y(a.ENOSPC,u);default:return new y(a.EIO,u)}}function Rs(c,u,l){return u===void 0&&(u=a.EIO),l===void 0&&(l=null),function(h){h.preventDefault(),c(new y(u,l!==null?l:void 0))}}var Uf=function(c,u){this.tx=c,this.store=u};Uf.prototype.get=function(c,u){try{var l=this.store.get(c);l.onerror=Rs(u),l.onsuccess=function(h){var p=h.target.result;u(null,p===void 0?p:ne(p))}}catch(h){u(As(h))}};var r3=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.put=function(l,h,p,g){try{var _,I=z(h);(_=p?this.store.put(I,l):this.store.add(I,l)).onerror=Rs(g),_.onsuccess=function(P){g(null,!0)}}catch(P){g(As(P))}},u.prototype.del=function(l,h){try{var p=this.store.delete(l);p.onerror=Rs(h),p.onsuccess=function(g){h()}}catch(g){h(As(g))}},u.prototype.commit=function(l){setTimeout(l,0)},u.prototype.abort=function(l){var h=null;try{this.tx.abort()}catch(p){h=As(p)}finally{l(h)}},u}(Uf),Sl=function(c,u){var l=this;u===void 0&&(u="browserfs"),this.storeName=u;var h=Bf.open(this.storeName,1);h.onupgradeneeded=function(p){var g=p.target.result;g.objectStoreNames.contains(l.storeName)&&g.deleteObjectStore(l.storeName),g.createObjectStore(l.storeName)},h.onsuccess=function(p){l.db=p.target.result,c(null,l)},h.onerror=Rs(c,a.EACCES)};Sl.prototype.name=function(){return Ds.Name+" - "+this.storeName},Sl.prototype.clear=function(c){try{var u=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();u.onsuccess=function(l){setTimeout(c,0)},u.onerror=Rs(c)}catch(l){c(As(l))}},Sl.prototype.beginTransaction=function(c){c===void 0&&(c="readonly");var u=this.db.transaction(this.storeName,c),l=u.objectStore(this.storeName);if(c==="readwrite")return new r3(u,l);if(c==="readonly")return new Uf(u,l);throw new y(a.EINVAL,"Invalid transaction type.")};var Ds=function(c){function u(l,h,p){var g=this;p===void 0&&(p=!0),c.call(this),this.store=new Sl(function(_){_?l(_):g.init(g.store,function(I){l(I,g)})},h),ye(p,u.Name,{storeName:h})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){new u(h,l.storeName,!1)},u.isAvailable=function(){try{return Bf!==void 0&&Bf.open("__browserfs_test__")!==null}catch{return!1}},u}(t3);Ds.Name="IndexedDB",Ds.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var Fs,zf=!1;try{Ot.localStorage.setItem("__test__",String.fromCharCode(55296)),zf=Ot.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{zf=!1}Fs=zf?"binary_string":"binary_string_ie",n.isEncoding(Fs)||(Fs="base64");var Ai=function(){};Ai.prototype.name=function(){return Cs.Name},Ai.prototype.clear=function(){Ot.localStorage.clear()},Ai.prototype.beginTransaction=function(c){return new kn(this)},Ai.prototype.get=function(c){try{var u=Ot.localStorage.getItem(c);if(u!==null)return n.from(u,Fs)}catch{}},Ai.prototype.put=function(c,u,l){try{return!(!l&&Ot.localStorage.getItem(c)!==null||(Ot.localStorage.setItem(c,u.toString(Fs)),0))}catch{throw new y(a.ENOSPC,"LocalStorage is full.")}},Ai.prototype.del=function(c){try{Ot.localStorage.removeItem(c)}catch(u){throw new y(a.EIO,"Unable to delete key "+c+": "+u)}};var Cs=function(c){function u(){c.call(this,{store:new Ai})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){h(null,new u)},u.isAvailable=function(){return Ot.localStorage!==void 0},u}(Ky);Cs.Name="LocalStorage",Cs.Options={};var wo=function(c){function u(){c.call(this),this.mountList=[],this.mntMap={},this.rootFs=new vo}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u;Object.keys(l).forEach(function(g){p.mount(g,l[g])}),h(null,p)},u.isAvailable=function(){return!0},u.prototype.mount=function(l,h){if(l[0]!=="/"&&(l="/"+l),l=d.resolve(l),this.mntMap[l])throw new y(a.EINVAL,"Mount point "+l+" is already taken.");U(l,511,this.rootFs),this.mntMap[l]=h,this.mountList.push(l),this.mountList=this.mountList.sort(function(p,g){return g.length-p.length})},u.prototype.umount=function(l){if(l[0]!=="/"&&(l="/"+l),l=d.resolve(l),!this.mntMap[l])throw new y(a.EINVAL,"Mount point "+l+" is already unmounted.");for(delete this.mntMap[l],this.mountList.splice(this.mountList.indexOf(l),1);l!=="/"&&this.rootFs.readdirSync(l).length===0;)this.rootFs.rmdirSync(l),l=d.dirname(l)},u.prototype._getFs=function(l){for(var h=this.mountList,p=h.length,g=0;g<p;g++){var _=h[g];if(_.length<=l.length&&l.indexOf(_)===0)return(l=l.substr(_.length>1?_.length:0))===""&&(l="/"),{fs:this.mntMap[_],path:l}}return{fs:this.rootFs,path:l}},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(l,h){h(0,0)},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.standardizeError=function(l,h,p){var g=l.message.indexOf(h);return g!==-1&&(l.message=l.message.substr(0,g)+p+l.message.substr(g+h.length),l.path=p),l},u.prototype.rename=function(l,h,p){var g=this,_=this._getFs(l),I=this._getFs(h);return _.fs===I.fs?_.fs.rename(_.path,I.path,function(P){P&&g.standardizeError(g.standardizeError(P,_.path,l),I.path,h),p(P)}):te.readFile(l,function(P,q){if(P)return p(P);te.writeFile(h,q,function(Q){if(Q)return p(Q);te.unlink(l,p)})})},u.prototype.renameSync=function(l,h){var p=this._getFs(l),g=this._getFs(h);if(p.fs===g.fs)try{return p.fs.renameSync(p.path,g.path)}catch(I){throw this.standardizeError(this.standardizeError(I,p.path,l),g.path,h),I}var _=te.readFileSync(l);return te.writeFileSync(h,_),te.unlinkSync(l)},u.prototype.readdirSync=function(l){var h=this._getFs(l),p=null;if(h.fs!==this.rootFs)try{p=this.rootFs.readdirSync(l)}catch{}try{var g=h.fs.readdirSync(h.path);return p===null?g:g.concat(p.filter(function(_){return g.indexOf(_)===-1}))}catch(_){if(p===null)throw this.standardizeError(_,h.path,l);return p}},u.prototype.readdir=function(l,h){var p=this,g=this._getFs(l);g.fs.readdir(g.path,function(_,I){if(g.fs!==p.rootFs)try{var P=p.rootFs.readdirSync(l);I=I?I.concat(P.filter(function(q){return I.indexOf(q)===-1})):P}catch{if(_)return h(p.standardizeError(_,g.path,l))}else if(_)return h(p.standardizeError(_,g.path,l));h(null,I)})},u.prototype.rmdirSync=function(l){var h=this._getFs(l);if(this._containsMountPt(l))throw y.ENOTEMPTY(l);try{h.fs.rmdirSync(h.path)}catch(p){throw this.standardizeError(p,h.path,l)}},u.prototype.rmdir=function(l,h){var p=this,g=this._getFs(l);this._containsMountPt(l)?h(y.ENOTEMPTY(l)):g.fs.rmdir(g.path,function(_){h(_?p.standardizeError(_,g.path,l):null)})},u.prototype._containsMountPt=function(l){for(var h=this.mountList,p=h.length,g=0;g<p;g++){var _=h[g];if(_.length>=l.length&&_.slice(0,l.length)===l)return!0}return!1},u}(J);function Xy(c,u,l){return u?function(){for(var h=[],p=arguments.length;p--;)h[p]=arguments[p];var g=h[0],_=this._getFs(g);h[0]=_.path;try{return _.fs[c].apply(_.fs,h)}catch(I){throw this.standardizeError(I,_.path,g),I}}:function(){for(var h=this,p=[],g=arguments.length;g--;)p[g]=arguments[g];var _=p[0],I=this._getFs(_);if(p[0]=I.path,typeof p[p.length-1]=="function"){var P=p[p.length-1];p[p.length-1]=function(){for(var q=[],Q=arguments.length;Q--;)q[Q]=arguments[Q];q.length>0&&q[0]instanceof y&&h.standardizeError(q[0],I.path,_),P.apply(null,q)}}return I.fs[c].apply(I.fs,p)}}wo.Name="MountableFileSystem",wo.Options={};for(var Ps,Qy=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Vf=0;Vf<Qy.length;Vf++)for(var Wf=0,em=Qy[Vf];Wf<em.length;Wf+=1){var El=em[Wf];wo.prototype[El]=Xy(El,!1),wo.prototype[El+"Sync"]=Xy(El+"Sync",!0)}if(typeof setImmediate<"u")Ps=setImmediate;else{var Lr=Ot,_o=[],tm="zero-timeout-message";if(function(){if(Lr.importScripts!==void 0||!Lr.postMessage)return!1;var c=!0,u=Lr.onmessage;return Lr.onmessage=function(){c=!1},Lr.postMessage("","*"),Lr.onmessage=u,c}()){Ps=function(c){_o.push(c),Lr.postMessage(tm,"*")};var rm=function(c){if(c.source===self&&c.data===tm&&(c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,_o.length>0))return _o.shift()()};Lr.addEventListener?Lr.addEventListener("message",rm,!0):Lr.attachEvent("onmessage",rm)}else if(Lr.MessageChannel){var nm=new Lr.MessageChannel;nm.port1.onmessage=function(c){if(_o.length>0)return _o.shift()()},Ps=function(c){_o.push(c),nm.port2.postMessage("")}}else Ps=function(c){return setTimeout(c,0)}}var qf=Ps,Ls=function(){this._locked=!1,this._waiters=[]};Ls.prototype.lock=function(c){this._locked?this._waiters.push(c):(this._locked=!0,c())},Ls.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var c=this._waiters.shift();c?qf(c):this._locked=!1},Ls.prototype.tryLock=function(){return!this._locked&&(this._locked=!0,!0)},Ls.prototype.isLocked=function(){return this._locked};var Ne=function(c){this._fs=c,this._mu=new Ls};Ne.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},Ne.prototype.getFSUnlocked=function(){return this._fs},Ne.prototype.initialize=function(c){this._fs.initialize(c)},Ne.prototype.diskSpace=function(c,u){this._fs.diskSpace(c,u)},Ne.prototype.isReadOnly=function(){return this._fs.isReadOnly()},Ne.prototype.supportsLinks=function(){return this._fs.supportsLinks()},Ne.prototype.supportsProps=function(){return this._fs.supportsProps()},Ne.prototype.supportsSynch=function(){return this._fs.supportsSynch()},Ne.prototype.rename=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.rename(c,u,function(p){h._mu.unlock(),l(p)})})},Ne.prototype.renameSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(c,u)},Ne.prototype.stat=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.stat(c,u,function(p,g){h._mu.unlock(),l(p,g)})})},Ne.prototype.statSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(c,u)},Ne.prototype.open=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.open(c,u,l,function(g,_){p._mu.unlock(),h(g,_)})})},Ne.prototype.openSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(c,u,l)},Ne.prototype.unlink=function(c,u){var l=this;this._mu.lock(function(){l._fs.unlink(c,function(h){l._mu.unlock(),u(h)})})},Ne.prototype.unlinkSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(c)},Ne.prototype.rmdir=function(c,u){var l=this;this._mu.lock(function(){l._fs.rmdir(c,function(h){l._mu.unlock(),u(h)})})},Ne.prototype.rmdirSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(c)},Ne.prototype.mkdir=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.mkdir(c,u,function(p){h._mu.unlock(),l(p)})})},Ne.prototype.mkdirSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(c,u)},Ne.prototype.readdir=function(c,u){var l=this;this._mu.lock(function(){l._fs.readdir(c,function(h,p){l._mu.unlock(),u(h,p)})})},Ne.prototype.readdirSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(c)},Ne.prototype.exists=function(c,u){var l=this;this._mu.lock(function(){l._fs.exists(c,function(h){l._mu.unlock(),u(h)})})},Ne.prototype.existsSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(c)},Ne.prototype.realpath=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.realpath(c,u,function(p,g){h._mu.unlock(),l(p,g)})})},Ne.prototype.realpathSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(c,u)},Ne.prototype.truncate=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.truncate(c,u,function(p){h._mu.unlock(),l(p)})})},Ne.prototype.truncateSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(c,u)},Ne.prototype.readFile=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.readFile(c,u,l,function(g,_){p._mu.unlock(),h(g,_)})})},Ne.prototype.readFileSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(c,u,l)},Ne.prototype.writeFile=function(c,u,l,h,p,g){var _=this;this._mu.lock(function(){_._fs.writeFile(c,u,l,h,p,function(I){_._mu.unlock(),g(I)})})},Ne.prototype.writeFileSync=function(c,u,l,h,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(c,u,l,h,p)},Ne.prototype.appendFile=function(c,u,l,h,p,g){var _=this;this._mu.lock(function(){_._fs.appendFile(c,u,l,h,p,function(I){_._mu.unlock(),g(I)})})},Ne.prototype.appendFileSync=function(c,u,l,h,p){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(c,u,l,h,p)},Ne.prototype.chmod=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.chmod(c,u,l,function(g){p._mu.unlock(),h(g)})})},Ne.prototype.chmodSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(c,u,l)},Ne.prototype.chown=function(c,u,l,h,p){var g=this;this._mu.lock(function(){g._fs.chown(c,u,l,h,function(_){g._mu.unlock(),p(_)})})},Ne.prototype.chownSync=function(c,u,l,h){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(c,u,l,h)},Ne.prototype.utimes=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.utimes(c,u,l,function(g){p._mu.unlock(),h(g)})})},Ne.prototype.utimesSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(c,u,l)},Ne.prototype.link=function(c,u,l){var h=this;this._mu.lock(function(){h._fs.link(c,u,function(p){h._mu.unlock(),l(p)})})},Ne.prototype.linkSync=function(c,u){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(c,u)},Ne.prototype.symlink=function(c,u,l,h){var p=this;this._mu.lock(function(){p._fs.symlink(c,u,l,function(g){p._mu.unlock(),h(g)})})},Ne.prototype.symlinkSync=function(c,u,l){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(c,u,l)},Ne.prototype.readlink=function(c,u){var l=this;this._mu.lock(function(){l._fs.readlink(c,function(h,p){l._mu.unlock(),u(h,p)})})},Ne.prototype.readlinkSync=function(c){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(c)};var Tn="/.deletedFiles.log";function im(c){return 146|c}function Or(c){return A.getFileFlag(c)}var st,om=function(c){function u(l,h,p,g,_){c.call(this,l,h,p,g,_)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.sync=function(l){var h=this;this.isDirty()?this._fs._syncAsync(this,function(p){h.resetDirty(),l(p)}):l(null)},u.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},u.prototype.close=function(l){this.sync(l)},u.prototype.closeSync=function(){this.syncSync()},u}(E),sm=function(c){function u(l,h){if(c.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=l,this._readable=h,this._writable.isReadOnly())throw new y(a.EINVAL,"Writable file system must be writable.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.isAvailable=function(){return!0},u.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},u.prototype._syncAsync=function(l,h){var p=this;this.createParentDirectoriesAsync(l.getPath(),function(g){if(g)return h(g);p._writable.writeFile(l.getPath(),l.getBuffer(),null,Or("w"),l.getStats().mode,h)})},u.prototype._syncSync=function(l){this.createParentDirectories(l.getPath()),this._writable.writeFileSync(l.getPath(),l.getBuffer(),null,Or("w"),l.getStats().mode)},u.prototype.getName=function(){return Ms.Name},u.prototype.initialize=function(l){var h=this,p=this._initializeCallbacks,g=function(_){h._isInitialized=!_,h._initializeCallbacks=[],p.forEach(function(I){return I(_)})};if(this._isInitialized)return l();p.push(l),p.length===1&&this._writable.readFile(Tn,"utf8",Or("r"),function(_,I){if(_){if(_.errno!==a.ENOENT)return g(_)}else h._deleteLog=I;h._reparseDeletionLog(),g()})},u.prototype.isReadOnly=function(){return!1},u.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},u.prototype.getDeletionLog=function(){return this._deleteLog},u.prototype.restoreDeletionLog=function(l){this._deleteLog=l,this._reparseDeletionLog(),this.updateLog("")},u.prototype.rename=function(l,h,p){var g=this;if(this.checkInitAsync(p)&&!this.checkPathAsync(l,p)&&!this.checkPathAsync(h,p))return l===Tn||h===Tn?p(y.EPERM("Cannot rename deletion log.")):l===h?p():void this.stat(l,!1,function(_,I){return _?p(_):g.stat(h,!1,function(P,q){var Q=g;function ce(ge){var ve=ge.shift();if(!ve)return p();var Te=d.resolve(l,ve),Ue=d.resolve(h,ve);Q.rename(Te,Ue,function(Tt){if(Tt)return p(Tt);ce(ge)})}var de=511;if(I.isDirectory()){if(P)return P.errno!==a.ENOENT?p(P):g._writable.exists(l,function(ge){if(ge)return g._writable.rename(l,h,p);g._writable.mkdir(h,de,function(ve){if(ve)return p(ve);g._readable.readdir(l,function(Te,Ue){if(Te)return p();ce(Ue)})})});if(de=q.mode,!q.isDirectory())return p(y.ENOTDIR(h));g.readdir(h,function(ge,ve){if(ve&&ve.length)return p(y.ENOTEMPTY(h));g._readable.readdir(l,function(Te,Ue){if(Te)return p();ce(Ue)})})}if(q&&q.isDirectory())return p(y.EISDIR(h));g.readFile(l,null,Or("r"),function(ge,ve){return ge?p(ge):g.writeFile(h,ve,null,Or("w"),I.mode,function(Te){return Te?p(Te):g.unlink(l,p)})})})})},u.prototype.renameSync=function(l,h){var p=this;if(this.checkInitialized(),this.checkPath(l),this.checkPath(h),l===Tn||h===Tn)throw y.EPERM("Cannot rename deletion log.");var g=this.statSync(l,!1);if(g.isDirectory()){if(l===h)return;var _=511;if(this.existsSync(h)){var I=this.statSync(h,!1);if(_=I.mode,!I.isDirectory())throw y.ENOTDIR(h);if(this.readdirSync(h).length>0)throw y.ENOTEMPTY(h)}this._writable.existsSync(l)?this._writable.renameSync(l,h):this._writable.existsSync(h)||this._writable.mkdirSync(h,_),this._readable.existsSync(l)&&this._readable.readdirSync(l).forEach(function(P){p.renameSync(d.resolve(l,P),d.resolve(h,P))})}else{if(this.existsSync(h)&&this.statSync(h,!1).isDirectory())throw y.EISDIR(h);this.writeFileSync(h,this.readFileSync(l,null,Or("r")),null,Or("w"),g.mode)}l!==h&&this.existsSync(l)&&this.unlinkSync(l)},u.prototype.stat=function(l,h,p){var g=this;this.checkInitAsync(p)&&this._writable.stat(l,h,function(_,I){_&&_.errno===a.ENOENT?(g._deletedFiles[l]&&p(y.ENOENT(l)),g._readable.stat(l,h,function(P,q){q&&((q=q.clone()).mode=im(q.mode)),p(P,q)})):p(_,I)})},u.prototype.statSync=function(l,h){this.checkInitialized();try{return this._writable.statSync(l,h)}catch{if(this._deletedFiles[l])throw y.ENOENT(l);var p=this._readable.statSync(l,h).clone();return p.mode=im(p.mode),p}},u.prototype.open=function(l,h,p,g){var _=this;this.checkInitAsync(g)&&!this.checkPathAsync(l,g)&&this.stat(l,!1,function(I,P){if(!P)return h.pathNotExistsAction()===v.CREATE_FILE?_.createParentDirectoriesAsync(l,function(q){return q?g(q):_._writable.open(l,h,p,g)}):g(y.ENOENT(l));switch(h.pathExistsAction()){case v.TRUNCATE_FILE:return _.createParentDirectoriesAsync(l,function(q){if(q)return g(q);_._writable.open(l,h,p,g)});case v.NOP:return _._writable.exists(l,function(q){q?_._writable.open(l,h,p,g):((P=P.clone()).mode=p,_._readable.readFile(l,null,Or("r"),function(Q,ce){if(Q)return g(Q);P.size===-1&&(P.size=ce.length);var de=new om(_,l,h,P,ce);g(null,de)}))});default:return g(y.EEXIST(l))}})},u.prototype.openSync=function(l,h,p){if(this.checkInitialized(),this.checkPath(l),l===Tn)throw y.EPERM("Cannot open deletion log.");if(!this.existsSync(l)){if(h.pathNotExistsAction()===v.CREATE_FILE)return this.createParentDirectories(l),this._writable.openSync(l,h,p);throw y.ENOENT(l)}switch(h.pathExistsAction()){case v.TRUNCATE_FILE:return this.createParentDirectories(l),this._writable.openSync(l,h,p);case v.NOP:if(this._writable.existsSync(l))return this._writable.openSync(l,h,p);var g=this._readable.readFileSync(l,null,Or("r")),_=this._readable.statSync(l,!1).clone();return _.mode=p,new om(this,l,h,_,g);default:throw y.EEXIST(l)}},u.prototype.unlink=function(l,h){var p=this;this.checkInitAsync(h)&&!this.checkPathAsync(l,h)&&this.exists(l,function(g){if(!g)return h(y.ENOENT(l));p._writable.exists(l,function(_){if(_)return p._writable.unlink(l,function(I){if(I)return h(I);p.exists(l,function(P){P&&p.deletePath(l),h(null)})});p.deletePath(l),h(null)})})},u.prototype.unlinkSync=function(l){if(this.checkInitialized(),this.checkPath(l),!this.existsSync(l))throw y.ENOENT(l);this._writable.existsSync(l)&&this._writable.unlinkSync(l),this.existsSync(l)&&this.deletePath(l)},u.prototype.rmdir=function(l,h){var p=this;if(this.checkInitAsync(h)){var g=function(){p.readdir(l,function(_,I){return _?h(_):I.length?h(y.ENOTEMPTY(l)):(p.deletePath(l),void h(null))})};this.exists(l,function(_){if(!_)return h(y.ENOENT(l));p._writable.exists(l,function(I){I?p._writable.rmdir(l,function(P){if(P)return h(P);p._readable.exists(l,function(q){q?g():h()})}):g()})})}},u.prototype.rmdirSync=function(l){if(this.checkInitialized(),!this.existsSync(l))throw y.ENOENT(l);if(this._writable.existsSync(l)&&this._writable.rmdirSync(l),this.existsSync(l)){if(this.readdirSync(l).length>0)throw y.ENOTEMPTY(l);this.deletePath(l)}},u.prototype.mkdir=function(l,h,p){var g=this;this.checkInitAsync(p)&&this.exists(l,function(_){if(_)return p(y.EEXIST(l));g.createParentDirectoriesAsync(l,function(I){if(I)return p(I);g._writable.mkdir(l,h,p)})})},u.prototype.mkdirSync=function(l,h){if(this.checkInitialized(),this.existsSync(l))throw y.EEXIST(l);this.createParentDirectories(l),this._writable.mkdirSync(l,h)},u.prototype.readdir=function(l,h){var p=this;this.checkInitAsync(h)&&this.stat(l,!1,function(g,_){return g?h(g):_.isDirectory()?void p._writable.readdir(l,function(I,P){if(I&&I.code!=="ENOENT")return h(I);!I&&P||(P=[]),p._readable.readdir(l,function(q,Q){!q&&Q||(Q=[]);var ce={},de=P.concat(Q.filter(function(ge){return!p._deletedFiles[l+"/"+ge]})).filter(function(ge){var ve=!ce[ge];return ce[ge]=!0,ve});h(null,de)})}):h(y.ENOTDIR(l))})},u.prototype.readdirSync=function(l){var h=this;if(this.checkInitialized(),!this.statSync(l,!1).isDirectory())throw y.ENOTDIR(l);var p=[];try{p=p.concat(this._writable.readdirSync(l))}catch{}try{p=p.concat(this._readable.readdirSync(l).filter(function(_){return!h._deletedFiles[l+"/"+_]}))}catch{}var g={};return p.filter(function(_){var I=!g[_];return g[_]=!0,I})},u.prototype.exists=function(l,h){var p=this;this.checkInitialized(),this._writable.exists(l,function(g){if(g)return h(!0);p._readable.exists(l,function(_){h(_&&p._deletedFiles[l]!==!0)})})},u.prototype.existsSync=function(l){return this.checkInitialized(),this._writable.existsSync(l)||this._readable.existsSync(l)&&this._deletedFiles[l]!==!0},u.prototype.chmod=function(l,h,p,g){var _=this;this.checkInitAsync(g)&&this.operateOnWritableAsync(l,function(I){if(I)return g(I);_._writable.chmod(l,h,p,g)})},u.prototype.chmodSync=function(l,h,p){var g=this;this.checkInitialized(),this.operateOnWritable(l,function(){g._writable.chmodSync(l,h,p)})},u.prototype.chown=function(l,h,p,g,_){var I=this;this.checkInitAsync(_)&&this.operateOnWritableAsync(l,function(P){if(P)return _(P);I._writable.chown(l,h,p,g,_)})},u.prototype.chownSync=function(l,h,p,g){var _=this;this.checkInitialized(),this.operateOnWritable(l,function(){_._writable.chownSync(l,h,p,g)})},u.prototype.utimes=function(l,h,p,g){var _=this;this.checkInitAsync(g)&&this.operateOnWritableAsync(l,function(I){if(I)return g(I);_._writable.utimes(l,h,p,g)})},u.prototype.utimesSync=function(l,h,p){var g=this;this.checkInitialized(),this.operateOnWritable(l,function(){g._writable.utimesSync(l,h,p)})},u.prototype.deletePath=function(l){this._deletedFiles[l]=!0,this.updateLog("d"+l+`
`)},u.prototype.updateLog=function(l){var h=this;this._deleteLog+=l,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(Tn,this._deleteLog,"utf8",A.getFileFlag("w"),420,function(p){h._deleteLogUpdatePending=!1,p?h._deleteLogError=p:h._deleteLogUpdateNeeded&&(h._deleteLogUpdateNeeded=!1,h.updateLog(""))}))},u.prototype._reparseDeletionLog=function(){var l=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(h){l._deletedFiles[h.slice(1)]=h.slice(0,1)==="d"})},u.prototype.checkInitialized=function(){if(!this._isInitialized)throw new y(a.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(this._deleteLogError!==null){var l=this._deleteLogError;throw this._deleteLogError=null,l}},u.prototype.checkInitAsync=function(l){if(!this._isInitialized)return l(new y(a.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;if(this._deleteLogError!==null){var h=this._deleteLogError;return this._deleteLogError=null,l(h),!1}return!0},u.prototype.checkPath=function(l){if(l===Tn)throw y.EPERM(l)},u.prototype.checkPathAsync=function(l,h){return l===Tn&&(h(y.EPERM(l)),!0)},u.prototype.createParentDirectoriesAsync=function(l,h){var p=d.dirname(l),g=[],_=this;function I(){if(!g.length)return h();var P=g.pop();_._readable.stat(P,!1,function(q,Q){if(!Q)return h();_._writable.mkdir(P,Q.mode,function(ce){if(ce)return h(ce);I()})})}this._writable.stat(p,!1,function P(q,Q){q?(g.push(p),p=d.dirname(p),_._writable.stat(p,!1,P)):I()})},u.prototype.createParentDirectories=function(l){for(var h=this,p=d.dirname(l),g=[];!this._writable.existsSync(p);)g.push(p),p=d.dirname(p);(g=g.reverse()).forEach(function(_){h._writable.mkdirSync(_,h.statSync(_,!1).mode)})},u.prototype.operateOnWritable=function(l,h){if(!this.existsSync(l))throw y.ENOENT(l);this._writable.existsSync(l)||this.copyToWritable(l),h()},u.prototype.operateOnWritableAsync=function(l,h){var p=this;this.exists(l,function(g){if(!g)return h(y.ENOENT(l));p._writable.exists(l,function(_){if(!_)return p.copyToWritableAsync(l,h);h()})})},u.prototype.copyToWritable=function(l){var h=this.statSync(l,!1);h.isDirectory()?this._writable.mkdirSync(l,h.mode):this.writeFileSync(l,this._readable.readFileSync(l,null,Or("r")),null,Or("w"),this.statSync(l,!1).mode)},u.prototype.copyToWritableAsync=function(l,h){var p=this;this.stat(l,!1,function(g,_){return g?h(g):_.isDirectory()?p._writable.mkdir(l,_.mode,h):void p._readable.readFile(l,null,Or("r"),function(I,P){if(I)return h(I);p.writeFile(l,P,null,Or("w"),_.mode,h)})})},u}(J),Ms=function(c){function u(l,h,p){p===void 0&&(p=!0),c.call(this,new sm(l,h)),ye(p,u.Name,{readable:"readable file system",writable:"writable file system"})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{var p=new u(l.writable,l.readable,!1);p.initialize(function(g){h(g,p)},!1)}catch(g){h(g)}},u.isAvailable=function(){return sm.isAvailable()},u.prototype.initialize=function(l,h){h===void 0&&(h=!0),h&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),c.prototype.initialize.call(this,l)},u.prototype.getOverlayedFileSystems=function(){return c.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},u.prototype.unwrap=function(){return c.prototype.getFSUnlocked.call(this)},u}(Ne);Ms.Name="OverlayFS",Ms.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}},function(c){c[c.CB=0]="CB",c[c.FD=1]="FD",c[c.API_ERROR=2]="API_ERROR",c[c.STATS=3]="STATS",c[c.PROBE=4]="PROBE",c[c.FILEFLAG=5]="FILEFLAG",c[c.BUFFER=6]="BUFFER",c[c.ERROR=7]="ERROR"}(st||(st={}));var $f=function(){this._callbacks={},this._nextId=0};$f.prototype.toRemoteArg=function(c){var u=this._nextId++;return this._callbacks[u]=c,{type:st.CB,id:u}},$f.prototype.toLocalArg=function(c){var u=this._callbacks[c];return delete this._callbacks[c],u};var bl=function(){this._fileDescriptors={},this._nextId=0};function xl(c){return{type:st.API_ERROR,errorData:Ri(c.writeToBuffer())}}function am(c){return y.fromBuffer(Di(c.errorData))}function lm(c){return{type:st.ERROR,name:c.name,message:c.message,stack:c.stack}}function um(c){var u=Ot[c.name];typeof u!="function"&&(u=Error);var l=new u(c.message);return l.stack=c.stack,l}function cm(c){return{type:st.STATS,statsData:Ri(c.toBuffer())}}function fm(c){return k.fromBuffer(Di(c.statsData))}function hm(c){return{type:st.FILEFLAG,flagStr:c.getFlagString()}}function dm(c){return A.getFileFlag(c.flagStr)}function Ri(c){return z(c)}function Di(c){return ne(c)}function pm(c){return{type:st.BUFFER,data:Ri(c)}}function ym(c){return Di(c.data)}bl.prototype.toRemoteArg=function(c,u,l,h){var p,g,_=this._nextId++;this._fileDescriptors[_]=c,c.stat(function(I,P){I?h(I):(g=Ri(P.toBuffer()),l.isReadable()?c.read(n.alloc(P.size),0,P.size,0,function(q,Q,ce){q?h(q):(p=Ri(ce),h(null,{type:st.FD,id:_,data:p,stat:g,path:u,flag:l.getFlagString()}))}):h(null,{type:st.FD,id:_,data:new ArrayBuffer(0),stat:g,path:u,flag:l.getFlagString()}))})},bl.prototype.applyFdAPIRequest=function(c,u){var l=this,h=c.args[0];this._applyFdChanges(h,function(p,g){p?u(p):g[c.method](function(_){c.method==="close"&&delete l._fileDescriptors[h.id],u(_)})})},bl.prototype._applyFdChanges=function(c,u){var l=this._fileDescriptors[c.id],h=Di(c.data),p=k.fromBuffer(Di(c.stat)),g=A.getFileFlag(c.flag);g.isWriteable()?l.write(h,0,h.length,g.isAppendable()?l.getPos():0,function(_){function I(){l.stat(function(P,q){P?u(P):q.mode!==p.mode?l.chmod(p.mode,function(Q){u(Q,l)}):u(P,l)})}_?u(_):g.isAppendable()?I():l.truncate(h.length,function(){I()})}):u(null,l)};var mm=function(c){function u(l,h,p,g,_,I){c.call(this,l,h,p,g,I),this._remoteFdId=_}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.getRemoteFdId=function(){return this._remoteFdId},u.prototype.toRemoteArg=function(){return{type:st.FD,id:this._remoteFdId,data:Ri(this.getBuffer()),stat:Ri(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},u.prototype.sync=function(l){this._syncClose("sync",l)},u.prototype.close=function(l){this._syncClose("close",l)},u.prototype._syncClose=function(l,h){var p=this;this.isDirty()?this._fs.syncClose(l,this,function(g){g||p.resetDirty(),h(g)}):h()},u}(E),Ol=function(c){function u(l,h){var p=this;h===void 0&&(h=!0),c.call(this),this._callbackConverter=new $f,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=l,ye(h,u.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(g){var _,I=g.data;if((_=I)&&typeof _=="object"&&_.hasOwnProperty("browserfsMessage")&&_.browserfsMessage){var P,q=I.args,Q=new Array(q.length);for(P=0;P<Q.length;P++)Q[P]=p._argRemote2Local(q[P]);p._callbackConverter.toLocalArg(I.cbId).apply(null,Q)}})}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p=new u(l.worker,!1);p.initialize(function(){h(null,p)})},u.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},u.attachRemoteListener=function(l){var h=new bl;function p(_,I,P){typeof _=="object"?_ instanceof k?P(null,cm(_)):_ instanceof y?P(null,xl(_)):_ instanceof C?P(null,h.toRemoteArg(_,I[0],I[1],P)):_ instanceof A?P(null,hm(_)):_ instanceof n?P(null,pm(_)):_ instanceof Error?P(null,lm(_)):P(null,_):P(null,_)}function g(_,I){if(!_)return _;if(typeof _=="object"){if(typeof _.type!="number")return _;var P=_;switch(P.type){case st.CB:var q=_.id;return function(){var Q,ce,de=arguments,ge=new Array(arguments.length),ve=arguments.length;function Te(Ue){ve>0&&(ve=-1,ce={browserfsMessage:!0,cbId:q,args:[xl(Ue)]},l.postMessage(ce))}for(Q=0;Q<arguments.length;Q++)(function(Ue,Tt){p(Tt,I,function(Zr,Tr){ge[Ue]=Tr,Zr?Te(Zr):--ve==0&&(ce={browserfsMessage:!0,cbId:q,args:ge},l.postMessage(ce))})})(Q,de[Q]);arguments.length===0&&(ce={browserfsMessage:!0,cbId:q,args:ge},l.postMessage(ce))};case st.API_ERROR:return am(P);case st.STATS:return fm(P);case st.FILEFLAG:return dm(P);case st.BUFFER:return ym(P);case st.ERROR:return um(P);default:return _}}return _}l.addEventListener("message",function(_){var I,P,q=_.data;if((P=q)&&typeof P=="object"&&P.hasOwnProperty("browserfsMessage")&&P.browserfsMessage){var Q=q.args,ce=new Array(Q.length);switch(q.method){case"close":case"sync":I=Q[1],h.applyFdAPIRequest(q,function(ve){var Te={browserfsMessage:!0,cbId:I.id,args:ve?[xl(ve)]:[]};l.postMessage(Te)});break;case"probe":(function(){var ve=te.getRootFS(),Te=Q[1],Ue={type:st.PROBE,isReadOnly:ve.isReadOnly(),supportsLinks:ve.supportsLinks(),supportsProps:ve.supportsProps()},Tt={browserfsMessage:!0,cbId:Te.id,args:[Ue]};l.postMessage(Tt)})();break;default:for(var de=0;de<Q.length;de++)ce[de]=g(Q[de],ce);var ge=te.getRootFS();ge[q.method].apply(ge,ce)}}})},u.prototype.getName=function(){return u.Name},u.prototype.initialize=function(l){var h=this;if(this._isInitialized)l();else{var p={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Ee()),this._callbackConverter.toRemoteArg(function(g){h._isInitialized=!0,h._isReadOnly=g.isReadOnly,h._supportLinks=g.supportsLinks,h._supportProps=g.supportsProps,l()})]};this._worker.postMessage(p)}},u.prototype.isReadOnly=function(){return this._isReadOnly},u.prototype.supportsSynch=function(){return!1},u.prototype.supportsLinks=function(){return this._supportLinks},u.prototype.supportsProps=function(){return this._supportProps},u.prototype.rename=function(l,h,p){this._rpc("rename",arguments)},u.prototype.stat=function(l,h,p){this._rpc("stat",arguments)},u.prototype.open=function(l,h,p,g){this._rpc("open",arguments)},u.prototype.unlink=function(l,h){this._rpc("unlink",arguments)},u.prototype.rmdir=function(l,h){this._rpc("rmdir",arguments)},u.prototype.mkdir=function(l,h,p){this._rpc("mkdir",arguments)},u.prototype.readdir=function(l,h){this._rpc("readdir",arguments)},u.prototype.exists=function(l,h){this._rpc("exists",arguments)},u.prototype.realpath=function(l,h,p){this._rpc("realpath",arguments)},u.prototype.truncate=function(l,h,p){this._rpc("truncate",arguments)},u.prototype.readFile=function(l,h,p,g){this._rpc("readFile",arguments)},u.prototype.writeFile=function(l,h,p,g,_,I){this._rpc("writeFile",arguments)},u.prototype.appendFile=function(l,h,p,g,_,I){this._rpc("appendFile",arguments)},u.prototype.chmod=function(l,h,p,g){this._rpc("chmod",arguments)},u.prototype.chown=function(l,h,p,g,_){this._rpc("chown",arguments)},u.prototype.utimes=function(l,h,p,g){this._rpc("utimes",arguments)},u.prototype.link=function(l,h,p){this._rpc("link",arguments)},u.prototype.symlink=function(l,h,p,g){this._rpc("symlink",arguments)},u.prototype.readlink=function(l,h){this._rpc("readlink",arguments)},u.prototype.syncClose=function(l,h,p){this._worker.postMessage({browserfsMessage:!0,method:l,args:[h.toRemoteArg(),this._callbackConverter.toRemoteArg(p)]})},u.prototype._argRemote2Local=function(l){if(!l)return l;if(typeof l=="object"){if(typeof l.type!="number")return l;var h=l;switch(h.type){case st.API_ERROR:return am(h);case st.FD:var p=h;return new mm(this,p.path,A.getFileFlag(p.flag),k.fromBuffer(Di(p.stat)),p.id,Di(p.data));case st.STATS:return fm(h);case st.FILEFLAG:return dm(h);case st.BUFFER:return ym(h);case st.ERROR:return um(h);default:return l}}return l},u.prototype._rpc=function(l,h){for(var p=new Array(h.length),g=0;g<h.length;g++)p[g]=this._argLocal2Remote(h[g]);var _={browserfsMessage:!0,method:l,args:p};this._worker.postMessage(_)},u.prototype._argLocal2Remote=function(l){if(!l)return l;switch(typeof l){case"object":return l instanceof k?cm(l):l instanceof y?xl(l):l instanceof mm?l.toRemoteArg():l instanceof A?hm(l):l instanceof n?pm(l):l instanceof Error?lm(l):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(l);default:return l}},u}(J);function gm(c,u,l){var h=new XMLHttpRequest;h.open("HEAD",u,c),h.onreadystatechange=function(p){if(h.readyState===4){if(h.status!==200)return l(new y(h.status,"XHR HEAD error."));try{return l(null,parseInt(h.getResponseHeader("Content-Length")||"-1",10))}catch{return l(new y(a.EIO,"XHR HEAD error: Could not read content-length."))}}},h.send()}Ol.Name="WorkerFS",Ol.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(c,u){c.postMessage?u():u(new y(a.EINVAL,"option must be a Web Worker instance."))}}};var vm=function(c,u,l){var h=new XMLHttpRequest;h.open("GET",c,!0);var p=!0;switch(u){case"buffer":h.responseType="arraybuffer";break;case"json":try{h.responseType="json",p=h.responseType==="json"}catch{p=!1}break;default:return l(new y(a.EINVAL,"Invalid download type: "+u))}h.onreadystatechange=function(g){if(h.readyState===4){if(h.status!==200)return l(new y(h.status,"XHR error."));switch(u){case"buffer":return l(null,h.response?n.from(h.response):Ee());case"json":return l(null,p?h.response:JSON.parse(h.responseText))}}},h.send()},n3=M&&typeof Blob<"u"?function(c,u){var l,h,p=new XMLHttpRequest;switch(p.open("GET",c,!1),u){case"buffer":p.responseType="arraybuffer";break;case"json":break;default:throw new y(a.EINVAL,"Invalid download type: "+u)}if(p.onreadystatechange=function(g){if(p.readyState===4)if(p.status===200)switch(u){case"buffer":l=n.from(p.response);break;case"json":l=JSON.parse(p.response)}else h=new y(p.status,"XHR error.")},p.send(),h)throw h;return l}:function(c,u){var l=new XMLHttpRequest;l.open("GET",c,!1);var h=null,p=null;if(l.overrideMimeType("text/plain; charset=x-user-defined"),l.onreadystatechange=function(g){if(l.readyState===4){if(l.status!==200)return void(p=new y(l.status,"XHR error."));switch(u){case"buffer":var _=l.responseText;h=n.alloc(_.length);for(var I=0;I<_.length;I++)h[I]=_.charCodeAt(I);return;case"json":return void(h=JSON.parse(l.responseText))}}},l.send(),p)throw p;return h},Mr=function(){this._index={},this.addPath("/",new cr)};Mr.fromListing=function(c){var u=new Mr,l=new cr;u._index["/"]=l;for(var h=[["",c,l]];h.length>0;){var p=void 0,g=h.pop(),_=g[0],I=g[1],P=g[2];for(var q in I)if(I.hasOwnProperty(q)){var Q=I[q],ce=_+"/"+q;Q?(u._index[ce]=p=new cr,h.push([ce,Q,p])):p=new So(new k(b.FILE,-1,365)),P&&(P._ls[q]=p)}}return u},Mr.prototype.fileIterator=function(c){var u=this;for(var l in u._index)if(u._index.hasOwnProperty(l))for(var h=u._index[l],p=0,g=h.getListing();p<g.length;p+=1){var _=g[p],I=h.getItem(_);Nn(I)&&c(I.getData())}},Mr.prototype.addPath=function(c,u){if(!u)throw new Error("Inode must be specified");if(c[0]!=="/")throw new Error("Path must be absolute, got: "+c);if(this._index.hasOwnProperty(c))return this._index[c]===u;var l=this._split_path(c),h=l[0],p=l[1],g=this._index[h];return!(g===void 0&&c!=="/"&&(g=new cr,!this.addPath(h,g))||c!=="/"&&!g.addItem(p,u)||(Wn(u)&&(this._index[c]=u),0))},Mr.prototype.addPathFast=function(c,u){var l=c.lastIndexOf("/"),h=l===0?"/":c.substring(0,l),p=c.substring(l+1),g=this._index[h];return g===void 0&&(g=new cr,this.addPathFast(h,g)),!!g.addItem(p,u)&&(u.isDir()&&(this._index[c]=u),!0)},Mr.prototype.removePath=function(c){var u=this._split_path(c),l=u[0],h=u[1],p=this._index[l];if(p===void 0)return null;var g=p.remItem(h);if(g===null)return null;if(Wn(g)){for(var _=0,I=g.getListing();_<I.length;_+=1){var P=I[_];this.removePath(c+"/"+P)}c!=="/"&&delete this._index[c]}return g},Mr.prototype.ls=function(c){var u=this._index[c];return u===void 0?null:u.getListing()},Mr.prototype.getInode=function(c){var u=this._split_path(c),l=u[0],h=u[1],p=this._index[l];return p===void 0?null:l===c?p:p.getItem(h)},Mr.prototype._split_path=function(c){var u=d.dirname(c);return[u,c.substr(u.length+(u==="/"?0:1))]};var So=function(c){this.data=c};So.prototype.isFile=function(){return!0},So.prototype.isDir=function(){return!1},So.prototype.getData=function(){return this.data},So.prototype.setData=function(c){this.data=c};var cr=function(c){c===void 0&&(c=null),this.data=c,this._ls={}};function Nn(c){return!!c&&c.isFile()}function Wn(c){return!!c&&c.isDir()}cr.prototype.isFile=function(){return!1},cr.prototype.isDir=function(){return!0},cr.prototype.getData=function(){return this.data},cr.prototype.getStats=function(){return new k(b.DIRECTORY,4096,365)},cr.prototype.getListing=function(){return Object.keys(this._ls)},cr.prototype.getItem=function(c){var u=this._ls[c];return u||null},cr.prototype.addItem=function(c,u){return!(c in this._ls)&&(this._ls[c]=u,!0)},cr.prototype.remItem=function(c){var u=this._ls[c];return u===void 0?null:(delete this._ls[c],u)};var kl=function(c){function u(l,h,p){h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),l||(l="index.json"),h.length>0&&h.charAt(h.length-1)!=="/"&&(h+="/"),this.prefixUrl=h;var g=null;if(typeof l=="string"){if(!(g=this._requestFileSync(l,"json")))throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else g=l;ye(p,u.Name,{index:typeof l=="string"?l:"file index as an object",baseUrl:h}),this._index=Mr.fromListing(g)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){l.index===void 0&&(l.index="index.json"),typeof l.index=="string"?u.FromURL(l.index,h,l.baseUrl,!1):h(null,new u(l.index,l.baseUrl,!1))},u.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},u.FromURL=function(l,h,p,g){p===void 0&&(p=l.slice(0,l.lastIndexOf("/")+1)),g===void 0&&(g=!0),g&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+l+'", baseUrl: "'+p+`" }, cb)' instead.`),vm(l,"json",function(_,I){_?h(_):h(null,new u(I,p,!1))})},u.prototype.empty=function(){this._index.fileIterator(function(l){l.fileData=null})},u.prototype.getName=function(){return u.Name},u.prototype.diskSpace=function(l,h){h(0,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.preloadFile=function(l,h){var p=this._index.getInode(l);if(!Nn(p))throw y.EISDIR(l);if(p===null)throw y.ENOENT(l);var g=p.getData();g.size=h.length,g.fileData=h},u.prototype.stat=function(l,h,p){var g,_=this._index.getInode(l);if(_===null)return p(y.ENOENT(l));Nn(_)?(g=_.getData()).size<0?this._requestFileSizeAsync(l,function(I,P){if(I)return p(I);g.size=P,p(null,g.clone())}):p(null,g.clone()):Wn(_)?(g=_.getStats(),p(null,g)):p(y.FileError(a.EINVAL,l))},u.prototype.statSync=function(l,h){var p,g=this._index.getInode(l);if(g===null)throw y.ENOENT(l);if(Nn(g))(p=g.getData()).size<0&&(p.size=this._requestFileSizeSync(l));else{if(!Wn(g))throw y.FileError(a.EINVAL,l);p=g.getStats()}return p},u.prototype.open=function(l,h,p,g){if(h.isWriteable())return g(new y(a.EPERM,l));var _=this,I=this._index.getInode(l);if(I===null)return g(y.ENOENT(l));if(!Nn(I))return g(y.EISDIR(l));var P=I.getData();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:return g(y.EEXIST(l));case v.NOP:if(P.fileData)return g(null,new T(_,l,h,P.clone(),P.fileData));this._requestFileAsync(l,"buffer",function(q,Q){return q?g(q):(P.size=Q.length,P.fileData=Q,g(null,new T(_,l,h,P.clone(),Q)))});break;default:return g(new y(a.EINVAL,"Invalid FileMode object."))}},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var g=this._index.getInode(l);if(g===null)throw y.ENOENT(l);if(!Nn(g))throw y.EISDIR(l);var _=g.getData();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(l);case v.NOP:if(_.fileData)return new T(this,l,h,_.clone(),_.fileData);var I=this._requestFileSync(l,"buffer");return _.size=I.length,_.fileData=I,new T(this,l,h,_.clone(),I);default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdir=function(l,h){try{h(null,this.readdirSync(l))}catch(p){h(p)}},u.prototype.readdirSync=function(l){var h=this._index.getInode(l);if(h===null)throw y.ENOENT(l);if(Wn(h))return h.getListing();throw y.ENOTDIR(l)},u.prototype.readFile=function(l,h,p,g){var _=g;this.open(l,p,420,function(I,P){if(I)return g(I);g=function(Q,ce){P.close(function(de){return Q||(Q=de),_(Q,ce)})};var q=P.getBuffer();h===null?g(I,se(q)):function(Q,ce,de){try{de(null,Q.toString(ce))}catch(ge){de(ge)}}(q,h,g)})},u.prototype.readFileSync=function(l,h,p){var g=this.openSync(l,p,420);try{var _=g.getBuffer();return h===null?se(_):_.toString(h)}finally{g.closeSync()}},u.prototype.getXhrPath=function(l){return l.charAt(0)==="/"&&(l=l.slice(1)),this.prefixUrl+l},u.prototype._requestFileAsync=function(l,h,p){vm(this.getXhrPath(l),h,p)},u.prototype._requestFileSync=function(l,h){return n3(this.getXhrPath(l),h)},u.prototype._requestFileSizeAsync=function(l,h){(function(p,g){gm(!0,p,g)})(this.getXhrPath(l),h)},u.prototype._requestFileSizeSync=function(l){return h=this.getXhrPath(l),p=-1,gm(!1,h,function(g,_){if(g)throw g;p=_}),p;var h,p},u}(J);kl.Name="XmlHttpRequest",kl.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Fi=function(){};Fi.str2byte=function(c,u){for(var l=c.length>u.length?u.length:c.length,h=0;h<l;h++){var p=c.charCodeAt(h);if(p>127){var g=Fi.extendedChars.indexOf(c.charAt(h));g>-1&&(p=g+128)}u[p]=h}return l},Fi.byte2str=function(c){for(var u=new Array(c.length),l=0;l<c.length;l++){var h=c[l];u[l]=h>127?Fi.extendedChars[h-128]:String.fromCharCode(h)}return u.join("")},Fi.byteLength=function(c){return c.length},Fi.extendedChars=["\xC7","\xFC","\xE9","\xE2","\xE4","\xE0","\xE5","\xE7","\xEA","\xEB","\xE8","\xEF","\xEE","\xEC","\xC4","\xC5","\xC9","\xE6","\xC6","\xF4","\xF6","\xF2","\xFB","\xF9","\xFF","\xD6","\xDC","\xF8","\xA3","\xD8","\xD7","\u0192","\xE1","\xED","\xF3","\xFA","\xF1","\xD1","\xAA","\xBA","\xBF","\xAE","\xAC","\xBD","\xBC","\xA1","\xAB","\xBB","_","_","_","\xA6","\xA6","\xC1","\xC2","\xC0","\xA9","\xA6","\xA6","+","+","\xA2","\xA5","+","+","-","-","+","-","+","\xE3","\xC3","+","+","-","-","\xA6","-","+","\xA4","\xF0","\xD0","\xCA","\xCB","\xC8","i","\xCD","\xCE","\xCF","+","+","_","_","\xA6","\xCC","_","\xD3","\xDF","\xD4","\xD2","\xF5","\xD5","\xB5","\xFE","\xDE","\xDA","\xDB","\xD9","\xFD","\xDD","\xAF","\xB4","\xAD","\xB1","_","\xBE","\xB6","\xA7","\xF7","\xB8","\xB0","\xA8","\xB7","\xB9","\xB3","\xB2","_"," "];var wm,Eo,i3=r(31).inflateRaw,_m={};function Sm(c,u){return new Date(1980+(u>>9),(u>>5&15)-1,31&u,c>>11,c>>5&63,31&c)}function Tl(c,u,l,h){return h===0?"":u?c.toString("utf8",l,l+h):Fi.byte2str(c.slice(l,l+h))}(function(c){c[c.MSDOS=0]="MSDOS",c[c.AMIGA=1]="AMIGA",c[c.OPENVMS=2]="OPENVMS",c[c.UNIX=3]="UNIX",c[c.VM_CMS=4]="VM_CMS",c[c.ATARI_ST=5]="ATARI_ST",c[c.OS2_HPFS=6]="OS2_HPFS",c[c.MAC=7]="MAC",c[c.Z_SYSTEM=8]="Z_SYSTEM",c[c.CP_M=9]="CP_M",c[c.NTFS=10]="NTFS",c[c.MVS=11]="MVS",c[c.VSE=12]="VSE",c[c.ACORN_RISC=13]="ACORN_RISC",c[c.VFAT=14]="VFAT",c[c.ALT_MVS=15]="ALT_MVS",c[c.BEOS=16]="BEOS",c[c.TANDEM=17]="TANDEM",c[c.OS_400=18]="OS_400",c[c.OSX=19]="OSX"})(wm||(wm={})),function(c){c[c.STORED=0]="STORED",c[c.SHRUNK=1]="SHRUNK",c[c.REDUCED_1=2]="REDUCED_1",c[c.REDUCED_2=3]="REDUCED_2",c[c.REDUCED_3=4]="REDUCED_3",c[c.REDUCED_4=5]="REDUCED_4",c[c.IMPLODE=6]="IMPLODE",c[c.DEFLATE=8]="DEFLATE",c[c.DEFLATE64=9]="DEFLATE64",c[c.TERSE_OLD=10]="TERSE_OLD",c[c.BZIP2=12]="BZIP2",c[c.LZMA=14]="LZMA",c[c.TERSE_NEW=18]="TERSE_NEW",c[c.LZ77=19]="LZ77",c[c.WAVPACK=97]="WAVPACK",c[c.PPMD=98]="PPMD"}(Eo||(Eo={}));var kr=function(c){if(this.data=c,c.readUInt32LE(0)!==67324752)throw new y(a.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};kr.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},kr.prototype.flags=function(){return this.data.readUInt16LE(6)},kr.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},kr.prototype.lastModFileTime=function(){return Sm(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},kr.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},kr.prototype.crc32=function(){return this.data.readUInt32LE(14)},kr.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},kr.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},kr.prototype.fileName=function(){return Tl(this.data,this.useUTF8(),30,this.fileNameLength())},kr.prototype.extraField=function(){var c=30+this.fileNameLength();return this.data.slice(c,c+this.extraFieldLength())},kr.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},kr.prototype.useUTF8=function(){return(2048&this.flags())==2048};var js=function(c,u,l){this.header=c,this.record=u,this.data=l};js.prototype.decompress=function(){var c=this.header.compressionMethod(),u=_m[c];if(u)return u(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var l=Eo[c];throw l||(l="Unknown: "+c),new y(a.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+l)},js.prototype.getHeader=function(){return this.header},js.prototype.getRecord=function(){return this.record},js.prototype.getRawData=function(){return this.data};var je=function(c,u){if(this.zipData=c,this.data=u,this.data.readUInt32LE(0)!==33639248)throw new y(a.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};je.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},je.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},je.prototype.flag=function(){return this.data.readUInt16LE(8)},je.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},je.prototype.lastModFileTime=function(){return Sm(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},je.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},je.prototype.crc32=function(){return this.data.readUInt32LE(16)},je.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},je.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},je.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},je.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},je.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},je.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},je.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},je.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},je.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},je.prototype.produceFilename=function(){return Tl(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},je.prototype.fileName=function(){return this._filename},je.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},je.prototype.extraField=function(){var c=44+this.fileNameLength();return this.data.slice(c,c+this.extraFieldLength())},je.prototype.fileComment=function(){var c=46+this.fileNameLength()+this.extraFieldLength();return Tl(this.data,this.useUTF8(),c,this.fileCommentLength())},je.prototype.rawFileComment=function(){var c=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(c,c+this.fileCommentLength())},je.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},je.prototype.isDirectory=function(){var c=this.fileName();return!!(16&this.externalAttributes())||c.charAt(c.length-1)==="/"},je.prototype.isFile=function(){return!this.isDirectory()},je.prototype.useUTF8=function(){return(2048&this.flag())==2048},je.prototype.isEncrypted=function(){return(1&this.flag())==1},je.prototype.getFileData=function(){var c=this.headerRelativeOffset(),u=new kr(this.zipData.slice(c));return new js(u,this,this.zipData.slice(c+u.totalSize()))},je.prototype.getData=function(){return this.getFileData().decompress()},je.prototype.getRawData=function(){return this.getFileData().getRawData()},je.prototype.getStats=function(){return new k(b.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var dn=function(c){if(this.data=c,this.data.readUInt32LE(0)!==101010256)throw new y(a.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};dn.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},dn.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},dn.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},dn.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},dn.prototype.cdSize=function(){return this.data.readUInt32LE(12)},dn.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},dn.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},dn.prototype.cdZipComment=function(){return Tl(this.data,!0,22,this.cdZipCommentLength())},dn.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Em=function(c,u,l,h){this.index=c,this.directoryEntries=u,this.eocd=l,this.data=h},Ci=function(c){function u(l,h,p){h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),this.name=h,this._index=new Mr,this._directoryEntries=[],this._eocd=null,ye(p,u.Name,{zipData:"zip data as a Buffer",name:h}),l instanceof Em?(this._index=l.index,this._directoryEntries=l.directoryEntries,this._eocd=l.eocd,this.data=l.data):(this.data=l,this.populateIndex())}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){try{u.computeIndex(l.zipData,function(p){var g=new u(p,l.name,!1);h(null,g)},!1)}catch(p){h(p)}},u.isAvailable=function(){return!0},u.RegisterDecompressionMethod=function(l,h){_m[l]=h},u.computeIndex=function(l,h,p){p===void 0&&(p=!0),p&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var g=new Mr,_=u.getEOCD(l);if(_.diskNumber()!==_.cdDiskNumber())throw new y(a.EINVAL,"ZipFS does not support spanned zip files.");var I=_.cdOffset();if(I===4294967295)throw new y(a.EINVAL,"ZipFS does not support Zip64.");var P=I+_.cdSize();u.computeIndexResponsive(l,g,I,P,h,[],_)},u.getEOCD=function(l){for(var h=Math.min(65557,l.length-1),p=22;p<h;p++)if(l.readUInt32LE(l.length-p)===101010256)return new dn(l.slice(l.length-p));throw new y(a.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},u.addToIndex=function(l,h){var p=l.fileName();if(p.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");p.charAt(p.length-1)==="/"&&(p=p.substr(0,p.length-1)),l.isDirectory()?h.addPathFast("/"+p,new cr(l)):h.addPathFast("/"+p,new So(l))},u.computeIndexResponsive=function(l,h,p,g,_,I,P){if(p<g){for(var q=0;q++<200&&p<g;){var Q=new je(l,l.slice(p));u.addToIndex(Q,h),p+=Q.totalSize(),I.push(Q)}qf(function(){u.computeIndexResponsive(l,h,p,g,_,I,P)})}else _(new Em(h,I,P,l))},u.prototype.getName=function(){return u.Name+(this.name!==""?" "+this.name:"")},u.prototype.getCentralDirectoryEntry=function(l){var h=this._index.getInode(l);if(h===null)throw y.ENOENT(l);if(Nn(h)||Wn(h))return h.getData();throw y.EPERM("Invalid inode: "+h)},u.prototype.getCentralDirectoryEntryAt=function(l){var h=this._directoryEntries[l];if(!h)throw new RangeError("Invalid directory index: "+l+".");return h},u.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},u.prototype.getEndOfCentralDirectory=function(){return this._eocd},u.prototype.diskSpace=function(l,h){h(this.data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(l,h){var p,g=this._index.getInode(l);if(g===null)throw y.ENOENT(l);if(Nn(g))p=g.getData().getStats();else{if(!Wn(g))throw new y(a.EINVAL,"Invalid inode.");p=g.getStats()}return p},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var g=this._index.getInode(l);if(!g)throw y.ENOENT(l);if(!Nn(g))throw y.EISDIR(l);var _=g.getData(),I=_.getStats();switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(l);case v.NOP:return new T(this,l,h,I,_.getData());default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(l){var h=this._index.getInode(l);if(h){if(Wn(h))return h.getListing();throw y.ENOTDIR(l)}throw y.ENOENT(l)},u.prototype.readFileSync=function(l,h,p){var g=this.openSync(l,p,420);try{var _=g.getBuffer();return h===null?se(_):_.toString(h)}finally{g.closeSync()}},u.prototype.populateIndex=function(){var l=this,h=this._eocd=u.getEOCD(this.data);if(h.diskNumber()!==h.cdDiskNumber())throw new y(a.EINVAL,"ZipFS does not support spanned zip files.");var p=h.cdOffset();if(p===4294967295)throw new y(a.EINVAL,"ZipFS does not support Zip64.");for(var g=p+h.cdSize();p<g;){var _=new je(l.data,l.data.slice(p));p+=_.totalSize(),u.addToIndex(_,l._index),l._directoryEntries.push(_)}},u}(_e);function fr(c,u,l){return c.toString("ascii",u,u+l).trim()}function Hf(c,u,l){if(l===1)return String.fromCharCode(c[u]);for(var h=Math.floor(l/2),p=new Array(h),g=0;g<h;g++){var _=u+(g<<1);p[g]=String.fromCharCode(c[_+1]|c[_]<<8)}return p.join("")}function pn(c,u){var l=parseInt(fr(c,u,4),10),h=parseInt(fr(c,u+4,2),10),p=parseInt(fr(c,u+6,2),10),g=parseInt(fr(c,u+8,2),10),_=parseInt(fr(c,u+10,2),10),I=parseInt(fr(c,u+12,2),10),P=parseInt(fr(c,u+14,2),10);return new Date(l,h,p,g,_,I,100*P)}function Pi(c,u){var l=c[u],h=c[u+1],p=c[u+2],g=c[u+3],_=c[u+4],I=c[u+5];return new Date(l,h-1,p,g,_,I)}function o3(c,u){var l=c.slice(u),h=new kt(l);switch(h.signatureWord()){case 17221:return new Tm(l);case 20548:return new l3(l);case 21328:return new Nm(l);case 21332:return new Im(l);case 17746:return new Am(l);case 17747:return new u3(l);case 20568:return new Dm(l);case 20558:return new c3(l);case 21324:return new Gf(l);case 20045:return new Fm(l);case 17228:return new Jf(l);case 20556:return new f3(l);case 21061:return new Cm(l);case 21574:return new Pm(l);case 21318:return new h3(l);case 21074:return new Rm(l);default:return h}}function bm(c,u,l,h){l-=4;for(var p=new Array;u<l;){var g=o3(c,u),_=g.length();if(_===0)return p;if(u+=_,g instanceof Im)break;g instanceof Tm?p=p.concat(g.getEntries(h)):p.push(g)}return p}Ci.Name="ZipFS",Ci.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:Ie},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Ci.CompressionMethod=Eo,Ci.RegisterDecompressionMethod(Eo.DEFLATE,function(c,u,l){return ue(i3(c.slice(0,u),{chunkSize:l}))}),Ci.RegisterDecompressionMethod(Eo.STORED,function(c,u,l){return se(c,0,l)});var bo=function(c){this._data=c};bo.prototype.type=function(){return this._data[0]},bo.prototype.standardIdentifier=function(){return fr(this._data,1,5)},bo.prototype.version=function(){return this._data[6]},bo.prototype.data=function(){return this._data.slice(7,2048)};var xm=function(c){function u(l){c.call(this,l),this._root=null}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.systemIdentifier=function(){return this._getString32(8)},u.prototype.volumeIdentifier=function(){return this._getString32(40)},u.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},u.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},u.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},u.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},u.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},u.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},u.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},u.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},u.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},u.prototype.rootDirectoryEntry=function(l){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(l)),this._root},u.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},u.prototype.publisherIdentifier=function(){return this._getString(318,128)},u.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},u.prototype.applicationIdentifier=function(){return this._getString(574,128)},u.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},u.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},u.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},u.prototype.volumeCreationDate=function(){return pn(this._data,813)},u.prototype.volumeModificationDate=function(){return pn(this._data,830)},u.prototype.volumeExpirationDate=function(){return pn(this._data,847)},u.prototype.volumeEffectiveDate=function(){return pn(this._data,864)},u.prototype.fileStructureVersion=function(){return this._data[881]},u.prototype.applicationUsed=function(){return this._data.slice(883,1395)},u.prototype.reserved=function(){return this._data.slice(1395,2048)},u.prototype._getString32=function(l){return this._getString(l,32)},u}(bo),s3=function(c){function u(l){if(c.call(this,l),this.type()!==1)throw new y(a.EIO,"Invalid primary volume descriptor.")}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"ISO9660"},u.prototype._constructRootDirectoryRecord=function(l){return new Om(l,-1)},u.prototype._getString=function(l,h){return this._getString(l,h)},u}(xm),a3=function(c){function u(l){if(c.call(this,l),this.type()!==2)throw new y(a.EIO,"Invalid supplementary volume descriptor.");var h=this.escapeSequence(),p=h[2];if(h[0]!==37||h[1]!==47||p!==64&&p!==67&&p!==69)throw new y(a.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+h.toString())}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.name=function(){return"Joliet"},u.prototype.escapeSequence=function(){return this._data.slice(88,120)},u.prototype._constructRootDirectoryRecord=function(l){return new km(l,-1)},u.prototype._getString=function(l,h){return Hf(this._data,l,h)},u}(xm),tt=function(c,u){this._suEntries=null,this._fileOrDir=null,this._data=c,this._rockRidgeOffset=u};tt.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},tt.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},tt.prototype.rootCheckForRockRidge=function(c){var u=this.getDirectory(c);this._rockRidgeOffset=u.getDotEntry(c)._getRockRidgeOffset(c),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},tt.prototype.length=function(){return this._data[0]},tt.prototype.extendedAttributeRecordLength=function(){return this._data[1]},tt.prototype.lba=function(){return 2048*this._data.readUInt32LE(2)},tt.prototype.dataLength=function(){return this._data.readUInt32LE(10)},tt.prototype.recordingDate=function(){return Pi(this._data,18)},tt.prototype.fileFlags=function(){return this._data[25]},tt.prototype.fileUnitSize=function(){return this._data[26]},tt.prototype.interleaveGapSize=function(){return this._data[27]},tt.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},tt.prototype.identifier=function(){return this._getString(33,this._data[32])},tt.prototype.fileName=function(c){if(this.hasRockRidge()){var u=this._rockRidgeFilename(c);if(u!==null)return u}var l=this.identifier();if(this.isDirectory(c))return l;var h=l.indexOf(";");return h===-1?l:l[h-1]==="."?l.slice(0,h-1):l.slice(0,h)},tt.prototype.isDirectory=function(c){var u=!!(2&this.fileFlags());return!u&&this.hasRockRidge()&&(u=this.getSUEntries(c).filter(function(l){return l instanceof Jf}).length>0),u},tt.prototype.isSymlink=function(c){return this.hasRockRidge()&&this.getSUEntries(c).filter(function(u){return u instanceof Gf}).length>0},tt.prototype.getSymlinkPath=function(c){for(var u="",l=this.getSUEntries(c),h=this._getGetString(),p=0,g=l;p<g.length;p+=1){var _=g[p];if(_ instanceof Gf){for(var I=0,P=_.componentRecords();I<P.length;I+=1){var q=P[I],Q=q.flags();2&Q?u+="./":4&Q?u+="../":8&Q?u+="/":(u+=q.content(h),1&Q||(u+="/"))}if(!_.continueFlag())break}}return u.length>1&&u[u.length-1]==="/"?u.slice(0,u.length-1):u},tt.prototype.getFile=function(c){if(this.isDirectory(c))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=c.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},tt.prototype.getDirectory=function(c){if(!this.isDirectory(c))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(c)),this._fileOrDir},tt.prototype.getSUEntries=function(c){return this._suEntries||this._constructSUEntries(c),this._suEntries},tt.prototype._rockRidgeFilename=function(c){var u=this.getSUEntries(c).filter(function(I){return I instanceof Fm});if(u.length===0||6&u[0].flags())return null;for(var l="",h=this._getGetString(),p=0,g=u;p<g.length;p+=1){var _=g[p];if(l+=_.name(h),!(1&_.flags()))break}return l},tt.prototype._constructSUEntries=function(c){var u=33+this._data[32];u%2==1&&u++,u+=this._rockRidgeOffset,this._suEntries=bm(this._data,u,this.length(),c)},tt.prototype._getRockRidgeOffset=function(c){this._rockRidgeOffset=0;var u=this.getSUEntries(c);if(u.length>0){var l=u[0];if(l instanceof Nm&&l.checkBytesPass())for(var h=1;h<u.length;h++){var p=u[h];if(p instanceof Rm||p instanceof Am&&p.extensionIdentifier()==="IEEE_P1282")return l.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Om=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._getString=function(l,h){return fr(this._data,l,h)},u.prototype._constructDirectory=function(l){return new d3(this,l)},u.prototype._getGetString=function(){return fr},u}(tt),km=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._getString=function(l,h){return Hf(this._data,l,h)},u.prototype._constructDirectory=function(l){return new p3(this,l)},u.prototype._getGetString=function(){return Hf},u}(tt),kt=function(c){this._data=c};kt.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},kt.prototype.signatureWordString=function(){return fr(this._data,0,2)},kt.prototype.length=function(){return this._data[2]},kt.prototype.suVersion=function(){return this._data[3]};var Tm=function(c){function u(l){c.call(this,l),this._entries=null}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},u.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},u.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},u.prototype.getEntries=function(l){if(!this._entries){var h=2048*this.continuationLba()+this.continuationLbaOffset();this._entries=bm(l,h,this.continuationLength(),l)}return this._entries},u}(kt),l3=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(kt),Nm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},u.prototype.bytesSkipped=function(){return this._data[6]},u}(kt),Im=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(kt),Am=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.identifierLength=function(){return this._data[4]},u.prototype.descriptorLength=function(){return this._data[5]},u.prototype.sourceLength=function(){return this._data[6]},u.prototype.extensionVersion=function(){return this._data[7]},u.prototype.extensionIdentifier=function(){return fr(this._data,8,this.identifierLength())},u.prototype.extensionDescriptor=function(){return fr(this._data,8+this.identifierLength(),this.descriptorLength())},u.prototype.extensionSource=function(){return fr(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},u}(kt),u3=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.extensionSequence=function(){return this._data[4]},u}(kt),Rm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(kt),Dm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.mode=function(){return this._data.readUInt32LE(4)},u.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},u.prototype.uid=function(){return this._data.readUInt32LE(20)},u.prototype.gid=function(){return this._data.readUInt32LE(28)},u.prototype.inode=function(){return this._data.readUInt32LE(36)},u}(kt),c3=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},u.prototype.devTLow=function(){return this._data.readUInt32LE(12)},u}(kt),Gf=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.continueFlag=function(){return 1&this.flags()},u.prototype.componentRecords=function(){for(var l=new Array,h=5;h<this.length();){var p=new Bs(this._data.slice(h));l.push(p),h+=p.length()}return l},u}(kt),Bs=function(c){this._data=c};Bs.prototype.flags=function(){return this._data[0]},Bs.prototype.length=function(){return 2+this.componentLength()},Bs.prototype.componentLength=function(){return this._data[1]},Bs.prototype.content=function(c){return c(this._data,2,this.componentLength())};var Fm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.name=function(l){return l(this._data,5,this.length()-5)},u}(kt),Jf=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(kt),f3=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},u}(kt),Cm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u}(kt),Pm=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.flags=function(){return this._data[4]},u.prototype.creation=function(){return 1&this.flags()?this._longFormDates()?pn(this._data,5):Pi(this._data,5):null},u.prototype.modify=function(){if(2&this.flags()){var l=1&this.flags()?1:0;return this._longFormDates?pn(this._data,5+17*l):Pi(this._data,5+7*l)}return null},u.prototype.access=function(){if(4&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,this._longFormDates?pn(this._data,5+17*l):Pi(this._data,5+7*l)}return null},u.prototype.backup=function(){if(16&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,this._longFormDates?pn(this._data,5+17*l):Pi(this._data,5+7*l)}return null},u.prototype.expiration=function(){if(32&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,this._longFormDates?pn(this._data,5+17*l):Pi(this._data,5+7*l)}return null},u.prototype.effective=function(){if(64&this.flags()){var l=1&this.flags()?1:0;return l+=2&this.flags()?1:0,l+=4&this.flags()?1:0,l+=16&this.flags()?1:0,l+=32&this.flags()?1:0,this._longFormDates?pn(this._data,5+17*l):Pi(this._data,5+7*l)}return null},u.prototype._longFormDates=function(){return!!this.flags()},u}(kt),h3=function(c){function u(l){c.call(this,l)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},u.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},u.prototype.tableDepth=function(){return this._data[20]},u}(kt),Us=function(c,u){var l=this;this._fileList=[],this._fileMap={},this._record=c;var h=c.lba(),p=h+c.dataLength();for(2&c.fileFlags()||(h=2048*c.getSUEntries(u).filter(function(I){return I instanceof Jf})[0].childDirectoryLba(),p=1/0);h<p;)if(u[h]!==0){var g=l._constructDirectoryRecord(u.slice(h)),_=g.fileName(u);_!=="\0"&&_!==""?g.hasRockRidge()&&g.getSUEntries(u).filter(function(I){return I instanceof Cm}).length!==0||(l._fileMap[_]=g,l._fileList.push(_)):p===1/0&&(p=h+g.dataLength()),h+=g.length()}else h++};Us.prototype.getRecord=function(c){return this._fileMap[c]},Us.prototype.getFileList=function(){return this._fileList},Us.prototype.getDotEntry=function(c){return this._constructDirectoryRecord(c.slice(this._record.lba()))};var d3=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(l){return new Om(l,this._record.getRockRidgeOffset())},u}(Us),p3=function(c){function u(l,h){c.call(this,l,h)}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.prototype._constructDirectoryRecord=function(l){return new km(l,this._record.getRockRidgeOffset())},u}(Us),Nl=function(c){function u(l,h,p){var g=this;h===void 0&&(h=""),p===void 0&&(p=!0),c.call(this),this._data=l,ye(p,u.Name,{data:"ISO data as a Buffer",name:h});for(var _=!1,I=32768,P=new Array;!_;){var q=l.slice(I);switch(new bo(q).type()){case 1:P.push(new s3(q));break;case 2:P.push(new a3(q));break;case 255:_=!0}I+=2048}if(P.length===0)throw new y(a.EIO,"Unable to find a suitable volume descriptor.");P.forEach(function(Q){g._pvd&&g._pvd.type()===2||(g._pvd=Q)}),this._root=this._pvd.rootDirectoryEntry(l),this._name=h}return c&&(u.__proto__=c),u.prototype=Object.create(c&&c.prototype),u.prototype.constructor=u,u.Create=function(l,h){var p,g;try{p=new u(l.data,l.name,!1)}catch(_){_=_}finally{h(void 0,p)}},u.isAvailable=function(){return!0},u.prototype.getName=function(){var l="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(l+="-RockRidge"),l},u.prototype.diskSpace=function(l,h){h(this._data.length,0)},u.prototype.isReadOnly=function(){return!0},u.prototype.supportsLinks=function(){return!1},u.prototype.supportsProps=function(){return!1},u.prototype.supportsSynch=function(){return!0},u.prototype.statSync=function(l,h){var p=this._getDirectoryRecord(l);if(p===null)throw y.ENOENT(l);return this._getStats(l,p)},u.prototype.openSync=function(l,h,p){if(h.isWriteable())throw new y(a.EPERM,l);var g=this._getDirectoryRecord(l);if(!g)throw y.ENOENT(l);if(g.isSymlink(this._data))return this.openSync(d.resolve(l,g.getSymlinkPath(this._data)),h,p);if(g.isDirectory(this._data))throw y.EISDIR(l);var _=g.getFile(this._data),I=this._getStats(l,g);switch(h.pathExistsAction()){case v.THROW_EXCEPTION:case v.TRUNCATE_FILE:throw y.EEXIST(l);case v.NOP:return new T(this,l,h,I,_);default:throw new y(a.EINVAL,"Invalid FileMode object.")}},u.prototype.readdirSync=function(l){var h=this._getDirectoryRecord(l);if(h){if(h.isDirectory(this._data))return h.getDirectory(this._data).getFileList().slice(0);throw y.ENOTDIR(l)}throw y.ENOENT(l)},u.prototype.readFileSync=function(l,h,p){var g=this.openSync(l,p,420);try{var _=g.getBuffer();return h===null?se(_):_.toString(h)}finally{g.closeSync()}},u.prototype._getDirectoryRecord=function(l){if(l==="/")return this._root;for(var h=l.split("/").slice(1),p=this._root,g=0,_=h;g<_.length;g+=1){var I=_[g];if(!p.isDirectory(this._data)||!(p=p.getDirectory(this._data).getRecord(I)))return null}return p},u.prototype._getStats=function(l,h){if(h.isSymlink(this._data)){var p=d.resolve(l,h.getSymlinkPath(this._data)),g=this._getDirectoryRecord(p);return g?this._getStats(p,g):null}var _=h.dataLength(),I=365,P=h.recordingDate(),q=P,Q=P,ce=P;if(h.hasRockRidge())for(var de=0,ge=h.getSUEntries(this._data);de<ge.length;de+=1){var ve=ge[de];if(ve instanceof Dm)I=ve.mode();else if(ve instanceof Pm){var Te=ve.flags();4&Te&&(q=ve.access()),2&Te&&(Q=ve.modify()),1&Te&&(ce=ve.creation())}}return I&=365,new k(h.isDirectory(this._data)?b.DIRECTORY:b.FILE,_,I,q,Q,ce)},u}(_e);Nl.Name="IsoFS",Nl.Options={data:{type:"object",description:"The ISO file in a buffer",validator:Ie}},[ee,gl,vl,go,wl,vo,Ds,Nl,Cs,wo,Ms,Ol,kl,Ci].forEach(function(c){var u=c.Create;c.Create=function(l,h){var p=typeof l=="function",g=p?l:h,_=p?{}:l;O(c,_,function(I){I?g(I):u.call(c,_,g)})}});var Lm,Il={AsyncMirror:ee,Dropbox:gl,Emscripten:vl,FolderAdapter:go,HTML5FS:wl,InMemory:vo,IndexedDB:Ds,IsoFS:Nl,LocalStorage:Cs,MountableFileSystem:wo,OverlayFS:Ms,WorkerFS:Ol,XmlHttpRequest:kl,ZipFS:Ci};function Mm(c){switch(c){case"fs":return te;case"path":return d;case"buffer":return f;case"process":return s;case"bfs_utils":return R;default:return Il[c]}}function jm(c){return te.initialize(c)}function Yf(c,u){var l=c.fs;if(!l)return u(new y(a.EPERM,'Missing "fs" property on configuration object.'));var h=c.options,p=0,g=!1;function _(){if(!g){g=!0;var P=Il[l];P?P.Create(h,u):u(new y(a.EPERM,"File system "+l+" is not available in BrowserFS."))}}if(h!==null&&typeof h=="object"){var I=!1;Object.keys(h).filter(function(P){return P!=="fs"}).forEach(function(P){var q=h[P];q!==null&&typeof q=="object"&&q.fs&&(p++,Yf(q,function(Q,ce){if(p--,Q){if(g)return;g=!0,u(Q)}else h[P]=ce,p===0&&I&&_()}))}),I=!0}p===0&&_()}s.initializeTTYs&&s.initializeTTYs(),"ab".substr(-1)!=="b"&&(String.prototype.substr=(Lm=String.prototype.substr,function(c,u){return c<0&&(c=this.length+c),Lm.call(this,c,u)})),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(c,u){return c===void 0&&(c=0),u===void 0&&(u=this.length),c<0&&(c=this.length+c)<0&&(c=0),u<0&&(u=this.length+u)<0&&(u=0),u<c&&(u=c),new Uint8Array(this.buffer,this.byteOffset+c,u-c)})),e.install=function(c){c.Buffer=n,c.process=s;var u=c.require?c.require:null;c.require=function(l){var h=Mm(l);return h||u.apply(null,Array.prototype.slice.call(arguments,0))}},e.registerFileSystem=function(c,u){Il[c]=u},e.BFSRequire=Mm,e.initialize=jm,e.configure=function(c,u){Yf(c,function(l,h){h?(jm(h),u()):u(l)})},e.getFileSystem=Yf,e.EmscriptenFS=K,e.FileSystem=Il,e.Errors=w,e.setImmediate=qf}).call(e,r(1),function(){return this}(),r(5)(t),r(6))},function(t,e,r){t.exports=r(2).Buffer},function(t,e,r){(function(f){var i=r(3),o=r(4);e.Buffer=f,e.SlowBuffer=function(O){return+O!=O&&(O=0),f.alloc(+O)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(O){if(O>s)throw new RangeError("Invalid typed array length");var R=new Uint8Array(O);return R.__proto__=f.prototype,R}function f(O,R,j){if(typeof O=="number"){if(typeof R=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(O)}return d(O,R,j)}function d(O,R,j){if(typeof O=="number")throw new TypeError('"value" argument must not be a number');return pe(O)?function($,K,J){if(K<0||$.byteLength<K)throw new RangeError("'offset' is out of bounds");if($.byteLength<K+(J||0))throw new RangeError("'length' is out of bounds");var _e;return(_e=K===void 0&&J===void 0?new Uint8Array($):J===void 0?new Uint8Array($,K):new Uint8Array($,K,J)).__proto__=f.prototype,_e}(O,R,j):typeof O=="string"?function($,K){if(typeof K=="string"&&K!==""||(K="utf8"),!f.isEncoding(K))throw new TypeError('"encoding" must be a valid string encoding');var J=0|b($,K),_e=a(J),C=_e.write($,K);return C!==J&&(_e=_e.slice(0,C)),_e}(O,R):function($){if(f.isBuffer($)){var K=0|w($.length),J=a(K);return J.length===0||$.copy(J,0,0,K),J}if($){if(Ee($)||"length"in $)return typeof $.length!="number"||Ie($.length)?a(0):y($);if($.type==="Buffer"&&Array.isArray($.data))return y($.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(O)}function m(O){if(typeof O!="number")throw new TypeError('"size" argument must be a number');if(O<0)throw new RangeError('"size" argument must not be negative')}function v(O){return m(O),a(O<0?0:0|w(O))}function y(O){for(var R=O.length<0?0:0|w(O.length),j=a(R),$=0;$<R;$+=1)j[$]=255&O[$];return j}function w(O){if(O>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|O}function b(O,R){if(f.isBuffer(O))return O.length;if(Ee(O)||pe(O))return O.byteLength;typeof O!="string"&&(O=""+O);var j=O.length;if(j===0)return 0;for(var $=!1;;)switch(R){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":case void 0:return oe(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return ne(O).length;default:if($)return oe(O).length;R=(""+R).toLowerCase(),$=!0}}function A(O,R,j){var $=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(R>>>=0))return"";for(O||(O="utf8");;)switch(O){case"hex":return ye(this,R,j);case"utf8":case"utf-8":return te(this,R,j);case"ascii":return le(this,R,j);case"latin1":case"binary":return ae(this,R,j);case"base64":return W(this,R,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,R,j);default:if($)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),$=!0}}function k(O,R,j){var $=O[R];O[R]=O[j],O[j]=$}function N(O,R,j,$,K){if(O.length===0)return-1;if(typeof j=="string"?($=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),Ie(j=+j)&&(j=K?0:O.length-1),j<0&&(j=O.length+j),j>=O.length){if(K)return-1;j=O.length-1}else if(j<0){if(!K)return-1;j=0}if(typeof R=="string"&&(R=f.from(R,$)),f.isBuffer(R))return R.length===0?-1:F(O,R,j,$,K);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(O,R,j):Uint8Array.prototype.lastIndexOf.call(O,R,j):F(O,[R],j,$,K);throw new TypeError("val must be string, number or Buffer")}function F(O,R,j,$,K){var J,_e=1,C=O.length,E=R.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(O.length<2||R.length<2)return-1;_e=2,C/=2,E/=2,j/=2}function T(he,Ce){return _e===1?he[Ce]:he.readUInt16BE(Ce*_e)}if(K){var B=-1;for(J=j;J<C;J++)if(T(O,J)===T(R,B===-1?0:J-B)){if(B===-1&&(B=J),J-B+1===E)return B*_e}else B!==-1&&(J-=J-B),B=-1}else for(j+E>C&&(j=C-E),J=j;J>=0;J--){for(var ee=!0,fe=0;fe<E;fe++)if(T(O,J+fe)!==T(R,fe)){ee=!1;break}if(ee)return J}return-1}function Y(O,R,j,$){j=Number(j)||0;var K=O.length-j;$?($=Number($))>K&&($=K):$=K;var J=R.length;if(J%2!=0)throw new TypeError("Invalid hex string");$>J/2&&($=J/2);for(var _e=0;_e<$;++_e){var C=parseInt(R.substr(2*_e,2),16);if(Ie(C))return _e;O[j+_e]=C}return _e}function H(O,R,j,$){return se(oe(R,O.length-j),O,j,$)}function Z(O,R,j,$){return se(function(K){for(var J=[],_e=0;_e<K.length;++_e)J.push(255&K.charCodeAt(_e));return J}(R),O,j,$)}function L(O,R,j,$){return Z(O,R,j,$)}function V(O,R,j,$){return se(ne(R),O,j,$)}function S(O,R,j,$){return se(function(K,J){for(var _e,C,E,T=[],B=0;B<K.length&&!((J-=2)<0);++B)C=(_e=K.charCodeAt(B))>>8,E=_e%256,T.push(E),T.push(C);return T}(R,O.length-j),O,j,$)}function W(O,R,j){return R===0&&j===O.length?i.fromByteArray(O):i.fromByteArray(O.slice(R,j))}function te(O,R,j){j=Math.min(O.length,j);for(var $=[],K=R;K<j;){var J,_e,C,E,T=O[K],B=null,ee=T>239?4:T>223?3:T>191?2:1;if(K+ee<=j)switch(ee){case 1:T<128&&(B=T);break;case 2:(192&(J=O[K+1]))==128&&(E=(31&T)<<6|63&J)>127&&(B=E);break;case 3:J=O[K+1],_e=O[K+2],(192&J)==128&&(192&_e)==128&&(E=(15&T)<<12|(63&J)<<6|63&_e)>2047&&(E<55296||E>57343)&&(B=E);break;case 4:J=O[K+1],_e=O[K+2],C=O[K+3],(192&J)==128&&(192&_e)==128&&(192&C)==128&&(E=(15&T)<<18|(63&J)<<12|(63&_e)<<6|63&C)>65535&&E<1114112&&(B=E)}B===null?(B=65533,ee=1):B>65535&&(B-=65536,$.push(B>>>10&1023|55296),B=56320|1023&B),$.push(B),K+=ee}return function(fe){var he=fe.length;if(he<=X)return String.fromCharCode.apply(String,fe);for(var Ce="",Re=0;Re<he;)Ce+=String.fromCharCode.apply(String,fe.slice(Re,Re+=X));return Ce}($)}e.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=function(){try{var O=new Uint8Array(1);return O.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},O.foo()===42}catch{return!1}}(),f.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(O,R,j){return d(O,R,j)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(O,R,j){return function($,K,J){return m($),$<=0?a($):K!==void 0?typeof J=="string"?a($).fill(K,J):a($).fill(K):a($)}(O,R,j)},f.allocUnsafe=function(O){return v(O)},f.allocUnsafeSlow=function(O){return v(O)},f.isBuffer=function(O){return O!=null&&O._isBuffer===!0},f.compare=function(O,R){if(!f.isBuffer(O)||!f.isBuffer(R))throw new TypeError("Arguments must be Buffers");if(O===R)return 0;for(var j=O.length,$=R.length,K=0,J=Math.min(j,$);K<J;++K)if(O[K]!==R[K]){j=O[K],$=R[K];break}return j<$?-1:$<j?1:0},f.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(O,R){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return f.alloc(0);var j;if(R===void 0)for(R=0,j=0;j<O.length;++j)R+=O[j].length;var $=f.allocUnsafe(R),K=0;for(j=0;j<O.length;++j){var J=O[j];if(!f.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');J.copy($,K),K+=J.length}return $},f.byteLength=b,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<O;R+=2)k(this,R,R+1);return this},f.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<O;R+=4)k(this,R,R+3),k(this,R+1,R+2);return this},f.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<O;R+=8)k(this,R,R+7),k(this,R+1,R+6),k(this,R+2,R+5),k(this,R+3,R+4);return this},f.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?te(this,0,O):A.apply(this,arguments)},f.prototype.equals=function(O){if(!f.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O||f.compare(this,O)===0},f.prototype.inspect=function(){var O="",R=e.INSPECT_MAX_BYTES;return this.length>0&&(O=this.toString("hex",0,R).match(/.{2}/g).join(" "),this.length>R&&(O+=" ... ")),"<Buffer "+O+">"},f.prototype.compare=function(O,R,j,$,K){if(!f.isBuffer(O))throw new TypeError("Argument must be a Buffer");if(R===void 0&&(R=0),j===void 0&&(j=O?O.length:0),$===void 0&&($=0),K===void 0&&(K=this.length),R<0||j>O.length||$<0||K>this.length)throw new RangeError("out of range index");if($>=K&&R>=j)return 0;if($>=K)return-1;if(R>=j)return 1;if(this===O)return 0;for(var J=(K>>>=0)-($>>>=0),_e=(j>>>=0)-(R>>>=0),C=Math.min(J,_e),E=this.slice($,K),T=O.slice(R,j),B=0;B<C;++B)if(E[B]!==T[B]){J=E[B],_e=T[B];break}return J<_e?-1:_e<J?1:0},f.prototype.includes=function(O,R,j){return this.indexOf(O,R,j)!==-1},f.prototype.indexOf=function(O,R,j){return N(this,O,R,j,!0)},f.prototype.lastIndexOf=function(O,R,j){return N(this,O,R,j,!1)},f.prototype.write=function(O,R,j,$){if(R===void 0)$="utf8",j=this.length,R=0;else if(j===void 0&&typeof R=="string")$=R,j=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(j)?(j>>>=0,$===void 0&&($="utf8")):($=j,j=void 0)}var K=this.length-R;if((j===void 0||j>K)&&(j=K),O.length>0&&(j<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var J=!1;;)switch($){case"hex":return Y(this,O,R,j);case"utf8":case"utf-8":return H(this,O,R,j);case"ascii":return Z(this,O,R,j);case"latin1":case"binary":return L(this,O,R,j);case"base64":return V(this,O,R,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,O,R,j);default:if(J)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),J=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function le(O,R,j){var $="";j=Math.min(O.length,j);for(var K=R;K<j;++K)$+=String.fromCharCode(127&O[K]);return $}function ae(O,R,j){var $="";j=Math.min(O.length,j);for(var K=R;K<j;++K)$+=String.fromCharCode(O[K]);return $}function ye(O,R,j){var $,K=O.length;(!R||R<0)&&(R=0),(!j||j<0||j>K)&&(j=K);for(var J="",_e=R;_e<j;++_e)J+=($=O[_e])<16?"0"+$.toString(16):$.toString(16);return J}function M(O,R,j){for(var $=O.slice(R,j),K="",J=0;J<$.length;J+=2)K+=String.fromCharCode($[J]+256*$[J+1]);return K}function D(O,R,j){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(O+R>j)throw new RangeError("Trying to access beyond buffer length")}function ie(O,R,j,$,K,J){if(!f.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>K||R<J)throw new RangeError('"value" argument is out of bounds');if(j+$>O.length)throw new RangeError("Index out of range")}function U(O,R,j,$,K,J){if(j+$>O.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function z(O,R,j,$,K){return R=+R,j>>>=0,K||U(O,0,j,4),o.write(O,R,j,$,23,4),j+4}function G(O,R,j,$,K){return R=+R,j>>>=0,K||U(O,0,j,8),o.write(O,R,j,$,52,8),j+8}f.prototype.slice=function(O,R){var j=this.length;(O=~~O)<0?(O+=j)<0&&(O=0):O>j&&(O=j),(R=R===void 0?j:~~R)<0?(R+=j)<0&&(R=0):R>j&&(R=j),R<O&&(R=O);var $=this.subarray(O,R);return $.__proto__=f.prototype,$},f.prototype.readUIntLE=function(O,R,j){O>>>=0,R>>>=0,j||D(O,R,this.length);for(var $=this[O],K=1,J=0;++J<R&&(K*=256);)$+=this[O+J]*K;return $},f.prototype.readUIntBE=function(O,R,j){O>>>=0,R>>>=0,j||D(O,R,this.length);for(var $=this[O+--R],K=1;R>0&&(K*=256);)$+=this[O+--R]*K;return $},f.prototype.readUInt8=function(O,R){return O>>>=0,R||D(O,1,this.length),this[O]},f.prototype.readUInt16LE=function(O,R){return O>>>=0,R||D(O,2,this.length),this[O]|this[O+1]<<8},f.prototype.readUInt16BE=function(O,R){return O>>>=0,R||D(O,2,this.length),this[O]<<8|this[O+1]},f.prototype.readUInt32LE=function(O,R){return O>>>=0,R||D(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},f.prototype.readUInt32BE=function(O,R){return O>>>=0,R||D(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},f.prototype.readIntLE=function(O,R,j){O>>>=0,R>>>=0,j||D(O,R,this.length);for(var $=this[O],K=1,J=0;++J<R&&(K*=256);)$+=this[O+J]*K;return $>=(K*=128)&&($-=Math.pow(2,8*R)),$},f.prototype.readIntBE=function(O,R,j){O>>>=0,R>>>=0,j||D(O,R,this.length);for(var $=R,K=1,J=this[O+--$];$>0&&(K*=256);)J+=this[O+--$]*K;return J>=(K*=128)&&(J-=Math.pow(2,8*R)),J},f.prototype.readInt8=function(O,R){return O>>>=0,R||D(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},f.prototype.readInt16LE=function(O,R){O>>>=0,R||D(O,2,this.length);var j=this[O]|this[O+1]<<8;return 32768&j?4294901760|j:j},f.prototype.readInt16BE=function(O,R){O>>>=0,R||D(O,2,this.length);var j=this[O+1]|this[O]<<8;return 32768&j?4294901760|j:j},f.prototype.readInt32LE=function(O,R){return O>>>=0,R||D(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},f.prototype.readInt32BE=function(O,R){return O>>>=0,R||D(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},f.prototype.readFloatLE=function(O,R){return O>>>=0,R||D(O,4,this.length),o.read(this,O,!0,23,4)},f.prototype.readFloatBE=function(O,R){return O>>>=0,R||D(O,4,this.length),o.read(this,O,!1,23,4)},f.prototype.readDoubleLE=function(O,R){return O>>>=0,R||D(O,8,this.length),o.read(this,O,!0,52,8)},f.prototype.readDoubleBE=function(O,R){return O>>>=0,R||D(O,8,this.length),o.read(this,O,!1,52,8)},f.prototype.writeUIntLE=function(O,R,j,$){O=+O,R>>>=0,j>>>=0,$||ie(this,O,R,j,Math.pow(2,8*j)-1,0);var K=1,J=0;for(this[R]=255&O;++J<j&&(K*=256);)this[R+J]=O/K&255;return R+j},f.prototype.writeUIntBE=function(O,R,j,$){O=+O,R>>>=0,j>>>=0,$||ie(this,O,R,j,Math.pow(2,8*j)-1,0);var K=j-1,J=1;for(this[R+K]=255&O;--K>=0&&(J*=256);)this[R+K]=O/J&255;return R+j},f.prototype.writeUInt8=function(O,R,j){return O=+O,R>>>=0,j||ie(this,O,R,1,255,0),this[R]=255&O,R+1},f.prototype.writeUInt16LE=function(O,R,j){return O=+O,R>>>=0,j||ie(this,O,R,2,65535,0),this[R]=255&O,this[R+1]=O>>>8,R+2},f.prototype.writeUInt16BE=function(O,R,j){return O=+O,R>>>=0,j||ie(this,O,R,2,65535,0),this[R]=O>>>8,this[R+1]=255&O,R+2},f.prototype.writeUInt32LE=function(O,R,j){return O=+O,R>>>=0,j||ie(this,O,R,4,4294967295,0),this[R+3]=O>>>24,this[R+2]=O>>>16,this[R+1]=O>>>8,this[R]=255&O,R+4},f.prototype.writeUInt32BE=function(O,R,j){return O=+O,R>>>=0,j||ie(this,O,R,4,4294967295,0),this[R]=O>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=255&O,R+4},f.prototype.writeIntLE=function(O,R,j,$){if(O=+O,R>>>=0,!$){var K=Math.pow(2,8*j-1);ie(this,O,R,j,K-1,-K)}var J=0,_e=1,C=0;for(this[R]=255&O;++J<j&&(_e*=256);)O<0&&C===0&&this[R+J-1]!==0&&(C=1),this[R+J]=(O/_e>>0)-C&255;return R+j},f.prototype.writeIntBE=function(O,R,j,$){if(O=+O,R>>>=0,!$){var K=Math.pow(2,8*j-1);ie(this,O,R,j,K-1,-K)}var J=j-1,_e=1,C=0;for(this[R+J]=255&O;--J>=0&&(_e*=256);)O<0&&C===0&&this[R+J+1]!==0&&(C=1),this[R+J]=(O/_e>>0)-C&255;return R+j},f.prototype.writeInt8=function(O,R,j){return O=+O,R>>>=0,j||ie(this,O,R,1,127,-128),O<0&&(O=255+O+1),this[R]=255&O,R+1},f.prototype.writeInt16LE=function(O,R,j){return O=+O,R>>>=0,j||ie(this,O,R,2,32767,-32768),this[R]=255&O,this[R+1]=O>>>8,R+2},f.prototype.writeInt16BE=function(O,R,j){return O=+O,R>>>=0,j||ie(this,O,R,2,32767,-32768),this[R]=O>>>8,this[R+1]=255&O,R+2},f.prototype.writeInt32LE=function(O,R,j){return O=+O,R>>>=0,j||ie(this,O,R,4,2147483647,-2147483648),this[R]=255&O,this[R+1]=O>>>8,this[R+2]=O>>>16,this[R+3]=O>>>24,R+4},f.prototype.writeInt32BE=function(O,R,j){return O=+O,R>>>=0,j||ie(this,O,R,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[R]=O>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=255&O,R+4},f.prototype.writeFloatLE=function(O,R,j){return z(this,O,R,!0,j)},f.prototype.writeFloatBE=function(O,R,j){return z(this,O,R,!1,j)},f.prototype.writeDoubleLE=function(O,R,j){return G(this,O,R,!0,j)},f.prototype.writeDoubleBE=function(O,R,j){return G(this,O,R,!1,j)},f.prototype.copy=function(O,R,j,$){if(j||(j=0),$||$===0||($=this.length),R>=O.length&&(R=O.length),R||(R=0),$>0&&$<j&&($=j),$===j||O.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("sourceStart out of bounds");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),O.length-R<$-j&&($=O.length-R+j);var K,J=$-j;if(this===O&&j<R&&R<$)for(K=J-1;K>=0;--K)O[K+R]=this[K+j];else if(J<1e3)for(K=0;K<J;++K)O[K+R]=this[K+j];else Uint8Array.prototype.set.call(O,this.subarray(j,j+J),R);return J},f.prototype.fill=function(O,R,j,$){if(typeof O=="string"){if(typeof R=="string"?($=R,R=0,j=this.length):typeof j=="string"&&($=j,j=this.length),O.length===1){var K=O.charCodeAt(0);K<256&&(O=K)}if($!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!f.isEncoding($))throw new TypeError("Unknown encoding: "+$)}else typeof O=="number"&&(O&=255);if(R<0||this.length<R||this.length<j)throw new RangeError("Out of range index");if(j<=R)return this;var J;if(R>>>=0,j=j===void 0?this.length:j>>>0,O||(O=0),typeof O=="number")for(J=R;J<j;++J)this[J]=O;else{var _e=f.isBuffer(O)?O:new f(O,$),C=_e.length;for(J=0;J<j-R;++J)this[J+R]=_e[J%C]}return this};var ue=/[^+/0-9A-Za-z-_]/g;function oe(O,R){var j;R=R||1/0;for(var $=O.length,K=null,J=[],_e=0;_e<$;++_e){if((j=O.charCodeAt(_e))>55295&&j<57344){if(!K){if(j>56319){(R-=3)>-1&&J.push(239,191,189);continue}if(_e+1===$){(R-=3)>-1&&J.push(239,191,189);continue}K=j;continue}if(j<56320){(R-=3)>-1&&J.push(239,191,189),K=j;continue}j=65536+(K-55296<<10|j-56320)}else K&&(R-=3)>-1&&J.push(239,191,189);if(K=null,j<128){if((R-=1)<0)break;J.push(j)}else if(j<2048){if((R-=2)<0)break;J.push(j>>6|192,63&j|128)}else if(j<65536){if((R-=3)<0)break;J.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;J.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return J}function ne(O){return i.toByteArray(function(R){if((R=R.trim().replace(ue,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(O))}function se(O,R,j,$){for(var K=0;K<$&&!(K+j>=R.length||K>=O.length);++K)R[K+j]=O[K];return K}function pe(O){return O instanceof ArrayBuffer||O!=null&&O.constructor!=null&&O.constructor.name==="ArrayBuffer"&&typeof O.byteLength=="number"}function Ee(O){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(O)}function Ie(O){return O!=O}}).call(e,r(1))},function(t,e){e.byteLength=function(m){return 3*m.length/4-f(m)},e.toByteArray=function(m){var v,y,w,b,A,k,N=m.length;A=f(m),k=new i(3*N/4-A),w=A>0?N-4:N;var F=0;for(v=0,y=0;v<w;v+=4,y+=3)b=n[m.charCodeAt(v)]<<18|n[m.charCodeAt(v+1)]<<12|n[m.charCodeAt(v+2)]<<6|n[m.charCodeAt(v+3)],k[F++]=b>>16&255,k[F++]=b>>8&255,k[F++]=255&b;return A===2?(b=n[m.charCodeAt(v)]<<2|n[m.charCodeAt(v+1)]>>4,k[F++]=255&b):A===1&&(b=n[m.charCodeAt(v)]<<10|n[m.charCodeAt(v+1)]<<4|n[m.charCodeAt(v+2)]>>2,k[F++]=b>>8&255,k[F++]=255&b),k},e.fromByteArray=function(m){for(var v,y=m.length,w=y%3,b="",A=[],k=16383,N=0,F=y-w;N<F;N+=k)A.push(d(m,N,N+k>F?F:N+k));return w===1?(v=m[y-1],b+=r[v>>2],b+=r[v<<4&63],b+="=="):w===2&&(v=(m[y-2]<<8)+m[y-1],b+=r[v>>10],b+=r[v>>4&63],b+=r[v<<2&63],b+="="),A.push(b),A.join("")};for(var r=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function f(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return m[v-2]==="="?2:m[v-1]==="="?1:0}function d(m,v,y){for(var w,b,A=[],k=v;k<y;k+=3)w=(m[k]<<16)+(m[k+1]<<8)+m[k+2],A.push(r[(b=w)>>18&63]+r[b>>12&63]+r[b>>6&63]+r[63&b]);return A.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){e.read=function(r,n,i,o,s){var a,f,d=8*s-o-1,m=(1<<d)-1,v=m>>1,y=-7,w=i?s-1:0,b=i?-1:1,A=r[n+w];for(w+=b,a=A&(1<<-y)-1,A>>=-y,y+=d;y>0;a=256*a+r[n+w],w+=b,y-=8);for(f=a&(1<<-y)-1,a>>=-y,y+=o;y>0;f=256*f+r[n+w],w+=b,y-=8);if(a===0)a=1-v;else{if(a===m)return f?NaN:1/0*(A?-1:1);f+=Math.pow(2,o),a-=v}return(A?-1:1)*f*Math.pow(2,a-o)},e.write=function(r,n,i,o,s,a){var f,d,m,v=8*a-s-1,y=(1<<v)-1,w=y>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=o?0:a-1,k=o?1:-1,N=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(d=isNaN(n)?1:0,f=y):(f=Math.floor(Math.log(n)/Math.LN2),n*(m=Math.pow(2,-f))<1&&(f--,m*=2),(n+=f+w>=1?b/m:b*Math.pow(2,1-w))*m>=2&&(f++,m/=2),f+w>=y?(d=0,f=y):f+w>=1?(d=(n*m-1)*Math.pow(2,s),f+=w):(d=n*Math.pow(2,w-1)*Math.pow(2,s),f=0));s>=8;r[i+A]=255&d,A+=k,d/=256,s-=8);for(f=f<<s|d,v+=s;v>0;r[i+A]=255&f,A+=k,f/=256,v-=8);r[i+A-k]|=128*N}},function(t,e){t.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children=[],r.webpackPolyfill=1),r}},function(t,e,r){var n=new(r(7)),i={};function o(a){i[a]||(typeof n[a]=="function"?i[a]=function(){return n[a].apply(n,arguments)}:i[a]=n[a])}for(var s in n)o(s);i.initializeTTYs=function(){n.stdin===null&&(n.initializeTTYs(),i.stdin=n.stdin,i.stdout=n.stdout,i.stderr=n.stderr)},n.nextTick(function(){i.initializeTTYs()}),t.exports=i},function(t,e,r){(function(n){var i=this&&this.__extends||function(m,v){for(var y in v)v.hasOwnProperty(y)&&(m[y]=v[y]);function w(){this.constructor=m}m.prototype=v===null?Object.create(v):(w.prototype=v.prototype,new w)},o=r(8),s=null,a=function(){function m(v,y){this.fun=v,this.array=y}return m.prototype.run=function(){this.fun.apply(null,this.array)},m}(),f=function(){function m(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return m.prototype.push=function(v){var y=this;this._queue.push(v)!==1||this._draining||setTimeout(function(){return y._drainQueue()},0)},m.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},m.prototype._drainQueue=function(){var v=this;if(!this._draining){var y=setTimeout(function(){return v._cleanUpNextTick()});this._draining=!0;for(var w=this._queue.length;w;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<w;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,w=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(y)}},m}(),d=function(m){function v(){m.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new f,this.execPath=n,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=1e3*Math.random()|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return i(v,m),v.prototype.chdir=function(y){s===null&&(s=r(9)),this._cwd=s.resolve(y)},v.prototype.cwd=function(){return this._cwd},v.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},v.prototype.nextTick=function(y){for(var w=[],b=1;b<arguments.length;b++)w[b-1]=arguments[b];this._queue.push(new a(y,w))},v.prototype.abort=function(){this.emit("abort")},v.prototype.exit=function(y){this.exitCode=y,this.emit("exit",[y])},v.prototype.getgid=function(){return this._gid},v.prototype.setgid=function(y){this._gid=typeof y=="number"?y:1},v.prototype.getuid=function(){return this._uid},v.prototype.setuid=function(y){this._uid=typeof y=="number"?y:1},v.prototype.kill=function(y,w){this.emit("kill",[y,w])},v.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},v.prototype.umask=function(y){y===void 0&&(y=this._mask);var w=this._mask;return this._mask=y,this.emit("umask",[y]),w},v.prototype.hrtime=function(){var y,w=(y=typeof performance<"u"?performance.now():Date.now?Date.now():new Date().getTime())/1e3|0;return[w,y=1e6*(y-=1e3*w)|0]},v.prototype.initializeTTYs=function(){if(this.stdout===null){var y=r(10);this.stdout=new y,this.stderr=new y,this.stdin=new y}},v.prototype.disconnect=function(){},v}(o.EventEmitter);t.exports=d}).call(e,"/")},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(s){return typeof s=="function"}function i(s){return typeof s=="object"&&s!==null}function o(s){return s===void 0}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(s){if(typeof s!="number"||s<0||isNaN(s))throw TypeError("n must be a positive number");return this._maxListeners=s,this},r.prototype.emit=function(s){var a,f,d,m,v,y;if(this._events||(this._events={}),s==="error"&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((a=arguments[1])instanceof Error)throw a;var w=new Error('Uncaught, unspecified "error" event. ('+a+")");throw w.context=a,w}if(o(f=this._events[s]))return!1;if(n(f))switch(arguments.length){case 1:f.call(this);break;case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:m=Array.prototype.slice.call(arguments,1),f.apply(this,m)}else if(i(f))for(m=Array.prototype.slice.call(arguments,1),d=(y=f.slice()).length,v=0;v<d;v++)y[v].apply(this,m);return!0},r.prototype.addListener=function(s,a){var f;if(!n(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",s,n(a.listener)?a.listener:a),this._events[s]?i(this._events[s])?this._events[s].push(a):this._events[s]=[this._events[s],a]:this._events[s]=a,i(this._events[s])&&!this._events[s].warned&&(f=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&f>0&&this._events[s].length>f&&(this._events[s].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s].length),typeof console.trace=="function"&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(s,a){if(!n(a))throw TypeError("listener must be a function");var f=!1;function d(){this.removeListener(s,d),f||(f=!0,a.apply(this,arguments))}return d.listener=a,this.on(s,d),this},r.prototype.removeListener=function(s,a){var f,d,m,v;if(!n(a))throw TypeError("listener must be a function");if(!this._events||!this._events[s])return this;if(m=(f=this._events[s]).length,d=-1,f===a||n(f.listener)&&f.listener===a)delete this._events[s],this._events.removeListener&&this.emit("removeListener",s,a);else if(i(f)){for(v=m;v-- >0;)if(f[v]===a||f[v].listener&&f[v].listener===a){d=v;break}if(d<0)return this;f.length===1?(f.length=0,delete this._events[s]):f.splice(d,1),this._events.removeListener&&this.emit("removeListener",s,a)}return this},r.prototype.removeAllListeners=function(s){var a,f;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[s]&&delete this._events[s],this;if(arguments.length===0){for(a in this._events)a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events={},this}if(n(f=this._events[s]))this.removeListener(s,f);else if(f)for(;f.length;)this.removeListener(s,f[f.length-1]);return delete this._events[s],this},r.prototype.listeners=function(s){return this._events&&this._events[s]?n(this._events[s])?[this._events[s]]:this._events[s].slice():[]},r.prototype.listenerCount=function(s){if(this._events){var a=this._events[s];if(n(a))return 1;if(a)return a.length}return 0},r.listenerCount=function(s,a){return s.listenerCount(a)}},function(t,e,r){(function(n){var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(){function s(){}return s.normalize=function(a){a===""&&(a=".");for(var f=a.charAt(0)===s.sep,d=(a=s._removeDuplicateSeps(a)).split(s.sep),m=[],v=0;v<d.length;v++){var y=d[v];y!=="."&&(y===".."&&(f||!f&&m.length>0&&m[0]!=="..")?m.pop():m.push(y))}return!f&&m.length<2&&(m.length===1?m[0]===""&&m.unshift("."):m.push(".")),a=m.join(s.sep),f&&a.charAt(0)!==s.sep&&(a=s.sep+a),a},s.join=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];for(var d=[],m=0;m<a.length;m++){var v=a[m];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&d.push(v)}return s.normalize(d.join(s.sep))},s.resolve=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];for(var d=[],m=0;m<a.length;m++){var v=a[m];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&(v.charAt(0)===s.sep&&(d=[]),d.push(v))}var y=s.normalize(d.join(s.sep));if(y.length>1&&y.charAt(y.length-1)===s.sep)return y.substr(0,y.length-1);if(y.charAt(0)!==s.sep){y.charAt(0)!=="."||y.length!==1&&y.charAt(1)!==s.sep||(y=y.length===1?"":y.substr(2));var w=n.cwd();y=y!==""?this.normalize(w+(w!=="/"?s.sep:"")+y):w}return y},s.relative=function(a,f){var d;a=s.resolve(a),f=s.resolve(f);var m=a.split(s.sep),v=f.split(s.sep);v.shift(),m.shift();var y=0,w=[];for(d=0;d<m.length;d++)if(m[d]!==v[d]){y=m.length-d;break}w=v.slice(d),m.length===1&&m[0]===""&&(y=0),y>m.length&&(y=m.length);var b="";for(d=0;d<y;d++)b+="../";return(b+=w.join(s.sep)).length>1&&b.charAt(b.length-1)===s.sep&&(b=b.substr(0,b.length-1)),b},s.dirname=function(a){var f=(a=s._removeDuplicateSeps(a)).charAt(0)===s.sep,d=a.split(s.sep);return d.pop()===""&&d.length>0&&d.pop(),d.length>1||d.length===1&&!f?d.join(s.sep):f?s.sep:"."},s.basename=function(a,f){if(f===void 0&&(f=""),a==="")return a;var d=(a=s.normalize(a)).split(s.sep),m=d[d.length-1];return m===""&&d.length>1?d[d.length-2]:f.length>0&&m.substr(m.length-f.length)===f?m.substr(0,m.length-f.length):m},s.extname=function(a){var f=(a=s.normalize(a)).split(s.sep);if((a=f.pop())===""&&f.length>0&&(a=f.pop()),a==="..")return"";var d=a.lastIndexOf(".");return d===-1||d===0?"":a.substr(d)},s.isAbsolute=function(a){return a.length>0&&a.charAt(0)===s.sep},s._makeLong=function(a){return a},s.parse=function(a){var f=function(d){var m=i.exec(d);return m.shift(),m}(a);return{root:f[0],dir:f[0]+f[1].slice(0,-1),base:f[2],ext:f[3],name:f[2].slice(0,f[2].length-f[3].length)}},s.format=function(a){if(a===null||typeof a!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);if(typeof(a.root||"")!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+s.sep:"")+(a.base||"")},s._removeDuplicateSeps=function(a){return a=a.replace(this._replaceRegex,this.sep)},s.sep="/",s._replaceRegex=new RegExp("//+","g"),s.delimiter=":",s.posix=s,s.win32=s,s}();t.exports=o}).call(e,r(6))},function(t,e,r){(function(n){var i=this&&this.__extends||function(s,a){for(var f in a)a.hasOwnProperty(f)&&(s[f]=a[f]);function d(){this.constructor=s}s.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)},o=function(s){function a(){s.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return i(a,s),a.prototype.setRawMode=function(f){this.isRaw!==f&&(this.isRaw=f,this.emit("modeChange"))},a.prototype.changeColumns=function(f){f!==this.columns&&(this.columns=f,this.emit("resize"))},a.prototype.changeRows=function(f){f!==this.rows&&(this.rows=f,this.emit("resize"))},a.isatty=function(f){return f&&f instanceof a},a.prototype._write=function(f,d,m){var v;try{var y;y=typeof f=="string"?new n(f,d):f,this._bufferedWrites.push(y),this._waitingForWrites&&this._read(1024)}catch(w){v=w}finally{m(v)}},a.prototype._read=function(f){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),this._waitingForWrites););},a}(r(11).Duplex);t.exports=o}).call(e,r(1))},function(t,e,r){t.exports=i;var n=r(8).EventEmitter;function i(){n.call(this)}r(12)(i,n),i.Readable=r(13),i.Writable=r(27),i.Duplex=r(28),i.Transform=r(29),i.PassThrough=r(30),i.Stream=i,i.prototype.pipe=function(o,s){var a=this;function f(A){o.writable&&o.write(A)===!1&&a.pause&&a.pause()}function d(){a.readable&&a.resume&&a.resume()}a.on("data",f),o.on("drain",d),o._isStdio||s&&s.end===!1||(a.on("end",v),a.on("close",y));var m=!1;function v(){m||(m=!0,o.end())}function y(){m||(m=!0,typeof o.destroy=="function"&&o.destroy())}function w(A){if(b(),n.listenerCount(this,"error")===0)throw A}function b(){a.removeListener("data",f),o.removeListener("drain",d),a.removeListener("end",v),a.removeListener("close",y),a.removeListener("error",w),o.removeListener("error",w),a.removeListener("end",b),a.removeListener("close",b),o.removeListener("close",b)}return a.on("error",w),o.on("error",w),a.on("end",b),a.on("close",b),o.on("close",b),o.emit("pipe",a),o}},function(t,e){typeof Object.create=="function"?t.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},function(t,e,r){(function(n){var i=function(){try{return r(11)}catch{}}();(e=t.exports=r(14)).Stream=i||e,e.Readable=e,e.Writable=r(22),e.Duplex=r(21),e.Transform=r(25),e.PassThrough=r(26),!n.browser&&n.env.READABLE_STREAM==="disable"&&i&&(t.exports=i)}).call(e,r(6))},function(t,e,r){(function(n){t.exports=N;var i,o=r(15),s=r(16);N.ReadableState=k,r(8).EventEmitter;var a,f=function(M,D){return M.listeners(D).length};(function(){try{a=r(11)}catch{}finally{a||(a=r(8).EventEmitter)}})();var d=r(2).Buffer,m=r(17),v=r(18);v.inherits=r(12);var y=r(19),w=void 0;w=y&&y.debuglog?y.debuglog("stream"):function(){};var b,A=r(20);function k(M,D){i=i||r(21),M=M||{},this.objectMode=!!M.objectMode,D instanceof i&&(this.objectMode=this.objectMode||!!M.readableObjectMode);var ie=M.highWaterMark,U=this.objectMode?16:16384;this.highWaterMark=ie||ie===0?ie:U,this.highWaterMark=~~this.highWaterMark,this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(b||(b=r(24).StringDecoder),this.decoder=new b(M.encoding),this.encoding=M.encoding)}function N(M){if(i=i||r(21),!(this instanceof N))return new N(M);this._readableState=new k(M,this),this.readable=!0,M&&typeof M.read=="function"&&(this._read=M.read),a.call(this)}function F(M,D,ie,U,z){var G=function(se,pe){var Ee=null;return d.isBuffer(pe)||typeof pe=="string"||pe==null||se.objectMode||(Ee=new TypeError("Invalid non-string/buffer chunk")),Ee}(D,ie);if(G)M.emit("error",G);else if(ie===null)D.reading=!1,function(se,pe){if(!pe.ended){if(pe.decoder){var Ee=pe.decoder.end();Ee&&Ee.length&&(pe.buffer.push(Ee),pe.length+=pe.objectMode?1:Ee.length)}pe.ended=!0,Z(se)}}(M,D);else if(D.objectMode||ie&&ie.length>0)if(D.ended&&!z){var ue=new Error("stream.push() after EOF");M.emit("error",ue)}else if(D.endEmitted&&z){var oe=new Error("stream.unshift() after end event");M.emit("error",oe)}else{var ne;!D.decoder||z||U||(ie=D.decoder.write(ie),ne=!D.objectMode&&ie.length===0),z||(D.reading=!1),ne||(D.flowing&&D.length===0&&!D.sync?(M.emit("data",ie),M.read(0)):(D.length+=D.objectMode?1:ie.length,z?D.buffer.unshift(ie):D.buffer.push(ie),D.needReadable&&Z(M))),function(se,pe){pe.readingMore||(pe.readingMore=!0,o(V,se,pe))}(M,D)}else z||(D.reading=!1);return function(se){return!se.ended&&(se.needReadable||se.length<se.highWaterMark||se.length===0)}(D)}v.inherits(N,a),N.prototype.push=function(M,D){var ie=this._readableState;return ie.objectMode||typeof M!="string"||(D=D||ie.defaultEncoding)!==ie.encoding&&(M=m.from(M,D),D=""),F(this,ie,M,D,!1)},N.prototype.unshift=function(M){return F(this,this._readableState,M,"",!0)},N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(M){return b||(b=r(24).StringDecoder),this._readableState.decoder=new b(M),this._readableState.encoding=M,this};var Y=8388608;function H(M,D){return M<=0||D.length===0&&D.ended?0:D.objectMode?1:M!=M?D.flowing&&D.length?D.buffer.head.data.length:D.length:(M>D.highWaterMark&&(D.highWaterMark=function(ie){return ie>=Y?ie=Y:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}(M)),M<=D.length?M:D.ended?D.length:(D.needReadable=!0,0))}function Z(M){var D=M._readableState;D.needReadable=!1,D.emittedReadable||(w("emitReadable",D.flowing),D.emittedReadable=!0,D.sync?o(L,M):L(M))}function L(M){w("emit readable"),M.emit("readable"),te(M)}function V(M,D){for(var ie=D.length;!D.reading&&!D.flowing&&!D.ended&&D.length<D.highWaterMark&&(w("maybeReadMore read 0"),M.read(0),ie!==D.length);)ie=D.length;D.readingMore=!1}function S(M){w("readable nexttick read 0"),M.read(0)}function W(M,D){D.reading||(w("resume read 0"),M.read(0)),D.resumeScheduled=!1,D.awaitDrain=0,M.emit("resume"),te(M),D.flowing&&!D.reading&&M.read(0)}function te(M){var D=M._readableState;for(w("flow",D.flowing);D.flowing&&M.read()!==null;);}function X(M,D){return D.length===0?null:(D.objectMode?ie=D.buffer.shift():!M||M>=D.length?(ie=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.head.data:D.buffer.concat(D.length),D.buffer.clear()):ie=function(U,z,G){var ue;return U<z.head.data.length?(ue=z.head.data.slice(0,U),z.head.data=z.head.data.slice(U)):ue=U===z.head.data.length?z.shift():G?function(oe,ne){var se=ne.head,pe=1,Ee=se.data;for(oe-=Ee.length;se=se.next;){var Ie=se.data,O=oe>Ie.length?Ie.length:oe;if(O===Ie.length?Ee+=Ie:Ee+=Ie.slice(0,oe),(oe-=O)==0){O===Ie.length?(++pe,se.next?ne.head=se.next:ne.head=ne.tail=null):(ne.head=se,se.data=Ie.slice(O));break}++pe}return ne.length-=pe,Ee}(U,z):function(oe,ne){var se=m.allocUnsafe(oe),pe=ne.head,Ee=1;for(pe.data.copy(se),oe-=pe.data.length;pe=pe.next;){var Ie=pe.data,O=oe>Ie.length?Ie.length:oe;if(Ie.copy(se,se.length-oe,0,O),(oe-=O)==0){O===Ie.length?(++Ee,pe.next?ne.head=pe.next:ne.head=ne.tail=null):(ne.head=pe,pe.data=Ie.slice(O));break}++Ee}return ne.length-=Ee,se}(U,z),ue}(M,D.buffer,D.decoder),ie);var ie}function le(M){var D=M._readableState;if(D.length>0)throw new Error('"endReadable()" called on non-empty stream');D.endEmitted||(D.ended=!0,o(ae,D,M))}function ae(M,D){M.endEmitted||M.length!==0||(M.endEmitted=!0,D.readable=!1,D.emit("end"))}function ye(M,D){for(var ie=0,U=M.length;ie<U;ie++)if(M[ie]===D)return ie;return-1}N.prototype.read=function(M){w("read",M),M=parseInt(M,10);var D=this._readableState,ie=M;if(M!==0&&(D.emittedReadable=!1),M===0&&D.needReadable&&(D.length>=D.highWaterMark||D.ended))return w("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?le(this):Z(this),null;if((M=H(M,D))===0&&D.ended)return D.length===0&&le(this),null;var U,z=D.needReadable;return w("need readable",z),(D.length===0||D.length-M<D.highWaterMark)&&w("length less than watermark",z=!0),D.ended||D.reading?w("reading or ended",z=!1):z&&(w("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(M=H(ie,D))),(U=M>0?X(M,D):null)===null?(D.needReadable=!0,M=0):D.length-=M,D.length===0&&(D.ended||(D.needReadable=!0),ie!==M&&D.ended&&le(this)),U!==null&&this.emit("data",U),U},N.prototype._read=function(M){this.emit("error",new Error("_read() is not implemented"))},N.prototype.pipe=function(M,D){var ie=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=M;break;case 1:U.pipes=[U.pipes,M];break;default:U.pipes.push(M)}U.pipesCount+=1,w("pipe count=%d opts=%j",U.pipesCount,D);var z=D&&D.end===!1||M===n.stdout||M===n.stderr?se:ue;function G($){w("onunpipe"),$===ie&&se()}function ue(){w("onend"),M.end()}U.endEmitted?o(z):ie.once("end",z),M.on("unpipe",G);var oe=function($){return function(){var K=$._readableState;w("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&f($,"data")&&(K.flowing=!0,te($))}}(ie);M.on("drain",oe);var ne=!1;function se(){w("cleanup"),M.removeListener("close",O),M.removeListener("finish",R),M.removeListener("drain",oe),M.removeListener("error",Ie),M.removeListener("unpipe",G),ie.removeListener("end",ue),ie.removeListener("end",se),ie.removeListener("data",Ee),ne=!0,!U.awaitDrain||M._writableState&&!M._writableState.needDrain||oe()}var pe=!1;function Ee($){w("ondata"),pe=!1,M.write($)!==!1||pe||((U.pipesCount===1&&U.pipes===M||U.pipesCount>1&&ye(U.pipes,M)!==-1)&&!ne&&(w("false write response, pause",ie._readableState.awaitDrain),ie._readableState.awaitDrain++,pe=!0),ie.pause())}function Ie($){w("onerror",$),j(),M.removeListener("error",Ie),f(M,"error")===0&&M.emit("error",$)}function O(){M.removeListener("finish",R),j()}function R(){w("onfinish"),M.removeListener("close",O),j()}function j(){w("unpipe"),ie.unpipe(M)}return ie.on("data",Ee),function($,K,J){if(typeof $.prependListener=="function")return $.prependListener(K,J);$._events&&$._events[K]?s($._events[K])?$._events[K].unshift(J):$._events[K]=[J,$._events[K]]:$.on(K,J)}(M,"error",Ie),M.once("close",O),M.once("finish",R),M.emit("pipe",ie),U.flowing||(w("pipe resume"),ie.resume()),M},N.prototype.unpipe=function(M){var D=this._readableState;if(D.pipesCount===0)return this;if(D.pipesCount===1)return M&&M!==D.pipes||(M||(M=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,M&&M.emit("unpipe",this)),this;if(!M){var ie=D.pipes,U=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var z=0;z<U;z++)ie[z].emit("unpipe",this);return this}var G=ye(D.pipes,M);return G===-1||(D.pipes.splice(G,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),M.emit("unpipe",this)),this},N.prototype.on=function(M,D){var ie=a.prototype.on.call(this,M,D);if(M==="data")this._readableState.flowing!==!1&&this.resume();else if(M==="readable"){var U=this._readableState;U.endEmitted||U.readableListening||(U.readableListening=U.needReadable=!0,U.emittedReadable=!1,U.reading?U.length&&Z(this):o(S,this))}return ie},N.prototype.addListener=N.prototype.on,N.prototype.resume=function(){var M=this._readableState;return M.flowing||(w("resume"),M.flowing=!0,function(D,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,o(W,D,ie))}(this,M)),this},N.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this},N.prototype.wrap=function(M){var D=this._readableState,ie=!1,U=this;for(var z in M.on("end",function(){if(w("wrapped end"),D.decoder&&!D.ended){var G=D.decoder.end();G&&G.length&&U.push(G)}U.push(null)}),M.on("data",function(G){w("wrapped data"),D.decoder&&(G=D.decoder.write(G)),D.objectMode&&G==null||(D.objectMode||G&&G.length)&&(U.push(G)||(ie=!0,M.pause()))}),M)this[z]===void 0&&typeof M[z]=="function"&&(this[z]=function(G){return function(){return M[G].apply(M,arguments)}}(z));return function(G,ue){for(var oe=0,ne=G.length;oe<ne;oe++)ue(G[oe],oe)}(["error","close","destroy","pause","resume"],function(G){M.on(G,U.emit.bind(U,G))}),U._read=function(G){w("wrapped _read",G),ie&&(ie=!1,M.resume())},U},N._fromList=X}).call(e,r(6))},function(t,e,r){(function(n){!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?t.exports=function(i,o,s,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var f,d,m=arguments.length;switch(m){case 0:case 1:return n.nextTick(i);case 2:return n.nextTick(function(){i.call(null,o)});case 3:return n.nextTick(function(){i.call(null,o,s)});case 4:return n.nextTick(function(){i.call(null,o,s,a)});default:for(f=new Array(m-1),d=0;d<f.length;)f[d++]=arguments[d];return n.nextTick(function(){i.apply(null,f)})}}:t.exports=n.nextTick}).call(e,r(6))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(t,e,r){(function(n){var i=r(2),o=i.Buffer,s=i.SlowBuffer,a=i.kMaxLength||2147483647;e.alloc=function(f,d,m){if(typeof o.alloc=="function")return o.alloc(f,d,m);if(typeof m=="number")throw new TypeError("encoding must not be number");if(typeof f!="number")throw new TypeError("size must be a number");if(f>a)throw new RangeError("size is too large");var v=m,y=d;y===void 0&&(v=void 0,y=0);var w=new o(f);if(typeof y=="string")for(var b=new o(y,v),A=b.length,k=-1;++k<f;)w[k]=b[k%A];else w.fill(y);return w},e.allocUnsafe=function(f){if(typeof o.allocUnsafe=="function")return o.allocUnsafe(f);if(typeof f!="number")throw new TypeError("size must be a number");if(f>a)throw new RangeError("size is too large");return new o(f)},e.from=function(f,d,m){if(typeof o.from=="function"&&(!n.Uint8Array||Uint8Array.from!==o.from))return o.from(f,d,m);if(typeof f=="number")throw new TypeError('"value" argument must not be a number');if(typeof f=="string")return new o(f,d);if(typeof ArrayBuffer<"u"&&f instanceof ArrayBuffer){var v=d;if(arguments.length===1)return new o(f);v===void 0&&(v=0);var y=m;if(y===void 0&&(y=f.byteLength-v),v>=f.byteLength)throw new RangeError("'offset' is out of bounds");if(y>f.byteLength-v)throw new RangeError("'length' is out of bounds");return new o(f.slice(v,v+y))}if(o.isBuffer(f)){var w=new o(f.length);return f.copy(w,0,0,f.length),w}if(f){if(Array.isArray(f)||typeof ArrayBuffer<"u"&&f.buffer instanceof ArrayBuffer||"length"in f)return new o(f);if(f.type==="Buffer"&&Array.isArray(f.data))return new o(f.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},e.allocUnsafeSlow=function(f){if(typeof o.allocUnsafeSlow=="function")return o.allocUnsafeSlow(f);if(typeof f!="number")throw new TypeError("size must be a number");if(f>=a)throw new RangeError("size is too large");return new s(f)}}).call(e,function(){return this}())},function(t,e,r){(function(n){function i(o){return Object.prototype.toString.call(o)}e.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},e.isBoolean=function(o){return typeof o=="boolean"},e.isNull=function(o){return o===null},e.isNullOrUndefined=function(o){return o==null},e.isNumber=function(o){return typeof o=="number"},e.isString=function(o){return typeof o=="string"},e.isSymbol=function(o){return typeof o=="symbol"},e.isUndefined=function(o){return o===void 0},e.isRegExp=function(o){return i(o)==="[object RegExp]"},e.isObject=function(o){return typeof o=="object"&&o!==null},e.isDate=function(o){return i(o)==="[object Date]"},e.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},e.isFunction=function(o){return typeof o=="function"},e.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},e.isBuffer=n.isBuffer}).call(e,r(1))},function(t,e){},function(t,e,r){r(2).Buffer;var n=r(17);function i(){this.head=null,this.tail=null,this.length=0}t.exports=i,i.prototype.push=function(o){var s={data:o,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},i.prototype.unshift=function(o){var s={data:o,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},i.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(o){if(this.length===0)return"";for(var s=this.head,a=""+s.data;s=s.next;)a+=o+s.data;return a},i.prototype.concat=function(o){if(this.length===0)return n.alloc(0);if(this.length===1)return this.head.data;for(var s=n.allocUnsafe(o>>>0),a=this.head,f=0;a;)a.data.copy(s,f),f+=a.data.length,a=a.next;return s}},function(t,e,r){var n=Object.keys||function(b){var A=[];for(var k in b)A.push(k);return A};t.exports=v;var i=r(15),o=r(18);o.inherits=r(12);var s=r(14),a=r(22);o.inherits(v,s);for(var f=n(a.prototype),d=0;d<f.length;d++){var m=f[d];v.prototype[m]||(v.prototype[m]=a.prototype[m])}function v(b){if(!(this instanceof v))return new v(b);s.call(this,b),a.call(this,b),b&&b.readable===!1&&(this.readable=!1),b&&b.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,b&&b.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||i(w,this)}function w(b){b.end()}},function(t,e,r){(function(n){t.exports=k;var i,o=r(15),s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:o;k.WritableState=A;var a=r(18);a.inherits=r(12);var f,d={deprecate:r(23)};(function(){try{f=r(11)}catch{}finally{f||(f=r(8).EventEmitter)}})();var m,v=r(2).Buffer,y=r(17);function w(){}function b(S,W,te){this.chunk=S,this.encoding=W,this.callback=te,this.next=null}function A(S,W){i=i||r(21),S=S||{},this.objectMode=!!S.objectMode,W instanceof i&&(this.objectMode=this.objectMode||!!S.writableObjectMode);var te=S.highWaterMark,X=this.objectMode?16:16384;this.highWaterMark=te||te===0?te:X,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var le=S.decodeStrings===!1;this.decodeStrings=!le,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ae){(function(ye,M){var D=ye._writableState,ie=D.sync,U=D.writecb;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(D),M)(function(G,ue,oe,ne,se){--ue.pendingcb,oe?o(se,ne):se(ne),G._writableState.errorEmitted=!0,G.emit("error",ne)})(ye,D,ie,M,U);else{var z=H(D);z||D.corked||D.bufferProcessing||!D.bufferedRequest||Y(ye,D),ie?s(F,ye,D,z,U):F(ye,D,z,U)}})(W,ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new V(this)}function k(S){if(i=i||r(21),!(m.call(k,this)||this instanceof i))return new k(S);this._writableState=new A(S,this),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev)),f.call(this)}function N(S,W,te,X,le,ae,ye){W.writelen=X,W.writecb=ye,W.writing=!0,W.sync=!0,te?S._writev(le,W.onwrite):S._write(le,ae,W.onwrite),W.sync=!1}function F(S,W,te,X){te||function(le,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,le.emit("drain"))}(S,W),W.pendingcb--,X(),L(S,W)}function Y(S,W){W.bufferProcessing=!0;var te=W.bufferedRequest;if(S._writev&&te&&te.next){var X=W.bufferedRequestCount,le=new Array(X),ae=W.corkedRequestsFree;ae.entry=te;for(var ye=0;te;)le[ye]=te,te=te.next,ye+=1;N(S,W,!0,W.length,le,"",ae.finish),W.pendingcb++,W.lastBufferedRequest=null,ae.next?(W.corkedRequestsFree=ae.next,ae.next=null):W.corkedRequestsFree=new V(W)}else{for(;te;){var M=te.chunk,D=te.encoding,ie=te.callback;if(N(S,W,!1,W.objectMode?1:M.length,M,D,ie),te=te.next,W.writing)break}te===null&&(W.lastBufferedRequest=null)}W.bufferedRequestCount=0,W.bufferedRequest=te,W.bufferProcessing=!1}function H(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function Z(S,W){W.prefinished||(W.prefinished=!0,S.emit("prefinish"))}function L(S,W){var te=H(W);return te&&(W.pendingcb===0?(Z(S,W),W.finished=!0,S.emit("finish")):Z(S,W)),te}function V(S){var W=this;this.next=null,this.entry=null,this.finish=function(te){var X=W.entry;for(W.entry=null;X;){var le=X.callback;S.pendingcb--,le(te),X=X.next}S.corkedRequestsFree?S.corkedRequestsFree.next=W:S.corkedRequestsFree=W}}a.inherits(k,f),A.prototype.getBuffer=function(){for(var S=this.bufferedRequest,W=[];S;)W.push(S),S=S.next;return W},function(){try{Object.defineProperty(A.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(S){return!!m.call(this,S)||S&&S._writableState instanceof A}})):m=function(S){return S instanceof this},k.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},k.prototype.write=function(S,W,te){var X=this._writableState,le=!1,ae=v.isBuffer(S);return typeof W=="function"&&(te=W,W=null),ae?W="buffer":W||(W=X.defaultEncoding),typeof te!="function"&&(te=w),X.ended?function(ye,M){var D=new Error("write after end");ye.emit("error",D),o(M,D)}(this,te):(ae||function(ye,M,D,ie){var U=!0,z=!1;return D===null?z=new TypeError("May not write null values to stream"):typeof D=="string"||D===void 0||M.objectMode||(z=new TypeError("Invalid non-string/buffer chunk")),z&&(ye.emit("error",z),o(ie,z),U=!1),U}(this,X,S,te))&&(X.pendingcb++,le=function(ye,M,D,ie,U,z){D||(ie=function(ne,se,pe){return ne.objectMode||ne.decodeStrings===!1||typeof se!="string"||(se=y.from(se,pe)),se}(M,ie,U),v.isBuffer(ie)&&(U="buffer"));var G=M.objectMode?1:ie.length;M.length+=G;var ue=M.length<M.highWaterMark;if(ue||(M.needDrain=!0),M.writing||M.corked){var oe=M.lastBufferedRequest;M.lastBufferedRequest=new b(ie,U,z),oe?oe.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else N(ye,M,!1,G,ie,U,z);return ue}(this,X,ae,S,W,te)),le},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.finished||S.bufferProcessing||!S.bufferedRequest||Y(this,S))},k.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+S);return this._writableState.defaultEncoding=S,this},k.prototype._write=function(S,W,te){te(new Error("_write() is not implemented"))},k.prototype._writev=null,k.prototype.end=function(S,W,te){var X=this._writableState;typeof S=="function"?(te=S,S=null,W=null):typeof W=="function"&&(te=W,W=null),S!=null&&this.write(S,W),X.corked&&(X.corked=1,this.uncork()),X.ending||X.finished||function(le,ae,ye){ae.ending=!0,L(le,ae),ye&&(ae.finished?o(ye):le.once("finish",ye)),ae.ended=!0,le.writable=!1}(this,X,te)}}).call(e,r(6))},function(t,e){(function(r){function n(i){try{if(!r.localStorage)return!1}catch{return!1}var o=r.localStorage[i];return o!=null&&String(o).toLowerCase()==="true"}t.exports=function(i,o){if(n("noDeprecation"))return i;var s=!1;return function(){if(!s){if(n("throwDeprecation"))throw new Error(o);n("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return i.apply(this,arguments)}}}).call(e,function(){return this}())},function(t,e,r){var n=r(2).Buffer,i=n.isEncoding||function(d){switch(d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=e.StringDecoder=function(d){switch(this.encoding=(d||"utf8").toLowerCase().replace(/[-_]/,""),function(m){if(m&&!i(m))throw new Error("Unknown encoding: "+m)}(d),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=f;break;default:return void(this.write=s)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function s(d){return d.toString(this.encoding)}function a(d){this.charReceived=d.length%2,this.charLength=this.charReceived?2:0}function f(d){this.charReceived=d.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(d){for(var m="";this.charLength;){var v=d.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:d.length;if(d.copy(this.charBuffer,this.charReceived,0,v),this.charReceived+=v,this.charReceived<this.charLength)return"";if(d=d.slice(v,d.length),!((y=(m=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(m.length-1))>=55296&&y<=56319)){if(this.charReceived=this.charLength=0,d.length===0)return m;break}this.charLength+=this.surrogateSize,m=""}this.detectIncompleteChar(d);var y,w=d.length;if(this.charLength&&(d.copy(this.charBuffer,0,d.length-this.charReceived,w),w-=this.charReceived),w=(m+=d.toString(this.encoding,0,w)).length-1,(y=m.charCodeAt(w))>=55296&&y<=56319){var b=this.surrogateSize;return this.charLength+=b,this.charReceived+=b,this.charBuffer.copy(this.charBuffer,b,0,b),d.copy(this.charBuffer,0,0,b),m.substring(0,w)}return m},o.prototype.detectIncompleteChar=function(d){for(var m=d.length>=3?3:d.length;m>0;m--){var v=d[d.length-m];if(m==1&&v>>5==6){this.charLength=2;break}if(m<=2&&v>>4==14){this.charLength=3;break}if(m<=3&&v>>3==30){this.charLength=4;break}}this.charReceived=m},o.prototype.end=function(d){var m="";if(d&&d.length&&(m=this.write(d)),this.charReceived){var v=this.charReceived,y=this.charBuffer,w=this.encoding;m+=y.slice(0,v).toString(w)}return m}},function(t,e,r){t.exports=s;var n=r(21),i=r(18);function o(f){this.afterTransform=function(d,m){return function(v,y,w){var b=v._transformState;b.transforming=!1;var A=b.writecb;if(!A)return v.emit("error",new Error("no writecb in Transform class"));b.writechunk=null,b.writecb=null,w!=null&&v.push(w),A(y);var k=v._readableState;k.reading=!1,(k.needReadable||k.length<k.highWaterMark)&&v._read(k.highWaterMark)}(f,d,m)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(f){if(!(this instanceof s))return new s(f);n.call(this,f),this._transformState=new o(this);var d=this;this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(m,v){a(d,m,v)}):a(d)})}function a(f,d,m){if(d)return f.emit("error",d);m!=null&&f.push(m);var v=f._writableState,y=f._transformState;if(v.length)throw new Error("Calling transform done when ws.length != 0");if(y.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}i.inherits=r(12),i.inherits(s,n),s.prototype.push=function(f,d){return this._transformState.needTransform=!1,n.prototype.push.call(this,f,d)},s.prototype._transform=function(f,d,m){throw new Error("_transform() is not implemented")},s.prototype._write=function(f,d,m){var v=this._transformState;if(v.writecb=m,v.writechunk=f,v.writeencoding=d,!v.transforming){var y=this._readableState;(v.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},s.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0}},function(t,e,r){t.exports=o;var n=r(25),i=r(18);function o(s){if(!(this instanceof o))return new o(s);n.call(this,s)}i.inherits=r(12),i.inherits(o,n),o.prototype._transform=function(s,a,f){f(null,s)}},function(t,e,r){t.exports=r(22)},function(t,e,r){t.exports=r(21)},function(t,e,r){t.exports=r(25)},function(t,e,r){t.exports=r(26)},function(t,e,r){var n=r(32),i=r(33),o=r(38),s=r(39),a=r(40),f=r(41),d=r(42),m=Object.prototype.toString;function v(w){if(!(this instanceof v))return new v(w);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},w||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||w&&w.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var A=n.inflateInit2(this.strm,b.windowBits);if(A!==s.Z_OK)throw new Error(a[A]);this.header=new d,n.inflateGetHeader(this.strm,this.header)}function y(w,b){var A=new v(b);if(A.push(w,!0),A.err)throw A.msg||a[A.err];return A.result}v.prototype.push=function(w,b){var A,k,N,F,Y,H,Z=this.strm,L=this.options.chunkSize,V=this.options.dictionary,S=!1;if(this.ended)return!1;k=b===~~b?b:b===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof w=="string"?Z.input=o.binstring2buf(w):m.call(w)==="[object ArrayBuffer]"?Z.input=new Uint8Array(w):Z.input=w,Z.next_in=0,Z.avail_in=Z.input.length;do{if(Z.avail_out===0&&(Z.output=new i.Buf8(L),Z.next_out=0,Z.avail_out=L),(A=n.inflate(Z,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&V&&(H=typeof V=="string"?o.string2buf(V):m.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,A=n.inflateSetDictionary(this.strm,H)),A===s.Z_BUF_ERROR&&S===!0&&(A=s.Z_OK,S=!1),A!==s.Z_STREAM_END&&A!==s.Z_OK)return this.onEnd(A),this.ended=!0,!1;Z.next_out&&(Z.avail_out!==0&&A!==s.Z_STREAM_END&&(Z.avail_in!==0||k!==s.Z_FINISH&&k!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=o.utf8border(Z.output,Z.next_out),F=Z.next_out-N,Y=o.buf2string(Z.output,N),Z.next_out=F,Z.avail_out=L-F,F&&i.arraySet(Z.output,Z.output,N,F,0),this.onData(Y)):this.onData(i.shrinkBuf(Z.output,Z.next_out)))),Z.avail_in===0&&Z.avail_out===0&&(S=!0)}while((Z.avail_in>0||Z.avail_out===0)&&A!==s.Z_STREAM_END);return A===s.Z_STREAM_END&&(k=s.Z_FINISH),k===s.Z_FINISH?(A=n.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===s.Z_OK):k!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),Z.avail_out=0,!0)},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},e.Inflate=v,e.inflate=y,e.inflateRaw=function(w,b){return(b=b||{}).raw=!0,y(w,b)},e.ungzip=y},function(t,e,r){var n=r(33),i=r(34),o=r(35),s=r(36),a=r(37),f=-2,d=12,m=30;function v(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(L){var V;return L&&L.state?(V=L.state,L.total_in=L.total_out=V.total=0,L.msg="",V.wrap&&(L.adler=1&V.wrap),V.mode=1,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new n.Buf32(852),V.distcode=V.distdyn=new n.Buf32(592),V.sane=1,V.back=-1,0):f}function b(L){var V;return L&&L.state?((V=L.state).wsize=0,V.whave=0,V.wnext=0,w(L)):f}function A(L,V){var S,W;return L&&L.state?(W=L.state,V<0?(S=0,V=-V):(S=1+(V>>4),V<48&&(V&=15)),V&&(V<8||V>15)?f:(W.window!==null&&W.wbits!==V&&(W.window=null),W.wrap=S,W.wbits=V,b(L))):f}function k(L,V){var S,W;return L?(W=new y,L.state=W,W.window=null,(S=A(L,V))!==0&&(L.state=null),S):f}var N,F,Y=!0;function H(L){if(Y){var V;for(N=new n.Buf32(512),F=new n.Buf32(32),V=0;V<144;)L.lens[V++]=8;for(;V<256;)L.lens[V++]=9;for(;V<280;)L.lens[V++]=7;for(;V<288;)L.lens[V++]=8;for(a(1,L.lens,0,288,N,0,L.work,{bits:9}),V=0;V<32;)L.lens[V++]=5;a(2,L.lens,0,32,F,0,L.work,{bits:5}),Y=!1}L.lencode=N,L.lenbits=9,L.distcode=F,L.distbits=5}function Z(L,V,S,W){var te,X=L.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new n.Buf8(X.wsize)),W>=X.wsize?(n.arraySet(X.window,V,S-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):((te=X.wsize-X.wnext)>W&&(te=W),n.arraySet(X.window,V,S-W,te,X.wnext),(W-=te)?(n.arraySet(X.window,V,S-W,W,0),X.wnext=W,X.whave=X.wsize):(X.wnext+=te,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=te))),0}e.inflateReset=b,e.inflateReset2=A,e.inflateResetKeep=w,e.inflateInit=function(L){return k(L,15)},e.inflateInit2=k,e.inflate=function(L,V){var S,W,te,X,le,ae,ye,M,D,ie,U,z,G,ue,oe,ne,se,pe,Ee,Ie,O,R,j,$,K=0,J=new n.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return f;(S=L.state).mode===d&&(S.mode=13),le=L.next_out,te=L.output,ye=L.avail_out,X=L.next_in,W=L.input,ae=L.avail_in,M=S.hold,D=S.bits,ie=ae,U=ye,R=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;D<16;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(2&S.wrap&&M===35615){S.check=0,J[0]=255&M,J[1]=M>>>8&255,S.check=o(S.check,J,2,0),M=0,D=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&M)<<8)+(M>>8))%31){L.msg="incorrect header check",S.mode=m;break}if((15&M)!=8){L.msg="unknown compression method",S.mode=m;break}if(D-=4,O=8+(15&(M>>>=4)),S.wbits===0)S.wbits=O;else if(O>S.wbits){L.msg="invalid window size",S.mode=m;break}S.dmax=1<<O,L.adler=S.check=1,S.mode=512&M?10:d,M=0,D=0;break;case 2:for(;D<16;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(S.flags=M,(255&S.flags)!=8){L.msg="unknown compression method",S.mode=m;break}if(57344&S.flags){L.msg="unknown header flags set",S.mode=m;break}S.head&&(S.head.text=M>>8&1),512&S.flags&&(J[0]=255&M,J[1]=M>>>8&255,S.check=o(S.check,J,2,0)),M=0,D=0,S.mode=3;case 3:for(;D<32;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}S.head&&(S.head.time=M),512&S.flags&&(J[0]=255&M,J[1]=M>>>8&255,J[2]=M>>>16&255,J[3]=M>>>24&255,S.check=o(S.check,J,4,0)),M=0,D=0,S.mode=4;case 4:for(;D<16;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}S.head&&(S.head.xflags=255&M,S.head.os=M>>8),512&S.flags&&(J[0]=255&M,J[1]=M>>>8&255,S.check=o(S.check,J,2,0)),M=0,D=0,S.mode=5;case 5:if(1024&S.flags){for(;D<16;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}S.length=M,S.head&&(S.head.extra_len=M),512&S.flags&&(J[0]=255&M,J[1]=M>>>8&255,S.check=o(S.check,J,2,0)),M=0,D=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&((z=S.length)>ae&&(z=ae),z&&(S.head&&(O=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),n.arraySet(S.head.extra,W,X,z,O)),512&S.flags&&(S.check=o(S.check,W,z,X)),ae-=z,X+=z,S.length-=z),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(ae===0)break e;z=0;do O=W[X+z++],S.head&&O&&S.length<65536&&(S.head.name+=String.fromCharCode(O));while(O&&z<ae);if(512&S.flags&&(S.check=o(S.check,W,z,X)),ae-=z,X+=z,O)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(ae===0)break e;z=0;do O=W[X+z++],S.head&&O&&S.length<65536&&(S.head.comment+=String.fromCharCode(O));while(O&&z<ae);if(512&S.flags&&(S.check=o(S.check,W,z,X)),ae-=z,X+=z,O)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;D<16;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(M!==(65535&S.check)){L.msg="header crc mismatch",S.mode=m;break}M=0,D=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),L.adler=S.check=0,S.mode=d;break;case 10:for(;D<32;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}L.adler=S.check=v(M),M=0,D=0,S.mode=11;case 11:if(S.havedict===0)return L.next_out=le,L.avail_out=ye,L.next_in=X,L.avail_in=ae,S.hold=M,S.bits=D,2;L.adler=S.check=1,S.mode=d;case d:if(V===5||V===6)break e;case 13:if(S.last){M>>>=7&D,D-=7&D,S.mode=27;break}for(;D<3;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}switch(S.last=1&M,D-=1,3&(M>>>=1)){case 0:S.mode=14;break;case 1:if(H(S),S.mode=20,V===6){M>>>=2,D-=2;break e}break;case 2:S.mode=17;break;case 3:L.msg="invalid block type",S.mode=m}M>>>=2,D-=2;break;case 14:for(M>>>=7&D,D-=7&D;D<32;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if((65535&M)!=(M>>>16^65535)){L.msg="invalid stored block lengths",S.mode=m;break}if(S.length=65535&M,M=0,D=0,S.mode=15,V===6)break e;case 15:S.mode=16;case 16:if(z=S.length){if(z>ae&&(z=ae),z>ye&&(z=ye),z===0)break e;n.arraySet(te,W,X,z,le),ae-=z,X+=z,ye-=z,le+=z,S.length-=z;break}S.mode=d;break;case 17:for(;D<14;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(S.nlen=257+(31&M),M>>>=5,D-=5,S.ndist=1+(31&M),M>>>=5,D-=5,S.ncode=4+(15&M),M>>>=4,D-=4,S.nlen>286||S.ndist>30){L.msg="too many length or distance symbols",S.mode=m;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;D<3;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}S.lens[_e[S.have++]]=7&M,M>>>=3,D-=3}for(;S.have<19;)S.lens[_e[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,j={bits:S.lenbits},R=a(0,S.lens,0,19,S.lencode,0,S.work,j),S.lenbits=j.bits,R){L.msg="invalid code lengths set",S.mode=m;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ne=(K=S.lencode[M&(1<<S.lenbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=D);){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(se<16)M>>>=oe,D-=oe,S.lens[S.have++]=se;else{if(se===16){for($=oe+2;D<$;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(M>>>=oe,D-=oe,S.have===0){L.msg="invalid bit length repeat",S.mode=m;break}O=S.lens[S.have-1],z=3+(3&M),M>>>=2,D-=2}else if(se===17){for($=oe+3;D<$;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}D-=oe,O=0,z=3+(7&(M>>>=oe)),M>>>=3,D-=3}else{for($=oe+7;D<$;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}D-=oe,O=0,z=11+(127&(M>>>=oe)),M>>>=7,D-=7}if(S.have+z>S.nlen+S.ndist){L.msg="invalid bit length repeat",S.mode=m;break}for(;z--;)S.lens[S.have++]=O}}if(S.mode===m)break;if(S.lens[256]===0){L.msg="invalid code -- missing end-of-block",S.mode=m;break}if(S.lenbits=9,j={bits:S.lenbits},R=a(1,S.lens,0,S.nlen,S.lencode,0,S.work,j),S.lenbits=j.bits,R){L.msg="invalid literal/lengths set",S.mode=m;break}if(S.distbits=6,S.distcode=S.distdyn,j={bits:S.distbits},R=a(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,j),S.distbits=j.bits,R){L.msg="invalid distances set",S.mode=m;break}if(S.mode=20,V===6)break e;case 20:S.mode=21;case 21:if(ae>=6&&ye>=258){L.next_out=le,L.avail_out=ye,L.next_in=X,L.avail_in=ae,S.hold=M,S.bits=D,s(L,U),le=L.next_out,te=L.output,ye=L.avail_out,X=L.next_in,W=L.input,ae=L.avail_in,M=S.hold,D=S.bits,S.mode===d&&(S.back=-1);break}for(S.back=0;ne=(K=S.lencode[M&(1<<S.lenbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=D);){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(ne&&(240&ne)==0){for(pe=oe,Ee=ne,Ie=se;ne=(K=S.lencode[Ie+((M&(1<<pe+Ee)-1)>>pe)])>>>16&255,se=65535&K,!(pe+(oe=K>>>24)<=D);){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}M>>>=pe,D-=pe,S.back+=pe}if(M>>>=oe,D-=oe,S.back+=oe,S.length=se,ne===0){S.mode=26;break}if(32&ne){S.back=-1,S.mode=d;break}if(64&ne){L.msg="invalid literal/length code",S.mode=m;break}S.extra=15&ne,S.mode=22;case 22:if(S.extra){for($=S.extra;D<$;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}S.length+=M&(1<<S.extra)-1,M>>>=S.extra,D-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ne=(K=S.distcode[M&(1<<S.distbits)-1])>>>16&255,se=65535&K,!((oe=K>>>24)<=D);){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if((240&ne)==0){for(pe=oe,Ee=ne,Ie=se;ne=(K=S.distcode[Ie+((M&(1<<pe+Ee)-1)>>pe)])>>>16&255,se=65535&K,!(pe+(oe=K>>>24)<=D);){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}M>>>=pe,D-=pe,S.back+=pe}if(M>>>=oe,D-=oe,S.back+=oe,64&ne){L.msg="invalid distance code",S.mode=m;break}S.offset=se,S.extra=15&ne,S.mode=24;case 24:if(S.extra){for($=S.extra;D<$;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}S.offset+=M&(1<<S.extra)-1,M>>>=S.extra,D-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){L.msg="invalid distance too far back",S.mode=m;break}S.mode=25;case 25:if(ye===0)break e;if(z=U-ye,S.offset>z){if((z=S.offset-z)>S.whave&&S.sane){L.msg="invalid distance too far back",S.mode=m;break}z>S.wnext?(z-=S.wnext,G=S.wsize-z):G=S.wnext-z,z>S.length&&(z=S.length),ue=S.window}else ue=te,G=le-S.offset,z=S.length;z>ye&&(z=ye),ye-=z,S.length-=z;do te[le++]=ue[G++];while(--z);S.length===0&&(S.mode=21);break;case 26:if(ye===0)break e;te[le++]=S.length,ye--,S.mode=21;break;case 27:if(S.wrap){for(;D<32;){if(ae===0)break e;ae--,M|=W[X++]<<D,D+=8}if(U-=ye,L.total_out+=U,S.total+=U,U&&(L.adler=S.check=S.flags?o(S.check,te,U,le-U):i(S.check,te,U,le-U)),U=ye,(S.flags?M:v(M))!==S.check){L.msg="incorrect data check",S.mode=m;break}M=0,D=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;D<32;){if(ae===0)break e;ae--,M+=W[X++]<<D,D+=8}if(M!==(4294967295&S.total)){L.msg="incorrect length check",S.mode=m;break}M=0,D=0}S.mode=29;case 29:R=1;break e;case m:R=-3;break e;case 31:return-4;default:return f}return L.next_out=le,L.avail_out=ye,L.next_in=X,L.avail_in=ae,S.hold=M,S.bits=D,(S.wsize||U!==L.avail_out&&S.mode<m&&(S.mode<27||V!==4))&&Z(L,L.output,L.next_out,U-L.avail_out),ie-=L.avail_in,U-=L.avail_out,L.total_in+=ie,L.total_out+=U,S.total+=U,S.wrap&&U&&(L.adler=S.check=S.flags?o(S.check,te,U,L.next_out-U):i(S.check,te,U,L.next_out-U)),L.data_type=S.bits+(S.last?64:0)+(S.mode===d?128:0)+(S.mode===20||S.mode===15?256:0),(ie===0&&U===0||V===4)&&R===0&&(R=-5),R},e.inflateEnd=function(L){if(!L||!L.state)return f;var V=L.state;return V.window&&(V.window=null),L.state=null,0},e.inflateGetHeader=function(L,V){var S;return L&&L.state?(2&(S=L.state).wrap)==0?f:(S.head=V,V.done=!1,0):f},e.inflateSetDictionary=function(L,V){var S,W=V.length;return L&&L.state?(S=L.state).wrap!==0&&S.mode!==11?f:S.mode===11&&i(1,V,W,0)!==S.check?-3:Z(L,V,W,W)?(S.mode=31,-4):(S.havedict=1,0):f},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var f in a)a.hasOwnProperty(f)&&(o[f]=a[f])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var n={arraySet:function(o,s,a,f,d){if(s.subarray&&o.subarray)o.set(s.subarray(a,a+f),d);else for(var m=0;m<f;m++)o[d+m]=s[a+m]},flattenChunks:function(o){var s,a,f,d,m,v;for(f=0,s=0,a=o.length;s<a;s++)f+=o[s].length;for(v=new Uint8Array(f),d=0,s=0,a=o.length;s<a;s++)m=o[s],v.set(m,d),d+=m.length;return v}},i={arraySet:function(o,s,a,f,d){for(var m=0;m<f;m++)o[d+m]=s[a+m]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(r)},function(t,e){t.exports=function(r,n,i,o){for(var s=65535&r|0,a=r>>>16&65535|0,f=0;i!==0;){i-=f=i>2e3?2e3:i;do a=a+(s=s+n[o++]|0)|0;while(--f);s%=65521,a%=65521}return s|a<<16|0}},function(t,e){var r=function(){for(var n,i=[],o=0;o<256;o++){n=o;for(var s=0;s<8;s++)n=1&n?3988292384^n>>>1:n>>>1;i[o]=n}return i}();t.exports=function(n,i,o,s){var a=r,f=s+o;n^=-1;for(var d=s;d<f;d++)n=n>>>8^a[255&(n^i[d])];return-1^n}},function(t,e){t.exports=function(r,n){var i,o,s,a,f,d,m,v,y,w,b,A,k,N,F,Y,H,Z,L,V,S,W,te,X,le;i=r.state,o=r.next_in,X=r.input,s=o+(r.avail_in-5),a=r.next_out,le=r.output,f=a-(n-r.avail_out),d=a+(r.avail_out-257),m=i.dmax,v=i.wsize,y=i.whave,w=i.wnext,b=i.window,A=i.hold,k=i.bits,N=i.lencode,F=i.distcode,Y=(1<<i.lenbits)-1,H=(1<<i.distbits)-1;e:do{k<15&&(A+=X[o++]<<k,k+=8,A+=X[o++]<<k,k+=8),Z=N[A&Y];t:for(;;){if(A>>>=L=Z>>>24,k-=L,(L=Z>>>16&255)==0)le[a++]=65535&Z;else{if(!(16&L)){if((64&L)==0){Z=N[(65535&Z)+(A&(1<<L)-1)];continue t}if(32&L){i.mode=12;break e}r.msg="invalid literal/length code",i.mode=30;break e}V=65535&Z,(L&=15)&&(k<L&&(A+=X[o++]<<k,k+=8),V+=A&(1<<L)-1,A>>>=L,k-=L),k<15&&(A+=X[o++]<<k,k+=8,A+=X[o++]<<k,k+=8),Z=F[A&H];r:for(;;){if(A>>>=L=Z>>>24,k-=L,!(16&(L=Z>>>16&255))){if((64&L)==0){Z=F[(65535&Z)+(A&(1<<L)-1)];continue r}r.msg="invalid distance code",i.mode=30;break e}if(S=65535&Z,k<(L&=15)&&(A+=X[o++]<<k,(k+=8)<L&&(A+=X[o++]<<k,k+=8)),(S+=A&(1<<L)-1)>m){r.msg="invalid distance too far back",i.mode=30;break e}if(A>>>=L,k-=L,S>(L=a-f)){if((L=S-L)>y&&i.sane){r.msg="invalid distance too far back",i.mode=30;break e}if(W=0,te=b,w===0){if(W+=v-L,L<V){V-=L;do le[a++]=b[W++];while(--L);W=a-S,te=le}}else if(w<L){if(W+=v+w-L,(L-=w)<V){V-=L;do le[a++]=b[W++];while(--L);if(W=0,w<V){V-=L=w;do le[a++]=b[W++];while(--L);W=a-S,te=le}}}else if(W+=w-L,L<V){V-=L;do le[a++]=b[W++];while(--L);W=a-S,te=le}for(;V>2;)le[a++]=te[W++],le[a++]=te[W++],le[a++]=te[W++],V-=3;V&&(le[a++]=te[W++],V>1&&(le[a++]=te[W++]))}else{W=a-S;do le[a++]=le[W++],le[a++]=le[W++],le[a++]=le[W++],V-=3;while(V>2);V&&(le[a++]=le[W++],V>1&&(le[a++]=le[W++]))}break}}break}}while(o<s&&a<d);o-=V=k>>3,A&=(1<<(k-=V<<3))-1,r.next_in=o,r.next_out=a,r.avail_in=o<s?s-o+5:5-(o-s),r.avail_out=a<d?d-a+257:257-(a-d),i.hold=A,i.bits=k}},function(t,e,r){var n=r(33),i=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(d,m,v,y,w,b,A,k){var N,F,Y,H,Z,L,V,S,W,te=k.bits,X=0,le=0,ae=0,ye=0,M=0,D=0,ie=0,U=0,z=0,G=0,ue=null,oe=0,ne=new n.Buf16(16),se=new n.Buf16(16),pe=null,Ee=0;for(X=0;X<=i;X++)ne[X]=0;for(le=0;le<y;le++)ne[m[v+le]]++;for(M=te,ye=i;ye>=1&&ne[ye]===0;ye--);if(M>ye&&(M=ye),ye===0)return w[b++]=20971520,w[b++]=20971520,k.bits=1,0;for(ae=1;ae<ye&&ne[ae]===0;ae++);for(M<ae&&(M=ae),U=1,X=1;X<=i;X++)if(U<<=1,(U-=ne[X])<0)return-1;if(U>0&&(d===0||ye!==1))return-1;for(se[1]=0,X=1;X<i;X++)se[X+1]=se[X]+ne[X];for(le=0;le<y;le++)m[v+le]!==0&&(A[se[m[v+le]]++]=le);if(d===0?(ue=pe=A,L=19):d===1?(ue=o,oe-=257,pe=s,Ee-=257,L=256):(ue=a,pe=f,L=-1),G=0,le=0,X=ae,Z=b,D=M,ie=0,Y=-1,H=(z=1<<M)-1,d===1&&z>852||d===2&&z>592)return 1;for(;;){V=X-ie,A[le]<L?(S=0,W=A[le]):A[le]>L?(S=pe[Ee+A[le]],W=ue[oe+A[le]]):(S=96,W=0),N=1<<X-ie,ae=F=1<<D;do w[Z+(G>>ie)+(F-=N)]=V<<24|S<<16|W|0;while(F!==0);for(N=1<<X-1;G&N;)N>>=1;if(N!==0?(G&=N-1,G+=N):G=0,le++,--ne[X]==0){if(X===ye)break;X=m[v+A[le]]}if(X>M&&(G&H)!==Y){for(ie===0&&(ie=M),Z+=ae,U=1<<(D=X-ie);D+ie<ye&&!((U-=ne[D+ie])<=0);)D++,U<<=1;if(z+=1<<D,d===1&&z>852||d===2&&z>592)return 1;w[Y=G&H]=M<<24|D<<16|Z-b|0}}return G!==0&&(w[Z+G]=X-ie<<24|64<<16|0),k.bits=M,0}},function(t,e,r){var n=r(33),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var s=new n.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function f(d,m){if(m<65537&&(d.subarray&&o||!d.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(d,m));for(var v="",y=0;y<m;y++)v+=String.fromCharCode(d[y]);return v}s[254]=s[254]=1,e.string2buf=function(d){var m,v,y,w,b,A=d.length,k=0;for(w=0;w<A;w++)(64512&(v=d.charCodeAt(w)))==55296&&w+1<A&&(64512&(y=d.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),w++),k+=v<128?1:v<2048?2:v<65536?3:4;for(m=new n.Buf8(k),b=0,w=0;b<k;w++)(64512&(v=d.charCodeAt(w)))==55296&&w+1<A&&(64512&(y=d.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),w++),v<128?m[b++]=v:v<2048?(m[b++]=192|v>>>6,m[b++]=128|63&v):v<65536?(m[b++]=224|v>>>12,m[b++]=128|v>>>6&63,m[b++]=128|63&v):(m[b++]=240|v>>>18,m[b++]=128|v>>>12&63,m[b++]=128|v>>>6&63,m[b++]=128|63&v);return m},e.buf2binstring=function(d){return f(d,d.length)},e.binstring2buf=function(d){for(var m=new n.Buf8(d.length),v=0,y=m.length;v<y;v++)m[v]=d.charCodeAt(v);return m},e.buf2string=function(d,m){var v,y,w,b,A=m||d.length,k=new Array(2*A);for(y=0,v=0;v<A;)if((w=d[v++])<128)k[y++]=w;else if((b=s[w])>4)k[y++]=65533,v+=b-1;else{for(w&=b===2?31:b===3?15:7;b>1&&v<A;)w=w<<6|63&d[v++],b--;b>1?k[y++]=65533:w<65536?k[y++]=w:(w-=65536,k[y++]=55296|w>>10&1023,k[y++]=56320|1023&w)}return f(k,y)},e.utf8border=function(d,m){var v;for((m=m||d.length)>d.length&&(m=d.length),v=m-1;v>=0&&(192&d[v])==128;)v--;return v<0||v===0?m:v+s[d[v]]>m?v:m}},function(t,e){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}])},Va.exports=Vw();Qu=!1,Ye=Va.exports.BFSRequire("fs");Va.exports.BFSRequire("buffer").Buffer;Sd=async(t=["data","projects","extensions","settings","plugins"],e=()=>{},r=()=>{})=>!!Qu||new Promise(n=>{Ye.getRootFS(),Va.exports.FileSystem.IndexedDB.Create({},(i,o)=>{if(i)throw i;if(!o)throw r(),new Error("Error creating BrowserFS");Va.exports.initialize(o);let s=[];t.forEach(async a=>{s.push(bd(Ye,a))}),Promise.all(s).then(a=>{e(),Qu=!0,n(!0)})})});Ed=async(t,e="data",r=n=>{console.log(n)})=>new Promise(n=>{Ye.stat("/"+e+"/"+t,(i,o)=>{if(i)throw i;let s=o.size;r(s),n(s)})}),qw=async(t="",e="data",r=(n,i)=>{console.log(n,i)})=>new Promise(n=>{Ye.open("/"+e+"/"+t,"r",(i,o)=>{if(i)throw i;Ye.read(o,65535,0,"utf-8",(s,a,f)=>{if(s)throw s;if(f!==0){let d=a.toString().split(`
`)[0];Ye.close(o,()=>{r(d,t),n(d)})}else n(void 0)})})}),$w=async(t="data",e=n=>{},r)=>new Promise(n=>{Ye.readdir("/"+t,(i,o)=>{if(i)throw i;o&&(console.log("files",o),e(o)),n(o)})}),os={},bd=async(t,e)=>new Promise(r=>{os[e]==="exists"||os[e]==="created"?r():t.exists(`/${e}`,n=>{n?(os[e]="exists",console.log(`/${e} exists!`),r()):os[e]==="creating"?(console.log(e+" is still being created."),r()):(console.log("creating "+e),os[e]="creating",t.mkdir(e,i=>{if(i)throw i;os[e]="created",setTimeout(r,500)}))})}),Qi=Object.freeze({__proto__:null,fs:Ye,initFS:Sd,exists:async(t="",e="data")=>new Promise(r=>{Ye.exists("/"+e+"/"+t,function(n){r(n)})}),readFile:async(t="sessionName",e="data")=>(Qu||await Sd(),new Promise(r=>{Ye.readFile("/"+e+"/"+t,function(n,i){r(i)})})),readFileChunk:Ww,getFilenames:(t=r=>{},e="/data")=>new Promise(r=>{Ye.readdir(e,(n,i)=>{if(n)throw n;i?(console.log("files",i),t(i),r(i)):r(void 0)})}),writeFile:async(t,e,r="data",n=i=>{})=>new Promise(i=>{Ye.writeFile("/"+r+"/"+t,e,o=>{if(o)throw o;n(e),i(!0)})}),appendFile:async(t,e,r="data",n=i=>{})=>new Promise(i=>{Ye.appendFile("/"+r+"/"+t,e,o=>{if(o)throw o;n(e),i(!0)})}),deleteFile:(t="sessionName",e="data",r=$w)=>new Promise(n=>{t!=""?Ye.unlink("/"+e+"/"+t,i=>{i&&console.error(i),r(),n(!0)}):(console.error("Path name is not defined"),n(!1))}),readFileAsText:async(t="sessionName.csv",e="data",r="end",n=0,i=(o,s)=>{})=>new Promise(async o=>{let s=await Ed(t,e);(r==="end"||typeof r=="number"&&r>s)&&(r=s),Ye.open("/"+e+"/"+t,"r",(a,f)=>{if(a)throw a;Ye.read(f,r,n,"utf-8",(d,m,v)=>{if(d)throw d;if(v!==0){let y=m.toString();Ye.close(f,()=>{i(y,t),o(y)})}else o(void 0)})})}),getFileSize:Ed,getCSVHeader:qw,listFiles:$w,writeToCSVFromDB:async(t="sessionName",e="data",r=10)=>new Promise(n=>{t!=""?Ye.stat("/"+e+"/"+t,(i,o)=>{if(i)throw i;let s=o.size;console.log(s),Ye.open(e+"/"+t,"r",(a,f)=>{if(a)throw a;let d=1024*r*1024,m=d;s<d&&(m=s,Ye.read(f,m,0,"utf-8",(v,y,w)=>{if(v)throw v;w!==0&&za.saveCSV(y.toString(),t),Ye.close(f),n(!0)}))})}):(console.error("File name is not defined."),n(!1))}),readCSVChunkFromDB:async function(t,e="data",r=0,n="end"){let i=await qw(t);if(!i)return;i=i.split(",");let o=[],s=[],a={};i.forEach(v=>{v?(s.push(v),o.push(1)):o[o.length-1]++});let f=await Ed(t,e);n==="end"?n=f:n>f&&(r=f-(n-r),n=f);let d=await Ww(t,e,r,n),m=0;return d.forEach((v,y)=>{let w=v.split(",");for(;m<w.length-1;){let b=o[0];b===1?(a[s[0]].push(w[m]),m++):(a[s[0]].push(w[m].slice(m,b)),m+=b)}}),a},saveToFS:async(t,e="sessionName",r="data")=>(Qu||await Sd(),new Promise(async n=>{await bd(Ye,r),Ye.writeFile("/"+r+"/"+e,t,i=>{if(i)throw i;n(t)})})),dirExists:bd});cI=Object.freeze({__proto__:null,checkFolder:xd,createDriveFolder:function(t="Brainsatplay_Data"){let e=new Object;e.name=t,e.mimeType="application/vnd.google-apps.folder",window.gapi.client.drive.files.create({resource:e}).then(r=>{console.log(r.result)})},backupToDrive:(t,e="/data")=>{window.gapi.auth2.getAuthInstance().isSignedIn.get()?Ye.readFile(e+"/"+t,(r,n)=>{if(r)throw r;let i=new Blob([n.toString()],{type:"text/csv"});xd(o=>{let s={name:t+".csv",mimeType:"application/vnd.google-apps.spreadsheet",parents:[o.files[0].id]},a=window.gapi.auth.getToken().access_token;var f=new FormData;f.append("metadata",new Blob([JSON.stringify(s)],{type:"application/json"})),f.append("file",i);var d=new XMLHttpRequest;d.open("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id"),d.setRequestHeader("Authorization","Bearer "+a),d.responseType="json",d.onload=()=>{console.log("Uploaded file id: ",d.response.id),Hw()},d.send(f)})}):alert("Sign in with Google first!")},listDriveFiles:Hw});Od.regex=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;fI=Object.freeze({__proto__:null,dataURLtoBlob:function(t){if(Od(t)){for(var e=t.split(","),r=e[0].match(/:(.*?);/)[1],n=atob(e[1]),i=n.length,o=new Uint8Array(i);i--;)o[i]=n.charCodeAt(i);return new Blob([o],{type:r})}},blobToDataURL:function(t,e){var r=new FileReader;r.onload=function(n){e(n.target.result)},r.readAsDataURL(t)},dataToBlob:async function(t,e="text/plain",r=256e3){let n={filename,data:new Blob([t],{filetype:e})};if(Object.assign(n,props),n.data.size>r){let i=n.data.size,o=0,s=0,a=[];for(;o<i;){let f,d=o+r;if(d>i&&(d=i),f=e==="text/plain"?await n.data.slice(o,d).text():await n.data.slice(o,d).arrayBuffer(),f){let m={filename,data:new Blob([f],{type:e}),chunk:s,start:o,end:d};Object.assign(m,props),a.push(m)}o+=r,s++}return a}return n}});typeof minimongo<"u"&&(Jw=Yw());Yw=t=>{try{t=new minimongo.IndexedDb}catch{try{t=new minimongo.LocalStorageDb}catch{try{t=new minimongo.MemoryDb}catch{console.error("No DB created!")}}}return t},Kw=async(t,e)=>{let r=t[e].find(),n=[];return await r.count()>0&&await Promise.all(r.map(async i=>{i.chunk!==void 0?i.chunk===0&&n.push(i.filename):n.push(i.filename)})),n},GO=Kw,Gw=async(t,e,r)=>{let n,i=t[e].find({filename:r});if(await i.count()>0){let o={};await Promise.all(i.map(async a=>{let f=await a.data.text();a.chunk!==void 0?o[a.chunk]=f:o[0]=f}));let s=Object.keys(o).length;for(let a=0;a<s;a++)n+=o[a]}return n},hI=Object.freeze({__proto__:null,get db(){return Jw},localDB:Yw,remoteDB:(t,e,r,n,i,o)=>new minimongo.RemoteDb(e,r,n,i,o),connectDB:(t,e,r,n,i,o)=>{let s=new minimongo.RemoteDb(e,r,n,i,o);return t=new minimongo.HybridDb(t,s)},readData:async(t,e="",r={})=>{if(e)return t[e]||t.addCollection(e),await t[e].findOne(r)},writeData:async(t,e,r={},n=o=>{},i=o=>{})=>{if(e)return t[e]||t.addCollection(e),await t[e].upsert(r,n,i)},readFile:async(t,e,r="")=>{if(!t[e])return;let n,i={filename:r},o=t[e].find(i);return await o.count()>0&&(n=[],await Promise.all(o.map(async s=>{n.push(s)}))),n},readFileChunk:async(t,e,r="",n,i,o,s=d=>{},a=d=>{},f)=>{if(!t[e])return;let d={filename:r};return n&&(d.chunk=n),i&&(d.start=i),o&&(d.end=o),n||i&&o?await t[e].findOne(d,f,s,a):void 0},writeFile:async(t,e,r="",n,i=d=>{},o=d=>{},s={},a="text/plain",f=256e3)=>{let d=t[e].find({filename:r});await d.count()>0&&await Promise.all(d.map(async v=>{t[e].remove(v._id)}));let m={filename:r,data:new Blob([n],{filetype:a})};if(Object.assign(m,s),m.data.size>f){let v=m.data.size,y=0,w=0;for(;y<v;){let b,A=y+f;if(A>v&&(A=v),b=a==="text/plain"?await m.data.slice(y,A).text():await m.data.slice(y,A).arrayBuffer(),b){let k={filename:r,data:new Blob([b],{type:a}),chunk:w,start:y,end:A};Object.assign(k,s),t[e].upsert(k,i,o)}y+=f,w++}}else t[e].upsert(m,i,o)},appendFile:async(t,e,r="",n,i=d=>{},o=d=>{},s={},a="text/plain",f=256e3)=>{let d=t[e].find({filename:r}),m=await d.count(),v=0,y={filename:r,data:new Blob([n],{filetype:a})};if(Object.assign(y,s),m>0)if(await Promise.all(d.map(async w=>{v+=w.size})),y.data.size>f){let w=v,b=m;for(;w<y.data.size+v;){let A,k=w+f;if(k>v&&(k=v),A=a==="text/plain"?await y.data.slice(w,k).text():await y.data.slice(w,k).arrayBuffer(),A){let N={filename:r,data:new Blob([A],{type:a}),chunk:b,start:w,end:k,size:k-w};Object.assign(N,s),t[e].upsert(N,i,o)}w+=f,b++}}else y.chunk=m,y.start=v,y.end=v+y.data.size,t[e].upsert(y,i,o);else t[e].upsert(y,i,o)},getFilenames:Kw,listFiles:GO,getFileSize:async(t,e,r)=>{let n=t[e].find({filename:r}),i=await n.count(),o=0;return i>0&&await Promise.all(n.map(async s=>{o+=s.size})),o},deleteFile:async(t,e,r)=>await t[e].remove(r),writeToCSVFromDB:async(t,e,r)=>{let n=await Gw(e,r);za.saveCSV(n,r)},getCSVHeader:async(t,e,r)=>{let n,i=t[e].find({filename:r});return await i.count()>0&&await Promise.all(i.map(async o=>{if(o.chunk!==void 0&&o.chunk===0){let s=await o.data.text();n=s.substring(0,s.indexOf(`
`))}})),n},readFileAsText:Gw})});function JO(t="state.json",e=Hr){e.subscribe("state",r=>{Qi.writeFile(t,JSON.stringify(r),"data")})}function ss(n){return re(this,arguments,function*(t,e="state.json",r=Hr){yield Qi.initFS(["data"]),yield Qi.dirExists(Qi.fs,"data");let i=yield new Promise(s=>{Qi.fs.exists("/data/"+e,a=>{s(a)})}),o;if(i){o=yield Qi.readFileAsText("state.json","data");try{let s=JSON.parse(o);typeof s=="object"&&(s.loggedInId&&s.loggedInId===(t==null?void 0:t._id)||!s.loggedInId)&&r.setState(s)}catch(s){console.error(s)}}return JO(e,r),o})}var Hr,Wa=rt(()=>{_d();Zw();Hr=new Xu({route:"/",isLoggedIn:!1,appInitialized:!1,loggedInId:void 0})});function YO(t,e){return e={exports:{}},t(e,e.exports),e.exports}function h_(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function e5(t){var e=h_(t),r=e[0],n=e[1];return(r+n)*3/4-n}function t5(t,e,r){return(e+r)*3/4-r}function r5(t){var e,r=h_(t),n=r[0],i=r[1],o=new QO(t5(t,n,i)),s=0,a=i>0?n-4:n,f;for(f=0;f<a;f+=4)e=Jr[t.charCodeAt(f)]<<18|Jr[t.charCodeAt(f+1)]<<12|Jr[t.charCodeAt(f+2)]<<6|Jr[t.charCodeAt(f+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Jr[t.charCodeAt(f)]<<2|Jr[t.charCodeAt(f+1)]>>4,o[s++]=e&255),i===1&&(e=Jr[t.charCodeAt(f)]<<10|Jr[t.charCodeAt(f+1)]<<4|Jr[t.charCodeAt(f+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function n5(t){return En[t>>18&63]+En[t>>12&63]+En[t>>6&63]+En[t&63]}function i5(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(n5(n));return i.join("")}function o5(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(i5(t,s,s+o>a?a:s+o));return n===1?(e=t[r-1],i.push(En[e>>2]+En[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(En[e>>10]+En[e>>4&63]+En[e<<2&63]+"=")),i.join("")}function Cd(t,e){Dd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function ec(t){return t&&t.Math==Math&&t}function d_(){return ec(typeof globalThis=="object"&&globalThis)||ec(typeof window=="object"&&window)||ec(typeof self=="object"&&self)||ec(typeof global=="object"&&global)||Function("return this")()}function l5(){var t=d_();return typeof t.navigator=="object"&&t.navigator.product==="ReactNative"}function f5(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}function Pd(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function h5(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function d5(t){return Ga(t)&&Object.prototype.toString.call(t)==="[object Date]"}function Ga(t){return typeof t=="object"&&t!==null}function nc(t,e){var r=!1;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r||(console.warn(e),r=!0),t.apply(this,i)}return n}function tc(t){if(ArrayBuffer.isView(t))return qe.from(t.buffer,t.byteOffset,t.byteLength);if(f5(t))return qe.from(t);throw new _t("Must use either Buffer or TypedArray")}function y5(t){return Ga(t)&&t.$id!=null&&typeof t.$ref=="string"&&(t.$db==null||typeof t.$db=="string")}function l_(t){return!isNaN(parseInt(t,10))}function O5(t){var e=ke.fromNumber(1e9),r=ke.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:r};for(var n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new ke(t.parts[n],0)),t.parts[n]=r.div(e).low,r=r.modulo(e);return{quotient:t,rem:r}}function k5(t,e){if(!t&&!e)return{high:ke.fromNumber(0),low:ke.fromNumber(0)};var r=t.shiftRightUnsigned(32),n=new ke(t.getLowBits(),0),i=e.shiftRightUnsigned(32),o=new ke(e.getLowBits(),0),s=r.multiply(i),a=r.multiply(o),f=n.multiply(i),d=n.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new ke(a.getLowBits(),0).add(f).add(d.shiftRightUnsigned(32)),s=s.add(a.shiftRightUnsigned(32)),d=a.shiftLeft(32).add(new ke(d.getLowBits(),0)),{high:s,low:d}}function T5(t,e){var r=t.high>>>0,n=e.high>>>0;if(r<n)return!0;if(r===n){var i=t.low>>>0,o=e.low>>>0;if(i<o)return!0}return!1}function ls(t,e){throw new _t('"'+t+'" is not a valid Decimal128 string - '+e)}function I5(t){return t.split("").sort().join("")}function R5(t){return Ga(t)&&Reflect.has(t,"_bsontype")&&typeof t._bsontype=="string"}function b_(t,e){if(e===void 0&&(e={}),typeof t=="number"){if(e.relaxed||e.legacy)return t;if(Math.floor(t)===t){if(t>=__&&t<=w_)return new sc(t);if(t>=E_&&t<=S_)return ke.fromNumber(t)}return new oc(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;for(var r=Object.keys(t).filter(function(v){return v.startsWith("$")&&t[v]!=null}),n=0;n<r.length;n++){var i=D5[r[n]];if(i)return i.fromExtendedJSON(t,e)}if(t.$date!=null){var o=t.$date,s=new Date;return e.legacy?typeof o=="number"?s.setTime(o):typeof o=="string"&&s.setTime(Date.parse(o)):typeof o=="string"?s.setTime(Date.parse(o)):ke.isLong(o)?s.setTime(o.toNumber()):typeof o=="number"&&e.relaxed&&s.setTime(o),s}if(t.$code!=null){var a=Object.assign({},t);return t.$scope&&(a.$scope=b_(t.$scope)),ic.fromExtendedJSON(t)}if(y5(t)||t.$dbPointer){var f=t.$ref?t:t.$dbPointer;if(f instanceof $a)return f;var d=Object.keys(f).filter(function(v){return v.startsWith("$")}),m=!0;if(d.forEach(function(v){["$ref","$id","$db"].indexOf(v)===-1&&(m=!1)}),m)return $a.fromExtendedJSON(f)}return t}function F5(t,e){return t.map(function(r,n){e.seenObjects.push({propertyName:"index "+n,obj:null});try{return yi(r,e)}finally{e.seenObjects.pop()}})}function u_(t){var e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function yi(t,e){if((typeof t=="object"||typeof t=="function")&&t!==null){var r=e.seenObjects.findIndex(function(N){return N.obj===t});if(r!==-1){var n=e.seenObjects.map(function(N){return N.propertyName}),i=n.slice(0,r).map(function(N){return N+" -> "}).join(""),o=n[r],s=" -> "+n.slice(r+1,n.length-1).map(function(N){return N+" -> "}).join(""),a=n[n.length-1],f=" ".repeat(i.length+o.length/2),d="-".repeat(s.length+(o.length+a.length)/2-1);throw new _t(`Converting circular structure to EJSON:
`+("    "+i+o+s+a+`
`)+("    "+f+"\\"+d+"/"))}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return F5(t,e);if(t===void 0)return null;if(t instanceof Date||d5(t)){var m=t.getTime(),v=m>-1&&m<2534023188e5;return e.legacy?e.relaxed&&v?{$date:t.getTime()}:{$date:u_(t)}:e.relaxed&&v?{$date:u_(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Math.floor(t)===t){var y=t>=__&&t<=w_,w=t>=E_&&t<=S_;if(y)return{$numberInt:t.toString()};if(w)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp||h5(t)){var b=t.flags;if(b===void 0){var A=t.toString().match(/[gimuy]*$/);A&&(b=A[0])}var k=new Ha(t.source,b);return k.toExtendedJSON(e)}return t!=null&&typeof t=="object"?P5(t,e):t}function P5(t,e){if(t==null||typeof t!="object")throw new ro("not an object instance");var r=t._bsontype;if(typeof r>"u"){var n={};for(var i in t){e.seenObjects.push({propertyName:i,obj:null});try{n[i]=yi(t[i],e)}finally{e.seenObjects.pop()}}return n}else if(R5(t)){var o=t;if(typeof o.toExtendedJSON!="function"){var s=C5[t._bsontype];if(!s)throw new _t("Unrecognized or invalid _bsontype: "+t._bsontype);o=s(o)}return r==="Code"&&o.scope?o=new ic(o.code,yi(o.scope,e)):r==="DBRef"&&o.oid&&(o=new $a(yi(o.collection,e),yi(o.oid,e),yi(o.db,e),yi(o.fields,e))),o.toExtendedJSON(e)}else throw new ro("_bsontype must be a string, but was: "+typeof r)}var KO,ZO,XO,En,Jr,QO,kd,eo,Xw,Td,s5,a5,as,rc,qe,Dd,ro,_t,u5,c5,p_,p5,y_,Fd,Qw,Nd,Id,m_,no,ic,$a,Gr,e_,m5,cs,g_,t_,r_,n_,ke,g5,v5,w5,qa,Ad,i_,_5,Rd,o_,s_,S5,E5,a_,b5,x5,Ld,oc,sc,Md,jd,N5,to,us,gr,Ha,Bd,A5,v_,w_,__,S_,E_,D5,C5,mi,c_,f_,gI,vI,L5,M5,wI,_I,j5,SI,Ud=rt(()=>{KO=e5,ZO=r5,XO=o5,En=[],Jr=[],QO=typeof Uint8Array<"u"?Uint8Array:Array,kd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(eo=0,Xw=kd.length;eo<Xw;++eo)En[eo]=kd[eo],Jr[kd.charCodeAt(eo)]=eo;Jr["-".charCodeAt(0)]=62;Jr["_".charCodeAt(0)]=63;Td={byteLength:KO,toByteArray:ZO,fromByteArray:XO};s5=function(e,r,n,i,o){var s,a,f=o*8-i-1,d=(1<<f)-1,m=d>>1,v=-7,y=n?o-1:0,w=n?-1:1,b=e[r+y];for(y+=w,s=b&(1<<-v)-1,b>>=-v,v+=f;v>0;s=s*256+e[r+y],y+=w,v-=8);for(a=s&(1<<-v)-1,s>>=-v,v+=i;v>0;a=a*256+e[r+y],y+=w,v-=8);if(s===0)s=1-m;else{if(s===d)return a?NaN:(b?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-m}return(b?-1:1)*a*Math.pow(2,s-i)},a5=function(e,r,n,i,o,s){var a,f,d,m=s*8-o-1,v=(1<<m)-1,y=v>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=i?0:s-1,A=i?1:-1,k=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,a=v):(a=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+y>=1?r+=w/d:r+=w*Math.pow(2,1-y),r*d>=2&&(a++,d/=2),a+y>=v?(f=0,a=v):a+y>=1?(f=(r*d-1)*Math.pow(2,o),a=a+y):(f=r*Math.pow(2,y-1)*Math.pow(2,o),a=0));o>=8;e[n+b]=f&255,b+=A,f/=256,o-=8);for(a=a<<o|f,m+=o;m>0;e[n+b]=a&255,b+=A,a/=256,m-=8);e[n+b-A]|=k*128},as={read:s5,write:a5},rc=YO(function(t,e){var r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;var n=2147483647;e.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var C=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(C,E),C.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function o(C){if(C>n)throw new RangeError('The value "'+C+'" is invalid for option "size"');var E=new Uint8Array(C);return Object.setPrototypeOf(E,s.prototype),E}function s(C,E,T){if(typeof C=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(C)}return a(C,E,T)}s.poolSize=8192;function a(C,E,T){if(typeof C=="string")return v(C,E);if(ArrayBuffer.isView(C))return w(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(C));if(K(C,ArrayBuffer)||C&&K(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(K(C,SharedArrayBuffer)||C&&K(C.buffer,SharedArrayBuffer)))return b(C,E,T);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var B=C.valueOf&&C.valueOf();if(B!=null&&B!==C)return s.from(B,E,T);var ee=A(C);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return s.from(C[Symbol.toPrimitive]("string"),E,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(C))}s.from=function(C,E,T){return a(C,E,T)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function f(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function d(C,E,T){return f(C),C<=0?o(C):E!==void 0?typeof T=="string"?o(C).fill(E,T):o(C).fill(E):o(C)}s.alloc=function(C,E,T){return d(C,E,T)};function m(C){return f(C),o(C<0?0:k(C)|0)}s.allocUnsafe=function(C){return m(C)},s.allocUnsafeSlow=function(C){return m(C)};function v(C,E){if((typeof E!="string"||E==="")&&(E="utf8"),!s.isEncoding(E))throw new TypeError("Unknown encoding: "+E);var T=F(C,E)|0,B=o(T),ee=B.write(C,E);return ee!==T&&(B=B.slice(0,ee)),B}function y(C){for(var E=C.length<0?0:k(C.length)|0,T=o(E),B=0;B<E;B+=1)T[B]=C[B]&255;return T}function w(C){if(K(C,Uint8Array)){var E=new Uint8Array(C);return b(E.buffer,E.byteOffset,E.byteLength)}return y(C)}function b(C,E,T){if(E<0||C.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<E+(T||0))throw new RangeError('"length" is outside of buffer bounds');var B;return E===void 0&&T===void 0?B=new Uint8Array(C):T===void 0?B=new Uint8Array(C,E):B=new Uint8Array(C,E,T),Object.setPrototypeOf(B,s.prototype),B}function A(C){if(s.isBuffer(C)){var E=k(C.length)|0,T=o(E);return T.length===0||C.copy(T,0,0,E),T}if(C.length!==void 0)return typeof C.length!="number"||J(C.length)?o(0):y(C);if(C.type==="Buffer"&&Array.isArray(C.data))return y(C.data)}function k(C){if(C>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return C|0}function N(C){return+C!=C&&(C=0),s.alloc(+C)}s.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==s.prototype},s.compare=function(E,T){if(K(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),K(T,Uint8Array)&&(T=s.from(T,T.offset,T.byteLength)),!s.isBuffer(E)||!s.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===T)return 0;for(var B=E.length,ee=T.length,fe=0,he=Math.min(B,ee);fe<he;++fe)if(E[fe]!==T[fe]){B=E[fe],ee=T[fe];break}return B<ee?-1:ee<B?1:0},s.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(E,T){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return s.alloc(0);var B;if(T===void 0)for(T=0,B=0;B<E.length;++B)T+=E[B].length;var ee=s.allocUnsafe(T),fe=0;for(B=0;B<E.length;++B){var he=E[B];if(K(he,Uint8Array))fe+he.length>ee.length?s.from(he).copy(ee,fe):Uint8Array.prototype.set.call(ee,he,fe);else if(s.isBuffer(he))he.copy(ee,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=he.length}return ee};function F(C,E){if(s.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||K(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(C));var T=C.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&T===0)return 0;for(var ee=!1;;)switch(E){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Ie(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return j(C).length;default:if(ee)return B?-1:Ie(C).length;E=(""+E).toLowerCase(),ee=!0}}s.byteLength=F;function Y(C,E,T){var B=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,E>>>=0,T<=E))return"";for(C||(C="utf8");;)switch(C){case"hex":return U(this,E,T);case"utf8":case"utf-8":return ae(this,E,T);case"ascii":return D(this,E,T);case"latin1":case"binary":return ie(this,E,T);case"base64":return le(this,E,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,E,T);default:if(B)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),B=!0}}s.prototype._isBuffer=!0;function H(C,E,T){var B=C[E];C[E]=C[T],C[T]=B}s.prototype.swap16=function(){var E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<E;T+=2)H(this,T,T+1);return this},s.prototype.swap32=function(){var E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<E;T+=4)H(this,T,T+3),H(this,T+1,T+2);return this},s.prototype.swap64=function(){var E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<E;T+=8)H(this,T,T+7),H(this,T+1,T+6),H(this,T+2,T+5),H(this,T+3,T+4);return this},s.prototype.toString=function(){var E=this.length;return E===0?"":arguments.length===0?ae(this,0,E):Y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(E){if(!s.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:s.compare(this,E)===0},s.prototype.inspect=function(){var E="",T=e.INSPECT_MAX_BYTES;return E=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(E+=" ... "),"<Buffer "+E+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(E,T,B,ee,fe){if(K(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),!s.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(E));if(T===void 0&&(T=0),B===void 0&&(B=E?E.length:0),ee===void 0&&(ee=0),fe===void 0&&(fe=this.length),T<0||B>E.length||ee<0||fe>this.length)throw new RangeError("out of range index");if(ee>=fe&&T>=B)return 0;if(ee>=fe)return-1;if(T>=B)return 1;if(T>>>=0,B>>>=0,ee>>>=0,fe>>>=0,this===E)return 0;for(var he=fe-ee,Ce=B-T,Re=Math.min(he,Ce),Je=this.slice(ee,fe),Dt=E.slice(T,B),Qe=0;Qe<Re;++Qe)if(Je[Qe]!==Dt[Qe]){he=Je[Qe],Ce=Dt[Qe];break}return he<Ce?-1:Ce<he?1:0};function Z(C,E,T,B,ee){if(C.length===0)return-1;if(typeof T=="string"?(B=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,J(T)&&(T=ee?0:C.length-1),T<0&&(T=C.length+T),T>=C.length){if(ee)return-1;T=C.length-1}else if(T<0)if(ee)T=0;else return-1;if(typeof E=="string"&&(E=s.from(E,B)),s.isBuffer(E))return E.length===0?-1:L(C,E,T,B,ee);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(C,E,T):Uint8Array.prototype.lastIndexOf.call(C,E,T):L(C,[E],T,B,ee);throw new TypeError("val must be string, number or Buffer")}function L(C,E,T,B,ee){var fe=1,he=C.length,Ce=E.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(C.length<2||E.length<2)return-1;fe=2,he/=2,Ce/=2,T/=2}function Re(Ts,Ni){return fe===1?Ts[Ni]:Ts.readUInt16BE(Ni*fe)}var Je;if(ee){var Dt=-1;for(Je=T;Je<he;Je++)if(Re(C,Je)===Re(E,Dt===-1?0:Je-Dt)){if(Dt===-1&&(Dt=Je),Je-Dt+1===Ce)return Dt*fe}else Dt!==-1&&(Je-=Je-Dt),Dt=-1}else for(T+Ce>he&&(T=he-Ce),Je=T;Je>=0;Je--){for(var Qe=!0,mo=0;mo<Ce;mo++)if(Re(C,Je+mo)!==Re(E,mo)){Qe=!1;break}if(Qe)return Je}return-1}s.prototype.includes=function(E,T,B){return this.indexOf(E,T,B)!==-1},s.prototype.indexOf=function(E,T,B){return Z(this,E,T,B,!0)},s.prototype.lastIndexOf=function(E,T,B){return Z(this,E,T,B,!1)};function V(C,E,T,B){T=Number(T)||0;var ee=C.length-T;B?(B=Number(B),B>ee&&(B=ee)):B=ee;var fe=E.length;B>fe/2&&(B=fe/2);for(var he=0;he<B;++he){var Ce=parseInt(E.substr(he*2,2),16);if(J(Ce))return he;C[T+he]=Ce}return he}function S(C,E,T,B){return $(Ie(E,C.length-T),C,T,B)}function W(C,E,T,B){return $(O(E),C,T,B)}function te(C,E,T,B){return $(j(E),C,T,B)}function X(C,E,T,B){return $(R(E,C.length-T),C,T,B)}s.prototype.write=function(E,T,B,ee){if(T===void 0)ee="utf8",B=this.length,T=0;else if(B===void 0&&typeof T=="string")ee=T,B=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(B)?(B=B>>>0,ee===void 0&&(ee="utf8")):(ee=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var fe=this.length-T;if((B===void 0||B>fe)&&(B=fe),E.length>0&&(B<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var he=!1;;)switch(ee){case"hex":return V(this,E,T,B);case"utf8":case"utf-8":return S(this,E,T,B);case"ascii":case"latin1":case"binary":return W(this,E,T,B);case"base64":return te(this,E,T,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,E,T,B);default:if(he)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),he=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(C,E,T){return E===0&&T===C.length?Td.fromByteArray(C):Td.fromByteArray(C.slice(E,T))}function ae(C,E,T){T=Math.min(C.length,T);for(var B=[],ee=E;ee<T;){var fe=C[ee],he=null,Ce=fe>239?4:fe>223?3:fe>191?2:1;if(ee+Ce<=T){var Re,Je,Dt,Qe;switch(Ce){case 1:fe<128&&(he=fe);break;case 2:Re=C[ee+1],(Re&192)===128&&(Qe=(fe&31)<<6|Re&63,Qe>127&&(he=Qe));break;case 3:Re=C[ee+1],Je=C[ee+2],(Re&192)===128&&(Je&192)===128&&(Qe=(fe&15)<<12|(Re&63)<<6|Je&63,Qe>2047&&(Qe<55296||Qe>57343)&&(he=Qe));break;case 4:Re=C[ee+1],Je=C[ee+2],Dt=C[ee+3],(Re&192)===128&&(Je&192)===128&&(Dt&192)===128&&(Qe=(fe&15)<<18|(Re&63)<<12|(Je&63)<<6|Dt&63,Qe>65535&&Qe<1114112&&(he=Qe))}}he===null?(he=65533,Ce=1):he>65535&&(he-=65536,B.push(he>>>10&1023|55296),he=56320|he&1023),B.push(he),ee+=Ce}return M(B)}var ye=4096;function M(C){var E=C.length;if(E<=ye)return String.fromCharCode.apply(String,C);for(var T="",B=0;B<E;)T+=String.fromCharCode.apply(String,C.slice(B,B+=ye));return T}function D(C,E,T){var B="";T=Math.min(C.length,T);for(var ee=E;ee<T;++ee)B+=String.fromCharCode(C[ee]&127);return B}function ie(C,E,T){var B="";T=Math.min(C.length,T);for(var ee=E;ee<T;++ee)B+=String.fromCharCode(C[ee]);return B}function U(C,E,T){var B=C.length;(!E||E<0)&&(E=0),(!T||T<0||T>B)&&(T=B);for(var ee="",fe=E;fe<T;++fe)ee+=_e[C[fe]];return ee}function z(C,E,T){for(var B=C.slice(E,T),ee="",fe=0;fe<B.length-1;fe+=2)ee+=String.fromCharCode(B[fe]+B[fe+1]*256);return ee}s.prototype.slice=function(E,T){var B=this.length;E=~~E,T=T===void 0?B:~~T,E<0?(E+=B,E<0&&(E=0)):E>B&&(E=B),T<0?(T+=B,T<0&&(T=0)):T>B&&(T=B),T<E&&(T=E);var ee=this.subarray(E,T);return Object.setPrototypeOf(ee,s.prototype),ee};function G(C,E,T){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+E>T)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(E,T,B){E=E>>>0,T=T>>>0,B||G(E,T,this.length);for(var ee=this[E],fe=1,he=0;++he<T&&(fe*=256);)ee+=this[E+he]*fe;return ee},s.prototype.readUintBE=s.prototype.readUIntBE=function(E,T,B){E=E>>>0,T=T>>>0,B||G(E,T,this.length);for(var ee=this[E+--T],fe=1;T>0&&(fe*=256);)ee+=this[E+--T]*fe;return ee},s.prototype.readUint8=s.prototype.readUInt8=function(E,T){return E=E>>>0,T||G(E,1,this.length),this[E]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(E,T){return E=E>>>0,T||G(E,2,this.length),this[E]|this[E+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(E,T){return E=E>>>0,T||G(E,2,this.length),this[E]<<8|this[E+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(E,T){return E=E>>>0,T||G(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(E,T){return E=E>>>0,T||G(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},s.prototype.readIntLE=function(E,T,B){E=E>>>0,T=T>>>0,B||G(E,T,this.length);for(var ee=this[E],fe=1,he=0;++he<T&&(fe*=256);)ee+=this[E+he]*fe;return fe*=128,ee>=fe&&(ee-=Math.pow(2,8*T)),ee},s.prototype.readIntBE=function(E,T,B){E=E>>>0,T=T>>>0,B||G(E,T,this.length);for(var ee=T,fe=1,he=this[E+--ee];ee>0&&(fe*=256);)he+=this[E+--ee]*fe;return fe*=128,he>=fe&&(he-=Math.pow(2,8*T)),he},s.prototype.readInt8=function(E,T){return E=E>>>0,T||G(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},s.prototype.readInt16LE=function(E,T){E=E>>>0,T||G(E,2,this.length);var B=this[E]|this[E+1]<<8;return B&32768?B|4294901760:B},s.prototype.readInt16BE=function(E,T){E=E>>>0,T||G(E,2,this.length);var B=this[E+1]|this[E]<<8;return B&32768?B|4294901760:B},s.prototype.readInt32LE=function(E,T){return E=E>>>0,T||G(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},s.prototype.readInt32BE=function(E,T){return E=E>>>0,T||G(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},s.prototype.readFloatLE=function(E,T){return E=E>>>0,T||G(E,4,this.length),as.read(this,E,!0,23,4)},s.prototype.readFloatBE=function(E,T){return E=E>>>0,T||G(E,4,this.length),as.read(this,E,!1,23,4)},s.prototype.readDoubleLE=function(E,T){return E=E>>>0,T||G(E,8,this.length),as.read(this,E,!0,52,8)},s.prototype.readDoubleBE=function(E,T){return E=E>>>0,T||G(E,8,this.length),as.read(this,E,!1,52,8)};function ue(C,E,T,B,ee,fe){if(!s.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>ee||E<fe)throw new RangeError('"value" argument is out of bounds');if(T+B>C.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(E,T,B,ee){if(E=+E,T=T>>>0,B=B>>>0,!ee){var fe=Math.pow(2,8*B)-1;ue(this,E,T,B,fe,0)}var he=1,Ce=0;for(this[T]=E&255;++Ce<B&&(he*=256);)this[T+Ce]=E/he&255;return T+B},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(E,T,B,ee){if(E=+E,T=T>>>0,B=B>>>0,!ee){var fe=Math.pow(2,8*B)-1;ue(this,E,T,B,fe,0)}var he=B-1,Ce=1;for(this[T+he]=E&255;--he>=0&&(Ce*=256);)this[T+he]=E/Ce&255;return T+B},s.prototype.writeUint8=s.prototype.writeUInt8=function(E,T,B){return E=+E,T=T>>>0,B||ue(this,E,T,1,255,0),this[T]=E&255,T+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(E,T,B){return E=+E,T=T>>>0,B||ue(this,E,T,2,65535,0),this[T]=E&255,this[T+1]=E>>>8,T+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(E,T,B){return E=+E,T=T>>>0,B||ue(this,E,T,2,65535,0),this[T]=E>>>8,this[T+1]=E&255,T+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(E,T,B){return E=+E,T=T>>>0,B||ue(this,E,T,4,4294967295,0),this[T+3]=E>>>24,this[T+2]=E>>>16,this[T+1]=E>>>8,this[T]=E&255,T+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(E,T,B){return E=+E,T=T>>>0,B||ue(this,E,T,4,4294967295,0),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4},s.prototype.writeIntLE=function(E,T,B,ee){if(E=+E,T=T>>>0,!ee){var fe=Math.pow(2,8*B-1);ue(this,E,T,B,fe-1,-fe)}var he=0,Ce=1,Re=0;for(this[T]=E&255;++he<B&&(Ce*=256);)E<0&&Re===0&&this[T+he-1]!==0&&(Re=1),this[T+he]=(E/Ce>>0)-Re&255;return T+B},s.prototype.writeIntBE=function(E,T,B,ee){if(E=+E,T=T>>>0,!ee){var fe=Math.pow(2,8*B-1);ue(this,E,T,B,fe-1,-fe)}var he=B-1,Ce=1,Re=0;for(this[T+he]=E&255;--he>=0&&(Ce*=256);)E<0&&Re===0&&this[T+he+1]!==0&&(Re=1),this[T+he]=(E/Ce>>0)-Re&255;return T+B},s.prototype.writeInt8=function(E,T,B){return E=+E,T=T>>>0,B||ue(this,E,T,1,127,-128),E<0&&(E=255+E+1),this[T]=E&255,T+1},s.prototype.writeInt16LE=function(E,T,B){return E=+E,T=T>>>0,B||ue(this,E,T,2,32767,-32768),this[T]=E&255,this[T+1]=E>>>8,T+2},s.prototype.writeInt16BE=function(E,T,B){return E=+E,T=T>>>0,B||ue(this,E,T,2,32767,-32768),this[T]=E>>>8,this[T+1]=E&255,T+2},s.prototype.writeInt32LE=function(E,T,B){return E=+E,T=T>>>0,B||ue(this,E,T,4,2147483647,-2147483648),this[T]=E&255,this[T+1]=E>>>8,this[T+2]=E>>>16,this[T+3]=E>>>24,T+4},s.prototype.writeInt32BE=function(E,T,B){return E=+E,T=T>>>0,B||ue(this,E,T,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4};function oe(C,E,T,B,ee,fe){if(T+B>C.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function ne(C,E,T,B,ee){return E=+E,T=T>>>0,ee||oe(C,E,T,4),as.write(C,E,T,B,23,4),T+4}s.prototype.writeFloatLE=function(E,T,B){return ne(this,E,T,!0,B)},s.prototype.writeFloatBE=function(E,T,B){return ne(this,E,T,!1,B)};function se(C,E,T,B,ee){return E=+E,T=T>>>0,ee||oe(C,E,T,8),as.write(C,E,T,B,52,8),T+8}s.prototype.writeDoubleLE=function(E,T,B){return se(this,E,T,!0,B)},s.prototype.writeDoubleBE=function(E,T,B){return se(this,E,T,!1,B)},s.prototype.copy=function(E,T,B,ee){if(!s.isBuffer(E))throw new TypeError("argument should be a Buffer");if(B||(B=0),!ee&&ee!==0&&(ee=this.length),T>=E.length&&(T=E.length),T||(T=0),ee>0&&ee<B&&(ee=B),ee===B||E.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),E.length-T<ee-B&&(ee=E.length-T+B);var fe=ee-B;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,B,ee):Uint8Array.prototype.set.call(E,this.subarray(B,ee),T),fe},s.prototype.fill=function(E,T,B,ee){if(typeof E=="string"){if(typeof T=="string"?(ee=T,T=0,B=this.length):typeof B=="string"&&(ee=B,B=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!s.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(E.length===1){var fe=E.charCodeAt(0);(ee==="utf8"&&fe<128||ee==="latin1")&&(E=fe)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(T<0||this.length<T||this.length<B)throw new RangeError("Out of range index");if(B<=T)return this;T=T>>>0,B=B===void 0?this.length:B>>>0,E||(E=0);var he;if(typeof E=="number")for(he=T;he<B;++he)this[he]=E;else{var Ce=s.isBuffer(E)?E:s.from(E,ee),Re=Ce.length;if(Re===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(he=0;he<B-T;++he)this[he+T]=Ce[he%Re]}return this};var pe=/[^+/0-9A-Za-z-_]/g;function Ee(C){if(C=C.split("=")[0],C=C.trim().replace(pe,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function Ie(C,E){E=E||1/0;for(var T,B=C.length,ee=null,fe=[],he=0;he<B;++he){if(T=C.charCodeAt(he),T>55295&&T<57344){if(!ee){if(T>56319){(E-=3)>-1&&fe.push(239,191,189);continue}else if(he+1===B){(E-=3)>-1&&fe.push(239,191,189);continue}ee=T;continue}if(T<56320){(E-=3)>-1&&fe.push(239,191,189),ee=T;continue}T=(ee-55296<<10|T-56320)+65536}else ee&&(E-=3)>-1&&fe.push(239,191,189);if(ee=null,T<128){if((E-=1)<0)break;fe.push(T)}else if(T<2048){if((E-=2)<0)break;fe.push(T>>6|192,T&63|128)}else if(T<65536){if((E-=3)<0)break;fe.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((E-=4)<0)break;fe.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return fe}function O(C){for(var E=[],T=0;T<C.length;++T)E.push(C.charCodeAt(T)&255);return E}function R(C,E){for(var T,B,ee,fe=[],he=0;he<C.length&&!((E-=2)<0);++he)T=C.charCodeAt(he),B=T>>8,ee=T%256,fe.push(ee),fe.push(B);return fe}function j(C){return Td.toByteArray(Ee(C))}function $(C,E,T,B){for(var ee=0;ee<B&&!(ee+T>=E.length||ee>=C.length);++ee)E[ee+T]=C[ee];return ee}function K(C,E){return C instanceof E||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===E.name}function J(C){return C!==C}var _e=function(){for(var C="0123456789abcdef",E=new Array(256),T=0;T<16;++T)for(var B=T*16,ee=0;ee<16;++ee)E[B+ee]=C[T]+C[ee];return E}()}),qe=rc.Buffer;rc.SlowBuffer;rc.INSPECT_MAX_BYTES;rc.kMaxLength;Dd=function(e,r){return Dd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},Dd(e,r)};ro=function(t){Cd(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),e}(Error),_t=function(t){Cd(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),e}(TypeError);u5=function(e){var r=l5()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(r);for(var n=qe.alloc(e),i=0;i<e;++i)n[i]=Math.floor(Math.random()*256);return n},c5=function(){if(typeof window<"u"){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return function(r){return t.getRandomValues(qe.alloc(r))}}if(typeof global<"u"&&global.crypto&&global.crypto.getRandomValues)return function(r){return global.crypto.getRandomValues(qe.alloc(r))};var e;try{e=E3("crypto").randomBytes}catch{}return e||u5},p_=c5();p5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,y_=function(t){return typeof t=="string"&&p5.test(t)},Fd=function(t){if(!y_(t))throw new _t('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var e=t.replace(/-/g,"");return qe.from(e,"hex")},Qw=function(t,e){return e===void 0&&(e=!0),e?t.toString("hex",0,4)+"-"+t.toString("hex",4,6)+"-"+t.toString("hex",6,8)+"-"+t.toString("hex",8,10)+"-"+t.toString("hex",10,16):t.toString("hex")},Nd=16,Id=Symbol("id"),m_=function(){function t(e){if(typeof e>"u")this.id=t.generate();else if(e instanceof t)this[Id]=qe.from(e.id),this.__id=e.__id;else if(ArrayBuffer.isView(e)&&e.byteLength===Nd)this.id=tc(e);else if(typeof e=="string")this.id=Fd(e);else throw new _t("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).")}return Object.defineProperty(t.prototype,"id",{get:function(){return this[Id]},set:function(e){this[Id]=e,t.cacheHexString&&(this.__id=Qw(e))},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(e){if(e===void 0&&(e=!0),t.cacheHexString&&this.__id)return this.__id;var r=Qw(this.id,e);return t.cacheHexString&&(this.__id=r),r},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){if(!e)return!1;if(e instanceof t)return e.id.equals(this.id);try{return new t(e).id.equals(this.id)}catch{return!1}},t.prototype.toBinary=function(){return new no(this.id,no.SUBTYPE_UUID)},t.generate=function(){var e=p_(Nd);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,qe.from(e)},t.isValid=function(e){if(!e)return!1;if(e instanceof t)return!0;if(typeof e=="string")return y_(e);if(Pd(e)){if(e.length!==Nd)return!1;try{return parseInt(e[6].toString(16)[0],10)===no.SUBTYPE_UUID}catch{return!1}}return!1},t.createFromHexString=function(e){var r=Fd(e);return new t(r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new UUID("'+this.toHexString()+'")'},t}();Object.defineProperty(m_.prototype,"_bsontype",{value:"UUID"});no=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(e!=null&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new _t("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??t.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=qe.alloc(t.BUFFER_SIZE),this.position=0):(typeof e=="string"?this.buffer=qe.from(e,"binary"):Array.isArray(e)?this.buffer=qe.from(e):this.buffer=tc(e),this.position=this.buffer.byteLength)}return t.prototype.put=function(e){if(typeof e=="string"&&e.length!==1)throw new _t("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new _t("only accepts single character Uint8Array or Array");var r;if(typeof e=="string"?r=e.charCodeAt(0):typeof e=="number"?r=e:r=e[0],r<0||r>255)throw new _t("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var n=qe.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}},t.prototype.write=function(e,r){if(r=typeof r=="number"?r:this.position,this.buffer.length<r+e.length){var n=qe.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(tc(e),r),this.position=r+e.byteLength>this.position?r+e.length:this.position):typeof e=="string"&&(this.buffer.write(e,r,e.length,"binary"),this.position=r+e.length>this.position?r+e.length:this.position)},t.prototype.read=function(e,r){return r=r&&r>0?r:this.position,this.buffer.slice(e,e+r)},t.prototype.value=function(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},t.prototype.length=function(){return this.position},t.prototype.toJSON=function(){return this.buffer.toString("base64")},t.prototype.toString=function(e){return this.buffer.toString(e)},t.prototype.toExtendedJSON=function(e){e=e||{};var r=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}},t.prototype.toUUID=function(){if(this.sub_type===t.SUBTYPE_UUID)return new m_(this.buffer.slice(0,this.position));throw new ro('Binary sub_type "'+this.sub_type+'" is not supported for converting to UUID. Only "'+t.SUBTYPE_UUID+'" is currently supported.')},t.fromExtendedJSON=function(e,r){r=r||{};var n,i;if("$binary"in e?r.legacy&&typeof e.$binary=="string"&&"$type"in e?(i=e.$type?parseInt(e.$type,16):0,n=qe.from(e.$binary,"base64")):typeof e.$binary!="string"&&(i=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=qe.from(e.$binary.base64,"base64")):"$uuid"in e&&(i=4,n=Fd(e.$uuid)),!n)throw new _t("Unexpected Binary Extended JSON format "+JSON.stringify(e));return new t(n,i)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'+e.toString("hex")+'", "hex"), '+this.sub_type+")"},t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BUFFER_SIZE=256,t.SUBTYPE_DEFAULT=0,t.SUBTYPE_FUNCTION=1,t.SUBTYPE_BYTE_ARRAY=2,t.SUBTYPE_UUID_OLD=3,t.SUBTYPE_UUID=4,t.SUBTYPE_MD5=5,t.SUBTYPE_ENCRYPTED=6,t.SUBTYPE_COLUMN=7,t.SUBTYPE_USER_DEFINED=128,t}();Object.defineProperty(no.prototype,"_bsontype",{value:"Binary"});ic=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);this.code=e,this.scope=r}return t.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},t.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},t.fromExtendedJSON=function(e){return new t(e.$code,e.$scope)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},t}();Object.defineProperty(ic.prototype,"_bsontype",{value:"Code"});$a=function(){function t(e,r,n,i){if(!(this instanceof t))return new t(e,r,n,i);var o=e.split(".");o.length===2&&(n=o.shift(),e=o.shift()),this.collection=e,this.oid=r,this.db=n,this.fields=i||{}}return Object.defineProperty(t.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e},t.prototype.toExtendedJSON=function(e){e=e||{};var r={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r},t.fromExtendedJSON=function(e){var r=Object.assign({},e);return delete r.$ref,delete r.$id,delete r.$db,new t(e.$ref,e.$id,e.$db,r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},t}();Object.defineProperty($a.prototype,"_bsontype",{value:"DBRef"});Gr=void 0;try{Gr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}e_=1<<16,m5=1<<24,cs=e_*e_,g_=cs*cs,t_=g_/2,r_={},n_={},ke=function(){function t(e,r,n){if(e===void 0&&(e=0),!(this instanceof t))return new t(e,r,n);typeof e=="bigint"?Object.assign(this,t.fromBigInt(e,!!r)):typeof e=="string"?Object.assign(this,t.fromString(e,!!r)):(this.low=e|0,this.high=r|0,this.unsigned=!!n),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return t.fromBits=function(e,r,n){return new t(e,r,n)},t.fromInt=function(e,r){var n,i,o;return r?(e>>>=0,(o=0<=e&&e<256)&&(i=n_[e],i)?i:(n=t.fromBits(e,(e|0)<0?-1:0,!0),o&&(n_[e]=n),n)):(e|=0,(o=-128<=e&&e<128)&&(i=r_[e],i)?i:(n=t.fromBits(e,e<0?-1:0,!1),o&&(r_[e]=n),n))},t.fromNumber=function(e,r){if(isNaN(e))return r?t.UZERO:t.ZERO;if(r){if(e<0)return t.UZERO;if(e>=g_)return t.MAX_UNSIGNED_VALUE}else{if(e<=-t_)return t.MIN_VALUE;if(e+1>=t_)return t.MAX_VALUE}return e<0?t.fromNumber(-e,r).neg():t.fromBits(e%cs|0,e/cs|0,r)},t.fromBigInt=function(e,r){return t.fromString(e.toString(),r)},t.fromString=function(e,r,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t.ZERO;if(typeof r=="number"?(n=r,r=!1):r=!!r,n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return t.fromString(e.substring(1),r,n).neg();for(var o=t.fromNumber(Math.pow(n,8)),s=t.ZERO,a=0;a<e.length;a+=8){var f=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+f),n);if(f<8){var m=t.fromNumber(Math.pow(n,f));s=s.mul(m).add(t.fromNumber(d))}else s=s.mul(o),s=s.add(t.fromNumber(d))}return s.unsigned=r,s},t.fromBytes=function(e,r,n){return n?t.fromBytesLE(e,r):t.fromBytesBE(e,r)},t.fromBytesLE=function(e,r){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)},t.fromBytesBE=function(e,r){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)},t.isLong=function(e){return Ga(e)&&e.__isLong__===!0},t.fromValue=function(e,r){return typeof e=="number"?t.fromNumber(e,r):typeof e=="string"?t.fromString(e,r):t.fromBits(e.low,e.high,typeof r=="boolean"?r:e.unsigned)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var r=this.high>>>16,n=this.high&65535,i=this.low>>>16,o=this.low&65535,s=e.high>>>16,a=e.high&65535,f=e.low>>>16,d=e.low&65535,m=0,v=0,y=0,w=0;return w+=o+d,y+=w>>>16,w&=65535,y+=i+f,v+=y>>>16,y&=65535,v+=n+a,m+=v>>>16,v&=65535,m+=r+s,m&=65535,t.fromBits(y<<16|w,m<<16|v,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.compare=function(e){if(t.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.comp=function(e){return this.compare(e)},t.prototype.divide=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(Gr){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?Gr.div_u:Gr.div_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Gr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;o=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var s=this.shr(1);return n=s.div(e).shl(1),n.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(i=this.sub(e.mul(n)),o=n.add(i.div(e)),o)}else if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=t.ZERO}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),f=a<=48?1:Math.pow(2,a-48),d=t.fromNumber(n),m=d.mul(e);m.isNegative()||m.gt(i);)n-=f,d=t.fromNumber(n,this.unsigned),m=d.mul(e);d.isZero()&&(d=t.ONE),o=o.add(d),i=i.sub(m)}return o},t.prototype.div=function(e){return this.divide(e)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.eq=function(e){return this.equals(e)},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();var e=this.high!==0?this.high:this.low,r;for(r=31;r>0&&(e&1<<r)===0;r--);return this.high!==0?r+33:r+1},t.prototype.greaterThan=function(e){return this.comp(e)>0},t.prototype.gt=function(e){return this.greaterThan(e)},t.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},t.prototype.gte=function(e){return this.greaterThanOrEqual(e)},t.prototype.ge=function(e){return this.greaterThanOrEqual(e)},t.prototype.isEven=function(){return(this.low&1)===0},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isOdd=function(){return(this.low&1)===1},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isZero=function(){return this.high===0&&this.low===0},t.prototype.lessThan=function(e){return this.comp(e)<0},t.prototype.lt=function(e){return this.lessThan(e)},t.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},t.prototype.lte=function(e){return this.lessThanOrEqual(e)},t.prototype.modulo=function(e){if(t.isLong(e)||(e=t.fromValue(e)),Gr){var r=(this.unsigned?Gr.rem_u:Gr.rem_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Gr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},t.prototype.mod=function(e){return this.modulo(e)},t.prototype.rem=function(e){return this.modulo(e)},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),Gr){var r=Gr.mul(this.low,this.high,e.low,e.high);return t.fromBits(r,Gr.get_high(),this.unsigned)}if(e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,o=this.low>>>16,s=this.low&65535,a=e.high>>>16,f=e.high&65535,d=e.low>>>16,m=e.low&65535,v=0,y=0,w=0,b=0;return b+=s*m,w+=b>>>16,b&=65535,w+=o*m,y+=w>>>16,w&=65535,w+=s*d,y+=w>>>16,w&=65535,y+=i*m,v+=y>>>16,y&=65535,y+=o*d,v+=y>>>16,y&=65535,y+=s*f,v+=y>>>16,y&=65535,v+=n*m+i*d+o*f+s*a,v&=65535,t.fromBits(w<<16|b,v<<16|y,this.unsigned)},t.prototype.mul=function(e){return this.multiply(e)},t.prototype.negate=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.neg=function(){return this.negate()},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.notEquals=function(e){return!this.equals(e)},t.prototype.neq=function(e){return this.notEquals(e)},t.prototype.ne=function(e){return this.notEquals(e)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shl=function(e){return this.shiftLeft(e)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shr=function(e){return this.shiftRight(e)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return t.fromBits(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?t.fromBits(r,0,this.unsigned):t.fromBits(r>>>e-32,0,this.unsigned)},t.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},t.prototype.shru=function(e){return this.shiftRightUnsigned(e)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())},t.prototype.sub=function(e){return this.subtract(e)},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*cs+(this.low>>>0):this.high*cs+(this.low>>>0)},t.prototype.toBigInt=function(){return BigInt(this.toString())},t.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},t.prototype.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},t.prototype.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(t.MIN_VALUE)){var r=t.fromNumber(e),n=this.div(r),i=n.mul(r).sub(this);return n.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=t.fromNumber(Math.pow(e,6),this.unsigned),s=this,a="";;){var f=s.div(o),d=s.sub(f.mul(o)).toInt()>>>0,m=d.toString(e);if(s=f,s.isZero())return m+a;for(;m.length<6;)m="0"+m;a=""+m+a}},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.eqz=function(){return this.isZero()},t.prototype.le=function(e){return this.lessThanOrEqual(e)},t.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},t.fromExtendedJSON=function(e,r){var n=t.fromString(e.$numberLong);return r&&r.relaxed?n.toNumber():n},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Long("'+this.toString()+'"'+(this.unsigned?", true":"")+")"},t.TWO_PWR_24=t.fromInt(m5),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t}();Object.defineProperty(ke.prototype,"__isLong__",{value:!0});Object.defineProperty(ke.prototype,"_bsontype",{value:"Long"});g5=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,v5=/^(\+|-)?(Infinity|inf)$/i,w5=/^(\+|-)?NaN$/i,qa=6111,Ad=-6176,i_=6176,_5=34,Rd=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),o_=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),s_=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),S5=/^([-+])?(\d+)?$/,E5=31,a_=16383,b5=30,x5=31;Ld=function(){function t(e){if(!(this instanceof t))return new t(e);if(typeof e=="string")this.bytes=t.fromString(e).bytes;else if(Pd(e)){if(e.byteLength!==16)throw new _t("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new _t("Decimal128 must take a Buffer or string")}return t.fromString=function(e){var r=!1,n=!1,i=!1,o=0,s=0,a=0,f=0,d=0,m=[0],v=0,y=0,w=0,b=0,A=0,k=0,N=new ke(0,0),F=new ke(0,0),Y=0,H=0;if(e.length>=7e3)throw new _t(""+e+" not a valid Decimal128 string");var Z=e.match(g5),L=e.match(v5),V=e.match(w5);if(!Z&&!L&&!V||e.length===0)throw new _t(""+e+" not a valid Decimal128 string");if(Z){var S=Z[2],W=Z[4],te=Z[5],X=Z[6];W&&X===void 0&&ls(e,"missing exponent power"),W&&S===void 0&&ls(e,"missing exponent base"),W===void 0&&(te||X)&&ls(e,"missing e before exponent")}if((e[H]==="+"||e[H]==="-")&&(r=e[H++]==="-"),!l_(e[H])&&e[H]!=="."){if(e[H]==="i"||e[H]==="I")return new t(qe.from(r?o_:s_));if(e[H]==="N")return new t(qe.from(Rd))}for(;l_(e[H])||e[H]===".";){if(e[H]==="."){n&&ls(e,"contains multiple periods"),n=!0,H=H+1;continue}v<34&&(e[H]!=="0"||i)&&(i||(d=s),i=!0,m[y++]=parseInt(e[H],10),v=v+1),i&&(a=a+1),n&&(f=f+1),s=s+1,H=H+1}if(n&&!s)throw new _t(""+e+" not a valid Decimal128 string");if(e[H]==="e"||e[H]==="E"){var le=e.substr(++H).match(S5);if(!le||!le[2])return new t(qe.from(Rd));A=parseInt(le[0],10),H=H+le[0].length}if(e[H])return new t(qe.from(Rd));if(w=0,!v)w=0,b=0,m[0]=0,a=1,v=1,o=0;else if(b=v-1,o=a,o!==1)for(;m[d+o-1]===0;)o=o-1;for(A<=f&&f-A>1<<14?A=Ad:A=A-f;A>qa;){if(b=b+1,b-w>_5){var ae=m.join("");if(ae.match(/^0+$/)){A=qa;break}ls(e,"overflow")}A=A-1}for(;A<Ad||v<a;){if(b===0&&o<v){A=Ad,o=0;break}if(v<a?a=a-1:b=b-1,A<qa)A=A+1;else{var ae=m.join("");if(ae.match(/^0+$/)){A=qa;break}ls(e,"overflow")}}if(b-w+1<o){var ye=s;n&&(d=d+1,ye=ye+1),r&&(d=d+1,ye=ye+1);var M=parseInt(e[d+b+1],10),D=0;if(M>=5&&(D=1,M===5)){for(D=m[b]%2===1?1:0,k=d+b+2;k<ye;k++)if(parseInt(e[k],10)){D=1;break}}if(D){for(var ie=b;ie>=0;ie--)if(++m[ie]>9&&(m[ie]=0,ie===0))if(A<qa)A=A+1,m[ie]=1;else return new t(qe.from(r?o_:s_))}}if(N=ke.fromNumber(0),F=ke.fromNumber(0),o===0)N=ke.fromNumber(0),F=ke.fromNumber(0);else if(b-w<17){var ie=w;for(F=ke.fromNumber(m[ie++]),N=new ke(0,0);ie<=b;ie++)F=F.multiply(ke.fromNumber(10)),F=F.add(ke.fromNumber(m[ie]))}else{var ie=w;for(N=ke.fromNumber(m[ie++]);ie<=b-17;ie++)N=N.multiply(ke.fromNumber(10)),N=N.add(ke.fromNumber(m[ie]));for(F=ke.fromNumber(m[ie++]);ie<=b;ie++)F=F.multiply(ke.fromNumber(10)),F=F.add(ke.fromNumber(m[ie]))}var U=k5(N,ke.fromString("100000000000000000"));U.low=U.low.add(F),T5(U.low,F)&&(U.high=U.high.add(ke.fromNumber(1))),Y=A+i_;var z={low:ke.fromNumber(0),high:ke.fromNumber(0)};U.high.shiftRightUnsigned(49).and(ke.fromNumber(1)).equals(ke.fromNumber(1))?(z.high=z.high.or(ke.fromNumber(3).shiftLeft(61)),z.high=z.high.or(ke.fromNumber(Y).and(ke.fromNumber(16383).shiftLeft(47))),z.high=z.high.or(U.high.and(ke.fromNumber(140737488355327)))):(z.high=z.high.or(ke.fromNumber(Y&16383).shiftLeft(49)),z.high=z.high.or(U.high.and(ke.fromNumber(562949953421311)))),z.low=U.low,r&&(z.high=z.high.or(ke.fromString("9223372036854775808")));var G=qe.alloc(16);return H=0,G[H++]=z.low.low&255,G[H++]=z.low.low>>8&255,G[H++]=z.low.low>>16&255,G[H++]=z.low.low>>24&255,G[H++]=z.low.high&255,G[H++]=z.low.high>>8&255,G[H++]=z.low.high>>16&255,G[H++]=z.low.high>>24&255,G[H++]=z.high.low&255,G[H++]=z.high.low>>8&255,G[H++]=z.high.low>>16&255,G[H++]=z.high.low>>24&255,G[H++]=z.high.high&255,G[H++]=z.high.high>>8&255,G[H++]=z.high.high>>16&255,G[H++]=z.high.high>>24&255,new t(G)},t.prototype.toString=function(){for(var e,r=0,n=new Array(36),i=0;i<n.length;i++)n[i]=0;var o=0,s=!1,a,f={parts:[0,0,0,0]},d,m,v=[];o=0;var y=this.bytes,w=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,b=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,A=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24,k=y[o++]|y[o++]<<8|y[o++]<<16|y[o++]<<24;o=0;var N={low:new ke(w,b),high:new ke(A,k)};N.high.lessThan(ke.ZERO)&&v.push("-");var F=k>>26&E5;if(F>>3===3){if(F===b5)return v.join("")+"Infinity";if(F===x5)return"NaN";e=k>>15&a_,a=8+(k>>14&1)}else a=k>>14&7,e=k>>17&a_;var Y=e-i_;if(f.parts[0]=(k&16383)+((a&15)<<14),f.parts[1]=A,f.parts[2]=b,f.parts[3]=w,f.parts[0]===0&&f.parts[1]===0&&f.parts[2]===0&&f.parts[3]===0)s=!0;else for(m=3;m>=0;m--){var H=0,Z=O5(f);if(f=Z.quotient,H=Z.rem.low,!!H)for(d=8;d>=0;d--)n[m*9+d]=H%10,H=Math.floor(H/10)}if(s)r=1,n[o]=0;else for(r=36;!n[o];)r=r-1,o=o+1;var L=r-1+Y;if(L>=34||L<=-7||Y>0){if(r>34)return v.push(""+0),Y>0?v.push("E+"+Y):Y<0&&v.push("E"+Y),v.join("");v.push(""+n[o++]),r=r-1,r&&v.push(".");for(var i=0;i<r;i++)v.push(""+n[o++]);v.push("E"),L>0?v.push("+"+L):v.push(""+L)}else if(Y>=0)for(var i=0;i<r;i++)v.push(""+n[o++]);else{var V=r+Y;if(V>0)for(var i=0;i<V;i++)v.push(""+n[o++]);else v.push("0");for(v.push(".");V++<0;)v.push("0");for(var i=0;i<r-Math.max(V-1,0);i++)v.push(""+n[o++])}return v.join("")},t.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},t.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},t.fromExtendedJSON=function(e){return t.fromString(e.$numberDecimal)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Decimal128("'+this.toString()+'")'},t}();Object.defineProperty(Ld.prototype,"_bsontype",{value:"Decimal128"});oc=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e}return t.prototype.valueOf=function(){return this.value},t.prototype.toJSON=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toExtendedJSON=function(e){if(e&&(e.legacy||e.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-"+this.value.toFixed(1)};var r;return Number.isInteger(this.value)?(r=this.value.toFixed(1),r.length>=13&&(r=this.value.toExponential(13).toUpperCase())):r=this.value.toString(),{$numberDouble:r}},t.fromExtendedJSON=function(e,r){var n=parseFloat(e.$numberDouble);return r&&r.relaxed?n:new t(n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double("+e.$numberDouble+")"},t}();Object.defineProperty(oc.prototype,"_bsontype",{value:"Double"});sc=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e|0}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},t.fromExtendedJSON=function(e,r){return r&&r.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},t}();Object.defineProperty(sc.prototype,"_bsontype",{value:"Int32"});Md=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$maxKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MaxKey()"},t}();Object.defineProperty(Md.prototype,"_bsontype",{value:"MaxKey"});jd=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$minKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MinKey()"},t}();Object.defineProperty(jd.prototype,"_bsontype",{value:"MinKey"});N5=new RegExp("^[0-9a-fA-F]{24}$"),to=null,us=Symbol("id"),gr=function(){function t(e){if(!(this instanceof t))return new t(e);var r;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new _t("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?r=qe.from(e.toHexString(),"hex"):r=e.id}else r=e;if(r==null||typeof r=="number")this[us]=t.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[us]=tc(r);else if(typeof r=="string")if(r.length===12){var n=qe.from(r);if(n.byteLength===12)this[us]=n;else throw new _t("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&N5.test(r))this[us]=qe.from(r,"hex");else throw new _t("Argument passed in must be a string of 12 bytes or a string of 24 hex characters");else throw new _t("Argument passed in does not match the accepted types");t.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(t.prototype,"id",{get:function(){return this[us]},set:function(e){this[us]=e,t.cacheHexString&&(this.__id=e.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(){if(t.cacheHexString&&this.__id)return this.__id;var e=this.id.toString("hex");return t.cacheHexString&&!this.__id&&(this.__id=e),e},t.getInc=function(){return t.index=(t.index+1)%16777215},t.generate=function(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));var r=t.getInc(),n=qe.alloc(12);return n.writeUInt32BE(e,0),to===null&&(to=p_(5)),n[4]=to[0],n[5]=to[1],n[6]=to[2],n[7]=to[3],n[8]=to[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){return e==null?!1:e instanceof t?this.toString()===e.toString():typeof e=="string"&&t.isValid(e)&&e.length===12&&Pd(this.id)?e===qe.prototype.toString.call(this.id,"latin1"):typeof e=="string"&&t.isValid(e)&&e.length===24?e.toLowerCase()===this.toHexString():typeof e=="string"&&t.isValid(e)&&e.length===12?qe.from(e).equals(this.id):typeof e=="object"&&"toHexString"in e&&typeof e.toHexString=="function"?e.toHexString()===this.toHexString():!1},t.prototype.getTimestamp=function(){var e=new Date,r=this.id.readUInt32BE(0);return e.setTime(Math.floor(r)*1e3),e},t.createPk=function(){return new t},t.createFromTime=function(e){var r=qe.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(e,0),new t(r)},t.createFromHexString=function(e){if(typeof e>"u"||e!=null&&e.length!==24)throw new _t("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new t(qe.from(e,"hex"))},t.isValid=function(e){if(e==null)return!1;try{return new t(e),!0}catch{return!1}},t.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},t.fromExtendedJSON=function(e){return new t(e.$oid)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},t.index=Math.floor(Math.random()*16777215),t}();Object.defineProperty(gr.prototype,"generate",{value:nc(function(t){return gr.generate(t)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(gr.prototype,"getInc",{value:nc(function(){return gr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(gr.prototype,"get_inc",{value:nc(function(){return gr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(gr,"get_inc",{value:nc(function(){return gr.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(gr.prototype,"_bsontype",{value:"ObjectID"});Ha=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this.pattern=e,this.options=I5(r??""),this.pattern.indexOf("\0")!==-1)throw new ro("BSON Regex patterns cannot contain null bytes, found: "+JSON.stringify(this.pattern));if(this.options.indexOf("\0")!==-1)throw new ro("BSON Regex options cannot contain null bytes, found: "+JSON.stringify(this.options));for(var n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new ro("The regular expression option ["+this.options[n]+"] is not supported")}return t.parseOptions=function(e){return e?e.split("").sort().join(""):""},t.prototype.toExtendedJSON=function(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},t.fromExtendedJSON=function(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new t(e.$regex,t.parseOptions(e.$options));if("$regularExpression"in e)return new t(e.$regularExpression.pattern,t.parseOptions(e.$regularExpression.options));throw new _t("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(e))},t}();Object.defineProperty(Ha.prototype,"_bsontype",{value:"BSONRegExp"});Bd=function(){function t(e){if(!(this instanceof t))return new t(e);this.value=e}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(){return{$symbol:this.value}},t.fromExtendedJSON=function(e){return new t(e.$symbol)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t}();Object.defineProperty(Bd.prototype,"_bsontype",{value:"Symbol"});A5=ke,v_=function(t){Cd(e,t);function e(r,n){var i=this;return i instanceof e?(ke.isLong(r)?i=t.call(this,r.low,r.high,!0)||this:Ga(r)&&typeof r.t<"u"&&typeof r.i<"u"?i=t.call(this,r.i,r.t,!0)||this:i=t.call(this,r,n,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new e(r,n)}return e.prototype.toJSON=function(){return{$timestamp:this.toString()}},e.fromInt=function(r){return new e(ke.fromInt(r,!0))},e.fromNumber=function(r){return new e(ke.fromNumber(r,!0))},e.fromBits=function(r,n){return new e(r,n)},e.fromString=function(r,n){return new e(ke.fromString(r,!0,n))},e.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},e.fromExtendedJSON=function(r){return new e(r.$timestamp)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Timestamp({ t: "+this.getHighBits()+", i: "+this.getLowBits()+" })"},e.MAX_VALUE=ke.MAX_UNSIGNED_VALUE,e}(A5);w_=2147483647,__=-2147483648,S_=9223372036854776e3,E_=-9223372036854776e3,D5={$oid:gr,$binary:no,$uuid:no,$symbol:Bd,$numberInt:sc,$numberDecimal:Ld,$numberDouble:oc,$numberLong:ke,$minKey:jd,$maxKey:Md,$regex:Ha,$regularExpression:Ha,$timestamp:v_};C5={Binary:function(t){return new no(t.value(),t.sub_type)},Code:function(t){return new ic(t.code,t.scope)},DBRef:function(t){return new $a(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new Ld(t.bytes)},Double:function(t){return new oc(t.value)},Int32:function(t){return new sc(t.value)},Long:function(t){return ke.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_)},MaxKey:function(){return new Md},MinKey:function(){return new jd},ObjectID:function(t){return new gr(t)},ObjectId:function(t){return new gr(t)},BSONRegExp:function(t){return new Ha(t.pattern,t.options)},Symbol:function(t){return new Bd(t.value)},Timestamp:function(t){return v_.fromBits(t.low,t.high)}};(function(t){function e(o,s){var a=Object.assign({},{relaxed:!0,legacy:!1},s);return typeof a.relaxed=="boolean"&&(a.strict=!a.relaxed),typeof a.strict=="boolean"&&(a.relaxed=!a.strict),JSON.parse(o,function(f,d){if(f.indexOf("\0")!==-1)throw new ro("BSON Document field names cannot contain null bytes, found: "+JSON.stringify(f));return b_(d,a)})}t.parse=e;function r(o,s,a,f){a!=null&&typeof a=="object"&&(f=a,a=0),s!=null&&typeof s=="object"&&!Array.isArray(s)&&(f=s,s=void 0,a=0);var d=Object.assign({relaxed:!0,legacy:!1},f,{seenObjects:[{propertyName:"(root)",obj:null}]}),m=yi(o,d);return JSON.stringify(m,s,a)}t.stringify=r;function n(o,s){return s=s||{},JSON.parse(r(o,s))}t.serialize=n;function i(o,s){return s=s||{},e(JSON.stringify(o),s)}t.deserialize=i})(mi||(mi={}));f_=d_();f_.Map?c_=f_.Map:c_=function(){function t(e){e===void 0&&(e=[]),this._keys=[],this._values={};for(var r=0;r<e.length;r++)if(e[r]!=null){var n=e[r],i=n[0],o=n[1];this._keys.push(i),this._values[i]={v:o,i:this._keys.length-1}}}return t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var r=this._values[e];return r==null?!1:(delete this._values[e],this._keys.splice(r.i,1),!0)},t.prototype.entries=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?[n,e._values[n].v]:void 0,done:n===void 0}}}},t.prototype.forEach=function(e,r){r=r||this;for(var n=0;n<this._keys.length;n++){var i=this._keys[n];e.call(r,this._values[i].v,i,r)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return this._values[e]!=null},t.prototype.keys=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?n:void 0,done:n===void 0}}}},t.prototype.set=function(e,r){return this._values[e]?(this._values[e].v=r,this):(this._keys.push(e),this._values[e]={v:r,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?e._values[n].v:void 0,done:n===void 0}}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),t}();gI=Math.pow(2,63)-1,vI=-Math.pow(2,63),L5=Math.pow(2,53),M5=-Math.pow(2,53),wI=ke.fromNumber(L5),_I=ke.fromNumber(M5),j5=1024*1024*17,SI=qe.alloc(j5)});function J5(t){return t?T_(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new q5:typeof navigator<"u"?T_(navigator.userAgent):Z5()}function Y5(t){return t!==""&&G5.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]},!1)}function T_(t){var e=Y5(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new W5;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<O_&&(i=x_(x_([],i,!0),X5(O_-i.length),!0)):i=[];var o=i.join("."),s=K5(t),a=H5.exec(t);return a&&a[1]?new V5(r,o,s,a[1]):new U5(r,o,s)}function K5(t){for(var e=0,r=k_.length;e<r;e++){var n=k_[e],i=n[0],o=n[1],s=o.exec(t);if(s)return i}return null}function Z5(){var t=typeof process<"u"&&process.version;return t?new z5(process.version.slice(1)):null}function X5(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}function X_(t){return mi.serialize(t,f6)}function Q_(t){return Array.isArray(t)?t.map(e=>mi.deserialize(e)):mi.deserialize(t)}function Jd(t){return Object.fromEntries(Object.entries(t).filter(e=>typeof e[1]<"u"))}function h6(t,e){let r="";for(let n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}function r2(t,e=!0){let r=Jd(t);return(e&&Object.keys(r).length>0?"?":"")+Object.entries(r).map(([i,o])=>`${i}=${encodeURIComponent(o)}`).join("&")}function d6(t){let e=t[0]==="?"?t.substr(1):t;return Object.fromEntries(e.split("&").filter(r=>r.length>0).map(r=>r.split("=")).map(([r,n])=>[r,decodeURIComponent(n)]))}function y6(t){for(let e of t)if(typeof e=="object"&&e)for(let[r,n]of Object.entries(e))n===void 0&&delete e[r];return t}function m6(t){return y6(t).map(r=>typeof r=="object"?X_(r):r)}function w6(){return{path:"/api/client/v2.0",app(t){return{path:this.path+`/app/${t}`,location(){return{path:this.path+"/location"}},authProvider(e){return{path:this.path+`/auth/providers/${e}`,login(){return{path:this.path+"/login"}}}},emailPasswordAuth(e){return{...this.authProvider(e),register(){return{path:this.path+"/register"}},confirm(){return{path:this.path+"/confirm"}},confirmSend(){return{path:this.path+"/confirm/send"}},confirmCall(){return{path:this.path+"/confirm/call"}},reset(){return{path:this.path+"/reset"}},resetSend(){return{path:this.path+"/reset/send"}},resetCall(){return{path:this.path+"/reset/call"}}}},functionsCall(){return{path:this.path+"/functions/call"}}}},auth(){return{path:this.path+"/auth",apiKeys(){return{path:this.path+"/api_keys",key(t){return{path:this.path+`/${t}`,enable(){return{path:this.path+"/enable"}},disable(){return{path:this.path+"/disable"}}}}}},profile(){return{path:this.path+"/profile"}},session(){return{path:this.path+"/session"}},delete(){return{path:this.path+"/delete"}}}}}}function _6(t){Yd=t}function Ya(){if(Yd)return Yd;throw new Error("Cannot get environment before it's set")}function S6(t,e,r,n){return new a2(t,e,r,n)}function E6(t,e,r){return{collection:S6.bind(null,t,e,r)}}function b6(t,e="mongo-db"){return{db:E6.bind(null,t,e)}}function N6(t){if(typeof t!="object"||t===null)throw new Error("Expected a non-null object");if(Symbol.asyncIterator in t)return t;if("getReader"in t){let e=t;return{[Symbol.asyncIterator](){let r=e.getReader();return{next(){return r.read()},async return(){return await r.cancel(),{done:!0,value:null}}}}}}else throw new Error("Expected an AsyncIterable or a ReadableStream")}function D6(t){return typeof globalThis.open=="function"?globalThis.open(t):(console.log(`Please open ${t}`),null)}function d2(t=globalThis.location,e=h2.defaultStorage){try{let r=t.hash.substr(1);gi.handleRedirect(r,e)}catch(r){console.warn(r)}}var x_,U5,z5,V5,W5,q5,$5,H5,O_,G5,k_,on,B_,Q5,e6,t6,ps,N_,I_,r6,Ja,ac,n6,Kt,A_,U_,z_,V_,Zd,$d,lc,i6,o6,W_,R_,ds,D_,s6,a6,q_,$_,Xd,H_,G_,l6,J_,Hd,u6,Y_,K_,Z_,c6,cc,f6,Gd,nn,F_,Qd,Kr,e2,zd,Vd,Wd,qd,t2,p6,Za,n2,g6,v6,io,i2,Yr,o2,Yd,uc,ar,s2,a2,x6,oo,C_,Kd,Yt,P_,L_,l2,O6,k6,T6,gi,M_,u2,Ka,so,I6,j_,c2,A6,bn,f2,hs,R6,h2,p2=rt(()=>{Ud();Ud();x_=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},U5=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),z5=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),V5=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),W5=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),q5=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),$5=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,H5=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,O_=3,G5=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",$5]],k_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];on=class{constructor(){if(!on.fetch)throw new Error("DefaultNetworkTransport.fetch must be set before it's used");if(!on.AbortController)throw new Error("DefaultNetworkTransport.AbortController must be set before it's used")}fetchWithCallbacks(e,r){this.fetch(e).then(async n=>{let i=await n.text(),o={};return n.headers.forEach((s,a)=>{o[a]=s}),{statusCode:n.status,headers:o,body:i}}).then(n=>r.onSuccess(n)).catch(n=>r.onError(n))}async fetch(e){let{timeoutMs:r,url:n,...i}=e,{signal:o,cancelTimeout:s}=this.createTimeoutSignal(r);try{return await on.fetch(n,{...on.extraFetchOptions,signal:o,...i})}finally{s()}}createTimeoutSignal(e){if(typeof e=="number"){let r=new on.AbortController,n=setTimeout(()=>{r.abort()},e);return{signal:r.signal,cancelTimeout:()=>{clearTimeout(n)}}}else return{signal:void 0,cancelTimeout:()=>{}}}};on.DEFAULT_HEADERS={"Content-Type":"application/json"};on.fetch=globalThis.fetch.bind(globalThis);on.AbortController=globalThis.AbortController;B_="3.7.2",Q5=B_,e6=typeof atob=="function",t6=typeof btoa=="function",ps=typeof Buffer=="function",N_=typeof TextDecoder=="function"?new TextDecoder:void 0,I_=typeof TextEncoder=="function"?new TextEncoder:void 0,r6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ja=Array.prototype.slice.call(r6),ac=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(Ja),n6=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Kt=String.fromCharCode.bind(String),A_=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=r=>r)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),U_=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),z_=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),V_=t=>{let e,r,n,i,o="",s=t.length%3;for(let a=0;a<t.length;){if((r=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|i,o+=Ja[e>>18&63]+Ja[e>>12&63]+Ja[e>>6&63]+Ja[e&63]}return s?o.slice(0,s-3)+"===".substring(s):o},Zd=t6?t=>btoa(t):ps?t=>Buffer.from(t,"binary").toString("base64"):V_,$d=ps?t=>Buffer.from(t).toString("base64"):t=>{let r=[];for(let n=0,i=t.length;n<i;n+=4096)r.push(Kt.apply(null,t.subarray(n,n+4096)));return Zd(r.join(""))},lc=(t,e=!1)=>e?U_($d(t)):$d(t),i6=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Kt(192|e>>>6)+Kt(128|e&63):Kt(224|e>>>12&15)+Kt(128|e>>>6&63)+Kt(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Kt(240|e>>>18&7)+Kt(128|e>>>12&63)+Kt(128|e>>>6&63)+Kt(128|e&63)}},o6=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,W_=t=>t.replace(o6,i6),R_=ps?t=>Buffer.from(t,"utf8").toString("base64"):I_?t=>$d(I_.encode(t)):t=>Zd(W_(t)),ds=(t,e=!1)=>e?U_(R_(t)):R_(t),D_=t=>ds(t,!0),s6=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,a6=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return Kt((r>>>10)+55296)+Kt((r&1023)+56320);case 3:return Kt((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Kt((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},q_=t=>t.replace(s6,a6),$_=t=>{if(t=t.replace(/\s+/g,""),!n6.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,i;for(let o=0;o<t.length;)e=ac[t.charAt(o++)]<<18|ac[t.charAt(o++)]<<12|(n=ac[t.charAt(o++)])<<6|(i=ac[t.charAt(o++)]),r+=n===64?Kt(e>>16&255):i===64?Kt(e>>16&255,e>>8&255):Kt(e>>16&255,e>>8&255,e&255);return r},Xd=e6?t=>atob(z_(t)):ps?t=>Buffer.from(t,"base64").toString("binary"):$_,H_=ps?t=>A_(Buffer.from(t,"base64")):t=>A_(Xd(t),e=>e.charCodeAt(0)),G_=t=>H_(J_(t)),l6=ps?t=>Buffer.from(t,"base64").toString("utf8"):N_?t=>N_.decode(H_(t)):t=>q_(Xd(t)),J_=t=>z_(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),Hd=t=>l6(J_(t)),u6=t=>{if(typeof t!="string")return!1;let e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},Y_=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),K_=function(){let t=(e,r)=>Object.defineProperty(String.prototype,e,Y_(r));t("fromBase64",function(){return Hd(this)}),t("toBase64",function(e){return ds(this,e)}),t("toBase64URI",function(){return ds(this,!0)}),t("toBase64URL",function(){return ds(this,!0)}),t("toUint8Array",function(){return G_(this)})},Z_=function(){let t=(e,r)=>Object.defineProperty(Uint8Array.prototype,e,Y_(r));t("toBase64",function(e){return lc(this,e)}),t("toBase64URI",function(){return lc(this,!0)}),t("toBase64URL",function(){return lc(this,!0)})},c6=()=>{K_(),Z_()},cc={version:B_,VERSION:Q5,atob:Xd,atobPolyfill:$_,btoa:Zd,btoaPolyfill:V_,fromBase64:Hd,toBase64:ds,encode:ds,encodeURI:D_,encodeURL:D_,utob:W_,btou:q_,decode:Hd,isValid:u6,fromUint8Array:lc,toUint8Array:G_,extendString:K_,extendUint8Array:Z_,extendBuiltins:c6},f6={relaxed:!1};(function(t){t.Normal="normal",t.Server="server"})(Gd||(Gd={}));(function(t){t.NAME="name",t.EMAIL="email",t.PICTURE="picture",t.FIRST_NAME="first_name",t.LAST_NAME="last_name",t.GENDER="gender",t.BIRTHDAY="birthday",t.MIN_AGE="min_age",t.MAX_AGE="max_age"})(nn||(nn={}));F_={[nn.NAME]:"name",[nn.EMAIL]:"email",[nn.PICTURE]:"pictureUrl",[nn.FIRST_NAME]:"firstName",[nn.LAST_NAME]:"lastName",[nn.GENDER]:"gender",[nn.BIRTHDAY]:"birthday",[nn.MIN_AGE]:"minAge",[nn.MAX_AGE]:"maxAge"},Qd=class{constructor(e){if(this.type=Gd.Normal,this.identities=[],typeof e=="object"&&e!==null){let{type:r,identities:n,data:i}=e;if(typeof r=="string")this.type=r;else throw new Error("Expected 'type' in the response body");if(Array.isArray(n))this.identities=n.map(o=>{let{id:s,provider_type:a}=o;return{id:s,providerType:a}});else throw new Error("Expected 'identities' in the response body");if(typeof i=="object"&&i!==null){let o=Object.fromEntries(Object.entries(i).map(([s,a])=>s in F_?[F_[s],a]:[s,a]));this.data=Q_(o)}else throw new Error("Expected 'data' in the response body")}else this.data={}}},Kr=class{constructor(e,r){this.storage=e,this.keyPart=r}get(e){return this.storage.get(this.keyPart+Kr.PART_SEPARATOR+e)}set(e,r){return this.storage.set(this.keyPart+Kr.PART_SEPARATOR+e,r)}remove(e){return this.storage.remove(this.keyPart+Kr.PART_SEPARATOR+e)}prefix(e){return new Kr(this,e)}clear(e=""){return this.storage.clear(this.keyPart+Kr.PART_SEPARATOR+e)}addListener(e){return this.storage.addListener(e)}removeListener(e){return this.storage.addListener(e)}};Kr.PART_SEPARATOR=":";e2=class{constructor(){this.storage={},this.listeners=new Set}get(e){return e in this.storage?this.storage[e]:null}set(e,r){this.storage[e]=r,this.fireListeners()}remove(e){delete this.storage[e],this.fireListeners()}prefix(e){return new Kr(this,e)}clear(e){for(let r of Object.keys(this.storage))(!e||r.startsWith(e))&&delete this.storage[r];this.fireListeners()}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}fireListeners(){this.listeners.forEach(e=>e())}},zd="accessToken",Vd="refreshToken",Wd="profile",qd="providerType",t2=class extends Kr{constructor(e,r){super(e,`user(${r})`)}get accessToken(){return this.get(zd)}set accessToken(e){e===null?this.remove(zd):this.set(zd,e)}get refreshToken(){return this.get(Vd)}set refreshToken(e){e===null?this.remove(Vd):this.set(Vd,e)}get profile(){let e=this.get(Wd);if(e){let r=new Qd;return Object.assign(r,JSON.parse(e)),r}}set profile(e){e?this.set(Wd,JSON.stringify(e)):this.remove(Wd)}get providerType(){let e=this.get(qd);if(e)return e}set providerType(e){e?this.set(qd,e):this.remove(qd)}};p6=["inspect","callFunction","callFunctionStreaming",...Object.getOwnPropertyNames(Object.prototype)];Za=class{constructor(e,r={}){this.fetcher=e,this.serviceName=r.serviceName,this.argsTransformation=r.argsTransformation||m6}static create(e,r={}){let n=new Za(e,r);return new Proxy(n,{get(i,o,s){if(typeof o=="string"&&p6.indexOf(o)===-1)return i.callFunction.bind(i,o);{let a=Reflect.get(i,o,s);return typeof a=="function"?a.bind(i):a}}})}async callFunction(e,...r){let n={name:e,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute;return this.fetcher.fetchJSON({method:"POST",path:i.functionsCall().path,body:n})}callFunctionStreaming(e,...r){let n={name:e,arguments:this.argsTransformation?this.argsTransformation(r):r};this.serviceName&&(n.service=this.serviceName);let i=this.fetcher.appRoute,o=r2({baas_request:cc.encode(JSON.stringify(n))});return this.fetcher.fetchStream({method:"GET",path:i.functionsCall().path+o})}},n2=!1,g6=t=>{n2=t},v6=(t,e)=>{!n2||console.warn(`Deprecation warning from Realm: ${t} is deprecated and will be removed in a future major release. Consider switching to ${e}.`)},io=(t,e,r,n)=>{if(typeof t[0]!="object"){let i=n?", ...args":"";v6(`${e}(${r.join(", ")}${i})`,`${e}({ ${r.join(", ")} }${i})`);let o=r.reduce((a,f,d)=>({...a,[f]:t[d]}),{}),s=n?t.slice(r.length):void 0;return{argsObject:o,restArgs:s}}return{argsObject:t[0],restArgs:n?t.slice(1):void 0}};g6(typeof __DEV__<"u"&&__DEV__);i2=class{constructor(e,r="local-userpass"){this.fetcher=e,this.providerName=r}async registerUser(...e){let{argsObject:r}=io(e,"registerUser",["email","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).register().path,body:r})}async confirmUser(...e){let{argsObject:r}=io(e,"confirmUser",["token","tokenId"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirm().path,body:r})}async resendConfirmationEmail(...e){let{argsObject:r}=io(e,"resendConfirmationEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmSend().path,body:r})}async retryCustomConfirmation(...e){let{argsObject:r}=io(e,"retryCustomConfirmation",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).confirmCall().path,body:r})}async resetPassword(...e){let{argsObject:r}=io(e,"resetPassword",["token","tokenId","password"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).reset().path,body:r})}async sendResetPasswordEmail(...e){let{argsObject:r}=io(e,"sendResetPasswordEmail",["email"]),n=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:n.emailPasswordAuth(this.providerName).resetSend().path,body:r})}async callResetPasswordFunction(...e){let{argsObject:r,restArgs:n}=io(e,"callResetPasswordFunction",["email","password"],!0),i=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:i.emailPasswordAuth(this.providerName).resetCall().path,body:{...r,arguments:n}})}};Yr={api:w6},o2=class{constructor(e){this.fetcher=e}create(e){return this.fetcher.fetchJSON({method:"POST",body:{name:e},path:Yr.api().auth().apiKeys().path,tokenType:"refresh"})}fetch(e){return this.fetcher.fetchJSON({method:"GET",path:Yr.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}fetchAll(){return this.fetcher.fetchJSON({method:"GET",tokenType:"refresh",path:Yr.api().auth().apiKeys().path})}async delete(e){await this.fetcher.fetchJSON({method:"DELETE",path:Yr.api().auth().apiKeys().key(e).path,tokenType:"refresh"})}async enable(e){await this.fetcher.fetchJSON({method:"PUT",path:Yr.api().auth().apiKeys().key(e).enable().path,tokenType:"refresh"})}async disable(e){await this.fetcher.fetchJSON({method:"PUT",path:Yr.api().auth().apiKeys().key(e).disable().path,tokenType:"refresh"})}},Yd=null;uc=class extends Error{constructor({message:e,code:r}){super(e);this.name="WatchError",this.code=r}};(function(t){t.NEED_DATA="NEED_DATA",t.HAVE_EVENT="HAVE_EVENT",t.HAVE_ERROR="HAVE_ERROR"})(ar||(ar={}));s2=class{constructor(){this._state=ar.NEED_DATA,this._error=null,this._textDecoder=new(Ya()).TextDecoder,this._buffer="",this._bufferOffset=0,this._eventType="",this._dataBuffer=""}feedBuffer(e){this.assertState(ar.NEED_DATA),this._buffer+=this._textDecoder.decode(e,{stream:!0}),this.advanceBufferState()}feedLine(e){if(this.assertState(ar.NEED_DATA),e.endsWith(`
`)&&(e=e.substr(0,e.length-1)),e.endsWith("\r")&&(e=e.substr(0,e.length-1)),e.length===0){if(this._dataBuffer.length===0){this._eventType="";return}this._dataBuffer.endsWith(`
`)&&(this._dataBuffer=this._dataBuffer.substr(0,this._dataBuffer.length-1)),this.feedSse({data:this._dataBuffer,eventType:this._eventType}),this._dataBuffer="",this._eventType=""}if(e[0]===":")return;let r=e.indexOf(":"),n=e.substr(0,r),i=r===-1?"":e.substr(r+1);i.startsWith(" ")&&(i=i.substr(1)),n==="event"?this._eventType=i:n==="data"&&(this._dataBuffer+=i,this._dataBuffer+=`
`)}feedSse(e){this.assertState(ar.NEED_DATA);let r=e.data.indexOf("%");if(r!==-1){let n="",i=0;for(let o=r;o!==-1;o=e.data.indexOf("%",i)){n+=e.data.substr(i,o-i);let s=e.data.substr(o,3);s==="%25"?n+="%":s==="%0A"?n+=`
`:s==="%0D"?n+="\r":n+=s,i=o+s.length}n+=e.data.substr(i),e.data=n}if(!e.eventType||e.eventType==="message"){try{let n=mi.parse(e.data);if(typeof n=="object"){this._nextEvent=n,this._state=ar.HAVE_EVENT;return}}catch{}this._state=ar.HAVE_ERROR,this._error=new uc({message:"server returned malformed event: "+e.data,code:"bad bson parse"})}else if(e.eventType==="error"){this._state=ar.HAVE_ERROR,this._error=new uc({message:e.data,code:"unknown"});try{let{error_code:n,error:i}=mi.parse(e.data);if(typeof n!="string"||typeof i!="string")return;this._error=new uc({message:i,code:n})}catch{return}}}get state(){return this._state}nextEvent(){this.assertState(ar.HAVE_EVENT);let e=this._nextEvent;return this._state=ar.NEED_DATA,this.advanceBufferState(),e}get error(){return this._error}advanceBufferState(){for(this.assertState(ar.NEED_DATA);this.state===ar.NEED_DATA;){if(this._bufferOffset===this._buffer.length){this._buffer="",this._bufferOffset=0;return}let e=this._buffer.indexOf(`
`,this._bufferOffset);if(e===-1){this._bufferOffset!==0&&(this._buffer=this._buffer.substr(this._bufferOffset,this._buffer.length-this._bufferOffset),this._bufferOffset=0);return}this.feedLine(this._buffer.substr(this._bufferOffset,e-this._bufferOffset)),this._bufferOffset=e+1}}assertState(e){if(this._state!==e)throw Error(`Expected WatchStream to be in state ${e}, but in state ${this._state}`)}},a2=class{constructor(e,r,n,i){this.functions=Za.create(e,{serviceName:r}),this.databaseName=n,this.collectionName=i,this.serviceName=r,this.fetcher=e}find(e={},r={}){return this.functions.find({database:this.databaseName,collection:this.collectionName,query:e,project:r.projection,sort:r.sort,limit:r.limit})}findOne(e={},r={}){return this.functions.findOne({database:this.databaseName,collection:this.collectionName,query:e,project:r.projection,sort:r.sort})}findOneAndUpdate(e={},r,n={}){return this.functions.findOneAndUpdate({database:this.databaseName,collection:this.collectionName,filter:e,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndReplace(e={},r,n={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,update:r,sort:n.sort,projection:n.projection,upsert:n.upsert,returnNewDocument:n.returnNewDocument})}findOneAndDelete(e={},r={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:e,sort:r.sort,projection:r.projection})}aggregate(e){return this.functions.aggregate({database:this.databaseName,collection:this.collectionName,pipeline:e})}count(e={},r={}){return this.functions.count({database:this.databaseName,collection:this.collectionName,query:e,limit:r.limit})}insertOne(e){return this.functions.insertOne({database:this.databaseName,collection:this.collectionName,document:e})}insertMany(e){return this.functions.insertMany({database:this.databaseName,collection:this.collectionName,documents:e})}deleteOne(e={}){return this.functions.deleteOne({database:this.databaseName,collection:this.collectionName,query:e})}deleteMany(e={}){return this.functions.deleteMany({database:this.databaseName,collection:this.collectionName,query:e})}updateOne(e,r,n={}){return this.functions.updateOne({database:this.databaseName,collection:this.collectionName,query:e,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}updateMany(e,r,n={}){return this.functions.updateMany({database:this.databaseName,collection:this.collectionName,query:e,update:r,upsert:n.upsert,arrayFilters:n.arrayFilters})}async*watch({ids:e,filter:r}={}){let n=await this.functions.callFunctionStreaming("watch",{database:this.databaseName,collection:this.collectionName,ids:e,filter:r}),i=new s2;for await(let o of n)if(!!o){for(i.feedBuffer(o);i.state==ar.HAVE_EVENT;)yield i.nextEvent();if(i.state==ar.HAVE_ERROR)throw i.error}}};x6="000000000000000000000000";(function(t){t.Active="active",t.LoggedOut="logged-out",t.Removed="removed"})(oo||(oo={}));(function(t){t.Normal="normal",t.Server="server"})(C_||(C_={}));Kd=class{constructor(e){if(this.app=e.app,this.id=e.id,this.storage=new t2(this.app.storage,this.id),"accessToken"in e&&"refreshToken"in e&&"providerType"in e)this._accessToken=e.accessToken,this._refreshToken=e.refreshToken,this.providerType=e.providerType,this.storage.accessToken=e.accessToken,this.storage.refreshToken=e.refreshToken,this.storage.providerType=e.providerType;else{this._accessToken=this.storage.accessToken,this._refreshToken=this.storage.refreshToken;let r=this.storage.providerType;if(this._profile=this.storage.profile,r)this.providerType=r;else throw new Error("Storage is missing a provider type")}this.fetcher=this.app.fetcher.clone({userContext:{currentUser:this}}),this.apiKeys=new o2(this.fetcher),this.functions=Za.create(this.fetcher)}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,this.storage.accessToken=e}get refreshToken(){return this._refreshToken}set refreshToken(e){this._refreshToken=e,this.storage.refreshToken=e}get state(){return this.id in this.app.allUsers?this.refreshToken===null?oo.LoggedOut:oo.Active:oo.Removed}get isLoggedIn(){return this.state===oo.Active}get customData(){if(this.accessToken)return this.decodeAccessToken().userData;throw new Error("Cannot read custom data without an access token")}get profile(){if(this._profile)return this._profile.data;throw new Error("A profile was never fetched for this user")}get identities(){if(this._profile)return this._profile.identities;throw new Error("A profile was never fetched for this user")}get deviceId(){if(this.accessToken){let e=this.accessToken.split(".")[1];if(e){let n=JSON.parse(cc.decode(e)).baas_device_id;if(typeof n=="string"&&n!==x6)return n}}return null}async refreshProfile(){let e=await this.fetcher.fetchJSON({method:"GET",path:Yr.api().auth().profile().path});this._profile=new Qd(e),this.storage.profile=this._profile}async logOut(){try{this._refreshToken!==null&&await this.fetcher.fetchJSON({method:"DELETE",path:Yr.api().auth().session().path,tokenType:"refresh"})}catch(e){if(!(e instanceof Error)||!e.message.includes("failed to find refresh token"))throw e}finally{this.accessToken=null,this.refreshToken=null}}async linkCredentials(e){let r=await this.app.authenticator.authenticate(e,this);if(this.id!==r.userId){let n=`got user id ${r.userId} expected ${this.id}`;throw new Error(`Link response ment for another user (${n})`)}this.accessToken=r.accessToken,await this.refreshProfile()}async refreshAccessToken(){let e=await this.fetcher.fetchJSON({method:"POST",path:Yr.api().auth().session().path,tokenType:"refresh"}),{access_token:r}=e;if(typeof r=="string")this.accessToken=r;else throw new Error("Expected an 'access_token' in the response")}async refreshCustomData(){return await this.refreshAccessToken(),this.customData}callFunction(e,...r){return this.functions.callFunction(e,...r)}toJSON(){return{id:this.id,accessToken:this.accessToken,refreshToken:this.refreshToken,profile:this._profile,state:this.state,customData:this.customData}}push(){throw new Error("Not yet implemented")}mongoClient(e){return b6(this.fetcher,e)}decodeAccessToken(){if(this.accessToken){let e=this.accessToken.split(".");if(e.length!==3)throw new Error("Expected an access token with three parts");let r=e[1],n=cc.decode(r),i=JSON.parse(n),{exp:o,iat:s,sub:a,user_data:f={}}=i;if(typeof o!="number")throw new Error("Failed to decode access token 'exp'");if(typeof s!="number")throw new Error("Failed to decode access token 'iat'");return{expires:o,issuedAt:s,subject:a,userData:f}}else throw new Error("Missing an access token")}},Yt=class{constructor(e,r,n){this.providerName=e,this.providerType=r,this.payload=n}static anonymous(){return new Yt("anon-user","anon-user",{})}static userApiKey(e){return new Yt("api-key","api-key",{key:e})}static serverApiKey(e){return new Yt("api-key","api-key",{key:e})}static apiKey(e){return new Yt("api-key","api-key",{key:e})}static emailPassword(e,r){return new Yt("local-userpass","local-userpass",{username:e,password:r})}static function(e){return new Yt("custom-function","custom-function",e)}static jwt(e){return new Yt("custom-token","custom-token",{token:e})}static google(e){return new Yt("oauth2-google","oauth2-google",Yt.derivePayload(e))}static derivePayload(e){if(typeof e=="string"){if(e.includes("://"))return this.derivePayload({redirectUrl:e});if(e.startsWith("4/"))return this.derivePayload({authCode:e});if(e.startsWith("ey"))return this.derivePayload({idToken:e});throw new Error(`Unexpected payload: ${e}`)}else if(Object.keys(e).length===1){if("authCode"in e||"redirectUrl"in e)return e;if("idToken"in e)return{id_token:e.idToken};throw new Error("Unexpected payload: "+JSON.stringify(e))}else throw new Error("Expected only one property in payload, got "+JSON.stringify(e))}static facebook(e){return new Yt("oauth2-facebook","oauth2-facebook",e.includes("://")?{redirectUrl:e}:{accessToken:e})}static apple(e){return new Yt("oauth2-apple","oauth2-apple",e.includes("://")?{redirectUrl:e}:{id_token:e})}},P_="userIds",L_="deviceId",l2=class extends Kr{constructor(e,r){super(e,`app(${r})`)}getUserIds(){let e=this.get(P_),r=e?JSON.parse(e):[];if(Array.isArray(r))return[...new Set(r)];throw new Error("Expected the user ids to be an array")}setUserIds(e,r){if(r){let n=this.getUserIds();for(let i of n)e.indexOf(i)===-1&&e.push(i)}this.set(P_,JSON.stringify(e))}removeUserId(e){let n=this.getUserIds().filter(i=>i!==e);this.setUserIds(n,!1)}getDeviceId(){return this.get(L_)}setDeviceId(e){this.set(L_,e)}},O6="abcdefghijklmnopqrstuvwxyz",k6=100,T6={_stitch_client_app_id:"appId",_baas_client_app_id:"appId",_stitch_ua:"userAuth",_baas_ua:"userAuth",_stitch_link:"link",_baas_link:"link",_stitch_error:"error",_baas_error:"error",_stitch_state:"state",_baas_state:"state"},gi=class{constructor(e,r=Ya().openWindow){this.storage=e.prefix("oauth2"),this.openWindow=r}static parseRedirectLocation(e){let r=d6(e),n={};for(let[i,o]of Object.entries(T6)){let s=r[i];s&&(n[o]=s)}return n}static handleRedirect(e,r=Ya().defaultStorage){let n=gi.parseRedirectLocation(e),{state:i,error:o}=n;if(typeof i=="string"){let s=r.prefix("oauth2");gi.getStateStorage(s,i).set("result",JSON.stringify(n))}else throw o?new Error(`Failed to handle OAuth 2.0 redirect: ${o}`):new Error("Failed to handle OAuth 2.0 redirect.")}static decodeAuthInfo(e){let r=(e||"").split("$");if(r.length===4){let[n,i,o,s]=r;return{accessToken:n,refreshToken:i,userId:o,deviceId:s}}else throw new Error("Failed to decode 'authInfo' into ids and tokens")}static getStateStorage(e,r){return e.prefix(`state(${r})`)}openWindowAndWaitForRedirect(e,r){let n=gi.getStateStorage(this.storage,r);return new Promise((i,o)=>{let s=null,a,f=()=>{let d=n.get("result");if(d){let m=JSON.parse(d);n.removeListener(f),n.clear();try{s&&(clearInterval(a),s.close())}catch(v){console.warn(`Failed closing redirect window: ${v}`)}finally{i(m)}}};n.addListener(f),s=this.openWindow(e),a=setInterval(()=>{if(!s)clearInterval(a);else if(s.closed){clearInterval(a),n.removeListener(f);let d=new Error("Window closed");o(d)}},k6)})}generateState(){return h6(12,O6)}},M_="x-baas-location",u2=class{constructor(e,r,n){this.fetcher=e,this.oauth2=new gi(r),this.getDeviceInformation=n}async authenticate(e,r){let n=this.getDeviceInformation(),i=typeof r=="object";if(e.providerType.startsWith("oauth2")&&typeof e.payload.redirectUrl=="string"){let o=this.oauth2.generateState(),s=await this.getLogInUrl(e,i,{state:o,redirect:e.payload.redirectUrl,providerRedirectHeader:i?!0:void 0,device:i?void 0:n.encode()});if(i){let f=(await this.fetcher.fetch({method:"GET",url:s,tokenType:i?"access":"none",user:r,mode:"cors",credentials:"include"})).headers.get(M_);if(f)return this.openWindowAndWaitForAuthResponse(f,o);throw new Error(`Missing ${M_} header`)}else return this.openWindowAndWaitForAuthResponse(s,o)}else{let o=await this.getLogInUrl(e,i),s=await this.fetcher.fetchJSON({method:"POST",url:o,body:{...e.payload,options:{device:n.toJSON()}},tokenType:i?"access":"none",user:r}),{user_id:a,access_token:f,refresh_token:d=null,device_id:m}=s;if(typeof a!="string")throw new Error("Expected a user id in the response");if(typeof f!="string")throw new Error("Expected an access token in the response");if(typeof d!="string"&&d!==null)throw new Error("Expected refresh token to be a string or null");if(typeof m!="string")throw new Error("Expected device id to be a string");return{userId:a,accessToken:f,refreshToken:d,deviceId:m}}}async getLogInUrl(e,r=!1,n={}){let o=this.fetcher.appRoute.authProvider(e.providerName).login(),s=r2({link:r?"true":void 0,...n});return await this.fetcher.locationUrl+o.path+s}async openWindowAndWaitForAuthResponse(e,r){let n=await this.oauth2.openWindowAndWaitForRedirect(e,r);return gi.decodeAuthInfo(n.userAuth)}},Ka=class extends Error{constructor(e,r,n,i,o,s,a){let f=i?`status ${n} ${i}`:`status ${n}`;typeof o=="string"?super(`Request failed (${e} ${r}): ${o} (${f})`):super(`Request failed (${e} ${r}): (${f})`),this.method=e,this.url=r,this.statusText=i,this.statusCode=n,this.error=o,this.errorCode=s,this.link=a}static async fromRequestAndResponse(e,r){var n;let{url:i,method:o}=e,{status:s,statusText:a}=r;if((n=r.headers.get("content-type"))===null||n===void 0?void 0:n.startsWith("application/json")){let f=await r.json();if(typeof f=="object"&&f){let{error:d,error_code:m,link:v}=f;return new Ka(o,i,s,a,typeof d=="string"?d:void 0,typeof m=="string"?m:void 0,typeof v=="string"?v:void 0)}}return new Ka(o,i,s,a)}};so=class{constructor({appId:e,transport:r,userContext:n,locationUrlContext:i}){this.appId=e,this.transport=r,this.userContext=n,this.locationUrlContext=i}static buildAuthorizationHeader(e,r){if(!e||r==="none")return{};if(r==="access")return{Authorization:`Bearer ${e.accessToken}`};if(r==="refresh")return{Authorization:`Bearer ${e.refreshToken}`};throw new Error(`Unexpected token type (${r})`)}static buildBody(e){if(e){if(typeof e=="object"&&e!==null)return JSON.stringify(X_(e));if(typeof e=="string")return e;throw console.log("body is",e),new Error("Unexpected type of body")}else return}static buildJsonHeader(e){return e&&e.length>0?{"Content-Type":"application/json"}:{}}clone(e){return new so({appId:this.appId,transport:this.transport,userContext:this.userContext,locationUrlContext:this.locationUrlContext,...e})}async fetch(e){let{path:r,url:n,tokenType:i="access",user:o=this.userContext.currentUser,...s}=e;if(typeof r=="string"&&typeof n=="string")throw new Error("Use of 'url' and 'path' mutually exclusive");if(typeof r=="string"){let a=await this.locationUrlContext.locationUrl+r;return this.fetch({...e,path:void 0,url:a})}else if(typeof n=="string"){let a=await this.transport.fetch({...s,url:n,headers:{...so.buildAuthorizationHeader(o,i),...e.headers}});if(a.ok)return a;if(o&&a.status===401&&i==="access")return await o.refreshAccessToken(),this.fetch({...e,user:o});throw o&&a.status===401&&i==="refresh"&&(o.accessToken=null,o.refreshToken=null),await Ka.fromRequestAndResponse(e,a)}else throw new Error("Expected either 'url' or 'path'")}async fetchJSON(e){let{body:r}=e,n=so.buildBody(r),i=so.buildJsonHeader(n),o=await this.fetch({...e,body:n,headers:{Accept:"application/json",...i,...e.headers}}),s=o.headers.get("content-type");if(s==null?void 0:s.startsWith("application/json")){let a=await o.json();return Q_(a)}else{if(s===null)return null;throw new Error(`Expected JSON response, got "${s}"`)}}async fetchStream(e){let{body:r}=await this.fetch({...e,headers:{Accept:"text/event-stream",...e.headers}});return N6(r)}get appRoute(){return Yr.api().app(this.appId)}get locationUrl(){return this.locationUrlContext.locationUrl}},I6="deviceId";(function(t){t.DEVICE_ID="deviceId",t.APP_ID="appId",t.APP_VERSION="appVersion",t.PLATFORM="platform",t.PLATFORM_VERSION="platformVersion",t.SDK_VERSION="sdkVersion"})(j_||(j_={}));c2=class{constructor({appId:e,appVersion:r,deviceId:n}){this.sdkVersion="1.7.0";let i=Ya();this.platform=i.platform,this.platformVersion=i.platformVersion,this.appId=e,this.appVersion=r,this.deviceId=n}encode(){let e=Jd(this);return cc.encode(JSON.stringify(e))}toJSON(){return Jd(this)}},A6="https://realm.mongodb.com",bn=class{constructor(e){this.users=[],this._locationUrl=null;let r=typeof e=="string"?{id:e}:e;if(typeof r=="object"&&typeof r.id=="string")this.id=r.id;else throw new Error("Missing a MongoDB Realm app-id");this.baseUrl=r.baseUrl||A6,r.skipLocationRequest&&(this._locationUrl=Promise.resolve(this.baseUrl)),this.localApp=r.app;let{storage:n,transport:i=new on}=r;this.fetcher=new so({appId:this.id,userContext:this,locationUrlContext:this,transport:i}),this.emailPasswordAuth=new i2(this.fetcher);let o=n||Ya().defaultStorage;this.storage=new l2(o,this.id),this.authenticator=new u2(this.fetcher,o,()=>this.deviceInformation);try{this.hydrate()}catch(s){this.storage.clear(),console.warn("Realm app hydration failed:",s instanceof Error?s.message:s)}}static getApp(e){if(e in bn.appCache)return bn.appCache[e];{let r=new bn(e);return bn.appCache[e]=r,r}}switchUser(e){let r=this.users.findIndex(i=>i===e);if(r===-1)throw new Error("The user was never logged into this app");let[n]=this.users.splice(r,1);this.users.unshift(n)}async logIn(e,r=!0){let n=await this.authenticator.authenticate(e),i=this.createOrUpdateUser(n,e.providerType);this.switchUser(i),r&&await i.refreshProfile(),this.storage.setUserIds(this.users.map(s=>s.id),!0);let o=n.deviceId;return o&&o!=="000000000000000000000000"&&this.storage.set(I6,o),i}async removeUser(e){let r=this.users.findIndex(n=>n===e);if(r===-1)throw new Error("The user was never logged into this app");this.users.splice(r,1),await e.logOut(),this.storage.remove(`user(${e.id}):profile`),this.storage.removeUserId(e.id)}async deleteUser(e){await this.fetcher.fetchJSON({method:"DELETE",path:Yr.api().auth().delete().path}),await this.removeUser(e)}get currentUser(){let e=this.users.filter(r=>r.state===oo.Active);return e.length===0?null:e[0]}get allUsers(){return Object.fromEntries(this.users.map(e=>[e.id,e]))}get locationUrl(){if(!this._locationUrl){let e=Yr.api().app(this.id).location().path;this._locationUrl=this.fetcher.fetchJSON({method:"GET",url:this.baseUrl+e,tokenType:"none"}).then(r=>{if(typeof r!="object")throw new Error("Expected response body be an object");return r}).then(({hostname:r})=>{if(typeof r!="string")throw new Error("Expected response to contain a 'hostname'");return r}).catch(r=>{throw this._locationUrl=null,r})}return this._locationUrl}get deviceInformation(){let e=this.storage.getDeviceId(),r=typeof e=="string"&&e!=="000000000000000000000000"?new gr(e):void 0;return new c2({appId:this.localApp?this.localApp.name:void 0,appVersion:this.localApp?this.localApp.version:void 0,deviceId:r})}createOrUpdateUser(e,r){let n=this.users.find(i=>i.id===e.userId);if(n)return n.accessToken=e.accessToken,n.refreshToken=e.refreshToken,n;{if(!e.refreshToken)throw new Error("No refresh token in response from server");let i=new Kd({app:this,id:e.userId,accessToken:e.accessToken,refreshToken:e.refreshToken,providerType:r});return this.users.unshift(i),i}}hydrate(){let e=this.storage.getUserIds();this.users=e.map(r=>new Kd({app:this,id:r}))}};bn.appCache={};bn.Credentials=Yt;f2=class{constructor(){if(typeof globalThis.localStorage=="object")this.global=globalThis;else throw new Error("Cannot use LocalStorage without a global localStorage object")}get(e){return this.global.localStorage.getItem(e)}set(e,r){return this.global.localStorage.setItem(e,r)}remove(e){return this.global.localStorage.removeItem(e)}prefix(e){return new Kr(this,e)}clear(e){let r=[];for(let n=0;n<this.global.localStorage.length;n++){let i=this.global.localStorage.key(n);i&&(!e||i.startsWith(e))&&r.push(i)}for(let n of r)this.global.localStorage.removeItem(n)}addListener(e){return this.global.addEventListener("storage",e)}removeListener(e){return this.global.removeEventListener("storage",e)}},hs=J5(),R6="localStorage"in globalThis?f2:e2;h2={defaultStorage:new R6().prefix("realm-web"),openWindow:D6,platform:(hs==null?void 0:hs.name)||"web",platformVersion:(hs==null?void 0:hs.version)||"0.0.0",TextDecoder};_6(h2)});function jt(t="struct",e={},r={_id:""},n={structType:"struct",_id:""}){let i={_id:function(o=""){return`${o+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}(t+"defaultId"),structType:t,ownerId:r?._id,timestamp:Date.now(),parent:{structType:n?.structType,_id:n?._id}};return i.ownerId||delete i.ownerId,i?.parent?._id||delete i.parent,Object.keys(e).length>0&&Object.assign(i,e),i}function fc(t,e={}){if(!ao[t.tag]&&t.position&&(ao[t.tag]=[t.position.x,t.position.y,t.position.z]),ao[t.tag]){let r={channel:"",position:{x:ao[t.tag][0],y:ao[t.tag][1],z:ao[t.tag][2]}};return Object.assign(e,r)}return Object.assign(e,t)}function hc(t=[],e={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return t.forEach(n=>r[n]=[]),Object.assign(e,r)}function vi(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=hc(),o={tag:t,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=jt("eeg",o,r,n);return t&&fc(o,s),Object.assign(s,e)}function tp(t={0:vi("FP1"),1:vi("FP2")},e={},r={_id:""},n={structType:"struct",_id:""}){let i=hc(),o=jt("coherence",{tag:t[0]?.tag+"::"+t[1]?.tag,x0:t[0]?.position?.x,y0:t[0]?.position?.y,z0:t[0]?.position?.z,x1:t[1]?.position?.x,y1:t[1]?.position?.y,z1:t[1]?.position?.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},r,n);return Object.assign(o,e)}function ep(t={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},e={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,a=0;a<t.channelDicts.length*(t.channelDicts.length+1)/2-t.channelDicts.length;a++){if(t.taggedOnly===!1||t.taggedOnly===!0&&t.channelDicts[s].tag!==null&&t.channelDicts[s+o].tag!==null&&t.channelDicts[s].tag!=="other"&&t.channelDicts[s+o].tag!=="other"&&t.channelDicts[s].analyze===!0&&t.channelDicts[s+o].analyze===!0){var f=vi(t.channelDicts[s].tag),d=vi(t.channelDicts[s+o].tag);i.push(tp({0:f,1:d},{},r,n))}++o+s===t.channelDicts.length&&(s++,o=1)}return i}function rp(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=jt("fnirs",i,r,n);return t&&fc(i,o),Object.assign(o,e)}function y2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=jt("imu",i,r,n);return t&&fc(i,o),Object.assign(o,e)}function m2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("eyetracker",{tag:t,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},r,n);return Object.assign(i,e)}function np(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("ecg",{tag:t,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},r,n);return Object.assign(i,e)}function g2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){}function v2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=rp(t,r,n,e);return i.structType="ppg",i}function w2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=np(t,r,n,e);return i.structType="hrv",i}function _2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=vi(t,r,n,e);return i.structType="emg",i}function S2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("profile",{tag:t,name:"",username:"",firstName:"",lastName:"",email:"",sex:"",birthday:"",type:"",userRoles:[],id:""},r,n);return Object.assign(i,e)}function E2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("authorization",{tag:t,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:new Array,structs:new Array,excluded:new Array,groups:new Array,status:"PENDING",expires:!1,associatedAuthId:""},r,n);return Object.assign(i,e)}function b2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("group",{tag:t,name:"",details:"",admins:new Array,peers:new Array,clients:new Array,users:new Array},r,n);return Object.assign(i,e)}function x2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("dataInstance",{tag:t,title:"",author:"",expires:!1,type:"",data:new Array},r,n);return Object.assign(i,e)}function O2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("event",{tag:t,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:new Array},r,n);return Object.assign(i,e)}function k2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("chatroom",{tag:t,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:new Array,audioChatActive:!1,videoChatActive:!1},r,n);return Object.assign(i,e)}function T2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("comment",{tag:t,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:new Array,attachments:new Array},r,n);return Object.assign(i,e)}function N2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("notification",{tag:t,note:"",parentUserId:""},r,n);return Object.assign(i,e)}function I2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("schedule",{tag:t,title:"",author:"",attachments:new Array,dates:new Array},r,n);return Object.assign(i,e)}function A2(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=jt("date",{tag:t,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},r,n);return Object.assign(i,e)}function $e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ao,F6,wi,Fe,xI,ip,R2=rt(()=>{ao={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};F6={Struct:jt,EEGStruct:vi,FNIRSStruct:rp,CoherenceStruct:tp,CoherenceMap:ep,FrequencyBandsStruct:hc,IMUStruct:y2,EyeTrackerStruct:m2,ECGStruct:np,EDAStruct:g2,PPGStruct:v2,HRVStruct:w2,EMGStruct:_2,ProfileStruct:S2,AuthorizationStruct:E2,GroupStruct:b2,DataStruct:x2,EventStruct:O2,ChatroomStruct:k2,CommentStruct:T2,NotificationStruct:N2,ScheduleStruct:I2,DateStruct:A2},wi=Object.freeze({__proto__:null,Struct:jt,eegCoordinates:ao,setCoordinate:fc,EEGCoordinates:function(t=[],e=!0){let r=[];for(let n of t){let i=vi(n);r.push(i)}return e&&r.push(...ep({channelDicts:t})),r},FrequencyBandsStruct:hc,EEGStruct:vi,CoherenceStruct:tp,CoherenceMap:ep,FNIRSStruct:rp,IMUStruct:y2,EyeTrackerStruct:m2,ECGStruct:np,EDAStruct:g2,PPGStruct:v2,HRVStruct:w2,EMGStruct:_2,ProfileStruct:S2,AuthorizationStruct:E2,GroupStruct:b2,DataStruct:x2,EventStruct:O2,ChatroomStruct:k2,CommentStruct:T2,NotificationStruct:N2,ScheduleStruct:I2,DateStruct:A2,structRegistry:F6});Fe=class{constructor(){}static genSineWave(e=20,r=1,n=1,i=512,o=0,s=1){for(var a=[],f=[],d=1/i,m=0;m<n;m+=d){var v=Math.sin(2*Math.PI*e*m)*r;v+=Math.sin(2*Math.PI*o*m)*s,a.push(v),f.push(m)}return[f,a]}static getSineAmplitude(e=20,r=1,n=0,i=0){return Math.sin(this.TWO_PI*e*n+i)*r}static mean(e){return e.reduce((r,n)=>n+r)/e.length}static mode(e){return e.sort((r,n)=>e.filter(i=>i===r).length-e.filter(i=>i===n).length).pop()}static std(e,r){let n=r;r||(n=this.mean(e));let i=0;for(let o=0;o<e.length;o++){let s=e[o]-n;i+=s*s}return Math.sqrt(i/e.length)}static relError(e=[],r=[],n=!0){if(e.length!==r.length)throw new Error("Input arrays of same length!");let i=e.length,o=[];for(let s=0;s<i;s++){let a=(e[s]-r[s])/e[s];n&&(a=Math.abs(a)),o.push(a)}return o}static informationEntropy(e=[]){let r=[],n=e.length;for(let i=0;i<n;i++){let o=e[i]*Math.log(e[i]);isNaN(o)&&(o=0),r.push(o)}return r}static zscore(e){let r=this.mean(e),n=this.std(e,r),i=[];for(let o=0;o<e.length;o++)i.push((e[o]-r)/n);return i}static variance(e){var r=this.mean(e);return e.reduce((n,i)=>n+(i-r)**2,0)/e.length}static dot(e,r){for(var n=0,i=0;i<e.length;i++)n+=e[i]*r[i];return n}static cross3D(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}static magnitude(e){var r=0;return e.forEach(n=>{r+=n*n}),Math.sqrt(r)}static distance(e,r){var n=0;return e.forEach((i,o)=>{n+=(r[o]-i)*(r[o]-i)}),Math.sqrt(n)}static normalize(e){var r;r=this.magnitude(e);var n=[];return e.forEach((i,o)=>{n.push(i*r)}),n}static quadraticFormula(e,r,n){let i=Math.sqrt(r*r-4*e*n);if(!isNaN(i))return["complex","complex"];let o=1/(2*e);if(i===0)return[r*o];let s=-r;return[(s+i)*o,(s-i)*o]}static newtonsMethod(e=s=>Math.pow(s,5)+s*s-s-.2,r=0,n=1,i=.01,o=10){let s=[];for(let a=0;a<o;a++){let f,d=Math.random()*(n-r),m=e(d),v=e(d+i),y=(v-m)/i,w=d+i;for(;Math.abs(y)>i;){let A=w+-m/k;m=v,v=e(A);let k=(v-m)/(A-w)}let b=s.find((A,k)=>{if(Math.abs(xn1-A)<i)return f=k,!0});b?s[f]=.5*(xn1+b):s.push(xn1)}return s}static makeVec(e,r){var n=[];return e.forEach((i,o)=>{n.push(r[o]-i)}),n}static transpose(e){return e[0].map((r,n)=>e.map(i=>i[n]))}static matmul(e,r){var n=e.length,i=e[0].length;r.length;for(var o=r[0].length,s=new Array(n),a=0;a<n;++a){s[a]=new Array(o);for(var f=0;f<o;++f){s[a][f]=0;for(var d=0;d<i;++d)s[a][f]+=e[a][d]*r[d][f]}}return s}static matscale(e,r){let n=[];for(var i=0;i<e.length;i++){n[i]=[];for(let o=0;o<e[0].length;o++)n[i][o]=e[i][o]*r}return n}static matadd(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]+r[o][i]}return n}static matsub(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]-r[o][i]}return n}static histogram(e=[],r=1,n){let i=[...e];i.sort(function(d,m){return d-m});let o=Math.min(...i);if(typeof n=="number"){let d=Math.max(...i);r=Math.abs((d-o)/(n-1))}let s=o,a=[],f=[];for(let d=0;d<i.length;d++){let m=r*s;if(i[d]>o+m){s++,m+=r;let v=o+m+.5*m;a.push(v),f.push(0)}f[f.length-1]++}return[a,f]}static normalDistribution(e=[],r=!0,n=1e-4){let i=this.mean(e),o=this.variance(e),s=e.length,a=[],f=1/(this.TWO_PI*o),d=1/o,m=0;for(let v=0;v<s;v++){let y=Math.exp(-.5*Math.pow((e[v]-i)*d,2))*f;y<n&&(y=0),a.push(y),m+=y}if(r){let v=1/m;a=a.map(y=>y*v)}return a}static expectedValue(e=[],r=this.normalDistribution(e)){return e.reduce((n,i,o)=>n+i*r[o])}static originMoment(e=[],r=this.normalDistribution(e),n=1){return e.reduce((i,o,s)=>i+Math.pow(o,n)*r[s])}static centralMoment(e=[],r=this.normalDistribution(e),n=1){let i=this.mean(e);return e.reduce((o,s,a)=>o+Math.pow(s-i,n)*r[a]/e.length)}static linearDiscriminantAnalysis(e=[],r=[]){let n=this.mean(e),i=this.mean(r),o=this.cov1d(e,r),s=this.normalDistribution(e),a=[];for(let f=0;f<e.length;f++)a.push(x[f]*o*i-.5*n*o*i+Math.log10(s[f]));return a}static conv1D(e=[],r=[1/3,1/3,1/3],n=Math.floor(.5*r.length)){let i=[],o=1/r.length;if(n>0){let f=new Array(n).fill(0);e=[...f,...e,...f]}let s=Math.floor(.5*r.length),a=e.length-r.length+s;for(let f=s;f<a;f++){let d=0;for(let m=0;m<r.length;m++)d+=e[f-s]*r[m];i.push(d*o)}return i}static conv2D(e=[[],[],[]],r=[[],[],[]],n=0){let i,o=new Array(e.length-Math.ceil(.5*r.length)).fill([]),s=Fe.transpose(s);if(n>0){let k=new Array(n).fill(0);i=Fe.transpose(e);for(let N=0;N<i.length;N++)i[N]=[...k,...i[N],...k];e=Fe.transpose(i);for(let N=0;N<e.length;N++)e[N]=[...k,...e[N],...k]}let a,f=Math.floor(.5*r[0].length),d=Math.floor(.5*s[0].length),m=e[0].length-r[0].length+f,v=i[0].length-s[0].length+d,y=1/(r[0].length*s[0].length),w=m*v,b=f,A=d;for(;b<w;){let k=0;a=b%e[0].length,a===0&&A++;for(let N=0;N<r[0].length;N++){for(let F=0;F<s[0].length;N++)k+=e[A-d+F][a-f+N]*r[F][N];o[A].push(k*y)}b++}return o}static cov2d(e){var r=this.transpose(e),n=[],i=[],o=[];e.forEach((b,A)=>{i.push(this.mean(b))}),r.forEach((b,A)=>{o.push(this.mean(b))}),e.forEach((b,A)=>{n.push([]);for(var k=0;k<b.length;k++)n[A].push((e[A][k]-i[A])*(e[A][k]-o[k])/(b.length-1))});var s=this.transpose(n),a=n.length,f=n[0].length;s.length;for(var d=s[0].length,m=new Array(a),v=0;v<a;++v){m[v]=new Array(d);for(var y=0;y<d;++y){m[v][y]=0;for(var w=0;w<f;++w)m[v][y]+=n[v][w]*s[w][y]/(e[0].length-1)}}return m}static cov1d(e=[],r=[]){return this.cov2d([e,r])}static cov3d(e=[],r=[],n=[]){return[[this.cov1d(e,e),this.cov1d(e,r),this.cov1d(e,n)],[this.cov1d(r,e),this.cov1d(r,r),this.cov1d(r,n)],[this.cov1d(n,e),this.cov1d(n,r),this.cov1d(n,n)]]}static covNd(e=[]){let r=[];e.forEach((n,i)=>{r.push([]),e.forEach((o,s)=>{r[i].push(this.cov1d(n,o))})})}static eigens2x2(e=[[1,2],[3,4]]){let r=e[0][0]*e[1][1]-e[0][1]*e[1][0],n=.5*(e[0][0]+e[1][1]),i=Math.sqrt(n*n-r);return[n+i,n-i]}static eigenvectors2x2(e=[[1,2],[3,4]],r=[1,2]){let n=[-e[0][1],e[0][0]-r[0]];n[0]===0&&n[1]===0&&(n[0]=e[1][1]-r[0],n[1]=-e[1][0]);let i=[-e[0][1],e[0][0]-r[1]];return i[0]===0&&i[1]===0&&(i[0]=e[1][1]-r[1],i[1]=-e[1][0]),[n,i]}static fastpca2d(e,r){let n=this.cov1d(e,r),i=this.eigens2x2(n);i[1]>i[0]&&i.reverse();let o=this.eigenvectors2x2(n,i);return console.log(i,o),[i,o]}static crosscorrelation(e,r){var n=[...r,...Array(r.length).fill(0)],i=this.mean(e),o=this.mean(r),s=e.reduce((y,w)=>y+Math.pow(w-i,2));s=Math.sqrt(s);for(var a=r.reduce((y,w)=>y+Math.pow(w-i,2)),f=1/(s*(a=Math.sqrt(a))),d=new Array(e.length).fill(0),m=0;m<e.length;m++){var v=e.reduce((y,w,b)=>y+(w-i)*(n[m+b]-o));d[m]=v*f}return d}static autocorrelation(e){for(var r=[...e,...Array(e.length).fill(0)],n=this.mean(e),i=e.reduce((d,m)=>d+Math.pow(m-n,2)),o=1/((i=Math.sqrt(i))*i),s=new Array(e.length).fill(0),a=0;a<e.length;a++){var f=e.reduce((d,m,v)=>d+(m-n)*(r[a+v]-n));s[a]=f*o}return s}static correlograms(e=[[],[]]){var r=[];return e.forEach((n,i)=>{e.forEach((o,s)=>{s>=i&&r.push(Fe.crosscorrelation(n,o))})}),r}static sma(e=[],r){for(var n=[],i=0;i<e.length;i++)if(i==0)n.push(e[0]);else if(i<r){var o=e.slice(0,i+1);n.push(o.reduce((s,a)=>a+s)/(i+1))}else o=e.slice(i-r,i),n.push(o.reduce((s,a)=>a+s)/r);return n}static sum(e=[]){return e.length>0?e.reduce((r,n)=>n+r):0}static reduceArrByFactor(e,r=2){return e.filter((n,i)=>i%r==0)}static makeArr(e,r,n){for(var i=[],o=(r-e)/(n-1),s=0;s<n;s++)i.push(e+o*s);return i}static interpolateArray(e,r,n=1){var i=function(y,w,b){return(y+(w-y)*b)*n},o=new Array,s=new Number((e.length-1)/(r-1));o[0]=e[0];for(var a=1;a<r-1;a++){var f=a*s,d=new Number(Math.floor(f)).toFixed(),m=new Number(Math.ceil(f)).toFixed(),v=f-d;o[a]=i(e[d],e[m],v)}return o[r-1]=e[e.length-1],o}static isExtrema(e,r="peak"){let n=[...e];if(n.length%2==0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<Math.floor(.5*n.length)&&s>=n[Math.floor(.5*n.length)]){i=!1;break}if(o>Math.floor(.5*n.length)&&s>=n[Math.floor(.5*n.length)]){i=!1;break}}else if(r==="valley"){if(o<Math.floor(.5*n.length)&&s<=n[Math.floor(.5*n.length)]){i=!1;break}if(o>Math.floor(.5*n.length)&&s<=n[Math.floor(.5*n.length)]){i=!1;break}}else{if(o<Math.floor(.5*n.length)&&s<=n[Math.floor(.5*n.length)]){i=!1;break}if(o>Math.floor(.5*n.length)&&s<=n[Math.floor(.5*n.length)]){i=!1;break}}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<Math.floor(.5*n.length)&&s>=n[Math.floor(.5*n.length)]){i=!1;break}if(o>Math.floor(.5*n.length)&&s>=n[Math.floor(.5*n.length)]){i=!1;break}}}return i}}static isCriticalPoint(e,r="peak"){let n=[...e];if(n.length%2==0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<.5*n.length&&s<=0){i=!1;break}if(o>.5*n.length&&s>0){i=!1;break}}else if(r==="valley"){if(o<.5*n.length&&s>=0){i=!1;break}if(o>.5*n.length&&s<0){i=!1;break}}else{if(o<.5*n.length&&s>=0){i=!1;break}if(o>.5*n.length&&s<0){i=!1;break}}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<.5*n.length&&s<=0){i=!1;break}if(o>.5*n.length&&s>0){i=!1;break}}}return i}}static getPeakThreshold(e,r,n){let i,o=e.filter((s,a)=>{if(r.indexOf(a)>-1)return!0});return i=n===0?this.mean(o):.5*(n+this.mean(o)),i}static column(e,r){let n=new Array(e.length).fill(0).map(()=>new Array(1).fill(0));for(let i=0;i<e.length;i++)n[i][0]=e[i][r];return n}static flatten_vector(e){let r=[];for(let n=0;n<e.length;n++)r[n]=e[n][0];return r}static squared_difference(e,r){let n=0;for(let i=0;i<e.length;i++)n+=Math.pow(e[i]-r[i],2);return n}static shift_deflate(e,r,n){let i=Math.sqrt(this.matmul(this.transpose(n),n)),o=this.matscale(n,1/i),s=this.matscale(this.matmul(o,this.transpose(o)),r);return this.matsub(e,s)}static eigenvalue_of_vector(e,r){return ev=this.matmul(this.matmul(this.transpose(r),e),r),ev}static power_iteration(e,r=1e-5,n=1e3){let i=e.length,o=new Array(i).fill(0).map(()=>new Array(1).fill(Math.sqrt(i))),s=this.eigenvalue_of_vector(e,o),a=1,f=0;for(;a>r&&f<n;){let d=JSON.parse(JSON.stringify(s)),m=this.matmul(e,o);o=this.normalize(m),s=this.eigenvalue_of_vector(e,o),a=Math.abs(s-d),f++}return[s,o]}static eigens(e,r=1e-4,n=1e3){let i=[],o=[];for(let s=0;s<e.length;s++){let a=this.power_iteration(e,r,n),f=a[0],d=a[1];i[s]=f,o[s]=this.flatten_vector(d),e=this.shift_deflate(e,f,d)}return[i,o]}static pca(e,r=1e-5){let n=e.length,i=new Array(n),o=new Array(n),s=this.transpose(e);for(i[0]=this.column(e,0);espilon>r;){o[0]=this.matmul(s,i[0]);let a=this.matmul(this.transpose(i[0]),i[0]);o[0]=this.matscale(o[0],1/a);let f=Math.sqrt(this.matmul(this.transpose(o[0]),o[0]));o[0]=this.matscale(o[0],1/f);let d=this.matmul(e,o[0]),m=this.matmul(this.transpose(o[0]),o[0]);d=this.matscale(d,1/m),this.squared_difference(i[0],d),i[0]=JSON.parse(JSON.stringify(d))}return this.matmul(this.transpose(i[0]),i[0])}static p300(e=[],r=[],n=[],i=256){let o=Math.floor(i/10),s=this.sma(r,o),a=this.peakDetect(s,"peak",o),f=this.mean(s),d=this.std(s,f),m=0,v=[];return a.length>0&&e.forEach((y,w)=>{for(;n[a[m]]<y+200&&(m++,a[m]););let b=0,A=[];for(;n[a[m+b]]<y+600&&(A.push(m+b),b++,a[m+b]););if(A.length>1){let k=[];A.forEach(Y=>{k.push(s[a[Y]])});let N=Math.max(...k),F=A[k.indexOf(N)];v.push({event_timestamp:y,event_index:w,peak_timestamp:n[[a[F]]],signal_index:[a[F]],signal_amplitude:r[[a[F]]],zscore:(s[a[F]]-f)/d})}else A.length===1&&v.push({event_timestamp:y,event_index:w,peak_timestamp:n[a[A[0]]],signal_index:a[A[0]],signal_amplitude:r[[a[A[0]]]],zscore:(s[a[A[0]]]-f)/d})}),v}};$e(Fe,"TWO_PI",2*Math.PI),$e(Fe,"C",299792458),$e(Fe,"G",66743e-15),$e(Fe,"h",662607015e-42),$e(Fe,"R",8314.32),$e(Fe,"Ra",287),$e(Fe,"H",69.3),$e(Fe,"kbar",1054571817e-43),$e(Fe,"kB",1380649e-29),$e(Fe,"ke",89875517923e-1),$e(Fe,"me",91093837015e-41),$e(Fe,"mp",167262192369e-38),$e(Fe,"mn",167492749804e-38),$e(Fe,"P0",101325),$e(Fe,"T0",288.15),$e(Fe,"p0",1.225),$e(Fe,"Na",60220978e16),$e(Fe,"y",1.405),$e(Fe,"M0",28.96643),$e(Fe,"g0",9.80665),$e(Fe,"Re",6378100),$e(Fe,"B",1458e-9),$e(Fe,"S",110.4),$e(Fe,"Sigma",365e-12),$e(Fe,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),$e(Fe,"integral",(t=n=>n,e=[],r=.01)=>{let n=0;for(let i=e[0];i<e[1];i+=r)n+=t(i)*r;return n}),$e(Fe,"dintegral",(t=(i,o)=>i+o,e=[[],[]],r=.01,n=r)=>{let i=0;for(let o=e[0][0]+r;o<e[0][1];o+=r)for(let s=e[1][0]+n;s<e[1][1];s+=n)i+=t(o,s)*r*n;return i}),$e(Fe,"tintegral",(t=(o,s,a)=>o+s+a,e=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=e[0][0]+r;s<e[0][1];s+=r)for(let a=e[1][0]+n;a<e[1][1];a+=n)for(let f=e[2][0]+i;f<e[2][1];f+=i)o+=t(s,a,f)*r*n*i;return o}),$e(Fe,"pintegral",(t=n=>n,e=[],r=.01)=>{let n,i,o=0;for(let s=e[0];s<e[1];s+=r)n=i,i=t(s),n&&(o+=Fe.distance([0,n],[r,i]));return o}),$e(Fe,"peakDetect",(t,e="peak",r=49)=>{let n=Math.floor(.5*r),i=[];for(let o=0;o<t.length-r;o++)Fe.isExtrema(t.slice(o,o+r),e)&&i.push(o+n-1);return i});xI=Object.freeze({__proto__:null,getCoherenceScore:(t,e="alpha1")=>{let r=[];return Array.isArray(t)||(t=[t]),t.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[e].slice(i-o);r.push(Fe.mean(s))}}),Fe.mean(r)},getAlphaRatio:t=>t.fftCount>0?t.means.alpha2[t.fftCount-1]/t.means.alpha1[t.fftCount-1]:0,getThetaBetaRatio:t=>t.fftCount>0?t.means.theta[t.fftCount-1]/t.means.beta[t.fftCount-1]:0,getAlphaBetaRatio:t=>t.fftCount>0?.5*(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])/t.means.beta[t.fftCount-1]:0,getAlphaThetaRatio:t=>t.fftCount>0?.5*(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])/t.means.theta[t.fftCount-1]:0,get40HzGamma:(t,e)=>{if(t.fftCount>0&&Array.isArray(e)){let r=t.slices.lowgamma[t.fftCount-1],n=[];return r.forEach((i,o)=>{e.lowgamma[0][o]>38&&e.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}return 0},getLowGammaScore:t=>{if(t.fftCount>0){let e=t.fftCount,r=20;e<r&&(r=e);let n=t.means.lowgamma.slice(e-r);return t.means.lowgamma[e-1]-Fe.mean(n)}return 0},getHEGRatioScore:t=>{if(t.count>0){let e=t.count,r=40;e<r&&(r=e);let n=t.ratio.slice(e-r);return t.ratio[e-1]-Fe.mean(n)}return 0},splitFrequencyBands:function(t=[],e={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return t.forEach((n,i)=>{for(let o in e)r[o]||(r[o]=[[],[]]),n>=e[o][0]&&n<=e[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r},mapFFTData:(t,e,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(e),n.ffts.push(t);for(let o in r){let s=t.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((a,f)=>a+f)/s.length),i+=r[o][1].length}},mapCoherenceData:(t,e,r,n)=>{t.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(e),n[o].ffts.push(data);let s=0;for(let a in r){let f=fft.slice(s,s+r[a][1].length);coord.slices[a].push(f),coord.means[a].push(f.reduce((d,m)=>d+m)/f.length),s+=r[a][1].length}})},bandpassWindow:function(t,e,r){let n=(e-t)/r,i=[],o=0;for(;o<e;)i.push(o),o+=n;return i}}),ip=class{constructor(e={},r=!1,n){this.DS=wi,this.collections=new Map,this.data={byTime:{},notes:{},events:{},sleep:{},food:{},hr:{},ppg:{},hrv:{},ecg:{},emg:{},eeg:{},fnirs:{}},this.rolloverLimit=5e4,this.dataSorts=new Map,this.watches={},this.onCollectionSet=(i,o)=>{},this.ontrigger=i=>{},this.threaded=r,n?this.workers=n:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&(this.threaded=!0),Object.assign(this.data,e),this.dataSorts=new Map,this.watches={},this.setSort("event",i=>(this.data.events[i.timestamp]?this.data.events[i.timestamp].push(i):this.data.events[i.timestamp]=[i],i.event==="sleep"&&(this.data.sleep[i.timestamp]?this.data.sleep[i.timestamp].push(i):this.data.sleep[i.timestamp]=[i]),i)),this.setSort(["notes","note","link"],i=>(this.data.notes[i.timestamp]?this.data.notes[i.timestamp].push(i):this.data.notes[i.timestamp]=[i],this.data.byTime[i.timestamp]?this.data.byTime[i.timestamp].push(i):this.data.byTime[i.timestamp]=[i],i)),this.id=this.randomId("dataTablet")}randomId(e=""){return`${e+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}setLocalData(e){let r=n=>{let i=n.structType,o=this.collections.get(i);o||(o=new Map,this.collections.set(i,o)),o.set(n._id,n),this.onCollectionSet(i,o)};Array.isArray(e)?e.forEach(n=>{r(n)}):r(e)}getLocalData(e,r){let n="",i="",o="";if(typeof r=="object"?(n=r.ownerId,i=Object.keys(r).filter(f=>f!="ownerId")[0],o=r[i]):o=r,!(e||n||i||o))return[];let s=[];if(!e&&(n||i))return this.collections.forEach(a=>{if(i!=="_id"&&i!=="id"||!o)a.forEach(f=>{i&&o?f[i]===o&&f.ownerId===n&&s.push(f):f.ownerId===n&&s.push(f)});else{let f=a.get(o);f&&s.push(f)}}),s;{let a=this.collections.get(e);if(!a)return s;if(!i&&!n)return a.forEach(f=>{s.push(f)}),s;if((i==="_id"||i==="id")&&o)return a.get(o);a.forEach((f,d)=>{i&&o&&!n?f[i]===o&&s.push(f):n&&!i?f.ownerId===n&&s.push(f):n&&i&&o&&f.ownerId===n&&f[i]&&f[i]===o&&s.push(f)})}return s}runSort(e,r={},n=[],i=this){let o;if(this.threaded===!1){let s=this.getSort(e);if(!s)return!1;o=s(r,n,i)}else if(this.threaded===!0)return this.workers.runWorkerFunction("runSort",[e,r,n],this.workerId,this.id);return o}setSort(e,r=(n,i=[],o=this)=>{}){if(this.threaded===!1)Array.isArray(e)?e.forEach(n=>{this.dataSorts.set(n,r)}):this.dataSorts.set(e,r);else if(this.threaded===!0)return this.workers.runWorkerFunction("setSort",[e,r.toString()],this.workerId,this.id)}getSort(e){return this.threaded===!1?this.dataSorts.get(e):this.threaded===!0?this.workers.runWorkerFunction("getSort",[e],this.workerId,this.id):void 0}checkWatches(e={}){for(let r in this.watches)this.watches[r].ondata(e,this.watches[r].accum,this.watches[r]),this.watches[r].triggered&&(this.ontrigger(this.watches[r].accum),this.watches[r].triggered=!1)}setWatch(e,r=(i,o,s)=>{},n=i=>{}){this.watches[e]={triggered:!1,accum:this.DS.Struct("alert"),ondata:r,ontrigger:n}}getWatch(e){return this.watches[e]}async sortStructsIntoTable(e=[]){e.sort(function(n,i){return n.timestamp-i.timestamp});let r=[];for(let n=0;n<e.length;n++){let i=e[n];if(!i.timestamp)continue;let o=i.timestamp;if(this.data.byTime[o]?this.data.byTime[o].push(i):this.data.byTime[o]=[i],i.structType==="dataInstance"&&i.data)i.data.forEach(async s=>{if(typeof s=="object"&&!Array.isArray(s)){let a=s.dataType;if(s.ownerId=i.ownerId,s.timestamp||(s.timestamp=o),a){let f=this.runSort(a,s,r,this);f?f.constructor?.name!=="Promise"&&(this.checkWatches(f),this.onUpdate(o,f),r.push(f)):(this.data[a]||(this.data[a]={}),s.timestamp=o,this.data[a][o]?this.data[a][o].push(s):this.data[a][o]=[s],this.data.byTime[o]?this.data.byTime[o].push(s):this.data.byTime[o]=[s],this.checkWatches(s),this.onUpdate(o,s),r.push(s))}}});else{let s=this.runSort(i.structType,i,r,this);if(s)this.checkWatches(s),this.onUpdate(o,s),r.push(s);else{let a=i.structType;this.data[a]||(this.data[a]={}),this.data[a][o]?this.data[a][o].push(i):this.data[a][o]=[i],this.checkWatches(i),this.onUpdate(o,i),r.push(i)}}}for(let n in this.data)this.data[n]=this.sortObjectByPropName(this.data[n]);this.onSorted(r)}onUpdate(e,r,n=this.data){}onSorted(e=[]){}getDataByTimestamp(e,r){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimestamp",[e,r],this.workerId,this.id);let n=this.data.byTime[e];return r&&n&&(n=n.filter(i=>!r||r===i.ownerId)),n}getDataByTimeRange(e,r,n,i){if(this.threaded===!0)return this.workers.runWorkerFunction("getDataByTimeRange",[e,r,n,i],this.workerId,this.id);let o={};if(n){for(let s in this.data[n]){let a=parseInt(s);a>e&&a<r&&(o[s]=[...this.data[n][s]])}n==="sleep"&&(o=this.filterSleepResults(o))}else for(let s in this.data.byTime){let a=parseInt(s);a>e&&a<r&&(o[s]=[...this.data.byTime[s]])}if(i&&o)for(let s in o){let a=[];o[s]=o[s],o[s].forEach((f,d)=>{f.ownerId!==i&&a.push(d)}),a.reverse().forEach(f=>{o[s].splice(f,1)}),o[s].length===0&&delete o[s]}return o}getDataByType(e,r,n){if(!this.data[e])return;let i={...this.data[e]};if(r&&(i=[...i[r]]),n&&i)for(let o in i){let s=[];i[o]=[...i[o]],i[o].forEach((a,f)=>{a.ownerId!==n&&s.push(f)}),s.reverse().forEach(a=>{i[o].splice(a,1)}),i[o].length===0&&delete i[o]}return e==="sleep"&&(i=this.filterSleepResults(i)),i}filterSleepResults(e={}){let r=[];for(let n in e)e[n]=[...e[n]],r.push(...e[n].filter(i=>i.structType==="event"));return r.forEach(n=>{let i;for(let o in e)e[o].forEach((s,a)=>!(s.structType!=="fitbitsleep"||!n.startTime||!n.endTime)&&Math.abs(s.startTime-n.startTime)<432e5&&Math.abs(s.endTime-n.endTime)<432e5&&n.endTime-n.startTime>72e5&&(i=a,!0)),i&&e[o].splice(i,1)}),e}sortObjectByPropName(e){return Object.keys(e).sort().reduce((r,n)=>(r[n]=e[n],r),{})}checkRollover(e,r=this.rolloverLimit){if(!e)return!1;let n=this.collections.get(e);return!!n&&(n.forEach(i=>{for(let o in i)Array.isArray(i[o])?i[o].length>r&&(i[o].slice(i[o].length-r),o==="ffts"?i.fftCount=i[o].length:o==="times"&&(i.count=i[o].length)):typeof i[o]=="object"&&this.checkRollover(i[o])}),!0)}}});function dc(t,e){let r=e instanceof URL?e:new URL(e);return t=r.pathname==="/"?t:r.pathname+t,new URL(t,r.href).href}function Xa(t,e=!0){t=t.replace(/\/\*\*?/,"");let r=t.split("/");e&&(r=r.slice(0,r.length-1));let n=[t];return n.push(t+"/*"),n.push(t+"/**"),r.forEach((i,o)=>{let s=r.slice(0,o+1).join("/");s!=t&&(o===r.length-1&&n.push(s+"/*"),n.push(s+"/**"))}),n}var Qa=rt(()=>{});var sn,op,pc,ys=rt(()=>{sn=t=>(t?`${t}_`:"")+Math.floor(1e5*Math.random()),op=(t=Math,e=Date,r=16,n=i=>t.floor(i).toString(r))=>n(e.now()/1e3)+" ".repeat(r).replace(/./g,()=>n(t.random()*r)),pc=(t={})=>(t._id||(t._id=op()),t={_id:t._id,id:t.id||t._id},t)});function D2(t){if(t instanceof Function){var e=t.toString().replace(P6,""),r=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(L6);return r===null&&(r=[]),r}else return}function NI(method=""){let getFunctionBody=t=>t.replace(/^\W*(function[^{]+\{([\s\S]*)\}|[^=]+=>[^{]*\{([\s\S]*)\}|[^=]+=>(.+))/i,"$2$3$4"),getFunctionHead=t=>{let e=t.indexOf(")");return t.slice(0,t.indexOf("{",e)+1)},newFuncHead=getFunctionHead(method),newFuncBody=getFunctionBody(method),newFunc;if(newFuncHead.includes("function ")){let t=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(t,newFuncBody)}else if(newFuncHead.substring(0,6)===newFuncBody.substring(0,6)){let t=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(t,newFuncBody.substring(newFuncBody.indexOf("{")+1,newFuncBody.length-1))}else newFunc=eval(newFuncHead+newFuncBody+"}");return newFunc}var C6,el,P6,L6,yc=rt(()=>{C6=input=>{if(typeof input=="string"&&(input=JSON.parse(input)),typeof input=="object"){for(let key in input){let value=input[key],regex=new RegExp("(|[a-zA-Z]w*|([a-zA-Z]w*(,s*[a-zA-Z]w*)*))s*=>"),func=typeof value=="string"?value.substring(0,8)=="function":!1,arrow=typeof value=="string"?regex.test(value):!1;try{input[key]=func||arrow?eval("("+value+")"):value}catch(t){console.error(t,value),input[key]=value}typeof input[key]=="object"&&C6(input[key])}return input}else return{}},el=(t,e=!0)=>{t instanceof Object&&(t=Array.isArray(t)?[...t]:Object.assign({},t));for(let r in t)t[r]instanceof Function&&(t[r]=t[r].toString()),t[r]instanceof Object&&(t[r]=el(t[r],!1));return e?JSON.stringify(t):t},P6=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,L6=/([^\s,]+)/g});var F2,C2=rt(()=>{F2=`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>404 Not Found</pre>
</body>
</html>`});var L2=xe((ms,P2)=>{"use strict";var M6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Mn<"u")return Mn;throw new Error("unable to locate global object")},Mn=M6();P2.exports=ms=Mn.fetch;Mn.fetch&&(ms.default=Mn.fetch.bind(Mn));ms.Headers=Mn.Headers;ms.Request=Mn.Request;ms.Response=Mn.Response});var sp,M2=rt(()=>{yc();Qa();ys();try{if(typeof process=="object"){let t=L2();typeof globalThis.fetch!="function"&&(globalThis.fetch=t)}}catch(t){}sp=class{constructor(e="https://localhost",r,n){this.id=null;this.target=null;this.type=null;this.link=null;this.credentials={};this.connection=null;this.services={available:{},connecting:{},queue:{}};this.router=null;this.clients={};this.user=op();this.status=!1;this.responses={};this.setCredentials=e=>{this.credentials=pc(e),console.log("Using Credentials:",this.credentials)};this.check=()=>re(this,null,function*(){var i,o,s,a,f,d;this.type==="webrtc"&&(this.clients.webrtc?yield this._subscribe({protocol:"webrtc",force:!0}).then(m=>{this.status=!0}).catch(m=>console.log("Link doesn't have WebRTC enabled.",m)):console.error("WebRTC client not added..."));let e=()=>re(this,null,function*(){if(this.clients.websocket)return yield this._subscribe({protocol:"websocket",force:!0}).then(m=>(this.status=!0,m)),yield this.send("services");console.error("Websocket client not added...")}),r=()=>re(this,null,function*(){return yield this.send("services")}),n;if(console.log("endpoint type",this.type),this.type==="websocket"){console.log("connecting ws");let m=yield e().then(v=>(this.status=!0,v)).catch(v=>re(this,null,function*(){if(this.type==="websocket")return console.log("Falling back to http"),yield r()}));console.log("endpoint res",m)}else n=yield r().then(m=>(this.status=!0,m)).catch(m=>re(this,null,function*(){return console.log("Falling back to websockets"),yield e()}));if(n){console.log("Connection successful!");let m=n.message[0],v=[];for(let y in m){let b=m[y].replace(/Backend|Service/,"").toLowerCase();this.services.available[b]=y,v.push(b),((s=(o=(i=this.router)==null?void 0:i.SERVICES)==null?void 0:o[b])==null?void 0:s.status)instanceof Function&&this.router.SERVICES[b].status(y),((a=this.clients[b])==null?void 0:a.serviceType)==="subscription"&&((f=this.services.queue[b])==null||f.forEach(A=>A()),this.services.queue[b]=[])}(d=this.services.queue.undefined)==null||d.forEach(y=>y()),this.services.queue.undefined=[]}else console.log("Connection failed!");return n==null?void 0:n.message});this.send=(i,...o)=>re(this,[i,...o],function*(e,r={},n=()=>{}){var f,d,m,v,y,w,b,A;if(typeof e=="string")r.route=e;else{let k=this.services[e.service];r.route=k?`${k}/${e.route}`:e.route}r.suppress=!!this.connection;let s,a={suppress:r.suppress,id:(f=this.link.connection)==null?void 0:f.id};if(((d=this.connection)==null?void 0:d.protocol)==="websocket")r.id=(m=this.link.credentials)==null?void 0:m.id,s=yield this.link.connection.service.send(r,a);else if(((v=this==null?void 0:this.connection)==null?void 0:v.protocol)==="webrtc")r.id=((y=this.credentials)==null?void 0:y.id)||((w=this.link.credentials)==null?void 0:w.id),s=yield this.connection.service.send(r,a);else{r.id=(b=this.link.credentials)==null?void 0:b.id,r.method||(r.method=((A=r.message)==null?void 0:A.length)>0?"POST":"GET");let k={method:r.method.toUpperCase(),mode:"cors",headers:{"Content-Type":"application/json"}};k.method!="GET"&&(k.body=el(r)),s=yield fetch(dc(r.route,this.link.target),k).then(N=>re(this,null,function*(){let F=N.body.getReader(),Y=N.headers.get("Content-Length"),H=0;if(globalThis.ReadableStream){let Z=new ReadableStream({start(L){let V=()=>re(this,null,function*(){F.read().then(({value:S,done:W})=>{if(W){L.close();return}H+=S.length,n(H/Y,Y),L.enqueue(S),V()})});V()}});return new Response(Z,{headers:N.headers})}else return N})),s=s&&(yield s.json().then(N=>{if(s.ok)return N;throw N.message}).catch(N=>re(this,null,function*(){throw"Invalid JSON"})))}return s&&!(s==null?void 0:s.route)&&(s.route=r.route,s.block=!0),s});this._subscribe=(...r)=>re(this,[...r],function*(e={}){let n=()=>new Promise(i=>re(this,null,function*(){var a;let o=(a=e.protocol)!=null?a:this.type;(o?[this.clients[o]]:Object.values(this.clients)).forEach(f=>re(this,null,function*(){var d;if(f&&e.force||(f==null?void 0:f.status)===!0&&(f==null?void 0:f.serviceType)==="subscription"){let m=`${(d=this.link.services.available[f==null?void 0:f.service])!=null?d:f.name.toLowerCase()}/subscribe`;if(f.setEndpoint(this.link),!this.connection){let y=this.type==="http"||this.type==="websocket"?new URL(m,this.target):this.target;console.log(y,this.target,m);let w=yield f.add(this.credentials,y.href);this.router&&f.addResponse("router",b=>{let A=typeof b=="string"?JSON.parse(b):b;Object.values(this.responses).forEach(k=>{k(A)}),this.router&&this.router.handleLocalRoute(A)}),this.connection={service:f,id:w,protocol:f.name}}this.type==="webrtc"&&(e.routes=[this.target]);let v=yield this.link.send(m,Object.assign({route:e.route,message:e.message,protocol:e.protocol},{message:[e.routes,this.credentials.id]}));i(this.connection);return}})),this.services.queue[o]||(this.services.queue[o]=[]),this.services.queue[o].push(()=>re(this,null,function*(){let f=yield n();i(f)}))}));return yield n()});this.subscribe=e=>{if(e){let r=sn("response");return this.responses[r]=e,r}};this.unsubscribe=e=>{e?delete this.responses[e]:this.responses={}};let i,o;typeof e=="object"?e instanceof URL?i=e:(i=e.target,o=e.type,this.link=e.link,this.setCredentials(e.credentials)):i=e,o||(o="http"),this.link||(this.link=this),o==="http"||o==="websocket"?(i=i instanceof URL?i:new URL(i),this.id=i.origin):this.id=i,this.target=i,this.type=o,this.router=n,r&&(this.clients=r)}}});var j6,ap,j2=rt(()=>{_d();Qa();ys();yc();C2();M2();j6="DONOTSEND",ap=class{constructor(e={debug:!1}){this.id=sn();this.USERS={};this.CONNECTIONS=new Map;this.SUBSCRIPTIONS=[];this.ENDPOINTS={};this.SERVICES={};this.ROUTES={};this.INTERVAL=10;this.DEFAULTROUTES=[{route:"ping",post:()=>"pong"},{route:"services/**",get:{object:this.SERVICES,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{let s=e[o];(s==null?void 0:s.serviceType)==="default"&&(n[o]=s.name)}),r.forEach((o,s)=>n=n[o]),n}}},{route:"/",aliases:["routes/**"],get:{object:this.ROUTES,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{o&&(n[o]={route:e[o].route.split("/").filter(s=>!s.match(/\*\*?/)).join("/"),args:e[o].args,wildcard:o.includes("*")})}),r.forEach((o,s)=>n=n[o]),n}}},{route:"sendMessage",aliases:["message","sendMsg"],post:(e,r)=>e.sendMsg(r[0],r[1],r[2])},{route:"setUserServerDetails",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;r[0]&&(i.username=r[0]),r[1]&&(i.password=r[1]),r[2]&&(i.props=r[2]),r[3]&&(i._id=r[3],i.id=r[3])}},{route:"setProps",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(typeof r=="object"&&!Array.isArray(r))return Object.assign(i.props,r),!0;if(Array.isArray(r)&&typeof r[1]=="object"){let o=e.USERS[r[0]];return o&&Object.assign(o.props,r[1]),!0}return!1}},{route:"getProps",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(r[0]){let o=e.USERS[r[0]];if(o)return o.props}else return i.props}},{route:"blockUser",post:(e,r,n)=>{let i=e.USERS[n];return i?this.blockUser(i,r[0]):!1}},{route:"users/**",get:{object:this.USERS,transform:(e,...r)=>{let n={};return(r.length>0?[r[0]]:Object.keys(e)).forEach(o=>{let s=e[o];n[o]={_id:s._id,username:s.username,origin:s.origin,props:s.props,updatedPropNames:s.updatedPropNames,lastUpdate:s.lastUpdate,lastTransmit:s.lastTransmit,latency:s.latency}}),r.forEach((o,s)=>n=n[o]),n}}},{route:"getUser",post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;if(r[0]){let o=this.USERS[r[0]];if(o)return{_id:o._id,username:o.username,origin:o.origin,props:o.props,updatedPropNames:o.updatedPropNames,lastUpdate:o.lastUpdate,lastTransmit:o.lastTransmit,latency:o.latency}}else return{_id:i._id,username:i.username,origin:i.origin,props:i.props,updatedPropNames:i.updatedPropNames,lastUpdate:i.lastUpdate,lastTransmit:i.lastTransmit,latency:i.latency}}},{route:"login",aliases:["addUser","startSession"],post:(e,r,n)=>re(this,null,function*(){console.log("logging in",r);let i=yield e.addUser(r[0]);return{message:i,id:i.origin}})},{route:"logout",aliases:["removeUser","endSession"],post:(e,r,n)=>{let i=e.USERS[n];if(!i)return!1;r[0]?e.removeUser(...r):e.removeUser(i)}}];this.protocols={};this.connect=(e,r)=>{let n=new sp(e,this.SERVICES,this);return this.ENDPOINTS[n.id]=n,console.log("CONNECTING"),n.check().then(i=>{console.log("CHECKING RES"),i&&(r&&r(n),this.login(n,n.credentials))}),n};this.disconnect=e=>re(this,null,function*(){this.logout(this.ENDPOINTS[e]),delete this.ENDPOINTS[e]});this._loadBackend=(e,r=e.name)=>{var n;this.SERVICES[r]=e,this.SERVICES[r].status=!0,(n=e.routes)==null||n.forEach(i=>this.addRoute(Object.assign({service:r},i))),e.subscribe&&e.subscribe((i,o,s)=>re(this,null,function*(){let a=yield this.handleMessage(i,o);if(s==null?void 0:s.includes("worker"))if(a!==null&&e[s])e[s].postMessage({route:"worker/workerPost",message:a,origin:e.id,callbackId:i.callbackId});else return a;return a})),(e==null?void 0:e.serviceType)==="subscription"&&this.SUBSCRIPTIONS.push(e.updateSubscribers)};this._loadService=(n,...i)=>re(this,[n,...i],function*(e,r=e==null?void 0:e.name){return this._loadBackend(e,r),yield this._loadClient(e,r,!0)});this._loadClient=(e,r,n=!1)=>new Promise(i=>{let o=e.name;if(e.subscribe&&e.subscribe((s,a)=>re(this,null,function*(){var v;let f=this.SERVICES[o],d=f.status===!0,m;return a==="local"?m=yield this.handleLocalRoute(s):d&&(m=yield this.send({route:`${f.route}/${s.route}`,endpoint:e==null?void 0:e.endpoint},...(v=s.message)!=null?v:[])),m})),n)i(e);else{this.SERVICES[o]=e;let s=a=>{this.SERVICES[o].status=!0,e.setEndpointRoute instanceof Function&&e.setEndpointRoute(a),e.routes.forEach(f=>{this.ROUTES[`${a}/${f.route}`]=f}),i(e)};this.SERVICES[o].status===!0?s(this.SERVICES[o]):this.SERVICES[o].status=s}});this.get=(e,...r)=>this._send(e,"GET",...r);this.delete=(e,...r)=>this._send(e,"DELETE",...r);this.post=(e,...r)=>this._send(e,"POST",...r);this.send=this.post;this._send=(e,r,...n)=>re(this,null,function*(){let i;if(typeof e=="string"||(e==null?void 0:e.endpoint)==null?i=Object.values(this.ENDPOINTS)[0]:i=e.endpoint,!i)return;let o;return o=yield i.send(e,{message:n,method:r}),o&&this.handleLocalRoute(o,i),o==null?void 0:o.message});this.handleLocalRoute=(e,r,n)=>re(this,null,function*(){var i,o,s;if(r&&n&&!e.suppress&&r.connection&&((s=(o=(i=r.connection)==null?void 0:i.service)==null?void 0:o.responses)==null||s.forEach(a=>a(Object.assign({route:n},e)))),!e.block){let a=this.ROUTES[e==null?void 0:e.route];if((a==null?void 0:a.post)instanceof Function)return a.post(this,e.message,e.id)}});this.subscribe=(n,...i)=>re(this,[n,...i],function*(e,r={}){if(Object.keys(this.ENDPOINTS).length>0||(r==null?void 0:r.endpoint))return r.endpoint||(r.endpoint=Object.values(this.ENDPOINTS)[0]),yield r.endpoint._subscribe(r).then(s=>r.endpoint.subscribe(e));throw"Remote is not specified"});this.handleMessage=(e,r)=>re(this,null,function*(){var i;let n={};if(Array.isArray(e))n.route=e[0],n.message=e.slice(1),n.callbackId=void 0;else if(typeof e=="string"){let o=e.split(" ");n.route=o[0],n.message=o.slice(1),n.callbackId=void 0}else typeof e=="object"&&Object.assign(n,e);if(typeof n=="object"&&!Array.isArray(n)&&n.route!=null){console.log("runRoute",n.route);let o=yield this.runRoute(n.route,n.method,n.message,(i=n._id)!=null?i:n.id,n.callbackId);return o&&n.suppress&&(o.suppress=n.suppress),o}return null});e.interval&&(this.INTERVAL=e.interval),this.STATE=new zw({},this.INTERVAL,void 0),this.DEBUG=e==null?void 0:e.debug,"onbeforeunload"in globalThis&&(globalThis.onbeforeunload=()=>{Object.values(this.ENDPOINTS).forEach(r=>{r.type!="webrtc"&&this.logout(r)})}),this.load({routes:this.DEFAULTROUTES}),this.DEBUG&&this.runCallback("routes",[!0]),(e==null?void 0:e.endpoints)&&e.endpoints.forEach(r=>this.connect(r))}login(e,r){return re(this,null,function*(){yield this.logout(e),console.log("logging in");let n=Object.values(e?{endpoint:e}:this.ENDPOINTS),i=yield Promise.all(n.map(o=>re(this,null,function*(){let s=yield this.send({route:"login",endpoint:o},r);return console.log("logging in res",s),console.log("Resolved from server",s[0]),o.setCredentials(s[0]),s})));return console.log("Res",i),i?i[0]:i.reduce((o,s)=>o*s[0],!0)===1})}logout(e){return re(this,null,function*(){let r=yield Promise.all(Object.values(e?{endpoint:e}:this.ENDPOINTS).map(n=>re(this,null,function*(){return yield this.send({route:"logout",endpoint:n},n.credentials)})));return console.log("Res",r),r?r.reduce((n,i)=>n*(i==null?void 0:i[0]),!0)===1:!1})}load(n){return re(this,arguments,function*(e,r=e.name){let i=e.constructor.type==="client",o=!e.constructor.type||e.constructor.type==="service",s=e.constructor.type==="backend";return o&&(yield this._loadService(e,r)),s&&(yield this._loadBackend(e,r)),i&&(yield this._loadClient(e)),e})}format(e,r={}){return e!==void 0&&((!e||typeof e!="object"||!("message"in e)&&!("route"in e))&&(e={message:e}),Array.isArray(e.message)||(e.message=[e.message]),r.service&&(e==null?void 0:e.route)&&(e.route=`${r.service}/${e.route}`),r.headers&&(e.headers=r.headers)),(e==null?void 0:e.route)&&(e.route=e.route.replace(/\/\*\*?/,"")),e}runRoute(s,a){return re(this,arguments,function*(e,r,n=[],i,o){try{return e==null?void 0:(!r&&Array.isArray(n)&&(r=n.length>0?"POST":"GET"),this.DEBUG&&console.log("route",e),yield this.runCallback(e,n,i,r).then(f=>{if(this.DEBUG&&console.log("Result:",f),f!==void 0)return f=this.format(f),f.callbackId=o,this.ROUTES[f.route]&&(f.block=!0),f.message===j6?void 0:f}).catch(console.error))}catch(f){return new Error("Route failed...")}})}addUser(e={},r=pc(e)){var n;if(console.log("Trying to add",e,r),e){let i=this.USERS[r._id],o=i!=null?i:{_id:e._id,id:e.id,username:(n=e.username)!=null?n:r.username,origin:r._id,props:{},updatedPropNames:[],sessions:[],blocked:[],lastUpdate:Date.now(),lastTransmit:0,latency:0,routes:new Map};Object.assign(o,e),this.DEBUG&&console.log("Adding User, Id:",e._id,"Credentials:",r),this.USERS[r._id]=o;for(let s in this.SERVICES){let a=this.SERVICES[s];if(a.status===!0){let f=a.name+"/users";Xa(f).forEach(m=>{this.ROUTES[m]&&this.runRoute(m,"POST",[o],r._id)})}}return console.log("ADDED USER",o),o}else return!1}removeUser(e){let r=typeof e=="string"?this.USERS[e]:e;return r?(Object.values(this.SERVICES).forEach(n=>{if(n.status===!0){let i=n.name+"/users";this.ROUTES[i]&&this.runRoute(i,"DELETE",[r],r.id)}}),delete r.id,!0):!1}blockUser(e,r=""){return this.USERS[r]&&!e.blocked.includes(r)&&e.id!==r?(e.blocked.push(r),!0):!1}sendMsg(e="",r="",n=void 0){var o;let i=n?Object.assign(n,{message:r}):{message:r};if(typeof e=="string"){let s=this.USERS[e];if(s.send)return s.send(i),!0;console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${e} does not have anything to receive your message...`)}else if(typeof e=="object"){if(e.send)return e.send(i),!0;console.log("\x1B[31m",`[LIVESERVER-ROUTER] ${(o=e.username)!=null?o:e.id} does not have anything to receive your message...`)}return!1}addRoute(e){e=Object.assign({},e);let r=[e.route,...e.aliases?e.aliases:[]];return delete e.aliases,r.forEach(n=>{var i,o;if(!n||!e.post&&!e.get)return!1;n=e.route=`${e.service?`${e.service}/`:""}`+n,this.removeRoute(n),n[0]==="/"&&(n=n.slice(1)),e.args=D2(e.post),this.ROUTES[n]=Object.assign(e,{route:n}),e.get&&(this.STATE.setState({[n]:(o=(i=e.get)==null?void 0:i.object)!=null?o:e.get}),this.STATE.subscribe(n,s=>{var f;let a=((f=e.get)==null?void 0:f.transform)?e.get.transform(s):s;this.SUBSCRIPTIONS.forEach(d=>d(this,{route:n,message:a}))}))}),!0}removeRoute(e){return delete this.ROUTES[e]}runCallback(e,r=[],n,i=r.length>0?"POST":"GET"){return new Promise(o=>re(this,null,function*(){let s=Xa(e),a={route:e,block:!0,message:{html:F2},headers:{"Content-Type":"text/html"}};Promise.all(s.map(f=>re(this,null,function*(){var m;let d=this.ROUTES[f];if(d){this.DEBUG&&console.log("routeInfo",d);try{let v;if((d==null?void 0:d.delete)&&i.toUpperCase()==="DELETE")v=yield d.delete(this,r,n);else if(i.toUpperCase()==="GET"||!(d==null?void 0:d.post)){let y=this.STATE.data[d.route];if(y){let w=e.replace(d.route.split("/").filter(b=>b!="*"&&b!="**").join("/"),"").split("/").filter(b=>!!b);v={message:((m=d.get)==null?void 0:m.transform)?yield d.get.transform(y,...w):y}}else v=a}else(d==null?void 0:d.post)?v=yield d==null?void 0:d.post(this,r,n):v=a;o(this.format(v,d))}catch(v){console.log("Callback Failed: ",v)}}}))).then(f=>o(a))}))}checkRoutes(e){return re(this,null,function*(){var n,i;if(!e.data)return;let r=(i=(n=this.ROUTES[e.data.foo])!=null?n:this.ROUTES[e.data.route])!=null?i:this.ROUTES[e.data.functionName];return r||(r=this.ROUTES[e.data.foo]),r?e.data.message?yield r.post(this,e.data.message,e.data.origin):void 0:!1})}}});var q2=xe((WI,W2)=>{var lp=Math.floor(Math.random()*16777215),B2=Ke.index=parseInt(Math.random()*16777215,10),U2=(typeof process>"u"||typeof process.pid!="number"?Math.floor(Math.random()*1e5):process.pid)%65535,mc=function(t){return!!(t!=null&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))},V2=[];for(vr=0;vr<256;vr++)V2[vr]=(vr<=15?"0":"")+vr.toString(16);var vr,z2=new RegExp("^[0-9a-fA-F]{24}$"),tl=[];vr=0;for(;vr<10;)tl[48+vr]=vr++;for(;vr<16;)tl[65-10+vr]=tl[97-10+vr]=vr++;function Ke(t){if(!(this instanceof Ke))return new Ke(t);if(t&&(t instanceof Ke||t._bsontype==="ObjectID"))return t;if(this._bsontype="ObjectID",t==null||typeof t=="number"){this.id=this.generate(t);return}var e=Ke.isValid(t);if(!e&&t!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(e&&typeof t=="string"&&t.length===24)return Ke.createFromHexString(t);if(t!=null&&t.length===12)this.id=t;else{if(t!=null&&typeof t.toHexString=="function")return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}W2.exports=Ke;Ke.default=Ke;Ke.createFromTime=function(t){return t=parseInt(t,10)%4294967295,new Ke(U6(8,t)+"0000000000000000")};Ke.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var e="",r=0;r<24;)e+=String.fromCharCode(tl[t.charCodeAt(r++)]<<4|tl[t.charCodeAt(r++)]);return new Ke(e)};Ke.isValid=function(t){return t==null?!1:typeof t=="number"?!0:typeof t=="string"?t.length===12||t.length===24&&z2.test(t):t instanceof Ke||mc(t)?!0:typeof t.toHexString=="function"&&(t.id instanceof _Buffer||typeof t.id=="string")?t.id.length===12||t.id.length===24&&z2.test(t.id):!1};Ke.prototype={constructor:Ke,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(mc(this.id))return this.id.toString("hex");for(var t="",e=0;e<this.id.length;e++)t+=V2[this.id.charCodeAt(e)];return t},equals:function(t){return t instanceof Ke?this.toString()===t.toString():typeof t=="string"&&Ke.isValid(t)&&t.length===12&&mc(this.id)?t===this.id.toString("binary"):typeof t=="string"&&Ke.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&Ke.isValid(t)&&t.length===12?t===this.id:t!=null&&(t instanceof Ke||t.toHexString)?t.toHexString()===this.toHexString():!1},getTimestamp:function(){var t=new Date,e;return mc(this.id)?e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:e=this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(Math.floor(e)*1e3),t},generate:function(t){typeof t!="number"&&(t=~~(Date.now()/1e3)),t=parseInt(t,10)%4294967295;var e=B6();return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255,lp>>16&255,lp>>8&255,lp&255,U2>>8&255,U2&255,e>>16&255,e>>8&255,e&255)}};function B6(){return B2=(B2+1)%16777215}function U6(t,e){return e=e.toString(16),e.length===t?e:"00000000".substring(e.length,t)+e}var z6=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";Ke.prototype[z6]=function(){return"ObjectID("+this+")"};Ke.prototype.toJSON=Ke.prototype.toHexString;Ke.prototype.toString=Ke.prototype.toHexString});var $2,rl,up=rt(()=>{ys();rl=class{constructor(e){this.id=sn("service");this.name="service";this.callbacks=new Map;this.status=!1;this.serviceType="default";this.routes=[];this.delegate=($2=globalThis==null?void 0:globalThis.document)==null?void 0:$2.createDocumentFragment();this.protocols={};this.services={};this.setEndpointRoute=e=>{this.route=e};this.notify=(e,r,n)=>re(this,null,function*(){let i=[];return yield Promise.all(Array.from(this.callbacks).map((o,s)=>re(this,null,function*(){let a=yield o[1](e,r,n);a&&!(a instanceof Error)&&i.push(a)}))),i==null?void 0:i[0]});this.setEndpoint=e=>{this.endpoint=e};this.subscribe=e=>{if(e instanceof Function){let r=sn();return this.callbacks.set(r,e),r}else return};this.unsubscribe=e=>this.callbacks.delete(e);this.router=e}addEventListener(...e){var r;(r=this.delegate)==null||r.addEventListener.apply(this.delegate,e)}dispatchEvent(...e){var r;return(r=this.delegate)==null?void 0:r.dispatchEvent.apply(this.delegate,e)}removeEventListener(...e){var r;return(r=this.delegate)==null?void 0:r.removeEventListener.apply(this.delegate,e)}}});var H2,Bt,V6,G2,J2,Y2=rt(()=>{H2=Ft(q2());up();ys();Bt=t=>typeof t=="string"&&t.length===24?(0,H2.default)(t):t,V6=["user","group","authorization","discussion","chatroom","comment","dataInstance","event","notification","schedule","date"],G2=class extends rl{constructor(e,r={},n=!1){super(e);this.name="structs";this.collections={};this.debug=!1;this.wipeDB=()=>re(this,null,function*(){return yield Promise.all(Object.values(this.collections).map(e=>e.instance.deleteMany({}))),!0});this.db=r==null?void 0:r.db,this.debug=n,this.mode=this.db&&r.mode?r.mode:"local",r.collections||(r.collections={}),V6.forEach(i=>{r.collections[i]||(r.collections[i]=this.db?{instance:this.db.collection(i)}:{},r.collections[i].reference={})}),this.collections=r.collections,this.routes=[{route:"getUser",post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(this.debug&&console.log("getUser origin",s,o,"user found:",a),!a)return!1;let f;if(this.mode==="mongo")f=yield this.getMongoUser(a,o[0]);else{let d=this.getLocalData("user",{_id:o[0]});if(!d)f={user:{}};else if(yield this.checkAuthorization(a,d)){let v=this.getLocalData("group",{ownerId:o[0]}),y=this.getLocalData("authorization",{ownerId:o[0]});f={user:d,groups:v,authorizations:y}}else f={user:{}}}return this.debug&&console.log("getUser:",a,o[0],f),f})},{route:"setUser",aliases:["addUser"],post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode==="mongo")f=yield this.setMongoUser(a,o[0]);else return(yield this.checkAuthorization(a,o[0],"WRITE"))&&this.setLocalData(o[0]),!0;return this.debug&&console.log("setUser",a,o[0],f),f})},{route:"getUsersByIds",post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode==="mongo")f=yield this.getMongoUsersByIds(a,o[0]);else if(f=[],Array.isArray(o[0])){let d=this.getLocalData("user",{_id:o[0]});d&&f.push(d)}return this.debug&&console.log("getUserByIds:",a,o[0],f),f})},{route:"getUsersByRoles",post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoUsersByRoles(a,o[0]);else{let d=this.getLocalData("user");f=[],d.forEach(m=>{var v;((v=m.userRoles)==null?void 0:v.includes(o[0]))&&f.push(m)})}return this.debug&&console.log("getUserByRoles",a,o[0],f),f})},{route:"deleteUser",aliases:["removeUser"],post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode==="mongo")f=yield this.deleteMongoUser(a,o[0]);else{f=!1;let d=this.getLocalData(o[0]);d&&this.checkAuthorization(a,d,"WRITE")&&(f=this.deleteLocalData(d))}return this.debug&&console.log("deleteUser:",a,o[0],f),f})},{route:"setData",aliases:["setMongoData"],post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.setMongoData(a,o);else{let d=[];return f=[],yield Promise.all(o.map(m=>re(this,null,function*(){let v=this.getLocalData(m);(yield this.checkAuthorization(a,v,"WRITE"))&&(this.setLocalData(v),f.push(v),v.structType!=="notification"&&d.push(v))}))),d.length>0&&this.checkToNotify(a,d,this.mode),this.debug&&console.log("setData:",a,o,f),!0}return this.debug&&console.log("setData:",a,o,f),f})},{route:"getData",aliases:["getMongoData","getUserData"],post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoData(a,o[0],o[1],o[2],o[4],o[5]);else{f=[];let d;o[0]&&(d=this.getLocalData(o[0])),d&&o[1]&&(d=d.filter(m=>{if(m.ownerId===o[1])return!0})),d&&(yield Promise.all(d.map(m=>re(this,null,function*(){let v=this.getLocalData(m._id);(yield this.checkAuthorization(a,v))&&f.push(v)}))))}return this.debug&&console.log("getData:",a,o,f),f})},{route:"getDataByIds",aliases:["getMongoDataByIds","getUserDataByIds"],post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoDataByIds(a,o[0],o[1],o[2]);else{f=[];let d;o[2]&&(d=this.getLocalData(o[2])),d&&o[1]&&(d=d.filter(m=>{if(m.ownerId===o[1])return!0})),d&&(yield Promise.all(d.map(m=>re(this,null,function*(){let v=this.getLocalData(m._id);(yield this.checkAuthorization(a,v))&&f.push(v)}))))}return this.debug&&console.log("getDataByIds:",a,o,f),f})},{route:"getAllData",post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getAllUserMongoData(a,o[0],o[1]);else{let d=this.getLocalData(void 0,{ownerId:o[0]});f=[],yield Promise.all(d.map(m=>re(this,null,function*(){o[1]?o[1].indexOf(m.structType)<0&&(yield this.checkAuthorization(a,m))&&f.push(m):(yield this.checkAuthorization(a,m))&&f.push(m)})))}return this.debug&&console.log("getAllData:",a,o,f),f})},{route:"deleteData",post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;return this.mode.includes("mongo")?f=yield this.deleteMongoData(a,o):(f=!1,yield Promise.all(o.map(d=>re(this,null,function*(){let m=this.getLocalData(d);(yield this.checkAuthorization(a,m,"WRITE"))&&this.deleteLocalData(m),f=!0})))),this.debug&&console.log("deleteData:",a,o,f),f})},{route:"getGroup",aliases:["getGroups"],post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoGroups(a,o[0],o[1]);else if(typeof o[1]=="string")f=this.getLocalData("group",{_id:o[1]});else{f=[];let d=this.getLocalData("group");o[0]?d.forEach(m=>{m.users.includes(o[0])&&f.push(m)}):d.forEach(m=>{m.users.includes(a._id)&&f.push(m)})}return this.debug&&console.log("getGroups:",a,o,f),f})},{route:"setGroup",post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f=yield this.setGroup(a,o[0],this.mode);this.debug&&console.log("setGroup:",a,o,f)})},{route:"deleteGroup",post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.deleteMongoGroup(a,o[0]);else{let d=this.getLocalData("group",o[0]),m=!1;d&&(m=yield this.checkAuthorization(a,d,"WRITE")),m&&(f=!0)}return this.debug&&console.log("deleteGroup:",a,o,f),f})},{route:"setAuth",post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(console.log("users",s,a,JSON.stringify(i.USERS)),!a)return!1;let f=yield this.setAuthorization(a,o[0],this.mode);return this.debug&&console.log("deleteGroup:",a,o,f),f})},{route:"getAuths",post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.getMongoAuthorizations(a,o[0],o[1]);else if(o[1]){let d=this.getLocalData("authorization",{_id:o[1]});d&&(f=[d])}else f=this.getLocalData("authorization",{ownerId:o[0]});return this.debug&&console.log("deleteGroup:",a,o,f),f})},{route:"deleteAuth",post:(i,o,s)=>re(this,null,function*(){let a=i.USERS[s];if(!a)return!1;let f;if(this.mode.includes("mongo"))f=yield this.deleteMongoAuthorization(a,o[0]);else{f=!0;let d=this.getLocalData("authorization",{_id:o[0]});d&&this.checkAuthorization(a,d,"WRITE")&&(f=this.deleteLocalData(d))}return this.debug&&console.log("deleteGroup:",a,o,f),f})}]}notificationStruct(e={}){let r="notification";return{structType:r,timestamp:Date.now(),id:sn(r),note:"",ownerId:"",parentUserId:"",parent:{structType:e==null?void 0:e.structType,_id:e==null?void 0:e._id}}}checkToNotify(i){return re(this,arguments,function*(e,r=[],n=this.mode){if(typeof e=="string")for(let a in this.router.USERS){let f=this.router.USERS[a];f._id===e&&(e=f)}if(typeof e=="string"||e==null)return!1;let o={},s=[];if(r.forEach(a=>re(this,null,function*(){if((e==null?void 0:e._id)!==a.ownerId){let f=this.notificationStruct(a);f.id="notification_"+a._id,f.ownerId=a.ownerId,f.note=a.structType,f.parentUserId=a.ownerId,s.push(f),o[a.ownerId]=a.ownerId}if(a.users)a.users.forEach(f=>{if(f!==e._id){let d=this.notificationStruct(a);d.id="notification_"+a._id,d.ownerId=f,d.note=a.structType,d.parentUserId=a.ownerId,s.push(d),o[f]=f}});else{let f=[];if(n==="mongo"){let d=this.collections.authorizations.instance.find({$or:[{authorizedId:e._id},{authorizerId:e._id}]});(yield d.count())>0&&(yield d.forEach(m=>f.push(m)))}else f=this.getLocalData("authorization",{authorizedId:e._id}),f.push(...this.getLocalData("authorization",{authorizerId:e._id}));f.length>0&&f.forEach(d=>{if(a.authorizerId===a.ownerId&&!o[a.authorizedId]&&d.status==="OKAY"&&d.authorizations.indexOf("peer")>-1){let m=this.notificationStruct(a);m.ownerId=d.authorizedId,m.id="notification_"+a._id,m.note=a.structType,m.parentUserId=a.ownerId,s.push(m),o[m.ownerId]=m.ownerId}})}})),s.length>0){n==="mongo"?yield this.setMongoData(e,s):this.setLocalData(s);for(let a in o)this.router.sendMsg(a,"notifications",!0);return!0}else return!1})}setMongoData(n){return re(this,arguments,function*(e,r=[]){let i=!1;if(r.length>0){let o=!0,s="";if(yield Promise.all(r.map(a=>re(this,null,function*(){if(((e==null?void 0:e._id)!==a.ownerId||e._id===a.ownerId&&e.userRoles.includes("admin_control"))&&s!==a.ownerId&&(o=yield this.checkAuthorization(e,a,"WRITE"),s=a.ownerId),o){let f=JSON.parse(JSON.stringify(a));f._id&&delete f._id,a.id?a.id.includes("defaultId")?(yield this.db.collection(a.structType).insertOne(f),i=!0):yield this.db.collection(a.structType).updateOne({id:a.id},{$set:f},{upsert:!0}):a._id&&(a._id.includes("defaultId")?(yield this.db.collection(a.structType).insertOne(f),i=!0):yield this.db.collection(a.structType).updateOne({_id:Bt(a._id)},{$set:f},{upsert:!1}))}}))),i===!0){let a=[];return yield Promise.all(r.map((f,d)=>re(this,null,function*(){let m=JSON.parse(JSON.stringify(f));if(m._id&&delete m._id,f.structType!=="comment"){let v;f.structType!=="notification"&&(v=yield this.db.collection(m.structType).findOne(m)),v&&(v._id=v._id.toString(),a.push(v))}else if(f.structType==="comment"){let v=f,y=JSON.parse(JSON.stringify(v));y._id&&delete y._id;let w=yield this.db.collection("comment").findOne(y),b=v.replyTo,A=r.find(k=>{if(k._id===b)return!0});if(A){let k=JSON.parse(JSON.stringify(A));k._id&&delete k._id;let N;if(yield Promise.all(["discussion","chatroom","comment"].map(F=>re(this,null,function*(){let Y=yield this.db.collection(F).findOne({_id:Bt(b)});Y&&(N=Y)}))),N){let F=v.parent._id,Y,H;if(F!==b?(Y=r.find(L=>{if(L._id===F)return!0}),Y&&(delete Y._id,yield Promise.all(["discussion","chatroom"].map(L=>re(this,null,function*(){let V=yield this.db.collection(L).findOne(Y);V&&(H=V)}))))):H=N,N){let L=N.replies.indexOf(v._id);L>-1&&(N.replies[L]=w._id.toString(),w.replyTo=N._id.toString())}if(H){let L=H.comments.indexOf(v._id);L>-1&&(H.comments[L]=w._id.toString(),w.parent._id=H._id.toString())}let Z=[w,N];H._id.toString()!==N._id.toString()&&Z.push(H),yield Promise.all(Z.map(L=>re(this,null,function*(){let V=JSON.parse(JSON.stringify(L));delete V._id,yield this.db.collection(L.structType).updateOne({_id:Bt(L._id)},{$set:V},{upsert:!1})}))),[...a].reverse().forEach((L,V)=>{Z.find(S=>{if(L._id.toString()===S._id.toString())return!0})&&a.splice(a.length-V-1,1)}),a.push(...Z)}}else w&&a.push(w)}}))),this.checkToNotify(e,a),a}else{let a=[];return r.forEach(f=>{f.structType!=="notification"&&a.push(f)}),this.checkToNotify(e,a),!0}}else return!1})}setMongoUser(e,r){return re(this,null,function*(){if(r._id){if((e._id!==r.ownerId||e._id===r.ownerId&&e.userRoles.includes("admin_control"))&&!(yield this.checkAuthorization(e,r,"WRITE")))return!1;let n=JSON.parse(JSON.stringify(r));n._id&&delete n._id,this.router.DEBUG&&console.log("RETURNS PROFILE",r);let i=Bt(r._id),o=i!==r._id?{_id:i}:{id:r.id};return yield this.collections.users.instance.updateOne(o,{$set:n},{upsert:!0}),e=yield this.collections.users.instance.findOne(o),this.checkToNotify(e,[r]),e}else return!1})}setGroup(i){return re(this,arguments,function*(e,r={},n=this.mode){if(r._id){let o;if(n==="mongo"?o=yield this.collections.groups.instance.findOne({name:r.name}):o=this.getLocalData("group",{_id:r._id}),o&&(o.ownerId!==r.ownerId||r.admins.indexOf(e._id)<0)||e._id!==r.ownerId&&!(yield this.checkAuthorization(e,r,"WRITE")))return!1;let s=[];r.users.forEach(w=>{s.push({email:w},{id:w},{username:w})});let a=[],f=[];if(n==="mongo"){let w=this.collections.users.instance.find({$or:s});(yield w.count())>0&&(yield w.forEach(b=>{a.push(b),f.push(b._id)}))}else s.forEach(w=>{let b=this.getLocalData("user",w);b.length>0&&(a.push(b[0]),f.push(b[0]._id))});r.users=f;let d=[],m=[],v=[];a.forEach(w=>{r.admins.find((b,A)=>{if(b===w._id||b===w.email||b===w.username||w._id===r.ownerId)return d.indexOf(w._id<0)&&d.push(w._id),!0}),r.peers.find((b,A)=>{if(b===w._id||b===w.email||b===w.username)return m.indexOf(w._id<0)&&m.push(w._id),!0}),r.clients.find((b,A)=>{if(b===w._id||b===w.email||b===w.username)return v.indexOf(w._id<0)&&v.push(w._id),!0})}),r.admins=d,r.peers=m,r.clients=v;let y=JSON.parse(JSON.stringify(r));return y._id&&delete y._id,n==="mongo"?r._id.includes("defaultId")?yield this.db.collection(r.structType).insertOne(y):yield this.collections.groups.instance.updateOne({_id:Bt(r._id)},{$set:y},{upsert:!0}):this.setLocalData(r),this.checkToNotify(e,[r],this.mode),r}else return!1})}getMongoUser(e,r="",n=!1){return re(this,null,function*(){return new Promise(i=>re(this,null,function*(){let o=[{email:r},{id:r},{username:r}];try{o.push({_id:Bt(r)})}catch(a){}let s=yield this.collections.users.instance.findOne({$or:o});if(!s||s==null)i({});else if(!s._id&&s._id?s._id=s._id.toString():!s._id&&s._id&&(s._id=s._id),s.ownerId||(s.ownerId=s._id),s&&n===!1){(e._id!==s._id||e._id===s._id&&e.userRoles.includes("admin_control"))&&((yield this.checkAuthorization(e,s))||i(void 0));let a=[],f=this.collections.authorizations.instance.find({ownerId:s._id});(yield f.count())>0&&(yield f.forEach(v=>a.push(v)));let d=this.collections.groups.instance.find({users:{$all:[s._id]}}),m=[];(yield d.count())>0&&(yield d.forEach(v=>m.push(v))),s.authorizations=a,s.groups=m,i(s)}else i(s)}))})}getMongoUsersByIds(){return re(this,arguments,function*(e={},r=[]){let n=[];r.forEach(o=>{try{n.push({_id:Bt(o)})}catch(s){}});let i=[];if(n.length>0){let o=this.collections.users.instance.find({$or:n});(yield o.count())>0&&(yield o.forEach(s=>{i.push(s)}))}return i})}getMongoUsersByRoles(){return re(this,arguments,function*(e={},r=[]){let n=this.collections.users.instance.find({userRoles:{$all:r}}),i=[];return(yield n.count())>0&&(yield n.forEach(o=>{i.push(o)})),i})}getMongoDataByIds(e,r,n,i){return re(this,null,function*(){if(r.length>0){let o=[];r.forEach(a=>{let f={_id:a};n&&(f.ownerId=n),o.push(f)});let s=[];if(!i)yield Promise.all(Object.keys(this.collections).map(a=>re(this,null,function*(){let f=yield this.db.collection(a).find({$or:o});if((yield f.count())>0){let d=!0,m="";yield f.forEach(v=>re(this,null,function*(){(e._id!==v.ownerId||e._id===v.ownerId&&e.userRoles.includes("admincontrol"))&&m!==v.ownerId&&(d=yield this.checkAuthorization(e,v),m=v.ownerId),d&&s.push(v)}))}})));else{let a=yield this.db.collection(i).find({$or:o});if((yield a.count())>0){let f=!0,d="";yield a.forEach(m=>re(this,null,function*(){(e._id!==m.ownerId||e._id===m.ownerId&&e.userRoles.includes("admincontrol"))&&d!==m.ownerId&&(f=yield this.checkAuthorization(e,m),d=m.ownerId),f&&s.push(m)}))}}return s}})}getMongoData(a,f,d){return re(this,arguments,function*(e,r,n,i={},o=0,s=0){n||(n=i==null?void 0:i.ownerId),i._id&&(i._id=Bt(i._id));let m=[],v=!0,y="";if(!r&&!n&&!i)return[];if(!r&&n&&Object.keys(i).length===0)return yield this.getAllUserMongoData(e,n);if(!i&&n){let w=this.db.collection(r).find({ownerId:n}).sort({$natural:-1}).skip(s);o>0&&w.limit(o),(yield w.count())>0&&(yield w.forEach(b=>re(this,null,function*(){(e._id!==b.ownerId||e._id===b.ownerId&&e.userRoles.includes("admincontrol"))&&y!==b.ownerId&&(v=yield this.checkAuthorization(e,b),y=b.ownerId),v===!0&&m.push(b)})))}else if(Object.keys(i).length>0&&n){let w=yield this.db.collection(r).findOne(Wm({ownerId:n},i));w&&m.push(w)}else Object.keys(i).length>0&&!n&&(yield Promise.all(Object.keys(this.collections).map(w=>re(this,null,function*(){let b=yield this.db.collection(w).findOne(i);if(b){(e._id!==b.ownerId||e._id===b.ownerId&&e.userRoles.includes("admincontrol"))&&y!==b.ownerId&&(v=yield this.checkAuthorization(e,b),y=b.ownerId),m.push(b);return}}))));return v?m:[]})}getAllUserMongoData(i,o){return re(this,arguments,function*(e,r,n=[]){let s=[],a=!0,f="";return yield Promise.all(Object.keys(this.collections).map((d,m)=>re(this,null,function*(){if(a&&n.indexOf(d)<0){let v=this.db.collection(d).find({ownerId:r}),y=yield v.count();for(let w=0;w<y;w++){let b=yield v.next();(e._id!==r||e._id===r&&e.userRoles.includes("admincontrol"))&&f!==r&&(a=yield this.checkAuthorization(e,b),f=r),a&&s.push(b)}}}))),a?s:[]})}getMongoDataByRefs(n){return re(this,arguments,function*(e,r=[]){let i=[];if(i.length>0){let o="";r.forEach(s=>re(this,null,function*(){if(s.structType&&s._id){let a=yield this.db.collection(s.structType).findOne({_id:Bt(s._id)});if(a){let f=!0;if((e._id!==a.ownerId||e._id===a.ownerId&&e.userRoles.includes("admincontrol"))&&o!==a.ownerId){let d=yield this.checkAuthorization(e,a);o=a.ownerId}f===!0&&i.push(a)}}}))}return i})}getMongoAuthorizations(i){return re(this,arguments,function*(e,r=e._id,n=""){let o=[];if(n.length===0){let s=this.collections.authorizations.instance.find({ownerId:r});(yield s.count)>0&&(yield s.forEach(a=>{o.push(a)}))}else o.push(yield this.collections.authorizations.instance.findOne({_id:Bt(n),ownerId:r}));if(!(e._id!==o[0].ownerId&&!(yield this.checkAuthorization(e,o[0]))))return o})}getMongoGroups(i){return re(this,arguments,function*(e,r=e._id,n=""){let o=[];if(n.length===0){let s=this.collections.groups.instance.find({users:{$all:[r]}});(yield s.count)>0&&(yield s.forEach(a=>{o.push(a)}))}else try{o.push(yield this.collections.groups.instance.findOne({_id:Bt(n),users:{$all:[r]}}))}catch(s){}return o})}deleteMongoData(n){return re(this,arguments,function*(e,r=[]){let i=[];yield Promise.all(r.map(s=>re(this,null,function*(){try{let a=Bt(s._id),f=yield this.db.collection(s.structType).findOne({_id:a});if(f){i.push(f);let d=yield this.collections.notifications.instance.find({parent:{structType:s.structType,id:s._id}}),m=yield d.count();for(let v=0;v<m;v++){let y=yield d.next();y&&i.push(y)}}}catch(a){}})));let o="";return yield Promise.all(i.map((s,a)=>re(this,null,function*(){var d;let f=!0;(s.ownerId!==e._id||e._id===s.ownerId&&((d=e.userRoles)==null?void 0:d.includes("admincontrol")))&&s.ownerId!==o&&(o=s.ownerId,f=yield this.checkAuthorization(e,s,"WRITE")),f&&(yield this.db.collection(s.structType).deleteOne({_id:Bt(s._id)}),s.users&&s.users.forEach(m=>{m!==e._id&&m!==s.ownerId&&this.router.sendMsg(m,"deleted",s._id)}),s.ownerId!==e._id&&this.router.sendMsg(s.ownerId,"deleted",s._id))}))),!0})}deleteMongoUser(e,r){return re(this,null,function*(){if(e._id!==r||e._id===r&&e.userRoles.includes("admincontrol")){let n=yield this.collections.users.instance.findOne({id:r});if(!(yield this.checkAuthorization(e,n,"WRITE")))return!1}return yield this.collections.users.instance.deleteOne({id:r}),e._id!==r&&this.router.sendMsg(r,"deleted",r),!0})}deleteMongoGroup(e,r){return re(this,null,function*(){let n=yield this.collections.groups.instance.findOne({_id:Bt(r)});return n?(e._id!==n.ownerId||e._id===n.ownerId&&e.userRoles.includes("admincontrol"))&&!(yield this.checkAuthorization(e,n,"WRITE"))?!1:(n.users&&n.users.forEach(i=>{this.router.sendMsg(n.authorizerId,"deleted",n._id)}),yield this.collections.groups.instance.deleteOne({_id:Bt(r)}),!0):!1})}deleteMongoAuthorization(e,r){return re(this,null,function*(){let n=yield this.collections.authorizations.instance.findOne({_id:Bt(r)});return n?(e._id!==n.ownerId||e._id===n.ownerId&&e.userRoles.includes("admincontrol"))&&!(yield this.checkAuthorization(e,n,"WRITE"))?!1:(n.associatedAuthId&&(this.router.DEBUG&&console.log(n),yield this.collections.authorizations.instance.deleteOne({_id:Bt(n.associatedAuthId)}),n.authorizerId!==e._id?this.router.sendMsg(n.authorizerId,"deleted",n._id):n.authorizedId!==e._id&&this.router.sendMsg(n.authorizedId,"deleted",n._id)),yield this.collections.authorizations.instance.deleteOne({_id:Bt(r)}),!0):!1})}setAuthorization(i,o){return re(this,arguments,function*(e,r,n=this.mode){let s,a;if(n==="mongo"?(s=yield this.getMongoUser(e,r.authorizedId,!0),a=yield this.getMongoUser(e,r.authorizerId,!0)):(s=this.getLocalData("user",{_id:r.authorizedId}),a=this.getLocalData("user",{_id:r.authorizedId})),!s||!a||(r.authorizedId!==s._id&&(r.authorizedId=s._id),r.authorizerId!==a._id&&(r.authorizerId=a._id),r.authorizedName||(s.username?r.authorizedName=s.username:s.email&&(r.authorizedName=s.email)),r.authorizerName||(s.username?r.authorizerName=s.username:s.email&&(r.authorizerName=s.email)),(e._id!==r.ownerId||e._id===r.ownerId&&e.userRoles.includes("admincontrol"))&&e._id!==r.authorizedId&&e._id!==r.authorizerId&&!(yield this.checkAuthorization(e,r,"WRITE"))))return!1;let f=[];if(n==="mongo"){let v=this.collections.authorizations.instance.find({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId}]});(yield v.count())>0&&(yield v.forEach(y=>f.push(y)))}else{let v=this.getLocalData("authorization",{authorizedId:r.authorizedId});Array.isArray(v)&&v.forEach(y=>{y.authorizerId===r.authorizerId&&f.push(y)})}let d;Array.isArray(f)&&f.forEach(v=>re(this,null,function*(){if(v.ownerId!==e._id){r.authorizerId===e._id?(v.authorizations=r.authorizations,v.structIds=r.structIds,v.excluded=r.excluded,v.expires=r.expires,v.status="OKAY",r.status="OKAY"):(r.authorizations=v.authorizations,r.structIds=v.structIds,r.excluded=v.excluded,r.expires=v.expires,v.status="OKAY",r.status="OKAY"),r.associatedAuthId=v._id.toString(),v.associatedAuthId=r._id.toString(),d=v;let y=JSON.parse(JSON.stringify(v));this.mode.includes("mongo")?(delete y._id,yield this.collections.authorizations.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:v.ownerId}]},{$set:y},{upsert:!0})):this.setLocalData(y)}}));let m=JSON.parse(JSON.stringify(r));if(n==="mongo"?(delete m._id,yield this.collections.authorizations.instance.updateOne({$and:[{authorizedId:r.authorizedId},{authorizerId:r.authorizerId},{ownerId:r.ownerId}]},{$set:m},{upsert:!0})):this.setLocalData(m),r._id.includes("defaultId")&&n==="mongo"){let v=yield this.collections.authorizations.instance.findOne(m);if(v&&(r._id=v._id.toString(),d)){let y=yield this.collections.authorizations.instance.findOne({$and:[{authorizedId:d.authorizedId},{authorizerId:d.authorizerId},{ownerId:d.ownerId}]});y&&(y.associatedAuthId=r._id,delete y._id,yield this.collections.authorizations.instance.updateOne({$and:[{authorizedId:y.authorizedId},{authorizerId:y.authorizerId},{ownerId:y.ownerId}]},{$set:y},{upsert:!0}),this.checkToNotify(e,[y]))}}return r})}checkAuthorization(o,s){return re(this,arguments,function*(e,r,n="READ",i=this.mode){var m,v,y;if(!e||!r)return!1;if(typeof e=="object"){if(r.ownerId===e._id&&!((m=e.userRoles)==null?void 0:m.includes("admin_control")))return!0}else if(typeof e=="string"){if(r.ownerId===e)return!0;e={_id:e}}let a,f;if(i==="mongo"?(a=yield this.collections.authorizations.instance.findOne({$or:[{authorizedId:e._id,authorizerId:r.ownerId,ownerId:e._id},{authorizedId:r.ownerId,authorizerId:e._id,ownerId:e._id}]}),f=yield this.collections.authorizations.instance.findOne({$or:[{authorizedId:e._id,authorizerId:r.ownerId,ownerId:r.ownerId},{authorizedId:r.ownerId,authorizerId:e._id,ownerId:r.ownerId}]})):(a=this.getLocalData("authorization",{ownerId:e._id}).find(w=>{if(w.authorizedId===e._id&&w.authorizerId===r.ownerId)return!0}),f=this.getLocalData("authorization",{ownerId:r.ownerId}).find(w=>{if(w.authorizedId===e._id&&w.authorizerId===r.ownerId)return!0})),!a||!f)return!1;let d=!1;return a.status==="OKAY"&&f.status==="OKAY"&&(r.structType==="group"?a.authorizations.indexOf(r.name+"_admin")>-1&&f.authorizations.indexOf(r.name+"_admin")>-1?d=!0:d=!1:a.authorizations.indexOf("provider")>-1&&f.authorizations.indexOf("provider")>-1||a.authorizations.indexOf("peer")>-1&&f.authorizations.indexOf("peer")>-1||a.authorizations.indexOf("control")>-1&&f.authorizations.indexOf("control")>-1||((v=a.structIds)==null?void 0:v.indexOf(r._id))>-1&&((y=f.structIds)==null?void 0:y.indexOf(r._id))>-1?d=!0:a.excluded.indexOf(r.structType)>-1&&r.ownerId===e._id&&n==="WRITE"&&(d=!1)),d})}overwriteLocalData(e){if(Array.isArray(e))e.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:r._id});!n||(n==null?void 0:n.length)===0?this.setLocalData(r):Object.assign(n,r)});else{let r=this.getLocalData(e.structType,{ownerId:e.ownerId,_id:e._id});!r||(r==null?void 0:r.length)===0?this.setLocalData(e):Object.assign(r,e)}}setLocalData(e){let r=n=>{var s;let i=n.structType,o=(s=this.collections[i])==null?void 0:s.reference;o||(o={},this.collections[i]||(this.collections[i]={}),this.collections[i].reference=o),o[n._id]=n};Array.isArray(e)?e.forEach(n=>{r(n)}):r(e)}getLocalData(e,r){let n,i,o;if(typeof r=="object"?(n=r.ownerId,i=Object.keys(r).filter(f=>f!="ownerId")[0],o=r[i]):o=r,!e&&!n&&!i&&!o)return[];let s=[];if(!e&&(n||i))return Object.values(this.collections).forEach(a=>{if(a=a.reference,(i==="_id"||i==="id")&&o){let f=a[o];f&&s.push(f)}else Object.values(a).forEach(f=>{i&&o?f[i]===o&&f.ownerId===n&&s.push(f):f.ownerId===n&&s.push(f)})}),s;{let a=this.collections[e].reference;if(!a)return s;if(!i&&!n)return Object.values(a).forEach(f=>{s.push(f)}),s;if((i==="_id"||i==="id")&&o)return a[o];Object.keys(a).forEach(f=>{let d=a[f];i&&o&&!n?d[i]===o&&s.push(d):n&&!i?d.ownerId===n&&s.push(d):n&&i&&o&&d.ownerId===n&&d[i]&&d[i]===o&&s.push(d)})}return s}deleteLocalData(e){if(!e)throw new Error("Struct not supplied");return!e.structType||!e._id?!1:(this.collections[e.structType]&&delete this.collections[e.structType].reference[e._id],!0)}},J2=G2});var K2,gc,cp=rt(()=>{R2();j2();ys();Y2();K2=class extends ap{constructor(e={},r){super(r);this.tablet=new ip;this.collections=this.tablet.collections;this.id=sn();this.baseServerCallback=e=>{let r=e;if(typeof e=="object"&&(e==null?void 0:e.structType)&&(r=[e]),Array.isArray(e)){let n=r.filter(i=>{if(i.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(n),r.forEach(i=>{var o;(!i.structType||i.structType==="USER")&&(i.email?i.structType="user":i.structType="uncategorized"),i.structType==="user"||i.structType==="authorization"||i.structType==="group"?(i.structType==="user"&&(i._id=i.id),this.setLocalData(i)):i.structType==="notification"?(this.getLocalData("notification",{ownerId:i.ownerId,_id:i.parent._id})?this.setLocalData(i):this.getLocalData(i.structType,{_id:i.parent._id})||this.overwriteLocalData(i),i.ownerId===((o=this.currentUser)==null?void 0:o._id)&&(i.parent.structType==="user"||i.parent.structType==="dataInstance"||i.parent.structType==="schedule"||i.parent.structType==="authorization")&&this.resolveNotifications([i],!0)):this.overwriteLocalData(i)})}(e==null?void 0:e.message)==="notifications"&&this.checkForNotifications(),(e==null?void 0:e.message)==="deleted"&&this.deleteLocalData(e.id),this.onResult(e)};this.resolveNotifications=(...i)=>re(this,[...i],function*(e=[],r=!0,n=this.currentUser){if(!n||e.length===0)return;let o=[],s=[],a=[],f=!1;return e.length===0&&(e=this.getLocalData("notification",{ownerId:n._id})),e.forEach(d=>{d.parent.structType==="user"&&(f=!0),a.push(d.parent.structType),o.push(d.parent._id),s.push(d._id),this.deleteLocalData(d)}),this.deleteData(s),r&&(a.reverse().forEach((d,m)=>{d==="user"&&(this.getUser(s[m]),o.splice(o.length-m-1,1))}),o.length>0)?yield this.getDataByIds(o,n._id,"notification"):!0});this.getLocalUserPeerIds=(e=this.currentUser)=>{if(!e)return[];let r=[];return this.getLocalData("authorization",e._id).forEach(i=>{i.authorizations.indexOf("peer")>-1&&i.authorizerId===e._id&&r.push(i.authorizedId)}),r};this.authorizeUser=(v,...y)=>re(this,[v,...y],function*(e,r="",n="",i="",o="",s=[],a=[],f=[],d=[],m=!1){if(!e)return;let w=this.createStruct("authorization",void 0,e,void 0);return w.authorizedId=i,w.authorizedName=o,w.authorizerId=r,w.authorizerName=n,w.authorizations=s,w.structs=a,w.excluded=f,w.groups=d,w.expires=m,w.status="PENDING",w.associatedAuthId="",w.ownerId=e._id,w=yield this.setAuthorization(w),w});this.addGroup=(f,...d)=>re(this,[f,...d],function*(e,r="",n="",i=[],o=[],s=[],a=!0){if(!e)return;let m=this.createStruct("group",void 0,e);return m.name=r,m.details=n,m.admins=i,m.peers=o,m.clients=s,m.users=[...i,...o,...s],m.ownerId=e._id,a&&(m=yield this.setGroup(m)),m});this.addData=(f,...d)=>re(this,[f,...d],function*(e,r="",n="",i="",o=[],s=!1,a=!0){if(!e)return;let m=this.createStruct("dataInstance",void 0,e);return m.author=r,m.title=n,m.type=i,m.data=o,m.expires=s,m.ownerId=e._id,a&&(m=yield this.updateServerData([m])[0]),m});this.addEvent=(v,...y)=>re(this,[v,...y],function*(e,r="",n="",i="",o=0,s=0,a=0,f=[],d=[],m=!0){if(!e)return;d.length===0&&(d=this.getLocalUserPeerIds(e));let w=this.createStruct("event",void 0,e);return w.author=r,w.event=n,w.notes=i,w.startTime=o,w.endTime=s,w.grade=a,w.attachments=f,w.users=d,w.ownerId=e._id,m&&(w=yield this.updateServerData([w])[0]),w});this.addDiscussion=(d,...m)=>re(this,[d,...m],function*(e,r="",n="",i="",o="",s=[],a=[],f=!0){if(!e)return;a.length===0&&(a=this.getLocalUserPeerIds(e));let v=this.createStruct("discussion",void 0,e);v.topic=n,v.category=i,v.message=o,v.attachments=s,v.authorId=r,v.users=a,v.comments=[],v.replies=[],v.ownerId=e._id;let y=[v];return f&&(v=yield this.updateServerData(y)[0]),v});this.addChatroom=(a,...f)=>re(this,[a,...f],function*(e,r="",n="",i=[],o=[],s=!0){if(!e)return;o.length===0&&(o=this.getLocalUserPeerIds(e));let d=this.createStruct("chatroom",void 0,e);d.message=n,d.attachments=i,d.authorId=r,d.users=o,d.replies=[],d.comments=[],d.ownerId=e._id;let m=[d];return s&&(d=yield this.updateServerData(m)[0]),d});this.addComment=(f,d,m,...v)=>re(this,[f,d,m,...v],function*(e,r,n,i="",o="",s=[],a=!0){if(console.log("replyTo",n),n||(n=Object.assign({replies:[]},r)),console.log("replyTo",n),!e)return;let y=this.createStruct("comment",void 0,e,r);y.authorId=i,y.replyTo=n==null?void 0:n._id,y.message=o,y.attachments=s,y.users=r==null?void 0:r.users,y.replies=[],y.ownerId=e._id,a?n==null||n.replies.push(y._id):n==null||n.replies.push(y),a?r==null||r.comments.push(y._id):r==null||r.comments.push(y);let w=[y,r];return n._id!==r._id&&w.push(n),a&&(y=yield this.updateServerData(w)[0]),y});e instanceof Object&&Object.keys(e).length>0&&this.setupUser(e),this.load(new J2(this))}setupUser(e,r=n=>{}){return re(this,null,function*(){if(!e){console.error('must provide an info object! e.g. {_id:"abc123"}'),r(void 0);return}let n=!1;e.id&&(e._id=e.id);let i=yield this.getUser(e._id);console.log("user gotten",i);let o,s=!1;if(i==null?void 0:i._id){o=i.user;for(let a in e){let f=this.userStruct();if(o[a]&&a!=="_id")if(Array.isArray(e[a])){for(let d=0;d<o[a].length;d++)if(e[a].indexOf(o[a][d])<0){o[a]=e[a],n=!0;break}if(!n){for(let d=0;d<e[a].length;d++)if(o[a].indexOf(e[a][d])<0){o[a]=e[a],n=!0;break}}}else o[a]!==e[a]&&(o[a]=e[a],n=!0);else o[a]!==e[a]&&typeof f[a]=="string"&&a!=="_id"&&(o[a]=e[a],n=!0)}(i==null?void 0:i.authorizations)&&Array.isArray(i.authorizations)&&this.setLocalData(i.authorizations),(i==null?void 0:i.groups)&&Array.isArray(i.groups)&&this.setLocalData(i.groups)}else{o=this.userStruct(e,!0),s=!0;let a=yield this.setUser(o),f=this.getLocalData(void 0,{ownerId:o._id});(f==null?void 0:f.length)>0&&this.updateServerData(f,d=>{console.log("setData",d)}),this.setAuthorizationsByGroup(o)}if(s)this.currentUser=o,this.setLocalData(o);else{let a=yield this.getAllUserData(o._id,void 0);if(console.log("getServerData",a),!(!a||a.length===0)){this.setLocalData(a);let f=a.filter(y=>{if(y.structType==="notification"&&(this.getLocalData("authorization",y.parent._id)||y.parent.structType==="user"||y.parent.structType==="authorization"||!this.getLocalData(y.parent.structType,y.parent._id)))return!0}),d=a.filter(y=>{if(y.structType==="comment")return!0}),m=[];d.forEach(y=>{this.getLocalData("comment",{_id:y._id})||m.push(y._id)}),m.length>0&&this.deleteData(m),f.length>0&&(this.resolveNotifications(f,!1,void 0),n=!0);let v=a.filter(y=>{if(y.structType!=="notification")return!0});this.tablet&&this.tablet.sortStructsIntoTable(v)}this.setLocalData(o),console.log("currentUser",o),this.currentUser=o,console.log("collections",this.tablet.collections)}return o?(r(this.currentUser),this.currentUser):(r(o),o)})}onResult(e){}randomId(e=""){return`${e+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}addStruct(){return re(this,arguments,function*(e="struct",r={},n=void 0,i=void 0,o=!0){let s=wi.Struct(e,r,n,i);return o&&(s=yield this.updateServerData([s])[0]),s})}ping(e=r=>{console.log(r)}){return re(this,null,function*(){var n;let r=(n=yield this.send("ping"))==null?void 0:n[0];return e(r),r})}sendMessage(e="",r="",n=void 0,i=o=>{console.log(o)}){return re(this,null,function*(){var a;let o=[e,r];n&&(o[2]=n);let s=(a=yield this.send("sendMessage",...o))==null?void 0:a[0];return i(s),s})}getUser(){return re(this,arguments,function*(e="",r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/getUser",e))==null?void 0:i[0];return r(n),n})}getUsers(){return re(this,arguments,function*(e=[],r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/getUsers",...e))==null?void 0:i[0];return r(n),n})}getUsersByRoles(){return re(this,arguments,function*(e=[],r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/getUsersByRoles",e))==null?void 0:i[0];return r(n),n})}getAllUserData(i){return re(this,arguments,function*(e,r=[],n=this.baseServerCallback){var s;let o=(s=yield this.send("structs/getAllData",e,r))==null?void 0:s[0];return n(o),o})}getData(a,f,d){return re(this,arguments,function*(e,r,n,i=0,o=0,s=this.baseServerCallback){var v;let m=(v=yield this.send("structs/getData",e,r,n,i,o))==null?void 0:v[0];return s(m),m})}getDataByIds(){return re(this,arguments,function*(e=[],r,n,i=this.baseServerCallback){var s;let o=(s=yield this.send("structs/getDataByIdss",e,r,n))==null?void 0:s[0];return i(o),o})}getStructParentData(n){return re(this,arguments,function*(e,r=this.baseServerCallback){var s,a,f;if(!e.parent)return;let i=[(s=e.parent)==null?void 0:s.structType,"_id",(a=e.parent)==null?void 0:a._id],o=(f=yield this.send("structs/getData",...i))==null?void 0:f[0];return r(o),o})}setUser(){return re(this,arguments,function*(e={},r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/setUser",this.stripStruct(e)))==null?void 0:i[0];return r(n),n})}checkUserToken(i){return re(this,arguments,function*(e,r=this.currentUser,n=this.baseServerCallback){if(!e)return!1;let o=!1;for(let s in e){let a=this.userStruct();if(r[s]&&s!=="_id")if(Array.isArray(e[s])){for(let f=0;f<r[s].length;f++)if(e[s].indexOf(r[s][f])<0){r[s]=e[s],o=!0;break}if(!o){for(let f=0;f<e[s].length;f++)if(r[s].indexOf(e[s][f])<0){r[s]=e[s],o=!0;break}}}else r[s]!==e[s]&&(r[s]=e[s],o=!0);else!r[s]&&a[s]&&(r[s]=e[s],o=!0)}return o&&(yield this.setUser(r,n))})}updateServerData(){return re(this,arguments,function*(e=[],r=this.baseServerCallback){var o;let n=new Array;e.forEach(s=>{n.push(this.stripStruct(s))});let i=(o=yield this.send("structs/setData",...n))==null?void 0:o[0];return r(i),i})}deleteData(){return re(this,arguments,function*(e=[],r=this.baseServerCallback){var o;let n=[];e.forEach(s=>{(s==null?void 0:s.structType)&&(s==null?void 0:s._id)&&(n.push({structType:s.structType,_id:s._id}),this.deleteLocalData(s))}),console.log("deleting",n);let i=(o=yield this.send("structs/deleteData",...n))==null?void 0:o[0];return r(i),i})}deleteUser(n){return re(this,arguments,function*(e,r=this.baseServerCallback){var o;if(!e)return;let i=(o=yield this.send("structs/deleteUser",e))==null?void 0:o[0];return r(i),i})}setGroup(){return re(this,arguments,function*(e={},r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/setGroup",this.stripStruct(e)))==null?void 0:i[0];return r(n),n})}getGroups(){return re(this,arguments,function*(e=this.currentUser._id,r="",n=this.baseServerCallback){var o;let i=(o=yield this.send("structs/getGroups",e,r))==null?void 0:o[0];return n(i),i})}deleteGroup(n){return re(this,arguments,function*(e,r=this.baseServerCallback){var o;if(!e)return;this.deleteLocalData(e);let i=(o=yield this.send("structs/deleteGroup",e))==null?void 0:o[0];return r(i),i})}setAuthorization(){return re(this,arguments,function*(e={},r=this.baseServerCallback){var i;let n=(i=yield this.send("structs/setAuth",this.stripStruct(e)))==null?void 0:i[0];return r(n),n})}getAuthorizations(){return re(this,arguments,function*(e=(i=>(i=this.currentUser)==null?void 0:i._id)(),r="",n=this.baseServerCallback){var s;if(e===void 0)return;let o=(s=yield this.send("structs/getAuths",e,r))==null?void 0:s[0];return n(o),o})}deleteAuthorization(n){return re(this,arguments,function*(e,r=this.baseServerCallback){var o;if(!e)return;this.deleteLocalData(e);let i=(o=yield this.send("structs/deleteAuth",e))==null?void 0:o[0];return r(i),i})}checkForNotifications(){return re(this,arguments,function*(e=(r=>(r=this.currentUser)==null?void 0:r._id)()){return yield this.getData("notification",e)})}setAuthorizationsByGroup(){return re(this,arguments,function*(e=this.currentUser){let r=this.getLocalData("authorization",{ownerId:e._id});e.userRoles.forEach(n=>{let o=n.split("_")[0],s;n.includes("client")?s=o+"_peer":n.includes("peer")?s=o+"_client":n.includes("admin")&&(s=o+"_owner"),s&&this.getUsersByRoles([s],a=>{a==null||a.forEach(f=>{let d=f.username;d||(d=f.email),d||(d=f.id);let m=e.username;m||(m=e.email),m||(m=e.id),d!==m&&(n.includes("client")?r.find(y=>{if(y.authorizerId===f.id&&y.authorizedId===e.id)return!0})||this.authorizeUser(wi.ProfileStruct("user",e,e),f.id,d,e.id,m,["peer"],void 0,[n]):n.includes("peer")&&(r.find(y=>{if(y.authorizedId===f.id&&y.authorizerId===e.id)return!0})||this.authorizeUser(wi.ProfileStruct("user",e,e),e.id,m,f.id,d,["peer"],void 0,[n])))})})})})}deleteRoom(e){return re(this,null,function*(){var n;if(!e)return!1;let r=[e];return(n=e.comments)==null||n.forEach(i=>{let o=this.getLocalData("comment",{_id:i});r.push(o)}),e?yield this.deleteData(r):!1})}deleteComment(e){return re(this,null,function*(){var a,f,d;let r=[e],n=(m=e)=>{(m==null?void 0:m.replies)&&m.replies.forEach(v=>{let y=this.getLocalData("comment",{_id:v});y&&(y.replies.length>0&&y.replies.forEach(w=>{n(w)}),r.push(y))})};n(e);let i=this.getLocalData((a=e.parent)==null?void 0:a.structType,{_id:(f=e.parent)==null?void 0:f._id}),o=[];i&&(o=[i],r.forEach(m=>{var w,b;let v=(w=i.replies)==null?void 0:w.indexOf(m._id);v>-1&&i.replies.splice(v,1);let y=(b=i.comments)==null?void 0:b.indexOf(m._id);y>-1&&i.comments.splice(y,1)}));let s=this.getLocalData("comment",{_id:e.replyTo});if((s==null?void 0:s._id)!==(i==null?void 0:i._id)){let m=(d=s.replies)==null?void 0:d.indexOf(i._id);m>-1&&s.replies.splice(m,1),o.push(s)}return o.length>0&&(yield this.updateServerData(o)),yield this.deleteData(r)})}getUserDataByAuthorization(a,f,d){return re(this,arguments,function*(e,r,n,i=0,o=0,s=this.baseServerCallback){let m=e.authorizerId;if(m)return new Promise(v=>re(this,null,function*(){this.getUser(m,y=>re(this,null,function*(){r?yield this.getData(r,m,n,i,o,s):yield this.getAllUserData(m,["notification"],s),v(y),s(y)}))}))})}getUserDataByAuthorizationGroup(){return re(this,arguments,function*(e="",r,n,i=0,o=0,s=this.baseServerCallback){let a=this.getLocalData("authorization"),f=[];return yield Promise.all(a.map(d=>re(this,null,function*(){var m;if((m=d.groups)==null?void 0:m.includes(e)){let v=d.authorizerId;if(v){let y,w=yield this.getUser(v,s);w&&f.push(w),r?y=yield this.getData(r,v,n,i,o,s):y=yield this.getAllUserData(v,["notification"],s),y&&f.push(y)}return!0}}))),f})}overwriteLocalData(e){if(Array.isArray(e))e.forEach(r=>{let n=this.getLocalData(r.structType,{ownerId:r.ownerId,_id:r._id});!n||(n==null?void 0:n.length)===0?this.setLocalData(r):Object.assign(n,r)});else{let r=this.getLocalData(e.structType,{ownerId:e.ownerId,_id:e._id});!r||(r==null?void 0:r.length)===0?this.setLocalData(e):Object.assign(r,e)}}setLocalData(e){this.tablet.setLocalData(e)}getLocalData(e,r){return this.tablet.getLocalData(e,r)}getLocalReplies(e){let r=[];if(e.replies){if(e.replies.reduce((n,i)=>n*(typeof i=="object"?1:0),1))return e.replies}else return r;return r=this.getLocalData("comment",{replyTo:e._id}),r}hasLocalAuthorization(e,r=this.currentUser._id){let i=this.getLocalData("authorization",{ownerId:r}).find(o=>{if(o.authorizedId===r&&o.authorizerId===e||o.authorizerId===r&&o.authorizedId===e)return!0});return i||!1}deleteLocalData(e){return Array.isArray(e)?e.forEach(r=>this.deleteStruct(r)):this.deleteStruct(e),!0}deleteStruct(e){if(typeof e=="string"&&(e=this.getLocalData(e)),!e)throw new Error("Struct not supplied");return!e.structType||!e._id?!1:(this.tablet.collections.get(e.structType).delete(e._id),!0)}stripStruct(e={}){let r=Object.assign({},e);for(let n in r)(r[n]===void 0||r[n].constructor.name==="Map")&&delete r[n];return r}createStruct(e,r,n=this.currentUser,i){return wi.Struct(e,r,n,i)}userStruct(e={},r=!1){let n=wi.ProfileStruct(void 0,e,e);e._id?n.id=e._id:e.id?n.id=e.id:n.id="user"+Math.floor(Math.random()*1e10),n._id=n.id,n.ownerId=n.id;for(let i in e)Object.keys(wi.ProfileStruct()).indexOf(i)<0&&delete n[i];return r&&(this.currentUser=n),n}dataObject(e=void 0,r="any",n=Date.now()){return{type:r,data:e,timestamp:n}}},gc=K2});var nl,fp=rt(()=>{up();Qa();nl=class extends rl{constructor(e){super(e);this.responses=new Map;this.serviceType="subscription";this.subscribers=new Map;this.updateSubscribers=(e,r)=>{this.subscribers.forEach(n=>{Xa(r.route,!1).forEach(o=>{n.routes[o]&&(n==null?void 0:n.send)&&n.send(e.format(r))})})};this.add=(e,r)=>{throw"Add not implemented"};this.addResponse=(e,r)=>{this.responses.set(e,r)};this.removeResponse=e=>{e?this.responses.delete(e):this.responses=new Map};this.send=(e,r)=>re(this,null,function*(){throw"Send not implemented"})}}});var hp,vc,dp=rt(()=>{fp();Qa();hp=class extends nl{constructor(e){super(e);this.name="http";this.service="http";this.add=(e,r)=>new Promise(n=>{this.connection=new EventSource(dc("",r)),this.connection.onopen=()=>{this.connection.onmessage=i=>{let o=JSON.parse(i.data);o.route==="events/subscribe"&&n(o.message[0]),this.responses.forEach(s=>s(o))}}})}};hp.type="client";vc=hp});var wc,Z2=rt(()=>{wc={protocol:"http",hosturl:"localhost",port:"80",port2:"81",docusaurus:"3000"}});var pp,_c,yp=rt(()=>{fp();yc();Z2();pp=class extends nl{constructor(e,r={},n){super(e);this.name="websocket";this.service="websocket";this.connected=!1;this.sendQueue={};this.sockets=new Map;this.queue={};this.origin=`client${Math.floor(Math.random()*1e13)}`;this.encodeForSubprotocol=e=>{let r=[];return e._id&&(e.id=e._id,delete e._id),Object.keys(e).forEach(i=>r.push(`brainsatplay.com/${i}/${e[i]}?arr=`+Array.isArray(e[i]))),encodeURIComponent(r.join(";"))||void 0};this.add=(e,r)=>re(this,null,function*(){return this.addSocket(r,e)});this.send=(e,r={})=>new Promise(n=>{let i=d=>{r.callback&&r.callback(d),n(d)},o=""+Math.random();typeof e=="object"&&(Array.isArray(e)?e.splice(1,0,o):e.callbackId=o),this.queue[o]={resolve:n,suppress:e.suppress};let s,a=new URL(r.id);if(s=this.getSocket(a),!s)return;let f=()=>s.send(el(e),i);s.readyState===s.OPEN?f():(this.sendQueue[a.origin]||(this.sendQueue[a.origin]=[]),this.sendQueue[a.origin].push(f))});this.post=this.send;this.onmessage=e=>{let r;try{r=JSON.parse(e.data)}catch(o){r=e}console.log("WS Message",r);let n=()=>{this.responses.forEach((o,s)=>{o(r)})},i=r.callbackId;if(i){delete r.callbackId;let o=this.queue[i];(o==null?void 0:o.resolve)&&o.resolve(r),(o==null?void 0:o.suppress)||n(),delete this.queue[i]}else n(),this.defaultCallback(r)};this.defaultCallback=e=>{};this.isOpen=e=>{let r=this.getSocket(e);return r?r.readyState===1:!1};this.close=e=>{let r=this.getSocket(e);return r?r.close():!1};this.terminate=this.close;this.subprotocols=r,n&&this.addSocket(n,r)}addSocket(e=new URL(`${wc.protocol}://${wc.host}:${wc.port}`),r=this.subprotocols){let n;e instanceof URL||(e=new URL(e));let i=e.origin;try{if(e.protocol==="http:")n=new WebSocket("ws://"+e.host,this.encodeForSubprotocol(r));else if(e.protocol==="https:")n=new WebSocket("wss://"+e.host,this.encodeForSubprotocol(r));else{console.log("invalid protocol");return}return n.onmessage=this.onmessage,this.sockets.set(i,n),i}catch(o){console.error("Error with socket creation!",o);return}}getSocket(e){return typeof e=="string"&&(e=new URL(e)),e?this.sockets.get(e.origin):this.sockets.values().next().value}addCallback(e="",r=n=>{}){if(e.length>0&&!this.responses.has(e))this.responses.set(e,r);else return!1}removeCallback(e=""){this.responses.delete(e)}};pp.type="client";_c=pp});var lt,W6,q6,gs=rt(()=>{cp();dp();yp();lt=new gc,W6=new vc(lt),q6=new _c(lt);lt.load(W6,"http");lt.load(q6,"websockets")});var Q2,eS,X2,il,ol,mp=rt(()=>{Q2=Ft(di());Wa();p2();gs();eS=Ft(Ua()),X2=new bn(eS.settings.realmapp),il=(t,e)=>re(void 0,null,function*(){let{currentUser:r}=X2,n="LOG_IN";if(r)try{yield r.refreshAccessToken(),n="REFRESH"}catch(i){return{type:"FAIL",data:{err:i,type:"REFRESH"}}}else{let i;try{t==="google"?(yield(0,Q2.wait)(0),i=Yt.google({redirectUrl:window.location.origin})):t&&(i=Yt.emailPassword(t,e))}catch(o){console.error(o)}if(i)try{let o=yield X2.logIn(i);o&&(yield o.refreshAccessToken(),r=o)}catch(o){return{type:"FAIL",data:{err:o,type:"LOGIN"}}}}return r?{type:n,data:r.toJSON()}:{type:"FAIL",data:{err:void 0,type:"UNCAUGHT"}}}),ol=t=>re(void 0,null,function*(){var n,i;let e=!1,r;if((t==null?void 0:t.type)!=="FAIL"&&((t==null?void 0:t.data).id||(t==null?void 0:t.data)._id?r=lt.setupUser(t.data):((i=(n=t==null?void 0:t.data)==null?void 0:n.profile)==null?void 0:i.data)._id&&(r=lt.setupUser(t.data.profile.data))),r){let o=yield r;if(o)return e=!0,Hr.setState({isLoggedIn:!0,loggedInId:o._id}),console.log("Logged in: ",o),o}e||(console.log("User not created with info:",t.data),Hr.get("isLoggedIn")&&Hr.setState({isLoggedIn:!1}))});window.location.href.includes("_baas_client_app_id")&&d2()});function Ut(t="struct",e={},r={_id:""},n={structType:"struct",_id:""}){function i(s=""){return`${s+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}let o={_id:i(t+"defaultId"),structType:t,ownerId:r?._id,timestamp:Date.now(),parent:{structType:n?.structType,_id:n?._id}};return o.ownerId||delete o.ownerId,o?.parent?._id||delete o.parent,Object.keys(e).length>0&&Object.assign(o,e),o}function Sc(t,e={}){if(!lo[t.tag]&&t.position&&(lo[t.tag]=[t.position.x,t.position.y,t.position.z]),lo[t.tag]){let r={channel:"",position:{x:lo[t.tag][0],y:lo[t.tag][1],z:lo[t.tag][2]}};return Object.assign(e,r)}else return Object.assign(e,t)}function H6(t=[],e=!0){let r=[];for(let n of t){let i=_i(n);r.push(i)}return e&&r.push(...vp({channelDicts:t})),r}function Ec(t=[],e={}){let r={scp:[],delta:[],theta:[],alpha1:[],alpha2:[],beta:[],lowgamma:[],highgamma:[]};return t.forEach(n=>r[n]=[]),Object.assign(e,r)}function _i(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Ec(),o={tag:t,position:{x:0,y:0,z:0},count:0,times:[],raw:[],filtered:[],fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Ut("eeg",o,r,n);return t&&Sc(o,s),Object.assign(s,e)}function gp(t={0:_i("FP1"),1:_i("FP2")},e={},r={_id:""},n={structType:"struct",_id:""}){let i=Ec(),o={tag:t[0]?.tag+"::"+t[1]?.tag,x0:t[0]?.position?.x,y0:t[0]?.position?.y,z0:t[0]?.position?.z,x1:t[1]?.position?.x,y1:t[1]?.position?.y,z1:t[1]?.position?.z,fftCount:0,fftTimes:[],ffts:[],slices:JSON.parse(JSON.stringify(i)),means:JSON.parse(JSON.stringify(i)),startTime:Date.now()},s=Ut("coherence",o,r,n);return Object.assign(s,e)}function vp(t={channelDicts:[{ch:0,tag:"FP1",analyze:!1},{ch:1,tag:"FP2",analyze:!1}],taggedOnly:!0},e={},r={_id:""},n={structType:"struct",_id:""}){for(var i=[],o=1,s=0,a=0;a<t.channelDicts.length*(t.channelDicts.length+1)/2-t.channelDicts.length;a++){if(t.taggedOnly===!1||t.taggedOnly===!0&&t.channelDicts[s].tag!==null&&t.channelDicts[s+o].tag!==null&&t.channelDicts[s].tag!=="other"&&t.channelDicts[s+o].tag!=="other"&&t.channelDicts[s].analyze===!0&&t.channelDicts[s+o].analyze===!0){var f=_i(t.channelDicts[s].tag),d=_i(t.channelDicts[s+o].tag);i.push(gp({0:f,1:d},{},r,n))}o++,o+s===t.channelDicts.length&&(s++,o=1)}return i}function wp(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,position:{x:0,y:0,z:0},count:0,times:[],red:[],ir:[],ir2:[],ambient:[],ratio:[],temp:[],beat_detect:{beats:[],breaths:[],rir:[],rir2:[],drir_dt:[],localmins:[],localmaxs:[],val_dists:[],peak_dists:[],localmins2:[],localmaxs2:[],val_dists2:[],peak_dists2:[]},startTime:Date.now()},o=Ut("fnirs",i,r,n);return t&&Sc(i,o),Object.assign(o,e)}function nS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,Ax:[],Ay:[],Az:[],Gx:[],Gy:[],Gz:[],startTime:Date.now()},o=Ut("imu",i,r,n);return t&&Sc(i,o),Object.assign(o,e)}function iS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],x:[],y:[],smax:[],smay:[],startTime:Date.now()},o=Ut("eyetracker",i,r,n);return Object.assign(o,e)}function _p(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,count:0,times:[],raw:[],filtered:[],bpm:[],hrv:[],startTime:Date.now()},o=Ut("ecg",i,r,n);return Object.assign(o,e)}function oS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){}function sS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=wp(t,r,n,e);return i.structType="ppg",i}function aS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=_p(t,r,n,e);return i.structType="hrv",i}function lS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=_i(t,r,n,e);return i.structType="emg",i}function uS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Ut("profile",{tag:t,name:"",username:"",firstName:"",lastName:"",email:"",sex:"",birthday:"",type:"",userRoles:[],id:""},r,n);return Object.assign(i,e)}function cS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,authorizedId:"",authorizedName:"",authorizerId:"",authorizerName:"",authorizations:new Array,structs:new Array,excluded:new Array,groups:new Array,status:"PENDING",expires:!1,associatedAuthId:""},o=Ut("authorization",i,r,n);return Object.assign(o,e)}function fS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,name:"",details:"",admins:new Array,peers:new Array,clients:new Array,users:new Array},o=Ut("group",i,r,n);return Object.assign(o,e)}function hS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",expires:!1,type:"",data:new Array},o=Ut("dataInstance",i,r,n);return Object.assign(o,e)}function dS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,event:"",author:"",startTime:"",endTime:"",grade:0,notes:"",attachments:new Array,users:new Array},o=Ut("event",i,r,n);return Object.assign(o,e)}function pS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,message:"",topic:"",author:"",attachments:new Array,comments:new Array,replies:new Array,users:new Array,audioChatActive:!1,videoChatActive:!1},o=Ut("chatroom",i,r,n);return Object.assign(o,e)}function yS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,author:"",replyTo:"",message:"",rating:0,replies:new Array,users:new Array,attachments:new Array},o=Ut("comment",i,r,n);return Object.assign(o,e)}function mS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i=Ut("notification",{tag:t,note:"",parentUserId:""},r,n);return Object.assign(i,e)}function gS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,title:"",author:"",attachments:new Array,dates:new Array},o=Ut("schedule",i,r,n);return Object.assign(o,e)}function vS(t="",e={},r={_id:""},n={structType:"struct",_id:""}){let i={tag:t,timeSet:"",notes:"",recurs:"NEVER",attachments:new Array},o=Ut("date",i,r,n);return Object.assign(o,e)}function nk(t=[],e={scp:[.1,1],delta:[1,4],theta:[4,8],alpha1:[8,12],alpha2:[12,16],beta:[16,30],lowgamma:[30,45],highgamma:[45,100]}){let r={};return t.forEach((n,i)=>{for(let o in e)r[o]||(r[o]=[[],[]]),n>=e[o][0]&&n<=e[o][1]&&(r[o][0].push(n),r[o][1].push(i))}),r}function sk(t,e,r){let n=(e-t)/r,i=[],o=0;for(;o<e;)i.push(o),o+=n;return i}var tS,$6,rS,He,jn,lo,G6,J6,uo,Me,Y6,K6,Z6,X6,Q6,ek,tk,rk,ik,ok,Sp=rt(()=>{tS=Object.defineProperty,$6=(t,e,r)=>e in t?tS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rS=(t,e)=>{for(var r in e)tS(t,r,{get:e[r],enumerable:!0})},He=(t,e,r)=>($6(t,typeof e!="symbol"?e+"":e,r),r),jn={};rS(jn,{AuthorizationStruct:()=>cS,ChatroomStruct:()=>pS,CoherenceMap:()=>vp,CoherenceStruct:()=>gp,CommentStruct:()=>yS,DataStruct:()=>hS,DateStruct:()=>vS,ECGStruct:()=>_p,EDAStruct:()=>oS,EEGCoordinates:()=>H6,EEGStruct:()=>_i,EMGStruct:()=>lS,EventStruct:()=>dS,EyeTrackerStruct:()=>iS,FNIRSStruct:()=>wp,FrequencyBandsStruct:()=>Ec,GroupStruct:()=>fS,HRVStruct:()=>aS,IMUStruct:()=>nS,NotificationStruct:()=>mS,PPGStruct:()=>sS,ProfileStruct:()=>uS,ScheduleStruct:()=>gS,Struct:()=>Ut,eegCoordinates:()=>lo,setCoordinate:()=>Sc,structRegistry:()=>G6});lo={FP1:[-21.2,66.9,12.1],FPZ:[1.4,65.1,11.3],FP2:[24.3,66.3,12.5],AF7:[-41.7,52.8,11.3],AF3:[-32.7,48.4,32.8],AFZ:[1.8,54.8,37.9],AF4:[35.1,50.1,31.1],AF8:[43.9,52.7,9.3],F5:[-51.4,26.7,24.7],F3:[-39.7,25.3,44.7],F1:[-22.1,26.8,54.9],FZ:[0,26.8,60.6],F2:[23.6,28.2,55.6],F4:[41.9,27.5,43.9],F6:[52.9,28.7,25.2],F7:[-52.1,28.6,3.8],F8:[53.2,28.4,3.1],FC5:[-59.1,3,26.1],FC3:[-45.5,2.4,51.3],FC1:[-24.7,.3,66.4],FCZ:[1,1,72.8],FC2:[26.1,3.2,66],FC4:[47.5,4.6,49.7],FC6:[60.5,4.9,25.5],FT9:[-53.8,-2.1,-29.1],FT7:[-59.2,3.4,-2.1],FT8:[60.2,4.7,-2.8],FT10:[55,-3.6,-31],T7:[-65.8,-17.8,-2.9],T5:[-61.5,-65.3,1.1],T3:[-70.2,-21.3,-10.7],T4:[71.9,-25.2,-8.2],T6:[59.3,-67.6,3.8],T8:[67.4,-18.5,-3.4],C5:[-63.6,-18.9,25.8],C3:[-49.1,-20.7,53.2],C1:[-25.1,-22.5,70.1],CZ:[.8,-21.9,77.4],C2:[26.7,-20.9,69.5],C4:[50.3,-18.8,53],C6:[65.2,-18,26.4],CP5:[-61.8,-46.2,22.5],CP3:[-46.9,-47.7,49.7],CP1:[-24,-49.1,66.1],CPZ:[.7,-47.9,72.6],CP2:[25.8,-47.1,66],CP4:[49.5,-45.5,50.7],CP6:[62.9,-44.6,24.4],TP9:[-73.6,-46.7,-4],TP7:[-63.6,-44.7,-4],TP8:[64.6,-45.4,-3.7],TP10:[74.6,-47.4,-3.7],P9:[-50.8,-51.3,-37.7],P7:[-55.9,-64.8,0],P5:[-52.7,-67.1,19.9],P3:[-41.4,-67.8,42.4],P1:[-21.6,-71.3,52.6],PZ:[.7,-69.3,56.9],P2:[24.4,-69.9,53.5],P4:[44.2,-65.8,42.7],P6:[54.4,-65.3,20.2],P8:[56.4,-64.4,.1],P10:[51,-53.9,-36.5],PO7:[-44,-81.7,1.6],PO3:[-33.3,-84.3,26.5],POZ:[0,-87.9,33.5],PO4:[35.2,-82.6,26.1],PO8:[43.3,-82,.7],O1:[-25.8,-93.3,7.7],OZ:[.3,-97.1,8.7],O2:[25,-95.2,6.2]};G6={Struct:Ut,EEGStruct:_i,FNIRSStruct:wp,CoherenceStruct:gp,CoherenceMap:vp,FrequencyBandsStruct:Ec,IMUStruct:nS,EyeTrackerStruct:iS,ECGStruct:_p,EDAStruct:oS,PPGStruct:sS,HRVStruct:aS,EMGStruct:lS,ProfileStruct:uS,AuthorizationStruct:cS,GroupStruct:fS,DataStruct:hS,EventStruct:dS,ChatroomStruct:pS,CommentStruct:yS,NotificationStruct:mS,ScheduleStruct:gS,DateStruct:vS},J6={};rS(J6,{bandpassWindow:()=>sk,get40HzGamma:()=>ek,getAlphaBetaRatio:()=>X6,getAlphaRatio:()=>K6,getAlphaThetaRatio:()=>Q6,getCoherenceScore:()=>Y6,getHEGRatioScore:()=>rk,getLowGammaScore:()=>tk,getThetaBetaRatio:()=>Z6,mapCoherenceData:()=>ok,mapFFTData:()=>ik,splitFrequencyBands:()=>nk});uo=class{constructor(){}static genSineWave(t=20,e=1,r=1,n=512,i=0,o=1){for(var s=[],a=[],f=1/n,d=0;d<r;d+=f){var m=Math.sin(2*Math.PI*t*d)*e;m+=Math.sin(2*Math.PI*i*d)*o,s.push(m),a.push(d)}return[a,s]}static getSineAmplitude(t=20,e=1,r=0,n=0){return Math.sin(this.TWO_PI*t*r+n)*e}static mean(t){var e=t.reduce((r,n)=>n+=r);return e/t.length}static mode(t){return t.sort((e,r)=>t.filter(n=>n===e).length-t.filter(n=>n===r).length).pop()}static std(t,e=void 0){let r=e;e||(r=this.mean(t));let n=0;for(let i=0;i<t.length;i++){let o=t[i]-r;n+=o*o}return Math.sqrt(n/t.length)}static relError(t=[],e=[],r=!0){if(t.length!==e.length)throw new Error("Input arrays of same length!");let n=t.length,i=[];for(let o=0;o<n;o++){let s=(t[o]-e[o])/t[o];r&&(s=Math.abs(s)),i.push(s)}return i}static informationEntropy(t=[]){let e=[],r=t.length;for(let n=0;n<r;n++){let i=t[n]*Math.log(t[n]);isNaN(i)&&(i=0),e.push(i)}return e}static zscore(t){let e=this.mean(t),r=this.std(t,e),n=[];for(let i=0;i<t.length;i++)n.push((t[i]-e)/r);return n}static variance(t){var e=this.mean(t);return t.reduce((r,n)=>r+(n-e)**2,0)/t.length}static dot(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}static cross3D(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}static magnitude(t){var e=0;return t.forEach(r=>{e+=r*r}),Math.sqrt(e)}static distance(t,e){var r=0;return t.forEach((n,i)=>{r+=(e[i]-n)*(e[i]-n)}),Math.sqrt(r)}static normalize(t){var e=0;e=this.magnitude(t);var r=[];return t.forEach((n,i)=>{r.push(n*e)}),r}static quadraticFormula(t,e,r){let n=Math.sqrt(e*e-4*t*r);if(!isNaN(n))return["complex","complex"];let i=1/(2*t);if(n===0)return[e*i];let o=-e;return[(o+n)*i,(o-n)*i]}static newtonsMethod(t=o=>Math.pow(o,5)+o*o-o-.2,e=0,r=1,n=.01,i=10){let o=[];for(let s=0;s<i;s++){let a=Math.random()*(r-e),f=t(a),d=t(a+n),m=(d-f)/n,v=a+n;for(;Math.abs(m)>n;){let b=-f/k,A=v+b;f=d,d=t(A);let k=(d-f)/(A-v)}let y,w=o.find((b,A)=>{if(Math.abs(xn1-b)<n)return y=A,!0});w?o[y]=(xn1+w)*.5:o.push(xn1)}return o}static makeVec(t,e){var r=[];return t.forEach((n,i)=>{r.push(e[i]-n)}),r}static transpose(t){return t[0].map((e,r)=>t.map(n=>n[r]))}static matmul(t,e){for(var r=t.length,n=t[0].length,i=e.length,o=e[0].length,s=new Array(r),a=0;a<r;++a){s[a]=new Array(o);for(var f=0;f<o;++f){s[a][f]=0;for(var d=0;d<n;++d)s[a][f]+=t[a][d]*e[d][f]}}return s}static matscale(t,e){let r=[];for(var n=0;n<t.length;n++){r[n]=[];for(let i=0;i<t[0].length;i++)r[n][i]=t[n][i]*e}return r}static matadd(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]+e[i][n]}return r}static matsub(t,e){let r=[];for(let i=0;i<t.length;i++){r[i]=[];for(var n=0;n<t[0].length;n++)r[i][n]=t[i][n]-e[i][n]}return r}static histogram(t=[],e=1,r=void 0){let n=[...t];n.sort(function(f,d){return f-d});let i=Math.min(...n);if(typeof r=="number"){let f=Math.max(...n);e=Math.abs((f-i)/(r-1))}let o=i,s=[],a=[];for(let f=0;f<n.length;f++){let d=e*o;if(n[f]>i+d){o++,d+=e;let m=i+d+d*.5;s.push(m),a.push(0)}a[a.length-1]++}return[s,a]}static normalDistribution(t=[],e=!0,r=1e-4){let n=this.mean(t),i=this.variance(t),o=t.length,s=[],a=1/(this.TWO_PI*i),f=1/i,d=0;for(let m=0;m<o;m++){let v=Math.exp(-.5*Math.pow((t[m]-n)*f,2))*a;v<r&&(v=0),s.push(v),d+=v}if(e){let m=1/d;s=s.map(v=>v*m)}return s}static expectedValue(t=[],e=this.normalDistribution(t)){return t.reduce((r,n,i)=>r+n*e[i])}static originMoment(t=[],e=this.normalDistribution(t),r=1){return t.reduce((n,i,o)=>n+Math.pow(i,r)*e[o])}static centralMoment(t=[],e=this.normalDistribution(t),r=1){let n=this.mean(t);return t.reduce((i,o,s)=>i+Math.pow(o-n,r)*e[s]/t.length)}static linearDiscriminantAnalysis(t=[],e=[]){let r=this.mean(t),n=this.mean(e),i=this.cov1d(t,e),o=this.normalDistribution(t),s=[];for(let a=0;a<t.length;a++)s.push(x[a]*i*n-.5*r*i*n+Math.log10(o[a]));return s}static conv1D(t=[],e=[1/3,1/3,1/3],r=Math.floor(e.length*.5)){let n=[],i=1/e.length;if(r>0){let a=new Array(r).fill(0);t=[...a,...t,...a]}let o=Math.floor(e.length*.5),s=t.length-e.length+o;for(let a=o;a<s;a++){let f=0;for(let d=0;d<e.length;d++)f+=t[a-o]*e[d];n.push(f*i)}return n}static conv2D(t=[[],[],[]],e=[[],[],[]],r=0){let n=new Array(t.length-Math.ceil(e.length*.5)).fill([]),i,o=uo.transpose(o);if(r>0){let A=new Array(r).fill(0);i=uo.transpose(t);for(let k=0;k<i.length;k++)i[k]=[...A,...i[k],...A];t=uo.transpose(i);for(let k=0;k<t.length;k++)t[k]=[...A,...t[k],...A]}let s=Math.floor(e[0].length*.5),a=Math.floor(o[0].length*.5),f=t[0].length-e[0].length+s,d=i[0].length-o[0].length+a,m=1/(e[0].length*o[0].length),v=f*d,y=s,w,b=a;for(;y<v;){let A=0;w=y%t[0].length,w===0&&b++;for(let k=0;k<e[0].length;k++){for(let N=0;N<o[0].length;k++)A+=t[b-a+N][w-s+k]*e[N][k];n[b].push(A*m)}y++}return n}static cov2d(t){var e=this.transpose(t),r=[],n=[],i=[];t.forEach((b,A)=>{n.push(this.mean(b))}),e.forEach((b,A)=>{i.push(this.mean(b))}),t.forEach((b,A)=>{r.push([]);for(var k=0;k<b.length;k++)r[A].push((t[A][k]-n[A])*(t[A][k]-i[k])/(b.length-1))});for(var o=this.transpose(r),s=r.length,a=r[0].length,f=o.length,d=o[0].length,m=new Array(s),v=0;v<s;++v){m[v]=new Array(d);for(var y=0;y<d;++y){m[v][y]=0;for(var w=0;w<a;++w)m[v][y]+=r[v][w]*o[w][y]/(t[0].length-1)}}return m}static cov1d(t=[],e=[]){return this.cov2d([t,e])}static cov3d(t=[],e=[],r=[]){return[[this.cov1d(t,t),this.cov1d(t,e),this.cov1d(t,r)],[this.cov1d(e,t),this.cov1d(e,e),this.cov1d(e,r)],[this.cov1d(r,t),this.cov1d(r,e),this.cov1d(r,r)]]}static covNd(t=[]){let e=[];t.forEach((r,n)=>{e.push([]),t.forEach((i,o)=>{e[n].push(this.cov1d(r,i))})})}static eigens2x2(t=[[1,2],[3,4]]){let e=t[0][0]*t[1][1]-t[0][1]*t[1][0],r=(t[0][0]+t[1][1])*.5,n=Math.sqrt(r*r-e),i=r+n,o=r-n;return[i,o]}static eigenvectors2x2(t=[[1,2],[3,4]],e=[1,2]){let r=[-t[0][1],t[0][0]-e[0]];r[0]===0&&r[1]===0&&(r[0]=t[1][1]-e[0],r[1]=-t[1][0]);let n=[-t[0][1],t[0][0]-e[1]];return n[0]===0&&n[1]===0&&(n[0]=t[1][1]-e[1],n[1]=-t[1][0]),[r,n]}static fastpca2d(t,e){let r=this.cov1d(t,e),n=this.eigens2x2(r);n[1]>n[0]&&n.reverse();let i=this.eigenvectors2x2(r,n);return console.log(n,i),[n,i]}static crosscorrelation(t,e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(t),i=this.mean(e),o=t.reduce((v,y)=>v+=Math.pow(y-n,2));o=Math.sqrt(o);var s=e.reduce((v,y)=>v+=Math.pow(y-n,2));s=Math.sqrt(s);for(var a=1/(o*s),f=new Array(t.length).fill(0),d=0;d<t.length;d++){var m=t.reduce((v,y,w)=>v+=(y-n)*(r[d+w]-i));f[d]=m*a}return f}static autocorrelation(t){var e=[...t,...Array(t.length).fill(0)],r=this.mean(t),n=t.reduce((f,d)=>f+=Math.pow(d-r,2));n=Math.sqrt(n);for(var i=1/(n*n),o=new Array(t.length).fill(0),s=0;s<t.length;s++){var a=t.reduce((f,d,m)=>f+=(d-r)*(e[s+m]-r));o[s]=a*i}return o}static correlograms(t=[[],[]]){var e=[];return t.forEach((r,n)=>{t.forEach((i,o)=>{o>=n&&e.push(uo.crosscorrelation(r,i))})}),e}static sma(t=[],e){for(var r=[],n=0;n<t.length;n++)if(n==0)r.push(t[0]);else if(n<e){var i=t.slice(0,n+1);r.push(i.reduce((o,s)=>s+=o)/(n+1))}else{var i=t.slice(n-e,n);r.push(i.reduce((s,a)=>a+=s)/e)}return r}static sum(t=[]){if(t.length>0){var e=t.reduce((r,n)=>n+=r);return e}else return 0}static reduceArrByFactor(t,e=2){return t.filter((r,n)=>n%e===0)}static makeArr(t,e,r){for(var n=[],i=(e-t)/(r-1),o=0;o<r;o++)n.push(t+i*o);return n}static interpolateArray(t,e,r=1){var n=function(v,y,w){return(v+(y-v)*w)*r},i=new Array,o=new Number((t.length-1)/(e-1));i[0]=t[0];for(var s=1;s<e-1;s++){var a=s*o,f=new Number(Math.floor(a)).toFixed(),d=new Number(Math.ceil(a)).toFixed(),m=a-f;i[s]=n(t[f],t[d],m)}return i[e-1]=t[t.length-1],i}static isExtrema(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}else if(e==="valley"){if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}else if(i<Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o<=r[Math.floor(r.length*.5)]){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}else if(i>Math.floor(r.length*.5)&&o>=r[Math.floor(r.length*.5)]){n=!1;break}}}return n}else return}static isCriticalPoint(t,e="peak"){let r=[...t];if(r.length%2===0&&r.pop(),t.length>1){let n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(e==="peak"){if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}else if(e==="valley"){if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}else if(i<r.length*.5&&o>=0){n=!1;break}else if(i>r.length*.5&&o<0){n=!1;break}}if(e!=="peak"&&e!=="valley"&&n===!1){n=!0;for(let i=0;i<r.length;i++){let o=r[i];if(i<r.length*.5&&o<=0){n=!1;break}else if(i>r.length*.5&&o>0){n=!1;break}}}return n}else return}static getPeakThreshold(t,e,r){let n,i=t.filter((o,s)=>{if(e.indexOf(s)>-1)return!0});return r===0?n=this.mean(i):n=(r+this.mean(i))*.5,n}static column(t,e){let r=new Array(t.length).fill(0).map(()=>new Array(1).fill(0));for(let n=0;n<t.length;n++)r[n][0]=t[n][e];return r}static flatten_vector(t){let e=[];for(let r=0;r<t.length;r++)e[r]=t[r][0];return e}static squared_difference(t,e){let r=0;for(let n=0;n<t.length;n++)r=r+Math.pow(t[n]-e[n],2);return r}static shift_deflate(t,e,r){let n=Math.sqrt(this.matmul(this.transpose(r),r)),i=this.matscale(r,1/n),o=this.matscale(this.matmul(i,this.transpose(i)),e);return this.matsub(t,o)}static eigenvalue_of_vector(t,e){return ev=this.matmul(this.matmul(this.transpose(e),t),e),ev}static power_iteration(t,e=1e-5,r=1e3){let n=t.length,i=new Array(n).fill(0).map(()=>new Array(1).fill(Math.sqrt(n))),o=this.eigenvalue_of_vector(t,i),s=1,a=0;for(;s>e&&a<r;){let f=JSON.parse(JSON.stringify(o)),d=this.matmul(t,i);i=this.normalize(d),o=this.eigenvalue_of_vector(t,i),s=Math.abs(o-f),a++}return[o,i]}static eigens(t,e=1e-4,r=1e3){let n=[],i=[];for(let o=0;o<t.length;o++){let s=this.power_iteration(t,e,r),a=s[0],f=s[1];n[o]=a,i[o]=this.flatten_vector(f),t=this.shift_deflate(t,a,f)}return[n,i]}static pca(t,e=1e-5){let r=t.length,n=new Array(r),i=new Array(r),o=this.transpose(t);n[0]=this.column(t,0);let s=1,a=0;for(;espilon>e;){a++,i[0]=this.matmul(o,n[0]);let f=this.matmul(this.transpose(n[0]),n[0]);i[0]=this.matscale(i[0],1/f);let d=Math.sqrt(this.matmul(this.transpose(i[0]),i[0]));i[0]=this.matscale(i[0],1/d);let m=this.matmul(t,i[0]),v=this.matmul(this.transpose(i[0]),i[0]);m=this.matscale(m,1/v),s=this.squared_difference(n[0],m),n[0]=JSON.parse(JSON.stringify(m))}return this.matmul(this.transpose(n[0]),n[0])}static p300(t=[],e=[],r=[],n=256){let i=Math.floor(n/10),o=this.sma(e,i),s=this.peakDetect(o,"peak",i),a=this.mean(o),f=this.std(o,a),d=0,m=[];return s.length>0&&t.forEach((v,y)=>{for(;r[s[d]]<v+200&&(d++,!!s[d]););let w=0,b=[];for(;r[s[d+w]]<v+600&&(b.push(d+w),w++,!!s[d+w]););if(b.length>1){let A=[];b.forEach(F=>{A.push(o[s[F]])});let k=Math.max(...A),N=b[A.indexOf(k)];m.push({event_timestamp:v,event_index:y,peak_timestamp:r[[s[N]]],signal_index:[s[N]],signal_amplitude:e[[s[N]]],zscore:(o[s[N]]-a)/f})}else b.length===1&&m.push({event_timestamp:v,event_index:y,peak_timestamp:r[s[b[0]]],signal_index:s[b[0]],signal_amplitude:e[[s[b[0]]]],zscore:(o[s[b[0]]]-a)/f})}),m}},Me=uo;He(Me,"TWO_PI",Math.PI*2),He(Me,"C",299792458),He(Me,"G",66743e-15),He(Me,"h",662607015e-42),He(Me,"R",8314.32),He(Me,"Ra",287),He(Me,"H",69.3),He(Me,"kbar",1054571817e-43),He(Me,"kB",1380649e-29),He(Me,"ke",89875517923e-1),He(Me,"me",91093837015e-41),He(Me,"mp",167262192369e-38),He(Me,"mn",167492749804e-38),He(Me,"P0",101325),He(Me,"T0",288.15),He(Me,"p0",1.225),He(Me,"Na",60220978e16),He(Me,"y",1.405),He(Me,"M0",28.96643),He(Me,"g0",9.80665),He(Me,"Re",6378100),He(Me,"B",1458e-9),He(Me,"S",110.4),He(Me,"Sigma",365e-12),He(Me,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),He(Me,"integral",(t=n=>n,e=[],r=.01)=>{let n=0;for(let i=e[0];i<e[1];i+=r)n+=t(i)*r;return n}),He(Me,"dintegral",(t=(i,o)=>i+o,e=[[],[]],r=.01,n=r)=>{let i=0;for(let o=e[0][0]+r;o<e[0][1];o+=r)for(let s=e[1][0]+n;s<e[1][1];s+=n)i+=t(o,s)*r*n;return i}),He(Me,"tintegral",(t=(o,s,a)=>o+s+a,e=[[],[],[]],r=.01,n=r,i=r)=>{let o=0;for(let s=e[0][0]+r;s<e[0][1];s+=r)for(let a=e[1][0]+n;a<e[1][1];a+=n)for(let f=e[2][0]+i;f<e[2][1];f+=i)o+=t(s,a,f)*r*n*i;return o}),He(Me,"pintegral",(t=n=>n,e=[],r=.01)=>{let n=0,i,o;for(let s=e[0];s<e[1];s+=r)i=o,o=t(s),i&&(n+=uo.distance([0,i],[r,o]));return n}),He(Me,"peakDetect",(t,e="peak",r=49)=>{let n=Math.floor(r*.5),i=[];for(let o=0;o<t.length-r;o++)uo.isExtrema(t.slice(o,o+r),e)&&i.push(o+n-1);return i});Y6=(t,e="alpha1")=>{let r=[];return Array.isArray(t)||(t=[t]),t.forEach(n=>{if(n.fftCount>0){let i=n.fftCount,o=Math.min(20,i),s=n.means[e].slice(i-o);r.push(Me.mean(s))}}),Me.mean(r)},K6=t=>t.fftCount>0?t.means.alpha2[t.fftCount-1]/t.means.alpha1[t.fftCount-1]:0,Z6=t=>t.fftCount>0?t.means.theta[t.fftCount-1]/t.means.beta[t.fftCount-1]:0,X6=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.beta[t.fftCount-1]:0,Q6=t=>t.fftCount>0?(t.means.alpha1[t.fftCount-1]+t.means.alpha2[t.fftCount-1])*.5/t.means.theta[t.fftCount-1]:0,ek=(t,e)=>{if(t.fftCount>0&&Array.isArray(e)){let r=t.slices.lowgamma[t.fftCount-1],n=[];return r.forEach((i,o)=>{e.lowgamma[0][o]>38&&e.lowgamma[0][o]<42&&n.push(i)}),Math.max(...n)}else return 0},tk=t=>{if(t.fftCount>0){let e=t.fftCount,r=20;e<r&&(r=e);let n=t.means.lowgamma.slice(e-r);return t.means.lowgamma[e-1]-Me.mean(n)}else return 0},rk=t=>{if(t.count>0){let e=t.count,r=40;e<r&&(r=e);let n=t.ratio.slice(e-r);return t.ratio[e-1]-Me.mean(n)}else return 0};ik=(t,e,r,n)=>{let i=0;n.fftCount++,n.fftTimes.push(e),n.ffts.push(t);for(let o in r){let s=t.slice(i,i+r[o][1].length);n.slices[o].push(s),n.means[o].push(s.reduce((a,f)=>a+f)/s.length),i+=r[o][1].length}},ok=(t,e,r,n)=>{t.forEach((i,o)=>{n[o].fftCount++,n[o].fftTimes.push(e),n[o].ffts.push(data);let s=0;for(let a in r){let f=fft.slice(s,s+r[a][1].length);coord.slices[a].push(f),coord.means[a].push(f.reduce((d,m)=>d+m)/f.length),s+=r[a][1].length}})}});function Oc(){return re(this,null,function*(){let t=lt.connect({target:Ep.settings.dataserver,credentials:bc,type:"websocket"});return t.subscribe(e=>{console.log("Indirect message from socket",e)}),console.log(t),console.log("Sending /routes from Client 1"),yield lt.send("routes").then(e=>console.log("Routes (Client 1)",e)).catch(console.error),console.log("setting up client"),lt.setupUser(bc)})}function wS(){return re(this,null,function*(){return Bn.connect({target:Ep.settings.dataserver,credentials:xc,type:"websocket"}).subscribe(e=>{console.log("Indirect message from socket",e)}),console.log("Sending /routes from Client 2"),Bn.send("routes").then(e=>console.log("Routes (Client 2)",e)).catch(console.error),console.log("setting up client"),Bn.setupUser(xc)})}var Ep,Bn,ak,lk,bc,xc,kc=rt(()=>{gs();Sp();Ep=Ft(Ua());cp();dp();yp();Bn=new gc,ak=new vc(Bn),lk=new _c(Bn);Bn.load(ak,"http");Bn.load(lk,"websockets");bc=jn.ProfileStruct("test",{_id:"test375914777899895",email:"test@myalyce.com",username:"testuser",firstName:"Howard",lastName:"Dent",sex:"m",birthday:"09/10/1993"});xc=jn.ProfileStruct("test",{_id:"test375914777899896",email:"testpeer@myalyce.com",username:"testpeer",firstName:"The",lastName:"Batman",sex:"m",birthday:"01/19/1483"})});var SS=xe(bp=>{_w();var _S=Ft(Ua());mp();Wa();kc();console.log("using data server URL: ",_S.settings.dataserver);Hr.subscribe("route",t=>{history.replaceState(void 0,t,location.origin+t)});var uk=!0;uk?Oc().then(t=>re(bp,null,function*(){console.log(t),yield ss(t)})):il().then(t=>re(bp,null,function*(){let e=yield ol(t);yield ss(e)}))});var ut=xe((PA,Ic)=>{var ES,bS,xS,OS,kS,TS,NS,IS,AS,Tc,xp,RS,DS,FS,vs,CS,PS,LS,MS,jS,BS,US,zS,Nc;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof Ic=="object"&&typeof Ic.exports=="object"?t(r(e,r(Ic.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,s){return n[o]=i?i(o,s):s}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};ES=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},bS=Object.assign||function(n){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},xS=function(n,i){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(o[s[a]]=n[s[a]]);return o},OS=function(n,i,o,s){var a=arguments.length,f=a<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,o):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(n,i,o,s);else for(var m=n.length-1;m>=0;m--)(d=n[m])&&(f=(a<3?d(f):a>3?d(i,o,f):d(i,o))||f);return a>3&&f&&Object.defineProperty(i,o,f),f},kS=function(n,i){return function(o,s){i(o,s,n)}},TS=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},NS=function(n,i,o,s){function a(f){return f instanceof o?f:new o(function(d){d(f)})}return new(o||(o=Promise))(function(f,d){function m(w){try{y(s.next(w))}catch(b){d(b)}}function v(w){try{y(s.throw(w))}catch(b){d(b)}}function y(w){w.done?f(w.value):a(w.value).then(m,v)}y((s=s.apply(n,i||[])).next())})},IS=function(n,i){var o={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,a,f,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(y){return function(w){return v([y,w])}}function v(y){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,a&&(f=y[0]&2?a.return:y[0]?a.throw||((f=a.return)&&f.call(a),0):a.next)&&!(f=f.call(a,y[1])).done)return f;switch(a=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,a=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(f=o.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){o.label=y[1];break}if(y[0]===6&&o.label<f[1]){o.label=f[1],f=y;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(y);break}f[2]&&o.ops.pop(),o.trys.pop();continue}y=i.call(n,o)}catch(w){y=[6,w],a=0}finally{s=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},AS=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Nc(i,n,o)},Nc=Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]},Tc=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},xp=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,f=[],d;try{for(;(i===void 0||i-- >0)&&!(a=s.next()).done;)f.push(a.value)}catch(m){d={error:m}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(d)throw d.error}}return f},RS=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(xp(arguments[i]));return n},DS=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var s=Array(n),a=0,i=0;i<o;i++)for(var f=arguments[i],d=0,m=f.length;d<m;d++,a++)s[a]=f[d];return s},FS=function(n,i,o){if(o||arguments.length===2)for(var s=0,a=i.length,f;s<a;s++)(f||!(s in i))&&(f||(f=Array.prototype.slice.call(i,0,s)),f[s]=i[s]);return n.concat(f||Array.prototype.slice.call(i))},vs=function(n){return this instanceof vs?(this.v=n,this):new vs(n)},CS=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,i||[]),a,f=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(A){s[A]&&(a[A]=function(k){return new Promise(function(N,F){f.push([A,k,N,F])>1||m(A,k)})})}function m(A,k){try{v(s[A](k))}catch(N){b(f[0][3],N)}}function v(A){A.value instanceof vs?Promise.resolve(A.value.v).then(y,w):b(f[0][2],A)}function y(A){m("next",A)}function w(A){m("throw",A)}function b(A,k){A(k),f.shift(),f.length&&m(f[0][0],f[0][1])}},PS=function(n){var i,o;return i={},s("next"),s("throw",function(a){throw a}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(a,f){i[a]=n[a]?function(d){return(o=!o)?{value:vs(n[a](d)),done:a==="return"}:f?f(d):d}:f}},LS=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof Tc=="function"?Tc(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=n[f]&&function(d){return new Promise(function(m,v){d=n[f](d),a(m,v,d.done,d.value)})}}function a(f,d,m,v){Promise.resolve(v).then(function(y){f({value:y,done:m})},d)}},MS=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};jS=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&Nc(i,n,o);return r(i,n),i},BS=function(n){return n&&n.__esModule?n:{default:n}},US=function(n,i,o,s){if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?s:o==="a"?s.call(n):s?s.value:i.get(n)},zS=function(n,i,o,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(n,o):a?a.value=o:i.set(n,o),o},t("__extends",ES),t("__assign",bS),t("__rest",xS),t("__decorate",OS),t("__param",kS),t("__metadata",TS),t("__awaiter",NS),t("__generator",IS),t("__exportStar",AS),t("__createBinding",Nc),t("__values",Tc),t("__read",xp),t("__spread",RS),t("__spreadArrays",DS),t("__spreadArray",FS),t("__await",vs),t("__asyncGenerator",CS),t("__asyncDelegator",PS),t("__asyncValues",LS),t("__makeTemplateObject",MS),t("__importStar",jS),t("__importDefault",BS),t("__classPrivateFieldGet",US),t("__classPrivateFieldSet",zS)})});var WS=xe(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0})});var $S=xe(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0})});var Op=xe(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.arrHas=Ge.arrLast=Ge.arrToBoolDict=Ge.arrToIdxDict=Ge.arrToDict=Ge.arrRemoveValues=Ge.arrReplace=Ge.arrDeepFlatten=Ge.arrFlatten=Ge.arrDivide=Ge.arrGetByIds=Ge.arrRemoveById=Ge.arrGen=void 0;var Si=ir(),ck=(t,e=void 0)=>t<1?[]:Array(t).fill(e);Ge.arrGen=ck;function fk(t,e,r="id"){let n=HS(t,r),i=Si.objRemoveKeys(n,e);return Si.objVals(i)}Ge.arrRemoveById=fk;function hk(t,e,r="id"){let n=GS(e);return t.filter(i=>n[i[r]])}Ge.arrGetByIds=hk;function dk(t,e){let r=Math.ceil(t.length/e)||0,n=Ge.arrGen(r).map(()=>[]);return t.forEach((i,o)=>n[Math.floor(o/e)].push(i)),n}Ge.arrDivide=dk;function pk(t){return[].concat.apply([],t)}Ge.arrFlatten=pk;var yk=t=>t.reduce((e,r)=>e.concat(Si.isType(r,"array")?Ge.arrDeepFlatten(r):r),[]);Ge.arrDeepFlatten=yk;function mk(t){let e=[...t];return{all:r=>{let n=[];return t.forEach((i,o)=>Si.equal(r,i)?n[o]=o:null),{with:i=>n.length?(n.forEach(o=>e[o]=i),e):t}},first:r=>{let n=t.findIndex(i=>Si.equal(r,i));return{with:i=>Si.nonValue(n)?t:(e[n]=i,e)}}}}Ge.arrReplace=mk;function gk(t,e){let r=[...t];return e.forEach(n=>r=r.filter(i=>!Si.equal(i,n))),r}Ge.arrRemoveValues=gk;function HS(t,e){let r={};return t.forEach(n=>r[n[e]]=n),r}Ge.arrToDict=HS;function vk(t){let e={};return t.forEach((r,n)=>e[r]=n+""),e}Ge.arrToIdxDict=vk;function GS(t){let e={};return t.forEach(r=>e[r]=!0),e}Ge.arrToBoolDict=GS;var wk=t=>t[t.length-1];Ge.arrLast=wk;function _k(t,e,r=!1){let n=r?i=>Si.equal(i,e):i=>i===e;return t.findIndex(n)!==-1}Ge.arrHas=_k});var JS=xe(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.clone=void 0;function kp(t){let e,r,n,i,o,s,a;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t);if(r=Object.keys(t),n=r.length,Array.isArray(t)){for(s=new Array(n),i=0;i<n;i++)o=r[i],e=t[o],typeof e!="object"||e===null?s[o]=e:e instanceof Date?s[o]=new Date(e):s[o]=kp(e);return s}for(a={},i=0;i<n;i++)o=r[i],e=t[o],Object.hasOwnProperty.call(t,o)!==!1&&(typeof e!="object"||e===null?a[o]=e:e instanceof Date?a[o]=new Date(e):a[o]=kp(e));return a}Ac.clone=kp});var YS=xe(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.equal=void 0;function Rc(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Rc(t[n],e[n]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;for(n of t.entries())if(!Rc(n[1],e.get(n[0])))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(n of t.entries())if(!e.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){var o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!Rc(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}Dc.equal=Rc});var ZS=xe(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.promiseOut=St.debounceTimeOut=St.randomColorHex=St.uuid=St.assertType=St.type=St.cloneLog=St.unsubAll=St.wait=St.interval=void 0;var Un=ir(),Sk=(t,e,r)=>{if(Un.isType(r,"number")&&r<1)throw Error(`argument "times" can't be less than 1`);let n=0,i=()=>clearInterval(o),o=setInterval(()=>{t(n,i),n++,r&&n>=r&&i()},e);return{stop:i}};St.interval=Sk;var Ek=t=>new Promise(e=>setTimeout(()=>e(),t));St.wait=Ek;var KS=(t,e="unsubscribe")=>Un.isType(t,"object")&&Un.hasKey(t,e)?t[e]():null;function bk(t,e="unsubscribe"){if(Un.isType(t,"array"))t.forEach(r=>KS(r,e));else if(Un.isType(t,"object"))Un.objMap(t,({val:r})=>KS(r,e));else throw Error('argument "objOrArr" must be of type "object" or "array"')}St.unsubAll=bk;var xk=t=>console.log(Un.clone(t));St.cloneLog=xk;function Ok(t){return typeof t=="object"?Array.isArray(t)?"array":t===null?"null":"object":t!==t?"NaN":typeof t}St.type=Ok;function kk(t,e){Un.isType(e,"array")||(e=[e]);for(let r of e)if(Un.isType(t,r))return;throw Error(`value needs to be of type ${e.join(" || ")}`)}St.assertType=kk;var Tk=()=>{let t=new Date().getTime(),e=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=Math.random()*16;return t>0?(i=(t+i)%16|0,t=Math.floor(t/16)):(i=(e+i)%16|0,e=Math.floor(e/16)),(n==="x"?i:i&3|8).toString(16)})};St.uuid=Tk;var Nk=()=>"#"+((1<<24)*Math.random()|0).toString(16);St.randomColorHex=Nk;function Ik(){let t=null;return(e,r)=>{t&&clearTimeout(t),e!=="cancel"&&(t=setTimeout(e,r||0))}}St.debounceTimeOut=Ik;function Ak(){let t,e=new Promise(r=>t=r);return{resolve:t,promise:e}}St.promiseOut=Ak});var XS=xe(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.iterate=void 0;var Tp=Op();function Rk(t,e,r){let n=(i,o=!1)=>{let s=[];for(let a=0;a<t;a++)if(!e)s.push(i({x:a}));else for(let f=0;f<e;f++)if(!r)s.push(i({x:a,y:f}));else for(let d=0;d<r;d++)s.push(i({x:a,y:f,z:d}));return o?r&&e?Tp.arrDivide(s,e*r).map(f=>Tp.arrDivide(f,r)):e?Tp.arrDivide(s,e):s:s};return{for:i=>{n(i)},map:i=>n(i),nestedMap:i=>n(i,!0)}}Fc.iterate=Rk});var eE=xe(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.newNumFromRange=Rr.numberWithCommas=Rr.decPlace=Rr.average=Rr.rand=void 0;var QS=ir(),Dk=(t,e)=>Math.floor(Math.random()*(e+1-t))+t;Rr.rand=Dk;var Fk=t=>t.reduce((e=0,r=0)=>e+r,0)/t.length;Rr.average=Fk;var Ck=(t,e)=>parseFloat(t.toFixed(e));Rr.decPlace=Ck;var Pk=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Rr.numberWithCommas=Pk;function Lk(t,e,r){let n,i=0,o=QS.isType(t,"array")?QS.arrToBoolDict(t):{[t]:!0};do if(n=Rr.rand(e,r),i++,i>1e6)throw console.error("Check for infinite loops"),new Error("Looped 1 million times");while(o[n]);return n}Rr.newNumFromRange=Lk});var tE=xe(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.objPromiseAll=ht.objSortKeys=ht.objResolve=ht.objExtract=ht.objKeyVals=ht.objVals=ht.objKeys=ht.objRemoveKeys=ht.objFilter=ht.objMap=void 0;function Mk(t,e){let r={};for(let n in t)r[n]=e({key:n,val:t[n]});return r}ht.objMap=Mk;function jk(t,e){let r=Object.assign({},t);for(let n in t)e({key:n,val:t[n]})||delete r[n];return r}ht.objFilter=jk;function Bk(t,e){let r=Object.assign({},t);return e.forEach(n=>delete r[n]),r}ht.objRemoveKeys=Bk;function Cc(t){if(Object.keys)return Object.keys(t);let e=[];for(let r in t)e.push(r);return e}ht.objKeys=Cc;var Uk=t=>Object.values?Object.values(t):Cc(t).map(e=>t[e]);ht.objVals=Uk;var zk=t=>Cc(t).map(e=>({key:e,val:t[e]}));ht.objKeyVals=zk;function Vk(t,e){let r={};return e.forEach(n=>r[n]=t[n]),r}ht.objExtract=Vk;var Wk=(t,e)=>e.split(".").reduce((r,n)=>r[n],t);ht.objResolve=Wk;var qk=(t,e)=>{let r={};return Cc(t).sort(e).map(i=>r[i]=t[i]),r};ht.objSortKeys=qk;function $k(t){let e=ht.objKeyVals(t),r=e.length,n={},i=0;return new Promise(o=>e.forEach(({key:s,val:a})=>a.then(f=>{n[s]=f,i++,r===i&&o(n)})))}ht.objPromiseAll=$k});var rE=xe(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.minAppend=Ei.strRemove=Ei.strIncludes=void 0;var Hk=(t,e)=>t.indexOf(e)!==-1;Ei.strIncludes=Hk;var Gk=(t,e)=>t.replace(new RegExp(e,"g"),"");Ei.strRemove=Gk;var Jk=(t,e,r="0")=>(r.repeat(e-1)+t).slice(-e);Ei.minAppend=Jk});var iE=xe(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.isValidEmail=Et.nonValue=Et.nullOrEmpty=Et.isType=Et.hasKeys=Et.hasKey=Et.equalAny=void 0;var Yk=ir(),nE=ir(),Kk=(t,e)=>!!e.find(r=>Yk.equal(t,r));Et.equalAny=Kk;var Zk=(t,e)=>Et.isType(t,"object")&&t.hasOwnProperty(e);Et.hasKey=Zk;function Xk(t,e){if(!Et.isType(t,"object"))return!1;for(let r of e)if(!t.hasOwnProperty(r))return!1;return!0}Et.hasKeys=Xk;var Qk=(t,e)=>nE.type(t)===e;Et.isType=Qk;function eT(t){return Et.nonValue(t)?!0:Et.isType(t,"string")||Et.isType(t,"array")?!t.length:Et.isType(t,"object")?!nE.objVals(t).length:!1}Et.nullOrEmpty=eT;var tT=t=>t==null;Et.nonValue=tT;var rT=t=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t);Et.isValidEmail=rT});var oE=xe(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.yearStartEnd=we.monthStartEnd=we.weekStartEnd=we.getDayStartEnd=we.wks=we.weeks=we.dys=we.days=we.hrs=we.hours=we.min=we.minutes=we.sec=we.seconds=we.msTimeObj=we.msToTime=we.msToWks=we.msToDys=we.msToHrs=we.msToMin=we.msToSec=we.dateTimeToString=we.weekTuple=we.msTime=void 0;var Pc=ir();we.msTime={s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};we.weekTuple=["sun","mon","tue","wed","thu","fri","sat"];function nT(t=new Date){let e=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2),n=("0"+t.getSeconds()).slice(-2),i=("00"+t.getMilliseconds()).slice(-3);return`${e}:${r}:${n}:${i}`}we.dateTimeToString=nT;var iT=t=>t/we.msTime.s;we.msToSec=iT;var oT=t=>t/we.msTime.m;we.msToMin=oT;var sT=t=>t/we.msTime.h;we.msToHrs=sT;var aT=t=>t/we.msTime.d;we.msToDys=aT;var lT=t=>t/we.msTime.w;we.msToWks=lT;function uT(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);o=o%24;let a=("00"+s).slice(-3),f=("0"+o).slice(-2),d=("0"+i).slice(-2),m=("0"+n).slice(-2),v=("00"+r).slice(-3);return e?{d:s,h:o,m:i,s:n,ms:r}:`${s?a+":":""}${f}:${d}:${m}:${v}`}we.msToTime=uT;function cT(t,e=!1){let r=t%1e3,n=Math.floor(t/1e3),i=Math.floor(n/60);n=n%60;let o=Math.floor(i/60);i=i%60;let s=Math.floor(o/24);return o=o%24,e?{d:s,h:o,m:i,s:n,ms:r}:{d:("00"+s).slice(-3),h:("0"+o).slice(-2),m:("0"+i).slice(-2),s:("0"+n).slice(-2),ms:("00"+r).slice(-3)}}we.msTimeObj=cT;var fT=t=>t*we.msTime.s;we.seconds=fT;we.sec=we.seconds;var hT=t=>t*we.msTime.m;we.minutes=hT;we.min=we.minutes;var dT=t=>t*we.msTime.h;we.hours=dT;we.hrs=we.hours;var pT=t=>t*we.msTime.d;we.days=pT;we.dys=we.days;var yT=t=>t*we.msTime.w;we.weeks=yT;we.wks=we.weeks;function mT(t,e="local"){Pc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),o=new Date(r,n,i),s=new Date(r,n,i,23,59,59,999);if(e==="unix"){let a=we.min(o.getTimezoneOffset());o=new Date(o.getTime()+a),s=new Date(s.getTime()+a)}return{start:o,end:s}}we.getDayStartEnd=mT;function gT(t,e="sun",r="local"){Pc.isType(t,"number")&&(t=new Date(t));let i=t.getDay()*-1+(e==="mon"?1:0),o=6+i,s=new Date(t.getTime()+we.days(i)),a=new Date(t.getTime()+we.days(o)),f=new Date(s.getFullYear(),s.getMonth(),s.getDate()),d=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999);if(r==="unix"){let m=we.min(f.getTimezoneOffset());f=new Date(f.getTime()+m),d=new Date(d.getTime()+m)}return{start:f,end:d}}we.weekStartEnd=gT;function vT(t,e="local"){Pc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=t.getMonth(),i=new Date(r,n,1),o=new Date(r,n,0,23,59,59,999);if(e==="unix"){let s=we.min(i.getTimezoneOffset());i=new Date(i.getTime()+s),o=new Date(o.getTime()+s)}return{start:i,end:o}}we.monthStartEnd=vT;function wT(t,e="local"){Pc.isType(t,"number")&&(t=new Date(t));let r=t.getFullYear(),n=new Date(r,0,1),i=new Date(r,12,0,23,59,59,999);if(e==="unix"){let o=we.min(n.getTimezoneOffset());n=new Date(n.getTime()+o),i=new Date(i.getTime()+o)}return{start:n,end:i}}we.yearStartEnd=wT});var ir=xe(Zt=>{"use strict";var _T=Zt&&Zt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),an=Zt&&Zt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_T(e,t,r)};Object.defineProperty(Zt,"__esModule",{value:!0});an($S(),Zt);an(Op(),Zt);an(JS(),Zt);an(YS(),Zt);an(ZS(),Zt);an(XS(),Zt);an(eE(),Zt);an(tE(),Zt);an(rE(),Zt);an(iE(),Zt);an(oE(),Zt)});var zt=xe((YA,Lc)=>{(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(!!i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var s=e.apply(null,i);s&&r.push(s)}}else if(o==="object")if(i.toString===Object.prototype.toString)for(var a in i)t.call(i,a)&&i[a]&&r.push(a);else r.push(i.toString())}}return r.join(" ")}typeof Lc<"u"&&Lc.exports?(e.default=e,Lc.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var sE=xe(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.chevronIcons=void 0;var ST=ut(),bt=(0,ST.__importDefault)(Le());Mc.chevronIcons={1:{viewBox:"0 0 16 16",path:bt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z"})},2:{viewBox:"0 0 16 16",path:bt.default.createElement("path",{"fill-rule":"evenodd",d:"M3.646 4.146a.5.5 0 0 1 .708 0L8 7.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zM1 11.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"})},3:{viewBox:"0 0 16 16",path:bt.default.createElement(bt.default.Fragment,null,bt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 6.646a.5.5 0 0 1 .708 0L8 12.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}),bt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 2.646a.5.5 0 0 1 .708 0L8 8.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}))},4:{viewBox:"0 0 16 16",path:bt.default.createElement("path",{"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})},5:{viewBox:"0 0 24 24",path:bt.default.createElement(bt.default.Fragment,null,bt.default.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),bt.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},6:{viewBox:"0 0 24 24",path:bt.default.createElement(bt.default.Fragment,null,bt.default.createElement("path",{d:"M5 21h14c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM5 5h14l.001 14H5V5z"}),bt.default.createElement("path",{d:"M12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707-1.414-1.414z"}))},7:{viewBox:"0 0 24 24",path:bt.default.createElement("path",{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"})},8:{viewBox:"0 0 24 24",path:bt.default.createElement(bt.default.Fragment,null,bt.default.createElement("path",{d:"m12 15.586-4.293-4.293-1.414 1.414L12 18.414l5.707-5.707-1.414-1.414z"}),bt.default.createElement("path",{d:"m17.707 7.707-1.414-1.414L12 10.586 7.707 6.293 6.293 7.707 12 13.414z"}))},9:{viewBox:"0 0 512 512",path:bt.default.createElement("path",{d:"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM273 369.9l135.5-135.5c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L256 285.1 154.4 183.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L239 369.9c9.4 9.4 24.6 9.4 34 0z"})},10:{viewBox:"0 0 24 24",path:bt.default.createElement("path",{d:"M21.886 5.536A1.002 1.002 0 0 0 21 5H3a1.002 1.002 0 0 0-.822 1.569l9 13a.998.998 0 0 0 1.644 0l9-13a.998.998 0 0 0 .064-1.033zM12 17.243 4.908 7h14.184L12 17.243z"})}}});var Np=xe(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.Chevron=void 0;var lE=ut(),ET=(0,lE.__importDefault)(Le()),bT=(0,lE.__importDefault)(zt()),aE=sE(),xT={down:"rotate-0",up:"rotate-180",left:"rotate-90",right:"-rotate-90"},OT={xs:"h-3 w-3",sm:"h-6 w-6",md:"h-12 w-12",lg:"h-24 w-24",xl:"h-48 w-48",auto:"h-full w-full"},kT=function(t){var e=t.direction,r=t.icon,n=t.size,i=n===void 0?"auto":n,o=t.className,s=t.style;return ET.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",className:(0,bT.default)("transform transition-transform duration-500 svg-fix",OT[i],xT[e],o),viewBox:aE.chevronIcons[r].viewBox,style:s},aE.chevronIcons[r].path)};jc.Chevron=kT});var bi=xe(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.customScrollBar=wr.loremIpsum=wr.TextInputBorderMap=wr.regexpUtil=wr.useRefDimensions=wr.clickOutListener=void 0;var Ip=Le();function TT(t,e){(0,Ip.useEffect)(function(){return document.addEventListener("click",function(r){return t.current&&!t.current.contains(r.target)&&e()})},[t])}wr.clickOutListener=TT;var NT=function(t){var e,r,n=(0,Ip.useState)({width:0,height:0}),i=n[0],o=n[1];return(0,Ip.useEffect)(function(){if(t.current){var s=t.current.getBoundingClientRect(),a=s.width,f=s.height;o({width:a,height:f})}},[(e=t.current)===null||e===void 0?void 0:e.offsetHeight,(r=t.current)===null||r===void 0?void 0:r.offsetWidth]),i};wr.useRefDimensions=NT;wr.regexpUtil={name:/^[a-z ,.'-]+$/i,email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/};wr.TextInputBorderMap={default:"border-secondary-300 placeholder-secondary-300 focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-200",success:"border-success-400 placeholder-success-300 focus:border-success-500 focus:outline-none focus:ring-1 focus:ring-success-200",warning:"border-warning-400 placeholder-warning-300 focus:border-warning-500 focus:outline-none focus:ring-1 focus:ring-warning-200",danger:"border-danger-400 placeholder-danger-300 focus:border-danger-500 focus:outline-none focus:ring-1 focus:ring-danger-200"};wr.loremIpsum="Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.";wr.customScrollBar="scrollbar-thin scrollbar-track-secondary-200 scrollbar-thumb-secondary-400 scrollbar"});var cE=xe(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.Accordion=void 0;var ws=ut(),Bc=ir(),Uc=Le(),ln=(0,ws.__importDefault)(Le()),uE=(0,ws.__importDefault)(zt()),IT=Np(),AT=bi(),RT={xs:"max-w-xs",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",auto:"w-full"},DT={danger:"text-danger-700",info:"text-info-700",primary:"text-primary-700",secondary:"text-secondary-700",success:"text-success-700",warning:"text-warning-700"},FT={danger:"border-danger-600",info:"border-info-600",primary:"border-primary-600",secondary:"border-secondary-600",success:"border-success-600",warning:"border-warning-600"};function CT(t){var e=t.title,r=t.collapseOthers,n=r===void 0?!1:r,i=t.items,o=t.size,s=o===void 0?"auto":o,a=t.type,f=a===void 0?"secondary":a,d=t.className,m=t.style,v=t.contentMaxHeigh,y=(0,Uc.useState)(Date.now()),w=y[0],b=y[1],A=function(k){return b(k)};return ln.default.createElement("main",{className:(0,uE.default)(RT[s],d),style:m},ln.default.createElement("div",{className:"w-full my-1"},e&&ln.default.createElement("h2",{className:"text-xl font-semibold mb-2"},e),ln.default.createElement("ul",{className:"flex flex-col"},i.map(function(k,N){return ln.default.createElement(PT,(0,ws.__assign)({},(0,ws.__assign)((0,ws.__assign)({},k),{collapseOthers:n,onOpen:A,openId:w,type:f,contentMaxHeigh:v}),{key:N}))}))))}zc.Accordion=CT;var PT=function(t){var e=t.title,r=t.content,n=t.onOpen,i=t.openId,o=t.collapseOthers,s=t.type,a=t.onClick,f=(0,ws.__rest)(t,["title","content","onOpen","openId","collapseOthers","type","onClick"]),d=(0,Uc.useState)(i),m=d[0],v=d[1],y=(0,Uc.useState)(!1),w=y[0],b=y[1];(0,Uc.useEffect)(function(){i!==m&&(v(i),b(!1))},[i]);var A=function(N){if(!w){var F=Date.now();v(F),o&&n(F)}b(!w),a==null||a(N)},k=(0,Bc.isType)(f.isOpen,"boolean")?f.isOpen:w;return ln.default.createElement("li",{className:"bg-white my-2 shadow-lg"},ln.default.createElement("h2",{onClick:A,className:`\r
                flex flex-row justify-between items-center\r
                font-semibold p-3 cursor-pointer\r
            `},(0,Bc.isType)(r,"string")?ln.default.createElement("span",null,e):e,ln.default.createElement(IT.Chevron,{direction:k?"up":"down",icon:8,size:"sm",className:DT[s]})),ln.default.createElement("div",{className:(0,uE.default)("border-l-2 overflow-hidden max-h-0 duration-700 transition-all",AT.customScrollBar,FT[s],k&&"max-h-96"),style:{maxHeight:!(0,Bc.nonValue)(f.contentMaxHeigh)&&k?f.contentMaxHeigh:void 0}},(0,Bc.isType)(r,"string")?ln.default.createElement("p",{className:"p-3 text-gray-900"},r):r))}});var fE=xe(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.AlertIcon=void 0;var LT=ut(),co=(0,LT.__importDefault)(Le()),MT={primary:co.default.createElement("path",{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),danger:co.default.createElement("path",{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zM8 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),info:co.default.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}),secondary:co.default.createElement("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}),success:co.default.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}),warning:co.default.createElement("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})},jT=function(t){return co.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-6 h-6"},MT[t.type])};Vc.AlertIcon=jT});var hE=xe(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.Alert=void 0;var Rp=ut(),Ap=ir(),BT=(0,Rp.__importDefault)(zt()),Dr=(0,Rp.__importStar)(Le()),UT=fE(),zT={primary:"text-primary-600",secondary:"text-secondary-600",info:"text-info-600",warning:"text-warning-600",danger:"text-danger-600",success:"text-success-600"},VT={primary:"text-primary-900",secondary:"text-secondary-900",info:"text-info-900",warning:"text-warning-900",danger:"text-danger-900",success:"text-success-900"},WT=function(t){(0,Rp.__extends)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={botW:100,isClosing:!1,isClosed:!1,isHover:!1,transitionDuration:void 0},r.closingDebounce=(0,Ap.debounceTimeOut)(),r.handleMouseHover=function(n){var i=r.props.timeoutMs,o=!(0,Ap.nonValue)(i);o&&!n?r.closingDebounce(r.startClosing,i):n&&r.closingDebounce("cancel"),r.setState(n?{isClosing:!1,botW:100,isHover:n}:{isHover:n,botW:o?0:100})},r.startClosing=function(){r.setState({isClosing:!0}),r.closingDebounce(r.close,700)},r.close=function(){r.props.onClose&&r.props.onClose(),r.setState({isClosed:!0})},r.componentWillUnmount=function(){return r.closingDebounce("cancel")},r.render=function(){var n=r.props,i=n.title,o=n.text,s=n.type,a=n.className,f=n.style,d=r.state,m=d.isHover,v=d.isClosing,y=d.botW,w=d.transitionDuration,b=d.isClosed,A=m?void 0:w,k=(0,BT.default)("bg-white border border-current border-b-0 rounded-lg flex flex-col overflow-hidden transition-opacity duration-700",{"opacity-0":v},zT[s],a);return b?null:Dr.default.createElement("div",{className:k,style:f,onMouseEnter:function(){return r.handleMouseHover(!0)},onMouseLeave:function(){return r.handleMouseHover(!1)}},Dr.default.createElement("div",{className:"p-1 flex w-full overflow-hidden mx-auto"},Dr.default.createElement("div",{className:"pt-2 ml-3"},Dr.default.createElement(UT.AlertIcon,{type:s})),Dr.default.createElement("div",{className:"w-full flex justify-between items-start px-0 py-2"},Dr.default.createElement("div",{className:"ml-3"},Dr.default.createElement("p",{className:"font-bold"},i),o&&Dr.default.createElement("p",{className:"mt-1 text-sm ".concat(VT[s])},o)),Dr.default.createElement("a",{className:"mr-1 cursor-pointer",onClick:r.close},Dr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Dr.default.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))),Dr.default.createElement("span",{className:"border-b-4 border-current transition-all ease-linear",style:{width:"".concat(y,"%"),transitionDuration:A}}))},r}return e.prototype.componentDidMount=function(){var r=this,n=this.props.timeoutMs;(0,Ap.nonValue)(n)||(this.setState({transitionDuration:"".concat(n,"ms")}),setTimeout(function(){return r.setState({botW:0})},0),this.closingDebounce(this.startClosing,n))},e}(Dr.Component);Wc.Alert=WT});var $c=xe(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.Badge=void 0;var pE=ut(),qT=ir(),$T=(0,pE.__importDefault)(zt()),dE=(0,pE.__importDefault)(Le()),HT={xs:"h-2 min-w-2",sm:"h-3 min-w-3",md:"h-4 min-w-4",lg:"h-6 min-w-6",xl:"h-12 min-w-12"},GT={md:"text-xs",lg:"text-base",xl:"text-2xl"},JT=function(t){var e=t.size,r=t.badge,n=t.className;return r?dE.default.createElement("div",{className:(0,$T.default)("bg-info-600 rounded-full absolute top-0 right-0 pl-1 pr-1 flex justify-center text-gray-100",HT[e],n)},(0,qT.isType)(r,"number")&&e!=="sm"&&e!=="xs"&&dE.default.createElement("span",{className:"m-auto ".concat(GT[e])},r>999?"+999":r)):null};qc.Badge=JT});var yE=xe(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.spinnersSvg=void 0;Hc.spinnersSvg=['<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" fill-rule="evenodd" clip-rule="evenodd" d="M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17.5228 22 22 17.5228 22 12H19C19 15.866 15.866 19 12 19V22Z" fill="currentColor"/><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z" fill="currentColor"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 6h-6l2.243-2.243c-1.133-1.133-2.64-1.757-4.243-1.757s-3.109 0.624-4.243 1.757c-1.133 1.133-1.757 2.64-1.757 4.243s0.624 3.109 1.757 4.243c1.133 1.133 2.64 1.757 4.243 1.757s3.109-0.624 4.243-1.757c0.095-0.095 0.185-0.192 0.273-0.292l1.505 1.317c-1.466 1.674-3.62 2.732-6.020 2.732-4.418 0-8-3.582-8-8s3.582-8 8-8c2.209 0 4.209 0.896 5.656 2.344l2.343-2.344v6z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0.001 8.025l-0 0c0 0 0 0.001 0 0.003 0.002 0.061 0.009 0.12 0.021 0.177 0.003 0.027 0.007 0.057 0.011 0.090 0.003 0.029 0.007 0.061 0.011 0.095 0.006 0.040 0.012 0.083 0.019 0.128 0.013 0.090 0.028 0.189 0.045 0.296 0.021 0.101 0.044 0.21 0.068 0.326 0.011 0.058 0.028 0.117 0.044 0.178s0.032 0.123 0.049 0.188c0.009 0.032 0.016 0.065 0.027 0.097s0.021 0.065 0.031 0.098 0.043 0.134 0.065 0.203c0.006 0.017 0.011 0.035 0.017 0.052s0.013 0.034 0.019 0.052 0.026 0.070 0.039 0.105c0.027 0.070 0.053 0.142 0.081 0.215 0.031 0.071 0.062 0.144 0.094 0.218 0.016 0.037 0.032 0.074 0.048 0.111s0.035 0.073 0.053 0.111 0.073 0.148 0.11 0.224c0.039 0.075 0.081 0.149 0.123 0.224 0.021 0.037 0.042 0.075 0.063 0.113s0.045 0.074 0.068 0.112 0.093 0.149 0.14 0.224c0.198 0.295 0.417 0.587 0.66 0.864 0.245 0.275 0.511 0.535 0.792 0.775 0.284 0.236 0.582 0.452 0.886 0.642 0.306 0.188 0.619 0.349 0.928 0.487 0.078 0.032 0.156 0.063 0.232 0.095 0.038 0.015 0.076 0.032 0.115 0.046s0.077 0.027 0.115 0.041 0.151 0.054 0.226 0.078c0.075 0.022 0.15 0.044 0.224 0.066 0.037 0.011 0.073 0.022 0.109 0.031s0.073 0.018 0.109 0.027 0.143 0.035 0.213 0.052c0.070 0.014 0.139 0.027 0.207 0.040 0.034 0.006 0.067 0.013 0.101 0.019 0.017 0.003 0.033 0.006 0.049 0.009s0.033 0.005 0.049 0.007c0.066 0.009 0.13 0.018 0.192 0.027 0.031 0.004 0.062 0.009 0.093 0.013s0.061 0.006 0.091 0.009 0.118 0.010 0.174 0.015c0.056 0.005 0.111 0.011 0.164 0.012 0.004 0 0.007 0 0.011 0 0.010 0.544 0.453 0.982 1 0.982 0.008 0 0.017-0 0.025-0.001v0c0 0 0.001-0 0.004-0 0.061-0.002 0.12-0.009 0.177-0.021 0.027-0.003 0.057-0.007 0.090-0.011 0.029-0.003 0.061-0.007 0.095-0.011 0.040-0.006 0.083-0.012 0.128-0.019 0.090-0.013 0.189-0.028 0.296-0.045 0.101-0.021 0.21-0.044 0.326-0.068 0.058-0.011 0.117-0.028 0.178-0.044s0.123-0.033 0.188-0.049c0.032-0.009 0.065-0.016 0.097-0.027s0.065-0.021 0.098-0.031 0.134-0.043 0.203-0.065c0.017-0.006 0.035-0.011 0.052-0.017s0.034-0.013 0.052-0.019 0.070-0.026 0.105-0.039c0.070-0.027 0.142-0.053 0.215-0.081 0.071-0.031 0.144-0.062 0.218-0.094 0.037-0.016 0.074-0.032 0.111-0.048s0.073-0.035 0.111-0.053 0.148-0.073 0.224-0.11c0.075-0.039 0.149-0.081 0.224-0.123 0.037-0.021 0.075-0.042 0.113-0.063s0.074-0.045 0.112-0.068 0.149-0.093 0.224-0.14c0.295-0.197 0.587-0.417 0.864-0.66 0.275-0.245 0.535-0.511 0.775-0.792 0.236-0.284 0.452-0.582 0.642-0.886 0.188-0.306 0.349-0.619 0.487-0.928 0.032-0.078 0.063-0.156 0.095-0.232 0.015-0.038 0.032-0.076 0.046-0.115s0.027-0.077 0.040-0.115 0.054-0.151 0.078-0.226c0.022-0.075 0.044-0.15 0.066-0.224 0.011-0.037 0.022-0.073 0.031-0.109s0.018-0.073 0.027-0.109 0.035-0.143 0.052-0.213c0.014-0.070 0.027-0.139 0.040-0.207 0.006-0.034 0.013-0.067 0.019-0.101 0.003-0.017 0.006-0.033 0.009-0.049s0.005-0.033 0.007-0.050c0.009-0.065 0.018-0.13 0.027-0.192 0.004-0.031 0.009-0.062 0.013-0.093s0.006-0.061 0.009-0.091 0.010-0.118 0.015-0.174c0.005-0.056 0.011-0.111 0.012-0.165 0-0.008 0.001-0.016 0.001-0.025 0.55-0.002 0.996-0.449 0.996-1 0-0.008-0-0.017-0.001-0.025h0c0 0-0-0.001-0-0.003-0.002-0.061-0.009-0.12-0.021-0.177-0.003-0.027-0.007-0.057-0.011-0.090-0.003-0.029-0.007-0.061-0.011-0.095-0.006-0.040-0.012-0.083-0.019-0.128-0.013-0.090-0.028-0.189-0.045-0.296-0.021-0.101-0.044-0.21-0.068-0.326-0.011-0.058-0.028-0.117-0.044-0.178s-0.032-0.123-0.049-0.188c-0.009-0.032-0.016-0.065-0.027-0.097s-0.021-0.065-0.031-0.098-0.043-0.134-0.065-0.203c-0.005-0.017-0.011-0.035-0.017-0.052s-0.013-0.034-0.019-0.052-0.026-0.070-0.039-0.105c-0.027-0.070-0.053-0.142-0.081-0.215-0.031-0.071-0.062-0.144-0.094-0.218-0.016-0.037-0.032-0.074-0.048-0.111s-0.035-0.073-0.053-0.111-0.073-0.148-0.11-0.224c-0.039-0.075-0.081-0.149-0.123-0.224-0.021-0.037-0.042-0.075-0.063-0.113s-0.045-0.074-0.068-0.112-0.093-0.149-0.14-0.224c-0.197-0.295-0.417-0.587-0.66-0.864-0.245-0.275-0.511-0.535-0.792-0.775-0.284-0.236-0.582-0.452-0.886-0.642-0.306-0.188-0.619-0.349-0.928-0.487-0.078-0.032-0.156-0.063-0.232-0.095-0.038-0.015-0.076-0.032-0.115-0.046s-0.077-0.027-0.115-0.040-0.151-0.054-0.226-0.078c-0.075-0.022-0.15-0.044-0.224-0.066-0.037-0.010-0.073-0.022-0.109-0.031s-0.073-0.018-0.109-0.027-0.143-0.035-0.213-0.052c-0.070-0.014-0.139-0.027-0.207-0.040-0.034-0.006-0.067-0.013-0.101-0.019-0.017-0.003-0.033-0.006-0.049-0.009s-0.033-0.005-0.049-0.007c-0.066-0.009-0.13-0.018-0.192-0.027-0.031-0.004-0.062-0.009-0.093-0.013s-0.061-0.006-0.091-0.009-0.118-0.010-0.174-0.015c-0.056-0.005-0.111-0.011-0.164-0.012-0.013-0-0.026-0.001-0.039-0.001-0.010-0.543-0.454-0.981-0.999-0.981-0.008 0-0.017 0-0.025 0.001l-0-0c0 0-0.001 0-0.003 0-0.061 0.002-0.12 0.009-0.177 0.021-0.027 0.003-0.057 0.007-0.090 0.011-0.029 0.003-0.061 0.007-0.095 0.011-0.040 0.006-0.083 0.012-0.128 0.019-0.090 0.013-0.189 0.028-0.296 0.045-0.101 0.021-0.21 0.044-0.326 0.068-0.058 0.011-0.117 0.028-0.178 0.044s-0.123 0.033-0.188 0.049c-0.032 0.009-0.065 0.016-0.097 0.027s-0.065 0.021-0.098 0.031-0.134 0.043-0.203 0.065c-0.017 0.006-0.035 0.011-0.052 0.017s-0.034 0.013-0.052 0.019-0.070 0.026-0.105 0.039c-0.070 0.027-0.142 0.053-0.215 0.081-0.071 0.031-0.144 0.062-0.218 0.094-0.037 0.016-0.074 0.032-0.111 0.048s-0.073 0.035-0.111 0.053-0.148 0.073-0.224 0.11c-0.075 0.039-0.149 0.081-0.224 0.123-0.037 0.021-0.075 0.042-0.113 0.063s-0.074 0.045-0.112 0.068-0.149 0.093-0.224 0.14c-0.295 0.198-0.587 0.417-0.864 0.66-0.275 0.245-0.535 0.511-0.775 0.792-0.236 0.284-0.452 0.582-0.642 0.886-0.188 0.306-0.349 0.619-0.487 0.928-0.032 0.078-0.063 0.156-0.095 0.232-0.015 0.038-0.032 0.076-0.046 0.115s-0.027 0.077-0.040 0.115-0.054 0.151-0.078 0.226c-0.022 0.075-0.044 0.15-0.066 0.224-0.011 0.037-0.022 0.073-0.032 0.109s-0.018 0.073-0.027 0.109-0.035 0.143-0.052 0.213c-0.014 0.070-0.027 0.139-0.040 0.207-0.006 0.034-0.013 0.067-0.019 0.101-0.003 0.017-0.006 0.033-0.009 0.049s-0.005 0.033-0.007 0.050c-0.009 0.065-0.018 0.13-0.027 0.192-0.004 0.031-0.009 0.062-0.013 0.093s-0.006 0.061-0.009 0.091-0.010 0.118-0.015 0.174c-0.005 0.056-0.011 0.111-0.012 0.165-0 0.009-0.001 0.017-0.001 0.025-0.537 0.017-0.967 0.458-0.967 0.999 0 0.008 0 0.017 0.001 0.025zM1.149 7.011c0.001-0.003 0.001-0.006 0.002-0.009 0.010-0.051 0.026-0.102 0.040-0.155s0.030-0.107 0.045-0.163c0.008-0.028 0.015-0.056 0.024-0.084s0.019-0.057 0.028-0.086 0.038-0.116 0.058-0.176c0.005-0.015 0.010-0.030 0.015-0.045s0.012-0.030 0.017-0.045 0.023-0.060 0.035-0.091 0.048-0.123 0.073-0.186c0.028-0.062 0.056-0.125 0.084-0.189 0.014-0.032 0.028-0.064 0.043-0.096s0.032-0.064 0.048-0.096 0.065-0.128 0.098-0.194c0.034-0.065 0.073-0.128 0.109-0.194 0.018-0.032 0.037-0.065 0.056-0.098s0.040-0.064 0.061-0.096c0.041-0.064 0.082-0.129 0.124-0.194 0.176-0.255 0.369-0.506 0.583-0.744 0.217-0.236 0.451-0.459 0.697-0.665 0.25-0.202 0.511-0.385 0.776-0.547 0.268-0.159 0.541-0.294 0.808-0.41 0.068-0.027 0.135-0.053 0.202-0.079 0.033-0.013 0.066-0.027 0.099-0.038s0.067-0.022 0.1-0.033 0.131-0.045 0.196-0.065c0.065-0.018 0.13-0.036 0.194-0.054 0.032-0.009 0.063-0.019 0.095-0.026s0.063-0.014 0.094-0.021 0.123-0.028 0.184-0.042c0.061-0.011 0.12-0.021 0.179-0.032 0.029-0.005 0.058-0.010 0.087-0.015 0.014-0.003 0.029-0.005 0.043-0.008s0.029-0.003 0.043-0.005c0.056-0.007 0.112-0.014 0.166-0.020 0.027-0.003 0.053-0.007 0.080-0.010s0.053-0.004 0.078-0.006 0.102-0.007 0.15-0.011c0.049-0.003 0.095-0.008 0.142-0.008 0.091-0.002 0.177-0.004 0.256-0.006 0.073 0.003 0.14 0.005 0.2 0.007 0.030 0.001 0.058 0.002 0.085 0.002 0.033 0.002 0.064 0.004 0.093 0.006 0.033 0.002 0.063 0.004 0.091 0.006 0.051 0.008 0.103 0.012 0.156 0.012 0.007 0 0.015-0 0.022-0.001 0.002 0 0.004 0 0.004 0v-0c0.487-0.012 0.887-0.372 0.962-0.84 0.008 0.002 0.017 0.004 0.025 0.006 0.051 0.010 0.102 0.026 0.155 0.040s0.107 0.030 0.163 0.045c0.028 0.008 0.056 0.015 0.084 0.024s0.057 0.019 0.086 0.028 0.116 0.038 0.176 0.058c0.015 0.005 0.030 0.010 0.045 0.015s0.030 0.012 0.045 0.017 0.060 0.023 0.091 0.035 0.123 0.048 0.186 0.073c0.062 0.028 0.125 0.056 0.189 0.084 0.032 0.014 0.064 0.028 0.096 0.043s0.064 0.032 0.096 0.048 0.128 0.065 0.194 0.098c0.065 0.034 0.129 0.073 0.194 0.109 0.032 0.018 0.065 0.037 0.098 0.056s0.064 0.040 0.096 0.061 0.129 0.082 0.194 0.124c0.255 0.176 0.506 0.369 0.744 0.583 0.236 0.217 0.459 0.451 0.665 0.697 0.202 0.25 0.385 0.511 0.547 0.776 0.159 0.268 0.294 0.541 0.41 0.808 0.027 0.068 0.053 0.135 0.079 0.202 0.013 0.033 0.027 0.066 0.038 0.099s0.022 0.067 0.033 0.1 0.045 0.131 0.065 0.196c0.018 0.065 0.036 0.13 0.054 0.194 0.009 0.032 0.019 0.063 0.026 0.095s0.014 0.063 0.021 0.094 0.028 0.123 0.042 0.184c0.011 0.061 0.021 0.12 0.032 0.179 0.005 0.029 0.010 0.058 0.015 0.087 0.003 0.014 0.005 0.029 0.008 0.043s0.003 0.029 0.005 0.043c0.007 0.056 0.014 0.112 0.020 0.166 0.003 0.027 0.007 0.053 0.010 0.080s0.004 0.053 0.006 0.078 0.007 0.102 0.011 0.15c0.003 0.049 0.008 0.095 0.008 0.142 0.002 0.091 0.004 0.177 0.006 0.256-0.003 0.073-0.005 0.14-0.007 0.2-0.001 0.030-0.002 0.058-0.002 0.085-0.002 0.033-0.004 0.064-0.006 0.093-0.002 0.033-0.004 0.063-0.006 0.091-0.008 0.051-0.012 0.103-0.012 0.156 0 0.007 0 0.015 0.001 0.022-0 0.002-0 0.004-0 0.004h0c0.012 0.481 0.363 0.877 0.823 0.959-0.001 0.005-0.002 0.009-0.003 0.014-0.010 0.051-0.025 0.102-0.040 0.155s-0.030 0.107-0.045 0.163c-0.008 0.028-0.015 0.056-0.024 0.084s-0.019 0.057-0.028 0.086-0.039 0.116-0.058 0.176c-0.005 0.015-0.010 0.030-0.015 0.045s-0.012 0.030-0.017 0.045-0.023 0.060-0.035 0.091-0.048 0.123-0.073 0.186c-0.028 0.062-0.056 0.125-0.084 0.189-0.014 0.032-0.028 0.064-0.043 0.096s-0.032 0.064-0.048 0.096-0.065 0.128-0.098 0.194c-0.034 0.065-0.073 0.129-0.109 0.194-0.018 0.032-0.037 0.065-0.056 0.098s-0.040 0.064-0.061 0.096-0.082 0.129-0.124 0.194c-0.176 0.255-0.369 0.506-0.583 0.744-0.217 0.236-0.451 0.459-0.697 0.665-0.25 0.202-0.511 0.385-0.776 0.547-0.268 0.159-0.541 0.294-0.808 0.41-0.068 0.027-0.135 0.053-0.202 0.079-0.033 0.013-0.066 0.027-0.099 0.038s-0.067 0.022-0.1 0.033-0.131 0.045-0.196 0.065c-0.065 0.018-0.13 0.036-0.194 0.054-0.032 0.009-0.063 0.019-0.095 0.026s-0.063 0.014-0.094 0.021-0.123 0.028-0.184 0.042c-0.061 0.011-0.12 0.021-0.179 0.032-0.029 0.005-0.058 0.010-0.087 0.015-0.014 0.003-0.028 0.005-0.043 0.008s-0.029 0.003-0.043 0.005c-0.056 0.007-0.112 0.014-0.166 0.020-0.027 0.003-0.053 0.007-0.080 0.010s-0.053 0.004-0.078 0.006-0.102 0.007-0.15 0.011c-0.049 0.003-0.095 0.008-0.142 0.008-0.091 0.002-0.177 0.004-0.256 0.006-0.073-0.003-0.14-0.005-0.2-0.007-0.030-0.001-0.058-0.002-0.085-0.002-0.033-0.002-0.064-0.004-0.093-0.006-0.033-0.002-0.063-0.004-0.091-0.006-0.051-0.008-0.103-0.012-0.156-0.012-0.007 0-0.015 0-0.022 0.001-0.002-0-0.003-0-0.003-0v0c-0.484 0.012-0.883 0.369-0.961 0.834-0.050-0.010-0.101-0.025-0.153-0.039s-0.107-0.030-0.163-0.045c-0.028-0.008-0.056-0.015-0.084-0.024s-0.057-0.019-0.086-0.028-0.116-0.039-0.176-0.058c-0.015-0.005-0.030-0.010-0.045-0.015s-0.030-0.012-0.045-0.017-0.060-0.023-0.091-0.035-0.123-0.048-0.186-0.073c-0.062-0.028-0.125-0.056-0.189-0.084-0.032-0.014-0.064-0.028-0.096-0.043s-0.064-0.032-0.096-0.048-0.128-0.065-0.194-0.098c-0.065-0.034-0.129-0.073-0.194-0.109-0.032-0.018-0.065-0.037-0.098-0.056s-0.064-0.040-0.096-0.061c-0.064-0.041-0.129-0.082-0.194-0.124-0.255-0.175-0.506-0.369-0.744-0.583-0.236-0.217-0.459-0.451-0.665-0.697-0.202-0.25-0.385-0.511-0.547-0.776-0.159-0.268-0.294-0.541-0.41-0.808-0.027-0.068-0.053-0.135-0.079-0.202-0.013-0.033-0.027-0.066-0.038-0.099s-0.022-0.067-0.033-0.1-0.045-0.131-0.065-0.196c-0.018-0.065-0.036-0.13-0.054-0.194-0.009-0.032-0.019-0.063-0.026-0.095s-0.014-0.063-0.021-0.094-0.028-0.123-0.042-0.184c-0.011-0.061-0.021-0.12-0.032-0.179-0.005-0.029-0.010-0.058-0.015-0.087-0.003-0.014-0.005-0.028-0.008-0.043s-0.003-0.029-0.005-0.043c-0.007-0.056-0.014-0.112-0.020-0.166-0.003-0.027-0.007-0.053-0.010-0.080s-0.004-0.053-0.006-0.078-0.007-0.101-0.011-0.15c-0.003-0.049-0.008-0.095-0.008-0.142-0.002-0.091-0.004-0.177-0.006-0.256 0.003-0.073 0.005-0.14 0.007-0.2 0.001-0.030 0.002-0.058 0.002-0.085 0.002-0.033 0.004-0.064 0.006-0.093 0.002-0.033 0.004-0.063 0.006-0.091 0.008-0.051 0.012-0.103 0.012-0.156 0-0.007-0-0.015-0.001-0.022 0-0.002 0-0.003 0-0.003h-0c-0.012-0.49-0.377-0.893-0.851-0.964z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.355 0-7.898 3.481-7.998 7.812 0.092-3.779 2.966-6.812 6.498-6.812 3.59 0 6.5 3.134 6.5 7 0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-4.418-3.582-8-8-8zM8 16c4.355 0 7.898-3.481 7.998-7.812-0.092 3.779-2.966 6.812-6.498 6.812-3.59 0-6.5-3.134-6.5-7 0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5c0 4.418 3.582 8 8 8z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zM12.773 12.773c-1.275 1.275-2.97 1.977-4.773 1.977s-3.498-0.702-4.773-1.977-1.977-2.97-1.977-4.773c0-1.803 0.702-3.498 1.977-4.773l1.061 1.061c0 0 0 0 0 0-2.047 2.047-2.047 5.378 0 7.425 0.992 0.992 2.31 1.538 3.712 1.538s2.721-0.546 3.712-1.538c2.047-2.047 2.047-5.378 0-7.425l1.061-1.061c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 8c0-0.19 0.011-0.378 0.032-0.563l-2.89-0.939c-0.092 0.487-0.141 0.989-0.141 1.502 0 2.3 0.971 4.374 2.526 5.833l1.786-2.458c-0.814-0.889-1.312-2.074-1.312-3.375zM13 8c0 1.301-0.497 2.486-1.312 3.375l1.786 2.458c1.555-1.459 2.526-3.533 2.526-5.833 0-0.513-0.049-1.015-0.141-1.502l-2.89 0.939c0.021 0.185 0.032 0.373 0.032 0.563zM9 3.1c1.436 0.292 2.649 1.199 3.351 2.435l2.89-0.939c-1.144-2.428-3.473-4.188-6.241-4.534v3.038zM3.649 5.535c0.702-1.236 1.914-2.143 3.351-2.435v-3.038c-2.769 0.345-5.097 2.105-6.241 4.534l2.89 0.939zM10.071 12.552c-0.631 0.288-1.332 0.448-2.071 0.448s-1.44-0.16-2.071-0.448l-1.786 2.458c1.144 0.631 2.458 0.99 3.857 0.99s2.713-0.359 3.857-0.99l-1.786-2.458z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"/></svg>','<svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c-2.137 0-4.146-0.832-5.657-2.343s-2.343-3.52-2.343-5.657c0-1.513 0.425-2.986 1.228-4.261 0.781-1.239 1.885-2.24 3.193-2.895l0.672 1.341c-1.063 0.533-1.961 1.347-2.596 2.354-0.652 1.034-0.997 2.231-0.997 3.461 0 3.584 2.916 6.5 6.5 6.5s6.5-2.916 6.5-6.5c0-1.23-0.345-2.426-0.997-3.461-0.635-1.008-1.533-1.822-2.596-2.354l0.672-1.341c1.308 0.655 2.412 1.656 3.193 2.895 0.803 1.274 1.228 2.748 1.228 4.261 0 2.137-0.832 4.146-2.343 5.657s-3.52 2.343-5.657 2.343z"/></svg>']});var Gc=xe(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.Spinner=fo.spinnerSizeMap=void 0;var mE=ut(),YT=(0,mE.__importDefault)(zt()),Dp=(0,mE.__importDefault)(Le()),KT=yE();fo.spinnerSizeMap={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"};var ZT=function(t){var e=t.type,r=e===void 0?1:e,n=t.size,i=n===void 0?"auto":n,o=t.className;return Dp.default.createElement("div",{className:(0,YT.default)("overflow-hidden",o,fo.spinnerSizeMap[i])},r==="pulse"?Dp.default.createElement("div",{className:"bg-secondary-300 h-full w-full animate-pulse"}):Dp.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(KT.spinnersSvg[r-1]),className:"animate-spin h-full w-full"}))};fo.Spinner=ZT});var Jc=xe(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.AvatarInner=ho.Avatar=void 0;var Fp=ut(),gE=ir(),_r=(0,Fp.__importStar)(Le()),XT=$c(),QT=(0,Fp.__importDefault)(zt()),eN={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},tN=Gc(),rN=function(t){var e=t.dataState,r=t.imgSrc,n=t.backgroundColor,i=t.status,o=t.badge,s=t.size,a=t.onClick,f=t.className,d=function(){if(e==="loading"||e==="error")return e==="error"?"Couldn't Load User":e==="loading"?"Loading...":"";if((0,gE.isType)(t.name,"string")||!t.name)return t.name||"";var m=t.name,v=m.first,y=m.last;return"".concat(v," ").concat(y)}();return _r.default.createElement("div",{onClick:a,className:(0,QT.default)(`
            flex relative justify-center items-center
            m-1 mr-2 rounded-full text-white`,eN[s],!(n||e==="loading")&&"bg-secondary-500",e==="loading"&&" overflow-hidden",a&&"cursor-pointer",f),title:e==="error"?"Couldn't Load User":e==="loading"?"Loading...":d,style:{backgroundColor:n}},_r.default.createElement(ho.AvatarInner,(0,Fp.__assign)({},{dataState:e,imgSrc:r,badge:o,size:s,status:i,name:d})))};ho.Avatar=rN;var nN={xs:"text-sm",sm:"text-xl",md:"text-4xl",lg:"text-7xl",xl:"text-9xl"},iN=function(t){if(t.dataState==="loading")return _r.default.createElement(tN.Spinner,{size:"auto",type:"pulse"});if(t.dataState==="error")return _r.default.createElement("img",{src:"data:image/svg+xml;utf8,".concat(lN),className:"rounded-full h-full w-full"});var e=t.imgSrc,r=t.status,n=t.badge,i=t.size,o=t.name,s=o===void 0?"":o,a=(0,_r.useState)(e?"loading":"error"),f=a[0],d=a[1],m=(0,gE.isType)(s,"string")?s.substring(0,2):"".concat(s.first[0].toUpperCase()).concat(s.last[0].toUpperCase());return _r.default.createElement(_r.default.Fragment,null,_r.default.createElement(XT.Badge,{size:i,badge:n}),f==="error"?_r.default.createElement("span",{className:nN[i]},m):_r.default.createElement("img",{className:"rounded-full h-full w-full",src:e,onLoad:function(){return d("success")},onError:function(){return d("error")}}),r&&_r.default.createElement(aN,{size:i,status:r}))};ho.AvatarInner=iN;var oN={xs:"h-2 w-2",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-12 w-12"},sN={online:"bg-success-500",offline:"bg-danger-500",busy:"bg-warning-500",away:"bg-secondary-500"},aN=function(t){return _r.default.createElement("span",{className:"flex absolute bottom-0 right-0"},t.status==="online"&&_r.default.createElement("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success-400 opacity-75"}),_r.default.createElement("span",{className:"relative inline-flex rounded-full ".concat(sN[t.status]," ").concat(oN[t.size])}))},lN='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"/><path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/></svg>'});var _E=xe(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.AvatarGroup=void 0;var Pp=ut(),Cp=(0,Pp.__importDefault)(zt()),sl=(0,Pp.__importDefault)(Le()),vE=Jc(),wE={xs:"h-6 w-6",sm:"h-9 w-9",md:"h-16 w-16",lg:"h-32 w-32",xl:"h-64 w-64",auto:"h-full w-full"},uN=function(t){var e=t.maxShow,r=e===void 0?5:e,n=t.avatars,i=t.size,o=t.onClick;if(r<1)return console.error(`Property "maxShow" can't be less than 1`),null;var s=n.slice(0,r),a=n.length-s.length;return sl.default.createElement("div",{className:(0,Cp.default)("flex flex-row-reverse justify-center mt-10",o&&"cursor-pointer",t.className),onClick:o},a>0&&sl.default.createElement("div",{className:(0,Cp.default)(`
                flex flex-shrink-0 relative
                bg-secondary-500
                justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 text-xl text-white`,wE[i])},sl.default.createElement(vE.AvatarInner,{size:i,dataState:"done",name:"+".concat(a)})),s.map(function(f,d){var m=f.dataState,v=f.backgroundColor,y=f.imgSrc,w=f.name,b=f.status,A={dataState:m,name:w,imgSrc:y,status:b,size:i};return sl.default.createElement("div",{className:(0,Cp.default)("flex flex-shrink-0 relative justify-center items-center m-1 mr-2 -ml-3 rounded-full border-r-2 border-white",!(f.backgroundColor||f.dataState==="loading")&&"bg-secondary-500",wE[i]),style:{backgroundColor:v},key:d},sl.default.createElement(vE.AvatarInner,(0,Pp.__assign)({},A)))}))};Yc.AvatarGroup=uN});var Zc=xe(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.Backdrop=void 0;var Mp=ut(),cN=(0,Mp.__importDefault)(zt()),Lp=(0,Mp.__importStar)(Le()),fN=function(t){var e=t.zIndex,r=t.onBackdropClick,n=t.maxOpacity,i=n===void 0?40:n,o=t.transition,s=o===void 0?!0:o,a=t.style,f=t.className,d=(0,Lp.useState)(!s),m=d[0],v=d[1];return(0,Lp.useEffect)(function(){return!m&&setTimeout(function(){return v(!0)},0)},[m]),Lp.default.createElement("div",{className:(0,cN.default)("fixed top-0 left-0 right-0 w-screen h-screen bg-black",s&&"transition-opacity duration-200",f),style:(0,Mp.__assign)({zIndex:e,opacity:m?Number((i/100).toFixed(2)):0},a),onClick:r})};Kc.Backdrop=fN});var al=xe(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.Button=void 0;var Xc=ut(),hN=(0,Xc.__importDefault)(zt()),jp=(0,Xc.__importStar)(Le()),dN=$c(),pN={xs:"text-xs p-0.5 px-1",sm:"text-sm p-1 px-2",md:"text-base p-1.5 px-3",lg:"text-lg p-2 px-4",xl:"text-xl p-2.5 px-5",auto:"p-1.5 text-base h-full w-full"},yN={primary:"bg-primary-500",secondary:"bg-secondary-500",success:"bg-success-500",info:"bg-info-500",danger:"bg-danger-500",warning:"bg-warning-500"},mN={primary:"hover:bg-primary-600",secondary:"hover:bg-secondary-600",success:"hover:bg-success-600",info:"hover:bg-info-600",danger:"hover:bg-danger-700",warning:"hover:bg-warning-600"},gN={primary:"border-primary-500 text-primary-500",secondary:"border-secondary-500 text-secondary-500",success:"border-success-500 text-success-500",info:"border-info-500 text-info-500",danger:"border-danger-500 text-danger-500",warning:"border-warning-500 text-warning-500"},vN={xs:"xs",sm:"sm",md:"md",lg:"md",xl:"lg",auto:"md"},wN=function(t){var e=t.size,r=e===void 0?"md":e,n=t.type,i=n===void 0?"secondary":n,o=t.shape,s=o===void 0?"round":o,a=t.outline,f=a===void 0?!1:a,d=t.badge,m=t.className,v=t.disabled,y=t.children,w=t.htmlType,b=w===void 0?"button":w,A=(0,Xc.__rest)(t,["size","type","shape","outline","badge","className","disabled","children","htmlType"]),k=(0,jp.useState)(!1),N=k[0],F=k[1];return jp.default.createElement("button",(0,Xc.__assign)({type:b,className:(0,hN.default)("relative text-gray-100 font-normal border-2 transition-all",pN[r],f&&!N?gN[i]:yN[i]+" border-transparent",s==="flat"?"rounded-none":"rounded-lg",v&&"opacity-60",!v&&mN[i],m),onMouseEnter:function(){return F(!v)},onMouseLeave:function(){return F(!1)},disabled:v},A),d&&jp.default.createElement(dN.Badge,{size:vN[r],badge:d,className:r==="xs"||r==="sm"?"-top-1.5 -right-1.5":"-top-2 -right-3"}),y)};Qc.Button=wN});var SE=xe(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.Dropdown=void 0;var ef=ut(),_N=ir(),ll=(0,ef.__importDefault)(zt()),Sr=(0,ef.__importStar)(Le()),SN=bi(),EN={xs:"w-30",sm:"w-44",md:"w-60",lg:"w-80",xl:"w-96",auto:"w-full"};function bN(t){var e=t.header,r=t.items,n=t.show,i=t.children,o=t.itemBorders,s=t.size,a=s===void 0?"md":s,f=t.className,d=t.align,m=d===void 0?"left":d,v=t.containerClassName,y=(0,Sr.useState)(n||!1),w=y[0],b=y[1],A=function(){return setTimeout(function(){return b(!1)},0)},k=(0,Sr.useRef)(null);(0,SN.clickOutListener)(k,A);var N=o?r.filter(function(Y){return Y.type!=="break"}):r,F={onClick:function(){return b(!w)},onBlur:A};return Sr.default.createElement("div",(0,ef.__assign)({className:(0,ll.default)("relative",v)},n??F,{ref:k}),i,Sr.default.createElement("div",{className:(0,ll.default)("animate-slide-down absolute bg-white text-sm list-none divide-gray-100 rounded-sm shadow-md border",!(n??w)&&"hidden",m==="right"&&"right-0 left-auto",EN[a],f)},e&&Sr.default.createElement("div",{className:(0,ll.default)("cursor-default",o&&"border-b border-secondary-200")},(0,_N.isType)(e,"string")?Sr.default.createElement("span",{className:"py-1.5 block text-center text-gray-500 text-base"},e):e),Sr.default.createElement("ul",null,N.map(function(Y,H,Z){var L=Z.length;return Sr.default.createElement(xN,(0,ef.__assign)({},Y,{border:o,isLast:H===L-1,key:H}))}))))}tf.Dropdown=bN;var xN=function(t){var e=(0,ll.default)(!t.isLast&&t.border&&"border-b border-secondary-200");switch(t.type){case"action":return Sr.default.createElement("li",{className:e},Sr.default.createElement("a",{className:"hover:bg-gray-100 text-gray-700 cursor-pointer block px-4 py-1.5",onClick:t.onClick},t.title));case"break":return Sr.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return Sr.default.createElement("li",{className:(0,ll.default)("text-gray-600 text-center block py-1 cursor-default",e)},Sr.default.createElement("span",{className:"text-xs"},t.title));case"jsx":return Sr.default.createElement("li",{className:e},t.element);default:throw console.error(t),new Error("This type of MenuItem is not implemented.")}}});var ry=xe(Fr=>{"use strict";function ON(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}Object.defineProperty(Fr,"__esModule",{value:!0});var De=ON(Le()),cl=t=>t.type==="checkbox",Ss=t=>t instanceof Date,Er=t=>t==null,PE=t=>typeof t=="object",Vt=t=>!Er(t)&&!Array.isArray(t)&&PE(t)&&!Ss(t),LE=t=>Vt(t)&&t.target?cl(t.target)?t.target.checked:t.target.value:t,ME=(t,e)=>[...t].some(r=>(n=>n.substring(0,n.search(/.\d/))||n)(e)===r),fl=t=>t.filter(Boolean),ot=t=>t===void 0,be=(t,e,r)=>{if(!e||!Vt(t))return r;let n=fl(e.split(/[,[\].]+?/)).reduce((i,o)=>Er(i)?i:i[o],t);return ot(n)||n===t?ot(t[e])?r:t[e]:n},jE="blur",kN="focusout",TN="change",NN="onBlur",BE="onChange",UE="onSubmit",IN="onTouched",hl="all",AN="max",RN="min",DN="maxLength",FN="minLength",EE="pattern",bE="required",CN="validate",uf=(t,e)=>{let r=Object.assign({},t);return delete r[e],r},zE=De.default.createContext(null),dl=()=>De.default.useContext(zE),VE=(t,e,r,n=!0)=>{let i={};for(let o in t)Object.defineProperty(i,o,{get:()=>{let s=o;return e[s]!==hl&&(e[s]=!n||hl),r&&(r[s]=!0),t[s]}});return i},Cr=t=>Vt(t)&&!Object.keys(t).length,WE=(t,e,r)=>{let n=uf(t,"name");return Cr(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(i=>e[i]===(!r||hl))},Pr=t=>Array.isArray(t)?t:[t],qE=(t,e,r)=>r&&e?t===e:!t||!e||t===e||Pr(t).some(n=>n&&(n.startsWith(e)||e.startsWith(n)));function of(t){let e=De.default.useRef(t);e.current=t,De.default.useEffect(()=>{let r=!t.disabled&&e.current.subject.subscribe({next:e.current.callback});return()=>(n=>{n&&n.unsubscribe()})(r)},[t.disabled])}function $E(t){let e=dl(),{control:r=e.control,disabled:n,name:i,exact:o}=t||{},[s,a]=De.default.useState(r._formState),f=De.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=De.default.useRef(i),m=De.default.useRef(!0);return d.current=i,of({disabled:n,callback:De.default.useCallback(v=>m.current&&qE(d.current,v.name,o)&&WE(v,f.current)&&a(Object.assign(Object.assign({},r._formState),v)),[r,o]),subject:r._subjects.state}),De.default.useEffect(()=>()=>{m.current=!1},[]),VE(s,r._proxyFormState,f.current,!1)}var On=t=>typeof t=="string",HE=(t,e,r,n)=>{let i=Array.isArray(t);return On(t)?(n&&e.watch.add(t),be(r,t)):i?t.map(o=>(n&&e.watch.add(o),be(r,o))):(n&&(e.watchAll=!0),r)},cf=t=>typeof t=="function",Xp=t=>{for(let e in t)if(cf(t[e]))return!0;return!1};function GE(t){let e=dl(),{control:r=e.control,name:n,defaultValue:i,disabled:o,exact:s}=t||{},a=De.default.useRef(n);a.current=n;let f=De.default.useCallback(v=>{if(qE(a.current,v.name,s)){let y=HE(a.current,r._names,v.values||r._formValues);m(ot(a.current)||Vt(y)&&!Xp(y)?Object.assign({},y):Array.isArray(y)?[...y]:ot(y)?i:y)}},[r,s,i]);of({disabled:o,subject:r._subjects.watch,callback:f});let[d,m]=De.default.useState(ot(i)?r._getWatch(n):i);return De.default.useEffect(()=>{r._removeUnmounted()}),d}function xE(t){let e=dl(),{name:r,control:n=e.control,shouldUnregister:i}=t,o=ME(n._names.array,r),s=GE({control:n,name:r,defaultValue:be(n._formValues,r,be(n._defaultValues,r,t.defaultValue)),exact:!0}),a=$E({control:n,name:r}),f=De.default.useRef(n.register(r,Object.assign(Object.assign({},t.rules),{value:s})));return De.default.useEffect(()=>{let d=(m,v)=>{let y=be(n._fields,m);y&&(y._f.mount=v)};return d(r,!0),()=>{let m=n._options.shouldUnregister||i;(o?m&&!n._stateFlags.action:m)?n.unregister(r):d(r,!1)}},[r,n,o,i]),{field:{name:r,value:s,onChange:De.default.useCallback(d=>{f.current.onChange({target:{value:LE(d),name:r},type:TN})},[r]),onBlur:De.default.useCallback(()=>{f.current.onBlur({target:{value:be(n._formValues,r),name:r},type:jE})},[r,n]),ref:De.default.useCallback(d=>{let m=be(n._fields,r);d&&m&&d.focus&&(m._f.ref={focus:()=>d.focus(),setCustomValidity:v=>d.setCustomValidity(v),reportValidity:()=>d.reportValidity()})},[r,n._fields])},formState:a,fieldState:n.getFieldState(r,a)}}var JE=(t,e,r,n,i)=>e?Object.assign(Object.assign({},r[t]),{types:Object.assign(Object.assign({},r[t]&&r[t].types?r[t].types:{}),{[n]:i||!0})}):{},Qp=t=>/^\w*$/.test(t),YE=t=>fl(t.replace(/["|']|\]/g,"").split(/\.|\[/));function dt(t,e,r){let n=-1,i=Qp(e)?[e]:YE(e),o=i.length,s=o-1;for(;++n<o;){let a=i[n],f=r;if(n!==s){let d=t[a];f=Vt(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}t[a]=f,t=t[a]}return t}var sf=(t,e,r)=>{for(let n of r||Object.keys(t)){let i=be(t,n);if(i){let o=i._f,s=uf(i,"_f");if(o&&e(o.name)){if(o.ref.focus&&ot(o.ref.focus()))break;if(o.refs){o.refs[0].focus();break}}else Vt(s)&&sf(s,e)}}},xi=()=>{let t=typeof performance>"u"?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let r=(16*Math.random()+t)%16|0;return(e=="x"?r:3&r|8).toString(16)})},Bp=(t,e,r={})=>r.shouldFocus||ot(r.shouldFocus)?r.focusName||`${t}.${ot(r.focusIndex)?e:r.focusIndex}.`:"",Kp=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));function Up(t,e){return[...t,...Pr(e)]}function xn(t){let e,r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else{if(!r&&!Vt(t))return t;e=r?[]:{};for(let n in t){if(cf(t[n])){e=t;break}e[n]=xn(t[n])}}return e}var zp=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Vp(t,e,r){return[...t.slice(0,e),...Pr(r),...t.slice(e)]}var Wp=(t,e,r)=>Array.isArray(t)?(ot(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[];function qp(t,e){return[...Pr(e),...Pr(t)]}var $p=(t,e)=>ot(e)?[]:function(r,n){let i=0,o=[...r];for(let s of n)o.splice(s-i,1),i++;return fl(o).length?o:[]}(t,Pr(e).sort((r,n)=>r-n)),Hp=(t,e,r)=>{t[e]=[t[r],t[r]=t[e]][0]},OE=(t,e,r)=>(t[e]=r,t);function Gp(){let t=[];return{get observers(){return t},next:e=>{for(let r of t)r.next(e)},subscribe:e=>(t.push(e),{unsubscribe:()=>{t=t.filter(r=>r!==e)}}),unsubscribe:()=>{t=[]}}}var af=t=>Er(t)||!PE(t);function Es(t,e){if(af(t)||af(e))return t===e;if(Ss(t)&&Ss(e))return t.getTime()===e.getTime();let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i of r){let o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){let s=e[i];if(Ss(o)&&Ss(s)||Vt(o)&&Vt(s)||Array.isArray(o)&&Array.isArray(s)?!Es(o,s):o!==s)return!1}}return!0}var kE=t=>({isOnSubmit:!t||t===UE,isOnBlur:t===NN,isOnChange:t===BE,isOnAll:t===hl,isOnTouch:t===IN}),pl=t=>typeof t=="boolean",ey=t=>t.type==="file",Zp=t=>t instanceof HTMLElement,KE=t=>t.type==="select-multiple",ty=t=>t.type==="radio",TE=typeof window<"u"&&window.HTMLElement!==void 0&&typeof document<"u",Jp=t=>Zp(t)&&t.isConnected;function lr(t,e){let r=Qp(e)?[e]:YE(e),n=r.length==1?t:function(s,a){let f=a.slice(0,-1).length,d=0;for(;d<f;)s=ot(s)?d++:s[a[d++]];return s}(t,r),i=r[r.length-1],o;n&&delete n[i];for(let s=0;s<r.slice(0,-1).length;s++){let a,f=-1,d=r.slice(0,-(s+1)),m=d.length-1;for(s>0&&(o=t);++f<d.length;){let v=d[f];a=a?a[v]:t[v],m===f&&(Vt(a)&&Cr(a)||Array.isArray(a)&&!a.filter(y=>Vt(y)&&!Cr(y)||pl(y)||Array.isArray(y)&&y.length).length)&&(o?delete o[v]:delete t[v]),o=a}}return t}function rf(t,e={}){let r=Array.isArray(t);if(Vt(t)||r)for(let n in t)Array.isArray(t[n])||Vt(t[n])&&!Xp(t[n])?(e[n]=Array.isArray(t[n])?[]:{},rf(t[n],e[n])):Er(t[n])||(e[n]=!0);return e}var NE=(t,e)=>function r(n,i,o){let s=Array.isArray(n);if(Vt(n)||s)for(let a in n)Array.isArray(n[a])||Vt(n[a])&&!Xp(n[a])?ot(i)||af(o[a])?o[a]=Array.isArray(n[a])?rf(n[a],[]):Object.assign({},rf(n[a])):r(n[a],Er(i)?{}:i[a],o[a]):o[a]=!Es(n[a],i[a]);return o}(t,e,rf(e)),IE={value:!1,isValid:!1},AE={value:!0,isValid:!0},ZE=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ot(t[0].attributes.value)?ot(t[0].value)||t[0].value===""?AE:{value:t[0].value,isValid:!0}:AE:IE}return IE},XE=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ot(t)?t:e?t===""?NaN:+t:r&&On(t)?new Date(t):n?n(t):t,RE={isValid:!1,value:null},QE=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,RE):RE;function Yp(t){let e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return ey(e)?e.files:ty(e)?QE(t.refs).value:KE(e)?[...e.selectedOptions].map(({value:r})=>r):cl(e)?ZE(t.refs).value:XE(ot(e.value)?t.ref.value:e.value,t)}var lf=t=>t instanceof RegExp,ul=t=>ot(t)?void 0:lf(t)?t.source:Vt(t)?lf(t.value)?t.value.source:t.value:t;function DE(t,e,r){let n=be(t,r);if(n||Qp(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),s=be(e,o),a=be(t,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:r}}var nf=t=>On(t)||De.default.isValidElement(t);function FE(t,e,r="validate"){if(nf(t)||Array.isArray(t)&&t.every(nf)||pl(t)&&!t)return{type:r,message:nf(t)?t:"",ref:e}}var _s=t=>Vt(t)&&!lf(t)?t:{value:t,message:""},CE=async(t,e,r,n)=>{let{ref:i,refs:o,required:s,maxLength:a,minLength:f,min:d,max:m,pattern:v,validate:y,name:w,valueAsNumber:b,mount:A,disabled:k}=t._f;if(!A||k)return{};let N=o?o[0]:i,F=te=>{n&&N.reportValidity&&(N.setCustomValidity(pl(te)?"":te||" "),N.reportValidity())},Y={},H=ty(i),Z=cl(i),L=H||Z,V=(b||ey(i))&&!i.value||e===""||Array.isArray(e)&&!e.length,S=JE.bind(null,w,r,Y),W=(te,X,le,ae=DN,ye=FN)=>{let M=te?X:le;Y[w]=Object.assign({type:te?ae:ye,message:M,ref:i},S(te?ae:ye,M))};if(s&&(!L&&(V||Er(e))||pl(e)&&!e||Z&&!ZE(o).isValid||H&&!QE(o).isValid)){let{value:te,message:X}=nf(s)?{value:!!s,message:s}:_s(s);if(te&&(Y[w]=Object.assign({type:bE,message:X,ref:N},S(bE,X)),!r))return F(X),Y}if(!(V||Er(d)&&Er(m))){let te,X,le=_s(m),ae=_s(d);if(isNaN(e)){let ye=i.valueAsDate||new Date(e);On(le.value)&&(te=ye>new Date(le.value)),On(ae.value)&&(X=ye<new Date(ae.value))}else{let ye=i.valueAsNumber||+e;Er(le.value)||(te=ye>le.value),Er(ae.value)||(X=ye<ae.value)}if((te||X)&&(W(!!te,le.message,ae.message,AN,RN),!r))return F(Y[w].message),Y}if((a||f)&&!V&&On(e)){let te=_s(a),X=_s(f),le=!Er(te.value)&&e.length>te.value,ae=!Er(X.value)&&e.length<X.value;if((le||ae)&&(W(le,te.message,X.message),!r))return F(Y[w].message),Y}if(v&&!V&&On(e)){let{value:te,message:X}=_s(v);if(lf(te)&&!e.match(te)&&(Y[w]=Object.assign({type:EE,message:X,ref:i},S(EE,X)),!r))return F(X),Y}if(y){if(cf(y)){let te=FE(await y(e),N);if(te&&(Y[w]=Object.assign(Object.assign({},te),S(CN,te.message)),!r))return F(te.message),Y}else if(Vt(y)){let te={};for(let X in y){if(!Cr(te)&&!r)break;let le=FE(await y[X](e),N,X);le&&(te=Object.assign(Object.assign({},le),S(X,le.message)),F(le.message),r&&(Y[w]=te))}if(!Cr(te)&&(Y[w]=Object.assign({ref:N},te),!r))return Y}}return F(!0),Y},PN={mode:UE,reValidateMode:BE,shouldFocusError:!0};function LN(t={}){let e,r=Object.assign(Object.assign({},PN),t),n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},o=r.defaultValues||{},s=r.shouldUnregister?{}:xn(o),a={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d=0,m={},v={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:Gp(),array:Gp(),state:Gp()},w=kE(r.mode),b=kE(r.reValidateMode),A=r.criteriaMode===hl,k=async U=>{let z=!1;return v.isValid&&(z=r.resolver?Cr((await Z()).errors):await L(i,!0),U||z===n.isValid||(n.isValid=z,y.state.next({isValid:z}))),z},N=(U,z)=>(dt(n.errors,U,z),y.state.next({errors:n.errors})),F=(U,z,G,ue)=>{let oe=be(i,U);if(oe){let ne=be(s,U,ot(G)?be(o,U):G);ot(ne)||ue&&ue.defaultChecked||z?dt(s,U,z?ne:Yp(oe._f)):W(U,ne),a.mount&&k()}},Y=(U,z,G,ue,oe)=>{let ne=!1,se={name:U},pe=be(n.touchedFields,U);if(v.isDirty){let Ee=n.isDirty;n.isDirty=se.isDirty=V(),ne=Ee!==se.isDirty}if(v.dirtyFields&&(!G||ue)){let Ee=be(n.dirtyFields,U);Es(be(o,U),z)?lr(n.dirtyFields,U):dt(n.dirtyFields,U,!0),se.dirtyFields=n.dirtyFields,ne=ne||Ee!==be(n.dirtyFields,U)}return G&&!pe&&(dt(n.touchedFields,U,G),se.touchedFields=n.touchedFields,ne=ne||v.touchedFields&&pe!==G),ne&&oe&&y.state.next(se),ne?se:{}},H=async(U,z,G,ue,oe)=>{let ne=be(n.errors,z),se=v.isValid&&n.isValid!==G;var pe,Ee;if(t.delayError&&ue?(e=e||(pe=N,Ee=t.delayError,(...Ie)=>{clearTimeout(d),d=window.setTimeout(()=>pe(...Ie),Ee)}),e(z,ue)):(clearTimeout(d),ue?dt(n.errors,z,ue):lr(n.errors,z)),((ue?!Es(ne,ue):ne)||!Cr(oe)||se)&&!U){let Ie=Object.assign(Object.assign(Object.assign({},oe),se?{isValid:G}:{}),{errors:n.errors,name:z});n=Object.assign(Object.assign({},n),Ie),y.state.next(Ie)}m[z]--,v.isValidating&&!Object.values(m).some(Ie=>Ie)&&(y.state.next({isValidating:!1}),m={})},Z=async U=>r.resolver?await r.resolver(Object.assign({},s),r.context,((z,G,ue,oe)=>{let ne={};for(let se of z){let pe=be(G,se);pe&&dt(ne,se,pe._f)}return{criteriaMode:ue,names:[...z],fields:ne,shouldUseNativeValidation:oe}})(U||f.mount,i,r.criteriaMode,r.shouldUseNativeValidation)):{},L=async(U,z,G={valid:!0})=>{for(let ue in U){let oe=U[ue];if(oe){let ne=oe._f,se=uf(oe,"_f");if(ne){let pe=await CE(oe,be(s,ne.name),A,r.shouldUseNativeValidation);if(pe[ne.name]&&(G.valid=!1,z))break;z||(pe[ne.name]?dt(n.errors,ne.name,pe[ne.name]):lr(n.errors,ne.name))}se&&await L(se,z,G)}}return G.valid},V=(U,z)=>(U&&z&&dt(s,U,z),!Es(ye(),o)),S=(U,z,G)=>{let ue=Object.assign({},a.mount?s:ot(z)?o:On(U)?{[U]:z}:z);return HE(U,f,ue,G)},W=(U,z,G={})=>{let ue=be(i,U),oe=z;if(ue){let ne=ue._f;ne&&(!ne.disabled&&dt(s,U,XE(z,ne)),oe=TE&&Zp(ne.ref)&&Er(z)?"":z,KE(ne.ref)?[...ne.ref.options].forEach(se=>se.selected=oe.includes(se.value)):ne.refs?cl(ne.ref)?ne.refs.length>1?ne.refs.forEach(se=>se.checked=Array.isArray(oe)?!!oe.find(pe=>pe===se.value):oe===se.value):ne.refs[0]&&(ne.refs[0].checked=!!oe):ne.refs.forEach(se=>se.checked=se.value===oe):ey(ne.ref)?ne.ref.value="":(ne.ref.value=oe,ne.ref.type||y.watch.next({name:U})))}(G.shouldDirty||G.shouldTouch)&&Y(U,oe,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&ae(U)},te=(U,z,G)=>{for(let ue in z){let oe=z[ue],ne=`${U}.${ue}`,se=be(i,ne);!f.array.has(U)&&af(oe)&&(!se||se._f)||Ss(oe)?W(ne,oe,G):te(ne,oe,G)}},X=(U,z,G={})=>{let ue=be(i,U),oe=f.array.has(U),ne=xn(z);dt(s,U,ne),oe?(y.array.next({name:U,values:s}),(v.isDirty||v.dirtyFields)&&G.shouldDirty&&(n.dirtyFields=NE(o,s),y.state.next({name:U,dirtyFields:n.dirtyFields,isDirty:V(U,ne)}))):!ue||ue._f||Er(ne)?W(U,ne,G):te(U,ne,G),Kp(U,f)&&y.state.next({}),y.watch.next({name:U})},le=async U=>{let z=U.target,G=z.name,ue=be(i,G);if(ue){let ne,se,pe=z.type?Yp(ue._f):LE(U),Ee=U.type===jE||U.type===kN,Ie=!((oe=ue._f).mount&&(oe.required||oe.min||oe.max||oe.maxLength||oe.minLength||oe.pattern||oe.validate)||r.resolver||be(n.errors,G)||ue._f.deps)||(($,K,J,_e,C)=>!C.isOnAll&&(!J&&C.isOnTouch?!(K||$):(J?_e.isOnBlur:C.isOnBlur)?!$:!(J?_e.isOnChange:C.isOnChange)||$))(Ee,be(n.touchedFields,G),n.isSubmitted,b,w),O=Kp(G,f,Ee);dt(s,G,pe),Ee?ue._f.onBlur&&ue._f.onBlur(U):ue._f.onChange&&ue._f.onChange(U);let R=Y(G,pe,Ee,!1),j=!Cr(R)||O;if(!Ee&&y.watch.next({name:G,type:U.type}),Ie)return j&&y.state.next(Object.assign({name:G},O?{}:R));if(!Ee&&O&&y.state.next({}),m[G]=(m[G],1),y.state.next({isValidating:!0}),r.resolver){let{errors:$}=await Z([G]),K=DE(n.errors,i,G),J=DE($,i,K.name||G);ne=J.error,G=J.name,se=Cr($)}else ne=(await CE(ue,be(s,G),A,r.shouldUseNativeValidation))[G],se=await k(!0);ue._f.deps&&ae(ue._f.deps),H(!1,G,se,ne,R)}var oe},ae=async(U,z={})=>{let G,ue,oe=Pr(U);if(y.state.next({isValidating:!0}),r.resolver){let ne=await(async se=>{let{errors:pe}=await Z();if(se)for(let Ee of se){let Ie=be(pe,Ee);Ie?dt(n.errors,Ee,Ie):lr(n.errors,Ee)}else n.errors=pe;return pe})(ot(U)?U:oe);G=Cr(ne),ue=U?!oe.some(se=>be(ne,se)):G}else U?(ue=(await Promise.all(oe.map(async ne=>{let se=be(i,ne);return await L(se&&se._f?{[ne]:se}:se)}))).every(Boolean),(ue||n.isValid)&&k()):ue=G=await L(i);return y.state.next(Object.assign(Object.assign(Object.assign({},!On(U)||v.isValid&&G!==n.isValid?{}:{name:U}),r.resolver?{isValid:G}:{}),{errors:n.errors,isValidating:!1})),z.shouldFocus&&!ue&&sf(i,ne=>be(n.errors,ne),U?oe:f.mount),ue},ye=U=>{let z=Object.assign(Object.assign({},o),a.mount?s:{});return ot(U)?z:On(U)?be(z,U):U.map(G=>be(z,G))},M=(U,z)=>({invalid:!!be((z||n).errors,U),isDirty:!!be((z||n).dirtyFields,U),isTouched:!!be((z||n).touchedFields,U),error:be((z||n).errors,U)}),D=(U,z={})=>{for(let G of U?Pr(U):f.mount)f.mount.delete(G),f.array.delete(G),be(i,G)&&(z.keepValue||(lr(i,G),lr(s,G)),!z.keepError&&lr(n.errors,G),!z.keepDirty&&lr(n.dirtyFields,G),!z.keepTouched&&lr(n.touchedFields,G),!r.shouldUnregister&&!z.keepDefaultValue&&lr(o,G));y.watch.next({}),y.state.next(Object.assign(Object.assign({},n),z.keepDirty?{isDirty:V()}:{})),!z.keepIsValid&&k()},ie=(U,z={})=>{let G=be(i,U),ue=pl(z.disabled);return dt(i,U,{_f:Object.assign(Object.assign(Object.assign({},G&&G._f?G._f:{ref:{name:U}}),{name:U,mount:!0}),z)}),f.mount.add(U),G?ue&&dt(s,U,z.disabled?void 0:be(s,U,Yp(G._f))):F(U,!0,z.value),Object.assign(Object.assign(Object.assign({},ue?{disabled:z.disabled}:{}),r.shouldUseNativeValidation?{required:!!z.required,min:ul(z.min),max:ul(z.max),minLength:ul(z.minLength),maxLength:ul(z.maxLength),pattern:ul(z.pattern)}:{}),{name:U,onChange:le,onBlur:le,ref:oe=>{if(oe){ie(U,z),G=be(i,U);let ne=ot(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,se=(Ee=>ty(Ee)||cl(Ee))(ne),pe=G._f.refs||[];if(se?pe.find(Ee=>Ee===ne):ne===G._f.ref)return;dt(i,U,{_f:Object.assign(Object.assign({},G._f),se?{refs:pe.concat(ne).filter(Jp),ref:{type:ne.type,name:U}}:{ref:ne})}),F(U,!1,void 0,ne)}else G=be(i,U,{}),G._f&&(G._f.mount=!1),(r.shouldUnregister||z.shouldUnregister)&&(!ME(f.array,U)||!a.action)&&f.unMount.add(U)}})};return{control:{register:ie,unregister:D,getFieldState:M,_executeSchema:Z,_getWatch:S,_getDirty:V,_updateValid:k,_removeUnmounted:()=>{for(let U of f.unMount){let z=be(i,U);z&&(z._f.refs?z._f.refs.every(G=>!Jp(G)):!Jp(z._f.ref))&&D(U)}f.unMount=new Set},_updateFieldArray:(U,z=[],G,ue,oe=!0,ne=!0)=>{if(ue&&G){if(a.action=!0,ne&&Array.isArray(be(i,U))){let se=G(be(i,U),ue.argA,ue.argB);oe&&dt(i,U,se)}if(v.errors&&ne&&Array.isArray(be(n.errors,U))){let se=G(be(n.errors,U),ue.argA,ue.argB);oe&&dt(n.errors,U,se),((pe,Ee)=>{!fl(be(pe,Ee)).length&&lr(pe,Ee)})(n.errors,U)}if(v.touchedFields&&Array.isArray(be(n.touchedFields,U))){let se=G(be(n.touchedFields,U),ue.argA,ue.argB);oe&&dt(n.touchedFields,U,se)}v.dirtyFields&&(n.dirtyFields=NE(o,s)),y.state.next({isDirty:V(U,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else dt(s,U,z)},_getFieldArray:U=>fl(be(a.mount?s:o,U,t.shouldUnregister?be(o,U,[]):[])),_subjects:y,_proxyFormState:v,get _fields(){return i},get _formValues(){return s},get _stateFlags(){return a},set _stateFlags(U){a=U},get _defaultValues(){return o},get _names(){return f},set _names(U){f=U},get _formState(){return n},set _formState(U){n=U},get _options(){return r},set _options(U){r=Object.assign(Object.assign({},r),U)}},trigger:ae,register:ie,handleSubmit:(U,z)=>async G=>{G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let ue=!0,oe=xn(s);y.state.next({isSubmitting:!0});try{if(r.resolver){let{errors:ne,values:se}=await Z();n.errors=ne,oe=se}else await L(i);Cr(n.errors)&&Object.keys(n.errors).every(ne=>be(oe,ne))?(y.state.next({errors:{},isSubmitting:!0}),await U(oe,G)):(z&&await z(Object.assign({},n.errors),G),r.shouldFocusError&&sf(i,ne=>be(n.errors,ne),f.mount))}catch(ne){throw ue=!1,ne}finally{n.isSubmitted=!0,y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cr(n.errors)&&ue,submitCount:n.submitCount+1,errors:n.errors})}},watch:(U,z)=>cf(U)?y.watch.subscribe({next:G=>U(S(void 0,z),G)}):S(U,z,!0),setValue:X,getValues:ye,reset:(U,z={})=>{let G=U||o,ue=xn(G),oe=U&&!Cr(U)?ue:o;if(z.keepDefaultValues||(o=G),!z.keepValues){if(TE&&ot(U))for(let ne of f.mount){let se=be(i,ne);if(se&&se._f){let pe=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;try{Zp(pe)&&pe.closest("form").reset();break}catch{}}}s=t.shouldUnregister?z.keepDefaultValues?xn(o):{}:ue,i={},y.array.next({values:oe}),y.watch.next({values:oe})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!v.isValid||!!z.keepIsValid,a.watch=!!t.shouldUnregister,y.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:z.keepDirty?n.isDirty:!!z.keepDefaultValues&&!Es(U,o),isSubmitted:!!z.keepIsSubmitted&&n.isSubmitted,dirtyFields:z.keepDirty?n.dirtyFields:z.keepDefaultValues&&U?Object.entries(U).reduce((ne,[se,pe])=>Object.assign(Object.assign({},ne),{[se]:pe!==be(o,se)}),{}):{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(U,z={})=>{be(i,U)&&(ot(z.defaultValue)?X(U,be(o,U)):(X(U,z.defaultValue),dt(o,U,z.defaultValue)),z.keepTouched||lr(n.touchedFields,U),z.keepDirty||(lr(n.dirtyFields,U),n.isDirty=z.defaultValue?V(U,be(o,U)):V()),z.keepError||(lr(n.errors,U),v.isValid&&k()),y.state.next(Object.assign({},n)))},clearErrors:U=>{U?Pr(U).forEach(z=>lr(n.errors,z)):n.errors={},y.state.next({errors:n.errors})},unregister:D,setError:(U,z,G)=>{let ue=(be(i,U,{_f:{}})._f||{}).ref;dt(n.errors,U,Object.assign(Object.assign({},z),{ref:ue})),y.state.next({name:U,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&ue&&ue.focus&&ue.focus()},setFocus:(U,z={})=>{let G=be(i,U)._f,ue=G.refs?G.refs[0]:G.ref;z.shouldSelect?ue.select():ue.focus()},getFieldState:M}}Fr.Controller=t=>t.render(xE(t)),Fr.FormProvider=t=>De.default.createElement(zE.Provider,{value:uf(t,"children")},t.children),Fr.appendErrors=JE,Fr.get=be,Fr.set=dt,Fr.useController=xE,Fr.useFieldArray=function(t){let e=dl(),{control:r=e.control,name:n,keyName:i="id",shouldUnregister:o}=t,[s,a]=De.default.useState(r._getFieldArray(n)),f=De.default.useRef(r._getFieldArray(n).map(xi)),d=De.default.useRef(s),m=De.default.useRef(n),v=De.default.useRef(!1);m.current=n,d.current=s,r._names.array.add(n),of({callback:De.default.useCallback(({values:w,name:b})=>{if(b===m.current||!b){let A=be(w,m.current,[]);a(A),f.current=A.map(xi)}},[]),subject:r._subjects.array});let y=De.default.useCallback(w=>{v.current=!0,r._updateFieldArray(n,w)},[r,n]);return De.default.useEffect(()=>{r._stateFlags.action=!1,Kp(n,r._names)&&r._subjects.state.next({}),v.current&&r._executeSchema([n]).then(w=>{let b=be(w.errors,n);b&&b.type&&!be(r._formState.errors,n)&&(dt(r._formState.errors,n,b),r._subjects.state.next({errors:r._formState.errors}))}),r._subjects.watch.next({name:n,values:r._formValues}),r._names.focus&&sf(r._fields,w=>w.startsWith(r._names.focus)),r._names.focus="",r._proxyFormState.isValid&&r._updateValid()},[s,n,r]),De.default.useEffect(()=>(!be(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||o)&&r.unregister(n)}),[n,r,i,o]),{swap:De.default.useCallback((w,b)=>{let A=r._getFieldArray(n);Hp(A,w,b),Hp(f.current,w,b),y(A),a(A),r._updateFieldArray(n,A,Hp,{argA:w,argB:b},!1)},[y,n,r]),move:De.default.useCallback((w,b)=>{let A=r._getFieldArray(n);Wp(A,w,b),Wp(f.current,w,b),y(A),a(A),r._updateFieldArray(n,A,Wp,{argA:w,argB:b},!1)},[y,n,r]),prepend:De.default.useCallback((w,b)=>{let A=Pr(xn(w)),k=qp(r._getFieldArray(n),A);r._names.focus=Bp(n,0,b),f.current=qp(f.current,A.map(xi)),y(k),a(k),r._updateFieldArray(n,k,qp,{argA:zp(w)})},[y,n,r]),append:De.default.useCallback((w,b)=>{let A=Pr(xn(w)),k=Up(r._getFieldArray(n),A);r._names.focus=Bp(n,k.length-1,b),f.current=Up(f.current,A.map(xi)),y(k),a(k),r._updateFieldArray(n,k,Up,{argA:zp(w)})},[y,n,r]),remove:De.default.useCallback(w=>{let b=$p(r._getFieldArray(n),w);f.current=$p(f.current,w),y(b),a(b),r._updateFieldArray(n,b,$p,{argA:w})},[y,n,r]),insert:De.default.useCallback((w,b,A)=>{let k=Pr(xn(b)),N=Vp(r._getFieldArray(n),w,k);r._names.focus=Bp(n,w,A),f.current=Vp(f.current,w,k.map(xi)),y(N),a(N),r._updateFieldArray(n,N,Vp,{argA:w,argB:zp(b)})},[y,n,r]),update:De.default.useCallback((w,b)=>{let A=OE(r._getFieldArray(n),w,b);f.current=[...A].map((k,N)=>k&&N!==w?f.current[N]:xi()),y(A),a([...A]),r._updateFieldArray(n,A,OE,{argA:w,argB:b},!0,!1)},[y,n,r]),replace:De.default.useCallback(w=>{let b=Pr(xn(w));f.current=b.map(xi),y([...b]),a([...b]),r._updateFieldArray(n,[...b],A=>A,{},!0,!1)},[y,n,r]),fields:De.default.useMemo(()=>s.map((w,b)=>Object.assign(Object.assign({},w),{[i]:f.current[b]||xi()})),[s,i])}},Fr.useForm=function(t={}){let e=De.default.useRef(),[r,n]=De.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});e.current?e.current.control._options=t:e.current=Object.assign(Object.assign({},LN(t)),{formState:r});let i=e.current.control,o=De.default.useCallback(s=>{WE(s,i._proxyFormState,!0)&&(i._formState=Object.assign(Object.assign({},i._formState),s),n(Object.assign({},i._formState)))},[i]);return of({subject:i._subjects.state,callback:o}),De.default.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),e.current.formState=VE(r,i._proxyFormState),e.current},Fr.useFormContext=dl,Fr.useFormState=$E,Fr.useWatch=GE});var df=xe(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.TextInput=void 0;var yl=ut(),bs=(0,yl.__importDefault)(Le()),ff=(0,yl.__importDefault)(zt()),MN=al(),jN=bi(),BN=function(t){var e=t.validation,r=e===void 0?"default":e,n=t.className,i=t.label,o=t.labelType,s=o===void 0?"default":o,a=t.inputClassName,f=t.button,d=t.register,m=(0,yl.__rest)(t,["validation","className","label","labelType","inputClassName","button","register"]),v=i&&s,y=bs.default.createElement("input",(0,yl.__assign)({alt:i},m,{className:(0,ff.default)("px-3 py-1.5 outline-0 border w-full",jN.TextInputBorderMap[r],m.disabled&&"bg-secondary-200",v!=="addon"&&"rounded-l-sm",!f&&"rounded-r",i||f?a:n)},d));return i||f?bs.default.createElement("div",{className:(0,ff.default)("flex",v==="default"?"flex-col":"flex-row",n)},i&&bs.default.createElement("div",{className:(0,ff.default)("flex",v==="default"&&"pb-2",v==="row:1/3"&&"w-1/3",v==="row:1/4"&&"w-1/4",v==="row:2/5"&&"w-2/5",v==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},bs.default.createElement("span",{className:(0,ff.default)(v!=="default"&&"m-auto")},i)),f?bs.default.createElement("div",{className:"flex flex-row w-full"},y,bs.default.createElement(MN.Button,(0,yl.__assign)({shape:"flat",className:"rounded-r-sm"},f),f.label)):y):y};hf.TextInput=BN});var nb=xe(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.Login=void 0;var ny=ut(),eb=(0,ny.__importDefault)(zt()),It=(0,ny.__importDefault)(Le()),UN=ry(),tb=df(),zN=bi(),rb=al(),VN=Gc();function WN(t){var e=t.onLoginClick,r=t.companyName,n=t.onSignUpClick,i=t.isLoading,o=t.useRegularLogin,s=t.thirdPartyLogins,a=t.className,f=t.style,d=(0,UN.useForm)(),m=d.register,v=d.handleSubmit,y=d.formState,w=d.reset,b=d.setValue,A=y.errors,k=y.submitCount,N=function(L){w(),b("email",L.email),b("password",L.password),e==null||e(L)},F="rounded-md text-sm font-medium",Y="py-2.5 pl-3 text-base font-semibold "+(i?"bg-gray-200":"bg-gray-50"),H=k>0&&A.email,Z=k>0&&A.password;return It.default.createElement("form",{className:(0,eb.default)("bg-white rounded max-w-lg w-full p-10",a),style:f,onSubmit:v(N)},It.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",r||"your account"),n&&It.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",It.default.createElement("a",{onClick:i?void 0:n,className:(0,eb.default)(`
                    hover:text-gray-500 focus:text-gray-500 focus:outline-none
                    focus:underline hover:underline text-sm font-medium leading-none
                    text-gray-800`,i?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),It.default.createElement("div",{className:"mt-4"}),s==null?void 0:s.map(function(L,V){return It.default.createElement(qN,(0,ny.__assign)({},L,{disabled:i,key:V}))}),s&&o&&It.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},It.default.createElement("hr",{className:"w-full bg-gray-400"}),It.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),It.default.createElement("hr",{className:"w-full bg-gray-400"})),o&&It.default.createElement(It.default.Fragment,null,It.default.createElement(tb.TextInput,{label:"Email",className:F,inputClassName:Y,disabled:i,validation:H?"danger":"default",register:m("email",{required:!0,pattern:zN.regexpUtil.email})}),It.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",H?"Please enter a valid email":""),It.default.createElement(tb.TextInput,{label:"Password",type:"password",className:F,inputClassName:Y,disabled:i,validation:H?"danger":"default",register:m("password",{required:!0})}),It.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",Z?"Please enter your password":""),It.default.createElement("div",{className:"mt-6"},It.default.createElement(rb.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:i,htmlType:"submit"},i?It.default.createElement(VN.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))}pf.Login=WN;var qN=function(t){var e=t.disabled,r=t.name,n=t.logo,i=t.onClick;return It.default.createElement(rb.Button,{size:"auto",outline:!0,type:"secondary",disabled:e,onClick:i,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,It.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var ib=xe(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.Modal=void 0;var yf=ut(),$N=ir(),HN=(0,yf.__importDefault)(zt()),un=(0,yf.__importDefault)(Le()),GN=Zc();function JN(t){var e=t.zIndex,r=e===void 0?1004:e,n=t.className,i=t.style,o=t.header,s=t.onClose,a=t.onBackdropClick,f=t.children;return un.default.createElement(un.default.Fragment,null,un.default.createElement(GN.Backdrop,(0,yf.__assign)({},{zIndex:r-1,onBackdropClick:a,transition:!1})),un.default.createElement("div",{className:(0,HN.default)("fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2","border border-secondary-300 shadow-lg bg-white w-11/12 md:max-w-md mx-auto rounded overflow-y-auto",n),style:(0,yf.__assign)({zIndex:r},i)},un.default.createElement("div",{className:"relative"},un.default.createElement("div",{className:"cursor-pointer absolute top-3.5 right-3.5",onClick:s},un.default.createElement("svg",{className:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 18 18"},un.default.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}))),un.default.createElement("div",{className:"py-4 px-6"},o&&un.default.createElement("div",{className:"pb-3"},(0,$N.isType)(o,"string")?un.default.createElement("p",{className:"text-2xl font-bold"},o):o),f))))}mf.Modal=JN});var ob=xe(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.SquareGrid=void 0;var iy=ut(),cn=(0,iy.__importStar)(Le()),YN=ir(),KN=function(t){(0,iy.__extends)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={sizeBy:"vw"},r.componentDidMount=function(){var n=function(){var i=window.innerHeight>window.innerWidth?"vw":"vh";i!==r.state.sizeBy&&r.setState({sizeBy:i})};n(),r.resizeRef=QN(n)},r.componentWillUnmount=function(){var n;return(n=r.resizeRef)===null||n===void 0?void 0:n.stop()},r.render=function(){var n=r.props,i=r.state,o="85"+i.sizeBy;return cn.default.createElement("div",{className:"border flex flex-col",style:{height:o,width:o}},cn.default.createElement(ZN,{items:n.items}))},r}return e}(cn.Component);gf.SquareGrid=KN;function ZN(t){var e=(0,cn.useState)("0"),r=e[0],n=e[1],i=(0,cn.useState)([]),o=i[0],s=i[1];return(0,cn.useEffect)(function(){var a=t.items.length,f=Math.ceil(Math.sqrt(a)),d=(0,YN.arrDivide)(t.items,a/f);s(d),n((100/d.length).toFixed(5)+"%")},[t.items]),cn.default.createElement(cn.default.Fragment,null,o.map(function(a,f){return cn.default.createElement("div",{className:"flex flex-row",style:{height:r},key:f},a.map(function(d,m){return cn.default.createElement(XN,(0,iy.__assign)({},{children:d,size:r},{key:m}))}))}))}function XN(t){var e=t.children,r=t.size;return cn.default.createElement("div",{style:{width:r},className:"h-full m-auto"},e)}function QN(t){return addEventListener("resize",t),{stop:function(){return removeEventListener("resize",t)}}}});var sb=xe(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.Radio=void 0;var sy=ut(),oy=(0,sy.__importDefault)(Le()),e8=function(t){var e=t.label,r=t.disabled,n=(0,sy.__rest)(t,["label","disabled"]);return oy.default.createElement("label",{className:"inline-flex items-center"},oy.default.createElement("input",(0,sy.__assign)({type:"radio",name:"vehicle",className:"h-5 w-5 text-red-600",disabled:r},n)),e&&oy.default.createElement("span",{className:"ml-2 text-gray-700"},e))};vf.Radio=e8});var ab=xe(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.TextArea=void 0;var Sf=ut(),wf=(0,Sf.__importDefault)(Le()),t8=bi(),_f=(0,Sf.__importDefault)(zt());function r8(t){var e=t.validation,r=e===void 0?"default":e,n=t.className,i=t.label,o=t.labelType,s=o===void 0?"default":o,a=t.inputClassName,f=t.register,d=(0,Sf.__rest)(t,["validation","className","label","labelType","inputClassName","register"]),m=i&&s,v=wf.default.createElement("textarea",(0,Sf.__assign)({alt:i},d,{className:(0,_f.default)("px-3 py-1.5 outline-0 border w-full rounded-r-sm",t8.TextInputBorderMap[r],d.disabled&&"bg-secondary-200",m!=="addon"&&"rounded-l-sm",i?a:n)}));return i?wf.default.createElement("div",{className:(0,_f.default)("flex",m==="default"?"flex-col":"flex-row",n)},i&&wf.default.createElement("div",{className:(0,_f.default)("flex",m==="default"&&"pb-2",m==="row:1/3"&&"w-1/3",m==="row:1/4"&&"w-1/4",m==="row:2/5"&&"w-2/5",m==="addon"&&"border border-secondary-400 rounded-l-sm py-0.5 px-3 bg-secondary-200 text-secondary-500")},wf.default.createElement("span",{className:(0,_f.default)(m!=="default"&&"m-auto")},i)),v):v}Ef.TextArea=r8});var lb=xe(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.Toggle=void 0;var ay=ut(),Oi=(0,ay.__importStar)(Le()),n8=function(t){var e=t.onChange,r=t.label,n=(0,ay.__rest)(t,["onChange","label"]),i=(0,Oi.useState)(!1),o=i[0],s=i[1];return Oi.default.createElement("div",{className:"flex flex-col"},Oi.default.createElement("label",{className:"mt-3 inline-flex items-center cursor-pointer"},Oi.default.createElement("span",{className:"relative"},Oi.default.createElement("span",{className:"block w-10 h-6 rounded-full shadow-inner ".concat(o?"bg-primary-300":"bg-secondary-200")}),Oi.default.createElement("span",{className:"absolute block w-4 h-4 mt-1 ml-1 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-300 ease-in-out ".concat(o?"transform translate-x-full bg-secondary-300":"bg-secondary-400")},Oi.default.createElement("input",(0,ay.__assign)({},n,{type:"checkbox",className:"absolute opacity-0 w-0 h-0",onChange:function(a){s(a.target.checked),e(a.target.checked)}})))),r&&Oi.default.createElement("span",{className:"ml-3 text-sm"},r)))};bf.Toggle=n8});var hb=xe(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.NavDrawer=void 0;var fn=ut(),Ze=(0,fn.__importStar)(Le()),po=(0,fn.__importDefault)(zt()),cb=ir(),i8=Jc(),o8=Zc(),s8=bi(),a8=function(t){var e=t.brand,r=t.fixed,n=r===void 0?!1:r,i=t.zIndex,o=i===void 0?1002:i,s=t.user,a=t.onBrandClick,f=t.onAvatarClick,d=t.onBackdropClick,m=t.menuItems,v=t.isOpen,y=t.className,w=t.style;return Ze.default.createElement(Ze.default.Fragment,null,n&&v&&Ze.default.createElement(o8.Backdrop,(0,fn.__assign)({},{onBackdropClick:d,zIndex:o-1})),Ze.default.createElement("div",{className:(0,po.default)(`
        flex flex-col bg-white
        dark:bg-gray-800 dark:border-gray-600
        shadow text-secondary-600 w-64
        transition-all duration-500`,n&&"h-screen fixed top-0 "+(n==="left"?"left-0":"right-0"),n&&[!v&&n==="left"&&"-translate-x-full",!v&&n==="right"&&"translate-x-full"],s8.customScrollBar,y),style:(0,fn.__assign)({zIndex:o},w)},e&&Ze.default.createElement("div",{className:(0,po.default)("border-b border-secondary-200 px-2 py-1.5",a&&"cursor-pointer"),onClick:a},(0,cb.isType)(e,"string")?Ze.default.createElement("h2",{className:(0,po.default)("text-3xl font-semibold text-gray-800 dark:text-white")},e):e),s&&Ze.default.createElement("div",{className:(0,po.default)("flex items-center border-b border-secondary-200 pl-1.5 py-2",f&&"cursor-pointer"),onClick:f},Ze.default.createElement(i8.Avatar,(0,fn.__assign)({dataState:"done",size:"sm"},s)),Ze.default.createElement("h4",{className:"ml-1 font-medium text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},s.name)),Ze.default.createElement("div",{className:"flex flex-col justify-between flex-1"},Ze.default.createElement("nav",{className:"px-1.5"},m.map(function(b,A){return Ze.default.createElement(fb,(0,fn.__assign)({},b,{key:A}))})))))};xf.NavDrawer=a8;var ub=function(t){var e=t.children,r=t.isActive,n=t.getHeight,i=(0,fn.__rest)(t,["children","isActive","getHeight"]);return Ze.default.createElement("div",(0,fn.__assign)({className:(0,po.default)(`
        flex items-center
        my-1 px-4 py-2 rounded-md
        text-gray-600 dark:text-gray-400
    `,i.onClick&&"cursor-pointer",r?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200":"hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200")},i),e)},fb=function(t){switch(t.type){case"action":{var e=t.isActive,r=t.icon,n=t.title,i=t.onClick;return(0,cb.isType)(n,"string")?Ze.default.createElement(ub,(0,fn.__assign)({},{isActive:e,onClick:i}),r&&r,Ze.default.createElement("span",{className:"mx-4 font-medium"},n)):n}case"break":return Ze.default.createElement("hr",{className:"my-1 dark:border-gray-600"});case"section":return Ze.default.createElement("div",{className:`\r
                overflow-hidden my-1 py-2\r
                text-gray-600 dark:text-gray-400\r
            `},Ze.default.createElement("span",{className:"px-3 font-medium"},t.title));case"sub-menu":{var r=t.icon,n=t.title,o=t.subMenu,s=(0,Ze.useState)(!1),a=s[0],f=s[1];return Ze.default.createElement(Ze.default.Fragment,null,Ze.default.createElement(ub,(0,fn.__assign)({},{isActive:a,onClick:function(){return f(!a)}}),r&&r,Ze.default.createElement("span",{className:"mx-4 font-medium"},n),Ze.default.createElement("svg",{className:(0,po.default)("svg-fix transition-transform ml-auto mr-1.5",a&&"-rotate-90"),stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},Ze.default.createElement("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}))),Ze.default.createElement("div",{className:(0,po.default)("overflow-hidden transition-all duration-700",a?"max-h-screen":"max-h-0")},o.map(function(v,y){return Ze.default.createElement(fb,(0,fn.__assign)({},v,{key:y}))})))}default:throw console.error(t),new Error("This type of MenuItem is not implemented.")}}});var pb=xe(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.TopBar=void 0;var Of=ut(),l8=ir(),u8=(0,Of.__importDefault)(zt()),Wt=(0,Of.__importStar)(Le()),c8=Wt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}),f8=Wt.default.createElement("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"});function h8(t){var e=t.fixed,r=t.onMenuExpand,n=t.leftNavItems,i=t.centerContent,o=t.rightNavItems,s=t.zIndex,a=s===void 0?1e3:s,f=t.className,d=t.style,m=t.addSpacer,v=m===void 0?!1:m,y=t.menuIsExpanded,w=(0,Wt.useState)(0),b=w[0],A=w[1],k=(0,Wt.useRef)(null),N=(0,Wt.useRef)(new ResizeObserver(function(V){return A(V[0].borderBoxSize[0].blockSize)}));(0,Wt.useEffect)(function(){return k.current&&N.current.observe(k.current),function(){return N.current.disconnect()}},[k,N]);var F=(0,Wt.useState)(!1),Y=F[0],H=F[1],Z=function(V){return V&&V.map(function(S,W){var te=S.children,X=S.onClick;return Wt.default.createElement(db,(0,Of.__assign)({},{children:te,onClick:X},{key:W}))})},L=(0,l8.isType)(y,"boolean")?!y:!Y;return Wt.default.createElement(Wt.default.Fragment,null,v&&e&&Wt.default.createElement("div",{style:{height:b},className:"w-full"}),Wt.default.createElement("nav",{ref:k,className:(0,u8.default)("bg-white shadow dark:bg-gray-800 flex justify-between p-2 border",e&&"fixed top-0 left-0 right-0",f),style:(0,Of.__assign)({zIndex:a},d)},Wt.default.createElement("ul",{className:"flex flex-row"},r&&Wt.default.createElement(db,{onClick:function(){H(!L),r(!L)}},Wt.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"svg-fix"},L?f8:c8)),Z(n)),i,Wt.default.createElement("ul",{className:"flex flex-row"},Z(o))))}kf.TopBar=h8;var db=function(t){return Wt.default.createElement("li",{className:"p-4 text-neutral-500 hover:text-neutral-800 min-w-2"},Wt.default.createElement("span",{className:"cursor-pointer",onClick:t.onClick},t.children))}});var yb=xe(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.grTo=ki.grFrom=ki.gradients=void 0;ki.gradients={1:"bg-gradient-to-t",2:"bg-gradient-to-tr",3:"bg-gradient-to-r",4:"bg-gradient-to-br",5:"bg-gradient-to-b",6:"bg-gradient-to-bl",7:"bg-gradient-to-l",8:"bg-gradient-to-tl"};ki.grFrom={slate:"from-slate-400",gray:"from-gray-400",red:"from-red-400",pink:"from-pink-400",purple:"from-purple-400",indigo:"from-indigo-400",blue:"from-blue-400",cyan:"from-cyan-400",teal:"from-teal-400",green:"from-green-400",lime:"from-lime-400",yellow:"from-yellow-400",amber:"from-amber-400",orange:"from-orange-400",brown:"from-brown-400",grey:"from-grey-400",emerald:"from-emerald-400",rose:"from-rose-400"};ki.grTo={slate:"to-slate-900",gray:"to-gray-900",red:"to-red-900",pink:"to-pink-900",purple:"to-purple-900",indigo:"to-indigo-900",blue:"to-blue-900",cyan:"to-cyan-900",teal:"to-teal-900",green:"to-green-900",lime:"to-lime-900",yellow:"to-yellow-900",amber:"to-amber-900",orange:"to-orange-900",brown:"to-brown-900",grey:"to-grey-900",emerald:"to-emerald-900",rose:"to-rose-900"}});var wb=xe(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.LoginPage=void 0;var uy=ut(),mb=(0,uy.__importDefault)(zt()),pt=(0,uy.__importDefault)(Le()),d8=ry(),p8=Nf(),vb=al(),gb=df(),y8=bi(),ly=yb();function m8(t){var e=t.thirdPartyLogins,r=t.useRegularLogin,n=t.brand,i=t.companyName,o=t.bgGradientFrom,s=t.bgGradientTo,a=t.onLoginClick,f=t.isLoading,d=t.gradient,m=t.onSignUpClick,v=t.className,y=t.style,w=(0,d8.useForm)(),b=w.register,A=w.handleSubmit,k=w.formState,N=w.reset,F=w.setValue,Y=k.errors,H=k.submitCount,Z=function(X){N(),F("email",X.email),F("password",X.password),a==null||a(X)},L="rounded-md text-sm font-medium",V="py-2.5 pl-3 text-base font-semibold "+(f?"bg-gray-200":"bg-gray-50"),S=o&&s&&d,W=H>0&&Y.email,te=H>0&&Y.password;return pt.default.createElement("div",{className:(0,mb.default)("h-full w-full py-14 px-4",S&&ly.gradients[d],S&&ly.grFrom[o],S&&ly.grTo[s],v),style:y},pt.default.createElement("div",{className:"flex flex-col items-center justify-center"},n,pt.default.createElement("form",{className:"bg-white shadow-lg rounded lg:w-2/3 md:w-3/4 max-w-lg w-full p-10 border border-secondary-200",onSubmit:A(Z)},pt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-2xl font-extrabold leading-6 text-gray-800"},"Login to ",i||"your account"),m&&pt.default.createElement("p",{tabIndex:0,className:"focus:outline-none text-sm mt-4 font-medium leading-none text-gray-500"},"Dont have account?",pt.default.createElement("a",{onClick:f?void 0:m,className:(0,mb.default)(`
                            hover:text-gray-500 focus:text-gray-500 focus:outline-none
                            focus:underline hover:underline text-sm font-medium leading-none
                            text-gray-800`,f?"cursor-not-allowed":"cursor-pointer")}," Sign up here")),pt.default.createElement("div",{className:"mt-4"}),e==null?void 0:e.map(function(X,le){return pt.default.createElement(g8,(0,uy.__assign)({},X,{disabled:f,key:le}))}),e&&r&&pt.default.createElement("div",{className:"w-full flex items-center justify-between py-5"},pt.default.createElement("hr",{className:"w-full bg-gray-400"}),pt.default.createElement("p",{className:"text-base font-medium leading-4 px-2.5 text-gray-400"},"OR"),pt.default.createElement("hr",{className:"w-full bg-gray-400"})),r&&pt.default.createElement(pt.default.Fragment,null,pt.default.createElement(gb.TextInput,{label:"Email",className:L,inputClassName:V,disabled:f,validation:W?"danger":"default",register:b("email",{required:!0,pattern:y8.regexpUtil.email})}),pt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",W?"Please enter a valid email":""),pt.default.createElement(gb.TextInput,{label:"Password",type:"password",className:L,inputClassName:V,disabled:f,validation:W?"danger":"default",register:b("password",{required:!0})}),pt.default.createElement("div",{className:"font-medium tracking-wide text-danger-500 text-sm mt-1 ml-1"},"\u200D",te?"Please enter your password":""),pt.default.createElement("div",{className:"mt-6"},pt.default.createElement(vb.Button,{size:"auto",type:"primary",className:"font-bold leading-none border rounded h-12 text-lg",disabled:f,htmlType:"submit"},f?pt.default.createElement(p8.Spinner,{size:"xs",className:"m-auto"}):"Log In"))))))}Tf.LoginPage=m8;var g8=function(t){var e=t.disabled,r=t.name,n=t.logo;return pt.default.createElement(vb.Button,{size:"auto",outline:!0,type:"secondary",disabled:e,className:"py-2.5 px-3 rounded-md flex items-center mt-3.5"},n,pt.default.createElement("p",{className:"text-base font-medium ml-4"},"Login With ",r))}});var Nf=xe(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});var At=ut();(0,At.__exportStar)(WS(),yt);(0,At.__exportStar)(cE(),yt);(0,At.__exportStar)(hE(),yt);(0,At.__exportStar)(Jc(),yt);(0,At.__exportStar)(_E(),yt);(0,At.__exportStar)(Zc(),yt);(0,At.__exportStar)($c(),yt);(0,At.__exportStar)(al(),yt);(0,At.__exportStar)(Np(),yt);(0,At.__exportStar)(SE(),yt);(0,At.__exportStar)(nb(),yt);(0,At.__exportStar)(ib(),yt);(0,At.__exportStar)(Gc(),yt);(0,At.__exportStar)(ob(),yt);(0,At.__exportStar)(sb(),yt);(0,At.__exportStar)(ab(),yt);(0,At.__exportStar)(df(),yt);(0,At.__exportStar)(lb(),yt);(0,At.__exportStar)(hb(),yt);(0,At.__exportStar)(pb(),yt);(0,At.__exportStar)(wb(),yt)});var vy=Ft(Le()),kb=Ft(sw());var tn=Ft(Le());function is(){return is=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},is.apply(this,arguments)}var fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fi||(fi={}));var aw=function(t){return t};var lw="beforeunload";var Ix="popstate";function fw(t){t===void 0&&(t={});var e=t,r=e.window,n=r===void 0?document.defaultView:r,i=n.history;function o(){var V=n.location,S=V.pathname,W=V.search,te=V.hash,X=i.state||{};return[X.idx,aw({pathname:S,search:W,hash:te,state:X.usr||null,key:X.key||"default"})]}var s=null;function a(){if(s)w.call(s),s=null;else{var V=fi.Pop,S=o(),W=S[0],te=S[1];if(w.length){if(W!=null){var X=m-W;X&&(s={action:V,location:te,retry:function(){Z(X*-1)}},Z(X))}}else F(V)}}n.addEventListener(Ix,a);var f=fi.Pop,d=o(),m=d[0],v=d[1],y=cw(),w=cw();m==null&&(m=0,i.replaceState(is({},i.state,{idx:m}),""));function b(V){return typeof V=="string"?V:hw(V)}function A(V,S){return S===void 0&&(S=null),aw(is({pathname:v.pathname,hash:"",search:""},typeof V=="string"?md(V):V,{state:S,key:Ax()}))}function k(V,S){return[{usr:V.state,key:V.key,idx:S},b(V)]}function N(V,S,W){return!w.length||(w.call({action:V,location:S,retry:W}),!1)}function F(V){f=V;var S=o();m=S[0],v=S[1],y.call({action:f,location:v})}function Y(V,S){var W=fi.Push,te=A(V,S);function X(){Y(V,S)}if(N(W,te,X)){var le=k(te,m+1),ae=le[0],ye=le[1];try{i.pushState(ae,"",ye)}catch{n.location.assign(ye)}F(W)}}function H(V,S){var W=fi.Replace,te=A(V,S);function X(){H(V,S)}if(N(W,te,X)){var le=k(te,m),ae=le[0],ye=le[1];i.replaceState(ae,"",ye),F(W)}}function Z(V){i.go(V)}var L={get action(){return f},get location(){return v},createHref:b,push:Y,replace:H,go:Z,back:function(){Z(-1)},forward:function(){Z(1)},listen:function(S){return y.push(S)},block:function(S){var W=w.push(S);return w.length===1&&n.addEventListener(lw,uw),function(){W(),w.length||n.removeEventListener(lw,uw)}}};return L}function uw(t){t.preventDefault(),t.returnValue=""}function cw(){var t=[];return{get length(){return t.length},push:function(r){return t.push(r),function(){t=t.filter(function(n){return n!==r})}},call:function(r){t.forEach(function(n){return n&&n(r)})}}}function Ax(){return Math.random().toString(36).substr(2,8)}function hw(t){var e=t.pathname,r=e===void 0?"/":e,n=t.search,i=n===void 0?"":n,o=t.hash,s=o===void 0?"":o;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function md(t){var e={};if(t){var r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));var n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}var Lt=Ft(Le());function Rx(t,e){if(!t)throw new Error(e)}var Dx=(0,Lt.createContext)(null),dw=(0,Lt.createContext)(null);function pw(t){let{basename:e="/",children:r=null,location:n,navigationType:i=fi.Pop,navigator:o,static:s=!1}=t;Fx()&&Rx(!1);let a=Px(e),f=(0,Lt.useMemo)(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof n=="string"&&(n=md(n));let{pathname:d="/",search:m="",hash:v="",state:y=null,key:w="default"}=n,b=(0,Lt.useMemo)(()=>{let A=Cx(d,a);return A==null?null:{pathname:A,search:m,hash:v,state:y,key:w}},[a,d,m,v,y,w]);return b==null?null:(0,Lt.createElement)(Dx.Provider,{value:f},(0,Lt.createElement)(dw.Provider,{children:r,value:{location:b,navigationType:i}}))}function Fx(){return(0,Lt.useContext)(dw)!=null}function Cx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=t.charAt(e.length);return r&&r!=="/"?null:t.slice(e.length)||"/"}var Px=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function yw(t){let{basename:e,children:r,window:n}=t,i=(0,tn.useRef)();i.current==null&&(i.current=fw({window:n}));let o=i.current,[s,a]=(0,tn.useState)({action:o.action,location:o.location});return(0,tn.useLayoutEffect)(()=>o.listen(a),[o]),(0,tn.createElement)(pw,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o})}var iD=Ft(SS());var Xt=Ft(Le()),ks=Ft(Nf());var _b=Ft(Le());Wa();var yo=class extends _b.Component{constructor(e={state:Hr}){super(e);this.statemgr=Hr;this.UPDATED=[];e.state&&(this.statemgr=e.state);let r=this.setState.bind(this);this.setState=n=>{this.UPDATED=Object.keys(n),r(n),typeof n=="object"&&Hr.setState(n)},setTimeout(()=>{let n={};for(let i in this.state)this.statemgr.subscribeTrigger(i,o=>{if(typeof this=="undefined")this.statemgr.unsubscribeTrigger(i);else{let a=this.UPDATED.indexOf(i);a>-1?this.UPDATED.splice(a,1):r({[i]:o})}});Object.keys(n).length>0&&r(n)},.001)}};var zn=Ft(Le()),cy=class extends zn.Component{render(){return zn.default.createElement("div",null,zn.default.createElement("div",{style:{height:200,border:"1px solid black",borderRadius:5}},"User Card + Summary"),zn.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Selectable summary tiles"),zn.default.createElement("div",{style:{height:300,border:"1px solid black",borderRadius:5}},"Descending or popup scrollview of selected timelines/details/summaries.",zn.default.createElement("br",null),zn.default.createElement("br",null),"E.g. Sleep timeline adjacent to events, and chart"))}};var xt=Ft(Le());function Sb(t=""){return`${t+Math.floor(Math.random()+Math.random()*Math.random()*1e16)}`}gs();var fy=class extends yo{constructor(){super(...arguments);this.id=Sb("permissions");this.onclicked=()=>{let e=document.getElementById(this.id+"userid").value,r=document.getElementById(this.id+"name").value,n=document.getElementById(this.id+"perms"),i=n.options[n.selectedIndex].value,o=document.getElementById(this.id+"peers"),s=o.options[o.selectedIndex].value;s==="granting"?lt.authorizeUser(lt.currentUser,lt.currentUser._id,"me",e,r,[n]):s==="asking"&&lt.authorizeUser(lt.currentUser,e,r,lt.currentUser._id,"me",[i])}}componentDidMount(){return re(this,null,function*(){let e=yield lt.getAuthorizations(),r=document.getElementById(this.id+"auths");e&&e.forEach(n=>{r==null||r.insertAdjacentHTML("beforeend",`
                    <tr>
                        <td>Permissions: ${n.authorizations.join(",")}</td>
                        <td>Authorized: ${n.authorizedName}</td>
                        <td>Authorizer: ${n.authorizerName}</td>
                        <td>Status: ${n.status}</td>
                    </tr>`)})})}render(){return xt.default.createElement("div",null,xt.default.createElement("div",{style:{height:400,border:"1px solid black",borderRadius:5}},"Groups and Authorizations",xt.default.createElement("br",null),"User Id or Email",xt.default.createElement("br",null),xt.default.createElement("input",{id:this.id+"userid",type:"text",placeholder:"example@example.com"}),"Name",xt.default.createElement("br",null),xt.default.createElement("input",{id:this.id+"name",type:"text",placeholder:"example@example.com"}),xt.default.createElement("br",null),"Permssions:",xt.default.createElement("br",null),xt.default.createElement("select",{id:this.id+"perms"},xt.default.createElement("option",{value:"peer",selected:!0},"Peer (read/write/chat)"),xt.default.createElement("option",{value:"control"},"Admin (hand over control)")),xt.default.createElement("br",null),"Asking or Granting?",xt.default.createElement("br",null),xt.default.createElement("select",{id:this.id+"peers"},xt.default.createElement("option",{value:"asking",selected:!0},"Asking (get access)"),xt.default.createElement("option",{value:"granting"},"Granting (give access)")),xt.default.createElement("br",null),xt.default.createElement("button",{id:this.id+"submit"},"Submit")),xt.default.createElement("div",{onClick:this.onclicked,style:{height:600,border:"1px solid black",borderRadius:5}},"Summaries of Connected Peers",xt.default.createElement("table",{id:this.id+"auths"})))}};var xs=Ft(Le()),hy=class extends xs.Component{render(){return xs.default.createElement("div",null,xs.default.createElement("div",null,"Profile Deets + Editing"),xs.default.createElement("div",null,"More fine grained permissions and opt-in stuff"))}};var Ob=Ft(Nf());mp();Wa();var yy=Ft(Le());kc();gs();kc();Sp();var Ti=class{constructor(){}static genSineWave(e=20,r=1,n=1,i=512,o=0,s=1){for(var a=[],f=[],d=1/i,m=0;m<n;m+=d){var v=Math.sin(2*Math.PI*e*m)*r;v+=Math.sin(2*Math.PI*o*m)*s,a.push(v),f.push(m)}return[f,a]}static getSineAmplitude(e=20,r=1,n=0,i=0){return Math.sin(this.TWO_PI*e*n+i)*r}static genSawtoothWave(e=1,r=1,n=1,i=512){let o=[],s=[],a=1/i;for(var f=0;f<n;f+=a){let d=Math.PI*f*e,m=Math.cos(d)/Math.sin(d),v=-f*Math.PI*.5/Math.atan(m);s.push(f),o.push(v)}return[s,o]}static genSquareWave(e=1,r=1,n=1,i=512,o=!1){let s=[],a=[],f=1/i;for(let d=0;d<n;d+=f){let m;Math.sin(e*d)<0?m=-r:m=r}return[a,s]}static mean(e){var r=e.reduce((n,i)=>i+=n);return r/e.length}static mode(e){return e.sort((r,n)=>e.filter(i=>i===r).length-e.filter(i=>i===n).length).pop()}static std(e,r=void 0){let n=r;r||(n=this.mean(e));let i=0;for(let o=0;o<e.length;o++){let s=e[o]-n;i+=s*s}return Math.sqrt(i/e.length)}static relError(e=[],r=[],n=!0){if(e.length!==r.length)throw new Error("Input arrays of same length!");let i=e.length,o=[];for(let s=0;s<i;s++){let a=(e[s]-r[s])/e[s];n&&(a=Math.abs(a)),o.push(a)}return o}static informationEntropy(e=[]){let r=[],n=e.length;for(let i=0;i<n;i++){let o=e[i]*Math.log(e[i]);isNaN(o)&&(o=0),r.push(o)}return r}static zscore(e){let r=this.mean(e),n=this.std(e,r),i=[];for(let o=0;o<e.length;o++)i.push((e[o]-r)/n);return i}static variance(e){var r=this.mean(e);return e.reduce((n,i)=>n+Vm(i-r,2),0)/e.length}static linspace(e,r,n){var i=new Array(n);n<2&&(n=2);for(var o=(r-e)/(n-1),s=0;s<n;s++)i[s]=e+o*s;return i}static dot(e,r){for(var n=0,i=0;i<e.length;i++)n+=e[i]*r[i];return n}static cross3D(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}static magnitude(e){var r=0;return e.forEach(n=>{r+=n*n}),Math.sqrt(r)}static distance(e,r){var n=0;return e.forEach((i,o)=>{n+=(r[o]-i)*(r[o]-i)}),Math.sqrt(n)}static normalize(e){let r=1/this.magnitude(e),n=new Array(e.length);return e.forEach((i,o)=>{n[o]=i*r}),n}static makeVec(e,r){var n=new Array(e.length);return e.forEach((i,o)=>{n.push(r[o]-i)}),n}static vecsub(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]-r[i];return n}static vecadd(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]+r[i];return n}static vecmul(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]*r[i];return n}static vecdiv(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]/r[i];return n}static vecscale(e,r){let n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]*r;return n}static calcNormal(e,r,n,i=!0){var o=makeVec(e,r),s=makeVec(e,n);return i===!0?Math3D.normalize(this.cross3D(o,s)):Math3D.normalize(this.cross3D(s,o))}static quadraticFormula(e,r,n){let i=Math.sqrt(r*r-4*e*n);if(!isNaN(i))return["complex","complex"];let o=1/(2*e);if(i===0)return[r*o];let s=-r;return[(s+i)*o,(s-i)*o]}static newtonsMethod(e=s=>Math.pow(s,5)+s*s-s-.2,r=0,n=1,i=.01,o=10){let s=[];for(let a=0;a<o;a++){let f=r+(n-r)*a/(o-1),d=e(f),m=e(f+i),v=(m-d)/i,y=f+i;for(;Math.abs(v)>i;){let A=-d/N,k=y+A;d=m,m=e(k);let N=(m-d)/(k-y)}let w,b=s.find((A,k)=>{if(Math.abs(xn1-A)<i)return w=k,!0});b?s[w]=(xn1+b)*.5:s.push(xn1)}return s}static makeVec(e,r){var n=[];return e.forEach((i,o)=>{n.push(r[o]-i)}),n}static transpose(e){return e[0].map((r,n)=>e.map(i=>i[n]))}static matmul(e,r){for(var n=e.length,i=e[0].length,o=r.length,s=r[0].length,a=new Array(n),f=0;f<n;++f){a[f]=new Array(s);for(var d=0;d<s;++d){a[f][d]=0;for(var m=0;m<i;++m)a[f][d]+=e[f][m]*r[m][d]}}return a}static matscale(e,r){let n=[];for(var i=0;i<e.length;i++){n[i]=[];for(let o=0;o<e[0].length;o++)n[i][o]=e[i][o]*r}return n}static matadd(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]+r[o][i]}return n}static matsub(e,r){let n=[];for(let o=0;o<e.length;o++){n[o]=[];for(var i=0;i<e[0].length;i++)n[o][i]=e[o][i]-r[o][i]}return n}static histogram(e=[],r=1,n=void 0){let i=[...e];i.sort(function(d,m){return d-m});let o=Math.min(...i);if(typeof n=="number"){let d=Math.max(...i);r=Math.abs((d-o)/(n-1))}let s=o,a=[],f=[];for(let d=0;d<i.length;d++){let m=r*s;if(i[d]>o+m){s++,m+=r;let y=o+m+m*.5;a.push(y),f.push(0)}f[f.length-1]++}return[a,f]}static normalDistribution(e=[],r=!0,n=1e-4){let i=this.mean(e),o=this.variance(e),s=e.length,a=[],f=1/(this.TWO_PI*o),d=1/o,m=0;for(let v=0;v<s;v++){let y=Math.exp(-.5*Math.pow((e[v]-i)*d,2))*f;y<n&&(y=0),a.push(y),m+=y}if(r){let v=1/m;a=a.map(y=>y*v)}return a}static expectedValue(e=[],r=this.normalDistribution(e)){return e.reduce((n,i,o)=>n+i*r[o])}static originMoment(e=[],r=this.normalDistribution(e),n=1){return e.reduce((i,o,s)=>i+Math.pow(o,n)*r[s])}static centralMoment(e=[],r=this.normalDistribution(e),n=1){let i=this.mean(e);return e.reduce((o,s,a)=>o+Math.pow(s-i,n)*r[a]/e.length)}static linearDiscriminantAnalysis(e=[],r=[]){let n=this.mean(e),i=this.mean(r),o=this.cov1d(e,r),s=this.normalDistribution(e),a=[];for(let f=0;f<e.length;f++)a.push(x[f]*o*i-.5*n*o*i+Math.log10(s[f]));return a}static conv1D(e=[],r=[1/3,1/3,1/3],n=Math.floor(r.length*.5)){let i=[],o=1/r.length;if(n>0){let f=new Array(n).fill(0);e=[...f,...e,...f]}let s=Math.floor(r.length*.5),a=e.length-r.length+s;for(let f=s;f<a;f++){let d=0;for(let m=0;m<r.length;m++)d+=e[f-s]*r[m];i.push(d*o)}return i}static conv2D(e=[[],[],[]],r=[[],[],[]],n=0){let i=new Array(e.length-Math.ceil(r.length*.5)).fill([]),o,s=Ti.transpose(s);if(n>0){let k=new Array(n).fill(0);o=Ti.transpose(e);for(let N=0;N<o.length;N++)o[N]=[...k,...o[N],...k];e=Ti.transpose(o);for(let N=0;N<e.length;N++)e[N]=[...k,...e[N],...k]}let a=Math.floor(r[0].length*.5),f=Math.floor(s[0].length*.5),d=e[0].length-r[0].length+a,m=o[0].length-s[0].length+f,v=1/(r[0].length*s[0].length),y=d*m,w=a,b,A=f;for(;w<y;){let k=0;b=w%e[0].length,b===0&&A++;for(let N=0;N<r[0].length;N++){for(let F=0;F<s[0].length;N++)k+=e[A-f+F][b-a+N]*r[F][N];i[A].push(k*v)}w++}return i}static cov2d(e){var r=this.transpose(e),n=[],i=[],o=[];e.forEach((A,k)=>{i.push(this.mean(A))}),r.forEach((A,k)=>{o.push(this.mean(A))}),e.forEach((A,k)=>{n.push([]);for(var N=0;N<A.length;N++)n[k].push((e[k][N]-i[k])*(e[k][N]-o[N])/(A.length-1))});for(var s=this.transpose(n),a=n.length,f=n[0].length,d=s.length,m=s[0].length,v=new Array(a),y=0;y<a;++y){v[y]=new Array(m);for(var w=0;w<m;++w){v[y][w]=0;for(var b=0;b<f;++b)v[y][w]+=n[y][b]*s[b][w]/(e[0].length-1)}}return v}static cov1d(e=[],r=[]){return this.cov2d([e,r])}static cov3d(e=[],r=[],n=[]){return[[this.cov1d(e,e),this.cov1d(e,r),this.cov1d(e,n)],[this.cov1d(r,e),this.cov1d(r,r),this.cov1d(r,n)],[this.cov1d(n,e),this.cov1d(n,r),this.cov1d(n,n)]]}static covNd(e=[]){let r=[];e.forEach((n,i)=>{r.push([]),e.forEach((o,s)=>{r[i].push(this.cov1d(n,o))})})}static eigens2x2(e=[[1,2],[3,4]]){let r=e[0][0]*e[1][1]-e[0][1]*e[1][0],n=(e[0][0]+e[1][1])*.5,i=Math.sqrt(n*n-r),o=n+i,s=n-i;return[o,s]}static eigenvectors2x2(e=[[1,2],[3,4]],r=[1,2]){let n=[-e[0][1],e[0][0]-r[0]];n[0]===0&&n[1]===0&&(n[0]=e[1][1]-r[0],n[1]=-e[1][0]);let i=[-e[0][1],e[0][0]-r[1]];return i[0]===0&&i[1]===0&&(i[0]=e[1][1]-r[1],i[1]=-e[1][0]),[n,i]}static fastpca2d(e,r){let n=this.cov1d(e,r),i=this.eigens2x2(n);i[1]>i[0]&&i.reverse();let o=this.eigenvectors2x2(n,i);return console.log(i,o),[i,o]}static crosscorrelation(e,r){var n=[...r,...Array(r.length).fill(0)],i=this.mean(e),o=this.mean(r),s=e.reduce((y,w)=>y+=Math.pow(w-i,2));s=Math.sqrt(s);var a=r.reduce((y,w)=>y+=Math.pow(w-i,2));a=Math.sqrt(a);for(var f=1/(s*a),d=new Array(e.length).fill(0),m=0;m<e.length;m++){var v=e.reduce((y,w,b)=>y+=(w-i)*(n[m+b]-o));d[m]=v*f}return d}static autocorrelation(e){var r=[...e,...Array(e.length).fill(0)],n=this.mean(e),i=e.reduce((d,m)=>d+=Math.pow(m-n,2));i=Math.sqrt(i);for(var o=1/(i*i),s=new Array(e.length).fill(0),a=0;a<e.length;a++){var f=e.reduce((d,m,v)=>d+=(m-n)*(r[a+v]-n));s[a]=f*o}return s}static correlograms(e=[[],[]]){var r=[];return e.forEach((n,i)=>{e.forEach((o,s)=>{s>=i&&r.push(Ti.crosscorrelation(n,o))})}),r}static sma(e=[],r){for(var n=[],i=0;i<e.length;i++)if(i==0)n.push(e[0]);else if(i<r){var o=e.slice(0,i+1);n.push(o.reduce((s,a)=>a+=s)/(i+1))}else{var o=e.slice(i-r,i);n.push(o.reduce((a,f)=>f+=a)/r)}return n}static sum(e=[]){if(e.length>0){var r=e.reduce((n,i)=>i+=n);return r}else return 0}static reduceArrByFactor(e,r=2){return e.filter((i,o)=>o%r===0)}static makeArr(e,r,n){for(var i=[],o=(r-e)/(n-1),s=0;s<n;s++)i.push(e+o*s);return i}static interpolateArray(e,r,n=1){var i=function(y,w,b){return(y+(w-y)*b)*n},o=new Array,s=new Number((e.length-1)/(r-1));o[0]=e[0];for(var a=1;a<r-1;a++){var f=a*s,d=new Number(Math.floor(f)).toFixed(),m=new Number(Math.ceil(f)).toFixed(),v=f-d;o[a]=i(e[d],e[m],v)}return o[r-1]=e[e.length-1],o}static isExtrema(e,r="peak"){let n=[...e];if(n.length%2===0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}}else if(r==="valley"){if(o<Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}}else if(o<Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s<=n[Math.floor(n.length*.5)]){i=!1;break}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}else if(o>Math.floor(n.length*.5)&&s>=n[Math.floor(n.length*.5)]){i=!1;break}}}return i}else return}static isCriticalPoint(e,r="peak"){let n=[...e];if(n.length%2===0&&n.pop(),e.length>1){let i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(r==="peak"){if(o<n.length*.5&&s<=0){i=!1;break}else if(o>n.length*.5&&s>0){i=!1;break}}else if(r==="valley"){if(o<n.length*.5&&s>=0){i=!1;break}else if(o>n.length*.5&&s<0){i=!1;break}}else if(o<n.length*.5&&s>=0){i=!1;break}else if(o>n.length*.5&&s<0){i=!1;break}}if(r!=="peak"&&r!=="valley"&&i===!1){i=!0;for(let o=0;o<n.length;o++){let s=n[o];if(o<n.length*.5&&s<=0){i=!1;break}else if(o>n.length*.5&&s>0){i=!1;break}}}return i}else return}static getPeakThreshold(e,r,n){let i,o=e.filter((s,a)=>{if(r.indexOf(a)>-1)return!0});return n===0?i=this.mean(o):i=(n+this.mean(o))*.5,i}static column(e,r){let n=new Array(e.length).fill(0).map(()=>new Array(1).fill(0));for(let i=0;i<e.length;i++)n[i][0]=e[i][r];return n}static flatten_vector(e){let r=[];for(let n=0;n<e.length;n++)r[n]=e[n][0];return r}static squared_difference(e,r){let n=0;for(let i=0;i<e.length;i++)n=n+Math.pow(e[i]-r[i],2);return n}static shift_deflate(e,r,n){let i=Math.sqrt(this.matmul(this.transpose(n),n)),o=this.matscale(n,1/i),s=this.matscale(this.matmul(o,this.transpose(o)),r);return this.matsub(e,s)}static eigenvalue_of_vector(e,r){return ev=this.matmul(this.matmul(this.transpose(r),e),r),ev}static power_iteration(e,r=1e-5,n=1e3){let i=e.length,o=new Array(i).fill(0).map(()=>new Array(1).fill(Math.sqrt(i))),s=this.eigenvalue_of_vector(e,o),a=1,f=0;for(;a>r&&f<n;){let d=JSON.parse(JSON.stringify(s)),m=this.matmul(e,o);o=this.normalize(m),s=this.eigenvalue_of_vector(e,o),a=Math.abs(s-d),f++}return[s,o]}static eigens(e,r=1e-4,n=1e3){let i=[],o=[];for(let s=0;s<e.length;s++){let a=this.power_iteration(e,r,n),f=a[0],d=a[1];i[s]=f,o[s]=this.flatten_vector(d),e=this.shift_deflate(e,f,d)}return[i,o]}static pca(e,r=1e-5){let n=e.length,i=new Array(n),o=new Array(n),s=this.transpose(e);i[0]=this.column(e,0);let a=1,f=0;for(;espilon>r;){f++,o[0]=this.matmul(s,i[0]);let m=this.matmul(this.transpose(i[0]),i[0]);o[0]=this.matscale(o[0],1/m);let v=Math.sqrt(this.matmul(this.transpose(o[0]),o[0]));o[0]=this.matscale(o[0],1/v);let y=this.matmul(e,o[0]),w=this.matmul(this.transpose(o[0]),o[0]);y=this.matscale(y,1/w),a=this.squared_difference(i[0],y),i[0]=JSON.parse(JSON.stringify(y))}return this.matmul(this.transpose(i[0]),i[0])}static p300(e=[],r=[],n=[],i=256){let o=Math.floor(i/10),s=this.sma(r,o),a=this.peakDetect(s,"peak",o),f=this.mean(s),d=this.std(s,f),m=0,v=[];return a.length>0&&e.forEach((y,w)=>{for(;n[a[m]]<y+200&&(m++,!!a[m]););let b=0,A=[];for(;n[a[m+b]]<y+600&&(A.push(m+b),b++,!!a[m+b]););if(A.length>1){let k=[];A.forEach(Y=>{k.push(s[a[Y]])});let N=Math.max(...k),F=A[k.indexOf(N)];v.push({event_timestamp:y,event_index:w,peak_timestamp:n[[a[F]]],signal_index:[a[F]],signal_amplitude:r[[a[F]]],zscore:(s[a[F]]-f)/d})}else A.length===1&&v.push({event_timestamp:y,event_index:w,peak_timestamp:n[a[A[0]]],signal_index:a[A[0]],signal_amplitude:r[[a[A[0]]]],zscore:(s[a[A[0]]]-f)/d})}),v}},Pe=Ti;ze(Pe,"TWO_PI",Math.PI*2),ze(Pe,"C",299792458),ze(Pe,"G",66743e-15),ze(Pe,"h",662607015e-42),ze(Pe,"R",8314.32),ze(Pe,"Ra",287),ze(Pe,"H",69.3),ze(Pe,"kbar",1054571817e-43),ze(Pe,"kB",1380649e-29),ze(Pe,"ke",89875517923e-1),ze(Pe,"me",91093837015e-41),ze(Pe,"mp",167262192369e-38),ze(Pe,"mn",167492749804e-38),ze(Pe,"P0",101325),ze(Pe,"T0",288.15),ze(Pe,"p0",1.225),ze(Pe,"Na",60220978e16),ze(Pe,"y",1.405),ze(Pe,"M0",28.96643),ze(Pe,"g0",9.80665),ze(Pe,"Re",6378100),ze(Pe,"B",1458e-9),ze(Pe,"S",110.4),ze(Pe,"Sigma",365e-12),ze(Pe,"imgkernels",{edgeDetection:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],boxBlur:[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],sobelLeft:[[1,0,-1],[2,0,-2],[1,0,-1]],sobelRight:[[-1,0,1],[-2,0,2],[-1,0,1]],sobelTop:[[1,2,1],[0,0,0],[-1,-2,-1]],sobelBottom:[[-1,2,1],[0,0,0],[1,2,1]],identity:[[0,0,0],[0,1,0],[0,0,0]],gaussian3x3:[[1,2,1],[2,4,2],[1,2,1]],guassian7x7:[[0,0,0,5,0,0,0],[0,5,18,32,18,5,0],[0,18,64,100,64,18,0],[5,32,100,100,100,32,5],[0,18,64,100,64,18,0],[0,5,18,32,18,5,0],[0,0,0,5,0,0,0]],emboss:[[-2,-1,0],[-1,1,1],[0,1,2]],sharpen:[[0,-1,0],[-1,5,-1],[0,-1,0]]}),ze(Pe,"integral",(e=i=>i,r=[],n=.01)=>{let i=0;for(let o=r[0];o<r[1];o+=n)i+=e(o)*n;return i}),ze(Pe,"dintegral",(e=(o,s)=>o+s,r=[[],[]],n=.01,i=n)=>{let o=0;for(let s=r[0][0]+n;s<r[0][1];s+=n)for(let a=r[1][0]+i;a<r[1][1];a+=i)o+=e(s,a)*n*i;return o}),ze(Pe,"tintegral",(e=(s,a,f)=>s+a+f,r=[[],[],[]],n=.01,i=n,o=n)=>{let s=0;for(let a=r[0][0]+n;a<r[0][1];a+=n)for(let f=r[1][0]+i;f<r[1][1];f+=i)for(let d=r[2][0]+o;d<r[2][1];d+=o)s+=e(a,f,d)*n*i*o;return s}),ze(Pe,"pintegral",(e=i=>i,r=[],n=.01)=>{let i=0,o,s;for(let a=r[0];a<r[1];a+=n)o=s,s=e(a),o&&(i+=Ti.distance([0,o],[n,s]));return i}),ze(Pe,"peakDetect",(e,r="peak",n=49)=>{let i=Math.floor(n*.5),o=[];for(let s=0;s<e.length-n;s++)Ti.isExtrema(e.slice(s,s+n),r)&&o.push(s+i-1);return o});var Os=200,py=50,ml=Pe.genSineWave(.9,500,Os,py,60,50),dy=Pe.genSineWave(.9,700,Os,py,60,50),Eb=Pe.linspace(Date.now()-Os*1e3,Date.now(),200);ml=Pe.vecadd(ml,new Array(ml.length).fill(5e3));dy=Pe.vecadd(ml,new Array(dy.length).fill(5500));var If=6,v8=2,w8=jn.PPGStruct("dummyppg",{red:ml,ir:dy,times:Eb,count:Os*py,startTime:Eb[0]}),Af=[],_8=[];for(let t=Os/60;t>0;t--){let e=0;for(;e<If;)Af.push(Date.now()-t*Os+e/1e3),_8.push(If),w8.beat_detect.breaths.push({t:Af[Af.length-1],rate:If}),e++;If-=v8}var PR=jn.IMUStruct("dummyimu",{}),LR=jn.ECGStruct("dummyecg",{}),MR=jn.EMGStruct("dummyemg",{});function bb(){return re(this,null,function*(){let t=yield S8(),e=yield E8(t.user,t.peer),r={users:t,auths:e};return console.log("results",r),r})}function S8(){return re(this,null,function*(){let t=yield Oc(),e=yield wS();return console.log("user",t,"peer",e),{user:t,peer:e}})}function E8(){return re(this,arguments,function*(t=bc,e=xc){let r=yield lt.authorizeUser(t,t._id,void 0,e._id,void 0,["peer"]),n=yield Bn.authorizeUser(e,t._id,void 0,e._id,void 0,["peer"]);return console.log("user-owned auth:",r,`
peer-owned auth:`,n),console.log("auths",r,n),{userauth:r,peerauth:n}})}var my=class extends yo{componentDidMount(){return re(this,null,function*(){let e=yield bb();console.log(e)})}render(){return yy.default.createElement("div",null,yy.default.createElement("div",null,"DEV TEST (see console -- Press F12)"))}};gs();var b8=()=>Xt.default.createElement("img",{src:"src/assets/myalyce.png",width:"100px",alt:"MyAlyce"}),xb=!0,gy=class extends yo{constructor(){super(...arguments);this.state={isLoggedIn:!1,navOpen:!1,route:"/"}}onLoginClick(e){il(e.email,e.password).then(r=>re(this,null,function*(){let n=yield ol(r);n&&(yield ss(n))}))}onGoogleLoginClick(){il("google").then(e=>re(this,null,function*(){let r=yield ol(e);r&&(yield ss(r))}))}setNavOpen(e){this.setState({navOpen:e})}render(){var e,r;return console.log(this.state.route),Xt.default.createElement("div",null,!this.state.isLoggedIn&&!xb&&Xt.default.createElement(Ob.Login,{useRegularLogin:!0,onLoginClick:this.onLoginClick,thirdPartyLogins:[{name:"google",logo:Xt.default.createElement("img",{src:"src/assets/google.png",width:"50px"}),onClick:this.onGoogleLoginClick}]}),(this.state.isLoggedIn||xb)&&Xt.default.createElement("div",null,Xt.default.createElement(ks.NavDrawer,{fixed:"left",zIndex:102,isOpen:this.state.navOpen,brand:b8(),onBackdropClick:()=>this.setState({navOpen:!1}),menuItems:[{type:"action",icon:"D",onClick:()=>this.setState({route:"/dashboard",navOpen:!1}),title:"Dashboard"},{type:"action",icon:"P",onClick:()=>this.setState({route:"/peers",navOpen:!1}),title:"Peers & Groups"},{type:"action",icon:"S",onClick:()=>this.setState({route:"/settings",navOpen:!1}),title:"Profile Settings"},{type:"action",icon:"D",onClick:()=>this.setState({route:"/dev",navOpen:!1}),title:"DEV MODE"}]}),Xt.default.createElement("div",{id:"view"},Xt.default.createElement(ks.TopBar,{zIndex:0,onMenuExpand:()=>{let n=!this.state.navOpen;this.setState({navOpen:n})},rightNavItems:[{children:Xt.default.createElement(ks.Avatar,{dataState:"done",imgSrc:"src/assets/person.png",size:"xs",status:"online",name:{first:(e=lt.currentUser)==null?void 0:e.firstName,last:(r=lt.currentUser)==null?void 0:r.lastName},backgroundColor:"lightblue"}),onClick:()=>{}},{children:Xt.default.createElement("p",{style:{fontSize:"16px"}},"logout"),onClick:()=>{}}]}),Xt.default.createElement("div",{id:"viewcontent"},Xt.default.createElement("div",{id:"route"},(this.state.route.includes("dashboard")||this.state.route==="/"||this.state.route==="")&&Xt.default.createElement(cy,null),this.state.route.includes("peers")&&Xt.default.createElement(fy,null),this.state.route.includes("settings")&&Xt.default.createElement(hy,null),this.state.route.includes("dev")&&Xt.default.createElement(my,null))))))}};var x8=!0;x8&&document.head.insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="dist/app.css" type="text/css" />');kb.default.render(vy.default.createElement(yw,null,vy.default.createElement(gy,null)),document.getElementById("react"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * React Router DOM v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=app.js.map
